{"url":"https://api.github.com/repos/pydantic/pydantic/issues/7228","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/7228/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/7228/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/7228/events","html_url":"https://github.com/pydantic/pydantic/issues/7228","id":1863649856,"node_id":"I_kwDOBWBCuM5vFQpA","number":7228,"title":"docs(typo): `Field(validate_defaults=True)` should be `validate_default=True`","user":{"login":"lmmx","id":2979452,"node_id":"MDQ6VXNlcjI5Nzk0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/2979452?v=4","gravatar_id":"","url":"https://api.github.com/users/lmmx","html_url":"https://github.com/lmmx","followers_url":"https://api.github.com/users/lmmx/followers","following_url":"https://api.github.com/users/lmmx/following{/other_user}","gists_url":"https://api.github.com/users/lmmx/gists{/gist_id}","starred_url":"https://api.github.com/users/lmmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmmx/subscriptions","organizations_url":"https://api.github.com/users/lmmx/orgs","repos_url":"https://api.github.com/users/lmmx/repos","events_url":"https://api.github.com/users/lmmx/events{/privacy}","received_events_url":"https://api.github.com/users/lmmx/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":5233082176,"node_id":"LA_kwDOBWBCuM8AAAABN-p_QA","url":"https://api.github.com/repos/pydantic/pydantic/labels/bug%20V2","name":"bug V2","color":"ee0701","default":false,"description":"Bug related to Pydantic V2"},{"id":6016046429,"node_id":"LA_kwDOBWBCuM8AAAABZpWVXQ","url":"https://api.github.com/repos/pydantic/pydantic/labels/pending","name":"pending","color":"8E4762","default":false,"description":"Is unconfirmed"}],"state":"closed","locked":false,"assignee":{"login":"hramezani","id":3122442,"node_id":"MDQ6VXNlcjMxMjI0NDI=","avatar_url":"https://avatars.githubusercontent.com/u/3122442?v=4","gravatar_id":"","url":"https://api.github.com/users/hramezani","html_url":"https://github.com/hramezani","followers_url":"https://api.github.com/users/hramezani/followers","following_url":"https://api.github.com/users/hramezani/following{/other_user}","gists_url":"https://api.github.com/users/hramezani/gists{/gist_id}","starred_url":"https://api.github.com/users/hramezani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hramezani/subscriptions","organizations_url":"https://api.github.com/users/hramezani/orgs","repos_url":"https://api.github.com/users/hramezani/repos","events_url":"https://api.github.com/users/hramezani/events{/privacy}","received_events_url":"https://api.github.com/users/hramezani/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"hramezani","id":3122442,"node_id":"MDQ6VXNlcjMxMjI0NDI=","avatar_url":"https://avatars.githubusercontent.com/u/3122442?v=4","gravatar_id":"","url":"https://api.github.com/users/hramezani","html_url":"https://github.com/hramezani","followers_url":"https://api.github.com/users/hramezani/followers","following_url":"https://api.github.com/users/hramezani/following{/other_user}","gists_url":"https://api.github.com/users/hramezani/gists{/gist_id}","starred_url":"https://api.github.com/users/hramezani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hramezani/subscriptions","organizations_url":"https://api.github.com/users/hramezani/orgs","repos_url":"https://api.github.com/users/hramezani/repos","events_url":"https://api.github.com/users/hramezani/events{/privacy}","received_events_url":"https://api.github.com/users/hramezani/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2023-08-23T16:22:49Z","updated_at":"2025-01-27T10:40:34Z","closed_at":"2023-08-23T16:36:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Initial Checks\r\n\r\n- [X] I confirm that I'm using Pydantic V2\r\n\r\n### Description\r\n\r\nGot a bit confused about validation of defaults which I knew I'd seen, firstly I expected it to be in the section on [model config](https://docs.pydantic.dev/latest/usage/model_config/) (maybe an opportunity to put a link in there to the validators section?)\r\n\r\nWhen I looked around some more I was led to [Validation of default valuesÂ¶](https://docs.pydantic.dev/latest/usage/validators/#validation-of-default-values):\r\n\r\n> Validators won't run when the default value is used. This applies both to `@field_validator` validators and `Annotated` validators. You can force them to run with `Field(validate_defaults=True)`. Setting `validate_default` to True has the closest behavior to using `always=True` in validator in Pydantic v1. However, you are generally better off using a `@model_validator(mode='before')` where the function is called before the inner validator is called.\r\n\r\nI ran the code section as written\r\n\r\n> `Field(validate_defaults=True)`...\r\n\r\nafter scratching my head for a second I realised there's a typo, in the 2nd usage it changes to the correct form:\r\n\r\n> Setting `validate_default` to True...\r\n\r\nLooks like a single instance\r\n\r\nhttps://github.com/pydantic/pydantic/blob/d110b47803eb484bbc85cf9a2105e24a5852c2e2/docs/usage/validators.md?plain=1#L269\r\n\r\n### Example Code\r\n\r\n_No response_\r\n\r\n### Python, Pydantic & OS Version\r\n\r\n```Text\r\npydantic version: 2.1.1\r\n        pydantic-core version: 2.4.0\r\n          pydantic-core build: profile=release pgo=true mimalloc=true\r\n                 install path: /home/louis/miniconda3/lib/python3.10/site-packages/pydantic\r\n               python version: 3.10.4 (main, Mar 31 2022, 08:41:55) [GCC 7.5.0]\r\n                     platform: Linux-5.15.0-76-generic-x86_64-with-glibc2.31\r\n     optional deps. installed: ['typing-extensions']\r\n```\r\n\r\n\r\nSelected Assignee: @hramezani\r\n\r\n- Patched in #7229","closed_by":{"login":"adriangb","id":1755071,"node_id":"MDQ6VXNlcjE3NTUwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1755071?v=4","gravatar_id":"","url":"https://api.github.com/users/adriangb","html_url":"https://github.com/adriangb","followers_url":"https://api.github.com/users/adriangb/followers","following_url":"https://api.github.com/users/adriangb/following{/other_user}","gists_url":"https://api.github.com/users/adriangb/gists{/gist_id}","starred_url":"https://api.github.com/users/adriangb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriangb/subscriptions","organizations_url":"https://api.github.com/users/adriangb/orgs","repos_url":"https://api.github.com/users/adriangb/repos","events_url":"https://api.github.com/users/adriangb/events{/privacy}","received_events_url":"https://api.github.com/users/adriangb/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/7228/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/7228/timeline","performed_via_github_app":null,"state_reason":"completed"}