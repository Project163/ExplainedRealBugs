[{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480246418","html_url":"https://github.com/pydantic/pydantic/issues/462#issuecomment-480246418","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/462","id":480246418,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDI0NjQxOA==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T11:46:29Z","updated_at":"2019-04-05T11:46:29Z","body":"I agree it shouldn't cause an error.\r\n\r\nI would say the best option would be to use the result of `str(secret_str)`?\r\n\r\n@Atheuz you did all the work, what's your feeling?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480246418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2255567775,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI1NTU2Nzc3NQ==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2255567775","actor":{"login":"Atheuz","id":202696,"node_id":"MDQ6VXNlcjIwMjY5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/202696?v=4","gravatar_id":"","url":"https://api.github.com/users/Atheuz","html_url":"https://github.com/Atheuz","followers_url":"https://api.github.com/users/Atheuz/followers","following_url":"https://api.github.com/users/Atheuz/following{/other_user}","gists_url":"https://api.github.com/users/Atheuz/gists{/gist_id}","starred_url":"https://api.github.com/users/Atheuz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atheuz/subscriptions","organizations_url":"https://api.github.com/users/Atheuz/orgs","repos_url":"https://api.github.com/users/Atheuz/repos","events_url":"https://api.github.com/users/Atheuz/events{/privacy}","received_events_url":"https://api.github.com/users/Atheuz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-05T11:46:29Z","performed_via_github_app":null},{"id":2255567776,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNTU1Njc3NzY=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2255567776","actor":{"login":"Atheuz","id":202696,"node_id":"MDQ6VXNlcjIwMjY5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/202696?v=4","gravatar_id":"","url":"https://api.github.com/users/Atheuz","html_url":"https://github.com/Atheuz","followers_url":"https://api.github.com/users/Atheuz/followers","following_url":"https://api.github.com/users/Atheuz/following{/other_user}","gists_url":"https://api.github.com/users/Atheuz/gists{/gist_id}","starred_url":"https://api.github.com/users/Atheuz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atheuz/subscriptions","organizations_url":"https://api.github.com/users/Atheuz/orgs","repos_url":"https://api.github.com/users/Atheuz/repos","events_url":"https://api.github.com/users/Atheuz/events{/privacy}","received_events_url":"https://api.github.com/users/Atheuz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-05T11:46:29Z","performed_via_github_app":null},{"id":2255567942,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyNTU1Njc5NDI=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2255567942","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-04-05T11:46:33Z","label":{"name":"feature request","color":"84b6eb"},"performed_via_github_app":null},{"id":2255567943,"node_id":"MDEyOkxhYmVsZWRFdmVudDIyNTU1Njc5NDM=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2255567943","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-04-05T11:46:33Z","label":{"name":"help wanted","color":"128A0C"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480326378","html_url":"https://github.com/pydantic/pydantic/issues/462#issuecomment-480326378","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/462","id":480326378,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDMyNjM3OA==","user":{"login":"tiangolo","id":1326112,"node_id":"MDQ6VXNlcjEzMjYxMTI=","avatar_url":"https://avatars.githubusercontent.com/u/1326112?v=4","gravatar_id":"","url":"https://api.github.com/users/tiangolo","html_url":"https://github.com/tiangolo","followers_url":"https://api.github.com/users/tiangolo/followers","following_url":"https://api.github.com/users/tiangolo/following{/other_user}","gists_url":"https://api.github.com/users/tiangolo/gists{/gist_id}","starred_url":"https://api.github.com/users/tiangolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiangolo/subscriptions","organizations_url":"https://api.github.com/users/tiangolo/orgs","repos_url":"https://api.github.com/users/tiangolo/repos","events_url":"https://api.github.com/users/tiangolo/events{/privacy}","received_events_url":"https://api.github.com/users/tiangolo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T15:50:22Z","updated_at":"2019-04-05T15:50:22Z","body":"I would suggest, by default, a JSON with `***`, but add another parameter to `.dict(show_secrets=False)` and `.json(show_secrets=False)` or something similar.\r\n\r\nTo make it possible to extract the whole model as `dict` / JSON, for example to store it in a NoSQL.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480326378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tiangolo","id":1326112,"node_id":"MDQ6VXNlcjEzMjYxMTI=","avatar_url":"https://avatars.githubusercontent.com/u/1326112?v=4","gravatar_id":"","url":"https://api.github.com/users/tiangolo","html_url":"https://github.com/tiangolo","followers_url":"https://api.github.com/users/tiangolo/followers","following_url":"https://api.github.com/users/tiangolo/following{/other_user}","gists_url":"https://api.github.com/users/tiangolo/gists{/gist_id}","starred_url":"https://api.github.com/users/tiangolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiangolo/subscriptions","organizations_url":"https://api.github.com/users/tiangolo/orgs","repos_url":"https://api.github.com/users/tiangolo/repos","events_url":"https://api.github.com/users/tiangolo/events{/privacy}","received_events_url":"https://api.github.com/users/tiangolo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480354726","html_url":"https://github.com/pydantic/pydantic/issues/462#issuecomment-480354726","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/462","id":480354726,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDM1NDcyNg==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T17:19:40Z","updated_at":"2019-04-05T17:19:40Z","body":"I don't really want to add more arguments to `dict()` and `json()`, but we can add an example of a custom encoder that serialises secrets.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480354726/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480483998","html_url":"https://github.com/pydantic/pydantic/issues/462#issuecomment-480483998","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/462","id":480483998,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ4Mzk5OA==","user":{"login":"Atheuz","id":202696,"node_id":"MDQ6VXNlcjIwMjY5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/202696?v=4","gravatar_id":"","url":"https://api.github.com/users/Atheuz","html_url":"https://github.com/Atheuz","followers_url":"https://api.github.com/users/Atheuz/followers","following_url":"https://api.github.com/users/Atheuz/following{/other_user}","gists_url":"https://api.github.com/users/Atheuz/gists{/gist_id}","starred_url":"https://api.github.com/users/Atheuz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atheuz/subscriptions","organizations_url":"https://api.github.com/users/Atheuz/orgs","repos_url":"https://api.github.com/users/Atheuz/repos","events_url":"https://api.github.com/users/Atheuz/events{/privacy}","received_events_url":"https://api.github.com/users/Atheuz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T07:56:38Z","updated_at":"2020-10-28T09:35:42Z","body":"@samuelcolvin @nymous \r\n\r\nIt appears that this is a general issue:\r\n\r\n```\r\nimport pydantic\r\nimport os\r\n\r\nclass Settings(pydantic.BaseModel):\r\n    fp: pydantic.FilePath\r\n    \r\ndef main():\r\n    conf = Settings(fp=\"testfile.txt\")\r\n    print(conf.json())\r\n    \r\nif __name__ == '__main__':\r\n    main()\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/atheuz/.local/share/virtualenvs/sandbox36/lib/python3.6/site-packages/pydantic/json.py\", line 45, in pydantic_encoder\r\n    encoder = ENCODERS_BY_TYPE[type(obj)]\r\nKeyError: <class 'pathlib.PosixPath'>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test-pydantic2.py\", line 12, in <module>\r\n    main()\r\n  File \"test-pydantic2.py\", line 9, in main\r\n    print(conf.json())\r\n  File \"/home/atheuz/.local/share/virtualenvs/sandbox36/lib/python3.6/site-packages/pydantic/main.py\", line 312, in json\r\n    **dumps_kwargs,\r\n  File \"/usr/lib/python3.6/json/__init__.py\", line 238, in dumps\r\n    **kw).encode(obj)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 199, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 257, in iterencode\r\n    return _iterencode(o, 0)\r\n  File \"/home/atheuz/.local/share/virtualenvs/sandbox36/lib/python3.6/site-packages/pydantic/json.py\", line 47, in pydantic_encoder\r\n    raise TypeError(f\"Object of type '{obj.__class__.__name__}' is not JSON serializable\")\r\nTypeError: Object of type 'PosixPath' is not JSON serializable\r\n```\r\nOR\r\n\r\n```\r\nimport pydantic\r\nimport os\r\n\r\nclass Settings(pydantic.BaseModel):\r\n    email: pydantic.NameEmail\r\n    \r\ndef main():\r\n    conf = Settings(email=\"firstname lastname    <anemail@gmail.com>\")\r\n    print(conf.json())\r\n    \r\nif __name__ == '__main__':\r\n    main()\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/atheuz/.local/share/virtualenvs/sandbox36/lib/python3.6/site-packages/pydantic/json.py\", line 45, in pydantic_encoder\r\n    encoder = ENCODERS_BY_TYPE[type(obj)]\r\nKeyError: <class 'pydantic.types.NameEmail'>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test-pydantic2.py\", line 12, in <module>\r\n    main()\r\n  File \"test-pydantic2.py\", line 9, in main\r\n    print(conf.json())\r\n  File \"/home/atheuz/.local/share/virtualenvs/sandbox36/lib/python3.6/site-packages/pydantic/main.py\", line 312, in json\r\n    **dumps_kwargs,\r\n  File \"/usr/lib/python3.6/json/__init__.py\", line 238, in dumps\r\n    **kw).encode(obj)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 199, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 257, in iterencode\r\n    return _iterencode(o, 0)\r\n  File \"/home/atheuz/.local/share/virtualenvs/sandbox36/lib/python3.6/site-packages/pydantic/json.py\", line 47, in pydantic_encoder\r\n    raise TypeError(f\"Object of type '{obj.__class__.__name__}' is not JSON serializable\")\r\nTypeError: Object of type 'NameEmail' is not JSON serializable\r\n```\r\n\r\nThis can be fixed by adding types to the dict lookup table in `json.py`, i.e. like this:\r\n```\r\nENCODERS_BY_TYPE: Dict[Type[Any], Callable[[Any], Any]] = {\r\n    IPv4Address: str,\r\n    IPv6Address: str,\r\n    IPv4Interface: str,\r\n    IPv6Interface: str,\r\n    IPv4Network: str,\r\n    IPv6Network: str,\r\n    SecretStr: str,\r\n    UUID: str,\r\n    datetime.datetime: isoformat,\r\n    datetime.date: isoformat,\r\n    datetime.time: isoformat,\r\n    datetime.timedelta: lambda td: td.total_seconds(),\r\n    set: list,\r\n    frozenset: list,\r\n    GeneratorType: list,\r\n    bytes: lambda o: o.decode(),\r\n    Decimal: float,\r\n}\r\n```\r\n\r\nThen it's encoded as a str and would be outputted like this:\r\n\r\n```\r\ntest.json()\r\n'{\"secret\": \"SecretStr(\\'**********\\')\"}'\r\n```\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480483998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Atheuz","id":202696,"node_id":"MDQ6VXNlcjIwMjY5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/202696?v=4","gravatar_id":"","url":"https://api.github.com/users/Atheuz","html_url":"https://github.com/Atheuz","followers_url":"https://api.github.com/users/Atheuz/followers","following_url":"https://api.github.com/users/Atheuz/following{/other_user}","gists_url":"https://api.github.com/users/Atheuz/gists{/gist_id}","starred_url":"https://api.github.com/users/Atheuz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atheuz/subscriptions","organizations_url":"https://api.github.com/users/Atheuz/orgs","repos_url":"https://api.github.com/users/Atheuz/repos","events_url":"https://api.github.com/users/Atheuz/events{/privacy}","received_events_url":"https://api.github.com/users/Atheuz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2257338292,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI1NzMzODI5Mg==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2257338292","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-06T07:56:38Z","performed_via_github_app":null},{"id":2257338293,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNTczMzgyOTM=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2257338293","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-06T07:56:38Z","performed_via_github_app":null},{"id":2257338294,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjI1NzMzODI5NA==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2257338294","actor":{"login":"nymous","id":4216559,"node_id":"MDQ6VXNlcjQyMTY1NTk=","avatar_url":"https://avatars.githubusercontent.com/u/4216559?v=4","gravatar_id":"","url":"https://api.github.com/users/nymous","html_url":"https://github.com/nymous","followers_url":"https://api.github.com/users/nymous/followers","following_url":"https://api.github.com/users/nymous/following{/other_user}","gists_url":"https://api.github.com/users/nymous/gists{/gist_id}","starred_url":"https://api.github.com/users/nymous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nymous/subscriptions","organizations_url":"https://api.github.com/users/nymous/orgs","repos_url":"https://api.github.com/users/nymous/repos","events_url":"https://api.github.com/users/nymous/events{/privacy}","received_events_url":"https://api.github.com/users/nymous/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-04-06T07:56:38Z","performed_via_github_app":null},{"id":2257338295,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyNTczMzgyOTU=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2257338295","actor":{"login":"nymous","id":4216559,"node_id":"MDQ6VXNlcjQyMTY1NTk=","avatar_url":"https://avatars.githubusercontent.com/u/4216559?v=4","gravatar_id":"","url":"https://api.github.com/users/nymous","html_url":"https://github.com/nymous","followers_url":"https://api.github.com/users/nymous/followers","following_url":"https://api.github.com/users/nymous/following{/other_user}","gists_url":"https://api.github.com/users/nymous/gists{/gist_id}","starred_url":"https://api.github.com/users/nymous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nymous/subscriptions","organizations_url":"https://api.github.com/users/nymous/orgs","repos_url":"https://api.github.com/users/nymous/repos","events_url":"https://api.github.com/users/nymous/events{/privacy}","received_events_url":"https://api.github.com/users/nymous/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-04-06T07:56:38Z","performed_via_github_app":null},{"actor":{"login":"Atheuz","id":202696,"node_id":"MDQ6VXNlcjIwMjY5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/202696?v=4","gravatar_id":"","url":"https://api.github.com/users/Atheuz","html_url":"https://github.com/Atheuz","followers_url":"https://api.github.com/users/Atheuz/followers","following_url":"https://api.github.com/users/Atheuz/following{/other_user}","gists_url":"https://api.github.com/users/Atheuz/gists{/gist_id}","starred_url":"https://api.github.com/users/Atheuz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atheuz/subscriptions","organizations_url":"https://api.github.com/users/Atheuz/orgs","repos_url":"https://api.github.com/users/Atheuz/repos","events_url":"https://api.github.com/users/Atheuz/events{/privacy}","received_events_url":"https://api.github.com/users/Atheuz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T09:17:15Z","updated_at":"2019-04-06T09:17:15Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/465","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/465/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/465/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/465/events","html_url":"https://github.com/pydantic/pydantic/pull/465","id":430015208,"node_id":"MDExOlB1bGxSZXF1ZXN0MjY4MDIzOTQw","number":465,"title":"fix: serialize secrets to json.","user":{"login":"Atheuz","id":202696,"node_id":"MDQ6VXNlcjIwMjY5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/202696?v=4","gravatar_id":"","url":"https://api.github.com/users/Atheuz","html_url":"https://github.com/Atheuz","followers_url":"https://api.github.com/users/Atheuz/followers","following_url":"https://api.github.com/users/Atheuz/following{/other_user}","gists_url":"https://api.github.com/users/Atheuz/gists{/gist_id}","starred_url":"https://api.github.com/users/Atheuz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atheuz/subscriptions","organizations_url":"https://api.github.com/users/Atheuz/orgs","repos_url":"https://api.github.com/users/Atheuz/repos","events_url":"https://api.github.com/users/Atheuz/events{/privacy}","received_events_url":"https://api.github.com/users/Atheuz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2019-04-06T09:17:15Z","updated_at":"2019-04-11T18:36:51Z","closed_at":"2019-04-11T18:32:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":90194616,"node_id":"MDEwOlJlcG9zaXRvcnk5MDE5NDYxNg==","name":"pydantic","full_name":"pydantic/pydantic","private":false,"owner":{"login":"pydantic","id":110818415,"node_id":"O_kgDOBpr0bw","avatar_url":"https://avatars.githubusercontent.com/u/110818415?v=4","gravatar_id":"","url":"https://api.github.com/users/pydantic","html_url":"https://github.com/pydantic","followers_url":"https://api.github.com/users/pydantic/followers","following_url":"https://api.github.com/users/pydantic/following{/other_user}","gists_url":"https://api.github.com/users/pydantic/gists{/gist_id}","starred_url":"https://api.github.com/users/pydantic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pydantic/subscriptions","organizations_url":"https://api.github.com/users/pydantic/orgs","repos_url":"https://api.github.com/users/pydantic/repos","events_url":"https://api.github.com/users/pydantic/events{/privacy}","received_events_url":"https://api.github.com/users/pydantic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pydantic/pydantic","description":"Data validation using Python type hints","fork":false,"url":"https://api.github.com/repos/pydantic/pydantic","forks_url":"https://api.github.com/repos/pydantic/pydantic/forks","keys_url":"https://api.github.com/repos/pydantic/pydantic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pydantic/pydantic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pydantic/pydantic/teams","hooks_url":"https://api.github.com/repos/pydantic/pydantic/hooks","issue_events_url":"https://api.github.com/repos/pydantic/pydantic/issues/events{/number}","events_url":"https://api.github.com/repos/pydantic/pydantic/events","assignees_url":"https://api.github.com/repos/pydantic/pydantic/assignees{/user}","branches_url":"https://api.github.com/repos/pydantic/pydantic/branches{/branch}","tags_url":"https://api.github.com/repos/pydantic/pydantic/tags","blobs_url":"https://api.github.com/repos/pydantic/pydantic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pydantic/pydantic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pydantic/pydantic/git/refs{/sha}","trees_url":"https://api.github.com/repos/pydantic/pydantic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pydantic/pydantic/statuses/{sha}","languages_url":"https://api.github.com/repos/pydantic/pydantic/languages","stargazers_url":"https://api.github.com/repos/pydantic/pydantic/stargazers","contributors_url":"https://api.github.com/repos/pydantic/pydantic/contributors","subscribers_url":"https://api.github.com/repos/pydantic/pydantic/subscribers","subscription_url":"https://api.github.com/repos/pydantic/pydantic/subscription","commits_url":"https://api.github.com/repos/pydantic/pydantic/commits{/sha}","git_commits_url":"https://api.github.com/repos/pydantic/pydantic/git/commits{/sha}","comments_url":"https://api.github.com/repos/pydantic/pydantic/comments{/number}","issue_comment_url":"https://api.github.com/repos/pydantic/pydantic/issues/comments{/number}","contents_url":"https://api.github.com/repos/pydantic/pydantic/contents/{+path}","compare_url":"https://api.github.com/repos/pydantic/pydantic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pydantic/pydantic/merges","archive_url":"https://api.github.com/repos/pydantic/pydantic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pydantic/pydantic/downloads","issues_url":"https://api.github.com/repos/pydantic/pydantic/issues{/number}","pulls_url":"https://api.github.com/repos/pydantic/pydantic/pulls{/number}","milestones_url":"https://api.github.com/repos/pydantic/pydantic/milestones{/number}","notifications_url":"https://api.github.com/repos/pydantic/pydantic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pydantic/pydantic/labels{/name}","releases_url":"https://api.github.com/repos/pydantic/pydantic/releases{/id}","deployments_url":"https://api.github.com/repos/pydantic/pydantic/deployments","created_at":"2017-05-03T21:23:58Z","updated_at":"2025-11-09T17:32:47Z","pushed_at":"2025-11-09T09:36:17Z","git_url":"git://github.com/pydantic/pydantic.git","ssh_url":"git@github.com:pydantic/pydantic.git","clone_url":"https://github.com/pydantic/pydantic.git","svn_url":"https://github.com/pydantic/pydantic","homepage":"https://docs.pydantic.dev","size":327577,"stargazers_count":25701,"watchers_count":25701,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2306,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":512,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hints","json-schema","parsing","pydantic","python","python310","python311","python312","python313","python39","validation"],"visibility":"public","forks":2306,"open_issues":512,"watchers":25701,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pydantic/pydantic/pulls/465","html_url":"https://github.com/pydantic/pydantic/pull/465","diff_url":"https://github.com/pydantic/pydantic/pull/465.diff","patch_url":"https://github.com/pydantic/pydantic/pull/465.patch","merged_at":"2019-04-11T18:32:29Z"},"body":"<!-- Thank you for your contribution! -->\r\n<!-- See https://pydantic-docs.helpmanual.io/#contributing-to-pydantic for help on Contributing -->\r\n<!-- Don't worry about making lots of commits on a pull request, they'll be squashed on merge anyway -->\r\n\r\n## Change Summary\r\n\r\nThis change adds JSON serialization of secret types, `SecretStr` and `SecretBytes`. Also modifies the __str__ functions of the same.\r\nIt does not support serialization of the actual serialized values, which it maybe should.\r\n\r\n## Related issue number\r\n\r\n#462\r\n\r\n## Checklist\r\n\r\n* [x] Unit tests for the changes exist\r\n* [x] Tests pass on CI and coverage remains at 100%\r\n* [x] Documentation reflects the changes where applicable\r\n","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/465/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480489178","html_url":"https://github.com/pydantic/pydantic/issues/462#issuecomment-480489178","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/462","id":480489178,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ4OTE3OA==","user":{"login":"Atheuz","id":202696,"node_id":"MDQ6VXNlcjIwMjY5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/202696?v=4","gravatar_id":"","url":"https://api.github.com/users/Atheuz","html_url":"https://github.com/Atheuz","followers_url":"https://api.github.com/users/Atheuz/followers","following_url":"https://api.github.com/users/Atheuz/following{/other_user}","gists_url":"https://api.github.com/users/Atheuz/gists{/gist_id}","starred_url":"https://api.github.com/users/Atheuz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atheuz/subscriptions","organizations_url":"https://api.github.com/users/Atheuz/orgs","repos_url":"https://api.github.com/users/Atheuz/repos","events_url":"https://api.github.com/users/Atheuz/events{/privacy}","received_events_url":"https://api.github.com/users/Atheuz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T09:23:10Z","updated_at":"2019-04-06T09:23:10Z","body":"Note my PR here: https://github.com/samuelcolvin/pydantic/pull/465","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/480489178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Atheuz","id":202696,"node_id":"MDQ6VXNlcjIwMjY5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/202696?v=4","gravatar_id":"","url":"https://api.github.com/users/Atheuz","html_url":"https://github.com/Atheuz","followers_url":"https://api.github.com/users/Atheuz/followers","following_url":"https://api.github.com/users/Atheuz/following{/other_user}","gists_url":"https://api.github.com/users/Atheuz/gists{/gist_id}","starred_url":"https://api.github.com/users/Atheuz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atheuz/subscriptions","organizations_url":"https://api.github.com/users/Atheuz/orgs","repos_url":"https://api.github.com/users/Atheuz/repos","events_url":"https://api.github.com/users/Atheuz/events{/privacy}","received_events_url":"https://api.github.com/users/Atheuz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2270178560,"node_id":"MDExOkNsb3NlZEV2ZW50MjI3MDE3ODU2MA==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2270178560","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"449661b8cce9d7eb97b2957a642819732e37e30e","commit_url":"https://api.github.com/repos/pydantic/pydantic/commits/449661b8cce9d7eb97b2957a642819732e37e30e","created_at":"2019-04-11T18:32:30Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T15:02:19Z","updated_at":"2019-06-17T15:02:19Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/596","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/596/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/596/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/596/events","html_url":"https://github.com/pydantic/pydantic/issues/596","id":456986368,"node_id":"MDU6SXNzdWU0NTY5ODYzNjg=","number":596,"title":"Configurable SecretStr","user":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":597426504,"node_id":"MDU6TGFiZWw1OTc0MjY1MDQ=","url":"https://api.github.com/repos/pydantic/pydantic/labels/feature%20request","name":"feature request","color":"84b6eb","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2019-06-17T15:02:19Z","updated_at":"2023-06-30T22:21:23Z","closed_at":"2020-04-15T21:05:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":90194616,"node_id":"MDEwOlJlcG9zaXRvcnk5MDE5NDYxNg==","name":"pydantic","full_name":"pydantic/pydantic","private":false,"owner":{"login":"pydantic","id":110818415,"node_id":"O_kgDOBpr0bw","avatar_url":"https://avatars.githubusercontent.com/u/110818415?v=4","gravatar_id":"","url":"https://api.github.com/users/pydantic","html_url":"https://github.com/pydantic","followers_url":"https://api.github.com/users/pydantic/followers","following_url":"https://api.github.com/users/pydantic/following{/other_user}","gists_url":"https://api.github.com/users/pydantic/gists{/gist_id}","starred_url":"https://api.github.com/users/pydantic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pydantic/subscriptions","organizations_url":"https://api.github.com/users/pydantic/orgs","repos_url":"https://api.github.com/users/pydantic/repos","events_url":"https://api.github.com/users/pydantic/events{/privacy}","received_events_url":"https://api.github.com/users/pydantic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pydantic/pydantic","description":"Data validation using Python type hints","fork":false,"url":"https://api.github.com/repos/pydantic/pydantic","forks_url":"https://api.github.com/repos/pydantic/pydantic/forks","keys_url":"https://api.github.com/repos/pydantic/pydantic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pydantic/pydantic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pydantic/pydantic/teams","hooks_url":"https://api.github.com/repos/pydantic/pydantic/hooks","issue_events_url":"https://api.github.com/repos/pydantic/pydantic/issues/events{/number}","events_url":"https://api.github.com/repos/pydantic/pydantic/events","assignees_url":"https://api.github.com/repos/pydantic/pydantic/assignees{/user}","branches_url":"https://api.github.com/repos/pydantic/pydantic/branches{/branch}","tags_url":"https://api.github.com/repos/pydantic/pydantic/tags","blobs_url":"https://api.github.com/repos/pydantic/pydantic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pydantic/pydantic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pydantic/pydantic/git/refs{/sha}","trees_url":"https://api.github.com/repos/pydantic/pydantic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pydantic/pydantic/statuses/{sha}","languages_url":"https://api.github.com/repos/pydantic/pydantic/languages","stargazers_url":"https://api.github.com/repos/pydantic/pydantic/stargazers","contributors_url":"https://api.github.com/repos/pydantic/pydantic/contributors","subscribers_url":"https://api.github.com/repos/pydantic/pydantic/subscribers","subscription_url":"https://api.github.com/repos/pydantic/pydantic/subscription","commits_url":"https://api.github.com/repos/pydantic/pydantic/commits{/sha}","git_commits_url":"https://api.github.com/repos/pydantic/pydantic/git/commits{/sha}","comments_url":"https://api.github.com/repos/pydantic/pydantic/comments{/number}","issue_comment_url":"https://api.github.com/repos/pydantic/pydantic/issues/comments{/number}","contents_url":"https://api.github.com/repos/pydantic/pydantic/contents/{+path}","compare_url":"https://api.github.com/repos/pydantic/pydantic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pydantic/pydantic/merges","archive_url":"https://api.github.com/repos/pydantic/pydantic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pydantic/pydantic/downloads","issues_url":"https://api.github.com/repos/pydantic/pydantic/issues{/number}","pulls_url":"https://api.github.com/repos/pydantic/pydantic/pulls{/number}","milestones_url":"https://api.github.com/repos/pydantic/pydantic/milestones{/number}","notifications_url":"https://api.github.com/repos/pydantic/pydantic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pydantic/pydantic/labels{/name}","releases_url":"https://api.github.com/repos/pydantic/pydantic/releases{/id}","deployments_url":"https://api.github.com/repos/pydantic/pydantic/deployments","created_at":"2017-05-03T21:23:58Z","updated_at":"2025-11-09T17:32:47Z","pushed_at":"2025-11-09T09:36:17Z","git_url":"git://github.com/pydantic/pydantic.git","ssh_url":"git@github.com:pydantic/pydantic.git","clone_url":"https://github.com/pydantic/pydantic.git","svn_url":"https://github.com/pydantic/pydantic","homepage":"https://docs.pydantic.dev","size":327577,"stargazers_count":25701,"watchers_count":25701,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2306,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":512,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hints","json-schema","parsing","pydantic","python","python310","python311","python312","python313","python39","validation"],"visibility":"public","forks":2306,"open_issues":512,"watchers":25701,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This issue revisits this comment https://github.com/samuelcolvin/pydantic/issues/462#issuecomment-480326378 by @tiangolo.\r\n\r\nI think it would be a good idea that there is a standard way of getting secrets exported for propagation to other services.\r\n\r\nThis is not something that tends to happen in three tier apps where e.g. the db creds are secret but rather a case that happens _a lot_ when dealing with microservice architectures wherein request payloads may serialize and deserialize multiple times through the end to end request lifecycle.\r\n\r\n`.json()` to me is semantically like `.export` and as such defaulting to revealing secret makes sense. But that would be a breaking change.\r\n\r\nOther approaches:\r\n\r\n- `.json(reveal_secrets=True)`\r\n- `.export()`\r\n\r\nBut maybe we can take the breaking change path via https://github.com/samuelcolvin/pydantic/issues/576 and then:\r\n\r\n- `.json(keep_secrets=True)`\r\n\r\nTo be clear I don't see `.json` as being something used for logging. Something like `structlog` would work with `pydantic.dict()` instead:\r\n\r\n```\r\nlog.info('something', data=model.dict())\r\n```\r\n\r\nI _think_ `.dict` defaulting to maintaining secrets seems right. But we could have, too:\r\n\r\n```\r\nlog.info('something', data=model.dict(reveal_secrets=True))\r\n```\r\n\r\nBut than we should make considerations around API consistency across methods and ensure usability is good overall, not just per case.","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/596/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/596/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"gjcarneiro","id":2197096,"node_id":"MDQ6VXNlcjIxOTcwOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2197096?v=4","gravatar_id":"","url":"https://api.github.com/users/gjcarneiro","html_url":"https://github.com/gjcarneiro","followers_url":"https://api.github.com/users/gjcarneiro/followers","following_url":"https://api.github.com/users/gjcarneiro/following{/other_user}","gists_url":"https://api.github.com/users/gjcarneiro/gists{/gist_id}","starred_url":"https://api.github.com/users/gjcarneiro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gjcarneiro/subscriptions","organizations_url":"https://api.github.com/users/gjcarneiro/orgs","repos_url":"https://api.github.com/users/gjcarneiro/repos","events_url":"https://api.github.com/users/gjcarneiro/events{/privacy}","received_events_url":"https://api.github.com/users/gjcarneiro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T11:13:08Z","updated_at":"2021-02-11T11:13:08Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/2341","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/2341/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/2341/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/2341/events","html_url":"https://github.com/pydantic/pydantic/issues/2341","id":806292750,"node_id":"MDU6SXNzdWU4MDYyOTI3NTA=","number":2341,"title":"Object of type 'NameEmail' is not JSON serializable","user":{"login":"gjcarneiro","id":2197096,"node_id":"MDQ6VXNlcjIxOTcwOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2197096?v=4","gravatar_id":"","url":"https://api.github.com/users/gjcarneiro","html_url":"https://github.com/gjcarneiro","followers_url":"https://api.github.com/users/gjcarneiro/followers","following_url":"https://api.github.com/users/gjcarneiro/following{/other_user}","gists_url":"https://api.github.com/users/gjcarneiro/gists{/gist_id}","starred_url":"https://api.github.com/users/gjcarneiro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gjcarneiro/subscriptions","organizations_url":"https://api.github.com/users/gjcarneiro/orgs","repos_url":"https://api.github.com/users/gjcarneiro/repos","events_url":"https://api.github.com/users/gjcarneiro/events{/privacy}","received_events_url":"https://api.github.com/users/gjcarneiro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":597426502,"node_id":"MDU6TGFiZWw1OTc0MjY1MDI=","url":"https://api.github.com/repos/pydantic/pydantic/labels/bug%20V1","name":"bug V1","color":"ee0701","default":false,"description":"Bug related to Pydantic V1.X"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-02-11T11:13:08Z","updated_at":"2021-05-09T09:26:02Z","closed_at":"2021-05-09T09:26:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":90194616,"node_id":"MDEwOlJlcG9zaXRvcnk5MDE5NDYxNg==","name":"pydantic","full_name":"pydantic/pydantic","private":false,"owner":{"login":"pydantic","id":110818415,"node_id":"O_kgDOBpr0bw","avatar_url":"https://avatars.githubusercontent.com/u/110818415?v=4","gravatar_id":"","url":"https://api.github.com/users/pydantic","html_url":"https://github.com/pydantic","followers_url":"https://api.github.com/users/pydantic/followers","following_url":"https://api.github.com/users/pydantic/following{/other_user}","gists_url":"https://api.github.com/users/pydantic/gists{/gist_id}","starred_url":"https://api.github.com/users/pydantic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pydantic/subscriptions","organizations_url":"https://api.github.com/users/pydantic/orgs","repos_url":"https://api.github.com/users/pydantic/repos","events_url":"https://api.github.com/users/pydantic/events{/privacy}","received_events_url":"https://api.github.com/users/pydantic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pydantic/pydantic","description":"Data validation using Python type hints","fork":false,"url":"https://api.github.com/repos/pydantic/pydantic","forks_url":"https://api.github.com/repos/pydantic/pydantic/forks","keys_url":"https://api.github.com/repos/pydantic/pydantic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pydantic/pydantic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pydantic/pydantic/teams","hooks_url":"https://api.github.com/repos/pydantic/pydantic/hooks","issue_events_url":"https://api.github.com/repos/pydantic/pydantic/issues/events{/number}","events_url":"https://api.github.com/repos/pydantic/pydantic/events","assignees_url":"https://api.github.com/repos/pydantic/pydantic/assignees{/user}","branches_url":"https://api.github.com/repos/pydantic/pydantic/branches{/branch}","tags_url":"https://api.github.com/repos/pydantic/pydantic/tags","blobs_url":"https://api.github.com/repos/pydantic/pydantic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pydantic/pydantic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pydantic/pydantic/git/refs{/sha}","trees_url":"https://api.github.com/repos/pydantic/pydantic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pydantic/pydantic/statuses/{sha}","languages_url":"https://api.github.com/repos/pydantic/pydantic/languages","stargazers_url":"https://api.github.com/repos/pydantic/pydantic/stargazers","contributors_url":"https://api.github.com/repos/pydantic/pydantic/contributors","subscribers_url":"https://api.github.com/repos/pydantic/pydantic/subscribers","subscription_url":"https://api.github.com/repos/pydantic/pydantic/subscription","commits_url":"https://api.github.com/repos/pydantic/pydantic/commits{/sha}","git_commits_url":"https://api.github.com/repos/pydantic/pydantic/git/commits{/sha}","comments_url":"https://api.github.com/repos/pydantic/pydantic/comments{/number}","issue_comment_url":"https://api.github.com/repos/pydantic/pydantic/issues/comments{/number}","contents_url":"https://api.github.com/repos/pydantic/pydantic/contents/{+path}","compare_url":"https://api.github.com/repos/pydantic/pydantic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pydantic/pydantic/merges","archive_url":"https://api.github.com/repos/pydantic/pydantic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pydantic/pydantic/downloads","issues_url":"https://api.github.com/repos/pydantic/pydantic/issues{/number}","pulls_url":"https://api.github.com/repos/pydantic/pydantic/pulls{/number}","milestones_url":"https://api.github.com/repos/pydantic/pydantic/milestones{/number}","notifications_url":"https://api.github.com/repos/pydantic/pydantic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pydantic/pydantic/labels{/name}","releases_url":"https://api.github.com/repos/pydantic/pydantic/releases{/id}","deployments_url":"https://api.github.com/repos/pydantic/pydantic/deployments","created_at":"2017-05-03T21:23:58Z","updated_at":"2025-11-09T17:32:47Z","pushed_at":"2025-11-09T09:36:17Z","git_url":"git://github.com/pydantic/pydantic.git","ssh_url":"git@github.com:pydantic/pydantic.git","clone_url":"https://github.com/pydantic/pydantic.git","svn_url":"https://github.com/pydantic/pydantic","homepage":"https://docs.pydantic.dev","size":327577,"stargazers_count":25701,"watchers_count":25701,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2306,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":512,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hints","json-schema","parsing","pydantic","python","python310","python311","python312","python313","python39","validation"],"visibility":"public","forks":2306,"open_issues":512,"watchers":25701,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Checks\r\n\r\n* [x] I added a descriptive title to this issue\r\n* [x] I have searched (google, github) for similar issues and couldn't find anything\r\n* [x] I have read and followed [the docs](https://pydantic-docs.helpmanual.io/) and still think this is a bug\r\n\r\n<!-- Sorry to sound so draconian, but every second saved replying to issues is time spend improving pydantic :-) -->\r\n\r\n# Bug\r\n\r\nOutput of `python -c \"import pydantic.utils; print(pydantic.utils.version_info())\"`:\r\n```\r\n             pydantic version: 1.7.3\r\n            pydantic compiled: True\r\n                 install path: /app/env/lib/python3.8/site-packages/pydantic\r\n               python version: 3.8.5 (default, Jul 28 2020, 12:59:40)  [GCC 9.3.0]\r\n                     platform: Linux-5.8.0-43-generic-x86_64-with-glibc2.29\r\n     optional deps. installed: ['typing-extensions', 'email-validator']\r\n\r\n```\r\n<!-- or if you're using pydantic prior to v1.3, manually include: OS, python version and pydantic version -->\r\n\r\n<!-- Please read the [docs](https://pydantic-docs.helpmanual.io/) and search through issues to\r\nconfirm your bug hasn't already been reported. -->\r\n\r\nThis issue was mentioned in #462, but was only solved for the case of SecretStr, NameEmail was left unsolved.\r\n\r\n<!-- Where possible please include a self-contained code snippet describing your bug: -->\r\n\r\n```py\r\nimport pydantic\r\n\r\nclass MyModel(pydantic.BaseModel):\r\n    email: pydantic.NameEmail\r\n\r\nMyModel(email=\"foo <zzz@bar.com>\").json()\r\n```\r\nI get:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"pydantic/main.py\", line 506, in pydantic.main.BaseModel.json\r\n  File \"/usr/lib/python3.8/json/__init__.py\", line 234, in dumps\r\n    return cls(\r\n  File \"/usr/lib/python3.8/json/encoder.py\", line 199, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n  File \"/usr/lib/python3.8/json/encoder.py\", line 257, in iterencode\r\n    return _iterencode(o, 0)\r\n  File \"pydantic/json.py\", line 65, in pydantic.json.pydantic_encoder\r\nTypeError: Object of type 'NameEmail' is not JSON serializable\r\n```","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/2341/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/2341/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":11331393379,"node_id":"REFE_lADOBWBCuM4ZnOhZzwAAAAKjZ1dj","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/11331393379","actor":{"login":"alexdrydew","id":39103632,"node_id":"MDQ6VXNlcjM5MTAzNjMy","avatar_url":"https://avatars.githubusercontent.com/u/39103632?v=4","gravatar_id":"","url":"https://api.github.com/users/alexdrydew","html_url":"https://github.com/alexdrydew","followers_url":"https://api.github.com/users/alexdrydew/followers","following_url":"https://api.github.com/users/alexdrydew/following{/other_user}","gists_url":"https://api.github.com/users/alexdrydew/gists{/gist_id}","starred_url":"https://api.github.com/users/alexdrydew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexdrydew/subscriptions","organizations_url":"https://api.github.com/users/alexdrydew/orgs","repos_url":"https://api.github.com/users/alexdrydew/repos","events_url":"https://api.github.com/users/alexdrydew/events{/privacy}","received_events_url":"https://api.github.com/users/alexdrydew/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"40b72a37908ce352b5e8efb6d8a22bfb2a48be60","commit_url":"https://api.github.com/repos/alexdrydew/pydantic/commits/40b72a37908ce352b5e8efb6d8a22bfb2a48be60","created_at":"2023-12-23T20:09:59Z","performed_via_github_app":null},{"actor":{"login":"openSourcerer9000","id":61931826,"node_id":"MDQ6VXNlcjYxOTMxODI2","avatar_url":"https://avatars.githubusercontent.com/u/61931826?v=4","gravatar_id":"","url":"https://api.github.com/users/openSourcerer9000","html_url":"https://github.com/openSourcerer9000","followers_url":"https://api.github.com/users/openSourcerer9000/followers","following_url":"https://api.github.com/users/openSourcerer9000/following{/other_user}","gists_url":"https://api.github.com/users/openSourcerer9000/gists{/gist_id}","starred_url":"https://api.github.com/users/openSourcerer9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openSourcerer9000/subscriptions","organizations_url":"https://api.github.com/users/openSourcerer9000/orgs","repos_url":"https://api.github.com/users/openSourcerer9000/repos","events_url":"https://api.github.com/users/openSourcerer9000/events{/privacy}","received_events_url":"https://api.github.com/users/openSourcerer9000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-26T19:07:30Z","updated_at":"2024-09-26T19:31:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/langchain-ai/langgraph/issues/1866","repository_url":"https://api.github.com/repos/langchain-ai/langgraph","labels_url":"https://api.github.com/repos/langchain-ai/langgraph/issues/1866/labels{/name}","comments_url":"https://api.github.com/repos/langchain-ai/langgraph/issues/1866/comments","events_url":"https://api.github.com/repos/langchain-ai/langgraph/issues/1866/events","html_url":"https://github.com/langchain-ai/langgraph/issues/1866","id":2551387753,"node_id":"I_kwDOKFU0lc6YExZp","number":1866,"title":"Intermittent issue when using SqliteSaver- TypeError: Object of type SecretStr is not serializable","user":{"login":"openSourcerer9000","id":61931826,"node_id":"MDQ6VXNlcjYxOTMxODI2","avatar_url":"https://avatars.githubusercontent.com/u/61931826?v=4","gravatar_id":"","url":"https://api.github.com/users/openSourcerer9000","html_url":"https://github.com/openSourcerer9000","followers_url":"https://api.github.com/users/openSourcerer9000/followers","following_url":"https://api.github.com/users/openSourcerer9000/following{/other_user}","gists_url":"https://api.github.com/users/openSourcerer9000/gists{/gist_id}","starred_url":"https://api.github.com/users/openSourcerer9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openSourcerer9000/subscriptions","organizations_url":"https://api.github.com/users/openSourcerer9000/orgs","repos_url":"https://api.github.com/users/openSourcerer9000/repos","events_url":"https://api.github.com/users/openSourcerer9000/events{/privacy}","received_events_url":"https://api.github.com/users/openSourcerer9000/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-09-26T19:07:29Z","updated_at":"2024-09-27T18:36:35Z","closed_at":"2024-09-27T18:36:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":676672661,"node_id":"R_kgDOKFU0lQ","name":"langgraph","full_name":"langchain-ai/langgraph","private":false,"owner":{"login":"langchain-ai","id":126733545,"node_id":"O_kgDOB43M6Q","avatar_url":"https://avatars.githubusercontent.com/u/126733545?v=4","gravatar_id":"","url":"https://api.github.com/users/langchain-ai","html_url":"https://github.com/langchain-ai","followers_url":"https://api.github.com/users/langchain-ai/followers","following_url":"https://api.github.com/users/langchain-ai/following{/other_user}","gists_url":"https://api.github.com/users/langchain-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/langchain-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/langchain-ai/subscriptions","organizations_url":"https://api.github.com/users/langchain-ai/orgs","repos_url":"https://api.github.com/users/langchain-ai/repos","events_url":"https://api.github.com/users/langchain-ai/events{/privacy}","received_events_url":"https://api.github.com/users/langchain-ai/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/langchain-ai/langgraph","description":"Build resilient language agents as graphs.","fork":false,"url":"https://api.github.com/repos/langchain-ai/langgraph","forks_url":"https://api.github.com/repos/langchain-ai/langgraph/forks","keys_url":"https://api.github.com/repos/langchain-ai/langgraph/keys{/key_id}","collaborators_url":"https://api.github.com/repos/langchain-ai/langgraph/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/langchain-ai/langgraph/teams","hooks_url":"https://api.github.com/repos/langchain-ai/langgraph/hooks","issue_events_url":"https://api.github.com/repos/langchain-ai/langgraph/issues/events{/number}","events_url":"https://api.github.com/repos/langchain-ai/langgraph/events","assignees_url":"https://api.github.com/repos/langchain-ai/langgraph/assignees{/user}","branches_url":"https://api.github.com/repos/langchain-ai/langgraph/branches{/branch}","tags_url":"https://api.github.com/repos/langchain-ai/langgraph/tags","blobs_url":"https://api.github.com/repos/langchain-ai/langgraph/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/langchain-ai/langgraph/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/langchain-ai/langgraph/git/refs{/sha}","trees_url":"https://api.github.com/repos/langchain-ai/langgraph/git/trees{/sha}","statuses_url":"https://api.github.com/repos/langchain-ai/langgraph/statuses/{sha}","languages_url":"https://api.github.com/repos/langchain-ai/langgraph/languages","stargazers_url":"https://api.github.com/repos/langchain-ai/langgraph/stargazers","contributors_url":"https://api.github.com/repos/langchain-ai/langgraph/contributors","subscribers_url":"https://api.github.com/repos/langchain-ai/langgraph/subscribers","subscription_url":"https://api.github.com/repos/langchain-ai/langgraph/subscription","commits_url":"https://api.github.com/repos/langchain-ai/langgraph/commits{/sha}","git_commits_url":"https://api.github.com/repos/langchain-ai/langgraph/git/commits{/sha}","comments_url":"https://api.github.com/repos/langchain-ai/langgraph/comments{/number}","issue_comment_url":"https://api.github.com/repos/langchain-ai/langgraph/issues/comments{/number}","contents_url":"https://api.github.com/repos/langchain-ai/langgraph/contents/{+path}","compare_url":"https://api.github.com/repos/langchain-ai/langgraph/compare/{base}...{head}","merges_url":"https://api.github.com/repos/langchain-ai/langgraph/merges","archive_url":"https://api.github.com/repos/langchain-ai/langgraph/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/langchain-ai/langgraph/downloads","issues_url":"https://api.github.com/repos/langchain-ai/langgraph/issues{/number}","pulls_url":"https://api.github.com/repos/langchain-ai/langgraph/pulls{/number}","milestones_url":"https://api.github.com/repos/langchain-ai/langgraph/milestones{/number}","notifications_url":"https://api.github.com/repos/langchain-ai/langgraph/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/langchain-ai/langgraph/labels{/name}","releases_url":"https://api.github.com/repos/langchain-ai/langgraph/releases{/id}","deployments_url":"https://api.github.com/repos/langchain-ai/langgraph/deployments","created_at":"2023-08-09T18:33:12Z","updated_at":"2025-11-09T18:11:37Z","pushed_at":"2025-11-09T00:36:41Z","git_url":"git://github.com/langchain-ai/langgraph.git","ssh_url":"git@github.com:langchain-ai/langgraph.git","clone_url":"https://github.com/langchain-ai/langgraph.git","svn_url":"https://github.com/langchain-ai/langgraph","homepage":"https://docs.langchain.com/oss/python/langgraph/","size":496364,"stargazers_count":20777,"watchers_count":20777,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":3668,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":161,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3668,"open_issues":161,"watchers":20777,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Checked other resources\n\n- [X] I added a very descriptive title to this issue.\n- [X] I searched the LangChain documentation with the integrated search.\n- [X] I used the GitHub search to find a similar question and didn't find it.\n- [X] I am sure that this is a bug in LangChain rather than my code.\n- [X] The bug is not resolved by updating to the latest stable version of LangChain (or the specific integration package).\n\n### Example Code\n\nHave not been able to identify a minimal example to recreate this. It seems random.\r\n\r\n```\r\nimport sqlite3\r\nfrom langgraph.checkpoint.sqlite import SqliteSaver\r\nfrom langgraph.graph import StateGraph\r\n\r\nclass State(TypedDict):\r\n    pth:Path\r\n    item:str\r\n    other:Optional[dict]\r\n\r\nconn = sqlite3.connect(f\"checkpoints.sqlite\", check_same_thread=False)\r\nmemory = SqliteSaver(conn)\r\n\r\ngraph = flow.compile(checkpointer=memory)\r\n\r\ngraph.invoke(...\r\n```\n\n### Error Message and Stack Trace (if applicable)\n\n```\r\nFile ...\\Lib\\site-packages\\langgraph\\pregel\\__init__.py:1551, in Pregel.invoke(self, input, config, stream_mode, output_keys, interrupt_before, interrupt_after, debug, **kwargs)\r\n   1549 else:\r\n   1550     chunks = []\r\n-> 1551 for chunk in self.stream(\r\n   1552     input,\r\n   1553     config,\r\n   1554     stream_mode=stream_mode,\r\n   1555     output_keys=output_keys,\r\n   1556     interrupt_before=interrupt_before,\r\n   1557     interrupt_after=interrupt_after,\r\n   1558     debug=debug,\r\n   1559     **kwargs,\r\n   1560 ):\r\n   1561     if stream_mode == \"values\":\r\n   1562         latest = chunk\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\pregel\\__init__.py:1240, in Pregel.stream(self, input, config, stream_mode, output_keys, interrupt_before, interrupt_after, debug, subgraphs)\r\n   1236 if \"custom\" in stream_modes:\r\n   1237     config[CONF][CONFIG_KEY_STREAM_WRITER] = lambda c: stream.put(\r\n   1238         ((), \"custom\", c)\r\n   1239     )\r\n-> 1240 with SyncPregelLoop(\r\n   1241     input,\r\n   1242     stream=StreamProtocol(stream.put, stream_modes),\r\n   1243     config=config,\r\n   1244     store=self.store,\r\n   1245     checkpointer=checkpointer,\r\n   1246     nodes=self.nodes,\r\n   1247     specs=self.channels,\r\n   1248     output_keys=output_keys,\r\n   1249     stream_keys=self.stream_channels_asis,\r\n   1250     debug=debug,\r\n   1251 ) as loop:\r\n   1252     # create runner\r\n   1253     runner = PregelRunner(\r\n   1254         submit=loop.submit,\r\n   1255         put_writes=loop.put_writes,\r\n   1256     )\r\n   1257     # enable subgraph streaming\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\pregel\\loop.py:754, in SyncPregelLoop.__exit__(self, exc_type, exc_value, traceback)\r\n    747 def __exit__(\r\n    748     self,\r\n    749     exc_type: Optional[Type[BaseException]],\r\n   (...)\r\n    752 ) -> Optional[bool]:\r\n    753     # unwind stack\r\n--> 754     return self.stack.__exit__(exc_type, exc_value, traceback)\r\n\r\nFile ...\\Lib\\contextlib.py:610, in ExitStack.__exit__(self, *exc_details)\r\n    606 try:\r\n    607     # bare \"raise exc_details[1]\" replaces our carefully\r\n    608     # set-up context\r\n    609     fixed_ctx = exc_details[1].__context__\r\n--> 610     raise exc_details[1]\r\n    611 except BaseException:\r\n    612     exc_details[1].__context__ = fixed_ctx\r\n\r\nFile ...\\Lib\\contextlib.py:595, in ExitStack.__exit__(self, *exc_details)\r\n    593 assert is_sync\r\n    594 try:\r\n--> 595     if cb(*exc_details):\r\n    596         suppressed_exc = True\r\n    597         pending_raise = False\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\pregel\\executor.py:105, in BackgroundExecutor.__exit__(self, exc_type, exc_value, traceback)\r\n    103     continue\r\n    104 try:\r\n--> 105     task.result()\r\n    106 except concurrent.futures.CancelledError:\r\n    107     pass\r\n\r\nFile ...\\Lib\\concurrent\\futures\\_base.py:449, in Future.result(self, timeout)\r\n    447     raise CancelledError()\r\n    448 elif self._state == FINISHED:\r\n--> 449     return self.__get_result()\r\n    451 self._condition.wait(timeout)\r\n    453 if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:\r\n\r\nFile ...\\Lib\\concurrent\\futures\\_base.py:401, in Future.__get_result(self)\r\n    399 if self._exception:\r\n    400     try:\r\n--> 401         raise self._exception\r\n    402     finally:\r\n    403         # Break a reference cycle with the exception in self._exception\r\n    404         self = None\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\pregel\\loop.py:680, in SyncPregelLoop._checkpointer_put_after_previous(self, prev, config, checkpoint, metadata, new_versions)\r\n    678 try:\r\n    679     if prev is not None:\r\n--> 680         prev.result()\r\n    681 finally:\r\n    682     cast(BaseCheckpointSaver, self.checkpointer).put(\r\n    683         config, checkpoint, metadata, new_versions\r\n    684     )\r\n\r\nFile ...\\Lib\\concurrent\\futures\\_base.py:449, in Future.result(self, timeout)\r\n    447     raise CancelledError()\r\n    448 elif self._state == FINISHED:\r\n--> 449     return self.__get_result()\r\n    451 self._condition.wait(timeout)\r\n    453 if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:\r\n\r\nFile ...\\Lib\\concurrent\\futures\\_base.py:401, in Future.__get_result(self)\r\n    399 if self._exception:\r\n    400     try:\r\n--> 401         raise self._exception\r\n    402     finally:\r\n    403         # Break a reference cycle with the exception in self._exception\r\n    404         self = None\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\pregel\\executor.py:70, in BackgroundExecutor.done(self, task)\r\n     68 def done(self, task: concurrent.futures.Future) -> None:\r\n     69     try:\r\n---> 70         task.result()\r\n     71     except GraphInterrupt:\r\n     72         # This exception is an interruption signal, not an error\r\n     73         # so we don't want to re-raise it on exit\r\n     74         self.tasks.pop(task)\r\n\r\nFile ...\\Lib\\concurrent\\futures\\_base.py:449, in Future.result(self, timeout)\r\n    447     raise CancelledError()\r\n    448 elif self._state == FINISHED:\r\n--> 449     return self.__get_result()\r\n    451 self._condition.wait(timeout)\r\n    453 if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:\r\n\r\nFile ...\\Lib\\concurrent\\futures\\_base.py:401, in Future.__get_result(self)\r\n    399 if self._exception:\r\n    400     try:\r\n--> 401         raise self._exception\r\n    402     finally:\r\n    403         # Break a reference cycle with the exception in self._exception\r\n    404         self = None\r\n\r\nFile ...\\Lib\\concurrent\\futures\\thread.py:58, in _WorkItem.run(self)\r\n     55     return\r\n     57 try:\r\n---> 58     result = self.fn(*self.args, **self.kwargs)\r\n     59 except BaseException as exc:\r\n     60     self.future.set_exception(exc)\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\pregel\\loop.py:682, in SyncPregelLoop._checkpointer_put_after_previous(self, prev, config, checkpoint, metadata, new_versions)\r\n    680         prev.result()\r\n    681 finally:\r\n--> 682     cast(BaseCheckpointSaver, self.checkpointer).put(\r\n    683         config, checkpoint, metadata, new_versions\r\n    684     )\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\checkpoint\\sqlite\\__init__.py:399, in SqliteSaver.put(self, config, checkpoint, metadata, new_versions)\r\n    397 thread_id = config[\"configurable\"][\"thread_id\"]\r\n    398 checkpoint_ns = config[\"configurable\"][\"checkpoint_ns\"]\r\n--> 399 type_, serialized_checkpoint = self.serde.dumps_typed(checkpoint)\r\n    400 serialized_metadata = self.jsonplus_serde.dumps(metadata)\r\n    401 with self.cursor() as cur:\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\checkpoint\\serde\\jsonplus.py:192, in JsonPlusSerializer.dumps_typed(self, obj)\r\n    190 else:\r\n    191     try:\r\n--> 192         return \"msgpack\", _msgpack_enc(obj)\r\n    193     except UnicodeEncodeError:\r\n    194         return \"json\", self.dumps(obj)\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\checkpoint\\serde\\jsonplus.py:476, in _msgpack_enc(data)\r\n    474     enc = msgpack.Packer(default=_msgpack_default)\r\n    475 try:\r\n--> 476     return enc.pack(data)\r\n    477 finally:\r\n    478     ENC_POOL.append(enc)\r\n\r\nFile msgpack/_packer.pyx:279, in msgpack._cmsgpack.Packer.pack()\r\n\r\nFile msgpack/_packer.pyx:276, in msgpack._cmsgpack.Packer.pack()\r\n\r\nFile msgpack/_packer.pyx:265, in msgpack._cmsgpack.Packer._pack()\r\n\r\nFile msgpack/_packer.pyx:213, in msgpack._cmsgpack.Packer._pack_inner()\r\n\r\nFile msgpack/_packer.pyx:265, in msgpack._cmsgpack.Packer._pack()\r\n\r\nFile msgpack/_packer.pyx:213, in msgpack._cmsgpack.Packer._pack_inner()\r\n\r\nFile msgpack/_packer.pyx:265, in msgpack._cmsgpack.Packer._pack()\r\n\r\nFile msgpack/_packer.pyx:213, in msgpack._cmsgpack.Packer._pack_inner()\r\n\r\nFile msgpack/_packer.pyx:267, in msgpack._cmsgpack.Packer._pack()\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\checkpoint\\serde\\jsonplus.py:227, in _msgpack_default(obj)\r\n    223 def _msgpack_default(obj: Any) -> Union[str, msgpack.ExtType]:\r\n    224     if hasattr(obj, \"model_dump\") and callable(obj.model_dump):  # pydantic v2\r\n    225         return msgpack.ExtType(\r\n    226             EXT_PYDANTIC_V2,\r\n--> 227             _msgpack_enc(\r\n    228                 (\r\n    229                     obj.__class__.__module__,\r\n    230                     obj.__class__.__name__,\r\n    231                     obj.model_dump(),\r\n    232                     \"model_validate_json\",\r\n    233                 ),\r\n    234             ),\r\n    235         )\r\n    236     elif hasattr(obj, \"dict\") and callable(obj.dict):  # pydantic v1\r\n    237         return msgpack.ExtType(\r\n    238             EXT_PYDANTIC_V1,\r\n    239             _msgpack_enc(\r\n   (...)\r\n    245             ),\r\n    246         )\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\checkpoint\\serde\\jsonplus.py:476, in _msgpack_enc(data)\r\n    474     enc = msgpack.Packer(default=_msgpack_default)\r\n    475 try:\r\n--> 476     return enc.pack(data)\r\n    477 finally:\r\n    478     ENC_POOL.append(enc)\r\n\r\nFile msgpack/_packer.pyx:279, in msgpack._cmsgpack.Packer.pack()\r\n\r\nFile msgpack/_packer.pyx:276, in msgpack._cmsgpack.Packer.pack()\r\n\r\nFile msgpack/_packer.pyx:265, in msgpack._cmsgpack.Packer._pack()\r\n\r\nFile msgpack/_packer.pyx:232, in msgpack._cmsgpack.Packer._pack_inner()\r\n\r\nFile msgpack/_packer.pyx:265, in msgpack._cmsgpack.Packer._pack()\r\n\r\nFile msgpack/_packer.pyx:213, in msgpack._cmsgpack.Packer._pack_inner()\r\n\r\nFile msgpack/_packer.pyx:267, in msgpack._cmsgpack.Packer._pack()\r\n\r\nFile ...\\Lib\\site-packages\\langgraph\\checkpoint\\serde\\jsonplus.py:409, in _msgpack_default(obj)\r\n    407     return repr(obj)\r\n    408 else:\r\n--> 409     raise TypeError(f\"Object of type {obj.__class__.__name__} is not serializable\")\r\n\r\nTypeError: Object of type SecretStr is not serializable\r\n```\n\n### Description\n\nGetting this strange intermittent error which kills a running flow at random places in the middle. All of my state keys are typed And none have the SecretStr type. \r\n\r\n there should be a setting to at least wrap checkpointing in a try/except  block so it doesn't  break the graph mid-execution.\r\n\r\nThis issue seems to have been fixed,  so I don't think it's a  problem with pydantic: https://github.com/pydantic/pydantic/issues/462\n\n### System Info\n\n\r\nSystem Information\r\n------------------\r\n> OS:  Windows\r\n> OS Version:  10.0.19045\r\n> Python Version:  3.12.6 | packaged by conda-forge | (main, Sep 22 2024, 14:01:26) [MSC v.1941 64 bit (AMD64)]\r\n\r\nPackage Information\r\n-------------------\r\n> langchain_core: 0.3.6\r\n> langchain: 0.3.1\r\n> langchain_community: 0.3.1\r\n> langsmith: 0.1.128\r\n> langchain_ollama: 0.2.0\r\n> langchain_openai: 0.2.0\r\n> langchain_text_splitters: 0.3.0\r\n> langgraph: 0.2.28\r\n\r\nOptional packages not installed\r\n-------------------------------\r\n> langserve\r\n\r\nOther Dependencies\r\n------------------\r\n> aiohttp: 3.10.6\r\n> async-timeout: Installed. No version info available.\r\n> dataclasses-json: 0.6.7\r\n> httpx: 0.27.2\r\n> jsonpatch: 1.33\r\n> langgraph-checkpoint: 1.0.11\r\n> numpy: 1.26.4\r\n> ollama: 0.3.3\r\n> openai: 1.48.0\r\n> orjson: 3.10.7\r\n> packaging: 24.1\r\n> pydantic: 2.8.2\r\n> pydantic-settings: 2.5.2\r\n> PyYAML: 6.0.2\r\n> requests: 2.32.3\r\n> SQLAlchemy: 2.0.35\r\n> tenacity: 8.5.0\r\n> tiktoken: 0.7.0\r\n> typing-extensions: 4.12.2\r\n","reactions":{"url":"https://api.github.com/repos/langchain-ai/langgraph/issues/1866/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/langchain-ai/langgraph/issues/1866/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]