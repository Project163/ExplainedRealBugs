{"url":"https://api.github.com/repos/pydantic/pydantic/issues/378","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/378/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/378/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/378/events","html_url":"https://github.com/pydantic/pydantic/issues/378","id":404432971,"node_id":"MDU6SXNzdWU0MDQ0MzI5NzE=","number":378,"title":"Skip optional fields","user":{"login":"dgasmith","id":1769841,"node_id":"MDQ6VXNlcjE3Njk4NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1769841?v=4","gravatar_id":"","url":"https://api.github.com/users/dgasmith","html_url":"https://github.com/dgasmith","followers_url":"https://api.github.com/users/dgasmith/followers","following_url":"https://api.github.com/users/dgasmith/following{/other_user}","gists_url":"https://api.github.com/users/dgasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/dgasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgasmith/subscriptions","organizations_url":"https://api.github.com/users/dgasmith/orgs","repos_url":"https://api.github.com/users/dgasmith/repos","events_url":"https://api.github.com/users/dgasmith/events{/privacy}","received_events_url":"https://api.github.com/users/dgasmith/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":597426504,"node_id":"MDU6TGFiZWw1OTc0MjY1MDQ=","url":"https://api.github.com/repos/pydantic/pydantic/labels/feature%20request","name":"feature request","color":"84b6eb","default":false,"description":""},{"id":597426505,"node_id":"MDU6TGFiZWw1OTc0MjY1MDU=","url":"https://api.github.com/repos/pydantic/pydantic/labels/help%20wanted","name":"help wanted","color":"128A0C","default":true,"description":"Pull Request welcome"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2019-01-29T18:44:24Z","updated_at":"2021-07-03T16:37:49Z","closed_at":"2019-02-13T15:10:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# Feature Request\r\n\r\nWe often drop pydantic objects into a NoSQL database where the individual object (document) structure is fairly sparse with quite a few defaults. To save space we often prune out the defaults as they can be regenerated on the fly fairly quickly. To this end, it would be useful to be able to drop results that have been defaulted when serializing automatically.\r\n\r\n```py\r\nfrom pydantic import BaseModel\r\nfrom typing import Optional\r\n\r\nclass User(BaseModel):\r\n    id: int\r\n    value: Optional[int]= None # Or some other decorator like Skip[int]?\r\n\r\nu = User(id=5)\r\n>>> print(u)\r\nUser id=5 value=None\r\n>>> print(u.dict())\r\n{'id': 5, 'value': None}\r\n\r\n# Desired feature\r\n>>> print(u.dict(skip_optional=True))\r\n{'id': 5}\r\n\r\n>>> u2 = User(id=5, value=5)\r\n{'id': 5, 'value': 5}\r\n```\r\n\r\nAgain, happy to add some code here if this is a feature you would consider.","closed_by":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/378/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/378/timeline","performed_via_github_app":null,"state_reason":"completed"}