[{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496773999","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-496773999","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":496773999,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Njc3Mzk5OQ==","user":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T03:55:30Z","updated_at":"2019-05-29T03:56:30Z","body":"Just to help clarify the use-case, I am using FastAPI and consider this endpoint:\r\n\r\n```py\r\nclass SegmentClientAccount(BaseModel):\r\n    name: str\r\n    exists: bool\r\n\r\nclass DialogueClientAccount(BaseModel):\r\n    name: str\r\n    exists: bool\r\n    scopes: List[str] = []\r\n\r\n\r\nclass DesiredState(BaseModel):\r\n    secret_resource_name: str = \"app-secrets-by-locksmith\"\r\n    accounts: List[Union[DialogueClientAccount, SegmentClientAccount]] = []\r\n\r\n\r\nclass SyncResponse:\r\n    status: str\r\n\r\n\r\n@app.post(\"/sync\", response_model=DesiredState)\r\ndef handle_sync(desired_state: DesiredState):\r\n    return desired_state\r\n```\r\n\r\nwhen http client sends:\r\n\r\n```\r\ncurl localhost:8000/sync --data '{ \"accounts\": [{ \"name\": \"foobar\", \"exists\": true }]}'\r\n```\r\n\r\nHow is Pydantic going to figure out if that is `SegmentClientAccount` or `DialogueClientAccount` ðŸ˜• It cannot.. It needs e.g.:\r\n\r\n```\r\ncurl localhost:8000/sync --data '{ \"accounts\": [{ \"kind\": \"dialogue_client\", \"name\": \"foobar\", \"exists\": true }]}'\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496773999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2373786632,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjM3Mzc4NjYzMg==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2373786632","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-05-29T03:56:56Z","rename":{"from":"union with discriminant","to":"union with discriminant for proper object parsing"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496867030","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-496867030","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":496867030,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Njg2NzAzMA==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T09:49:16Z","updated_at":"2019-05-29T09:49:16Z","body":"I think what you're looking for is [`Schema(..., const=True)`](https://pydantic-docs.helpmanual.io/#schema-creation).\r\n\r\nSee #469 and referenced issues for discussion. Let me know if that doesn't fix it.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496867030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2374507258,"node_id":"MDExOkNsb3NlZEV2ZW50MjM3NDUwNzI1OA==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2374507258","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-05-29T09:49:16Z","state_reason":null,"performed_via_github_app":null},{"id":2374507594,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzNzQ1MDc1OTQ=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2374507594","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-05-29T09:49:22Z","label":{"name":"question","color":"cc317c"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496923392","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-496923392","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":496923392,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjkyMzM5Mg==","user":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T12:52:46Z","updated_at":"2019-05-29T13:14:53Z","body":"Thanks that looks promising, will give it a try. An example showing how to specify what the const value is would be helpful, will post back with that once I find it, so we can maybe add it to the docs","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496923392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496924344","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-496924344","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":496924344,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjkyNDM0NA==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T12:55:33Z","updated_at":"2019-05-29T12:55:33Z","body":"I entirely agree an example in docs would be useful here.\r\n\r\nYou might look at #503 which is talking about the same thing I think.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496924344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496932974","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-496932974","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":496932974,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjkzMjk3NA==","user":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T13:19:01Z","updated_at":"2019-05-29T13:48:58Z","body":"Cool, thanks again, lots of good reading there.\r\n\r\nIt looks like an area where pydantic might expand/improve in the future? If the `Literal` type became standard to the `typing` library I think it would provide an optimal DX/soundness to at least a category of use-cases.\r\n\r\nAssuming `Literal` never did reach the standard library, is there any prospect of pydantic extending support for types within `typing_extensions`?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496932974/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496934641","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-496934641","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":496934641,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjkzNDY0MQ==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T13:23:18Z","updated_at":"2019-05-29T13:23:18Z","body":"What's the difference between `Literal` and `Final`? #502\r\n\r\nIf there's one agreed way of defining this I'd be happy to support it (and maybe even provide a proxy for it in pydantic if that helps).\r\n\r\nBut currently I'm not clear what (if any) approach has been anointed as \"right\" by python.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/496934641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498794968","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-498794968","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":498794968,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODc5NDk2OA==","user":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T18:45:42Z","updated_at":"2019-06-04T19:11:37Z","body":"@samuelcolvin My understanding is that `Final` has more to do with reassignment/mutability/overriding, whereas `Literal` is just a way to produce an annotation that is only considered the type of one (or more) specific literal value(s).\r\n\r\nThis is described in depth in the mypy docs for [Literal](https://mypy.readthedocs.io/en/latest/literal_types.html) and [Final](https://mypy.readthedocs.io/en/latest/final_attrs.html).\r\n\r\nBoth are potentially useful in pydantic -- `Final` could be used as a way to annotate that reassignment is not allowed, whereas `Literal` could be used to indicate that only specific values are allowed.\r\n\r\nIn particular, given the way pydantic dataclasses work (where assigning a value is actually just setting a default), I would expect the following behavior:\r\n```python\r\nclass FinalModel(BaseModel):\r\n    x: Final[float] = 3000\r\n\r\nclass LiteralModel(BaseModel):\r\n    x: Literal[3000] = 3000\r\n\r\nfinal_model = FinalModel(x=4000)  # okay\r\nfinal_model.x = 3000 # ValidationError due to Final\r\nliteral_model = LiteralModel(x=4000)  # ValidationError due to Literal\r\n```\r\n**However**, in the mypy docs for [Literal](https://mypy.readthedocs.io/en/latest/literal_types.html), it currently says:\r\n> Literal is an officially supported feature, but is highly experimental and should be considered to be in alpha stage. It is very likely that future releases of mypy will modify the behavior of literal types, either by adding new features or by tuning or removing problematic ones.\r\n\r\nSo perhaps it may be better for maintenance to just wait until this is more established.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498794968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2389108414,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM4OTEwODQxNA==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389108414","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-04T18:45:42Z","performed_via_github_app":null},{"id":2389108417,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzODkxMDg0MTc=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389108417","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-04T18:45:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498803852","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-498803852","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":498803852,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODgwMzg1Mg==","user":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T19:10:53Z","updated_at":"2019-06-04T19:11:23Z","body":"@dmontagu thanks for chiming in\r\n\r\n> whereas Literal could be used to indicate that only specific values are allowed.\r\n\r\nif pydantic cannot currently do this, then I don't see how it can support union types diverging over a  discriminant (but, I still have to find time to go read those threads @samuelcolvin).\r\n\r\n> potentially useful in pydantic\r\n\r\nIf we're in agreement about this, I would appreciate if keeping an issue open for transparency and tracking","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498803852/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2389174843,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM4OTE3NDg0Mw==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389174843","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:10:54Z","performed_via_github_app":null},{"id":2389174845,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzODkxNzQ4NDU=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389174845","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:10:54Z","performed_via_github_app":null},{"id":2389174848,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM4OTE3NDg0OA==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389174848","actor":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:10:54Z","performed_via_github_app":null},{"id":2389174850,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzODkxNzQ4NTA=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389174850","actor":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:10:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498805585","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-498805585","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":498805585,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODgwNTU4NQ==","user":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T19:16:13Z","updated_at":"2019-06-04T19:16:29Z","body":"@jasonkuhrt \r\n> if pydantic cannot currently do this, then I don't see how it can support union types diverging over a discriminant\r\n\r\nIf I understand correctly, the issue comes down to the difference between enforcing a type vs. enforcing a value. I would expect the union type with discriminant to work, e.g., for three subclasses of BaseModel (`Union[Model1, Model2, Model3]`), but `Union[1, 2, 3]` just doesn't even make sense since `1`, `2`, and `3` are not types. But `Union[Literal[1], Literal[2], Literal[3]]` (which is equivalent to `Literal[1, 2, 3]`) does make sense. I don't know what pydantic would do with it currently.\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498805585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2389188047,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM4OTE4ODA0Nw==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389188047","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:16:13Z","performed_via_github_app":null},{"id":2389188049,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzODkxODgwNDk=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389188049","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:16:13Z","performed_via_github_app":null},{"id":2389188052,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM4OTE4ODA1Mg==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389188052","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:16:13Z","performed_via_github_app":null},{"id":2389188054,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzODkxODgwNTQ=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389188054","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:16:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498810537","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-498810537","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":498810537,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODgxMDUzNw==","user":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T19:31:17Z","updated_at":"2019-06-04T19:31:35Z","body":">  I would expect the union type with discriminant to work, e.g., for three subclasses of BaseModel (Union[Model1, Model2, Model3])\r\n\r\n@dmontagu Can you show me a minimal example?\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498810537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2389225841,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM4OTIyNTg0MQ==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389225841","actor":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:31:27Z","performed_via_github_app":null},{"id":2389225842,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzODkyMjU4NDI=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389225842","actor":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-04T19:31:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498840020","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-498840020","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":498840020,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODg0MDAyMA==","user":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T20:55:08Z","updated_at":"2019-06-04T20:55:08Z","body":"@jasonkuhrt Sorry, I think I phrased that confusingly/wrong. I just meant that if you had three classes with incompatible property types, you could use Union and it would work currently (no \"discriminant\" necessary). But you can't union values (what it looks like `Literal` is supposed to accomplish).\r\n\r\nMore explicitly, I was just saying you could do this:\r\n```python\r\nfrom pydantic import BaseModel, Union\r\n\r\nclass A(BaseModel):\r\n    kind: str\r\n    foo: str\r\n\r\nclass B(BaseModel):\r\n    kind: str\r\n    bar: str\r\n\r\nclass C(BaseModel):\r\n    results: Union[A, B]\r\n\r\nprint(C(results={\"kind\": \"a\", \"bar\": \"bar\"}))  # shows C results=<B kind='a' bar='bar'>\r\nprint(C(results={\"kind\": \"b\", \"foo\": \"foo\"}))  # shows C results=<A kind='b' foo='foo'>\r\n```\r\nand that support for `Literal` could be *added* to support the case where there was a check on `kind` even if `bar` was renamed to `foo` in B (but this doesn't exist yet). The points I was making above were proposals for how to handle `Literal` vs. `Final`, rather than an attempt to explain how you can currently use pydantic to accomplish this goal.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498840020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2389437867,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM4OTQzNzg2Nw==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389437867","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-04T20:55:08Z","performed_via_github_app":null},{"id":2389437868,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzODk0Mzc4Njg=","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389437868","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-06-04T20:55:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498853355","html_url":"https://github.com/pydantic/pydantic/issues/561#issuecomment-498853355","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/561","id":498853355,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODg1MzM1NQ==","user":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T21:38:07Z","updated_at":"2019-06-04T21:40:14Z","body":"@jasonkuhrt if you want to be able to use a \"kind\" parameter to discriminate types, I think you might find the following code to be a useful starting point\r\n```python\r\nfrom typing import ClassVar, Dict, List, Optional\r\n\r\nfrom pydantic import Any, BaseModel, Union, validator\r\n\r\n\r\nclass KindModel(BaseModel):\r\n    allowed_kinds: ClassVar[Union[None, str, List[str]]] = None\r\n    kind: str\r\n\r\n    @validator(\"kind\", check_fields=False)\r\n    def validate_kind(cls, v: Any, *, values: Dict[str, Any], **kwargs: Any) -> Optional[str]:\r\n        if cls.allowed_kinds is None:\r\n            return v\r\n        elif isinstance(cls.allowed_kinds, list):\r\n            if v not in cls.allowed_kinds:\r\n                raise ValueError(f\"kind not in {cls.allowed_kinds!r}\")\r\n        elif v != cls.allowed_kinds:\r\n            raise ValueError(f\"kind != {cls.allowed_kinds!r}\")\r\n        return v\r\n\r\n\r\nclass KindAModel(KindModel):\r\n    allowed_kinds: ClassVar[str] = \"a\"\r\n\r\n\r\nclass KindBModel(KindModel):\r\n    allowed_kinds: ClassVar[str] = \"b\"\r\n\r\n\r\nclass KindABModel(KindModel):\r\n    allowed_kinds: ClassVar[str] = [\"a\", \"b\"]\r\n\r\n\r\nclass ExampleModel(BaseModel):\r\n    cast: Union[KindAModel, KindBModel]\r\n    union: KindABModel\r\n    any_: KindModel\r\n\r\n\r\n# ##### Demonstration #####\r\n\r\naaa_parent = ExampleModel(cast={\"kind\": \"a\"}, union={\"kind\": \"a\"}, any_={\"kind\": \"a\"})\r\nprint(aaa_parent)\r\n# ParentModel cast=<KindAModel kind='a'> union=<KindABModel kind='a'> any_=<KindModel kind='a'>\r\nprint(aaa_parent.dict())\r\n# {'cast': {'kind': 'a'}, 'union': {'kind': 'a'}, 'any_': {'kind': 'a'}}\r\n\r\nbbb_parent = ExampleModel(cast={\"kind\": \"b\"}, union={\"kind\": \"b\"}, any_={\"kind\": \"b\"})\r\nprint(bbb_parent)\r\n# ParentModel cast=<KindBModel kind='b'> union=<KindABModel kind='b'> any_=<KindModel kind='b'>\r\n\r\nabc_parent = ExampleModel(cast={\"kind\": \"a\"}, union={\"kind\": \"b\"}, any_={\"kind\": \"c\"})\r\nprint(abc_parent)\r\n# ParentModel cast=<KindAModel kind='a'> union=<KindABModel kind='b'> any_=<KindModel kind='c'>\r\n\r\nccc_parent = ExampleModel(cast={\"kind\": \"c\"}, union={\"kind\": \"c\"}, any_={\"kind\": \"c\"})\r\n\"\"\"\r\nError output from previous line: \r\n\r\npydantic.error_wrappers.ValidationError: 3 validation errors\r\ncast -> kind\r\n  kind != 'a' (type=value_error)\r\ncast -> kind\r\n  kind != 'b' (type=value_error)\r\nunion -> kind\r\n  kind not in ['a', 'b'] (type=value_error)\r\n\"\"\"\r\n\r\n```\r\n\r\n-----\r\n\r\n@samuelcolvin I think it would be awesome if the above class declarations could be replaced with this:\r\n```python\r\nclass KindModel(BaseModel):\r\n    kind: str\r\n\r\nclass KindAModel(BaseModel):\r\n    kind: Literal[\"a\"]\r\n\r\nclass KindBModel(BaseModel):\r\n    kind: Literal[\"b\"]\r\n\r\nclass KindABModel(BaseModel):\r\n    kind: Literal[\"a\", \"b\"]\r\n```\r\n(that's how I'm thinking of using `Literal`). I'd also be happy with more of a pydantic-specific syntax if we want to avoid using `typing_extensions.Literal` due to possible implementation changes.\r\n\r\n(I'd be happy to put in the effort to implement `Literal` integration if it was of interest; I just don't want to work on it if it's definitely not going to be accepted for broader reasons.)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/498853355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmontagu","id":35119617,"node_id":"MDQ6VXNlcjM1MTE5NjE3","avatar_url":"https://avatars.githubusercontent.com/u/35119617?v=4","gravatar_id":"","url":"https://api.github.com/users/dmontagu","html_url":"https://github.com/dmontagu","followers_url":"https://api.github.com/users/dmontagu/followers","following_url":"https://api.github.com/users/dmontagu/following{/other_user}","gists_url":"https://api.github.com/users/dmontagu/gists{/gist_id}","starred_url":"https://api.github.com/users/dmontagu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmontagu/subscriptions","organizations_url":"https://api.github.com/users/dmontagu/orgs","repos_url":"https://api.github.com/users/dmontagu/repos","events_url":"https://api.github.com/users/dmontagu/events{/privacy}","received_events_url":"https://api.github.com/users/dmontagu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2389537609,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM4OTUzNzYwOQ==","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/2389537609","actor":{"login":"jasonkuhrt","id":284476,"node_id":"MDQ6VXNlcjI4NDQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/284476?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkuhrt","html_url":"https://github.com/jasonkuhrt","followers_url":"https://api.github.com/users/jasonkuhrt/followers","following_url":"https://api.github.com/users/jasonkuhrt/following{/other_user}","gists_url":"https://api.github.com/users/jasonkuhrt/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkuhrt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkuhrt/subscriptions","organizations_url":"https://api.github.com/users/jasonkuhrt/orgs","repos_url":"https://api.github.com/users/jasonkuhrt/repos","events_url":"https://api.github.com/users/jasonkuhrt/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkuhrt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-06-04T21:38:07Z","performed_via_github_app":null}]