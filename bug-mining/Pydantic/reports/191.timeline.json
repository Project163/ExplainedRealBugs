[{"id":9424836230,"node_id":"LE_lADOBWBCuM5nu9_JzwAAAAIxw5aG","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/9424836230","actor":{"login":"meetinger","id":10086234,"node_id":"MDQ6VXNlcjEwMDg2MjM0","avatar_url":"https://avatars.githubusercontent.com/u/10086234?v=4","gravatar_id":"","url":"https://api.github.com/users/meetinger","html_url":"https://github.com/meetinger","followers_url":"https://api.github.com/users/meetinger/followers","following_url":"https://api.github.com/users/meetinger/following{/other_user}","gists_url":"https://api.github.com/users/meetinger/gists{/gist_id}","starred_url":"https://api.github.com/users/meetinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meetinger/subscriptions","organizations_url":"https://api.github.com/users/meetinger/orgs","repos_url":"https://api.github.com/users/meetinger/repos","events_url":"https://api.github.com/users/meetinger/events{/privacy}","received_events_url":"https://api.github.com/users/meetinger/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-04T13:05:15Z","label":{"name":"feature request","color":"84b6eb"},"performed_via_github_app":null},{"id":14571430295,"node_id":"ATPVTE_lADOBWBCuM5nu9_JzwAAAANkhmGX","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/14571430295","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"added_to_project_v2","commit_id":null,"commit_url":null,"created_at":"2023-06-05T08:55:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1576398688","html_url":"https://github.com/pydantic/pydantic/issues/5992#issuecomment-1576398688","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992","id":1576398688,"node_id":"IC_kwDOBWBCuM5d9e9g","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T08:56:34Z","updated_at":"2023-06-05T08:56:34Z","body":"Good idea, I'd been keen to support `Self` as a type annotation in V2.\r\n\r\nWe should support both `typing.Self` and `typing_extensions.Self` - shouldn't be too hard as we already support building a core schema for forward refs to the current model.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1576398688/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1582549167","html_url":"https://github.com/pydantic/pydantic/issues/5992#issuecomment-1582549167","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992","id":1582549167,"node_id":"IC_kwDOBWBCuM5eU8iv","user":{"login":"pekkaklarck","id":114985,"node_id":"MDQ6VXNlcjExNDk4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/114985?v=4","gravatar_id":"","url":"https://api.github.com/users/pekkaklarck","html_url":"https://github.com/pekkaklarck","followers_url":"https://api.github.com/users/pekkaklarck/followers","following_url":"https://api.github.com/users/pekkaklarck/following{/other_user}","gists_url":"https://api.github.com/users/pekkaklarck/gists{/gist_id}","starred_url":"https://api.github.com/users/pekkaklarck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pekkaklarck/subscriptions","organizations_url":"https://api.github.com/users/pekkaklarck/orgs","repos_url":"https://api.github.com/users/pekkaklarck/repos","events_url":"https://api.github.com/users/pekkaklarck/events{/privacy}","received_events_url":"https://api.github.com/users/pekkaklarck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-08T13:07:09Z","updated_at":"2023-06-08T13:07:09Z","body":"I just encountered this myself. Using `Self` would be especially convenient with unions like `Self | OtherType`. Without it you need to enclose the whole union in quotes like `'MyType | OtherType'`. Unless migration to v2 is going to be easy, I hope this would be supported also with v1.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1582549167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pekkaklarck","id":114985,"node_id":"MDQ6VXNlcjExNDk4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/114985?v=4","gravatar_id":"","url":"https://api.github.com/users/pekkaklarck","html_url":"https://github.com/pekkaklarck","followers_url":"https://api.github.com/users/pekkaklarck/followers","following_url":"https://api.github.com/users/pekkaklarck/following{/other_user}","gists_url":"https://api.github.com/users/pekkaklarck/gists{/gist_id}","starred_url":"https://api.github.com/users/pekkaklarck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pekkaklarck/subscriptions","organizations_url":"https://api.github.com/users/pekkaklarck/orgs","repos_url":"https://api.github.com/users/pekkaklarck/repos","events_url":"https://api.github.com/users/pekkaklarck/events{/privacy}","received_events_url":"https://api.github.com/users/pekkaklarck/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1605891253","html_url":"https://github.com/pydantic/pydantic/issues/5992#issuecomment-1605891253","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992","id":1605891253,"node_id":"IC_kwDOBWBCuM5ft_S1","user":{"login":"adriangb","id":1755071,"node_id":"MDQ6VXNlcjE3NTUwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1755071?v=4","gravatar_id":"","url":"https://api.github.com/users/adriangb","html_url":"https://github.com/adriangb","followers_url":"https://api.github.com/users/adriangb/followers","following_url":"https://api.github.com/users/adriangb/following{/other_user}","gists_url":"https://api.github.com/users/adriangb/gists{/gist_id}","starred_url":"https://api.github.com/users/adriangb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriangb/subscriptions","organizations_url":"https://api.github.com/users/adriangb/orgs","repos_url":"https://api.github.com/users/adriangb/repos","events_url":"https://api.github.com/users/adriangb/events{/privacy}","received_events_url":"https://api.github.com/users/adriangb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-25T06:16:42Z","updated_at":"2023-06-25T06:16:42Z","body":"I just want to point out that to do this correctly weâ€™ll have to handle subclasses. That is:\r\n\r\n```python\r\nclass Model(BaseModel):\r\n    x: Self | None = None\r\n\r\nclass SubModel(Model):\r\n    pass\r\n\r\nModel(x=Model())\r\nModel(x=SubModel())\r\nSubModel(x=SubModel())\r\nSubModel(x=Model())  # error\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1605891253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adriangb","id":1755071,"node_id":"MDQ6VXNlcjE3NTUwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1755071?v=4","gravatar_id":"","url":"https://api.github.com/users/adriangb","html_url":"https://github.com/adriangb","followers_url":"https://api.github.com/users/adriangb/followers","following_url":"https://api.github.com/users/adriangb/following{/other_user}","gists_url":"https://api.github.com/users/adriangb/gists{/gist_id}","starred_url":"https://api.github.com/users/adriangb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriangb/subscriptions","organizations_url":"https://api.github.com/users/adriangb/orgs","repos_url":"https://api.github.com/users/adriangb/repos","events_url":"https://api.github.com/users/adriangb/events{/privacy}","received_events_url":"https://api.github.com/users/adriangb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9775097128,"node_id":"MIE_lADOBWBCuM5nu9_JzwAAAAJGpCUo","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/9775097128","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-07-10T13:43:48Z","milestone":{"title":"2.0"},"performed_via_github_app":null},{"id":9885391078,"node_id":"DEME_lADOBWBCuM5nu9_JzwAAAAJNNxjm","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/9885391078","actor":{"login":"Kludex","id":7353520,"node_id":"MDQ6VXNlcjczNTM1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/7353520?v=4","gravatar_id":"","url":"https://api.github.com/users/Kludex","html_url":"https://github.com/Kludex","followers_url":"https://api.github.com/users/Kludex/followers","following_url":"https://api.github.com/users/Kludex/following{/other_user}","gists_url":"https://api.github.com/users/Kludex/gists{/gist_id}","starred_url":"https://api.github.com/users/Kludex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kludex/subscriptions","organizations_url":"https://api.github.com/users/Kludex/orgs","repos_url":"https://api.github.com/users/Kludex/repos","events_url":"https://api.github.com/users/Kludex/events{/privacy}","received_events_url":"https://api.github.com/users/Kludex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2023-07-21T13:29:52Z","milestone":{"title":"2.0.X bugfixes"},"performed_via_github_app":null},{"id":9885391083,"node_id":"MIE_lADOBWBCuM5nu9_JzwAAAAJNNxjr","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/9885391083","actor":{"login":"Kludex","id":7353520,"node_id":"MDQ6VXNlcjczNTM1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/7353520?v=4","gravatar_id":"","url":"https://api.github.com/users/Kludex","html_url":"https://github.com/Kludex","followers_url":"https://api.github.com/users/Kludex/followers","following_url":"https://api.github.com/users/Kludex/following{/other_user}","gists_url":"https://api.github.com/users/Kludex/gists{/gist_id}","starred_url":"https://api.github.com/users/Kludex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kludex/subscriptions","organizations_url":"https://api.github.com/users/Kludex/orgs","repos_url":"https://api.github.com/users/Kludex/repos","events_url":"https://api.github.com/users/Kludex/events{/privacy}","received_events_url":"https://api.github.com/users/Kludex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-07-21T13:29:52Z","milestone":{"title":"Next release"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1722221926","html_url":"https://github.com/pydantic/pydantic/issues/5992#issuecomment-1722221926","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992","id":1722221926,"node_id":"IC_kwDOBWBCuM5mpwVm","user":{"login":"rishacha","id":30197357,"node_id":"MDQ6VXNlcjMwMTk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/30197357?v=4","gravatar_id":"","url":"https://api.github.com/users/rishacha","html_url":"https://github.com/rishacha","followers_url":"https://api.github.com/users/rishacha/followers","following_url":"https://api.github.com/users/rishacha/following{/other_user}","gists_url":"https://api.github.com/users/rishacha/gists{/gist_id}","starred_url":"https://api.github.com/users/rishacha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rishacha/subscriptions","organizations_url":"https://api.github.com/users/rishacha/orgs","repos_url":"https://api.github.com/users/rishacha/repos","events_url":"https://api.github.com/users/rishacha/events{/privacy}","received_events_url":"https://api.github.com/users/rishacha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-16T12:40:36Z","updated_at":"2023-09-16T12:40:36Z","body":"I have 2 queries -\n1. What's the solution for this if I have a recursive model being used in a project?\n1. Can I help/get involved with the implementation in any way?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1722221926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rishacha","id":30197357,"node_id":"MDQ6VXNlcjMwMTk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/30197357?v=4","gravatar_id":"","url":"https://api.github.com/users/rishacha","html_url":"https://github.com/rishacha","followers_url":"https://api.github.com/users/rishacha/followers","following_url":"https://api.github.com/users/rishacha/following{/other_user}","gists_url":"https://api.github.com/users/rishacha/gists{/gist_id}","starred_url":"https://api.github.com/users/rishacha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rishacha/subscriptions","organizations_url":"https://api.github.com/users/rishacha/orgs","repos_url":"https://api.github.com/users/rishacha/repos","events_url":"https://api.github.com/users/rishacha/events{/privacy}","received_events_url":"https://api.github.com/users/rishacha/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1751959909","html_url":"https://github.com/pydantic/pydantic/issues/5992#issuecomment-1751959909","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992","id":1751959909,"node_id":"IC_kwDOBWBCuM5obMll","user":{"login":"rishacha","id":30197357,"node_id":"MDQ6VXNlcjMwMTk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/30197357?v=4","gravatar_id":"","url":"https://api.github.com/users/rishacha","html_url":"https://github.com/rishacha","followers_url":"https://api.github.com/users/rishacha/followers","following_url":"https://api.github.com/users/rishacha/following{/other_user}","gists_url":"https://api.github.com/users/rishacha/gists{/gist_id}","starred_url":"https://api.github.com/users/rishacha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rishacha/subscriptions","organizations_url":"https://api.github.com/users/rishacha/orgs","repos_url":"https://api.github.com/users/rishacha/repos","events_url":"https://api.github.com/users/rishacha/events{/privacy}","received_events_url":"https://api.github.com/users/rishacha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-08T08:23:19Z","updated_at":"2023-10-08T08:51:07Z","body":"I have a sample test which fails for `typing.Self`\r\n\r\nSupposing I have a model like this\r\n\r\n\r\n### Error 1 \r\n```py\r\nclass DocumentItemModel(BaseModel):\r\n    ChildItems: list[DocumentItemModel]\r\n    ...\r\n```\r\nThe above code would result in an error like this - \r\n\r\n```sh\r\nDocumentItemModel is not defined\r\n```\r\n\r\n### Error 2\r\n\r\n```py\r\nfrom typing import Self\r\n\r\nclass DocumentItemModel(BaseModel):\r\n    ChildItems: list[Self]\r\n```\r\nThe above code would result in an error like this - \r\n\r\n```sh\r\nmodel\\import_api\\document_item_model.py:18: in <module>\r\n    class DocumentItemModel(BaseModel):\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_model_construction.py:178: in __new__\r\n    complete_model_class(\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_model_construction.py:468: in complete_model_class\r\n    schema = cls.__get_pydantic_core_schema__(cls, handler)\r\n.venv\\Lib\\site-packages\\pydantic\\main.py:557: in __get_pydantic_core_schema__\r\n    return __handler(__source)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_schema_generation_shared.py:82: in __call__\r\n    schema = self._handler(__source_type)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:448: in generate_schema\r\n    schema = self._generate_schema(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:689: in _generate_schema\r\n    return self._model_schema(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:519: in _model_schema\r\n    {k: self._generate_md_field_schema(k, v, decorators) for k, v in fields.items()},\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:519: in <dictcomp>\r\n    {k: self._generate_md_field_schema(k, v, decorators) for k, v in fields.items()},\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:853: in _generate_md_field_schema\r\n    common_field = self._common_field_schema(name, field_info, decorators)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:905: in _common_field_schema\r\n    schema = self._apply_annotations(\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:1610: in _apply_annotations\r\n    schema = get_inner_schema(source_type)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_schema_generation_shared.py:82: in __call__\r\n    schema = self._handler(__source_type)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:1574: in inner_handler\r\n    schema = self._generate_schema(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:694: in _generate_schema\r\n    return self.match_type(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:777: in match_type\r\n    return self._match_generic_type(obj, origin)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:801: in _match_generic_type\r\n    return self._union_schema(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:988: in _union_schema\r\n    choices.append(self.generate_schema(arg))\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:440: in generate_schema\r\n    schema = self._generate_schema_from_prepare_annotations(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:553: in _generate_schema_from_prepare_annotations\r\n    return self._apply_annotations(\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:1610: in _apply_annotations\r\n    schema = get_inner_schema(source_type)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_schema_generation_shared.py:82: in __call__\r\n    schema = self._handler(__source_type)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:1703: in new_handler\r\n    schema = metadata_get_schema(source, get_inner_schema)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_std_types_schema.py:308: in __get_pydantic_core_schema__\r\n    items_schema = handler.generate_schema(self.item_source_type)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_schema_generation_shared.py:96: in generate_schema\r\n    return self._generate_schema.generate_schema(__source_type)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:448: in generate_schema\r\n    schema = self._generate_schema(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:694: in _generate_schema\r\n    return self.match_type(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:781: in match_type\r\n    return self._unknown_type_schema(obj)\r\n.venv\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:377: in _unknown_type_schema\r\n    raise PydanticSchemaGenerationError(\r\nE   pydantic.errors.PydanticSchemaGenerationError: Unable to generate pydantic-core schema for typing.Self. Set `arbitrary_types_allowed=True` in the model_config to ignore this error or implement `__get_pydantic_core_schema__` on your type to fully support it.\r\nE  \r\nE   If you got this error by calling handler(<some type>) within `__get_pydantic_core_schema__` then you likely need to call `handler.generate_schema(<some type>)` since we do not call `__get_pydantic_core_schema__` on `<some type>` otherwise to avoid infinite recursion.\r\nE  \r\nE   For further information visit https://errors.pydantic.dev/2.3/u/schema-for-unknown-type\r\n```\r\n### Possible solution\r\nUse quotes in a model like this\r\n\r\n```py\r\nclass DocumentItemModel(BaseModel):\r\n    ChildItems: list['DocumentItemModel']\r\n    ...\r\n```\r\nThis works. But I am trying to investigate why typing.Self fails. \r\n\r\n@Kludex - Can you please help me understand if I'm on the right track?\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1751959909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rishacha","id":30197357,"node_id":"MDQ6VXNlcjMwMTk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/30197357?v=4","gravatar_id":"","url":"https://api.github.com/users/rishacha","html_url":"https://github.com/rishacha","followers_url":"https://api.github.com/users/rishacha/followers","following_url":"https://api.github.com/users/rishacha/following{/other_user}","gists_url":"https://api.github.com/users/rishacha/gists{/gist_id}","starred_url":"https://api.github.com/users/rishacha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rishacha/subscriptions","organizations_url":"https://api.github.com/users/rishacha/orgs","repos_url":"https://api.github.com/users/rishacha/repos","events_url":"https://api.github.com/users/rishacha/events{/privacy}","received_events_url":"https://api.github.com/users/rishacha/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10583595753,"node_id":"MEE_lADOBWBCuM5nu9_JzwAAAAJ21Nrp","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/10583595753","actor":{"login":"Kludex","id":7353520,"node_id":"MDQ6VXNlcjczNTM1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/7353520?v=4","gravatar_id":"","url":"https://api.github.com/users/Kludex","html_url":"https://github.com/Kludex","followers_url":"https://api.github.com/users/Kludex/followers","following_url":"https://api.github.com/users/Kludex/following{/other_user}","gists_url":"https://api.github.com/users/Kludex/gists{/gist_id}","starred_url":"https://api.github.com/users/Kludex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kludex/subscriptions","organizations_url":"https://api.github.com/users/Kludex/orgs","repos_url":"https://api.github.com/users/Kludex/repos","events_url":"https://api.github.com/users/Kludex/events{/privacy}","received_events_url":"https://api.github.com/users/Kludex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-08T08:47:24Z","performed_via_github_app":null},{"id":10583595754,"node_id":"SE_lADOBWBCuM5nu9_JzwAAAAJ21Nrq","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/10583595754","actor":{"login":"Kludex","id":7353520,"node_id":"MDQ6VXNlcjczNTM1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/7353520?v=4","gravatar_id":"","url":"https://api.github.com/users/Kludex","html_url":"https://github.com/Kludex","followers_url":"https://api.github.com/users/Kludex/followers","following_url":"https://api.github.com/users/Kludex/following{/other_user}","gists_url":"https://api.github.com/users/Kludex/gists{/gist_id}","starred_url":"https://api.github.com/users/Kludex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kludex/subscriptions","organizations_url":"https://api.github.com/users/Kludex/orgs","repos_url":"https://api.github.com/users/Kludex/repos","events_url":"https://api.github.com/users/Kludex/events{/privacy}","received_events_url":"https://api.github.com/users/Kludex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-08T08:47:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1752112209","html_url":"https://github.com/pydantic/pydantic/issues/5992#issuecomment-1752112209","issue_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992","id":1752112209,"node_id":"IC_kwDOBWBCuM5obxxR","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-08T17:28:54Z","updated_at":"2023-10-08T17:28:54Z","body":"> But I am trying to investigate why typing.Self fails.\r\n\r\nBecause no one has done the work to support it yet.\r\n\r\nFeel free to submit a PR, but I suspect it's not that easy.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/comments/1752112209/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T02:27:04Z","updated_at":"2023-10-30T02:27:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/7949","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/7949/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/7949/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/7949/events","html_url":"https://github.com/pydantic/pydantic/issues/7949","id":1965796974,"node_id":"I_kwDOBWBCuM51K65u","number":7949,"title":"UserWarning about Self not being a type","user":{"login":"marekro","id":43476190,"node_id":"MDQ6VXNlcjQzNDc2MTkw","avatar_url":"https://avatars.githubusercontent.com/u/43476190?v=4","gravatar_id":"","url":"https://api.github.com/users/marekro","html_url":"https://github.com/marekro","followers_url":"https://api.github.com/users/marekro/followers","following_url":"https://api.github.com/users/marekro/following{/other_user}","gists_url":"https://api.github.com/users/marekro/gists{/gist_id}","starred_url":"https://api.github.com/users/marekro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marekro/subscriptions","organizations_url":"https://api.github.com/users/marekro/orgs","repos_url":"https://api.github.com/users/marekro/repos","events_url":"https://api.github.com/users/marekro/events{/privacy}","received_events_url":"https://api.github.com/users/marekro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":597426507,"node_id":"MDU6TGFiZWw1OTc0MjY1MDc=","url":"https://api.github.com/repos/pydantic/pydantic/labels/question","name":"question","color":"cc317c","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":9,"created_at":"2023-10-27T15:55:44Z","updated_at":"2024-03-26T16:30:30Z","closed_at":"2024-03-26T16:30:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":90194616,"node_id":"MDEwOlJlcG9zaXRvcnk5MDE5NDYxNg==","name":"pydantic","full_name":"pydantic/pydantic","private":false,"owner":{"login":"pydantic","id":110818415,"node_id":"O_kgDOBpr0bw","avatar_url":"https://avatars.githubusercontent.com/u/110818415?v=4","gravatar_id":"","url":"https://api.github.com/users/pydantic","html_url":"https://github.com/pydantic","followers_url":"https://api.github.com/users/pydantic/followers","following_url":"https://api.github.com/users/pydantic/following{/other_user}","gists_url":"https://api.github.com/users/pydantic/gists{/gist_id}","starred_url":"https://api.github.com/users/pydantic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pydantic/subscriptions","organizations_url":"https://api.github.com/users/pydantic/orgs","repos_url":"https://api.github.com/users/pydantic/repos","events_url":"https://api.github.com/users/pydantic/events{/privacy}","received_events_url":"https://api.github.com/users/pydantic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pydantic/pydantic","description":"Data validation using Python type hints","fork":false,"url":"https://api.github.com/repos/pydantic/pydantic","forks_url":"https://api.github.com/repos/pydantic/pydantic/forks","keys_url":"https://api.github.com/repos/pydantic/pydantic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pydantic/pydantic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pydantic/pydantic/teams","hooks_url":"https://api.github.com/repos/pydantic/pydantic/hooks","issue_events_url":"https://api.github.com/repos/pydantic/pydantic/issues/events{/number}","events_url":"https://api.github.com/repos/pydantic/pydantic/events","assignees_url":"https://api.github.com/repos/pydantic/pydantic/assignees{/user}","branches_url":"https://api.github.com/repos/pydantic/pydantic/branches{/branch}","tags_url":"https://api.github.com/repos/pydantic/pydantic/tags","blobs_url":"https://api.github.com/repos/pydantic/pydantic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pydantic/pydantic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pydantic/pydantic/git/refs{/sha}","trees_url":"https://api.github.com/repos/pydantic/pydantic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pydantic/pydantic/statuses/{sha}","languages_url":"https://api.github.com/repos/pydantic/pydantic/languages","stargazers_url":"https://api.github.com/repos/pydantic/pydantic/stargazers","contributors_url":"https://api.github.com/repos/pydantic/pydantic/contributors","subscribers_url":"https://api.github.com/repos/pydantic/pydantic/subscribers","subscription_url":"https://api.github.com/repos/pydantic/pydantic/subscription","commits_url":"https://api.github.com/repos/pydantic/pydantic/commits{/sha}","git_commits_url":"https://api.github.com/repos/pydantic/pydantic/git/commits{/sha}","comments_url":"https://api.github.com/repos/pydantic/pydantic/comments{/number}","issue_comment_url":"https://api.github.com/repos/pydantic/pydantic/issues/comments{/number}","contents_url":"https://api.github.com/repos/pydantic/pydantic/contents/{+path}","compare_url":"https://api.github.com/repos/pydantic/pydantic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pydantic/pydantic/merges","archive_url":"https://api.github.com/repos/pydantic/pydantic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pydantic/pydantic/downloads","issues_url":"https://api.github.com/repos/pydantic/pydantic/issues{/number}","pulls_url":"https://api.github.com/repos/pydantic/pydantic/pulls{/number}","milestones_url":"https://api.github.com/repos/pydantic/pydantic/milestones{/number}","notifications_url":"https://api.github.com/repos/pydantic/pydantic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pydantic/pydantic/labels{/name}","releases_url":"https://api.github.com/repos/pydantic/pydantic/releases{/id}","deployments_url":"https://api.github.com/repos/pydantic/pydantic/deployments","created_at":"2017-05-03T21:23:58Z","updated_at":"2025-11-09T17:32:47Z","pushed_at":"2025-11-09T09:36:17Z","git_url":"git://github.com/pydantic/pydantic.git","ssh_url":"git@github.com:pydantic/pydantic.git","clone_url":"https://github.com/pydantic/pydantic.git","svn_url":"https://github.com/pydantic/pydantic","homepage":"https://docs.pydantic.dev","size":327577,"stargazers_count":25701,"watchers_count":25701,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2306,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":512,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hints","json-schema","parsing","pydantic","python","python310","python311","python312","python313","python39","validation"],"visibility":"public","forks":2306,"open_issues":512,"watchers":25701,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Initial Checks\n\n- [X] I confirm that I'm using Pydantic V2\n\n### Description\n\nI would like to build a generic \"Tree\" class which represents a directed acyclic graph. Core of this is a self-referencing node-like class, and a container class - all based on pydantic. See the code below. Running this in Python 3.10.12 generates a warning:\r\n```\r\n.../pydantic/_internal/_generate_schema.py:355: UserWarning: typing_extensions.Self is not a Python type (it may be an instance of an object), Pydantic will allow any object with no validation since we cannot even enforce that the input is an instance of the given type. To get rid of this error wrap the type with `pydantic.SkipValidation`.\r\n```\r\nI tried to apply `SkipValidation` on all levels, but that did not mitigate the warning. It seems like this is another special case that needs to be handled specifically in pydantic. If there is anything wrong with my code example, let me know. Thank you!\n\n### Example Code\n\n```Python\nfrom typing import Generic, Sequence, TypeVar\r\nfrom typing_extensions import Self\r\nimport pydantic\r\nimport weakref\r\n\r\nT_co = TypeVar(\"B_co\", bound=pydantic.BaseModel, covariant=True)\r\n\r\n\r\nclass Container(pydantic.RootModel[list[T_co]]):\r\n    model_config = pydantic.ConfigDict(arbitrary_types_allowed=True)\r\n    root: list[T_co]\r\n\r\n    def __init__(self, *args: T_co) -> None:\r\n        super().__init__(list(args))\r\n\r\n\r\nclass Tree(Generic[T_co], pydantic.BaseModel):\r\n\r\n    \"\"\"this class allows to store hierarchical trees of objects, with helper methods to\r\n    traverse the tree\"\"\"\r\n\r\n    model_config = pydantic.ConfigDict(arbitrary_types_allowed=True)\r\n\r\n    _parent: weakref.ReferenceType[Self] | None = pydantic.PrivateAttr()  # to: Tree[T_co]\r\n    item: T_co\r\n    child_nodes: Container[Self]\r\n\r\n    def __init__(\r\n            self,\r\n            item: T_co,\r\n            child_nodes: Sequence[Self] | None = None,\r\n            parent: Self | None = None,\r\n    ) -> None:\r\n        my_children = Container.model_construct(\r\n            root=[] if child_nodes is None else list(child_nodes)\r\n        )\r\n        # we need to work around pydantic magic\r\n        super().__init__(item=item, child_nodes=my_children)  # type: ignore[call-arg]\r\n        for i in self.child_nodes.items():\r\n            i._parent = weakref.ref(self)\r\n        self._parent = None if parent is None else weakref.ref(parent)\r\n        if parent is not None:\r\n            parent._adopt_child(self)\r\n\r\n    def _adopt_child(self, child: Self) -> None:\r\n        \"\"\"ensure we are part of the new parent's child_nodes\"\"\"\r\n        if any(id(i) == id(child) for i in self.get_child_nodes()):\r\n            # I am already in the (new) parent\r\n            return\r\n        self.child_nodes.append(child)\n```\n\n\n### Python, Pydantic & OS Version\n\n```Text\npydantic version: 2.4.2\r\n        pydantic-core version: 2.10.1\r\n          pydantic-core build: profile=release pgo=false\r\n                 install path: .../.venv/lib/python3.10/site-packages/pydantic\r\n               python version: 3.10.12 (main, Jul  3 2023, 09:50:10) [Clang 14.0.0 (clang-1400.0.29.202)]\r\n                     platform: macOS-13.5.2-x86_64-i386-64bit\r\n             related packages: mypy-1.6.1 typing_extensions-4.8.0 pydantic-settings-2.0.3 typing_extensions-4.4.0\n```\n","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/7949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/7949/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":10926688278,"node_id":"DEME_lADOBWBCuM5nu9_JzwAAAAKLSAgW","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/10926688278","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2023-11-10T15:49:17Z","milestone":{"title":"Next release"},"performed_via_github_app":null},{"id":10926688285,"node_id":"MIE_lADOBWBCuM5nu9_JzwAAAAKLSAgd","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/10926688285","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-11-10T15:49:17Z","milestone":{"title":"v2.5.0"},"performed_via_github_app":null},{"id":10926689635,"node_id":"DEME_lADOBWBCuM5nu9_JzwAAAAKLSA1j","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/10926689635","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2023-11-10T15:49:25Z","milestone":{"title":"v2.5.0"},"performed_via_github_app":null},{"id":10926689642,"node_id":"MIE_lADOBWBCuM5nu9_JzwAAAAKLSA1q","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/10926689642","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-11-10T15:49:25Z","milestone":{"title":"v2.6.0"},"performed_via_github_app":null},{"id":11101983085,"node_id":"LE_lADOBWBCuM5nu9_JzwAAAAKVutFt","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/11101983085","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-11-29T22:07:18Z","label":{"name":"help wanted","color":"128A0C"},"performed_via_github_app":null},{"id":11511513411,"node_id":"DEME_lADOBWBCuM5nu9_JzwAAAAKuI8FD","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/11511513411","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2024-01-17T13:35:30Z","milestone":{"title":"v2.6.0"},"performed_via_github_app":null},{"id":11511513418,"node_id":"MIE_lADOBWBCuM5nu9_JzwAAAAKuI8FK","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/11511513418","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-01-17T13:35:30Z","milestone":{"title":"v2.7.0"},"performed_via_github_app":null},{"actor":{"login":"alexmojaki","id":3627481,"node_id":"MDQ6VXNlcjM2Mjc0ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3627481?v=4","gravatar_id":"","url":"https://api.github.com/users/alexmojaki","html_url":"https://github.com/alexmojaki","followers_url":"https://api.github.com/users/alexmojaki/followers","following_url":"https://api.github.com/users/alexmojaki/following{/other_user}","gists_url":"https://api.github.com/users/alexmojaki/gists{/gist_id}","starred_url":"https://api.github.com/users/alexmojaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexmojaki/subscriptions","organizations_url":"https://api.github.com/users/alexmojaki/orgs","repos_url":"https://api.github.com/users/alexmojaki/repos","events_url":"https://api.github.com/users/alexmojaki/events{/privacy}","received_events_url":"https://api.github.com/users/alexmojaki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-12T18:47:02Z","updated_at":"2024-02-12T18:47:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/8790","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/8790/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/8790/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/8790/events","html_url":"https://github.com/pydantic/pydantic/issues/8790","id":2130657660,"node_id":"I_kwDOBWBCuM5-_0F8","number":8790,"title":"@validate_call fails when class method returns an instance of the class","user":{"login":"turntable-justin","id":122627527,"node_id":"U_kgDOB08lxw","avatar_url":"https://avatars.githubusercontent.com/u/122627527?v=4","gravatar_id":"","url":"https://api.github.com/users/turntable-justin","html_url":"https://github.com/turntable-justin","followers_url":"https://api.github.com/users/turntable-justin/followers","following_url":"https://api.github.com/users/turntable-justin/following{/other_user}","gists_url":"https://api.github.com/users/turntable-justin/gists{/gist_id}","starred_url":"https://api.github.com/users/turntable-justin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turntable-justin/subscriptions","organizations_url":"https://api.github.com/users/turntable-justin/orgs","repos_url":"https://api.github.com/users/turntable-justin/repos","events_url":"https://api.github.com/users/turntable-justin/events{/privacy}","received_events_url":"https://api.github.com/users/turntable-justin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":597426507,"node_id":"MDU6TGFiZWw1OTc0MjY1MDc=","url":"https://api.github.com/repos/pydantic/pydantic/labels/question","name":"question","color":"cc317c","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-02-12T17:53:39Z","updated_at":"2025-10-10T01:24:27Z","closed_at":"2024-02-13T17:02:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":90194616,"node_id":"MDEwOlJlcG9zaXRvcnk5MDE5NDYxNg==","name":"pydantic","full_name":"pydantic/pydantic","private":false,"owner":{"login":"pydantic","id":110818415,"node_id":"O_kgDOBpr0bw","avatar_url":"https://avatars.githubusercontent.com/u/110818415?v=4","gravatar_id":"","url":"https://api.github.com/users/pydantic","html_url":"https://github.com/pydantic","followers_url":"https://api.github.com/users/pydantic/followers","following_url":"https://api.github.com/users/pydantic/following{/other_user}","gists_url":"https://api.github.com/users/pydantic/gists{/gist_id}","starred_url":"https://api.github.com/users/pydantic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pydantic/subscriptions","organizations_url":"https://api.github.com/users/pydantic/orgs","repos_url":"https://api.github.com/users/pydantic/repos","events_url":"https://api.github.com/users/pydantic/events{/privacy}","received_events_url":"https://api.github.com/users/pydantic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pydantic/pydantic","description":"Data validation using Python type hints","fork":false,"url":"https://api.github.com/repos/pydantic/pydantic","forks_url":"https://api.github.com/repos/pydantic/pydantic/forks","keys_url":"https://api.github.com/repos/pydantic/pydantic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pydantic/pydantic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pydantic/pydantic/teams","hooks_url":"https://api.github.com/repos/pydantic/pydantic/hooks","issue_events_url":"https://api.github.com/repos/pydantic/pydantic/issues/events{/number}","events_url":"https://api.github.com/repos/pydantic/pydantic/events","assignees_url":"https://api.github.com/repos/pydantic/pydantic/assignees{/user}","branches_url":"https://api.github.com/repos/pydantic/pydantic/branches{/branch}","tags_url":"https://api.github.com/repos/pydantic/pydantic/tags","blobs_url":"https://api.github.com/repos/pydantic/pydantic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pydantic/pydantic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pydantic/pydantic/git/refs{/sha}","trees_url":"https://api.github.com/repos/pydantic/pydantic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pydantic/pydantic/statuses/{sha}","languages_url":"https://api.github.com/repos/pydantic/pydantic/languages","stargazers_url":"https://api.github.com/repos/pydantic/pydantic/stargazers","contributors_url":"https://api.github.com/repos/pydantic/pydantic/contributors","subscribers_url":"https://api.github.com/repos/pydantic/pydantic/subscribers","subscription_url":"https://api.github.com/repos/pydantic/pydantic/subscription","commits_url":"https://api.github.com/repos/pydantic/pydantic/commits{/sha}","git_commits_url":"https://api.github.com/repos/pydantic/pydantic/git/commits{/sha}","comments_url":"https://api.github.com/repos/pydantic/pydantic/comments{/number}","issue_comment_url":"https://api.github.com/repos/pydantic/pydantic/issues/comments{/number}","contents_url":"https://api.github.com/repos/pydantic/pydantic/contents/{+path}","compare_url":"https://api.github.com/repos/pydantic/pydantic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pydantic/pydantic/merges","archive_url":"https://api.github.com/repos/pydantic/pydantic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pydantic/pydantic/downloads","issues_url":"https://api.github.com/repos/pydantic/pydantic/issues{/number}","pulls_url":"https://api.github.com/repos/pydantic/pydantic/pulls{/number}","milestones_url":"https://api.github.com/repos/pydantic/pydantic/milestones{/number}","notifications_url":"https://api.github.com/repos/pydantic/pydantic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pydantic/pydantic/labels{/name}","releases_url":"https://api.github.com/repos/pydantic/pydantic/releases{/id}","deployments_url":"https://api.github.com/repos/pydantic/pydantic/deployments","created_at":"2017-05-03T21:23:58Z","updated_at":"2025-11-09T17:32:47Z","pushed_at":"2025-11-09T09:36:17Z","git_url":"git://github.com/pydantic/pydantic.git","ssh_url":"git@github.com:pydantic/pydantic.git","clone_url":"https://github.com/pydantic/pydantic.git","svn_url":"https://github.com/pydantic/pydantic","homepage":"https://docs.pydantic.dev","size":327577,"stargazers_count":25701,"watchers_count":25701,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2306,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":512,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hints","json-schema","parsing","pydantic","python","python310","python311","python312","python313","python39","validation"],"visibility":"public","forks":2306,"open_issues":512,"watchers":25701,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Initial Checks\n\n- [X] I confirm that I'm using Pydantic V2\n\n### Description\n\nLet's say you have a simple class that has a method that returns an instance of the same class (see code below). This causes an error in Pydantic on import, even when validate_return is set to False. \r\n\r\nThis is a case that both python (and mypy) can handle this (due to `from __future__ import annotations`) and is impacting a planned deployment (since it affects our ability to provide accurate intellisense for users while also allowing us to use pydantic's validation features).\r\n\r\nFull error below:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nNameError                                 Traceback (most recent call last)\r\nCell In[1], [line 6](vscode-notebook-cell:?execution_count=1&line=6)\r\n      [1](vscode-notebook-cell:?execution_count=1&line=1) from __future__ import annotations\r\n      [3](vscode-notebook-cell:?execution_count=1&line=3) from pydantic import validate_call\r\n----> [6](vscode-notebook-cell:?execution_count=1&line=6) class A:\r\n      [7](vscode-notebook-cell:?execution_count=1&line=7)     def __init__(self, a: int):\r\n      [8](vscode-notebook-cell:?execution_count=1&line=8)         self.a = a\r\n\r\nCell In[1], [line 10](vscode-notebook-cell:?execution_count=1&line=10)\r\n      [7](vscode-notebook-cell:?execution_count=1&line=7) def __init__(self, a: int):\r\n      [8](vscode-notebook-cell:?execution_count=1&line=8)     self.a = a\r\n---> [10](vscode-notebook-cell:?execution_count=1&line=10) @validate_call\r\n     [11](vscode-notebook-cell:?execution_count=1&line=11) def new_a(self, a: int) -> A:\r\n     [12](vscode-notebook-cell:?execution_count=1&line=12)     return A(a)\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:65](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:65), in validate_call(__func, config, validate_return)\r\n     [62](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:62)     return wrapper_function  # type: ignore\r\n     [64](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:64) if __func:\r\n---> [65](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:65)     return validate(__func)\r\n     [66](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:66) else:\r\n     [67](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:67)     return validate\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:54](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:54), in validate_call.<locals>.validate(function)\r\n     [52](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:52)     name = type(function).__name__\r\n     [53](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:53)     raise TypeError(f'The `@{name}` decorator should be applied after `@validate_call` (put `@{name}` on top)')\r\n---> [54](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:54) validate_call_wrapper = _validate_call.ValidateCallWrapper(function, config, validate_return)\r\n     [56](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:56) @functools.wraps(function)\r\n     [57](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:57) def wrapper_function(*args, **kwargs):\r\n     [58](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/validate_call_decorator.py:58)     return validate_call_wrapper(*args, **kwargs)\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:42](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:42), in ValidateCallWrapper.__init__(self, function, config, validate_return)\r\n     [40](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:40) config_wrapper = ConfigWrapper(config)\r\n     [41](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:41) gen_schema = _generate_schema.GenerateSchema(config_wrapper, namespace)\r\n---> [42](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:42) schema = gen_schema.clean_schema(gen_schema.generate_schema(function))\r\n     [43](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:43) core_config = config_wrapper.core_config(self)\r\n     [45](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:45) self.__pydantic_validator__ = create_schema_validator(\r\n     [46](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:46)     schema,\r\n     [47](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:47)     schema_type,\r\n   (...)\r\n     [52](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:52)     config_wrapper.plugin_settings,\r\n     [53](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_validate_call.py:53) )\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:499](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:499), in GenerateSchema.generate_schema(self, obj, from_dunder_get_core_schema)\r\n    [496](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:496)         schema = from_property\r\n    [498](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:498) if schema is None:\r\n--> [499](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:499)     schema = self._generate_schema(obj)\r\n    [501](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:501) metadata_js_function = _extract_get_pydantic_json_schema(obj, schema)\r\n    [502](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:502) if metadata_js_function is not None:\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:737](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:737), in GenerateSchema._generate_schema(self, obj)\r\n    [735](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:735) needs_apply_discriminated_union = self._needs_apply_discriminated_union\r\n    [736](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:736) self._needs_apply_discriminated_union = False\r\n--> [737](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:737) schema = self._post_process_generated_schema(self._generate_schema_inner(obj))\r\n    [738](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:738) self._has_invalid_schema = self._has_invalid_schema or has_invalid_schema\r\n    [739](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:739) self._needs_apply_discriminated_union = self._needs_apply_discriminated_union or needs_apply_discriminated_union\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:764](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:764), in GenerateSchema._generate_schema_inner(self, obj)\r\n    [761](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:761) if isinstance(obj, PydanticRecursiveRef):\r\n    [762](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:762)     return core_schema.definition_reference_schema(schema_ref=obj.type_ref)\r\n--> [764](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:764) return self.match_type(obj)\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:831](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:831), in GenerateSchema.match_type(self, obj)\r\n    [827](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:827)     return self.generate_schema(\r\n    [828](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:828)         self._get_first_arg_or_any(obj),\r\n    [829](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:829)     )\r\n    [830](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:830) elif isinstance(obj, (FunctionType, LambdaType, MethodType, partial)):\r\n--> [831](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:831)     return self._callable_schema(obj)\r\n    [832](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:832) elif inspect.isclass(obj) and issubclass(obj, Enum):\r\n    [833](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:833)     from ._std_types_schema import get_enum_core_schema\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1530](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1530), in GenerateSchema._callable_schema(self, function)\r\n   [1524](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1524) \"\"\"Generate schema for a Callable.\r\n   [1525](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1525) \r\n   [1526](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1526) TODO support functional validators once we support them in Config\r\n   [1527](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1527) \"\"\"\r\n   [1528](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1528) sig = signature(function)\r\n-> [1530](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1530) type_hints = _typing_extra.get_function_type_hints(function)\r\n   [1532](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1532) mode_lookup: dict[_ParameterKind, Literal['positional_only', 'positional_or_keyword', 'keyword_only']] = {\r\n   [1533](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1533)     Parameter.POSITIONAL_ONLY: 'positional_only',\r\n   [1534](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1534)     Parameter.POSITIONAL_OR_KEYWORD: 'positional_or_keyword',\r\n   [1535](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1535)     Parameter.KEYWORD_ONLY: 'keyword_only',\r\n   [1536](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1536) }\r\n   [1538](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:1538) arguments_list: list[core_schema.ArgumentsParameter] = []\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:285](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:285), in get_function_type_hints(function, include_keys, types_namespace)\r\n    [282](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:282)     elif isinstance(value, str):\r\n    [283](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:283)         value = _make_forward_ref(value)\r\n--> [285](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:285)     type_hints[name] = eval_type_backport(value, globalns, types_namespace)\r\n    [287](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:287) return type_hints\r\n\r\nFile [~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:240](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:240), in eval_type_backport(value, globalns, localns)\r\n    [233](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:233) \"\"\"Like `typing._eval_type`, but falls back to the `eval_type_backport` package if it's\r\n    [234](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:234) installed to let older Python versions use newer typing features.\r\n    [235](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:235) Specifically, this transforms `X | Y` into `typing.Union[X, Y]`\r\n    [236](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:236) and `list[X]` into `typing.List[X]` etc. (for all the types made generic in PEP 585)\r\n    [237](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:237) if the original syntax is not supported in the current Python version.\r\n    [238](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:238) \"\"\"\r\n    [239](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:239) try:\r\n--> [240](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:240)     return typing._eval_type(  # type: ignore\r\n    [241](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:241)         value, globalns, localns\r\n    [242](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:242)     )\r\n    [243](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:243) except TypeError as e:\r\n    [244](https://file+.vscode-resource.vscode-cdn.net/Users/justin/Documents/GitHub/vinyl/vinyl/lib/~/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic/_internal/_typing_extra.py:244)     if not (isinstance(value, typing.ForwardRef) and is_backport_fixable_error(e)):\r\n\r\nFile [/opt/homebrew/Cellar/python](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python)@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:381, in _eval_type(t, globalns, localns, recursive_guard)\r\n    [374](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:374) \"\"\"Evaluate all forward references in the given type t.\r\n    [375](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:375) \r\n    [376](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:376) For use of globalns and localns see the docstring for get_type_hints().\r\n    [377](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:377) recursive_guard is used to prevent infinite recursion with a recursive\r\n    [378](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:378) ForwardRef.\r\n    [379](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:379) \"\"\"\r\n    [380](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:380) if isinstance(t, ForwardRef):\r\n--> [381](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:381)     return t._evaluate(globalns, localns, recursive_guard)\r\n    [382](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:382) if isinstance(t, (_GenericAlias, GenericAlias, types.UnionType)):\r\n    [383](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:383)     if isinstance(t, GenericAlias):\r\n\r\nFile [/opt/homebrew/Cellar/python](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python)@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:891, in ForwardRef._evaluate(self, globalns, localns, recursive_guard)\r\n    [886](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:886) if self.__forward_module__ is not None:\r\n    [887](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:887)     globalns = getattr(\r\n    [888](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:888)         sys.modules.get(self.__forward_module__, None), '__dict__', globalns\r\n    [889](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:889)     )\r\n    [890](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:890) type_ = _type_check(\r\n--> [891](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:891)     eval(self.__forward_code__, globalns, localns),\r\n    [892](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:892)     \"Forward references must evaluate to types.\",\r\n    [893](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:893)     is_argument=self.__forward_is_argument__,\r\n    [894](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:894)     allow_special_forms=self.__forward_is_class__,\r\n    [895](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:895) )\r\n    [896](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:896) self.__forward_value__ = _eval_type(\r\n    [897](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:897)     type_, globalns, localns, recursive_guard | {self.__forward_arg__}\r\n    [898](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:898) )\r\n    [899](https://file+.vscode-resource.vscode-cdn.net/opt/homebrew/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/typing.py:899) self.__forward_evaluated__ = True\r\n\r\nFile <string>:1\r\n\r\nNameError: name 'A' is not defined\r\n```\r\n\n\n### Example Code\n\n```Python\nfrom __future__ import annotations\r\n\r\nfrom pydantic import validate_call\r\n\r\nclass A:\r\n    def __init__(self, a: int):\r\n        self.a = a\r\n\r\n    @validate_call\r\n    def new_a(self, a: int) -> A:\r\n        return A(a)\n```\n\n\n### Python, Pydantic & OS Version\n\n```Text\npydantic version: 2.6.1\r\n        pydantic-core version: 2.16.2\r\n          pydantic-core build: profile=release pgo=true\r\n                 install path: /Users/justin/Library/Caches/pypoetry/virtualenvs/vinyl-cwr2Pa_2-py3.11/lib/python3.11/site-packages/pydantic\r\n               python version: 3.11.7 (main, Dec  4 2023, 18:10:11) [Clang 15.0.0 (clang-1500.1.0.2.5)]\r\n                     platform: macOS-14.3-arm64-arm-64bit\r\n             related packages: typing_extensions-4.9.0 mypy-1.8.0\r\n                       commit: unknown\n```\n","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/8790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/8790/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"Youssefares","id":16102387,"node_id":"MDQ6VXNlcjE2MTAyMzg3","avatar_url":"https://avatars.githubusercontent.com/u/16102387?v=4","gravatar_id":"","url":"https://api.github.com/users/Youssefares","html_url":"https://github.com/Youssefares","followers_url":"https://api.github.com/users/Youssefares/followers","following_url":"https://api.github.com/users/Youssefares/following{/other_user}","gists_url":"https://api.github.com/users/Youssefares/gists{/gist_id}","starred_url":"https://api.github.com/users/Youssefares/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Youssefares/subscriptions","organizations_url":"https://api.github.com/users/Youssefares/orgs","repos_url":"https://api.github.com/users/Youssefares/repos","events_url":"https://api.github.com/users/Youssefares/events{/privacy}","received_events_url":"https://api.github.com/users/Youssefares/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-15T17:08:26Z","updated_at":"2024-03-15T17:08:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/9023","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/9023/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/9023/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/9023/events","html_url":"https://github.com/pydantic/pydantic/pull/9023","id":2189111379,"node_id":"PR_kwDOBWBCuM5px4JH","number":9023,"title":"Add support for typing.Self (fix #5992)","user":{"login":"Youssefares","id":16102387,"node_id":"MDQ6VXNlcjE2MTAyMzg3","avatar_url":"https://avatars.githubusercontent.com/u/16102387?v=4","gravatar_id":"","url":"https://api.github.com/users/Youssefares","html_url":"https://github.com/Youssefares","followers_url":"https://api.github.com/users/Youssefares/followers","following_url":"https://api.github.com/users/Youssefares/following{/other_user}","gists_url":"https://api.github.com/users/Youssefares/gists{/gist_id}","starred_url":"https://api.github.com/users/Youssefares/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Youssefares/subscriptions","organizations_url":"https://api.github.com/users/Youssefares/orgs","repos_url":"https://api.github.com/users/Youssefares/repos","events_url":"https://api.github.com/users/Youssefares/events{/privacy}","received_events_url":"https://api.github.com/users/Youssefares/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2670567249,"node_id":"MDU6TGFiZWwyNjcwNTY3MjQ5","url":"https://api.github.com/repos/pydantic/pydantic/labels/awaiting%20author%20revision","name":"awaiting author revision","color":"7C5D12","default":false,"description":"awaiting changes from the PR author"},{"id":5991239974,"node_id":"LA_kwDOBWBCuM8AAAABZRsRJg","url":"https://api.github.com/repos/pydantic/pydantic/labels/relnotes-feature","name":"relnotes-feature","color":"0FE514","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"Youssefares","id":16102387,"node_id":"MDQ6VXNlcjE2MTAyMzg3","avatar_url":"https://avatars.githubusercontent.com/u/16102387?v=4","gravatar_id":"","url":"https://api.github.com/users/Youssefares","html_url":"https://github.com/Youssefares","followers_url":"https://api.github.com/users/Youssefares/followers","following_url":"https://api.github.com/users/Youssefares/following{/other_user}","gists_url":"https://api.github.com/users/Youssefares/gists{/gist_id}","starred_url":"https://api.github.com/users/Youssefares/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Youssefares/subscriptions","organizations_url":"https://api.github.com/users/Youssefares/orgs","repos_url":"https://api.github.com/users/Youssefares/repos","events_url":"https://api.github.com/users/Youssefares/events{/privacy}","received_events_url":"https://api.github.com/users/Youssefares/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"Youssefares","id":16102387,"node_id":"MDQ6VXNlcjE2MTAyMzg3","avatar_url":"https://avatars.githubusercontent.com/u/16102387?v=4","gravatar_id":"","url":"https://api.github.com/users/Youssefares","html_url":"https://github.com/Youssefares","followers_url":"https://api.github.com/users/Youssefares/followers","following_url":"https://api.github.com/users/Youssefares/following{/other_user}","gists_url":"https://api.github.com/users/Youssefares/gists{/gist_id}","starred_url":"https://api.github.com/users/Youssefares/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Youssefares/subscriptions","organizations_url":"https://api.github.com/users/Youssefares/orgs","repos_url":"https://api.github.com/users/Youssefares/repos","events_url":"https://api.github.com/users/Youssefares/events{/privacy}","received_events_url":"https://api.github.com/users/Youssefares/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":6,"created_at":"2024-03-15T17:08:25Z","updated_at":"2024-03-25T21:57:37Z","closed_at":"2024-03-25T21:57:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":90194616,"node_id":"MDEwOlJlcG9zaXRvcnk5MDE5NDYxNg==","name":"pydantic","full_name":"pydantic/pydantic","private":false,"owner":{"login":"pydantic","id":110818415,"node_id":"O_kgDOBpr0bw","avatar_url":"https://avatars.githubusercontent.com/u/110818415?v=4","gravatar_id":"","url":"https://api.github.com/users/pydantic","html_url":"https://github.com/pydantic","followers_url":"https://api.github.com/users/pydantic/followers","following_url":"https://api.github.com/users/pydantic/following{/other_user}","gists_url":"https://api.github.com/users/pydantic/gists{/gist_id}","starred_url":"https://api.github.com/users/pydantic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pydantic/subscriptions","organizations_url":"https://api.github.com/users/pydantic/orgs","repos_url":"https://api.github.com/users/pydantic/repos","events_url":"https://api.github.com/users/pydantic/events{/privacy}","received_events_url":"https://api.github.com/users/pydantic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pydantic/pydantic","description":"Data validation using Python type hints","fork":false,"url":"https://api.github.com/repos/pydantic/pydantic","forks_url":"https://api.github.com/repos/pydantic/pydantic/forks","keys_url":"https://api.github.com/repos/pydantic/pydantic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pydantic/pydantic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pydantic/pydantic/teams","hooks_url":"https://api.github.com/repos/pydantic/pydantic/hooks","issue_events_url":"https://api.github.com/repos/pydantic/pydantic/issues/events{/number}","events_url":"https://api.github.com/repos/pydantic/pydantic/events","assignees_url":"https://api.github.com/repos/pydantic/pydantic/assignees{/user}","branches_url":"https://api.github.com/repos/pydantic/pydantic/branches{/branch}","tags_url":"https://api.github.com/repos/pydantic/pydantic/tags","blobs_url":"https://api.github.com/repos/pydantic/pydantic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pydantic/pydantic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pydantic/pydantic/git/refs{/sha}","trees_url":"https://api.github.com/repos/pydantic/pydantic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pydantic/pydantic/statuses/{sha}","languages_url":"https://api.github.com/repos/pydantic/pydantic/languages","stargazers_url":"https://api.github.com/repos/pydantic/pydantic/stargazers","contributors_url":"https://api.github.com/repos/pydantic/pydantic/contributors","subscribers_url":"https://api.github.com/repos/pydantic/pydantic/subscribers","subscription_url":"https://api.github.com/repos/pydantic/pydantic/subscription","commits_url":"https://api.github.com/repos/pydantic/pydantic/commits{/sha}","git_commits_url":"https://api.github.com/repos/pydantic/pydantic/git/commits{/sha}","comments_url":"https://api.github.com/repos/pydantic/pydantic/comments{/number}","issue_comment_url":"https://api.github.com/repos/pydantic/pydantic/issues/comments{/number}","contents_url":"https://api.github.com/repos/pydantic/pydantic/contents/{+path}","compare_url":"https://api.github.com/repos/pydantic/pydantic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pydantic/pydantic/merges","archive_url":"https://api.github.com/repos/pydantic/pydantic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pydantic/pydantic/downloads","issues_url":"https://api.github.com/repos/pydantic/pydantic/issues{/number}","pulls_url":"https://api.github.com/repos/pydantic/pydantic/pulls{/number}","milestones_url":"https://api.github.com/repos/pydantic/pydantic/milestones{/number}","notifications_url":"https://api.github.com/repos/pydantic/pydantic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pydantic/pydantic/labels{/name}","releases_url":"https://api.github.com/repos/pydantic/pydantic/releases{/id}","deployments_url":"https://api.github.com/repos/pydantic/pydantic/deployments","created_at":"2017-05-03T21:23:58Z","updated_at":"2025-11-09T17:32:47Z","pushed_at":"2025-11-09T09:36:17Z","git_url":"git://github.com/pydantic/pydantic.git","ssh_url":"git@github.com:pydantic/pydantic.git","clone_url":"https://github.com/pydantic/pydantic.git","svn_url":"https://github.com/pydantic/pydantic","homepage":"https://docs.pydantic.dev","size":327577,"stargazers_count":25701,"watchers_count":25701,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2306,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":512,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hints","json-schema","parsing","pydantic","python","python310","python311","python312","python313","python39","validation"],"visibility":"public","forks":2306,"open_issues":512,"watchers":25701,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pydantic/pydantic/pulls/9023","html_url":"https://github.com/pydantic/pydantic/pull/9023","diff_url":"https://github.com/pydantic/pydantic/pull/9023.diff","patch_url":"https://github.com/pydantic/pydantic/pull/9023.patch","merged_at":"2024-03-25T21:57:37Z"},"body":"## Change Summary\r\n\r\nadd support for  `typing.Self` introduced in python3.11 as property annotation.\r\n\r\n## Related issue number\r\n\r\nfix #5992 \r\n\r\n## Checklist\r\n\r\n* [x] The pull request title is a good summary of the changes - it will be used in the changelog\r\n* [x] Unit tests for the changes exist\r\n* [x] Tests pass on CI\r\n* [x] Documentation reflects the changes where applicable\r\n* [x] My PR is ready to review, **please add a comment including the phrase \"please review\" to assign reviewers**\r\n\r\n\r\nSelected Reviewer: @adriangb","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/9023/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/9023/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T13:25:38Z","updated_at":"2024-03-17T13:25:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/8993","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/8993/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/8993/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/8993/events","html_url":"https://github.com/pydantic/pydantic/issues/8993","id":2181850348,"node_id":"I_kwDOBWBCuM6CDGTs","number":8993,"title":"`v2.7.0b1` Release Prep","user":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-03-12T15:02:19Z","updated_at":"2024-03-27T04:13:14Z","closed_at":"2024-03-27T04:13:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":90194616,"node_id":"MDEwOlJlcG9zaXRvcnk5MDE5NDYxNg==","name":"pydantic","full_name":"pydantic/pydantic","private":false,"owner":{"login":"pydantic","id":110818415,"node_id":"O_kgDOBpr0bw","avatar_url":"https://avatars.githubusercontent.com/u/110818415?v=4","gravatar_id":"","url":"https://api.github.com/users/pydantic","html_url":"https://github.com/pydantic","followers_url":"https://api.github.com/users/pydantic/followers","following_url":"https://api.github.com/users/pydantic/following{/other_user}","gists_url":"https://api.github.com/users/pydantic/gists{/gist_id}","starred_url":"https://api.github.com/users/pydantic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pydantic/subscriptions","organizations_url":"https://api.github.com/users/pydantic/orgs","repos_url":"https://api.github.com/users/pydantic/repos","events_url":"https://api.github.com/users/pydantic/events{/privacy}","received_events_url":"https://api.github.com/users/pydantic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pydantic/pydantic","description":"Data validation using Python type hints","fork":false,"url":"https://api.github.com/repos/pydantic/pydantic","forks_url":"https://api.github.com/repos/pydantic/pydantic/forks","keys_url":"https://api.github.com/repos/pydantic/pydantic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pydantic/pydantic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pydantic/pydantic/teams","hooks_url":"https://api.github.com/repos/pydantic/pydantic/hooks","issue_events_url":"https://api.github.com/repos/pydantic/pydantic/issues/events{/number}","events_url":"https://api.github.com/repos/pydantic/pydantic/events","assignees_url":"https://api.github.com/repos/pydantic/pydantic/assignees{/user}","branches_url":"https://api.github.com/repos/pydantic/pydantic/branches{/branch}","tags_url":"https://api.github.com/repos/pydantic/pydantic/tags","blobs_url":"https://api.github.com/repos/pydantic/pydantic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pydantic/pydantic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pydantic/pydantic/git/refs{/sha}","trees_url":"https://api.github.com/repos/pydantic/pydantic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pydantic/pydantic/statuses/{sha}","languages_url":"https://api.github.com/repos/pydantic/pydantic/languages","stargazers_url":"https://api.github.com/repos/pydantic/pydantic/stargazers","contributors_url":"https://api.github.com/repos/pydantic/pydantic/contributors","subscribers_url":"https://api.github.com/repos/pydantic/pydantic/subscribers","subscription_url":"https://api.github.com/repos/pydantic/pydantic/subscription","commits_url":"https://api.github.com/repos/pydantic/pydantic/commits{/sha}","git_commits_url":"https://api.github.com/repos/pydantic/pydantic/git/commits{/sha}","comments_url":"https://api.github.com/repos/pydantic/pydantic/comments{/number}","issue_comment_url":"https://api.github.com/repos/pydantic/pydantic/issues/comments{/number}","contents_url":"https://api.github.com/repos/pydantic/pydantic/contents/{+path}","compare_url":"https://api.github.com/repos/pydantic/pydantic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pydantic/pydantic/merges","archive_url":"https://api.github.com/repos/pydantic/pydantic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pydantic/pydantic/downloads","issues_url":"https://api.github.com/repos/pydantic/pydantic/issues{/number}","pulls_url":"https://api.github.com/repos/pydantic/pydantic/pulls{/number}","milestones_url":"https://api.github.com/repos/pydantic/pydantic/milestones{/number}","notifications_url":"https://api.github.com/repos/pydantic/pydantic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pydantic/pydantic/labels{/name}","releases_url":"https://api.github.com/repos/pydantic/pydantic/releases{/id}","deployments_url":"https://api.github.com/repos/pydantic/pydantic/deployments","created_at":"2017-05-03T21:23:58Z","updated_at":"2025-11-09T17:32:47Z","pushed_at":"2025-11-09T09:36:17Z","git_url":"git://github.com/pydantic/pydantic.git","ssh_url":"git@github.com:pydantic/pydantic.git","clone_url":"https://github.com/pydantic/pydantic.git","svn_url":"https://github.com/pydantic/pydantic","homepage":"https://docs.pydantic.dev","size":327577,"stargazers_count":25701,"watchers_count":25701,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2306,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":512,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hints","json-schema","parsing","pydantic","python","python310","python311","python312","python313","python39","validation"],"visibility":"public","forks":2306,"open_issues":512,"watchers":25701,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Tasks / issues to be completed before the 2.7.0 beta release:\r\n\r\n- [x] https://github.com/pydantic/pydantic/issues/7143\r\n- [x] https://github.com/pydantic/pydantic/issues/6423\r\n- [x] https://github.com/pydantic/pydantic/issues/8893\r\n- [x] https://github.com/pydantic/pydantic/issues/5992\r\n- [x] https://github.com/pydantic/pydantic/issues/8930\r\n- [x] Enum validation performance improvements (@samuelcolvin)\r\n- [x] cow string improvements in `jiter`\r\n- [ ] New `pydantic-core` release (with ðŸš€ awesome â­ pyo3 changes)\r\n- [ ] New `jiter` release\r\n- [x] Add test for https://github.com/pydantic/pydantic/issues/9015 in `pydantic`\r\n- [x] https://github.com/pydantic/pydantic/issues/8534\r\n- [x] https://github.com/pydantic/pydantic/issues/8967\r\n- [x] https://github.com/pydantic/pydantic/issues/9007\r\n- [x] https://github.com/pydantic/pydantic/pull/8944\r\n- [x] https://github.com/pydantic/pydantic/issues/8469\r\n- [x] New `speedate` release\r\n\r\nNot everything in the `2.7.0` milestone will be completed in time for the release. We've already added an abundance of new features and fixes, so we've decided to go ahead and get those things out. Much of what was not addressed in the 2.7.0 milestone will be rolled over into the 2.8.0 milestone :).\r\n\r\nNote, we're shooting for a `v2.7.0b1` release around March 20th, and the `2.7.0` release on the 27th.","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/8993/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/8993/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":12241294456,"node_id":"CE_lADOBWBCuM5nu9_JzwAAAALZo1R4","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/12241294456","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-03-25T21:57:38Z","state_reason":null,"performed_via_github_app":null},{"id":12241294470,"node_id":"REFE_lADOBWBCuM5nu9_JzwAAAALZo1SG","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/12241294470","actor":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"426402af51602aaa773e283c4f12ae17a36c38b5","commit_url":"https://api.github.com/repos/pydantic/pydantic/commits/426402af51602aaa773e283c4f12ae17a36c38b5","created_at":"2024-03-25T21:57:38Z","performed_via_github_app":null},{"id":15078252412,"node_id":"PVTISC_lADOBWBCuM5nu9_JzwAAAAOCu998","url":"https://api.github.com/repos/pydantic/pydantic/issues/events/15078252412","actor":{"login":"github-project-automation[bot]","id":113052574,"node_id":"BOT_kgDOBr0Lng","avatar_url":"https://avatars.githubusercontent.com/in/235829?v=4","gravatar_id":"","url":"https://api.github.com/users/github-project-automation%5Bbot%5D","html_url":"https://github.com/apps/github-project-automation","followers_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2024-03-25T21:57:39Z","performed_via_github_app":null},{"actor":{"login":"strangemonad","id":133905,"node_id":"MDQ6VXNlcjEzMzkwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/133905?v=4","gravatar_id":"","url":"https://api.github.com/users/strangemonad","html_url":"https://github.com/strangemonad","followers_url":"https://api.github.com/users/strangemonad/followers","following_url":"https://api.github.com/users/strangemonad/following{/other_user}","gists_url":"https://api.github.com/users/strangemonad/gists{/gist_id}","starred_url":"https://api.github.com/users/strangemonad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/strangemonad/subscriptions","organizations_url":"https://api.github.com/users/strangemonad/orgs","repos_url":"https://api.github.com/users/strangemonad/repos","events_url":"https://api.github.com/users/strangemonad/events{/privacy}","received_events_url":"https://api.github.com/users/strangemonad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-04T20:17:42Z","updated_at":"2024-05-04T20:17:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/9391","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/9391/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/9391/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/9391/events","html_url":"https://github.com/pydantic/pydantic/issues/9391","id":2279181163,"node_id":"I_kwDOBWBCuM6H2Ytr","number":9391,"title":"typing.Self not supported in generic fields","user":{"login":"strangemonad","id":133905,"node_id":"MDQ6VXNlcjEzMzkwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/133905?v=4","gravatar_id":"","url":"https://api.github.com/users/strangemonad","html_url":"https://github.com/strangemonad","followers_url":"https://api.github.com/users/strangemonad/followers","following_url":"https://api.github.com/users/strangemonad/following{/other_user}","gists_url":"https://api.github.com/users/strangemonad/gists{/gist_id}","starred_url":"https://api.github.com/users/strangemonad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/strangemonad/subscriptions","organizations_url":"https://api.github.com/users/strangemonad/orgs","repos_url":"https://api.github.com/users/strangemonad/repos","events_url":"https://api.github.com/users/strangemonad/events{/privacy}","received_events_url":"https://api.github.com/users/strangemonad/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":597426504,"node_id":"MDU6TGFiZWw1OTc0MjY1MDQ=","url":"https://api.github.com/repos/pydantic/pydantic/labels/feature%20request","name":"feature request","color":"84b6eb","default":false,"description":""},{"id":5894898697,"node_id":"LA_kwDOBWBCuM8AAAABX10ECQ","url":"https://api.github.com/repos/pydantic/pydantic/labels/topic-generics","name":"topic-generics","color":"9090BA","default":false,"description":"Related to generics"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-05-04T20:17:41Z","updated_at":"2025-03-19T14:48:32Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":90194616,"node_id":"MDEwOlJlcG9zaXRvcnk5MDE5NDYxNg==","name":"pydantic","full_name":"pydantic/pydantic","private":false,"owner":{"login":"pydantic","id":110818415,"node_id":"O_kgDOBpr0bw","avatar_url":"https://avatars.githubusercontent.com/u/110818415?v=4","gravatar_id":"","url":"https://api.github.com/users/pydantic","html_url":"https://github.com/pydantic","followers_url":"https://api.github.com/users/pydantic/followers","following_url":"https://api.github.com/users/pydantic/following{/other_user}","gists_url":"https://api.github.com/users/pydantic/gists{/gist_id}","starred_url":"https://api.github.com/users/pydantic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pydantic/subscriptions","organizations_url":"https://api.github.com/users/pydantic/orgs","repos_url":"https://api.github.com/users/pydantic/repos","events_url":"https://api.github.com/users/pydantic/events{/privacy}","received_events_url":"https://api.github.com/users/pydantic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pydantic/pydantic","description":"Data validation using Python type hints","fork":false,"url":"https://api.github.com/repos/pydantic/pydantic","forks_url":"https://api.github.com/repos/pydantic/pydantic/forks","keys_url":"https://api.github.com/repos/pydantic/pydantic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pydantic/pydantic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pydantic/pydantic/teams","hooks_url":"https://api.github.com/repos/pydantic/pydantic/hooks","issue_events_url":"https://api.github.com/repos/pydantic/pydantic/issues/events{/number}","events_url":"https://api.github.com/repos/pydantic/pydantic/events","assignees_url":"https://api.github.com/repos/pydantic/pydantic/assignees{/user}","branches_url":"https://api.github.com/repos/pydantic/pydantic/branches{/branch}","tags_url":"https://api.github.com/repos/pydantic/pydantic/tags","blobs_url":"https://api.github.com/repos/pydantic/pydantic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pydantic/pydantic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pydantic/pydantic/git/refs{/sha}","trees_url":"https://api.github.com/repos/pydantic/pydantic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pydantic/pydantic/statuses/{sha}","languages_url":"https://api.github.com/repos/pydantic/pydantic/languages","stargazers_url":"https://api.github.com/repos/pydantic/pydantic/stargazers","contributors_url":"https://api.github.com/repos/pydantic/pydantic/contributors","subscribers_url":"https://api.github.com/repos/pydantic/pydantic/subscribers","subscription_url":"https://api.github.com/repos/pydantic/pydantic/subscription","commits_url":"https://api.github.com/repos/pydantic/pydantic/commits{/sha}","git_commits_url":"https://api.github.com/repos/pydantic/pydantic/git/commits{/sha}","comments_url":"https://api.github.com/repos/pydantic/pydantic/comments{/number}","issue_comment_url":"https://api.github.com/repos/pydantic/pydantic/issues/comments{/number}","contents_url":"https://api.github.com/repos/pydantic/pydantic/contents/{+path}","compare_url":"https://api.github.com/repos/pydantic/pydantic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pydantic/pydantic/merges","archive_url":"https://api.github.com/repos/pydantic/pydantic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pydantic/pydantic/downloads","issues_url":"https://api.github.com/repos/pydantic/pydantic/issues{/number}","pulls_url":"https://api.github.com/repos/pydantic/pydantic/pulls{/number}","milestones_url":"https://api.github.com/repos/pydantic/pydantic/milestones{/number}","notifications_url":"https://api.github.com/repos/pydantic/pydantic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pydantic/pydantic/labels{/name}","releases_url":"https://api.github.com/repos/pydantic/pydantic/releases{/id}","deployments_url":"https://api.github.com/repos/pydantic/pydantic/deployments","created_at":"2017-05-03T21:23:58Z","updated_at":"2025-11-09T17:32:47Z","pushed_at":"2025-11-09T09:36:17Z","git_url":"git://github.com/pydantic/pydantic.git","ssh_url":"git@github.com:pydantic/pydantic.git","clone_url":"https://github.com/pydantic/pydantic.git","svn_url":"https://github.com/pydantic/pydantic","homepage":"https://docs.pydantic.dev","size":327577,"stargazers_count":25701,"watchers_count":25701,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2306,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":512,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hints","json-schema","parsing","pydantic","python","python310","python311","python312","python313","python39","validation"],"visibility":"public","forks":2306,"open_issues":512,"watchers":25701,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Initial Checks\n\n- [X] I confirm that I'm using Pydantic V2\n\n### Description\n\nIt seems that with the recent introduction to support the `Self` type in pydantic 2.7 #5992, this doesn't cover support for generic fields where `Self` is the type var.\r\n\r\nAlternatives:\r\n1) For the code below, when making instantiate a new model, the FieldInfo likely needs to be updated. eg for the example below, `Product` has the following field info.\r\n```\r\n{'ref': FieldInfo(annotation=Ref[Self], required=True), 'name': FieldInfo(annotation=str, required=True)}\r\n```\r\n\r\nAt the point of model creation, I believe it should be possible to update `Ref[Self]` to `Ref[model_class]`? The downside here is that the FieldInfo, while it reflects the reality of the semantics of the Self type, no longer matches the annotation verbatim making it harder to potentially debug, easier to introduce bugs (e.g. if the annotation value is used to look up the cached generic subclass) ad potentially incompatible with whatever direction the python core team takes `__future__ annotations` in.\r\n\r\n2) Keep the existing field info and handle the case when building the field's core schema. This would mean a generic model subclass might need to be instantiated just in time and registered in then cache in the correct order for it to be visible to the core_schema machinery.\n\n### Example Code\n\n```Python\nfrom typing import TypeVar, Generic, Self\r\nfrom pydantic import BaseModel\r\n\r\nT = TypeVar(\"T\", bound=\"Entity\")\r\n\r\n\r\nclass Ref(BaseModel, Generic[T]):\r\n    path: str\r\n\r\n\r\nclass Entity(BaseModel):\r\n    ref: \"Ref[Self]\"\r\n\r\n\r\nclass Product(Entity):\r\n    name: str\r\n\r\np = Product(name=\"test\", ref=Ref[Product](path=\"f\"))\r\n\r\n\r\n```console\r\nTraceback (most recent call last):\r\n  File \"/Users/shawn/Code/instance-bio/instance/apps/admin/src/pdg.py\", line 18, in <module>\r\n    p = Product(name=\"test\", ref=Ref[Product](path=\"f\"))\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/shawn/Code/instance-bio/instance/apps/admin/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 171, in __init__\r\n    self.__pydantic_validator__.validate_python(data, self_instance=self)\r\npydantic_core._pydantic_core.ValidationError: 1 validation error for Product\r\nref\r\n  Input should be a valid dictionary or instance of Ref[Self] [type=model_type, input_value=Ref[Product](path='f'), input_type=Ref[Product]]\r\n    For further information visit https://errors.pydantic.dev/2.6/v/model_type\r\n\r\n```\n```\n\n\n### Python, Pydantic & OS Version\n\n```Text\npydantic version: 2.7.1\r\n        pydantic-core version: 2.18.2\r\n          pydantic-core build: profile=release pgo=true\r\n                 install path: /Users/shawn/Code/instance-bio/instance/libs/instance-firestore-entity/.venv/lib/python3.11/site-packages/pydantic\r\n               python version: 3.11.4 (main, Aug 14 2023, 09:41:08) [Clang 14.0.3 (clang-1403.0.22.14.1)]\r\n                     platform: macOS-14.4.1-arm64-arm-64bit\r\n             related packages: typing_extensions-4.11.0 pyright-1.1.321\r\n                       commit: unknown\n```\n","reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/9391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/9391/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]