{"url":"https://api.github.com/repos/pydantic/pydantic/issues/1366","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/1366/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/1366/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/1366/events","html_url":"https://github.com/pydantic/pydantic/issues/1366","id":593947342,"node_id":"MDU6SXNzdWU1OTM5NDczNDI=","number":1366,"title":"`model_name` cannot be used as field name","user":{"login":"kittipatv","id":6920665,"node_id":"MDQ6VXNlcjY5MjA2NjU=","avatar_url":"https://avatars.githubusercontent.com/u/6920665?v=4","gravatar_id":"","url":"https://api.github.com/users/kittipatv","html_url":"https://github.com/kittipatv","followers_url":"https://api.github.com/users/kittipatv/followers","following_url":"https://api.github.com/users/kittipatv/following{/other_user}","gists_url":"https://api.github.com/users/kittipatv/gists{/gist_id}","starred_url":"https://api.github.com/users/kittipatv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kittipatv/subscriptions","organizations_url":"https://api.github.com/users/kittipatv/orgs","repos_url":"https://api.github.com/users/kittipatv/repos","events_url":"https://api.github.com/users/kittipatv/events{/privacy}","received_events_url":"https://api.github.com/users/kittipatv/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":597426502,"node_id":"MDU6TGFiZWw1OTc0MjY1MDI=","url":"https://api.github.com/repos/pydantic/pydantic/labels/bug%20V1","name":"bug V1","color":"ee0701","default":false,"description":"Bug related to Pydantic V1.X"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-04T16:45:17Z","updated_at":"2020-04-15T21:52:09Z","closed_at":"2020-04-15T21:52:09Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# Bug\r\n\r\nI'm converting existing dataclasses to use pydantic. When `model_name` is a field in dataclass, pydantic throws\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test_model_name.py\", line 3, in <module>\r\n    @dataclass\r\n  File \"pydantic/dataclasses.py\", line 146, in pydantic.dataclasses.dataclass\r\n    #\r\n  File \"pydantic/dataclasses.py\", line 141, in pydantic.dataclasses.dataclass.wrap\r\n    # | True  | True  | True  | add    | raise  | Frozen, so hashable\r\n  File \"pydantic/dataclasses.py\", line 106, in pydantic.dataclasses._process_class\r\n    #    +--- order= parameter\r\n  File \"pydantic/main.py\", line 736, in pydantic.main.create_model\r\nTypeError: create_model() got multiple values for keyword argument 'model_name'\r\n```\r\n\r\nI think the proper fix would be to make `model_name` in `create_model()` a positional-only parameter. According to my quick code search, the core library seems to be using it that way already. Therefore, this fix should not break any internal API. Is there any concern for external users?\r\n\r\nOutput of `python -c \"import pydantic.utils; print(pydantic.utils.version_info())\"`:\r\n```\r\n             pydantic version: 1.4\r\n            pydantic compiled: True\r\n                 install path: /Users/kittipat/miniconda3/lib/python3.7/site-packages/pydantic\r\n               python version: 3.7.6 (default, Jan  8 2020, 13:42:34)  [Clang 4.0.1 (tags/RELEASE_401/final)]\r\n                     platform: Darwin-18.7.0-x86_64-i386-64bit\r\n     optional deps. installed: ['typing-extensions']\r\n```\r\n\r\nMinimally reproducible code:\r\n\r\n```py\r\nfrom pydantic.dataclasses import dataclass\r\n\r\n@dataclass\r\nclass ModelName:\r\n    model_name: str\r\n```\r\n","closed_by":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/1366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/1366/timeline","performed_via_github_app":null,"state_reason":"completed"}