{"url":"https://api.github.com/repos/pydantic/pydantic/issues/5992","repository_url":"https://api.github.com/repos/pydantic/pydantic","labels_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992/labels{/name}","comments_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992/comments","events_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992/events","html_url":"https://github.com/pydantic/pydantic/issues/5992","id":1740365769,"node_id":"I_kwDOBWBCuM5nu9_J","number":5992,"title":"Support for Python 3.11 typing.Self type","user":{"login":"meetinger","id":10086234,"node_id":"MDQ6VXNlcjEwMDg2MjM0","avatar_url":"https://avatars.githubusercontent.com/u/10086234?v=4","gravatar_id":"","url":"https://api.github.com/users/meetinger","html_url":"https://github.com/meetinger","followers_url":"https://api.github.com/users/meetinger/followers","following_url":"https://api.github.com/users/meetinger/following{/other_user}","gists_url":"https://api.github.com/users/meetinger/gists{/gist_id}","starred_url":"https://api.github.com/users/meetinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meetinger/subscriptions","organizations_url":"https://api.github.com/users/meetinger/orgs","repos_url":"https://api.github.com/users/meetinger/repos","events_url":"https://api.github.com/users/meetinger/events{/privacy}","received_events_url":"https://api.github.com/users/meetinger/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":597426504,"node_id":"MDU6TGFiZWw1OTc0MjY1MDQ=","url":"https://api.github.com/repos/pydantic/pydantic/labels/feature%20request","name":"feature request","color":"84b6eb","default":false,"description":""},{"id":597426505,"node_id":"MDU6TGFiZWw1OTc0MjY1MDU=","url":"https://api.github.com/repos/pydantic/pydantic/labels/help%20wanted","name":"help wanted","color":"128A0C","default":true,"description":"Pull Request welcome"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pydantic/pydantic/milestones/14","html_url":"https://github.com/pydantic/pydantic/milestone/14","labels_url":"https://api.github.com/repos/pydantic/pydantic/milestones/14/labels","id":10420381,"node_id":"MI_kwDOBWBCuM4AnwCd","number":14,"title":"v2.7.0","description":"","creator":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":19,"state":"closed","created_at":"2024-01-15T13:12:57Z","updated_at":"2024-04-04T16:40:24Z","due_on":null,"closed_at":"2024-04-04T16:40:24Z"},"comments":6,"created_at":"2023-06-04T13:05:15Z","updated_at":"2024-03-25T21:57:38Z","closed_at":"2024-03-25T21:57:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Initial Checks\n\n- [X] I have searched Google & GitHub for similar requests and couldn't find anything\n- [X] I have read and followed [the docs](https://docs.pydantic.dev) and still think this feature is missing\n\n### Description\n\nA new type Self was introduced in PEP 673, but now Pydantic does not support it.\r\nThis can be useful, for example, for tree structures.\r\n\r\nThe code below causes an error `RuntimeError: error checking inheritance of typing.Self (type: Self)`.\r\n\r\n```Python\r\nfrom typing import Self\r\nfrom pydantic import BaseModel\r\n\r\n\r\nclass SelfRef(BaseModel):\r\n    idx: int\r\n    children: list[Self, ...] | None\r\n\r\n\r\ndef main():\r\n    children = [SelfRef(idx=1, children=None), SelfRef(idx=1, children=None)]\r\n    instance = SelfRef(idx=0, children=children)\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n```\r\n\r\n\n\n### Affected Components\n\n- [ ] [Compatibility between releases](https://docs.pydantic.dev/changelog/)\n- [ ] [Data validation/parsing](https://docs.pydantic.dev/usage/models/#basic-model-usage)\n- [ ] [Data serialization](https://docs.pydantic.dev/usage/exporting_models/) - `.model_dump()` and `.model_dump_json()`\n- [ ] [JSON Schema](https://docs.pydantic.dev/usage/schema/)\n- [ ] [Dataclasses](https://docs.pydantic.dev/usage/dataclasses/)\n- [ ] [Model Config](https://docs.pydantic.dev/usage/model_config/)\n- [X] [Field Types](https://docs.pydantic.dev/usage/types/) - adding or changing a particular data type\n- [ ] [Function validation decorator](https://docs.pydantic.dev/usage/validation_decorator/)\n- [ ] [Generic Models](https://docs.pydantic.dev/usage/models/#generic-models)\n- [ ] [Other Model behaviour](https://docs.pydantic.dev/usage/models/) - `model_construct()`, pickling, private attributes, ORM mode\n- [ ] [Plugins](https://docs.pydantic.dev/) and integration with other tools - mypy, FastAPI, python-devtools, Hypothesis, VS Code, PyCharm, etc.","closed_by":{"login":"sydney-runkle","id":54324534,"node_id":"MDQ6VXNlcjU0MzI0NTM0","avatar_url":"https://avatars.githubusercontent.com/u/54324534?v=4","gravatar_id":"","url":"https://api.github.com/users/sydney-runkle","html_url":"https://github.com/sydney-runkle","followers_url":"https://api.github.com/users/sydney-runkle/followers","following_url":"https://api.github.com/users/sydney-runkle/following{/other_user}","gists_url":"https://api.github.com/users/sydney-runkle/gists{/gist_id}","starred_url":"https://api.github.com/users/sydney-runkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sydney-runkle/subscriptions","organizations_url":"https://api.github.com/users/sydney-runkle/orgs","repos_url":"https://api.github.com/users/sydney-runkle/repos","events_url":"https://api.github.com/users/sydney-runkle/events{/privacy}","received_events_url":"https://api.github.com/users/sydney-runkle/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pydantic/pydantic/issues/5992/reactions","total_count":8,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":1},"timeline_url":"https://api.github.com/repos/pydantic/pydantic/issues/5992/timeline","performed_via_github_app":null,"state_reason":"completed"}