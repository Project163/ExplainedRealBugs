<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5155] Error extracting text from PDF - Can&apos;t read the embedded Type1 font FDFBJU+NewsGothic</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5155</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When i try to extract text from command line using pdfbox verision 2.0.22 and 2.023 I get the following error. The pdf is customer specific one, I can&apos;t share it here. Is this error because this particular font is not supported by pdfbox?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Apr 07, 2021 1:55:06 PM org.apache.pdfbox.pdmodel.font.PDFont loadUnicodeCmap WARNING: Invalid ToUnicode CMap in font FDFBJU+NewsGothic Apr 07, 2021 1:55:06 PM org.apache.pdfbox.pdmodel.font.PDType1Font &amp;lt;init&amp;gt; SEVERE: Can&apos;t read the embedded Type1 font FDFBJU+NewsGothic java.io.IOException: Expected INTEGER or REAL but got NAME at org.apache.fontbox.type1.Type1Parser.arrayToNumbers(Type1Parser.java:256) at org.apache.fontbox.type1.Type1Parser.readSimpleValue(Type1Parser.java:168) at org.apache.fontbox.type1.Type1Parser.parseASCII(Type1Parser.java:139) at org.apache.fontbox.type1.Type1Parser.parse(Type1Parser.java:61) at org.apache.fontbox.type1.Type1Font.createWithSegments(Type1Font.java:85) at org.apache.pdfbox.pdmodel.font.PDType1Font.&amp;lt;init&amp;gt;(PDType1Font.java:263) at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:76) at org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:146) at org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.text.SetFontAndSize.process(SetFontAndSize.java:66) at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:933) at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:515) at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:489) at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:156) at org.apache.pdfbox.text.LegacyPDFStreamEngine.processPage(LegacyPDFStreamEngine.java:144) at org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextStripper.java:394) at org.apache.pdfbox.text.PDFTextStripper.processPages(PDFTextStripper.java:322) at org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:269) at org.apache.pdfbox.tools.ExtractText.extractPages(ExtractText.java:377) at org.apache.pdfbox.tools.ExtractText.startExtraction(ExtractText.java:274) at org.apache.pdfbox.tools.ExtractText.main(ExtractText.java:97) at org.apache.pdfbox.tools.PDFBox.main(PDFBox.java:60)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Java 11</environment>
        <key id="13370143">PDFBOX-5155</key>
            <summary>Error extracting text from PDF - Can&apos;t read the embedded Type1 font FDFBJU+NewsGothic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="nnambiar">nithin nambiar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Apr 2021 15:59:14 +0000</created>
                <updated>Fri, 11 Jun 2021 06:08:05 +0000</updated>
                            <resolved>Tue, 25 May 2021 18:19:02 +0000</resolved>
                                    <version>2.0.22</version>
                    <version>2.0.23</version>
                                    <fixVersion>2.0.24</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17316449" author="tilman" created="Wed, 7 Apr 2021 16:02:43 +0000"  >&lt;p&gt;It&apos;s most likely a broken font. PDFBox tries to use a replacement font. Maybe your file will be extracted correctly.&lt;/p&gt;</comment>
                            <comment id="17316459" author="nnambiar" created="Wed, 7 Apr 2021 16:11:37 +0000"  >&lt;p&gt;Fonts used in the document attached for reference.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13023517/13023517_image-2021-04-07-17-11-10-048.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17316500" author="nnambiar" created="Wed, 7 Apr 2021 17:12:34 +0000"  >&lt;p&gt;I can extract the text &#160;with Adobe Reader without any issues. With pdfbox the output text contains gibberish. eg&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Date: !&lt;span class=&quot;code-quote&quot;&gt;&quot;#$!#!$%&quot;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17316501" author="tilman" created="Wed, 7 Apr 2021 17:13:07 +0000"  >&lt;p&gt;Sadly this screenshot doesn&apos;t help. What would help would be the file, or at least the font. You can extract that one with PDFDebugger. After opening the file, open the &quot;tree&quot;, look for resources, then fonts, then for that font, and go further down until you see something named &quot;fontfile&quot; (can also be 2 or 3). Then right-click and save decompressed. But even then, it is unlikely that this will be shown to be a PDFBox bug.&lt;/p&gt;</comment>
                            <comment id="17319510" author="mkl" created="Mon, 12 Apr 2021 15:29:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;I can extract the text with Adobe Reader without any issues. With pdfbox the output text contains gibberish.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;PDFBox text extraction only relies on mapping arguments of text drawing instructions to Unicode. Adobe Reader also supports text extraction via the &lt;b&gt;ActualText&lt;/b&gt; entries for structure elements or marked-content sequences. Thus, there simply are situations in which Adobe Reader text extraction returns something else than PDFBox text extraction. Whether Adobe Reader or PDFBox returns the expected result, depends on the PDF in question, it might befumble either tool.&lt;/p&gt;

&lt;p&gt;Thus, please check whether Adobe Reader actually returns a different result because of such&#160;&lt;b&gt;ActualText&lt;/b&gt; entries or really because of better font parsing.&lt;/p&gt;</comment>
                            <comment id="17320669" author="tilman" created="Wed, 14 Apr 2021 03:31:12 +0000"  >&lt;p&gt;Closing because we didn&apos;t get a PDF or the font.&lt;/p&gt;</comment>
                            <comment id="17335611" author="nnambiar" created="Thu, 29 Apr 2021 16:00:04 +0000"  >&lt;p&gt;I was able to extract the font with the customer&apos;s permission. Let me know if it helps.&lt;/p&gt;</comment>
                            <comment id="17335745" author="tilman" created="Thu, 29 Apr 2021 18:25:34 +0000"  >&lt;p&gt;thanks. The problem part is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/FontMatrix [1e-3 0e-3 0e-3 1e-3 0 0] readonly def
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;token list:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[Token[kind=START_ARRAY, text=[], 
Token[kind=INTEGER, text=1], 
Token[kind=NAME, text=e-3], 
Token[kind=INTEGER, text=0], 
Token[kind=NAME, text=e-3], 
Token[kind=INTEGER, text=0], 
Token[kind=NAME, text=e-3], 
Token[kind=INTEGER, text=1], 
Token[kind=NAME, text=e-3], 
Token[kind=INTEGER, text=0], 
Token[kind=INTEGER, text=0], 
Token[kind=END_ARRAY, text=]]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I suspect a bug in the type1 lexer in tryReadNumber(), the &quot;// optional .&quot; segment doesn&apos;t have anything about &quot;e&quot; so it ends prematurely.&lt;/p&gt;

&lt;p&gt;test code&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Type1Font t1;
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] bytes = Files.readAllBytes(Paths.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;FDFBJU+NewsGothic-0034.pfa&quot;&lt;/span&gt;));
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length1 = 675;
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length2 = 14841;
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] segment1 = Arrays.copyOfRange(bytes, 0, length1);
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] segment2 = Arrays.copyOfRange(bytes, length1, length1 + length2);
t1 = Type1Font.createWithSegments(segment1, segment2);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17337053" author="jira-bot" created="Fri, 30 Apr 2021 04:06:44 +0000"  >&lt;p&gt;Commit 1889313 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889313&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889313&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: support real numbers&lt;/p&gt;</comment>
                            <comment id="17337054" author="jira-bot" created="Fri, 30 Apr 2021 04:06:48 +0000"  >&lt;p&gt;Commit 1889314 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889314&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: support real numbers&lt;/p&gt;</comment>
                            <comment id="17337061" author="tilman" created="Fri, 30 Apr 2021 04:24:19 +0000"  >&lt;p&gt;Snapshot available here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.24-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.24-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17337064" author="tilman" created="Fri, 30 Apr 2021 04:25:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nnambiar&quot; class=&quot;user-hover&quot; rel=&quot;nnambiar&quot;&gt;nnambiar&lt;/a&gt; Please try with the snapshot whether the text extraction works now (&quot;ExtractText&quot;)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://pdfbox.apache.org/2.0/commandline.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pdfbox.apache.org/2.0/commandline.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17337233" author="jira-bot" created="Fri, 30 Apr 2021 09:34:49 +0000"  >&lt;p&gt;Commit 1889321 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889321&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889321&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: remove println&lt;/p&gt;</comment>
                            <comment id="17337236" author="nnambiar" created="Fri, 30 Apr 2021 09:37:46 +0000"  >&lt;p&gt;Thanks for the quick response &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, much appreciated.&#160;&lt;/p&gt;

&lt;p&gt;I did try with the new version and there was no errors except few warnings. However the extracted text contains gibberish.&#160; I am attaching the two fonts which might be causing those warnings.&#160;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Apr 30, 2021 10:20:09 AM org.apache.pdfbox.pdmodel.font.PDFont loadUnicodeCmap
WARNING: Invalid ToUnicode CMap in font FDFBJU+NewsGothic
Apr 30, 2021 10:20:09 AM org.apache.pdfbox.pdmodel.font.PDFont loadUnicodeCmap
WARNING: Invalid ToUnicode CMap in font FDFBJU+NewsGothic-Bold
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Snippet of the&#160; actual output below.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Billing invoice February 2018
Date: !&lt;span class=&quot;code-quote&quot;&gt;&quot;#$!#!$%&quot;&lt;/span&gt;
Invoice No: &amp;amp;&amp;amp;&apos;()
Bill to:
*+, %%%%$

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13024814/13024814_FDFBJU%2BNewsGothic-0034.pfa&quot; title=&quot;FDFBJU+NewsGothic-0034.pfa attached to PDFBOX-5155&quot;&gt;FDFBJU+NewsGothic-0034.pfa&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17337293" author="jira-bot" created="Fri, 30 Apr 2021 11:01:16 +0000"  >&lt;p&gt;Commit 1889324 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889324&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889324&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: Sonar fix&lt;/p&gt;</comment>
                            <comment id="17337301" author="tilman" created="Fri, 30 Apr 2021 11:19:50 +0000"  >&lt;p&gt;These problems are usually related to the /ToUnicode stream. These are sometimes wrong. Please attach that one.&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024843/13024843_image-2021-04-30-13-22-09-187.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17337312" author="nnambiar" created="Fri, 30 Apr 2021 11:36:04 +0000"  >&lt;p&gt;This is what i see from PdfDebugger.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024844/13024844_Screenshot+2021-04-30+at+12.34.20.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo 3 dict dup begin
/Registry (Adobe) def
/Ordering (UCS) def
/Supplement 0 def
end def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
/WMode 0 def
1 begincodespacerange
&amp;lt;0000&amp;gt; &amp;lt;FFFF&amp;gt;
endcodespacerange
endcmap
CMapName currentdict /CMap
defineresource pop
end end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17337378" author="tilman" created="Fri, 30 Apr 2021 13:07:08 +0000"  >&lt;p&gt;It&apos;s missing information. This is explained in the answer here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/51610892/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/51610892/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17337437" author="nnambiar" created="Fri, 30 Apr 2021 14:51:02 +0000"  >&lt;p&gt;I read the article but not sure I fully understand the technical details. If my understanding is correct there isn&apos;t enough information about the unicode mappings&#160; in the font for pdfbox to read it, is that right?&lt;/p&gt;

&lt;p&gt;I was able to extract text for the same pdf using other 3rd party libraries shouldn&apos;t be the same with pdfbox? Do you think this can&apos;t be fixed in the library?&lt;/p&gt;</comment>
                            <comment id="17337451" author="tilman" created="Fri, 30 Apr 2021 15:17:37 +0000"  >&lt;p&gt;Your understanding of the article is correct.&lt;/p&gt;

&lt;p&gt;For further research we would need the file. It&apos;s possible the file used the trick mentioned by mkl two weeks ago. But that one we don&apos;t support and no work is being done on it.&lt;/p&gt;</comment>
                            <comment id="17337753" author="jira-bot" created="Sat, 1 May 2021 07:38:31 +0000"  >&lt;p&gt;Commit 1889352 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889352&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: improve exception message&lt;/p&gt;</comment>
                            <comment id="17337754" author="jira-bot" created="Sat, 1 May 2021 07:38:35 +0000"  >&lt;p&gt;Commit 1889353 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889353&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: improve exception message&lt;/p&gt;</comment>
                            <comment id="17337756" author="tilman" created="Sat, 1 May 2021 07:49:35 +0000"  >&lt;p&gt;To find out whether the /ActualText trick is used, open the file with PDFDebugger and look into the page /Contents like this (from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2740&quot; title=&quot;Text extraction failed on Korean PDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2740&quot;&gt;&lt;del&gt;PDFBOX-2740&lt;/del&gt;&lt;/a&gt;):&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024873/13024873_image-2021-05-01-09-49-26-222.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17337787" author="nnambiar" created="Sat, 1 May 2021 11:54:55 +0000"  >&lt;p&gt;I get a blank page&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024877/13024877_image-2021-05-01-12-54-26-202.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17337788" author="tilman" created="Sat, 1 May 2021 12:04:42 +0000"  >&lt;p&gt;The content stream is in two parts in your file. You need to click on both, i.e. on the &quot;0&quot; and on the &quot;1&quot;.&lt;/p&gt;</comment>
                            <comment id="17337843" author="nnambiar" created="Sat, 1 May 2021 17:08:05 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024884/13024884_image-2021-05-01-18-07-38-406.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17337873" author="tilman" created="Sat, 1 May 2021 18:47:01 +0000"  >&lt;p&gt;That&apos;s the flate encoded view. Please choose &quot;unfiltered (text)&quot;. Do this for both content streams. If they are very small then it&apos;s possible that the stuff is in one of the Resources/XObjects entries instead.&lt;/p&gt;</comment>
                            <comment id="17338851" author="nnambiar" created="Tue, 4 May 2021 08:46:49 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024954/13024954_image-2021-05-04-09-45-53-271.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17338853" author="nnambiar" created="Tue, 4 May 2021 08:47:26 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024955/13024955_image-2021-05-04-09-47-17-536.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17338854" author="nnambiar" created="Tue, 4 May 2021 08:47:56 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024956/13024956_image-2021-05-04-09-47-46-988.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17339114" author="tilman" created="Tue, 4 May 2021 16:21:58 +0000"  >&lt;p&gt;So there is &quot;!&quot;#$!#!$%&quot; right in the content stream and no /ActualText. The problem font is /F15.&lt;br/&gt;
Could you post a screenshot of that font, scroll so that the numbers. (Click on F15 in the resource dictionary). While there, please expand the &quot;tree&quot; below F15 so that &quot;Encoding&quot; and &quot;FontDescriptor&quot; can be seen.&lt;/p&gt;</comment>
                            <comment id="17339135" author="nnambiar" created="Tue, 4 May 2021 16:41:40 +0000"  >&lt;p&gt;F17 will have similar issues also.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024969/13024969_image-2021-05-04-17-41-37-186.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17339189" author="tilman" created="Tue, 4 May 2021 17:46:40 +0000"  >&lt;p&gt;Maybe we&apos;re getting closer now. The text on the top right should be &quot;DictionaryEncoding with differences&quot; but it&apos;s just &quot;DictionaryEncoding&quot;.&lt;br/&gt;
The glyph names are the correct ones. Could you please post another screenshot that shows the encoding Differences array of F15?&lt;/p&gt;

&lt;p&gt;I&apos;m wondering if the differences array has a flaw, or whether we ignore the differences because of the bad /ToUnicode stream.&lt;/p&gt;</comment>
                            <comment id="17339218" author="nnambiar" created="Tue, 4 May 2021 18:38:40 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024976/13024976_Screenshot+2021-05-04+at+19.38.05.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17339219" author="nnambiar" created="Tue, 4 May 2021 18:41:59 +0000"  >&lt;p&gt;I was not able to open the font using the 2.0.24 snapshot version as it was throwing exception, this is based on version. 2.0.23&lt;/p&gt;</comment>
                            <comment id="17339235" author="tilman" created="Tue, 4 May 2021 19:09:41 +0000"  >&lt;p&gt;What exception do you get?&lt;/p&gt;</comment>
                            <comment id="17339240" author="jira-bot" created="Tue, 4 May 2021 19:13:45 +0000"  >&lt;p&gt;Commit 1889502 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889502&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889502&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: show full encodingname output&lt;/p&gt;</comment>
                            <comment id="17339241" author="jira-bot" created="Tue, 4 May 2021 19:13:49 +0000"  >&lt;p&gt;Commit 1889503 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889503&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889503&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: show full encodingname output&lt;/p&gt;</comment>
                            <comment id="17339257" author="jira-bot" created="Tue, 4 May 2021 19:30:25 +0000"  >&lt;p&gt;Commit 1889504 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889504&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889504&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: add logging when identity is used&lt;/p&gt;</comment>
                            <comment id="17339258" author="jira-bot" created="Tue, 4 May 2021 19:30:29 +0000"  >&lt;p&gt;Commit 1889505 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889505&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889505&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5155&quot; title=&quot;Error extracting text from PDF - Can&amp;#39;t read the embedded Type1 font FDFBJU+NewsGothic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5155&quot;&gt;&lt;del&gt;PDFBOX-5155&lt;/del&gt;&lt;/a&gt;: add logging when identity is used&lt;/p&gt;</comment>
                            <comment id="17339260" author="tilman" created="Tue, 4 May 2021 19:33:18 +0000"  >&lt;p&gt;The latest screenshot reinforces my belief that the differences array is ignored.&lt;/p&gt;

&lt;p&gt;It turns out that PDFDebugger didn&apos;t show the encoding name correctly, it just showed the java class. I&apos;ve also added a log output to confirm that identity is used. I suspect that Adobe uses the encoding entry for the decoding.&lt;/p&gt;

&lt;p&gt;(memo for me: 000904-p25-Annotation-Invisible-Link.pdf has such an encoding)&lt;/p&gt;</comment>
                            <comment id="17339270" author="nnambiar" created="Tue, 4 May 2021 19:50:46 +0000"  >&lt;p&gt;This is the PDFDebugger exception i was getting with the snapshot version&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13024982/13024982_Screenshot+2021-05-04+at+20.49.24.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17339390" author="tilman" created="Wed, 5 May 2021 04:04:06 +0000"  >&lt;p&gt;Thank you. I just fixed that bug in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2941&quot; title=&quot;Improve PDFDebugger (2)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2941&quot;&gt;PDFBOX-2941&lt;/a&gt;, please try again with the snapshot.&lt;/p&gt;</comment>
                            <comment id="17339434" author="lehmi" created="Wed, 5 May 2021 06:11:15 +0000"  >&lt;p&gt;An encoding dictionary provides a mapping to character names. Those name might look like real characters but they don&apos;t have a real meaning when it comes to text extraction. We can&apos;t rely on a dictionary encoding as replacement for a missing toUnicode mapping unless we have some magic code which is able to detect wether those names have a meaning or not. &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5162&quot; title=&quot;Text extraction lost&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5162&quot;&gt;&lt;del&gt;PDFBOX-5162&lt;/del&gt;&lt;/a&gt; contains a file with such an encoding. All names consist of a &quot;g&quot; and a number.&lt;/p&gt;</comment>
                            <comment id="17339579" author="nnambiar" created="Wed, 5 May 2021 10:38:32 +0000"  >&lt;p&gt;Thanks, I don&apos;t get that error in the debugger anymore with the latest snapshot. The main issue with text extraction still remains.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17339807" author="tilman" created="Wed, 5 May 2021 17:52:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nnambiar&quot; class=&quot;user-hover&quot; rel=&quot;nnambiar&quot;&gt;nnambiar&lt;/a&gt; I&apos;d like to see what&apos;s on the right in the font display&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; Yes but in the file here the names seem to be like the glyphlist. And there is this code in PDSimpleFont:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (encoding != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
{
	name = encoding.getName(code);
	unicode = unicodeGlyphList.toUnicode(name);
	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (unicode != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
	{
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; unicode;
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17340020" author="lehmi" created="Thu, 6 May 2021 06:27:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; You are right, there is already some magic as fallback. The question is, is it triggered or not? It is hard to find out if debugging is limited to screenshots&lt;/p&gt;</comment>
                            <comment id="17340028" author="tilman" created="Thu, 6 May 2021 06:44:22 +0000"  >&lt;p&gt;Yes it&apos;s a pain, but it gave us 1 bug fix and 2 enhancements as gifts, so I&apos;m still going &#128514;&lt;/p&gt;</comment>
                            <comment id="17340224" author="nnambiar" created="Thu, 6 May 2021 13:57:56 +0000"  >&lt;p&gt;Does it help?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13025093/13025093_Screenshot+2021-05-06+at+14.57.06.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17340323" author="tilman" created="Thu, 6 May 2021 17:15:49 +0000"  >&lt;p&gt;Here&apos;s what I think happens:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-comment&quot;&gt;// first &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; to use a ToUnicode CMap
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; unicode = &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.toUnicode(code);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (unicode != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; unicode;
        }
        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the font is a &lt;span class=&quot;code-quote&quot;&gt;&quot;simple font&quot;&lt;/span&gt; and uses MacRoman/MacExpert/WinAnsi[Encoding]
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// or has Differences with names from only Adobe Standard and/or Symbol, then:
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;//    a) Map the character codes to names
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;//    b) Look up the name in the Adobe Glyph List to obtain the Unicode value        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (encoding != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            name = encoding.getName(code);
            unicode = unicodeGlyphList.toUnicode(name);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (unicode != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; unicode;
            }
        } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Because of the workaround for /ToUnicode streams in &lt;tt&gt;PDFont.loadUnicodeCmap()&lt;/tt&gt;, then in the code here &lt;tt&gt;super.toUnicode()&lt;/tt&gt; is successful, so the later code is never used. It&apos;s possible that one earlier PDFBox version can extract this file here properly, but these would fail with others.&lt;/p&gt;</comment>
                            <comment id="17347470" author="nnambiar" created="Wed, 19 May 2021 09:53:04 +0000"  >&lt;p&gt;Any further updates?&lt;/p&gt;</comment>
                            <comment id="17347782" author="tilman" created="Wed, 19 May 2021 17:17:24 +0000"  >&lt;p&gt;We would have to change the existing workaround related to the &quot;Invalid ToUnicode CMap in font&quot; message (in PDFont.loadUnicodeCmap) so that it doesn&apos;t return an identity CMap instead. That might ruin the extraction of other files. And because you can&apos;t share your file, we don&apos;t have a test case, so the text extraction of your file might fail in a later version.&lt;/p&gt;

&lt;p&gt;If this file is one of many different files that you process (maybe you process invoices): use OCR. There are many flawed PDF files.&lt;br/&gt;
 If this file is part of a process where you only get files like this: get the creator of that file to fix it, maybe by updating the library that they are using. &quot;But it works with Adobe&quot; doesn&apos;t mean it is correct.&lt;/p&gt;</comment>
                            <comment id="17349003" author="lehmi" created="Fri, 21 May 2021 06:22:45 +0000"  >&lt;p&gt;There is maybe one thing we could try. According to the spec there should be one of the given mappings (encoding or toUnicode map) but it doesn&apos;t define any priority. Saying that we could try to simply change the order of processing within org.apache.pdfbox.pdmodel.font.PDSimpleFont.toUnicode(int, GlyphList) and see what happens. The tests are working and I&apos;ve checked some other pdfs as well.&lt;/p&gt;</comment>
                            <comment id="17349587" author="tilman" created="Sat, 22 May 2021 03:10:48 +0000"  >&lt;p&gt;I tried to make the modification in PDSimpleFont, and had differences:&lt;/p&gt;

&lt;p&gt;artikel1_20_arab.pdf, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-679&quot; title=&quot;Corruption of Arabic output due to Japanese bug fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-679&quot;&gt;&lt;del&gt;PDFBOX-679&lt;/del&gt;&lt;/a&gt;-toobig.pdf, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3248&quot; title=&quot;Unwanted spaces in text extraction (2)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3248&quot;&gt;&lt;del&gt;PDFBOX-3248&lt;/del&gt;&lt;/a&gt;-spaces.pdf, QN563JY3FFTF2HHOCOHU3Z72RKCMQH3P-p2-reduced.pdf&lt;/p&gt;


&lt;p&gt;QN563JY3FFTF2HHOCOHU3Z72RKCMQH3P-p2-reduced.pdf is &quot;t h e A m e r i c A n Q u A rt e r h o r s e J o u r n A l&quot; as original extraction (also in Adobe, but without spaces), and now it has &quot;T H E A M E R I C A N Q U A RT E R H O R S E J O U R N A L&quot;.&lt;/p&gt;

&lt;p&gt;artikel1_20_arab.pdf has &quot;...&quot; in the original extraction (also in Adobe), now it has &quot;&#8230;&quot;.&lt;/p&gt;</comment>
                            <comment id="17350076" author="lehmi" created="Sun, 23 May 2021 16:29:42 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; It was worth a try. &lt;/p&gt;

&lt;p&gt;The question is, are the results better or worse? It looks like the current results are similar to the Adobe results which aren&apos;t necessarily the better but the expected ones. We mioght have a deeper look into this. Where can I find QN563JY3FFTF2HHOCOHU3Z72RKCMQH3P-p2-reduced.pdf and &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-679&quot; title=&quot;Corruption of Arabic output due to Japanese bug fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-679&quot;&gt;&lt;del&gt;PDFBOX-679&lt;/del&gt;&lt;/a&gt;-toobig.pdf? The latter isn&apos;t attached to the ticket&lt;/p&gt;</comment>
                            <comment id="17351268" author="tilman" created="Tue, 25 May 2021 18:19:02 +0000"  >&lt;p&gt;Setting to resolved because the original bug has been fixed. Thank you for reporting it. The other problem should be handled in a new issue (mention this one).&lt;/p&gt;

&lt;p&gt;My &quot;idea&quot; would be to change loadUnicodeCmap() so that the predefined cmap is used only &lt;tt&gt;if (dict.getCOSDictionary(COSName.ENCODING) == null)&lt;/tt&gt;. But as I said, we need a test file. Maybe ask that client to provide a dummy invoice.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13024814" name="FDFBJU+NewsGothic-0034.pfa" size="15516" author="nnambiar" created="Thu, 29 Apr 2021 16:01:15 +0000"/>
                            <attachment id="13024835" name="FDFBJU+NewsGothic-Bold-0050.pfa" size="12299" author="nnambiar" created="Fri, 30 Apr 2021 09:35:00 +0000"/>
                            <attachment id="13024833" name="FDFBJU+NewsGothic-Bold-0050.pfa" size="12299" author="nnambiar" created="Fri, 30 Apr 2021 09:34:39 +0000"/>
                            <attachment id="13025818" name="PDFBOX-679-toobig.pdf" size="253411" author="tilman" created="Sun, 23 May 2021 17:09:54 +0000"/>
                            <attachment id="13025819" name="QN563JY3FFTF2HHOCOHU3Z72RKCMQH3P-p2-reduced.pdf" size="4528" author="tilman" created="Sun, 23 May 2021 17:10:35 +0000"/>
                            <attachment id="13024844" name="Screenshot 2021-04-30 at 12.34.20.png" size="130878" author="nnambiar" created="Fri, 30 Apr 2021 11:35:22 +0000"/>
                            <attachment id="13024978" name="Screenshot 2021-05-04 at 19.37.12.png" size="78541" author="nnambiar" created="Tue, 4 May 2021 18:38:28 +0000"/>
                            <attachment id="13024977" name="Screenshot 2021-05-04 at 19.37.43.png" size="65911" author="nnambiar" created="Tue, 4 May 2021 18:38:28 +0000"/>
                            <attachment id="13024976" name="Screenshot 2021-05-04 at 19.38.05.png" size="66486" author="nnambiar" created="Tue, 4 May 2021 18:38:28 +0000"/>
                            <attachment id="13024982" name="Screenshot 2021-05-04 at 20.49.24.png" size="677737" author="nnambiar" created="Tue, 4 May 2021 19:50:41 +0000"/>
                            <attachment id="13025093" name="Screenshot 2021-05-06 at 14.57.06.png" size="173967" author="nnambiar" created="Thu, 6 May 2021 13:57:54 +0000"/>
                            <attachment id="13023517" name="image-2021-04-07-17-11-10-048.png" size="53863" author="nnambiar" created="Wed, 7 Apr 2021 16:11:10 +0000"/>
                            <attachment id="13024843" name="image-2021-04-30-13-22-09-187.png" size="60466" author="tilman" created="Fri, 30 Apr 2021 11:22:09 +0000"/>
                            <attachment id="13024873" name="image-2021-05-01-09-49-26-222.png" size="101686" author="tilman" created="Sat, 1 May 2021 07:49:26 +0000"/>
                            <attachment id="13024877" name="image-2021-05-01-12-54-26-202.png" size="55417" author="nnambiar" created="Sat, 1 May 2021 11:54:26 +0000"/>
                            <attachment id="13024884" name="image-2021-05-01-18-07-38-406.png" size="53656" author="nnambiar" created="Sat, 1 May 2021 17:07:38 +0000"/>
                            <attachment id="13024954" name="image-2021-05-04-09-45-53-271.png" size="74065" author="nnambiar" created="Tue, 4 May 2021 08:45:53 +0000"/>
                            <attachment id="13024955" name="image-2021-05-04-09-47-17-536.png" size="155432" author="nnambiar" created="Tue, 4 May 2021 08:47:18 +0000"/>
                            <attachment id="13024956" name="image-2021-05-04-09-47-46-988.png" size="50584" author="nnambiar" created="Tue, 4 May 2021 08:47:47 +0000"/>
                            <attachment id="13024968" name="image-2021-05-04-17-39-26-079.png" size="123420" author="nnambiar" created="Tue, 4 May 2021 16:39:26 +0000"/>
                            <attachment id="13024969" name="image-2021-05-04-17-41-37-186.png" size="148047" author="nnambiar" created="Tue, 4 May 2021 16:41:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0pmo0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>