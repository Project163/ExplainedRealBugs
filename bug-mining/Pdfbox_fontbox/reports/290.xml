<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4670] ArrayIndexOutOfBoundsException thrown parsing malformed TTF files</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4670</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I ran some fuzz tests on &lt;tt&gt;TTFParser&lt;/tt&gt; in order to check the behavior of FontBox with respect to untrusted TTF files. In general the results seem good (e.g. no &lt;tt&gt;OutOfMemoryError&lt;/tt&gt;), but there are a few instances of &lt;tt&gt;ArrayIndexOutOfBoundsException&lt;/tt&gt; being thrown.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a zip file containing the findings (one .trace file and one .ttf file per error), as well as a patch containing the fuzzer used to find these issues. It uses the TTF files in the &lt;tt&gt;src/test/resources/ttf&lt;/tt&gt; directory, mutates them randomly, and then tries to parse them. Details of any unexpected exceptions are saved to the &lt;tt&gt;target/fuzz-failures&lt;/tt&gt; directory. I ran 100k tests against each file (takes 5 to 10 minutes), but the run size is customizable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13261962">PDFBOX-4670</key>
            <summary>ArrayIndexOutOfBoundsException thrown parsing malformed TTF files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="sdanig">Daniel Gredler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Oct 2019 18:35:09 +0000</created>
                <updated>Fri, 18 Aug 2023 05:46:12 +0000</updated>
                            <resolved>Mon, 14 Oct 2019 18:01:35 +0000</resolved>
                                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16950331" author="tilman" created="Sun, 13 Oct 2019 14:17:58 +0000"  >&lt;p&gt;Thanks, I&apos;ll commit the changes after the svn2jira problem is fixed. I&apos;m attaching the changes in case I&apos;m hit by a bus.&lt;/p&gt;</comment>
                            <comment id="16950336" author="lehmi" created="Sun, 13 Oct 2019 14:36:23 +0000"  >&lt;p&gt;According to infra@ the problem should be fixed by now&lt;/p&gt;</comment>
                            <comment id="16950341" author="jira-bot" created="Sun, 13 Oct 2019 14:53:34 +0000"  >&lt;p&gt;Commit 1868408 from Tilman Hausherr in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1868408&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1868408&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4670&quot; title=&quot;ArrayIndexOutOfBoundsException thrown parsing malformed TTF files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4670&quot;&gt;&lt;del&gt;PDFBOX-4670&lt;/del&gt;&lt;/a&gt;: avoid ArrayIndexOutOfBoundsException discovered by Daniel Gredler&lt;/p&gt;</comment>
                            <comment id="16950342" author="jira-bot" created="Sun, 13 Oct 2019 14:53:38 +0000"  >&lt;p&gt;Commit 1868409 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1868409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1868409&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4670&quot; title=&quot;ArrayIndexOutOfBoundsException thrown parsing malformed TTF files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4670&quot;&gt;&lt;del&gt;PDFBOX-4670&lt;/del&gt;&lt;/a&gt;: avoid ArrayIndexOutOfBoundsException discovered by Daniel Gredler&lt;/p&gt;</comment>
                            <comment id="16950358" author="tilman" created="Sun, 13 Oct 2019 15:12:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; + &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=infrastructure%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;infrastructure@apache.org&quot;&gt;infrastructure@apache.org&lt;/a&gt; thanks!&lt;/p&gt;</comment>
                            <comment id="16951205" author="tilman" created="Mon, 14 Oct 2019 18:01:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sdanig&quot; class=&quot;user-hover&quot; rel=&quot;sdanig&quot;&gt;sdanig&lt;/a&gt; thanks for the fuzzing, I fixed the bugs you discovered. I also ran it on my windows fonts directory and got two OOM exceptions, but when run individually it was just ordinary IOExceptions. Maybe there is some memory leak in the fuzzer or in fontbox (but only when fuzzing). So that&apos;s it for now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12982880" name="diff1.diff" size="470" author="tilman" created="Sun, 13 Oct 2019 14:17:47 +0000"/>
                            <attachment id="12982879" name="diff2.diff" size="1672" author="tilman" created="Sun, 13 Oct 2019 14:17:47 +0000"/>
                            <attachment id="12982852" name="fontbox-fuzzing.diff" size="12385" author="sdanig" created="Sat, 12 Oct 2019 18:32:49 +0000"/>
                            <attachment id="12982853" name="fuzz-failures.zip" size="449477" author="sdanig" created="Sat, 12 Oct 2019 18:28:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07jbs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>