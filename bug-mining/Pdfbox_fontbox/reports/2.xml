<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:48:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-703] Null pointer Exception with org.apache.fontbox.cff.CFFParser$DictData.getEntry(CFFParser.java:626)</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-703</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The code doesn&apos;t crash, however there are a lot of stack dumps in the log file.&lt;/p&gt;

&lt;p&gt;The 4 entry in the array below has a null for an operator&lt;/p&gt;

&lt;p&gt;org.apache.fontbox.cff.CFFParser$DictData$Entry[operands=&lt;span class=&quot;error&quot;&gt;&amp;#91;-18, 18, 608, 18, -248, 16, 262, 10&amp;#93;&lt;/span&gt;, operator=BlueValues], &lt;br/&gt;
org.apache.fontbox.cff.CFFParser$DictData$Entry[operands=&lt;span class=&quot;error&quot;&gt;&amp;#91;240, 2, 114, 0, -576, 0&amp;#93;&lt;/span&gt;, operator=OtherBlues], &lt;br/&gt;
org.apache.fontbox.cff.CFFParser$DictData$Entry[operands=&lt;span class=&quot;error&quot;&gt;&amp;#91;0.0479583&amp;#93;&lt;/span&gt;, operator=BlueScale], &lt;br/&gt;
org.apache.fontbox.cff.CFFParser$DictData$Entry[operands=&lt;span class=&quot;error&quot;&gt;&amp;#91;0.06&amp;#93;&lt;/span&gt;, operator=null], &lt;br/&gt;
org.apache.fontbox.cff.CFFParser$DictData$Entry[operands=&lt;span class=&quot;error&quot;&gt;&amp;#91;278&amp;#93;&lt;/span&gt;, operator=defaultWidthX], &lt;br/&gt;
org.apache.fontbox.cff.CFFParser$DictData$Entry[operands=&lt;span class=&quot;error&quot;&gt;&amp;#91;551&amp;#93;&lt;/span&gt;, operator=nominalWidthX], null, null, null, null&lt;/p&gt;

&lt;p&gt;In  the file org.apache.fontbox.cff.CFFParser.java:626  it fails to test for a null operator.&lt;br/&gt;
I am not sure if the data is incorrect or if the code should just test for a null pointer exception.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Failed to create Type1C font. Falling back to Type1 font&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.fontbox.cff.CFFParser$DictData.getEntry(CFFParser.java:626)&lt;br/&gt;
	at org.apache.fontbox.cff.CFFParser$DictData.getEntry(CFFParser.java:619)&lt;br/&gt;
	at org.apache.fontbox.cff.CFFParser.getDelta(CFFParser.java:414)&lt;br/&gt;
	at org.apache.fontbox.cff.CFFParser.parseFont(CFFParser.java:358)&lt;br/&gt;
	at org.apache.fontbox.cff.CFFParser.parse(CFFParser.java:66)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Proposed fix would be to test for a null operator and stop the crash.&lt;/p&gt;


&lt;p&gt;       private Entry getEntry(CFFOperator operator)&lt;br/&gt;
        {&lt;br/&gt;
            for (Entry entry : entries)&lt;br/&gt;
            {&lt;br/&gt;
            	// Check for null entry before comparing the Font&lt;br/&gt;
            	//&lt;/p&gt;

&lt;p&gt;                if (entry != null &amp;amp;&amp;amp; entry.operator != null &amp;amp;&amp;amp; &lt;br/&gt;
                    entry.operator.equals(operator))&lt;/p&gt;
                {
                    return entry;
                }
&lt;p&gt;            }&lt;br/&gt;
            return null;&lt;br/&gt;
        }&lt;/p&gt;</description>
                <environment>Not an issue, </environment>
        <key id="12463169">PDFBOX-703</key>
            <summary>Null pointer Exception with org.apache.fontbox.cff.CFFParser$DictData.getEntry(CFFParser.java:626)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="peter_lenahan@ibi.com">Peter_Lenahan@ibi.com</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Apr 2010 02:08:05 +0000</created>
                <updated>Thu, 1 Jul 2010 07:27:26 +0000</updated>
                            <resolved>Thu, 6 May 2010 18:13:00 +0000</resolved>
                                                    <fixVersion>1.2.0</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12861647" author="peter_lenahan@ibi.com" created="Wed, 28 Apr 2010 02:16:24 +0000"  >&lt;p&gt;Just add a check for null value before comparing the values.&lt;/p&gt;


&lt;p&gt;This problem occurred while I was testing loading 1000 pdf files.&lt;br/&gt;
Unfortunately this is a copyrighted file in my test and I cannot give you the test case to reproduce the problem.&lt;/p&gt;

&lt;p&gt;One of the documents which caused the problem is named: &lt;/p&gt;

&lt;p&gt;Bogaard Neolithic Farming in Central Europe An archaeobotanical study of crop husbandry practices.pdf&lt;/p&gt;


&lt;p&gt;Peter&lt;/p&gt;</comment>
                            <comment id="12864870" author="lehmi" created="Thu, 6 May 2010 18:13:00 +0000"  >&lt;p&gt;I&apos;ve applied the patch with version 941835&lt;/p&gt;

&lt;p&gt;Thanks to Peter for the contribution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12443032" name="PDFBOX-703-CFFParser-nullpointerexception-patch.txt" size="1083" author="peter_lenahan@ibi.com" created="Wed, 28 Apr 2010 02:16:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zmgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>205940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>