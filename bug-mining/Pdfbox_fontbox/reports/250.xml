<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4038] CFF font Blue values and other delta encoded lists read incorrectly</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4038</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The attached test compares the values retrieved via CFFParser from an OpenType font with the expected values as seen in FontForge (go to Element-&amp;gt;Font Info-&amp;gt;PS Private). &lt;/p&gt;

&lt;p&gt;The font NeoSans Black.otf can be found at &lt;a href=&quot;https://www.wfonts.com/font/neosans&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.wfonts.com/font/neosans&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The CFF font specification explaining the encoding of the entries which are incorrectly parsed by FontBox CFFParser can be found here &lt;a href=&quot;https://typekit.files.wordpress.com/2013/05/5176.cff.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://typekit.files.wordpress.com/2013/05/5176.cff.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We use FontBox to read the font when we need to embed it into an PDF which we produce via our Apache FOP based software. Adobe validator complains about incorrect &quot;Blue values&quot; sorting then.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13125173">PDFBOX-4038</key>
            <summary>CFF font Blue values and other delta encoded lists read incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="pslabycz">Petr Slaby</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Dec 2017 10:45:57 +0000</created>
                <updated>Sat, 24 Mar 2018 09:41:30 +0000</updated>
                            <resolved>Sat, 16 Dec 2017 07:29:43 +0000</resolved>
                                    <version>2.0.8</version>
                                    <fixVersion>2.0.9</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16292700" author="tilman" created="Fri, 15 Dec 2017 15:52:14 +0000"  >&lt;p&gt;I agree that our code is incorrect. But I doubt that the result values must have an increasing order - have a look at the file CourierStd.otf. The delta values could be positive or negative. For this font, the values are &lt;span class=&quot;error&quot;&gt;&amp;#91;-14, 0, 572, 585, 434, 448, 782, 803, 626, 626&amp;#93;&lt;/span&gt; with your change and also in DTL OTMaster 3.7 light (I deinstalled FontForge because I didn&apos;t like its UI).&lt;/p&gt;</comment>
                            <comment id="16292759" author="jira-bot" created="Fri, 15 Dec 2017 16:28:43 +0000"  >&lt;p&gt;Commit 1818299 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1818299&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1818299&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4038&quot; title=&quot;CFF font Blue values and other delta encoded lists read incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4038&quot;&gt;&lt;del&gt;PDFBOX-4038&lt;/del&gt;&lt;/a&gt;: read BlueValues and other delta encoded lists correctly&lt;/p&gt;</comment>
                            <comment id="16292760" author="jira-bot" created="Fri, 15 Dec 2017 16:28:48 +0000"  >&lt;p&gt;Commit 1818300 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1818300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1818300&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4038&quot; title=&quot;CFF font Blue values and other delta encoded lists read incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4038&quot;&gt;&lt;del&gt;PDFBOX-4038&lt;/del&gt;&lt;/a&gt;: read BlueValues and other delta encoded lists correctly&lt;/p&gt;</comment>
                            <comment id="16293218" author="pslabycz" created="Fri, 15 Dec 2017 20:44:24 +0000"  >&lt;blockquote&gt;
&lt;p&gt;But I doubt that the result values must have an increasing order &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You are right, that was my misinterpretation of the information I got. The Type1 specification says exactly this:&lt;/p&gt;

&lt;p&gt;The value associated with BlueValues is an array containing an even number of integers taken in pairs, and which follow a small&lt;br/&gt;
number of rules:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The first integer in each pair is less than or equal to the second integer in that pair.&lt;br/&gt;
...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But that is relatively unimportant in this context. The important information is the delta encoding of the integer array in CFF which must be taken into account by the CFFParser. &lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="16293674" author="jira-bot" created="Sat, 16 Dec 2017 06:08:36 +0000"  >&lt;p&gt;Commit 1818374 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1818374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1818374&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4038&quot; title=&quot;CFF font Blue values and other delta encoded lists read incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4038&quot;&gt;&lt;del&gt;PDFBOX-4038&lt;/del&gt;&lt;/a&gt;: add test by Petr Slaby; download test file into repository&lt;/p&gt;</comment>
                            <comment id="16293675" author="jira-bot" created="Sat, 16 Dec 2017 06:25:34 +0000"  >&lt;p&gt;Commit 1818375 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1818375&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1818375&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4038&quot; title=&quot;CFF font Blue values and other delta encoded lists read incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4038&quot;&gt;&lt;del&gt;PDFBOX-4038&lt;/del&gt;&lt;/a&gt;: add test by Petr Slaby; download test file into repository&lt;/p&gt;</comment>
                            <comment id="16293679" author="tilman" created="Sat, 16 Dec 2017 06:33:02 +0000"  >&lt;p&gt;Attribution to you has been corrected in the repository log&lt;/p&gt;</comment>
                            <comment id="16293697" author="tilman" created="Sat, 16 Dec 2017 07:29:43 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pslabycz&quot; class=&quot;user-hover&quot; rel=&quot;pslabycz&quot;&gt;pslabycz&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12902287" name="BlueValuesTest.java" size="3571" author="pslabycz" created="Fri, 15 Dec 2017 11:50:08 +0000"/>
                            <attachment id="12902270" name="CFFParser.java.patch" size="3221" author="pslabycz" created="Fri, 15 Dec 2017 10:43:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3nxxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>