<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5163] Stack overflow when reading a corrupt dictionary</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5163</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Richard Smith/Chaoyuan Peng reported an issue with the current version 2.0.23. When parsing a carefully handcrafted pdf the following exception occurs and PDFBox crashes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.StackOverflowError: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    java.util.WeakHashMap.eq(Unknown Source)
    java.util.WeakHashMap.get(Unknown Source)
    java.util.Collections$SynchronizedMap.get(Unknown Source)
    org.apache.pdfbox.debugger.ui.LogDialog.log(LogDialog.java:143)
    org.apache.pdfbox.debugger.ui.DebugLog.warn(DebugLog.java:156)
    org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:933)
    org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryValue(BaseParser.java:154)
    org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryNameValuePair(BaseParser.java:283)
    org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionary(BaseParser.java:216)
    org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:859)
    org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:917)
    org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:886)
    org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:806)
    org.apache.pdfbox.pdfparser.COSParser.getLength(COSParser.java:1060)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13371949">PDFBOX-5163</key>
            <summary>Stack overflow when reading a corrupt dictionary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="lehmi">Andreas Lehmk&#252;hler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Apr 2021 06:04:45 +0000</created>
                <updated>Fri, 11 Jun 2021 06:08:29 +0000</updated>
                            <resolved>Tue, 13 Apr 2021 06:27:37 +0000</resolved>
                                    <version>2.0.23</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.24</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17319924" author="lehmi" created="Tue, 13 Apr 2021 06:09:14 +0000"  >&lt;p&gt;The pdf is corrupted and the cause for the stack overflow is a broken dictionary. PDFBox tries to read as much as possible and runs into a infinite loop which ends up in stack overflow after a short time. The trunk isn&apos;t affected as the parser stops working with an error message when verifying the root dictionary which is broken as well.&lt;/p&gt;</comment>
                            <comment id="17319932" author="jira-bot" created="Tue, 13 Apr 2021 06:17:14 +0000"  >&lt;p&gt;Commit 1888706 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1888706&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1888706&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5163&quot; title=&quot;Stack overflow when reading a corrupt dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5163&quot;&gt;&lt;del&gt;PDFBOX-5163&lt;/del&gt;&lt;/a&gt;: stop reading corrupted dictionaries to avoid a stack overflow exception&lt;/p&gt;</comment>
                            <comment id="17319934" author="jira-bot" created="Tue, 13 Apr 2021 06:21:08 +0000"  >&lt;p&gt;Commit 1888707 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1888707&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1888707&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5163&quot; title=&quot;Stack overflow when reading a corrupt dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5163&quot;&gt;&lt;del&gt;PDFBOX-5163&lt;/del&gt;&lt;/a&gt;: stop reading corrupted dictionaries to avoid a stack overflow exception&lt;/p&gt;</comment>
                            <comment id="17319937" author="lehmi" created="Tue, 13 Apr 2021 06:23:05 +0000"  >&lt;p&gt;I&apos;ve applied the changes to the trunk as well. The attached doesn&apos;t trigger the described exception by other coruppted pdfs may do.&lt;/p&gt;</comment>
                            <comment id="17319938" author="jira-bot" created="Tue, 13 Apr 2021 06:25:48 +0000"  >&lt;p&gt;Commit 1888708 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1888708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1888708&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5163&quot; title=&quot;Stack overflow when reading a corrupt dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5163&quot;&gt;&lt;del&gt;PDFBOX-5163&lt;/del&gt;&lt;/a&gt;: remove dubious code&lt;/p&gt;</comment>
                            <comment id="17319940" author="lehmi" created="Tue, 13 Apr 2021 06:27:37 +0000"  >&lt;p&gt;Thanks to Richard Smith/Chaoyuan Peng for reporting this issue&lt;/p&gt;</comment>
                            <comment id="17341485" author="jira-bot" created="Sun, 9 May 2021 10:43:43 +0000"  >&lt;p&gt;Commit 1889695 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889695&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889695&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5163&quot; title=&quot;Stack overflow when reading a corrupt dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5163&quot;&gt;&lt;del&gt;PDFBOX-5163&lt;/del&gt;&lt;/a&gt;: remove dubious code&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13374889">PDFBOX-5176</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13023746" name="crash_stack_overflow_sample.pdf" size="22829" author="lehmi" created="Tue, 13 Apr 2021 06:05:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0px4o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>