<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:51:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5901] there is an issue with font mapping or rendering</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5901</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When I try to extract the text content of a pdf file, I keep looping through the warning log of font rendering or mapping, I can&apos;t get the content of the file, how can I fix this problem.&lt;br/&gt;
&#160;&lt;br/&gt;
My code&#65306;&lt;/p&gt;

&lt;p&gt;&#160; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13072848/13072848_image-2024-11-15-12-38-36-179.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
problem&#65306;&lt;/p&gt;

&lt;p&gt;&#160; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13072849/13072849_image-2024-11-15-12-39-22-585.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;and sometimes the CPU usage is abnormal&lt;br/&gt;
&#160; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13072847/13072847_image-2024-11-15-12-38-12-100.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13598860">PDFBOX-5901</key>
            <summary>there is an issue with font mapping or rendering</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="chain">ltzzZ</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Nov 2024 04:36:42 +0000</created>
                <updated>Fri, 15 Nov 2024 09:18:04 +0000</updated>
                            <resolved>Fri, 15 Nov 2024 09:01:50 +0000</resolved>
                                    <version>2.0.31</version>
                    <version>2.0.32</version>
                    <version>3.0.3 PDFBox</version>
                                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17898477" author="JIRAUSER307761" created="Fri, 15 Nov 2024 04:41:45 +0000"  >&lt;p&gt;I can&apos;t upload the pdf file, and my work computer has a confidentiality restriction that prevents me from uploading a work file&lt;/p&gt;</comment>
                            <comment id="17898478" author="tilman" created="Fri, 15 Nov 2024 04:49:09 +0000"  >&lt;p&gt;The font of that PDF is broken for the reason explained in the messages. Are you able to extract text with Adobe Reader?&lt;/p&gt;

&lt;p&gt;We can&apos;t analyze the PDF without having it.&lt;/p&gt;</comment>
                            <comment id="17898484" author="JIRAUSER307761" created="Fri, 15 Nov 2024 05:48:59 +0000"  >&lt;p&gt;I can open it through the Edge browser and copy what I selected. I also can parse and extract the content by com.github.librepdf.openpdf, but its performance is too poor and the extract speed is too slow&lt;/p&gt;</comment>
                            <comment id="17898490" author="JIRAUSER307761" created="Fri, 15 Nov 2024 06:49:19 +0000"  >&lt;p&gt;Thankfully, now that I&apos;ve got the source of one of the files, you can open the link below and download the file, and then please help me analyze the problem. If you can&apos;t open the link to download the file, I&apos;ll upload it to you on my PC when I get home and help me analyze it. Thanks!&lt;br/&gt;
&lt;a href=&quot;https://meltwater.oss-cn-shanghai.aliyuncs.com/ebook/CN_2024%20Marketing%20Trends%20ebook.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://meltwater.oss-cn-shanghai.aliyuncs.com/ebook/CN_2024%20Marketing%20Trends%20ebook.pdf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17898511" author="tilman" created="Fri, 15 Nov 2024 08:16:07 +0000"  >&lt;p&gt;Extraction does work, here&apos;s what I get with page 24 if I comment out the logging:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2024&#33829;&#38144;&#36235;&#21183;&#27934;&#23519;24
&#30417;&#25511;&#21644;&#31649;&#29702;&#24744;&#30340;&#21697;&#29260;&#24418;&#35937;&#12290;
&#24744;&#24819;&#23454;&#26102;&#21457;&#29616;&#26032;&#30340;&#28040;&#36153;&#36235;&#21183;&#21527;&#65311;
&#25105;&#20204;&#26368;&#20808;&#36827;&#30340;&#35270;&#35273;&#20154;&#24037;&#26234;&#33021;&#25216;&#26415;&#21487;&#24110;&#21161;&#33829;&#38144;&#20154;&#21592;&#25628;&#32034;&#21644;&#30417;&#25511;&#22270;&#20687;&#65306;
	. &#26631;&#24535;&#21644;&#21517;&#20154;&#26816;&#27979;
	. &#20154;&#33080;&#26816;&#27979;&#65288;&#24180;&#40836;&#12289;&#24615;&#21035;&#12289;&#23494;&#24230;&#65289;
	. &#22330;&#26223;&#21644;&#29289;&#20307;&#26816;&#27979;
	. &#24773;&#32490;&#26816;&#27979;
	. &#27169;&#22240;&#26816;&#27979;
	. &#29289;&#20307;&#23383;&#31526;&#35782;&#21035;
	. &#22270;&#20687;&#32858;&#31867;
&#21478;&#22806;&#65292;&#24744;&#21487;&#20197;&#22312;&#25105;&#20204;&#30340;&#32593;&#32418;&#33829;&#38144;&#24179;&#21488; Klear &#20013;&#19978;&#20256;&#22270;&#20687;&#65292;&#20197;&#21457;&#29616;&#21019;&#24314;
&#31867;&#20284;&#20869;&#23481;&#30340;&#32593;&#32418;&#12290;
&#20102;&#35299;&#26356;&#22810;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The real problem is that the logging makes it very slow. I&apos;ll look for a way to reduce this.&lt;/p&gt;

&lt;p&gt;The file is also very slow in PDF.js, which indicates it isn&apos;t just us.&lt;/p&gt;

&lt;p&gt;It all happens because &lt;tt&gt;idDelta&lt;/tt&gt; is negative, this gets a negative result, then 65536 is added to it and now it&apos;s too large. However a negative idDelta isn&apos;t illegal:&lt;br/&gt;
&lt;a href=&quot;https://learn.microsoft.com/en-us/typography/opentype/spec/cmap#format-2-high-byte-mapping-through-table&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://learn.microsoft.com/en-us/typography/opentype/spec/cmap#format-2-high-byte-mapping-through-table&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17898512" author="JIRAUSER307761" created="Fri, 15 Nov 2024 08:22:06 +0000"  >&lt;p&gt;If it&apos;s the reason for logs, is there any way I can skip this log printing process based on the library I&apos;m using now?&lt;/p&gt;</comment>
                            <comment id="17898516" author="tilman" created="Fri, 15 Nov 2024 08:35:56 +0000"  >&lt;p&gt;Log4j allows to exclude logging based on different criteria, e.g. no logging for a certain class. This is done in the configuration XML. Here&apos;s my default XML that I use to exclude some of the spring output&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&amp;lt;!-- https://logging.apache.org/log4j/2.x/manual/configuration.html 
     https://logging.apache.org/log4j/2.x/manual/appenders.html
--&amp;gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;Configuration&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;Appenders&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;Console name=&lt;span class=&quot;code-quote&quot;&gt;&quot;STDOUT&quot;&lt;/span&gt; target=&lt;span class=&quot;code-quote&quot;&gt;&quot;SYSTEM_OUT&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;%d{dd.MM.yyyy HH:mm:ss} %-5p %C{2}:%L - %m%n&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/Console&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/Appenders&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;Loggers&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;Logger name=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.springframework&quot;&lt;/span&gt; level=&lt;span class=&quot;code-quote&quot;&gt;&quot;warn&quot;&lt;/span&gt; additivity=&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;STDOUT&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/Logger&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;Root level=&lt;span class=&quot;code-quote&quot;&gt;&quot;info&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;STDOUT&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/Root&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/Loggers&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/Configuration&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17898519" author="jira-bot" created="Fri, 15 Nov 2024 08:38:18 +0000"  >&lt;p&gt;Commit 1921899 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1921899&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1921899&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5901&quot; title=&quot;there is an issue with font mapping or rendering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5901&quot;&gt;&lt;del&gt;PDFBOX-5901&lt;/del&gt;&lt;/a&gt;: avoid logging going mad&lt;/p&gt;</comment>
                            <comment id="17898520" author="jira-bot" created="Fri, 15 Nov 2024 08:38:22 +0000"  >&lt;p&gt;Commit 1921900 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1921900&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1921900&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5901&quot; title=&quot;there is an issue with font mapping or rendering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5901&quot;&gt;&lt;del&gt;PDFBOX-5901&lt;/del&gt;&lt;/a&gt;: avoid logging going mad&lt;/p&gt;</comment>
                            <comment id="17898521" author="jira-bot" created="Fri, 15 Nov 2024 08:38:25 +0000"  >&lt;p&gt;Commit 1921901 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1921901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1921901&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5901&quot; title=&quot;there is an issue with font mapping or rendering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5901&quot;&gt;&lt;del&gt;PDFBOX-5901&lt;/del&gt;&lt;/a&gt;: avoid logging going mad&lt;/p&gt;</comment>
                            <comment id="17898523" author="JIRAUSER307761" created="Fri, 15 Nov 2024 08:39:32 +0000"  >&lt;p&gt;Ok, there is another problem here, when I try to extract the text content from a file with a size of 85.6MB, the CPU usage of the program is abnormal, causing the server to alarm, what is the reason for this?&lt;/p&gt;</comment>
                            <comment id="17898529" author="tilman" created="Fri, 15 Nov 2024 08:46:23 +0000"  >&lt;p&gt;Maybe not enough memory? But this is another file, so please create another ticket or ask on the users mailing list. Also try using the latest 2.0 version, or the latest 3.0 version.&lt;/p&gt;</comment>
                            <comment id="17898533" author="tilman" created="Fri, 15 Nov 2024 09:01:50 +0000"  >&lt;p&gt;Thanks for the report; a snapshot is available here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.33-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.33-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17898543" author="JIRAUSER307761" created="Fri, 15 Nov 2024 09:18:04 +0000"  >&lt;p&gt;Thank you&#65281;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13072856" name="PDFBOX-5901-p24.pdf" size="483582" author="tilman" created="Fri, 15 Nov 2024 08:01:29 +0000"/>
                            <attachment id="13072847" name="image-2024-11-15-12-38-12-100.png" size="4244" author="chain" created="Fri, 15 Nov 2024 04:38:12 +0000"/>
                            <attachment id="13072848" name="image-2024-11-15-12-38-36-179.png" size="39551" author="chain" created="Fri, 15 Nov 2024 04:38:37 +0000"/>
                            <attachment id="13072849" name="image-2024-11-15-12-39-22-585.png" size="62466" author="chain" created="Fri, 15 Nov 2024 04:39:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sknc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>