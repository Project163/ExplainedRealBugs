<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:48:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-490] Pdf Printing of text from embedded fonts</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-490</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When printing from utility PrintPdf, text is rendered in the wrong typeface. The correct typeface is embedded within the PDF (Embedded Subset) as a TrueType font with an ANSI encoding. It may be noted that the AcroFields in a Courier typeface render correctly.&lt;/p&gt;</description>
                <environment>Windows XP, JRE 1.6</environment>
        <key id="12429670">PDFBOX-490</key>
            <summary>Pdf Printing of text from embedded fonts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="stevepoling">Steve Poling</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jul 2009 04:27:47 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:40 +0000</updated>
                            <resolved>Wed, 24 Jul 2013 19:30:44 +0000</resolved>
                                    <version>0.8.0-incubator</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>22</votes>
                                    <watches>15</watches>
                                                                                                                <comments>
                            <comment id="12727909" author="stevepoling" created="Tue, 7 Jul 2009 04:29:35 +0000"  >&lt;p&gt;This file illustrates the problem. Please let me know if attaching the TTF files used to generate this PDF would prove helpful.&lt;/p&gt;</comment>
                            <comment id="12728170" author="lehmi" created="Tue, 7 Jul 2009 16:21:42 +0000"  >&lt;p&gt;I guess the streams for the fonts (embedded subset) aren&apos;t complete. The PostScriptTable is missing and obviously java needs it to create an awt-font from a truetype-font (see java.awt.Font.createFont). otherwise a FontFormatException is thrown.&lt;/p&gt;

&lt;p&gt;Does anyone know a workaround? Or do we have to implement a ttf-streamwriter to create a repaired ttf-stream?&lt;/p&gt;</comment>
                            <comment id="12735951" author="lehmi" created="Tue, 28 Jul 2009 05:59:17 +0000"  >&lt;p&gt;I&apos;ve to correct my former guess. First off all the problem is the missing Naming-Table.&lt;/p&gt;

&lt;p&gt;I think there are two possible options to solve this issue. In both cases we have to improve the TTFParser.&lt;/p&gt;

&lt;p&gt;(1) repair the incomplete stream before passing it to the createFont method&lt;br/&gt;
(2) create an awtfont on our own with the provided data from the embedded fontdata&lt;/p&gt;

&lt;p&gt;I guess (1) will be easier. Any other ideas?&lt;/p&gt;</comment>
                            <comment id="12792380" author="lehmi" created="Fri, 18 Dec 2009 08:01:27 +0000"  >&lt;p&gt;I&apos;ve worked on option (1) but it&apos;s more complicated than I thought at first. At the moment I&apos;m working on &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-542&quot; title=&quot;Support for Adobe CFF/Type2 fonts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-542&quot;&gt;&lt;del&gt;PDFBOX-542&lt;/del&gt;&lt;/a&gt; which will add support for CFF/Type2 fonts to fontbox. As java doesn&apos;t support that font format, those fonts will be converted to a Type1 font which is supported by java. Returning to our issue with embedded subsets of true type fonts, this will be a suitable solution too.&lt;/p&gt;</comment>
                            <comment id="12796548" author="stevepoling" created="Tue, 5 Jan 2010 06:11:46 +0000"  >&lt;p&gt;I just took inventory of the tables used in the TTF data embedded in the PDF attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-490&quot; title=&quot;Pdf Printing of text from embedded fonts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-490&quot;&gt;&lt;del&gt;PDFBOX-490&lt;/del&gt;&lt;/a&gt; and compared it with the TTF file from which the data originated. I found that the following tables are omitted: hdmx (horizonal device metrics), name, and post (glyph name and postscript compatibility).&lt;/p&gt;

&lt;p&gt;Have you attempted adding any of these tables to the TTF stream? I suppose the easiest would be the name table, then post, then hdmx. I note the TTF documentation requires the name and post tables, but not the hdmx, so I suppose I might get by without that.&lt;/p&gt;

&lt;p&gt;Is there anything in the pdfbox codebase that reads/writes TTF files?&lt;/p&gt;</comment>
                            <comment id="12796560" author="lehmi" created="Tue, 5 Jan 2010 06:53:20 +0000"  >&lt;p&gt;The java font loader complains about the missing name table, so that I tried to add that one. To do so, we have to implement a TTF writer. There are already some classes &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; from the TTFParser which can be used.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.eu.apache.org/viewvc/pdfbox/fontbox/trunk/src/main/java/org/apache/fontbox/ttf/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.eu.apache.org/viewvc/pdfbox/fontbox/trunk/src/main/java/org/apache/fontbox/ttf/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12855419" author="d.verdaasdonk@greencat-it.com" created="Fri, 9 Apr 2010 14:51:17 +0000"  >&lt;p&gt;Hi there,&lt;br/&gt;
is there any update on this item?&lt;br/&gt;
i was hoping it was sorted in the newest version, 1.1.0, but pitty enough it was not in yet.&lt;br/&gt;
let me know.&lt;br/&gt;
thanks&lt;br/&gt;
dennis&lt;/p&gt;</comment>
                            <comment id="12869110" author="bigbadowl" created="Wed, 19 May 2010 12:16:05 +0000"  >&lt;p&gt;Are there any known work arounds at this time? I really need to find a way round this issue.&lt;/p&gt;</comment>
                            <comment id="12874080" author="friedrichcarlcneisenau" created="Tue, 1 Jun 2010 15:47:06 +0000"  >&lt;p&gt;In 1.1.0 it seems not be fixed. I have the same problem with a report. Here the given Fonttype is Arial (embedded).&lt;/p&gt;

&lt;p&gt;Has anyone a work around for this problem. It&apos;s very urgend.&lt;/p&gt;</comment>
                            <comment id="12923019" author="joshdm" created="Wed, 20 Oct 2010 15:45:50 +0000"  >&lt;p&gt;Is there a workaround for this issue, or is there at least a way to detect whether a PDF has these embedded fonts in order to flag the file as a potential problem prior to processing?&lt;/p&gt;</comment>
                            <comment id="12933800" author="alexanderg" created="Fri, 19 Nov 2010 13:18:08 +0000"  >&lt;p&gt;Still not fixed in current snapshot of version 1.4.0&lt;/p&gt;</comment>
                            <comment id="12989768" author="lehmi" created="Wed, 2 Feb 2011 19:51:21 +0000"  >&lt;p&gt;After doing some font stuff I came to the conclusion, that it might be easier to follow solution 2. The following things have to be done:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;improve the TTFParser to read the glyph data&lt;/li&gt;
	&lt;li&gt;adapt the CFF2Type1 code so that it is possible to create a type1 font using the TTF data&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13008963" author="janssen" created="Sun, 20 Mar 2011 20:29:04 +0000"  >&lt;p&gt;You can find another image that PDFBox 1.5.0 PDFToImage fails miserably on at &lt;a href=&quot;http://www.lavasurfer.com/100akerpathology.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.lavasurfer.com/100akerpathology.pdf&lt;/a&gt;.  In general, I find this a useful short test page, as it has so many elements:  images, tables, references, vertical text, etc.&lt;/p&gt;</comment>
                            <comment id="13027622" author="bsp" created="Mon, 2 May 2011 11:34:15 +0000"  >&lt;p&gt;I would like to see fix for this bug as soon as possible...&lt;/p&gt;

&lt;p&gt;But for people who need workaround, there is one &quot;hack&quot;: you can alter PDTrueTypeFont::getawtFont() code to always &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; replace embedded font with some another font. For example, you can include some popular fonts into your program distribution, load them into some static map and use it like:&lt;/p&gt;

&lt;p&gt;                if (awtFont != null) {&lt;br/&gt;
                    String name = awtFont.getName();&lt;br/&gt;
                    Font replace = FontsHelper.getHelperFont(name);&lt;br/&gt;
                    if (replace != null) &lt;/p&gt;
{
                        log.debug(&quot;Replace embedded font &apos;&quot; + name + &quot;&apos; with env. provided&quot;);
                        awtFont = replace;
                    }
&lt;p&gt;                }&lt;/p&gt;

&lt;p&gt;This way page shows nicely. Of course, all fonts from this page shall be included in your program distribution, and can be done only for well-known fonts like OpenSymbol or Liberation, and you shall be aware of fonts license problems and etc., but at least it works.&lt;/p&gt;

&lt;p&gt;(if you need more detailed information, like diff/patch, leave me a comment)&lt;/p&gt;</comment>
                            <comment id="13071163" author="levinson@intersystems.com" created="Tue, 26 Jul 2011 15:40:06 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;I would like more detailed information - a diff/patch for the code you added in your comment of 02/May/11.&lt;/p&gt;

&lt;p&gt;Also, pardon my ignorance, but what do you mean by you may include some popular fonts into your program distribution and load them into some static map.&lt;/p&gt;

&lt;p&gt;Does this mean we need a special build of PDFBox that includes the fonts we wish to use?  Or is there some way of specifying the fonts dynamically even though they are not built together with PDFBox.&lt;/p&gt;

&lt;p&gt;I&apos;m a newbie to this area, so I&apos;m sorry if my questions seem elementary.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Jonathan Levinson&lt;/p&gt;</comment>
                            <comment id="13071592" author="jensbruhn" created="Wed, 27 Jul 2011 08:09:12 +0000"  >&lt;p&gt;My own workaround is attached. If someone has a better workaround or some more ideas, I would really like to see them here.&lt;/p&gt;

&lt;p&gt;It still doesn&apos;t work for special characters with &quot;Symbol&quot;-Font (created with LibreOffice PDF-Export). Any ideas?&lt;/p&gt;

&lt;p&gt;Greetings,&lt;br/&gt;
 jens&lt;/p&gt;


&lt;p&gt;Class PDTrueTypeFont:&lt;/p&gt;

&lt;p&gt;private final Map&amp;lt;String, String&amp;gt; _normalizedFontNameSet = new HashMap&amp;lt;String, String&amp;gt;();&lt;br/&gt;
private final Map&amp;lt;String, Font&amp;gt; _fontCache = new HashMap&amp;lt;String, Font&amp;gt;();&lt;/p&gt;

&lt;p&gt;@Override&lt;br/&gt;
    public Font getawtFont() throws IOException&lt;br/&gt;
    {&lt;br/&gt;
        PDFontDescriptorDictionary fd = (PDFontDescriptorDictionary) getFontDescriptor();&lt;br/&gt;
        final String fontName = fd.getFontName();&lt;/p&gt;

&lt;p&gt;        if (_fontCache.keySet().contains(fontName))&lt;/p&gt;
        {
            awtFont = _fontCache.get(fontName);
        }
&lt;p&gt;        else&lt;br/&gt;
        {&lt;br/&gt;
            final String fontAndStyle = fontName.substring(fontName.indexOf(&quot;+&quot;) + 1, fontName.length() - 2);&lt;br/&gt;
            final String pureFontName = fontAndStyle.contains(&quot;&lt;del&gt;&quot;) ? fontAndStyle.substring(0, fontAndStyle.indexOf(&quot;&lt;/del&gt;&quot;))&lt;br/&gt;
                    : fontAndStyle;&lt;br/&gt;
            final String pureStyleName = fontAndStyle.contains(&quot;&lt;del&gt;&quot;) ? fontAndStyle.substring(fontAndStyle.indexOf(&quot;&lt;/del&gt;&quot;) + 1) : &quot;&quot;;&lt;br/&gt;
            int style = 0;&lt;/p&gt;

&lt;p&gt;            if (pureStyleName.toLowerCase().contains(&quot;bold&quot;))&lt;/p&gt;
            {
                style |= Font.BOLD;
            }
&lt;p&gt;            if (pureStyleName.toLowerCase().contains(&quot;italic&quot;))&lt;/p&gt;
            {
                style |= Font.ITALIC;
            }

&lt;p&gt;            final String newFontName = getLocalFontName(pureFontName);&lt;br/&gt;
            awtFont = new Font(newFontName == null ? &quot;Arial&quot; : newFontName, style, 10);&lt;br/&gt;
            _fontCache.put(fontName, awtFont);&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;        return awtFont;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    private String getLocalFontName(final String name)&lt;br/&gt;
    {&lt;br/&gt;
        final Iterator&amp;lt;String&amp;gt; iterator = _normalizedFontNameSet.keySet().iterator();&lt;br/&gt;
        final String compareName = name.toLowerCase();&lt;br/&gt;
        String result = null;&lt;/p&gt;

&lt;p&gt;        while (iterator.hasNext())&lt;br/&gt;
        {&lt;br/&gt;
            final String fontName = iterator.next();&lt;/p&gt;

&lt;p&gt;            if (compareName.contains(fontName))&lt;/p&gt;
            {
                result = _normalizedFontNameSet.get(fontName);
                break;
            }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        return result;&lt;br/&gt;
    }&lt;/p&gt;</comment>
                            <comment id="13071593" author="jensbruhn" created="Wed, 27 Jul 2011 08:10:56 +0000"  >&lt;p&gt;forgot to mention the init()-method, which should be called by constructor:&lt;/p&gt;

&lt;p&gt;private void init()&lt;br/&gt;
    {&lt;br/&gt;
        final GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();&lt;br/&gt;
        final String[] fontFamilies = ge.getAvailableFontFamilyNames();&lt;/p&gt;

&lt;p&gt;        for (final String fontFamily : fontFamilies)&lt;/p&gt;
        {
            final String fontName = fontFamily.toLowerCase().replaceAll(&quot; &quot;, &quot;&quot;);
            _normalizedFontNameSet.put(fontName, fontFamily);
        }
&lt;p&gt;    }&lt;/p&gt;</comment>
                            <comment id="13106742" author="jmanko" created="Fri, 16 Sep 2011 19:29:08 +0000"  >&lt;p&gt;Jens, I applied your changes to the latest pdfbox svn truck (as of today), and I&apos;m still getting a similar problem.  I was wondering if you can advise.  Here is the warning (which results in a printed document where the font type is changed and other odd problems such as spaces modified to contain other characters and bullet numbers changed to strange characters):&lt;/p&gt;

&lt;p&gt;Sep 16, 2011 3:07:27 PM org.apache.pdfbox.pdmodel.font.PDSimpleFont drawString&lt;br/&gt;
WARNING: Changing font on &amp;lt;T&amp;gt; from &amp;lt;Liberation Serif Bold&amp;gt; to the default font&lt;/p&gt;

&lt;p&gt;I&apos;m running Ubuntu 11.04, and the PDF was originally created in OpenOffice.org.&lt;/p&gt;

&lt;p&gt;Here are the fonts used by the PDF:&lt;/p&gt;

&lt;p&gt;LiberationSerif-Bold&lt;br/&gt;
 TrueType&lt;br/&gt;
 Embedded subset&lt;/p&gt;

&lt;p&gt;LiberationSerif&lt;br/&gt;
 TrueType&lt;br/&gt;
 Embedded subset&lt;/p&gt;

&lt;p&gt;Courier10PitchBT-Bold&lt;br/&gt;
 TrueType&lt;br/&gt;
 Embedded&lt;/p&gt;

&lt;p&gt;Courier10PitchBT-Roman&lt;br/&gt;
 TrueType&lt;br/&gt;
 Embedded&lt;/p&gt;


&lt;p&gt;This is my version of the JVM:&lt;/p&gt;

&lt;p&gt;$ java -version&lt;br/&gt;
java version &quot;1.6.0_22&quot;&lt;br/&gt;
OpenJDK Runtime Environment (IcedTea6 1.10.2) (6b22-1.10.2-0ubuntu1~11.04.1)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 20.0-b11, mixed mode)&lt;/p&gt;


&lt;p&gt;I&apos;ve also testing using Sun HotSpot JVM, but the issue occurs.  Here is that version:&lt;/p&gt;

&lt;p&gt;$ /usr/lib/jvm/java-6-sun/bin/java -version&lt;br/&gt;
java version &quot;1.6.0_26&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_26-b03)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02, mixed mode)&lt;/p&gt;
</comment>
                            <comment id="13240304" author="tanis" created="Wed, 28 Mar 2012 09:11:12 +0000"  >&lt;p&gt;Is there any news about this bug? I&apos;m experiencing this same issue with version 1.6.0 of PDFBox and it looks like it&apos;s still because of Embedded Subset fonts.&lt;/p&gt;</comment>
                            <comment id="13243990" author="lehmi" created="Mon, 2 Apr 2012 06:05:10 +0000"  >&lt;p&gt;All suggested solutions are based on font substitution which is already part of PDFBox and will only work in very special cases.&lt;/p&gt;

&lt;p&gt;IMHO the one and only solution is to implement a TTF reader to read all necessary information to create glyphs on our own. I&apos;m doing some progess using some batik code. I hope there will be more soon.&lt;/p&gt;</comment>
                            <comment id="13249938" author="lehmi" created="Mon, 9 Apr 2012 16:43:00 +0000"  >&lt;p&gt;I improved the TTFReader (in revisons 1311300 and 1311314 ) to read the glyph information which is needed to render them. &lt;/p&gt;

&lt;p&gt;The implementation is based on some batik code which is a subproject of Apache XML Graphics Project &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The next step will be to implement some code to render the read information. I already started with that and it looks promising.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://xmlgraphics.apache.org/batik/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://xmlgraphics.apache.org/batik/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/xmlgraphics/batik/trunk/sources/org/apache/batik/svggen/font/table/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/xmlgraphics/batik/trunk/sources/org/apache/batik/svggen/font/table/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13254309" author="lehmi" created="Sun, 15 Apr 2012 11:40:41 +0000"  >&lt;p&gt;I fixed some problems to avoid an OutOfMemoryException in revision 1326311 including a patch proposed by Eric Leleu, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1265&quot; title=&quot;Invalid Font Definition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1265&quot;&gt;&lt;del&gt;PDFBOX-1265&lt;/del&gt;&lt;/a&gt; for details.&lt;/p&gt;

&lt;p&gt;Embedded subsets only contains a subset of glyphs, but nevertheless their head-table may still pretend to consist of all glyphs. Just stop reading glyphs if the end of the glyph table is reached solves the issue.&lt;/p&gt;</comment>
                            <comment id="13279709" author="lehmi" created="Sun, 20 May 2012 10:15:29 +0000"  >&lt;p&gt;I added a new class to convert a TTF-glyph into an AWT-GeneralPath in revision 1340655&lt;/p&gt;</comment>
                            <comment id="13279714" author="lehmi" created="Sun, 20 May 2012 10:45:14 +0000"  >&lt;p&gt;The conversion of simple glyphs into a GeneralPath works quite good, but there are still some issues with composite glyphs.&lt;br/&gt;
Find attached a simple piece of code to test the conversion. It draws every glyph of a given font and creates a png pic of them.&lt;br/&gt;
Any comments and improvements are welcome&lt;/p&gt;</comment>
                            <comment id="13442450" author="chupacabras" created="Mon, 27 Aug 2012 14:55:29 +0000"  >&lt;p&gt;I don&apos;t think that problem is in missing &quot;post&quot; (PostScript) data in embedded font.&lt;/p&gt;

&lt;p&gt;IMHO the problem is that &quot;cmap&quot; table is missing.&lt;/p&gt;

&lt;p&gt;Of course I have tested that. When I remove &quot;cmap&quot; from proper font, JRE is not able to load/use that font. When I remove &quot;post&quot; from proper font, JRE is able to load/use that font.&lt;/p&gt;</comment>
                            <comment id="13442655" author="chupacabras" created="Mon, 27 Aug 2012 19:41:47 +0000"  >&lt;p&gt;i made &quot;proof of concept&quot; java class (without changing a letter in pdfbox sources).&lt;br/&gt;
embedded fonts and converting pdf to image works fine &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;It works this way:&lt;br/&gt;
1. find pdfonts in pdf&lt;br/&gt;
2. if pdfont has stream (=embedded font) then read it&lt;br/&gt;
3. get unicode chars mapping from pdfont (=cmap)&lt;br/&gt;
4. insert cmap into embedded font&lt;br/&gt;
5. replace stream in pdfont&lt;/p&gt;

&lt;p&gt;it looks complicated, but in fact it is not too much.&lt;/p&gt;

&lt;p&gt;are you interested in implementing it into pdfbox?&lt;/p&gt;</comment>
                            <comment id="13443836" author="lehmi" created="Wed, 29 Aug 2012 06:07:19 +0000"  >&lt;p&gt;Of course, we are interested! &lt;/p&gt;

&lt;p&gt;The easiest way would be a patch. If you are not sure how to integrate your solution into PDFBox, you should just attach the PoC and we&apos;ll work together to integrate it.&lt;/p&gt;

&lt;p&gt;IMO this would be just a temporarily workaround. In the long run we have to load and render all fonts on our own, as most of them are not supported by java directly. So your solution would buy us some valuable time and would ease the pain we have handling those embedded fonts.&lt;/p&gt;

&lt;p&gt;To make a long story short, I really appreciate your offer and can&apos;t wait to get a hand on it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13443874" author="chupacabras" created="Wed, 29 Aug 2012 07:31:12 +0000"  >&lt;p&gt;OK &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I attached it here:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1397&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PDFBOX-1397&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13503991" author="lehmi" created="Mon, 26 Nov 2012 19:06:41 +0000"  >&lt;p&gt;I added a workaround in revision 1413782. It solves the issue with the attached file, BUT it doesn&apos;t work in every case. It uses the new TTFSubfont support of fontbox (see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-922&quot; title=&quot;True type PDFont subclass only supports WinAnsiEncoding (hardcoded!)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-922&quot;&gt;&lt;del&gt;PDFBOX-922&lt;/del&gt;&lt;/a&gt;) to rebuild the embedded font. It is limited to WinANSI fonts which doesn&apos;t contain a naming table. I guess it&apos;ll be easy to integrate Juraj idea about rebuilding a missing cmap table.&lt;/p&gt;</comment>
                            <comment id="13509694" author="sindhu kashyap" created="Tue, 4 Dec 2012 12:11:28 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Has the embedded font issue been addressed and resolved in the next verion of pdfbox 1.7?&lt;/p&gt;</comment>
                            <comment id="13718023" author="lehmi" created="Wed, 24 Jul 2013 05:58:11 +0000"  >&lt;p&gt;I fixed some minor fontbox issues in revision 1506164:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixed the CMap format 2 parser&lt;/li&gt;
	&lt;li&gt;added 2 new platform constants&lt;/li&gt;
	&lt;li&gt;fixed the table check of the TTFParser (CID fonts may omit CMap tables)&lt;/li&gt;
	&lt;li&gt;removed the Glyph2D class (the implementation will be moved to pdfbox)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;More to come, stay tuned ...&lt;/p&gt;</comment>
                            <comment id="13718741" author="lehmi" created="Wed, 24 Jul 2013 19:30:44 +0000"  >&lt;p&gt;I added rendering for TTF fonts in revision 1506667. &lt;/p&gt;

&lt;p&gt;This should solve a lot of problems, but there are still some minor issues left. I&apos;ll create some new JIRAs for those. In a couple of days I&apos;ll start to clean the linked JIRAs.&lt;/p&gt;

&lt;p&gt;Thanks to all who helped me to get this done!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12514483">PDFBOX-1068</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12715112">PDFBOX-2083</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12715349">PDFBOX-2085</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12833737">PDFBOX-2818</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12493676">PDFBOX-924</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12501818">PDFBOX-984</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12614523">PDFBOX-1436</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12632707">PDFBOX-1520</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12664339">PDFBOX-1699</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12668650">PDFBOX-1717</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12712561">PDFBOX-2060</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12560162">PDFBOX-1336</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12413445">PDFBOX-412</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12421646">PDFBOX-447</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12432021">PDFBOX-501</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12458730">PDFBOX-657</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12607267">PDFBOX-1413</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12614316">PDFBOX-1435</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12617481">PDFBOX-1452</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12655442">PDFBOX-1655</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12655627">PDFBOX-1657</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12508648">PDFBOX-1020</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12528655">PDFBOX-1148</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12550034">PDFBOX-1282</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12552849">PDFBOX-1296</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12559508">PDFBOX-1332</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12604038">PDFBOX-1391</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12604856">PDFBOX-1397</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12659575">PDFBOX-1671</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12661845">PDFBOX-1678</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12553959">PDFBOX-1302</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12608604">PDFBOX-1414</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12528313" name="TestTTFGlyph.java" size="5966" author="lehmi" created="Sun, 20 May 2012 10:45:14 +0000"/>
                            <attachment id="12412701" name="filled.pdf" size="241149" author="stevepoling" created="Tue, 7 Jul 2009 04:29:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eouf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83787</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>