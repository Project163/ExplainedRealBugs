<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4550] Poor performance with corrupt ToUnicode stream</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4550</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;A confidential file with lots of corrupt streams has ToUnicode stream with corrupt contents in the beginbfrange segment where start and end have different lengths. This leads to poor performance. Such entries can be skipped.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13233577">PDFBOX-4550</key>
            <summary>Poor performance with corrupt ToUnicode stream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 May 2019 19:42:29 +0000</created>
                <updated>Fri, 28 Jun 2019 04:39:47 +0000</updated>
                            <resolved>Wed, 19 Jun 2019 05:10:08 +0000</resolved>
                                    <version>2.0.15</version>
                                    <fixVersion>2.0.16</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16840703" author="jira-bot" created="Wed, 15 May 2019 19:50:00 +0000"  >&lt;p&gt;Commit 1859319 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859319&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: don&apos;t bother with corrupt stream&lt;/p&gt;</comment>
                            <comment id="16840704" author="jira-bot" created="Wed, 15 May 2019 19:50:04 +0000"  >&lt;p&gt;Commit 1859322 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859322&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859322&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: don&apos;t bother with corrupt stream&lt;/p&gt;</comment>
                            <comment id="16840705" author="jira-bot" created="Wed, 15 May 2019 19:50:09 +0000"  >&lt;p&gt;Commit 1859323 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859323&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859323&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: don&apos;t bother with corrupt stream&lt;/p&gt;</comment>
                            <comment id="16843435" author="lehmi" created="Sun, 19 May 2019 13:47:31 +0000"  >&lt;p&gt;As discussed on the mailing list, we have to solve the underlying issue to omit the workaround.&lt;br/&gt;
We should add the following checks:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;end value has to be greater than the start value&lt;/li&gt;
	&lt;li&gt;according to the spec a given range can not represent more than 255 values&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="16843437" author="jira-bot" created="Sun, 19 May 2019 13:53:10 +0000"  >&lt;p&gt;Commit 1859501 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859501&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: add missing check for the start and end values of a bfrange&lt;/p&gt;</comment>
                            <comment id="16843438" author="jira-bot" created="Sun, 19 May 2019 13:54:29 +0000"  >&lt;p&gt;Commit 1859502 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859502&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859502&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: add missing check for the start and end values of a bfrange&lt;/p&gt;</comment>
                            <comment id="16843439" author="jira-bot" created="Sun, 19 May 2019 13:56:51 +0000"  >&lt;p&gt;Commit 1859503 from lehmi@apache.org in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859503&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859503&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: add missing check for the start and end values of a bfrange&lt;/p&gt;</comment>
                            <comment id="16843489" author="jira-bot" created="Sun, 19 May 2019 16:44:49 +0000"  >&lt;p&gt;Commit 1859510 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859510&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859510&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: refactored parsing of bfranges, eliminated buggy compare method&lt;/p&gt;</comment>
                            <comment id="16843490" author="jira-bot" created="Sun, 19 May 2019 16:45:41 +0000"  >&lt;p&gt;Commit 1859511 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859511&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: refactored parsing of bfranges, eliminated buggy compare method&lt;/p&gt;</comment>
                            <comment id="16843491" author="jira-bot" created="Sun, 19 May 2019 16:46:18 +0000"  >&lt;p&gt;Commit 1859512 from lehmi@apache.org in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859512&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859512&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: refactored parsing of bfranges, eliminated buggy compare method&lt;/p&gt;</comment>
                            <comment id="16843493" author="lehmi" created="Sun, 19 May 2019 16:51:26 +0000"  >&lt;p&gt;I did some additional refactoring and improved the tests&lt;/p&gt;</comment>
                            <comment id="16843652" author="tilman" created="Mon, 20 May 2019 04:44:20 +0000"  >&lt;p&gt;The attached file (from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3442&quot; title=&quot;OOM for single page pdf file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3442&quot;&gt;&lt;del&gt;PDFBOX-3442&lt;/del&gt;&lt;/a&gt;) now fails text extraction because of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
1 beginbfrange
&amp;lt;0000&amp;gt; &amp;lt;ffff&amp;gt; &amp;lt;0000&amp;gt;
endbfrange
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;One could modify the change from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4549&quot; title=&quot;No Unicode mapping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4549&quot;&gt;&lt;del&gt;PDFBOX-4549&lt;/del&gt;&lt;/a&gt;, but that would bring more risks, e.g. with the file &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12969120/12969120_pdnekz1gvl7.pdf&quot; title=&quot;pdnekz1gvl7.pdf attached to PDFBOX-4550&quot;&gt;pdnekz1gvl7.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;</comment>
                            <comment id="16844107" author="lehmi" created="Mon, 20 May 2019 16:49:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Please be more specific. I&apos;ve got the following exception&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.io.IOException: You &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not have permission to extract text
	at org.apache.pdfbox.tools.ExtractText.startExtraction(ExtractText.java:221)
	at org.apache.pdfbox.tools.ExtractText.main(ExtractText.java:96)
	at org.apache.pdfbox.tools.PDFBox.main(PDFBox.java:60)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16844111" author="tilman" created="Mon, 20 May 2019 16:58:12 +0000"  >&lt;p&gt;I have that file in the regression tests of PDFTextStripper (in &lt;tt&gt;pdfbox/src/test/resources/input&lt;/tt&gt;), so the stripper is called directly without the check whether extraction is allowed. In the past it produced a text, and after the change it no longer does. The reason is that the interval is larger than 255 values. Another difference is that with the previous version, one could display the text bounds in PDFDebugger and now no more. I&apos;ve also attached an unencrypted version  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12969184/12969184_PDFBOX-3442-DirectResources_unc.pdf&quot; title=&quot;PDFBOX-3442-DirectResources_unc.pdf attached to PDFBOX-4550&quot;&gt;PDFBOX-3442-DirectResources_unc.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; , this one shows the same problem with an unmodified ExtractText tool.&lt;/p&gt;</comment>
                            <comment id="16844118" author="lehmi" created="Mon, 20 May 2019 17:01:40 +0000"  >&lt;p&gt;Thanks for the detailed description, I hoped that you simply overlooked the exception &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="16844633" author="mkl" created="Tue, 21 May 2019 08:34:27 +0000"  >&lt;blockquote&gt;
&lt;p&gt;The attached file (from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3442&quot; title=&quot;OOM for single page pdf file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3442&quot;&gt;&lt;del&gt;PDFBOX-3442&lt;/del&gt;&lt;/a&gt;) now fails text extraction because of&lt;/p&gt;
&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;1 beginbfrange&lt;br/&gt;
&amp;lt;0000&amp;gt; &amp;lt;ffff&amp;gt; &amp;lt;0000&amp;gt;&lt;br/&gt;
endbfrange&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;Strictly speaking failing to extract text is &lt;em&gt;correct&lt;/em&gt; if that map is the only information source available for mapping to Unicode.&lt;/p&gt;

&lt;p&gt;If one wants to use data in spite of them being invalid, one has to embrace performance issues. (Current policy in PDFBox)&lt;/p&gt;

&lt;p&gt;If one wants to prevent performance issues, one has to skip invalid data. (Wish of the OP)&lt;/p&gt;
</comment>
                            <comment id="16845033" author="jira-bot" created="Tue, 21 May 2019 16:59:26 +0000"  >&lt;p&gt;Commit 1859664 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859664&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859664&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: fix/improve the replacement of a buggy identity cmap&lt;/p&gt;</comment>
                            <comment id="16845035" author="jira-bot" created="Tue, 21 May 2019 17:00:53 +0000"  >&lt;p&gt;Commit 1859666 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859666&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859666&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: fix/improve the replacement of a buggy identity cmap&lt;/p&gt;</comment>
                            <comment id="16845037" author="jira-bot" created="Tue, 21 May 2019 17:01:24 +0000"  >&lt;p&gt;Commit 1859667 from lehmi@apache.org in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859667&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859667&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: fix/improve the replacement of a buggy identity cmap&lt;/p&gt;</comment>
                            <comment id="16845039" author="lehmi" created="Tue, 21 May 2019 17:03:25 +0000"  >&lt;p&gt;We already have some code to replace a buggy identity cmap, but it didn&apos;t work well especially is the given case. I&apos;ve fixed/improved that and now everything (hopefully) works as expected&lt;/p&gt;</comment>
                            <comment id="16845060" author="tilman" created="Tue, 21 May 2019 17:24:04 +0000"  >&lt;p&gt;Now the file of&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4549&quot; title=&quot;No Unicode mapping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4549&quot;&gt;&lt;del&gt;PDFBOX-4549&lt;/del&gt;&lt;/a&gt; no longer extracts. This is because now the cmap name (&quot;UTF-8&quot;) is taken into consideration.&lt;/p&gt;</comment>
                            <comment id="16845222" author="lehmi" created="Tue, 21 May 2019 20:16:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Ups, I just realized that I changed the code you had added recently. I&apos;m going to double check that&lt;/p&gt;</comment>
                            <comment id="16845550" author="jira-bot" created="Wed, 22 May 2019 05:53:56 +0000"  >&lt;p&gt;Commit 1859686 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859686&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859686&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: improve the replacement of a buggy identity cmap&lt;/p&gt;</comment>
                            <comment id="16845551" author="jira-bot" created="Wed, 22 May 2019 05:54:43 +0000"  >&lt;p&gt;Commit 1859687 from lehmi@apache.org in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859687&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859687&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: improve the replacement of a buggy identity cmap&lt;/p&gt;</comment>
                            <comment id="16845554" author="jira-bot" created="Wed, 22 May 2019 05:56:26 +0000"  >&lt;p&gt;Commit 1859688 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1859688&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1859688&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: improve the replacement of a buggy identity cmap&lt;/p&gt;</comment>
                            <comment id="16845556" author="lehmi" created="Wed, 22 May 2019 05:59:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Sorry for just ignoring your hints about &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4549&quot; title=&quot;No Unicode mapping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4549&quot;&gt;&lt;del&gt;PDFBOX-4549&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
PDFBox uses the name and the ordering of a buggy cmap to determine if it qualifies for a possible identity map, so that &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4549&quot; title=&quot;No Unicode mapping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4549&quot;&gt;&lt;del&gt;PDFBOX-4549&lt;/del&gt;&lt;/a&gt; works again and the PDF from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3442&quot; title=&quot;OOM for single page pdf file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3442&quot;&gt;&lt;del&gt;PDFBOX-3442&lt;/del&gt;&lt;/a&gt; works as well&lt;/p&gt;</comment>
                            <comment id="16845576" author="tilman" created="Wed, 22 May 2019 06:34:23 +0000"  >&lt;p&gt;Thanks, works fine now.&lt;/p&gt;</comment>
                            <comment id="16847060" author="lehmi" created="Thu, 23 May 2019 21:16:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; thanks for double checking&lt;/p&gt;</comment>
                            <comment id="16862381" author="tilman" created="Wed, 12 Jun 2019 19:16:42 +0000"  >&lt;p&gt;Attached file no longer extracts text, ToUnicode stream is at &lt;tt&gt;Root/Pages/Kids/&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;/Resources/Font/F3/ToUnicode&lt;/tt&gt;, and it has &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
1 beginbfrange
&amp;lt;0000&amp;gt; &amp;lt;FFFF&amp;gt; &amp;lt;0000&amp;gt;
endbfrange
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So that&apos;s a range &amp;gt; 255 and thus it is ignored.&lt;/p&gt;</comment>
                            <comment id="16863314" author="jira-bot" created="Thu, 13 Jun 2019 17:23:21 +0000"  >&lt;p&gt;Commit 1861285 from lehmi@apache.org in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1861285&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1861285&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: less strict identity detection&lt;/p&gt;</comment>
                            <comment id="16863317" author="jira-bot" created="Thu, 13 Jun 2019 17:25:02 +0000"  >&lt;p&gt;Commit 1861286 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1861286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1861286&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: less strict identity detection&lt;/p&gt;</comment>
                            <comment id="16863318" author="jira-bot" created="Thu, 13 Jun 2019 17:25:52 +0000"  >&lt;p&gt;Commit 1861287 from lehmi@apache.org in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1861287&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1861287&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: less strict identity detection&lt;/p&gt;</comment>
                            <comment id="16863319" author="jira-bot" created="Thu, 13 Jun 2019 17:26:23 +0000"  >&lt;p&gt;Commit 1861288 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1861288&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1861288&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: less strict identity detection&lt;/p&gt;</comment>
                            <comment id="16863321" author="lehmi" created="Thu, 13 Jun 2019 17:31:03 +0000"  >&lt;p&gt;I&apos;ve changed the conditions for the identity detection. They are less strict now so that the identity encoding is used if the encoding is &quot;Identity-H/V&quot; &lt;font color=&quot;red&quot;&gt;&lt;b&gt;or&lt;/b&gt;&lt;/font&gt; the name/ordering string of the cmap contains &quot;identity&quot;&lt;/p&gt;</comment>
                            <comment id="16863342" author="tilman" created="Thu, 13 Jun 2019 18:07:39 +0000"  >&lt;p&gt;That works, thanks.&lt;/p&gt;</comment>
                            <comment id="16864647" author="tilman" created="Sat, 15 Jun 2019 09:31:07 +0000"  >&lt;p&gt;Two more files (EF6E2XR2XAXWUHZV5STGMYPWNNDLXDDT-p2.pdf and&#160;169997-p1.pdf) that have regressions. This time the extraction is different (and bad) in the current version. The ToUnicode stream has interval of length &amp;gt; 255 but not identity.&lt;/p&gt;</comment>
                            <comment id="16864665" author="tilman" created="Sat, 15 Jun 2019 11:53:20 +0000"  >&lt;p&gt;I&apos;ve added (trunk only for now) a menu item in PDFDebugger to do a quick current page text extraction, this should speed up development on extraction issues.&lt;/p&gt;</comment>
                            <comment id="16865346" author="lehmi" created="Mon, 17 Jun 2019 06:00:07 +0000"  >&lt;p&gt;Looks like we have to make the CMapParser lenient as well. I&apos;m on it&lt;/p&gt;</comment>
                            <comment id="16866799" author="jira-bot" created="Tue, 18 Jun 2019 16:18:40 +0000"  >&lt;p&gt;Commit 1861586 from lehmi@apache.org in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1861586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1861586&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: don&apos;t skip bfranges with more than 255 array elements&lt;/p&gt;</comment>
                            <comment id="16866800" author="jira-bot" created="Tue, 18 Jun 2019 16:20:22 +0000"  >&lt;p&gt;Commit 1861587 from lehmi@apache.org in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1861587&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1861587&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: don&apos;t skip bfranges with more than 255 array elements&lt;/p&gt;</comment>
                            <comment id="16866801" author="jira-bot" created="Tue, 18 Jun 2019 16:20:59 +0000"  >&lt;p&gt;Commit 1861588 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1861588&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1861588&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: don&apos;t skip bfranges with more than 255 array elements&lt;/p&gt;</comment>
                            <comment id="16866803" author="jira-bot" created="Tue, 18 Jun 2019 16:21:27 +0000"  >&lt;p&gt;Commit 1861589 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1861589&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1861589&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4550&quot; title=&quot;Poor performance with corrupt ToUnicode stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4550&quot;&gt;&lt;del&gt;PDFBOX-4550&lt;/del&gt;&lt;/a&gt;: don&apos;t skip bfranges with more than 255 array elements&lt;/p&gt;</comment>
                            <comment id="16866806" author="lehmi" created="Tue, 18 Jun 2019 16:27:28 +0000"  >&lt;p&gt;The last files weren&apos;t corrupt. The CMaps consists of an array with more than 255 values. I&apos;ve limited the check (range with more than 255 values) to the increment variant. Everything should work again.&lt;/p&gt;</comment>
                            <comment id="16866853" author="tilman" created="Tue, 18 Jun 2019 17:17:39 +0000"  >&lt;p&gt;&lt;font color=&quot;#333333&quot;&gt;That works, thanks.&lt;/font&gt;&lt;/p&gt;</comment>
                            <comment id="16867223" author="lehmi" created="Wed, 19 Jun 2019 05:10:08 +0000"  >&lt;p&gt;Hopefully the last iteration cycle &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks again &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; &lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12971870" name="169997-p1.pdf" size="133293" author="tilman" created="Sat, 15 Jun 2019 09:29:30 +0000"/>
                            <attachment id="12971869" name="EF6E2XR2XAXWUHZV5STGMYPWNNDLXDDT-p2.pdf" size="96301" author="tilman" created="Sat, 15 Jun 2019 09:29:28 +0000"/>
                            <attachment id="12969119" name="PDFBOX-3442-DirectResources.pdf" size="75191" author="tilman" created="Mon, 20 May 2019 04:39:58 +0000"/>
                            <attachment id="12969184" name="PDFBOX-3442-DirectResources_unc.pdf" size="513333" author="tilman" created="Mon, 20 May 2019 16:56:42 +0000"/>
                            <attachment id="12971650" name="PDFBOX-4550-LG5S35JUXSEH5XJC6QYISY3OBUXCKAKR-p1-reduced.pdf" size="18517" author="tilman" created="Thu, 13 Jun 2019 03:56:32 +0000"/>
                            <attachment id="12969120" name="pdnekz1gvl7.pdf" size="75566" author="tilman" created="Mon, 20 May 2019 04:43:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z02qcg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>