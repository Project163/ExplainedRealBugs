<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5326] TTFSubsetter incorrectly calculating &apos;searchRange&apos;</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5326</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The log2 method in TTFSubsetter is incorrectly calling &lt;em&gt;round&lt;/em&gt; instead of &lt;em&gt;floor&lt;/em&gt; on the log2 result.&lt;/p&gt;

&lt;p&gt;If&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.log(num) / &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.log(2)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;results in a whole number, the searchRange is correct but decimal results could get rounded up or down.&#160;&lt;/p&gt;

&lt;p&gt;The spec calls for a &lt;em&gt;floor&lt;/em&gt; of the result.&lt;br/&gt;
&lt;a href=&quot;https://docs.microsoft.com/en-us/typography/opentype/spec/cmap#:~:text=uint16-,searchRange,-Maximum%20power%20of&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.microsoft.com/en-us/typography/opentype/spec/cmap#:~:text=uint16-,searchRange,-Maximum%20power%20of&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Attached two svgs with embedded subset fonts. Firefox gives the best console error output.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13412622">PDFBOX-5326</key>
            <summary>TTFSubsetter incorrectly calculating &apos;searchRange&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="bblocher@frontporch.com">Brian Blocher</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Nov 2021 18:43:03 +0000</created>
                <updated>Fri, 17 Dec 2021 06:50:07 +0000</updated>
                            <resolved>Fri, 19 Nov 2021 19:42:51 +0000</resolved>
                                    <version>2.0.24</version>
                                    <fixVersion>2.0.25</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17446635" author="jira-bot" created="Fri, 19 Nov 2021 19:37:17 +0000"  >&lt;p&gt;Commit 1895183 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1895183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1895183&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5326&quot; title=&quot;TTFSubsetter incorrectly calculating &amp;#39;searchRange&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5326&quot;&gt;&lt;del&gt;PDFBOX-5326&lt;/del&gt;&lt;/a&gt;: fix log2, as suggested by Brian Blocher&lt;/p&gt;</comment>
                            <comment id="17446636" author="jira-bot" created="Fri, 19 Nov 2021 19:37:21 +0000"  >&lt;p&gt;Commit 1895184 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1895184&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1895184&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5326&quot; title=&quot;TTFSubsetter incorrectly calculating &amp;#39;searchRange&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5326&quot;&gt;&lt;del&gt;PDFBOX-5326&lt;/del&gt;&lt;/a&gt;: fix log2, as suggested by Brian Blocher&lt;/p&gt;</comment>
                            <comment id="17446637" author="tilman" created="Fri, 19 Nov 2021 19:42:51 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bblocher%40frontporch.com&quot; class=&quot;user-hover&quot; rel=&quot;bblocher@frontporch.com&quot;&gt;bblocher@frontporch.com&lt;/a&gt;. I can&apos;t see what&apos;s wrong with the display of the SVG file (or is it only the error message in the console?) but the specification is clear.&lt;/p&gt;</comment>
                            <comment id="17447499" author="JIRAUSER280470" created="Mon, 22 Nov 2021 15:56:33 +0000"  >&lt;p&gt;The SVG will still display. What happens is the embedded font is considered invalid and ignored. The browser will fall back to the default font and render the SVG with that.&lt;/p&gt;

&lt;p&gt;If you wanted to make the display very obvious, switch your default browser font to something that really stands out. I switched to Curlz MT for testing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13036306" name="notworking.svg" size="11180" author="bblocher@frontporch.com" created="Thu, 18 Nov 2021 18:45:20 +0000"/>
                            <attachment id="13036305" name="working.svg" size="13049" author="bblocher@frontporch.com" created="Thu, 18 Nov 2021 18:45:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0wvoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>