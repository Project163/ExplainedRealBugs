<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:48:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1161] CMapParser exception when call extractToUnicodeEndoding</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1161</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Open 17704628.pdf in PdfReader,  throws exception&lt;br/&gt;
Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: org.apache.fontbox.cmap.CMapParser$Operator&lt;br/&gt;
	at org.apache.fontbox.cmap.CMapParser.parse(CMapParser.java:172)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.parseCmap(PDFont.java:559)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDSimpleFont.extractToUnicodeEncoding(PDSimpleFont.java:425)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDSimpleFont.determineEncoding(PDSimpleFont.java:393)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.&amp;lt;init&amp;gt;(PDFont.java:189)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDSimpleFont.&amp;lt;init&amp;gt;(PDSimpleFont.java:82)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDType0Font.&amp;lt;init&amp;gt;(PDType0Font.java:65)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:124)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:75)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDResources.getFonts(PDResources.java:119)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:239)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:221)&lt;br/&gt;
	at org.apache.pdfbox.pdfviewer.PageDrawer.drawPage(PageDrawer.java:107)&lt;br/&gt;
	at org.apache.pdfbox.pdfviewer.PDFPagePanel.paint(PDFPagePanel.java:96)&lt;/p&gt;</description>
                <environment>windows xp, JDK 1.5, eclipse</environment>
        <key id="12530532">PDFBOX-1161</key>
            <summary>CMapParser exception when call extractToUnicodeEndoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="leleueri">Eric Leleu</assignee>
                                    <reporter username="szqed">philip huang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Nov 2011 05:54:52 +0000</created>
                <updated>Tue, 29 May 2012 16:21:55 +0000</updated>
                            <resolved>Sat, 18 Feb 2012 18:17:25 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.7.0</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13203438" author="szqed" created="Wed, 8 Feb 2012 10:11:21 +0000"  >&lt;p&gt;I think I had fixed the bug. But I don&apos;t know how to upload the new source code to SVN.&lt;/p&gt;

&lt;p&gt;In these codes, I added a token dectection to break &quot;beginbfrange&quot; loop.&lt;/p&gt;</comment>
                            <comment id="13211044" author="leleueri" created="Sat, 18 Feb 2012 18:17:25 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The ClassCastException occurred because the ~bfrange operator  doesn&apos;t have the right number of ranges. &lt;/p&gt;

&lt;p&gt;In the CMap, 2 ranges are declared but only one appear between the &quot;beginbfrange&quot; operator and the &quot;endbfrange&quot; operator.&lt;/p&gt;

&lt;p&gt;2 beginbfrange&lt;br/&gt;
&amp;lt;0001&amp;gt; &amp;lt;0032&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;lt;0052&amp;gt; ... &amp;lt;0041&amp;gt; &amp;#93;&lt;/span&gt;&lt;br/&gt;
endbfrange&lt;/p&gt;

&lt;p&gt;So I started from your patch proposal and I have added a control to check that the operator is the expected one. I have added this control to the following operators :&lt;br/&gt;
 ~cidchar&lt;br/&gt;
 ~cidrange&lt;br/&gt;
 ~bfchar&lt;br/&gt;
 ~codespacerange&lt;/p&gt;

&lt;p&gt;Thank for your help,&lt;br/&gt;
BR,&lt;br/&gt;
Eric&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12502726" name="17704628.pdf" size="55216" author="szqed" created="Mon, 7 Nov 2011 05:55:54 +0000"/>
                            <attachment id="12513788" name="Code.zip" size="6803" author="szqed" created="Wed, 8 Feb 2012 10:11:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zixz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>205371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>