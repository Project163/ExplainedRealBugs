<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:49:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2509] Korean Text font substitution issues</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2509</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Korean/nonembedded/K4SystemFontsNotEmbeded218.PDF&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Korean/nonembedded/K4SystemFontsNotEmbeded218.PDF&lt;/a&gt;&lt;br/&gt;
and&lt;br/&gt;
&lt;a href=&quot;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Korean/nonembedded/KGulimcheNotembeded218.PDF&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Korean/nonembedded/KGulimcheNotembeded218.PDF&lt;/a&gt;&lt;br/&gt;
and&lt;br/&gt;
&lt;a href=&quot;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Korean/nonembedded/VariousKFontsNotembeded218.PDF&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Korean/nonembedded/VariousKFontsNotembeded218.PDF&lt;/a&gt;&lt;br/&gt;
and&lt;br/&gt;
&lt;a href=&quot;http://acroeng.adobe.com/Test_Files/fonts//EmbeddedCmap.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://acroeng.adobe.com/Test_Files/fonts//EmbeddedCmap.pdf&lt;/a&gt;&lt;br/&gt;
and&lt;br/&gt;
&lt;a href=&quot;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Japanese/nonembedded/Jun101.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Japanese/nonembedded/Jun101.pdf&lt;/a&gt;&lt;br/&gt;
and&lt;br/&gt;
&lt;a href=&quot;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Japanese/nonembedded/ACPTJ_WIN_MSGothic.DOC.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://acroeng.adobe.com/Test_Files/fonts/asian%20font%20files/Japanese/nonembedded/ACPTJ_WIN_MSGothic.DOC.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;java -jar ~/pdf-box-svn/app/target/pdfbox-app-2.0.0-SNAPSHOT.jar PDFToImage K4SystemFontsNotEmbeded218.PDF&lt;/p&gt;</description>
                <environment></environment>
        <key id="12756393">PDFBOX-2509</key>
            <summary>Korean Text font substitution issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Nov 2014 12:39:53 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:02 +0000</updated>
                            <resolved>Fri, 10 Jul 2015 08:01:01 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14218258" author="jahewson" created="Wed, 19 Nov 2014 18:16:55 +0000"  >&lt;p&gt;Yep. I imagine we need to enhance our substitution logic. I&apos;m going to put this off until 2.1&lt;/p&gt;</comment>
                            <comment id="14220864" author="ssteiner1" created="Fri, 21 Nov 2014 12:53:14 +0000"  >&lt;p&gt;I think many pdfs have this issue should be fixed for 2.0&lt;/p&gt;</comment>
                            <comment id="14221285" author="jahewson" created="Fri, 21 Nov 2014 19:12:14 +0000"  >&lt;p&gt;Do you have any examples which aren&apos;t test suite files? While test suites are helpful, we&apos;ve not found them to be particularly representative of real-world PDF files - they&apos;re usually nasty edge cases which aren&apos;t a high priority to fix.&lt;/p&gt;</comment>
                            <comment id="14221297" author="ssteiner1" created="Fri, 21 Nov 2014 19:19:01 +0000"  >&lt;p&gt;Files from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-147&quot; title=&quot;Can&amp;#39;t read Japanese fonts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-147&quot;&gt;&lt;del&gt;PDFBOX-147&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-238&quot; title=&quot;patch to enable CJK charset supports&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-238&quot;&gt;&lt;del&gt;PDFBOX-238&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14221302" author="jahewson" created="Fri, 21 Nov 2014 19:23:21 +0000"  >&lt;p&gt;But both those issues have been fixed? I personally fixed the rendering of the Denso file in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2309&quot; title=&quot;UnsupportedOperationException: not implemented: missing CFF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2309&quot;&gt;&lt;del&gt;PDFBOX-2309&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14221316" author="ssteiner1" created="Fri, 21 Nov 2014 19:32:14 +0000"  >&lt;p&gt;I ran those files on linux pdftoimage and it doesnt find fallback font to use.&lt;/p&gt;</comment>
                            <comment id="14221322" author="jahewson" created="Fri, 21 Nov 2014 19:37:11 +0000"  >&lt;p&gt;That&apos;s a separate issue then, we&apos;ve already opened and resolved an issue for rendering those files. Here&apos;s what I said at the time:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;You&apos;ll need the Asian and Extended Language Pack installed in order to get a correct rendering of this file. If you have other CID-Keyed CFF fonts available on your system, you can use ExternalFonts#addSubstitute with &quot;$Registry-Ordering&quot; instead of the PostScript name to add a mapping.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So your problem with the &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-147&quot; title=&quot;Can&amp;#39;t read Japanese fonts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-147&quot;&gt;&lt;del&gt;PDFBOX-147&lt;/del&gt;&lt;/a&gt; file is that you don&apos;t have any suitable fonts installed.&lt;/p&gt;</comment>
                            <comment id="14221325" author="jahewson" created="Fri, 21 Nov 2014 19:39:38 +0000"  >&lt;p&gt;Please can you link directly to the file from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-238&quot; title=&quot;patch to enable CJK charset supports&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-238&quot;&gt;&lt;del&gt;PDFBOX-238&lt;/del&gt;&lt;/a&gt; which is causing the problem - there are many files. I&apos;d like to see if it renders on my machine.&lt;/p&gt;</comment>
                            <comment id="14221328" author="ssteiner1" created="Fri, 21 Nov 2014 19:45:57 +0000"  >&lt;p&gt;file was i think Preliminary_Application_Form.pdf &lt;br/&gt;
&lt;a href=&quot;http://sourceforge.net/tracker/download.php?group_id=78314&amp;amp;atid=552834&amp;amp;aid=1640071&amp;amp;file_id=212167&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sourceforge.net/tracker/download.php?group_id=78314&amp;amp;atid=552834&amp;amp;aid=1640071&amp;amp;file_id=212167&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;should pdfbox bundle a otf fallback font or what free font should we use&lt;/p&gt;</comment>
                            <comment id="14221330" author="ssteiner1" created="Fri, 21 Nov 2014 19:47:03 +0000"  >&lt;p&gt;i dont have otf fonts in pdfbox search path, evince is able to render file using ttf fallback, pdfbox seems to need otf fallback&lt;/p&gt;</comment>
                            <comment id="14221332" author="ssteiner1" created="Fri, 21 Nov 2014 19:47:47 +0000"  >&lt;p&gt;i would like pdfbox to follow evince and use ttf fallback rather than asking user to install new fonts&lt;/p&gt;</comment>
                            <comment id="14221337" author="ssteiner1" created="Fri, 21 Nov 2014 19:49:48 +0000"  >&lt;p&gt;i installed fontpack for adobe reader, i think it uses cmap files so not sure pdfbox looks in /opt/adobe for it&lt;/p&gt;</comment>
                            <comment id="14221363" author="jahewson" created="Fri, 21 Nov 2014 20:14:10 +0000"  >&lt;p&gt;Yes, PDFBox requires an OTF font to be used as the substitute. Can you attach a screenshot of page 2 of PDFBOX147-corporate_guide.pdf rendered with Evince?&lt;/p&gt;

&lt;p&gt;PDFBox doesn&apos;t look for fonts in /opt/adobe because that&apos;s adobe&apos;s private directory. You&apos;ll need to symlink them into one of the standard system font dirs.&lt;/p&gt;</comment>
                            <comment id="14221370" author="jahewson" created="Fri, 21 Nov 2014 20:17:36 +0000"  >&lt;p&gt;The Preliminary_Application_Form.pdf  file renders fine on my machine, so it&apos;s a missing font problem on your Linux machine.&lt;/p&gt;</comment>
                            <comment id="14221371" author="jahewson" created="Fri, 21 Nov 2014 20:18:49 +0000"  >&lt;p&gt;The Preliminary_Application_Form.pdf  file renders fine on my machine, so it&apos;s a missing font problem on your Linux machine.&lt;/p&gt;

&lt;p&gt;Ok, that means the only files attached to this issue which don&apos;t render correctly are the original acroeng.com files, which are all test suite files. We can fix this at some point, but not right now.&lt;/p&gt;</comment>
                            <comment id="14221372" author="ssteiner1" created="Fri, 21 Nov 2014 20:18:55 +0000"  >&lt;p&gt;I think you need a custom mapping, i would like pdfbox to work out of the box without modifying the system. these pdfs worked with awt fallback.&lt;/p&gt;</comment>
                            <comment id="14221375" author="jahewson" created="Fri, 21 Nov 2014 20:20:15 +0000"  >&lt;p&gt;AWT has an enormously sophisticated (and highly problematic) font substitution mechanism, so it&apos;s not something we can just emulate.&lt;/p&gt;

&lt;p&gt;What we&apos;re missing is not the ability to map fonts, but the ability to handle TTF in PDFBox&apos;s internal workings which are expecting CFF.&lt;/p&gt;

&lt;p&gt;But we can definitely add &lt;tt&gt;/opt/adobe&lt;/tt&gt; to PDFBox&apos;s list of search paths on Linux.&lt;/p&gt;</comment>
                            <comment id="14221622" author="jira-bot" created="Sat, 22 Nov 2014 00:09:51 +0000"  >&lt;p&gt;Commit 1641018 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1641018&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1641018&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2509&quot; title=&quot;Korean Text font substitution issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2509&quot;&gt;&lt;del&gt;PDFBOX-2509&lt;/del&gt;&lt;/a&gt;: Added /opt/adobe to font paths on Linux, and removed unused getCommonTTFMapping() methods&lt;/p&gt;</comment>
                            <comment id="14221880" author="ssteiner1" created="Sat, 22 Nov 2014 08:37:22 +0000"  >&lt;p&gt;I would rather you didnt add this path since it breaks security manager config and not every user has this directory so result on my machine will be different to my customers machine.&lt;/p&gt;</comment>
                            <comment id="14221882" author="ssteiner1" created="Sat, 22 Nov 2014 08:38:05 +0000"  >&lt;p&gt;Also its /opt/Adobe&lt;/p&gt;

&lt;p&gt;Can you add a mapping to korean/japenese font?&lt;/p&gt;</comment>
                            <comment id="14221886" author="msahyoun" created="Sat, 22 Nov 2014 09:00:00 +0000"  >&lt;p&gt;AFAIK the fonts within the Adobe directory are licensed to be used together with the Adobe software only. So making it available this way could be problematic IMHO&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If the software is designed for use with an application software product (the &quot;Host Application&quot;) published by Adobe; Adobe grants you a non-exclusive license to use such software with the Host Application only; provided you possess a valid license from Adobe for the Host Application. Except as set forth below; such software is licensed to you subject to the terms and conditions of the End User License Agreement from Adobe governing your use of the Host Application. &lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14222093" author="jahewson" created="Sat, 22 Nov 2014 17:51:17 +0000"  >&lt;p&gt;Commit 1641091 from John Hewson in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1641091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1641091&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2509&quot; title=&quot;Korean Text font substitution issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2509&quot;&gt;&lt;del&gt;PDFBOX-2509&lt;/del&gt;&lt;/a&gt;: Reverted r1641018&lt;/p&gt;</comment>
                            <comment id="14222094" author="jahewson" created="Sat, 22 Nov 2014 17:52:39 +0000"  >&lt;p&gt;Ok, I got rid of &lt;tt&gt;/opt/Adobe&lt;/tt&gt;, thanks for the licensing info Maruan.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Can you add a mapping to korean/japenese font?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Simon, what do you mean?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;so result on my machine will be different to my customers machine.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s going to be the case anyway, because they might have fonts installed which you don&apos;t have.&lt;/p&gt;</comment>
                            <comment id="14222098" author="ssteiner1" created="Sat, 22 Nov 2014 17:56:57 +0000"  >&lt;p&gt;Maybe there is some way to look at glyphs pdf wants and pick font on system that has those glyphs.&lt;/p&gt;</comment>
                            <comment id="14222102" author="jahewson" created="Sat, 22 Nov 2014 18:23:47 +0000"  >&lt;p&gt;Yes, but that would be an absolute last resort and would require a complete overhaul of our font providers and substitution mechanisms.&lt;/p&gt;

&lt;p&gt;If you can determine:&lt;/p&gt;

&lt;p&gt;a) which fonts are missing (what name, format, encoding)&lt;br/&gt;
b) which fonts Evince is able to substitute with&lt;/p&gt;

&lt;p&gt;Then we might be able to add some built-in substitutions as a workaround.&lt;/p&gt;</comment>
                            <comment id="14222827" author="ssteiner1" created="Mon, 24 Nov 2014 09:35:14 +0000"  >&lt;p&gt;Showing evince on right, pdfbox on left&lt;/p&gt;</comment>
                            <comment id="14222834" author="ssteiner1" created="Mon, 24 Nov 2014 09:53:35 +0000"  >&lt;p&gt;To add a mapping PDCIDFontType0 would need to allow ttf font&lt;/p&gt;</comment>
                            <comment id="14222904" author="ssteiner1" created="Mon, 24 Nov 2014 11:24:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-147&quot; title=&quot;Can&amp;#39;t read Japanese fonts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-147&quot;&gt;&lt;del&gt;PDFBOX-147&lt;/del&gt;&lt;/a&gt;/PDFBOX147-corporate_guide.pdf&lt;br/&gt;
Missing CID-keyed font NewsMinIWA-Th&lt;/p&gt;

&lt;p&gt;AdobeFontTests/ACPTJ_WIN_MSMIN.pdf&lt;br/&gt;
Missing CID-keyed font HeiseiMin-W3&lt;/p&gt;

&lt;p&gt;AdobeFontTests/EmbeddedCmap.pdf&lt;br/&gt;
Missing CID-keyed font HeiseiKakuGo-W5&lt;/p&gt;

&lt;p&gt;AdobeFontTests/Jun101.pdf&lt;br/&gt;
Missing CID-keyed font Jun101-Light&lt;/p&gt;

&lt;p&gt;AdobeFontTests/ShinGo-L.pdf&lt;br/&gt;
Missing CID-keyed font ShinGo-Light&lt;/p&gt;

&lt;p&gt;AdobeFontTests/ACPTJ_WIN_MSMIN.DOC.pdf&lt;br/&gt;
Missing CID-keyed font HeiseiMin-W3     &lt;/p&gt;</comment>
                            <comment id="14223073" author="ssteiner1" created="Mon, 24 Nov 2014 15:56:55 +0000"  >&lt;p&gt;If i have TT CID not embedded and try to map to TTF used by evince, it doesnt fix issue.&lt;/p&gt;</comment>
                            <comment id="14223106" author="ssteiner1" created="Mon, 24 Nov 2014 16:27:06 +0000"  >&lt;p&gt;Adding /opt/Adobe fixes CFF fonts but TT CID fonts need some other fix&lt;/p&gt;

&lt;p&gt;Pdf from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-328&quot; title=&quot;PDFTextStripper not handling some Japanese&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-328&quot;&gt;&lt;del&gt;PDFBOX-328&lt;/del&gt;&lt;/a&gt; JS51ZX3PWT1G.pdf is TT CID&lt;/p&gt;</comment>
                            <comment id="14223545" author="jahewson" created="Mon, 24 Nov 2014 21:27:48 +0000"  >&lt;blockquote&gt;
&lt;p&gt;To add a mapping PDCIDFontType0 would need to allow ttf font&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, that&apos;s right but the current design of PDFBox fonts isn&apos;t general enough to allow this. The code depends on a CIDFontType0 being CFF, and the handling of the encodings and glyphs is tightly coupled to that format. Any changes would be a lot of work, which is something to think about in the future. One major issue might be that CJK fonts aren&apos;t interchangeable across languages, so the same Unicode character might look very different in a Chinese vs a Korean font, and it would be wrong to substitute these. Many CJK fonts use CFF, so it should be possible to install usable fonts.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If i have TT CID not embedded and try to map to TTF used by evince, it doesnt fix issue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think you might be wrong about that. The message &quot;Missing CID-keyed font&quot; relates to a missing CFF font, not a missing TrueType font.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Adding /opt/Adobe fixes CFF fonts but TT CID fonts need some other fix&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That makes sense as &quot;Missing CID-keyed font&quot; relates to missing CFF fonts (i.e. OTF).&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;I did some research and discovered that many of the fonts which are missing in the files above ship with Adobe Reader, here&apos;s the list I found online:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;HeiseiKakuGo-W5 (Japanese)&lt;/li&gt;
	&lt;li&gt;HeiseiMin-W3 (Japanese)&lt;/li&gt;
	&lt;li&gt;MHei-Medium (Traditional Chinese)&lt;/li&gt;
	&lt;li&gt;MSung-Light (Traditional Chinese)&lt;/li&gt;
	&lt;li&gt;STSong-Light (Simplified Chinese)&lt;/li&gt;
	&lt;li&gt;HYGoThic-Medium (Korean)&lt;/li&gt;
	&lt;li&gt;HYSMyeongJo-Medium (Korean)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It also looks like there is more than one weight available for some of these fonts, but I couldn&apos;t find a definitive list.&lt;/p&gt;

&lt;p&gt;So I&apos;m wondering if PDFBox could ship with some built-in mappings for these well-known fonts, Adobe doesn&apos;t actually ship all of these fonts with Acrobat, it ships some substitutes, and relies on system fonts also. For example, on my Mac the font HeiseiMin-W3 is substituted with HiraMinPro-W3 by Acrobat, which is the &quot;Hiragino Mincho ProN W3&quot; font which &lt;a href=&quot;http://support.apple.com/en-us/HT202408&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ships with OS X&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For Linux we&apos;ll want to use free fonts, but we&apos;d need a list of high-quality common mappings, perhaps &lt;a href=&quot;http://en.wikipedia.org/wiki/List_of_CJK_fonts&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this list&lt;/a&gt; and &lt;a href=&quot;https://wiki.archlinux.org/index.php/fonts#Japanese&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this other list&lt;/a&gt; could help? A good starting point would be to see what Acrobat on Linux does, File &amp;gt; Properties &amp;gt; Fonts allows you to see which substitutes were made.&lt;/p&gt;</comment>
                            <comment id="14227463" author="ssteiner1" created="Thu, 27 Nov 2014 10:04:53 +0000"  >&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-328&quot; title=&quot;PDFTextStripper not handling some Japanese&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-328&quot;&gt;&lt;del&gt;PDFBOX-328&lt;/del&gt;&lt;/a&gt; JS51ZX3PWT1G.pdf&lt;/p&gt;

&lt;p&gt;We still need to read cmap name from desendant font&lt;/p&gt;</comment>
                            <comment id="14227539" author="ssteiner1" created="Thu, 27 Nov 2014 11:27:38 +0000"  >&lt;p&gt;Pdfbox isnt uncompressing the cmap name correctly&lt;/p&gt;</comment>
                            <comment id="14227896" author="jahewson" created="Thu, 27 Nov 2014 18:58:29 +0000"  >&lt;p&gt;That code is a direct copy of the algorithm given in the PDF spec, so we won&apos;t take a patch which just shoves in extra hacks at the end. Your mechanism is correct: we need to use the descendent font&apos;s CIDSystemInfo to find a fallback CMap. But we need to be populating cMap, cMapUCS2, and isCMapPredefined correctly in readEncoding() and fetchCMapUCS2() instead of messing with the standard algorithm in toUnicode().&lt;/p&gt;

&lt;p&gt;The spec does mention this, when it says:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;if the font is composite and uses a predefined cmap (excluding Identity-H/V) &lt;br/&gt;
&lt;b&gt;or if its descendant font&lt;/b&gt; uses Adobe-GB1/CNS1/Japan1/Korea1 then ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;PDFBox was missing the part in bold. &lt;/p&gt;</comment>
                            <comment id="14243980" author="ssteiner1" created="Fri, 12 Dec 2014 10:54:44 +0000"  >&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2563&quot; title=&quot;[PATCH] Use cmap for Type0/TTF fallback&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2563&quot;&gt;&lt;del&gt;PDFBOX-2563&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14535841" author="jahewson" created="Fri, 8 May 2015 23:13:22 +0000"  >&lt;p&gt;I&apos;ve implemented the missing functionality in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2711&quot; title=&quot;Japanese text not extracted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2711&quot;&gt;&lt;del&gt;PDFBOX-2711&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14621939" author="jahewson" created="Fri, 10 Jul 2015 08:00:57 +0000"  >&lt;p&gt;We now have a fully functional CJK substitution mechanism in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2842&quot; title=&quot;Overhaul font substitution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2842&quot;&gt;&lt;del&gt;PDFBOX-2842&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14621994" author="ssteiner1" created="Fri, 10 Jul 2015 08:41:50 +0000"  >&lt;p&gt;Are all these working fine:&lt;br/&gt;
&lt;a href=&quot;https://web.archive.org/web/20130728121030/http://acroeng.adobe.com/wp/?page_id=101&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://web.archive.org/web/20130728121030/http://acroeng.adobe.com/wp/?page_id=101&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12761324">PDFBOX-2563</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12840642">PDFBOX-2842</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12782223">PDFBOX-2711</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12684055" name="japan.patch" size="2399" author="ssteiner" created="Thu, 27 Nov 2014 12:11:54 +0000"/>
                            <attachment id="12683301" name="pdfbox147.png" size="135522" author="ssteiner" created="Mon, 24 Nov 2014 09:35:14 +0000"/>
                            <attachment id="12683302" name="pdfbox238.png" size="615604" author="ssteiner" created="Mon, 24 Nov 2014 09:41:23 +0000"/>
                            <attachment id="12683303" name="pdfbox238_2.png" size="38128" author="ssteiner" created="Mon, 24 Nov 2014 09:43:19 +0000"/>
                            <attachment id="12683327" name="pdfbox328.png" size="240310" author="ssteiner" created="Mon, 24 Nov 2014 13:34:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22k07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>