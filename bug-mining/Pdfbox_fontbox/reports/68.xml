<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:49:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2074] 4-bytes CMap entry causes exception</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2074</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I have PDF that has CMap entry consisting of 4 bytes. It is just one entry with that size, other entries have 2-bytes.&lt;/p&gt;

&lt;p&gt;Adobe reader has no problems with that, PDFBox throws Exception.&lt;/p&gt;

&lt;p&gt;I think this Exception should not be thrown. It should be skipped or truncated tu 2 bytes and write warning to log.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12713678">PDFBOX-2074</key>
            <summary>4-bytes CMap entry causes exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="chupacabras">Juraj Lonc</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 May 2014 17:46:53 +0000</created>
                <updated>Tue, 1 Sep 2015 18:08:47 +0000</updated>
                            <resolved>Mon, 9 Jun 2014 17:51:50 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>1.8.6</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13995526" author="tilman" created="Mon, 12 May 2014 19:35:37 +0000"  >&lt;p&gt;This case is easy because it is ffffffff. But what if the entry is 12345678 ? Should we take 1234 or 5678 ?&lt;/p&gt;</comment>
                            <comment id="13995559" author="chupacabras" created="Mon, 12 May 2014 19:57:07 +0000"  >&lt;p&gt;I have no idea how to properly handle entries that are longer than 2 bytes.&lt;br/&gt;
But I think it is better to skip them and not throw Exception there. Just logging of warning or error should be fine.&lt;/p&gt;

&lt;p&gt;If somebody tries to render (to image) such PDF now it will fail.&lt;br/&gt;
I suggest to remove that Exception so PDF will be rendered. Rendered image will be most likely ok. Maybe some char will not be drawn.&lt;/p&gt;</comment>
                            <comment id="13995601" author="tilman" created="Mon, 12 May 2014 20:43:54 +0000"  >&lt;p&gt;I&apos;m really undecided whether to raise exception or skip. At this time, the problem has happened in one PDF only and it was a &quot;special&quot; value, i.e. ffffffff, so I&apos;d fix that one only.&lt;/p&gt;

&lt;p&gt;Andreas what do you think?&lt;/p&gt;</comment>
                            <comment id="13996236" author="lehmi" created="Tue, 13 May 2014 09:58:19 +0000"  >&lt;p&gt;We should be more lenient and somehow skip the problematic CMap entry (I don&apos;t like the idea, but as long as adobe accepts such pdfs, we have to do it as well).&lt;br/&gt;
IMHO we should skip the whole entry instead of reading the first or last two bytes, as both variants are most likely invalid.&lt;/p&gt;</comment>
                            <comment id="13999694" author="chupacabras" created="Fri, 16 May 2014 08:45:00 +0000"  >&lt;p&gt;I am curious whether Adobe Reader ignores such entries (entries are invalid) or processes them (entries are valid).&lt;/p&gt;</comment>
                            <comment id="14025441" author="lehmi" created="Mon, 9 Jun 2014 17:51:50 +0000"  >&lt;p&gt;Starting with revisions &lt;a href=&quot;http://svn.apache.org/r1601451&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1601451&lt;/a&gt; (trunk) and &lt;a href=&quot;http://svn.apache.org/r1601452&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1601452&lt;/a&gt; (1.8 branch) PDFBox will skip malformed CMap entries.&lt;/p&gt;

&lt;p&gt;Thanks for the contribution!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12860978">PDFBOX-2952</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12644444" name="PDFBOX-2074_CMap.diff" size="1314" author="chupacabras" created="Mon, 12 May 2014 17:49:26 +0000"/>
                            <attachment id="12644443" name="pdf_with_4B_cmap_entry.pdf" size="91709" author="chupacabras" created="Mon, 12 May 2014 17:49:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vicn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>392195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>