<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3511] NullPointerException - missing glyph description</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3511</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Hi Team.&lt;/p&gt;

&lt;p&gt;We process many PDF documents every day and today we ran into a file that we couldn&apos;t create an image to. For some reason it has glyphs that didn&apos;t have any glyph description. &lt;/p&gt;

&lt;p&gt;In GlyfCompositeDescript there is atleast two functions (Line 258, 271) that fetch an GlyphDescription from a map like this:&lt;br/&gt;
GlyphDescription gd = descriptions.get(c.getGlyphIndex());&lt;/p&gt;

&lt;p&gt;Then the functions use the description without a null check which results in an NullPointer exception.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NullPointerException
        at org.apache.fontbox.ttf.GlyfCompositeDescript.getCompositeCompEndPt(GlyfCompositeDescript.java:272)
        at org.apache.fontbox.ttf.GlyfCompositeDescript.getEndPtOfContours(GlyfCompositeDescript.java:126)
        at org.apache.fontbox.ttf.GlyphRenderer.describe(GlyphRenderer.java:72)
        at org.apache.fontbox.ttf.GlyphRenderer.getPath(GlyphRenderer.java:56)
        at org.apache.fontbox.ttf.GlyphData.getPath(GlyphData.java:116)
        at org.apache.pdfbox.pdmodel.font.PDCIDFontType2.getPath(PDCIDFontType2.java:446)
        at org.apache.pdfbox.pdmodel.font.PDType0Font.getPath(PDType0Font.java:506)
        at org.apache.pdfbox.rendering.TTFGlyph2D.getPathForGID(TTFGlyph2D.java:137)
        at org.apache.pdfbox.rendering.TTFGlyph2D.getPathForCharacterCode(TTFGlyph2D.java:93)
        at org.apache.pdfbox.rendering.PageDrawer.drawGlyph2D(PageDrawer.java:353)
        at org.apache.pdfbox.rendering.PageDrawer.showFontGlyph(PageDrawer.java:334)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.showGlyph(PDFStreamEngine.java:744)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.showText(PDFStreamEngine.java:701)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.showTextString(PDFStreamEngine.java:564)
        at org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.text.ShowText.process(ShowText.java:55)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:815)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:472)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:446)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:149)
        at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:189)
        at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:145)
        at org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:94)
        at org.apache.pdfbox.tools.PDFToImage.main(PDFToImage.java:236)
        at org.apache.pdfbox.tools.PDFBox.main(PDFBox.java:94)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So far we have only seen one file with this issue in our processing. I&apos;ve tried to run the PDFToImage with all versions of PDFBox 2 and they fail. &lt;/p&gt;

&lt;p&gt;PDFBox 1.8.12 gives some error output but generates an working image.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Sep 23, 2016 7:36:53 AM org.apache.pdfbox.util.PDFStreamEngine processOperator
INFO: unsupported/disabled operation: BDC
Sep 23, 2016 7:36:53 AM org.apache.pdfbox.util.PDFStreamEngine processOperator
INFO: unsupported/disabled operation: EMC
Sep 23, 2016 7:36:55 AM org.apache.pdfbox.pdmodel.font.PDSimpleFont drawString
WARNING: Changing font on &amp;lt;&#8226;&amp;gt; from &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; to the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; font
Sep 23, 2016 7:36:55 AM org.apache.pdfbox.pdmodel.font.PDSimpleFont drawString
WARNING: Changing font on &amp;lt;&#8226;&amp;gt; from &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; to the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; font
Sep 23, 2016 7:36:55 AM org.apache.pdfbox.pdmodel.font.PDSimpleFont drawString
WARNING: Changing font on &amp;lt;&#8226;&amp;gt; from &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; to the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; font
Sep 23, 2016 7:36:55 AM org.apache.pdfbox.pdmodel.font.PDSimpleFont drawString
WARNING: Changing font on &amp;lt;&#8226;&amp;gt; from &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; to the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; font
Sep 23, 2016 7:36:55 AM org.apache.pdfbox.pdmodel.font.PDSimpleFont drawString
WARNING: Changing font on &amp;lt;&#8226;&amp;gt; from &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; to the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; font
Sep 23, 2016 7:36:55 AM org.apache.pdfbox.util.PDFImageWriter writeImage
INFO: Writing: [Removed Identifer]_01_07_201609231.jpg
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At the time of writing the bug report the file is to fresh to disclose. Might be able to add it in a week or so depending on the customer, and if it&apos;s required for the resolution of this issue.&lt;/p&gt;

&lt;p&gt;Thanks for your time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13007049">PDFBOX-3511</key>
            <summary>NullPointerException - missing glyph description</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="kalaspuffar">Daniel Persson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Sep 2016 05:56:23 +0000</created>
                <updated>Sat, 25 Mar 2017 18:12:04 +0000</updated>
                            <resolved>Mon, 28 Nov 2016 19:35:10 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>2.0.1</version>
                    <version>2.0.2</version>
                    <version>2.0.3</version>
                                    <fixVersion>2.0.4</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15519191" author="jira-bot" created="Sat, 24 Sep 2016 15:25:44 +0000"  >&lt;p&gt;Commit 1762125 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1762125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1762125&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3511&quot; title=&quot;NullPointerException - missing glyph description&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3511&quot;&gt;&lt;del&gt;PDFBOX-3511&lt;/del&gt;&lt;/a&gt;: avoid NullPointerException&lt;/p&gt;</comment>
                            <comment id="15519192" author="jira-bot" created="Sat, 24 Sep 2016 15:25:48 +0000"  >&lt;p&gt;Commit 1762126 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1762126&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1762126&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3511&quot; title=&quot;NullPointerException - missing glyph description&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3511&quot;&gt;&lt;del&gt;PDFBOX-3511&lt;/del&gt;&lt;/a&gt;: avoid NullPointerException&lt;/p&gt;</comment>
                            <comment id="15519194" author="tilman" created="Sat, 24 Sep 2016 15:26:51 +0000"  >&lt;p&gt;Thanks for reporting this; yes I&apos;d like to have the file, to add it to my test set. Please do also give feedback whether the problem has been solved or if there are new problems now.&lt;/p&gt;</comment>
                            <comment id="15702882" author="tilman" created="Mon, 28 Nov 2016 19:35:10 +0000"  >&lt;p&gt;Setting to resolved, although I didn&apos;t get user feedback or a test file. But the change itself was a simple one anyway.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33zm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>