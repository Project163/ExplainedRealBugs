<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4489] Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4489</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When using the internal Tika extractor in a Manifold Job on certain occasions I get an Out of Memory Error.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mar 16 14:20:06 manifold01 manifoldcf[15747]: agents process ran out of memory - shutting down

Mar 16 14:20:06 manifold01 manifoldcf[15747]: java.lang.OutOfMemoryError: Java heap space

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.fontbox.ttf.GlyphSubstitutionTable.readScriptTable(GlyphSubstitutionTable.java:129)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.fontbox.ttf.GlyphSubstitutionTable.readScriptList(GlyphSubstitutionTable.java:98)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.fontbox.ttf.GlyphSubstitutionTable.read(GlyphSubstitutionTable.java:78)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.fontbox.ttf.TrueTypeFont.readTable(TrueTypeFont.java:349)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.fontbox.ttf.TTFParser.parseTables(TTFParser.java:173)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:150)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:106)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.&amp;lt;init&amp;gt;(PDTrueTypeFont.java:199)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:75)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:146)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.text.SetFontAndSize.process(SetFontAndSize.java:60)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:848)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:503)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:477)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:150)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.text.LegacyPDFStreamEngine.processPage(LegacyPDFStreamEngine.java:139)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextStripper.java:391)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.tika.parser.pdf.PDF2XHTML.processPage(PDF2XHTML.java:147)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.text.PDFTextStripper.processPages(PDFTextStripper.java:319)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:266)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.tika.parser.pdf.PDF2XHTML.process(PDF2XHTML.java:117)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:172)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:143)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.manifoldcf.agents.transformation.tika.TikaParser.parse(TikaParser.java:74)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.manifoldcf.agents.transformation.tika.TikaExtractor.addOrReplaceDocumentWithException(TikaExtractor.java:235)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.manifoldcf.agents.incrementalingest.IncrementalIngester$PipelineAddEntryPoint.addOrReplaceDocumentWithException(IncrementalIngester.java:3226)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.manifoldcf.agents.incrementalingest.IncrementalIngester$PipelineAddFanout.sendDocument(IncrementalIngester.java:3077)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at org.apache.manifoldcf.agents.incrementalingest.IncrementalIngester$MonitoredAddActivityWrapper.sendDocument(IncrementalIngester.java:3471)

Mar 16 14:20:06 manifold01 manifoldcf[15747]: at digital.formica.manifold.connector.transformation.fetchwebresource.WebresourceFetchTransformationConnector.addOrReplaceDocumentWithException(WebresourceFetchTransformationConnector.java:118)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;ve allocated 8g of heap size, Installed the latest version of Tika (1.20) and PDFBOX (2.0.14).&lt;br/&gt;
But no solutions found.&lt;/p&gt;

&lt;p&gt;After a heap dump and analyzing this dump, I notice that it is the Integer class that takes about 2.6g of memory.&#160;&lt;/p&gt;



&lt;p&gt;Any suggestions?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13222519">PDFBOX-4489</key>
            <summary>Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="DonaldVdD">Donald Van den Driessche</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2019 08:47:51 +0000</created>
                <updated>Thu, 12 Oct 2023 02:46:53 +0000</updated>
                            <resolved>Tue, 9 Apr 2019 13:51:32 +0000</resolved>
                                    <version>2.0.14</version>
                                    <fixVersion>2.0.16</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16796480" author="tilman" created="Tue, 19 Mar 2019 20:16:46 +0000"  >&lt;p&gt;Please attach the file. Just because it aborts in org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable() doesn&apos;t mean that this is the cause.&lt;/p&gt;

&lt;p&gt;Also try with a snapshot, i.e. launch this jar and try opening your file:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/debugger-app/2.0.15-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/debugger-app/2.0.15-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16798817" author="donaldvdd" created="Fri, 22 Mar 2019 08:01:57 +0000"  >&lt;p&gt;The problem is that the same file.&lt;br/&gt;
I process about 4100 files, and sometimes the problem happens after 300, sometimes after 1500 and sometimes after 3700. But also sometimes it doesn&apos;t.&lt;/p&gt;



&lt;p&gt;So it&apos;s hard to recreate this issue.&lt;br/&gt;
I&apos;m already reinvestigating if other parts of this pipeline might have memory leaks, but nothing so far.&lt;/p&gt;</comment>
                            <comment id="16806126" author="tilman" created="Sun, 31 Mar 2019 10:40:43 +0000"  >&lt;p&gt;So it&apos;s always the same file that stops your processing, if it stops?&lt;/p&gt;

&lt;p&gt;Please try to reproduce the problem with the debugger app, by using a fixed &lt;tt&gt;-Xmx&lt;/tt&gt; value, e.g. &lt;tt&gt;-Xmx1g&lt;/tt&gt; and try different values to see if anything &quot;extreme&quot; happens. Try also ExtractText with the pdfbox-app&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.15-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.15-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16813044" author="donaldvdd" created="Tue, 9 Apr 2019 06:40:20 +0000"  >&lt;p&gt;After further investigation and monitoring the memory usage during the full ManifoldCF process, the conclusion is that the memory spikes at certain times, which causes the ManifoldCF to crash.&lt;/p&gt;

&lt;p&gt;We started downloading the files in the connector before handing them over to the TIKA-parser.&lt;/p&gt;

&lt;p&gt;When manually downloading it from the site and running it through the pdfbox-app there is no error. Added file &quot;xid-515432_1_good.pdf&quot;&lt;/p&gt;

&lt;p&gt;When running the downloaded (via the connector) file through the pdfbox-app we get the same error as Manifold throws. Added file &quot;xid-515432_1_bad.pdf&quot;&lt;/p&gt;

&lt;p&gt;There was no difference using java 8 or 11.&lt;/p&gt;

&lt;p&gt;We tried running the pdfbox app with more memory locally (16g) and java 11 and then it &quot;processes&quot; the file but with a different error.&lt;br/&gt;
Same happened on java 8 with 24g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java -Xmx16g -jar ../pdfbox-app-2.0.14.jar ExtractText xid-515432_1.pdf Apr 09, 2019 8:20:37 AM org.apache.pdfbox.pdmodel.font.PDTrueTypeFont &amp;lt;init&amp;gt; WARNING: Could not read embedded TTF &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; font ABCDEE+Calibri,Bold java.io.EOFException at org.apache.fontbox.ttf.MemoryTTFDataStream.readUnsignedShort(MemoryTTFDataStream.java:120) at org.apache.fontbox.ttf.GlyphSubstitutionTable.readScriptTable(GlyphSubstitutionTable.java:120) at org.apache.fontbox.ttf.GlyphSubstitutionTable.readScriptList(GlyphSubstitutionTable.java:98) at org.apache.fontbox.ttf.GlyphSubstitutionTable.read(GlyphSubstitutionTable.java:78) at org.apache.fontbox.ttf.TrueTypeFont.readTable(TrueTypeFont.java:353) at org.apache.fontbox.ttf.TTFParser.parseTables(TTFParser.java:173) at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:150) at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:106) at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.&amp;lt;init&amp;gt;(PDTrueTypeFont.java:198) at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:75) at org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:146) at org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.text.SetFontAndSize.process(SetFontAndSize.java:60) at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:869) at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:505) at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:479) at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:152) at org.apache.pdfbox.text.LegacyPDFStreamEngine.processPage(LegacyPDFStreamEngine.java:139) at org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextStripper.java:391) at org.apache.pdfbox.text.PDFTextStripper.processPages(PDFTextStripper.java:319) at org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:266) at org.apache.pdfbox.tools.ExtractText.extractPages(ExtractText.java:375) at org.apache.pdfbox.tools.ExtractText.startExtraction(ExtractText.java:272) at org.apache.pdfbox.tools.ExtractText.main(ExtractText.java:96) at org.apache.pdfbox.tools.PDFBox.main(PDFBox.java:60) Apr 09, 2019 8:20:37 AM org.apache.pdfbox.pdmodel.font.PDTrueTypeFont &amp;lt;init&amp;gt; WARNING: Using fallback font &#8216;Helvetica-Bold&#8217; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &#8216;ABCDEE+Calibri,Bold&#8217; Apr 09, 2019 8:20:37 AM org.apache.pdfbox.pdmodel.font.PDCIDFontType2 &amp;lt;init&amp;gt; INFO: OpenType Layout tables used in font ABCDEE+Calibri are not implemented in PDFBox and will be ignored
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16813091" author="tilman" created="Tue, 9 Apr 2019 07:53:13 +0000"  >&lt;p&gt;The bad file has a font that is so bad that it brings&#160;&lt;tt&gt;OutOfMemoryError&lt;/tt&gt; on my machine and DTL OTMaster 3.7 light won&apos;t open it =&amp;gt; more analysis needed.&lt;br/&gt;
 The exception you show for the &quot;good&quot; file is caught and is posted as a warning, the extraction is done.&lt;/p&gt;</comment>
                            <comment id="16813376" author="jira-bot" created="Tue, 9 Apr 2019 13:06:26 +0000"  >&lt;p&gt;Commit 1857196 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1857196&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1857196&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4489&quot; title=&quot;Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4489&quot;&gt;&lt;del&gt;PDFBOX-4489&lt;/del&gt;&lt;/a&gt;: check order of LangSysTag in the hope to detect corrupt table&lt;/p&gt;</comment>
                            <comment id="16813377" author="jira-bot" created="Tue, 9 Apr 2019 13:06:31 +0000"  >&lt;p&gt;Commit 1857197 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1857197&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1857197&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4489&quot; title=&quot;Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4489&quot;&gt;&lt;del&gt;PDFBOX-4489&lt;/del&gt;&lt;/a&gt;: check order of LangSysTag in the hope to detect corrupt table&lt;/p&gt;</comment>
                            <comment id="16813378" author="jira-bot" created="Tue, 9 Apr 2019 13:06:37 +0000"  >&lt;p&gt;Commit 1857198 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1857198&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1857198&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4489&quot; title=&quot;Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4489&quot;&gt;&lt;del&gt;PDFBOX-4489&lt;/del&gt;&lt;/a&gt;: check order of LangSysTag in the hope to detect corrupt table&lt;/p&gt;</comment>
                            <comment id="16813419" author="jira-bot" created="Tue, 9 Apr 2019 13:40:50 +0000"  >&lt;p&gt;Commit 1857200 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1857200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1857200&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4489&quot; title=&quot;Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4489&quot;&gt;&lt;del&gt;PDFBOX-4489&lt;/del&gt;&lt;/a&gt;: check order of LangSysTag in the hope to detect corrupt table&lt;/p&gt;</comment>
                            <comment id="16813420" author="jira-bot" created="Tue, 9 Apr 2019 13:41:16 +0000"  >&lt;p&gt;Commit 1857201 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1857201&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1857201&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4489&quot; title=&quot;Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4489&quot;&gt;&lt;del&gt;PDFBOX-4489&lt;/del&gt;&lt;/a&gt;: check order of LangSysTag in the hope to detect corrupt table&lt;/p&gt;</comment>
                            <comment id="16813430" author="jira-bot" created="Tue, 9 Apr 2019 13:48:40 +0000"  >&lt;p&gt;Commit 1857202 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1857202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1857202&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4489&quot; title=&quot;Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4489&quot;&gt;&lt;del&gt;PDFBOX-4489&lt;/del&gt;&lt;/a&gt;: check order of LangSysTag in the hope to detect corrupt table&lt;/p&gt;</comment>
                            <comment id="16813431" author="jira-bot" created="Tue, 9 Apr 2019 13:48:57 +0000"  >&lt;p&gt;Commit 1857203 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1857203&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1857203&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4489&quot; title=&quot;Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4489&quot;&gt;&lt;del&gt;PDFBOX-4489&lt;/del&gt;&lt;/a&gt;: check order of LangSysTag in the hope to detect corrupt table&lt;/p&gt;</comment>
                            <comment id="16813434" author="jira-bot" created="Tue, 9 Apr 2019 13:49:11 +0000"  >&lt;p&gt;Commit 1857204 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1857204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1857204&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4489&quot; title=&quot;Memory issue on org.apache.fontbox.ttf.GlyphSubstitutionTable.readLangSysTable(GlyphSubstitutionTable.java:147)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4489&quot;&gt;&lt;del&gt;PDFBOX-4489&lt;/del&gt;&lt;/a&gt;: check order of LangSysTag in the hope to detect corrupt table&lt;/p&gt;</comment>
                            <comment id="16813438" author="tilman" created="Tue, 9 Apr 2019 13:51:32 +0000"  >&lt;p&gt;Should work now. In the trunk it is more lenient, in 2.0.* it throws an exception but you can still get your text extracted.&lt;/p&gt;</comment>
                            <comment id="16813621" author="mkl" created="Tue, 9 Apr 2019 17:06:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;The bad file has a font that is so bad that...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If you compare the PDFs, you&apos;ll see that merely three bytes have been replaced by 0x00 bytes... unfortunately those bytes were in the middle of a deflated stream containing the font file! Thus, the inflated font file obviously is hopelessly shreddered.&lt;/p&gt;</comment>
                            <comment id="16814169" author="donaldvdd" created="Wed, 10 Apr 2019 08:04:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We were using 2.0.14.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After further investigation we also figured out that there were only 2-3 bytes replaced by 0x00 bytes. And this in every file that gave an issue&lt;/p&gt;

&lt;p&gt;Because the issue didn&apos;t persist in every file and on each run in different files, we narrowed it down to possible download issues. Also because no manipulation is done to the input before being passed to the TIKA Parser.&lt;br/&gt;
The current workaround is to download the file twice, check a hash of them and if they are different retry a double download. When the has is the same we continue with one of the downloaded files. This gave us no more PDFParser issues.&lt;br/&gt;
Also speed of the process wasn&apos;t really impacted.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                            <outwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="13241476">PDFBOX-4580</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13222520">CONNECTORS-1593</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13553776">PDFBOX-5697</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12965297" name="badfont.ttf" size="352962" author="tilman" created="Tue, 9 Apr 2019 07:49:02 +0000"/>
                            <attachment id="12965287" name="xid-515432_1_bad.pdf" size="574987" author="DonaldVdD" created="Tue, 9 Apr 2019 06:37:43 +0000"/>
                            <attachment id="12965288" name="xid-515432_1_good.pdf" size="574987" author="DonaldVdD" created="Tue, 9 Apr 2019 06:37:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00uow:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>