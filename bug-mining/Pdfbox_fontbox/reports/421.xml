<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:51:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5917] Particular PDF fails on renderImageWithDPI call</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5917</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The pdf attached to this ticket fails in this following test code block I wrote:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (PDDocument pdDocument = Loader.loadPDF(Path.of(&lt;span class=&quot;code-quote&quot;&gt;&quot;path to test.pdf&quot;&lt;/span&gt;).toFile())) {
    PDFRenderer pdfRenderer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDFRenderer(pdDocument);
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; page = 1; page &amp;lt;= pdDocument.getNumberOfPages(); page++) {
        pdfRenderer.renderImageWithDPI(page - 1, 300, ImageType.RGB);
    }
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The error I get is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Dec 02, 2024 11:59:23 AM org.apache.pdfbox.rendering.GlyphCache getPathForCharacterCode
SEVERE: Glyph rendering failed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; code 32 in font Arial-BoldMT
java.io.EOFException: EOF at 108, b1: -1, b2: -1 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The pdf appears to load fine in the browser for me.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I am using pdfbox 3.0.3:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
implementation(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.pdfbox:pdfbox:3.0.3&quot;&lt;/span&gt;) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I have many other PDFs which are failing in a similar way, but I thought to just include one for now. I can add more if it&apos;ll help.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13600620">PDFBOX-5917</key>
            <summary>Particular PDF fails on renderImageWithDPI call</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="noordotkhan">Noor Khan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Dec 2024 18:25:46 +0000</created>
                <updated>Thu, 16 Jan 2025 16:44:23 +0000</updated>
                            <resolved>Mon, 2 Dec 2024 19:52:46 +0000</resolved>
                                    <version>2.0.32</version>
                    <version>3.0.3 PDFBox</version>
                                    <fixVersion>2.0.33</fixVersion>
                    <fixVersion>3.0.4 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17902390" author="tilman" created="Mon, 2 Dec 2024 18:42:25 +0000"  >&lt;p&gt;Your PDF isn&apos;t &quot;failing&quot;, it displays exceptions that seem scary. From what I see, it is the space character in Arial-BoldMT (F7). Instead of having a proper definition, it points outside of the font so we get EOF. I think we can just swallow the exception. However I&apos;d like to do some more research because the EOF position doesn&apos;t match the length of the font stream.&lt;/p&gt;

&lt;p&gt;Update: nothing weird, the 108 is just the length of the glyf table, not the length of the font stream.&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13073161/13073161_image-2024-12-02-19-52-41-092.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17902396" author="jira-bot" created="Mon, 2 Dec 2024 19:09:21 +0000"  >&lt;p&gt;Commit 1922268 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922268&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922268&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5917&quot; title=&quot;Particular PDF fails on renderImageWithDPI call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5917&quot;&gt;&lt;del&gt;PDFBOX-5917&lt;/del&gt;&lt;/a&gt;: when offset points to end of the stream then it&apos;s empty&lt;/p&gt;</comment>
                            <comment id="17902397" author="jira-bot" created="Mon, 2 Dec 2024 19:09:25 +0000"  >&lt;p&gt;Commit 1922269 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922269&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922269&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5917&quot; title=&quot;Particular PDF fails on renderImageWithDPI call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5917&quot;&gt;&lt;del&gt;PDFBOX-5917&lt;/del&gt;&lt;/a&gt;: when offset points to end of the stream then it&apos;s empty&lt;/p&gt;</comment>
                            <comment id="17902398" author="jira-bot" created="Mon, 2 Dec 2024 19:09:29 +0000"  >&lt;p&gt;Commit 1922270 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922270&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922270&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5917&quot; title=&quot;Particular PDF fails on renderImageWithDPI call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5917&quot;&gt;&lt;del&gt;PDFBOX-5917&lt;/del&gt;&lt;/a&gt;: when offset points to end of the stream then it&apos;s empty&lt;/p&gt;</comment>
                            <comment id="17902417" author="tilman" created="Mon, 2 Dec 2024 19:51:13 +0000"  >&lt;p&gt;Thanks for reporting this. I&apos;ve fixed it differently than intended, I just check wether the offset points to the end of the table and if yes, the empty glyph is created.&lt;/p&gt;

&lt;p&gt;Snapshots are available here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.33-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.33-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/3.0.4-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/3.0.4-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There should now no longer be any such exceptions. Please test with the other files just to be sure.&lt;/p&gt;</comment>
                            <comment id="17902693" author="JIRAUSER307945" created="Tue, 3 Dec 2024 15:46:10 +0000"  >&lt;p&gt;Thank you for your prompt reply and fix! Very impressed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13073161" name="image-2024-12-02-19-52-41-092.png" size="7066" author="tilman" created="Mon, 2 Dec 2024 18:52:41 +0000"/>
                            <attachment id="13073158" name="test.pdf" size="130092" author="noordotkhan" created="Mon, 2 Dec 2024 18:20:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sveg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>