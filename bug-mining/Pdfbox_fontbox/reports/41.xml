<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:48:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1743] OutOfMemoryError in fontbox</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1743</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When trying to index a pdf document in solr, pdfbox (fontbox) throws java.lang.OutOfMemoryError: Java heap space exception&lt;/p&gt;

&lt;p&gt;This is the stack trace:&lt;br/&gt;
SEVERE: Full Import failed:java.lang.RuntimeException: java.lang.RuntimeException: org.apache.solr.handler.dataimport.DataImportHandlerException:&lt;br/&gt;
java.lang.OutOfMemoryError: Java heap space at org.apache.solr.handler.dataimport.DocBuilder.execute(DocBuilder.java:273)&lt;br/&gt;
at org.apache.solr.handler.dataimport.DataImporter.doFullImport(DataImporter.java:382) at&lt;br/&gt;
org.apache.solr.handler.dataimport.DataImporter.runCmd(DataImporter.java:448) at org.apache.solr.handler.dataimport.DataImporter$1.run(DataImporter.java:429)&lt;br/&gt;
Caused by: java.lang.RuntimeException: org.apache.solr.handler.dataimport.DataImportHandlerException:&lt;br/&gt;
java.lang.OutOfMemoryError: Java heap space at org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:413)&lt;br/&gt;
at org.apache.solr.handler.dataimport.DocBuilder.doFullDump(DocBuilder.java:326) at org.apache.solr.handler.dataimport.DocBuilder.execute(DocBuilder.java:234)&lt;br/&gt;
... 3 more&lt;br/&gt;
Caused by: org.apache.solr.handler.dataimport.DataImportHandlerException: java.lang.OutOfMemoryError:&lt;br/&gt;
Java heap space at org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:542)&lt;br/&gt;
at org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:411) ... 5&lt;br/&gt;
more&lt;br/&gt;
Caused by: java.lang.OutOfMemoryError: Java heap space at org.apache.fontbox.cff.IndexData.initData(IndexData.java:95)&lt;br/&gt;
at org.apache.fontbox.cff.CFFParser.readIndexData(CFFParser.java:152) at org.apache.fontbox.cff.CFFParser.parse(CFFParser.java:103)&lt;br/&gt;
at org.apache.pdfbox.pdmodel.font.PDType1CFont.load(PDType1CFont.java:322) at org.apache.pdfbox.pdmodel.font.PDType1CFont.&amp;lt;init&amp;gt;(PDType1CFont.java:104)&lt;br/&gt;
at org.apache.pdfbox.pdmodel.font.PDType1Font.&amp;lt;init&amp;gt;(PDType1Font.java:162) at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:92)&lt;br/&gt;
at org.apache.pdfbox.pdmodel.PDResources.getFonts(PDResources.java:203) at org.apache.pdfbox.util.PDFStreamEngine.getFonts(PDFStreamEngine.java:604)&lt;br/&gt;
at org.apache.pdfbox.util.operator.SetTextFont.process(SetTextFont.java:54) at org.apache.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:554)&lt;br/&gt;
at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:268) at&lt;br/&gt;
 org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:235) at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:215)&lt;br/&gt;
at org.apache.pdfbox.util.PDFTextStripper.processPage(PDFTextStripper.java:455) at org.apache.pdfbox.util.PDFTextStripper.processPages(PDFTextStripper.java:379)&lt;br/&gt;
at org.apache.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:335) at org.apache.tika.parser.pdf.PDF2XHTML.process(PDF2XHTML.java:66)&lt;br/&gt;
at org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:153) at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)&lt;br/&gt;
at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242) at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)&lt;br/&gt;
at org.apache.solr.handler.dataimport.TikaEntityProcessor.nextRow(TikaEntityProcessor.java:127)&lt;br/&gt;
at org.apache.solr.handler.dataimport.EntityProcessorWrapper.nextRow(EntityProcessorWrapper.java:243)&lt;br/&gt;
at&lt;br/&gt;
 org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:472) ... 6 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672964">PDFBOX-1743</key>
            <summary>OutOfMemoryError in fontbox</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="paul.stanea">Stanea Paul</reporter>
                        <labels>
                            <label>CFF</label>
                            <label>OTF</label>
                    </labels>
                <created>Wed, 9 Oct 2013 06:35:06 +0000</created>
                <updated>Sat, 30 Nov 2013 17:02:16 +0000</updated>
                            <resolved>Wed, 9 Oct 2013 18:08:29 +0000</resolved>
                                                    <fixVersion>1.8.3</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>FontBox</component>
                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13790083" author="paul.stanea" created="Wed, 9 Oct 2013 06:36:27 +0000"  >&lt;p&gt;I have attached a test document for which the error is thrown&lt;/p&gt;</comment>
                            <comment id="13790135" author="tboehme" created="Wed, 9 Oct 2013 07:42:11 +0000"  >&lt;p&gt;Only a first analysis:&lt;br/&gt;
the document is broken as it defines a wrong font type (embedded font is of other type)&lt;/p&gt;

&lt;p&gt;Nevertheless using the wrong parser should not lead to out of memory. Either the parser has to check font type or parsing algorithm has to implement checks.&lt;/p&gt;</comment>
                            <comment id="13790217" author="tilman" created="Wed, 9 Oct 2013 10:25:25 +0000"  >&lt;p&gt;Adding this in CFFParser.java above the existing line with &quot;OTTO&quot;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((&lt;span class=&quot;code-quote&quot;&gt;&quot;\u0000\u0001\u0000\u0000&quot;&lt;/span&gt;).equals(firstTag)) &lt;span class=&quot;code-comment&quot;&gt;//TH http://www.microsoft.com/typography/otspec/otff.htm
&lt;/span&gt;        {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;OpenType font allowed only with CFF data (OTTO tag)&quot;&lt;/span&gt;);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;works nicely, i.e. brings an info message (&quot;Can&apos;t read the embedded type1C font Helvetica&quot;) but the text extraction works.&lt;/p&gt;</comment>
                            <comment id="13790282" author="paul.stanea" created="Wed, 9 Oct 2013 12:01:01 +0000"  >&lt;p&gt;Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; it works great. Will this fix be included in the next version of fontbox?&lt;/p&gt;</comment>
                            <comment id="13790285" author="tilman" created="Wed, 9 Oct 2013 12:08:27 +0000"  >&lt;p&gt;Can&apos;t tell, I&apos;m just a guest here &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; And I&apos;m not a font nor a pdf expert, so there&apos;s a risk that my change isn&apos;t the best solution for the problem.&lt;/p&gt;</comment>
                            <comment id="13790673" author="lehmi" created="Wed, 9 Oct 2013 18:08:29 +0000"  >&lt;p&gt;I fixed the issue in revision 1530740 based on Tilmans proposal.&lt;/p&gt;

&lt;p&gt;Obviously there are different kinds of CFF fonts. Some are supported other not. Two of the unsupported (true type only fonts and true type collection fonts) can be detected now.&lt;/p&gt;

&lt;p&gt;This fix will be part of the next bugfix release.&lt;/p&gt;

&lt;p&gt;Thanks for the report and the contribution!&lt;/p&gt;</comment>
                            <comment id="13824877" author="lehmi" created="Sun, 17 Nov 2013 15:30:18 +0000"  >&lt;p&gt;Merged into 1.8-branch in revision 1542748&lt;/p&gt;</comment>
                            <comment id="13835821" author="lehmi" created="Sat, 30 Nov 2013 17:02:16 +0000"  >&lt;p&gt;Closed after releasing 1.8.3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12607522" name="document1.pdf" size="381556" author="paul.stanea" created="Wed, 9 Oct 2013 06:36:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1osfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>