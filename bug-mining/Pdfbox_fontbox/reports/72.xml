<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:49:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2133] Parsing of a Type1 font fails with a NumberFormatException</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2133</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When rendering the attached PDF, parsing of a font fails with a NumberFormatException. Many NullPointerExceptions and &quot;missing fonts&quot; are being reported then. The PDF rendered fine in our modified 1.7.x where fonts were read using AWT. I did not try with current 1.8.x. Stack traces are attached.&lt;/p&gt;

&lt;p&gt;Note: This is just a file from my test suite, not a production problem. I am not sure whether the parser or the PDF is wrong, but the fact that it renders fine in Acrobat and in 1.7.x indicates that the former is true. The offending font is F2, if I catch and ignore the runtime exception in PDResources#getFonts() then it is reported as missing in the PageDrawer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720582">PDFBOX-2133</key>
            <summary>Parsing of a Type1 font fails with a NumberFormatException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="pslabycz">Petr Slaby</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 13:28:23 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:13 +0000</updated>
                            <resolved>Thu, 12 Jun 2014 23:25:31 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14027782" author="pslabycz" created="Wed, 11 Jun 2014 14:05:46 +0000"  >&lt;p&gt;Attached another file reporting the same problem&lt;/p&gt;</comment>
                            <comment id="14029349" author="tilman" created="Thu, 12 Jun 2014 16:45:34 +0000"  >&lt;p&gt;This is the beginning of the private dict:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;dup /Private 23 dict dup begin
/-| {string currentfile exch readstring pop} executeonly def
/|- {noaccess def} executeonly def
/| {noaccess put} executeonly def
/BlueScale 0.061 def
/BlueShift 7.1 def
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;According to the &lt;a href=&quot;http://partners.adobe.com/public/developer/en/font/T1Format.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;spec&lt;/a&gt; BlueShift should be an integer and the default is 7.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (key.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;BlueScale&quot;&lt;/span&gt;))
        {
            font.blueScale = value.get(0).floatValue();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (key.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;BlueShift&quot;&lt;/span&gt;))
        {
            font.blueShift = value.get(0).intValue();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (key.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;BlueFuzz&quot;&lt;/span&gt;))
        {
            font.blueScale = value.get(0).intValue();
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Btw, the BlueFuzz value is assigned to bluescale.&lt;/p&gt;</comment>
                            <comment id="14029998" author="jahewson" created="Thu, 12 Jun 2014 23:25:02 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I am not sure whether the parser or the PDF is wrong, but the fact that it renders fine in Acrobat and in 1.7.x indicates that the former is true.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ha, I wish! Unfortunately Acrobat is able to parse all manner of corrupt Type 1 font files. In this case, as Tilman observed, BlueShift is supposed to be an integer, yet in this file it is a float.&lt;/p&gt;

&lt;p&gt;However, if Acrobat can read it then we want PDFBox to be able to read it, so I&apos;ve modified the Type 1 parser so that it will always parse integers as floats and then truncate them to ints - that way we avoid any future similar issues. I&apos;ve added this to the trunk in &lt;a href=&quot;http://svn.apache.org/r1602311&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1602311&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14029999" author="jahewson" created="Thu, 12 Jun 2014 23:25:25 +0000"  >&lt;p&gt;(Closed and reopened to resolve as Fixed).&lt;/p&gt;</comment>
                            <comment id="14030300" author="tilman" created="Fri, 13 Jun 2014 06:25:14 +0000"  >&lt;p&gt;What about BlueFuzz being assigned to blueScale? Is this a typo or on purpose?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (key.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;BlueFuzz&quot;&lt;/span&gt;))
        {
            font.blueScale = value.get(0).intValue();
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14031718" author="jahewson" created="Sat, 14 Jun 2014 21:55:47 +0000"  >&lt;p&gt;That&apos;s a bug, fixed in r1602625, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12649787" name="000116.pdf" size="146653" author="pslabycz" created="Wed, 11 Jun 2014 13:34:31 +0000"/>
                            <attachment id="12649798" name="000304.pdf" size="159764" author="pslabycz" created="Wed, 11 Jun 2014 14:05:46 +0000"/>
                            <attachment id="12649788" name="testrun.log" size="4237" author="pslabycz" created="Wed, 11 Jun 2014 13:34:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wnk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>