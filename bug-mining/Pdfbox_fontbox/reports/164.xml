<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:49:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3093] Exception in TTFParser</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3093</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The reason for this is an ambiguity in the TrueType specification. Namely, one of the font tables (OS/2) is present in the font directory with length 0. The specification itself is completely silent about this. &lt;/p&gt;

&lt;p&gt;The only other information I was able to find is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the FreeType font library (&lt;a href=&quot;http://www.freetype.org/freetype2/docs/reference/ft2-truetype_tables.html#FT_Sfnt_Table_Info&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.freetype.org/freetype2/docs/reference/ft2-truetype_tables.html#FT_Sfnt_Table_Info&lt;/a&gt;) assumes that any table having 0 length in the font directory is treated as missing.&lt;/li&gt;
	&lt;li&gt;Google OpenType Sanitizer would report an error in such situation: &lt;a href=&quot;https://github.com/khaledhosny/ots/blob/master/src/ots.cc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/khaledhosny/ots/blob/master/src/ots.cc&lt;/a&gt;, lines 575-578&lt;/li&gt;
	&lt;li&gt;there are several related discussions at Adobe forums: &lt;a href=&quot;https://forums.adobe.com/thread/1616317&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://forums.adobe.com/thread/1616317&lt;/a&gt; , &lt;a href=&quot;https://forums.adobe.com/thread/1611899&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://forums.adobe.com/thread/1611899&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; As allowing zero length tables in TrueType fonts seems to be quite logical (and also implicitly confirmed by Adobe Acrobat validator), I&apos;ve changed the TTFParser to skip tables with 0 length.&lt;/p&gt;

&lt;p&gt;Attaching patch and font file. Will add test file also if necessary.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12910991">PDFBOX-3093</key>
            <summary>Exception in TTFParser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="exerus94">Timur Kamalov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Nov 2015 09:07:44 +0000</created>
                <updated>Thu, 17 Mar 2016 19:07:25 +0000</updated>
                            <resolved>Wed, 11 Nov 2015 17:54:28 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14994062" author="tilman" created="Fri, 6 Nov 2015 17:44:43 +0000"  >&lt;p&gt;I tried this with your font:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        PDDocument doc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
        PDType0Font.load(doc, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileInputStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;..../resfont.ttf&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and it doesn&apos;t work because the post table is also missing. I then added &quot;true&quot; as third load parameter made a change in PDType0Font.java to pass &quot;embedded&quot; to &lt;tt&gt;new TTFParser&lt;/tt&gt; but then I got an NPE. I kept doing more changes and still had trouble... long story short: please attach a PDF file with that font.&lt;/p&gt;</comment>
                            <comment id="15000128" author="exerus94" created="Wed, 11 Nov 2015 08:59:22 +0000"  >&lt;p&gt;Sorry for delay, attached test pdf file.&lt;/p&gt;</comment>
                            <comment id="15000784" author="jira-bot" created="Wed, 11 Nov 2015 17:54:20 +0000"  >&lt;p&gt;Commit 1713905 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1713905&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1713905&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3093&quot; title=&quot;Exception in TTFParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3093&quot;&gt;&lt;del&gt;PDFBOX-3093&lt;/del&gt;&lt;/a&gt;: skip tables with 0 length, as suggested by Timur Kamalov&lt;/p&gt;</comment>
                            <comment id="15000785" author="tilman" created="Wed, 11 Nov 2015 17:54:28 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12771712" name="PT-286.pdf" size="24692" author="exerus94" created="Wed, 11 Nov 2015 08:59:06 +0000"/>
                            <attachment id="12770983" name="Skipping_font_tables_with_zero_length_.patch" size="1158" author="exerus94" created="Fri, 6 Nov 2015 09:08:15 +0000"/>
                            <attachment id="12770984" name="resfont.ttf" size="23764" author="exerus94" created="Fri, 6 Nov 2015 09:08:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2o1sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>