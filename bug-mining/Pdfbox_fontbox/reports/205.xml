<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3377] font caching never stops in AIX</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3377</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I&apos;m trying to convert PDF to Image.&lt;/p&gt;

&lt;p&gt;When I call PDFRenderer.renderImage(), the log message like belows appears.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; WARN(FileSystemFontProvider.java)[2016-06-10 10:44:39,969]-New fonts found, font cache will be re-built
 WARN(FileSystemFontProvider.java)[2016-06-10 10:44:39,969]-Building on-disk font cache, this may take a while
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It never stops. No response or change since those message appears.&lt;/p&gt;

&lt;p&gt;I can&apos;t attach font cache file because I don&apos;t know where it is located.&lt;/p&gt;

&lt;p&gt;+ I attached pdfbox tmp file &quot;pdfbox377219359369560029tmp&quot; that I found in /tmp/ directory.&lt;/p&gt;

&lt;p&gt;tail of the file is like belows&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;?xpacket begin=&quot;&#30308;? id=&quot;W5M0MpCehiHzreSzNTczkc9d&quot;?&amp;gt;&amp;lt;x:xmpmeta xmlns:x=&quot;adobe:ns:meta/&quot; x:xmptk=&quot;Adobe XMP Core 4.0-c316 44.253921, Sun Oct 01 2006 17:14:39&quot;&amp;gt;&amp;lt;rdf:RDF xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&amp;gt;&amp;lt;rdf:Description rdf:about=&quot;&quot; xmlns:pdf=&quot;http://ns.adobe.com/pdf/1.3/&quot;&amp;gt;&amp;lt;pdf:PDFVersion&amp;gt;1.4&amp;lt;/pdf:PDFVersion&amp;gt;&amp;lt;pdf:Producer&amp;gt;Hancom PDF 1.3.0.480&amp;lt;/pdf:Producer&amp;gt;&amp;lt;/rdf:Description&amp;gt;&amp;lt;rdf:Description rdf:about=&quot;&quot; xmlns:xap=&quot;http://ns.adobe.com/xap/1.0/&quot;&amp;gt;&amp;lt;xap:CreatorTool&amp;gt;Hancom PDF 1.3.0.480&amp;lt;/xap:CreatorTool&amp;gt;&amp;lt;xap:CreateDate&amp;gt;2016-05-24T18:54:06+09:00&amp;lt;/xap:CreateDate&amp;gt;&amp;lt;xap:ModifyDate&amp;gt;2016-05-24T18:54:06+09:00&amp;lt;/xap:ModifyDate&amp;gt;&amp;lt;xap:MetadataDate&amp;gt;2016-05-24T18:54:06+09:00&amp;lt;/xap:MetadataDate&amp;gt;&amp;lt;/rdf:Description&amp;gt;&amp;lt;rdf:Description rdf:about=&quot;&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;&amp;gt;&amp;lt;dc:format&amp;gt;application/pdf&amp;lt;/dc:format&amp;gt;&amp;lt;dc:title&amp;gt;&amp;lt;rdf:Seq&amp;gt;&amp;lt;rdf:li&amp;gt;&#63969;&#9317;&#44909;?&#128; ?&#128;?&#49673;&#45371;?&#9337;&#51225;&#36418;&#45825;&#46470;?&#12669;&#45093; &#25588;&#1098;&#53598;?&#1098;&#49085;&amp;lt;/rdf:li&amp;gt;&amp;lt;/rdf:Seq&amp;gt;&amp;lt;/dc:title&amp;gt;&amp;lt;dc:date&amp;gt;&amp;lt;rdf:Seq&amp;gt;&amp;lt;rdf:li&amp;gt;2016-05-24T18:54:06+09:00&amp;lt;/rdf:li&amp;gt;&amp;lt;/rdf:Seq&amp;gt;&amp;lt;/dc:date&amp;gt;&amp;lt;/rdf:Description&amp;gt;&amp;lt;rdf:Description rdf:about=&quot;&quot; xmlns:xapMM=&quot;http://ns.adobe.com/xap/1.0/mm/&quot;&amp;gt;&amp;lt;xapMM:DocumentID&amp;gt;43D906A6-241D-4E39-B165-0418769B224B&amp;lt;/xapMM:DocumentID&amp;gt;&amp;lt;xapMM:InstanceID&amp;gt;uuid:4AB60C4F-752D-4C5C-B438-65F54D57FDF1&amp;lt;/xapMM:InstanceID&amp;gt;&amp;lt;/rdf:Description&amp;gt;&amp;lt;rdf:Description rdf:about=&quot;&quot; xmlns:pdfaid=&quot;http://www.aiim.org/pdfa/ns/id/&quot;&amp;gt;
&amp;lt;pdfaid:part&amp;gt;1&amp;lt;/pdfaid:part&amp;gt;
&amp;lt;pdfaid:conformance&amp;gt;B&amp;lt;/pdfaid:conformance&amp;gt;
&amp;lt;/rdf:Description&amp;gt;&amp;lt;/rdf:RDF&amp;gt;&amp;lt;/x:xmpmeta&amp;gt;&amp;lt;?xpacket end=&quot;w&quot;?&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;+ I also attached three files found from $USER_HOME/.fontconfig directory which seem to be font cache files.&lt;/p&gt;</description>
                <environment>- OS : AIX Version 6.1&lt;br/&gt;
- JVM : Java(TM) SE Runtime Environment (build pap6460sr10fp1-20120321_01(SR10 FP1))&lt;br/&gt;
IBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 AIX ppc64-64 jvmap6460sr10fp1-20120202_101568 (JIT enabled, AOT enabled)&lt;br/&gt;
- Web Application base on Spring Framework 3.1</environment>
        <key id="12977497">PDFBOX-3377</key>
            <summary>font caching never stops in AIX</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="gerosyab">Donghe Youn</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Jun 2016 06:10:38 +0000</created>
                <updated>Sat, 24 Mar 2018 09:41:39 +0000</updated>
                            <resolved>Mon, 13 Nov 2017 16:58:30 +0000</resolved>
                                    <version>2.0.2</version>
                                    <fixVersion>2.0.9</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15324633" author="tilman" created="Fri, 10 Jun 2016 15:30:50 +0000"  >&lt;p&gt;PDFBox searches in these directories:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] { &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;user.home&quot;&lt;/span&gt;) + &lt;span class=&quot;code-quote&quot;&gt;&quot;/.fonts&quot;&lt;/span&gt;, &lt;span class=&quot;code-comment&quot;&gt;// user
&lt;/span&gt;                &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/fonts&quot;&lt;/span&gt;, &lt;span class=&quot;code-comment&quot;&gt;// local
&lt;/span&gt;                &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/share/fonts&quot;&lt;/span&gt;, &lt;span class=&quot;code-comment&quot;&gt;// local shared
&lt;/span&gt;                &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/share/fonts&quot;&lt;/span&gt;, &lt;span class=&quot;code-comment&quot;&gt;// system
&lt;/span&gt;                &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/X11R6/lib/X11/fonts&quot;&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// X&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;could you look in these whether they have subdirectories or links that somehow go back to the original one? &lt;/p&gt;

&lt;p&gt;Can you build from source and debug? If yes, please have a look into FontFileFinder.walk() and in the FileSystemFontProvider constructor.&lt;/p&gt;</comment>
                            <comment id="15326498" author="gerosyab" created="Sun, 12 Jun 2016 15:54:44 +0000"  >&lt;p&gt;I found symbolic link and wrong font files (some kind of properties file of font alias, scale with &quot;.ttf&quot; extension) in /usr/X11R6/lib/X11/fonts&lt;/p&gt;

&lt;p&gt;I moved those files and problem solved.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;WARN(FileSystemFontProvider.java)[2016-06-12 23:52:01,490]-TTF: &apos;Courier-ThaiA&apos; / &apos;Courier Thai&apos; / &apos;A&apos;
 WARN(FileSystemFontProvider.java)[2016-06-12 23:52:01,490]-@ FileSystemFontProvider.scanFonts() file : /usr/X11R6/lib/X11/fonts/TrueType/fonts.alias.ttf
 WARN(FileSystemFontProvider.java)[2016-06-12 23:52:01,490]-@ FileSystemFontProvider.scanFonts() file.getName() : fonts.alias.ttf
 WARN(FileSystemFontProvider.java)[2016-06-12 23:52:01,491]-@ FileSystemFontProvider.scanFonts() file.getPath() : /usr/X11R6/lib/X11/fonts/TrueType/fonts.alias.ttf
 WARN(FileSystemFontProvider.java)[2016-06-12 23:52:01,503]-Could not load font file: /usr/X11R6/lib/X11/fonts/TrueType/fonts.alias.ttf
java.io.EOFException
        at org.apache.fontbox.ttf.TTFDataStream.readUnsignedInt(TTFDataStream.java:152)
        at org.apache.fontbox.ttf.TTFParser.readTableDirectory(TTFParser.java:306)
        at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:139)
        at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:87)
        at org.apache.pdfbox.pdmodel.font.FileSystemFontProvider.addTrueTypeFont(FileSystemFontProvider.java:523)
        at org.apache.pdfbox.pdmodel.font.FileSystemFontProvider.scanFonts(FileSystemFontProvider.java:261)
        at org.apache.pdfbox.pdmodel.font.FileSystemFontProvider.&amp;lt;init&amp;gt;(FileSystemFontProvider.java:232)
        at org.apache.pdfbox.pdmodel.font.FontMapperImpl$DefaultFontProvider.&amp;lt;clinit&amp;gt;(FontMapperImpl.java:130)
        at java.lang.J9VMInternals.initializeImpl(Native Method)
        at java.lang.J9VMInternals.initialize(J9VMInternals.java:200)
        at org.apache.pdfbox.pdmodel.font.FontMapperImpl.getProvider(FontMapperImpl.java:149)
        at org.apache.pdfbox.pdmodel.font.FontMapperImpl.findFont(FontMapperImpl.java:413)
        at org.apache.pdfbox.pdmodel.font.FontMapperImpl.getCIDFont(FontMapperImpl.java:483)
        at org.apache.pdfbox.pdmodel.font.PDCIDFontType2.&amp;lt;init&amp;gt;(PDCIDFontType2.java:151)
        at org.apache.pdfbox.pdmodel.font.PDCIDFontType2.&amp;lt;init&amp;gt;(PDCIDFontType2.java:69)
        at org.apache.pdfbox.pdmodel.font.PDFontFactory.createDescendantFont(PDFontFactory.java:125)
        at org.apache.pdfbox.pdmodel.font.PDType0Font.&amp;lt;init&amp;gt;(PDType0Font.java:128)
        at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:83)
        at org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:123)
        at org.apache.pdfbox.contentstream.operator.text.SetFontAndSize.process(SetFontAndSize.java:60)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:815)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:472)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:446)
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:149)
        at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:189)
        at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:145)
        at org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:94)
        at kr.ac.snu.file.downloadHandler.DownloadHandler.testStreamDn(DownloadHandler.java:802)
        at kr.ac.snu.file.downloadHandler.DownloadHandler.StreamDn(DownloadHandler.java:182)
        at kr.ac.snu.file.downloadHandler.DownloadHandler.handleRequest(DownloadHandler.java:140)
        at org.springframework.web.context.support.HttpRequestHandlerServlet.service(HttpRequestHandlerServlet.java:67)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
        at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
        at jeus.servlet.filter.FilterChainImpl.internalDoFilter(FilterChainImpl.java:138)
        at jeus.servlet.filter.FilterChainImpl.doFilter(FilterChainImpl.java:90)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:368)
        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)
        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at jcf.snu.iam.filter.SnuExceptionTranslationFilter.doFilter(SnuExceptionTranslationFilter.java:56)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:97)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:100)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:78)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:35)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:177)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:187)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at jcf.snu.iam.customExtenalAuthProcessingHandler.SnuSsoAuthenticationFilter.doFilter(SnuSsoAuthenticationFilter.java:221)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:79)
        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:169)
        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
        at jeus.servlet.filter.FilterChainImpl.internalDoFilter(FilterChainImpl.java:121)
        at jeus.servlet.filter.FilterChainImpl.doFilter(FilterChainImpl.java:90)
        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
        at jeus.servlet.filter.FilterChainImpl.internalDoFilter(FilterChainImpl.java:121)
        at jeus.servlet.filter.FilterChainImpl.doFilter(FilterChainImpl.java:90)
        at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:205)
        at jeus.servlet.engine.WebtobRequestProcessor.run(WebtobRequestProcessor.java:253)
 WARN(FileSystemFontProvider.java)[2016-06-12 23:52:01,506]-@ FileSystemFontProvider.scanFonts() file : /usr/X11R6/lib/X11/fonts/TrueType/fonts.scale.ttf
 WARN(FileSystemFontProvider.java)[2016-06-12 23:52:01,507]-@ FileSystemFontProvider.scanFonts() file.getName() : fonts.scale.ttf

 WARN(FileSystemFontProvider.java)[2016-06-12 23:52:01,507]-@ FileSystemFontProvider.scanFonts() file.getPath() : 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15326500" author="gerosyab" created="Sun, 12 Jun 2016 16:00:08 +0000"  >&lt;p&gt;Issue was caused by file with font file extension which is not a font file.&lt;/p&gt;</comment>
                            <comment id="15326520" author="tilman" created="Sun, 12 Jun 2016 16:38:06 +0000"  >&lt;p&gt;If this ever happens again to another user, then we should add a loop detection.&lt;/p&gt;</comment>
                            <comment id="15361559" author="bfortin" created="Mon, 4 Jul 2016 16:33:46 +0000"  >&lt;p&gt;We are experiencing the same issue on AIX 7.1.0.0 (7100-03-05-1524). Our WAS servers are leaking threads every time this issue occurs.&lt;/p&gt;

&lt;p&gt;AIX does come with a few non-font files under /usr/X11R6/lib/X11/fonts/TrueType/, such as the one mentioned previously by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerosyab&quot; class=&quot;user-hover&quot; rel=&quot;gerosyab&quot;&gt;gerosyab&lt;/a&gt; (i.e. fonts.alias.ttf).&lt;/p&gt;

&lt;p&gt;These files are owned by AIX and are there by default, so deleting them or moving them is not a clean work-around, as it might cause issues with other applications. Also, I guess that patching the OS later down the line might copy back the files to their original location.&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t PDFBox validate the actual content of the file before trying to load it (ref. &lt;a href=&quot;http://stackoverflow.com/questions/2729038/is-there-a-java-library-equivalent-to-file-command-in-unix&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/2729038/is-there-a-java-library-equivalent-to-file-command-in-unix&lt;/a&gt;) and/or skip the file if it&apos;s not a valid font file?&lt;/p&gt;</comment>
                            <comment id="15361569" author="tilman" created="Mon, 4 Jul 2016 16:40:55 +0000"  >&lt;p&gt;Which is the problem you have? Endless loop, annoying output, or memory leak?&lt;/p&gt;</comment>
                            <comment id="15361593" author="bfortin" created="Mon, 4 Jul 2016 16:54:29 +0000"  >&lt;p&gt;I observe endless loop (JVM using 100% CPU). On every time the code executes, it ends up leaking a thread, since the previous loop didn&apos;t end.&lt;/p&gt;

&lt;p&gt;Having a quick log at the GC log, I don&apos;t see any memory usage issue in the heap. So I would say no memory leak, at least in the heap.&lt;/p&gt;

&lt;p&gt;No annoying output either.&lt;/p&gt;</comment>
                            <comment id="15361601" author="tilman" created="Mon, 4 Jul 2016 17:02:28 +0000"  >&lt;p&gt;Ok, so this suggests the problem I suspected earlier, i.e. a link that goes back. Are you able to test snapshot versions / jar files on your system?&lt;/p&gt;</comment>
                            <comment id="15361619" author="tilman" created="Mon, 4 Jul 2016 17:30:39 +0000"  >&lt;p&gt;Could you attach one of these fonts.alias.ttf files?&lt;/p&gt;</comment>
                            <comment id="15361623" author="bfortin" created="Mon, 4 Jul 2016 17:34:21 +0000"  >&lt;p&gt;Do you mean a recursive symbolic link?&lt;/p&gt;

&lt;p&gt;Out of these directories that are being scanned (/usr/local/fonts, /usr/local/share/fonts, /usr/share/fonts, /usr/X11R6/lib/X11/fonts), the only one that exists is the last one. It contains 22 symbolic links, but none of them are recursive.&lt;/p&gt;

&lt;p&gt;Yes I guess I can use some snapshot version of on this system.&lt;/p&gt;</comment>
                            <comment id="15361629" author="bfortin" created="Mon, 4 Jul 2016 17:37:01 +0000"  >&lt;p&gt;Sure. Done.&lt;/p&gt;</comment>
                            <comment id="15361649" author="jira-bot" created="Mon, 4 Jul 2016 17:58:28 +0000"  >&lt;p&gt;Commit 1751358 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1751358&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1751358&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3377&quot; title=&quot;font caching never stops in AIX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3377&quot;&gt;&lt;del&gt;PDFBOX-3377&lt;/del&gt;&lt;/a&gt;: exclude fonts.alias.ttf&lt;/p&gt;</comment>
                            <comment id="15361652" author="tilman" created="Mon, 4 Jul 2016 18:00:46 +0000"  >&lt;p&gt;A snapshot will be available within a few hours here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.3-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.3-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
Or build from source.&lt;/p&gt;

&lt;p&gt;This version will skip &quot;fonts.alias.ttf&quot;, and do a debug output of all font files being checked. You need to enable debugging in your log config. So if there is still an endless loop, please enable debugging and post your log.&lt;/p&gt;</comment>
                            <comment id="15361670" author="bfortin" created="Mon, 4 Jul 2016 18:10:16 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;However, there are different files with font extensions that are not actually fonts. Out of the &quot;*.ttf&quot; files:&lt;br/&gt;
/usr/X11R6/lib/X11/fonts/TrueType/complete/fonts.alias.ttf: ascii text&lt;br/&gt;
/usr/X11R6/lib/X11/fonts/TrueType/fonts.alias.ttf: ascii text&lt;br/&gt;
/usr/X11R6/lib/X11/fonts/TrueType/fonts.scale.ttf: ascii text&lt;/p&gt;

&lt;p&gt;Not sure what other file extensions are being checked?&lt;/p&gt;

&lt;p&gt;I am attaching the &quot;file&quot; command output for all files under /usr/X11R6/lib/X11/fonts/ (ref. font-files.aix), this should be useful.&lt;/p&gt;</comment>
                            <comment id="15361675" author="jira-bot" created="Mon, 4 Jul 2016 18:14:33 +0000"  >&lt;p&gt;Commit 1751365 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1751365&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1751365&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3377&quot; title=&quot;font caching never stops in AIX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3377&quot;&gt;&lt;del&gt;PDFBOX-3377&lt;/del&gt;&lt;/a&gt;: exclude fonts.*&lt;/p&gt;</comment>
                            <comment id="15361676" author="tilman" created="Mon, 4 Jul 2016 18:15:47 +0000"  >&lt;p&gt;Thanks, I have expanded the exclusion. I also tested your alias file here, I just got a stack trace and the work went on. Re using the &quot;file&quot; command, that is a command line utility so I can&apos;t use it.&lt;/p&gt;

&lt;p&gt;Checked extensions are ttf otf pfb and ttc .&lt;/p&gt;</comment>
                            <comment id="15361689" author="bfortin" created="Mon, 4 Jul 2016 18:29:42 +0000"  >&lt;p&gt;I actually provided the file command output so you have a better view of all the files that are in the font directory on an AIX box.&lt;/p&gt;

&lt;p&gt;That being said, I checked for .ttf, .otf, .pfb and .ttc files, and I confirm that the only ones that are ascii text are the 3 I provided earlier.&lt;/p&gt;

&lt;p&gt;Not sure why in your case you get a stack trace while it goes in an infinite loop on my system. We are running on WebSphere Application Server, on an IBM JVM, so that might be why.&lt;/p&gt;

&lt;p&gt;Thanks for the updated code, we will test it ASAP and report back. Probably tomorrow.&lt;/p&gt;</comment>
                            <comment id="15367796" author="tilman" created="Fri, 8 Jul 2016 15:15:26 +0000"  >&lt;p&gt;Any news on this?&lt;/p&gt;</comment>
                            <comment id="15367802" author="bfortin" created="Fri, 8 Jul 2016 15:24:09 +0000"  >&lt;p&gt;I asked the dev for an update. He told me that he still had the issue with the fix, though with a different stack trace, and 2 hung threads instead of 1.&lt;/p&gt;

&lt;p&gt;He tried to enable debug logging, but didn&apos;t figure out how to do it, so he ended up switching to another library :-/&lt;/p&gt;

&lt;p&gt;So on my side I can&apos;t really do much more than that as dev team decided to switch to something else.&lt;/p&gt;</comment>
                            <comment id="15367825" author="jira-bot" created="Fri, 8 Jul 2016 15:39:10 +0000"  >&lt;p&gt;Commit 1751926 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1751926&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1751926&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3377&quot; title=&quot;font caching never stops in AIX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3377&quot;&gt;&lt;del&gt;PDFBOX-3377&lt;/del&gt;&lt;/a&gt;: exclude fonts.*&lt;/p&gt;</comment>
                            <comment id="15367834" author="tilman" created="Fri, 8 Jul 2016 15:42:58 +0000"  >&lt;p&gt;LOL. I&apos;ll leave this open and wait for the next person. I doubt your dev will be happy with the other library - those other java libs I know do have free versions, but these have problems with fonts (if you&apos;re doing rendering). These are fixed in the commercial versions.&lt;/p&gt;</comment>
                            <comment id="15368951" author="tilman" created="Sat, 9 Jul 2016 05:21:22 +0000"  >&lt;p&gt;for the next person, here&apos;s how to enable debug logging with log4j for the command line utilities:&lt;br/&gt;
1) create a log4j.xml file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; ?&amp;gt;
&amp;lt;!DOCTYPE log4j:configuration SYSTEM &lt;span class=&quot;code-quote&quot;&gt;&quot;log4j.dtd&quot;&lt;/span&gt;&amp;gt;
&amp;lt;log4j:configuration debug=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; xmlns:log4j=&lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//jakarta.apache.org/log4j/&apos;&lt;/span&gt;&amp;gt;
&lt;/span&gt;        &amp;lt;appender name=&lt;span class=&quot;code-quote&quot;&gt;&quot;console&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.log4j.ConsoleAppender&quot;&lt;/span&gt;&amp;gt;
            &amp;lt;layout class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.log4j.PatternLayout&quot;&lt;/span&gt;&amp;gt;
                &amp;lt;param name=&lt;span class=&quot;code-quote&quot;&gt;&quot;ConversionPattern&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot;&lt;/span&gt; /&amp;gt;
            &amp;lt;/layout&amp;gt;
        &amp;lt;/appender&amp;gt;
        &amp;lt;root&amp;gt;
                &amp;lt;level value=&lt;span class=&quot;code-quote&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt; /&amp;gt;
                &amp;lt;appender-ref ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;console&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;/root&amp;gt;
&amp;lt;/log4j:configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(it might also work with a log4j.config file, but I didn&apos;t test that)&lt;br/&gt;
2) create a lib subdirectory and copy log4j-1.2.17.jar there&lt;br/&gt;
3) download snapshot from&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.3-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.3-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
4) call the command line application (here: PDFReader)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -Dlog4j.configuration=file:./log4j.xml  -Dsun.java2d.cmm=sun.java2d.cmm.kcms.KcmsServiceProvider -cp &lt;span class=&quot;code-quote&quot;&gt;&quot;pdfbox-app-2.0.3-SNAPSHOT.jar;lib/*&quot;&lt;/span&gt; org.apache.pdfbox.tools.PDFBox PDFReader 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16249776" author="dominik bauer" created="Mon, 13 Nov 2017 16:15:39 +0000"  >&lt;p&gt;We had the same Problem when we startet our Application in Tomcats running on AIX with a pdfbox version, which was lower than 2.0.2.&lt;br/&gt;
We updatet the pdfbox-version to 2.0.7 and that solved the problem. The Application starts now and the fix from above resolves the issue.&lt;/p&gt;

&lt;p&gt;The output of the LOG was:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
November 13th 2017, 16:49:46.876	New fonts found, font cache will be re-built
November 13th 2017, 16:49:46.878	Building on-disk font cache, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; may take a &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;
November 13th 2017, 16:49:46.893	Could not load font file: /usr/X11R6/lib/X11/fonts/TrueType/fonts.alias.ttf
November 13th 2017, 16:49:46.909	Finished building on-disk font cache, found 17 fonts
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16249821" author="tilman" created="Mon, 13 Nov 2017 16:58:44 +0000"  >&lt;p&gt;Thanks for the feedback!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12809383" name="68de07fa7ca17b70ec7172c2556bd148-be32d4.cache-3" size="88" author="gerosyab" created="Fri, 10 Jun 2016 07:03:21 +0000"/>
                            <attachment id="12809382" name="9d6f1acc9ed66d78bb8add084e50806e-be32d4.cache-3" size="38904" author="gerosyab" created="Fri, 10 Jun 2016 07:03:21 +0000"/>
                            <attachment id="12809384" name="fea7b2ab5b2729f392c3a28e504125e0-be32d4.cache-3" size="65264" author="gerosyab" created="Fri, 10 Jun 2016 07:03:21 +0000"/>
                            <attachment id="12816087" name="font-files-aix.txt" size="160994" author="bfortin" created="Mon, 4 Jul 2016 18:10:53 +0000"/>
                            <attachment id="12816075" name="fonts.alias.ttf" size="16297" author="bfortin" created="Mon, 4 Jul 2016 17:36:49 +0000"/>
                            <attachment id="12809379" name="pdfbox377219359369560029tmp" size="146783" author="gerosyab" created="Fri, 10 Jun 2016 06:56:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2z9p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>