<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:51:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5972] Infinite loop in fontbox o.a.f.cmap.CMapParser#readNumber</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5972</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The sample document attached goes into an infinite loop in o.a.f.CMapParser.readNumber.&lt;/p&gt;

&lt;p&gt;The attached document was created from proprietary content by using o.a.p.tools.PDFSplit and o.a.p.tools.WriteDecodedDoc, so that we could remove the proprietary content more easily.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The very short stream at line 225/226 happens to end with &apos;6&apos;, and this makes the current readNumber routine rewind the EOF, and leaves it unable to progress.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here is a patch that seems to fix this issue by not rewinding EOF. All existing unit tests still pass with this patch (diff -w), and the sample document exhibits normal behavior.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;--- a/fontbox/src/main/java/org/apache/fontbox/cmap/CMapParser.java
+++ b/fontbox/src/main/java/org/apache/fontbox/cmap/CMapParser.java
@@ -652,7 +652,10 @@ public class CMapParser
&#160;&#160; &#160; &#160; &#160; &#160; &#160; buffer.append((char) nextByte);
&#160;&#160; &#160; &#160; &#160; &#160; &#160; nextByte = randomAcccessRead.read();
&#160;&#160; &#160; &#160; &#160; }
+&#160; &#160; &#160; &#160; if (nextByte != -1)
+&#160; &#160; &#160; &#160; {
&#160;&#160; &#160; &#160; &#160; &#160; &#160; randomAcccessRead.rewind(1);
+&#160; &#160; &#160; &#160; }
&#160;&#160; &#160; &#160; &#160; String value = buffer.toString();
&#160;&#160; &#160; &#160; &#160; try
&#160;&#160; &#160; &#160; &#160; { &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13611255">PDFBOX-5972</key>
            <summary>Infinite loop in fontbox o.a.f.cmap.CMapParser#readNumber</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="mflester">Michael Flester</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Mar 2025 12:54:30 +0000</created>
                <updated>Thu, 1 May 2025 16:58:48 +0000</updated>
                            <resolved>Mon, 10 Mar 2025 13:16:13 +0000</resolved>
                                    <version>3.0.3 PDFBox</version>
                    <version>3.0.4 PDFBox</version>
                                    <fixVersion>3.0.5 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17933881" author="jira-bot" created="Mon, 10 Mar 2025 13:08:48 +0000"  >&lt;p&gt;Commit 1924270 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1924270&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1924270&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5972&quot; title=&quot;Infinite loop in fontbox o.a.f.cmap.CMapParser#readNumber&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5972&quot;&gt;&lt;del&gt;PDFBOX-5972&lt;/del&gt;&lt;/a&gt;: avoid infinite loop, as suggested by Michael Flester&lt;/p&gt;</comment>
                            <comment id="17933882" author="jira-bot" created="Mon, 10 Mar 2025 13:08:51 +0000"  >&lt;p&gt;Commit 1924271 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1924271&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1924271&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5972&quot; title=&quot;Infinite loop in fontbox o.a.f.cmap.CMapParser#readNumber&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5972&quot;&gt;&lt;del&gt;PDFBOX-5972&lt;/del&gt;&lt;/a&gt;: avoid infinite loop, as suggested by Michael Flester&lt;/p&gt;</comment>
                            <comment id="17933887" author="tilman" created="Mon, 10 Mar 2025 13:16:13 +0000"  >&lt;p&gt;Thanks for the contribution and the work finding and fixing this!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13075360" name="sample-decoded.pdf" size="153179" author="mflester" created="Mon, 10 Mar 2025 12:52:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1uodc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>