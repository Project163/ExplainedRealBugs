<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:50:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5081] CFFParser.ByteSource.readRealNumber can better throw IOException</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5081</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The code is as follows:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt; readRealNumber(CFFDataInput input, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b0) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
    {
        StringBuilder sb = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringBuilder();
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; done = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; exponentMissing = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; hasExponent = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!done)
        {
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b = input.readUnsignedByte();
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] nibbles = { b / 16, b % 16 };
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; nibble : nibbles)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; (nibble)
                {
                &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; 0x0:
                ...
 &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
                    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException();
                }
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (exponentMissing)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// the exponent is missing, just append &lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; to avoid an exception
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// not sure &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; 0 is the correct value, but it seems to fit
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// see PDFBOX-1522
&lt;/span&gt;            sb.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sb.length() == 0)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0d;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;.valueOf(sb.toString());
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (NumberFormatException ex)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(ex);
        }
    }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The while statement reads from input and checks&#160;nibble. If nibble is not as expected, the above code throws&#160;IllegalArgumentException. In similar situations, it is more reasonable to throw&#160;IOException. In addition, it is useful to debug, if the thrown exception contain the current&#160;nibble.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13352621">PDFBOX-5081</key>
            <summary>CFFParser.ByteSource.readRealNumber can better throw IOException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="haozhong">Hao Zhong</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Jan 2021 08:51:23 +0000</created>
                <updated>Fri, 19 Mar 2021 15:41:49 +0000</updated>
                            <resolved>Wed, 20 Jan 2021 18:55:37 +0000</resolved>
                                    <version>1.8.16</version>
                    <version>2.0.22</version>
                                    <fixVersion>2.0.23</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17266552" author="tilman" created="Sat, 16 Jan 2021 10:20:40 +0000"  >&lt;p&gt;My understanding is that this can&apos;t happen, because a nibble is between 0 and 0xF. So if it would happen, then it would be a programming error.&lt;/p&gt;</comment>
                            <comment id="17268781" author="jira-bot" created="Wed, 20 Jan 2021 18:53:41 +0000"  >&lt;p&gt;Commit 1885725 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885725&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885725&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5081&quot; title=&quot;CFFParser.ByteSource.readRealNumber can better throw IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5081&quot;&gt;&lt;del&gt;PDFBOX-5081&lt;/del&gt;&lt;/a&gt;: add exception message&lt;/p&gt;</comment>
                            <comment id="17268782" author="jira-bot" created="Wed, 20 Jan 2021 18:53:44 +0000"  >&lt;p&gt;Commit 1885726 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885726&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885726&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5081&quot; title=&quot;CFFParser.ByteSource.readRealNumber can better throw IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5081&quot;&gt;&lt;del&gt;PDFBOX-5081&lt;/del&gt;&lt;/a&gt;: add exception message&lt;/p&gt;</comment>
                            <comment id="17268783" author="jira-bot" created="Wed, 20 Jan 2021 18:54:22 +0000"  >&lt;p&gt;Commit 1885727 from Tilman Hausherr in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885727&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885727&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5081&quot; title=&quot;CFFParser.ByteSource.readRealNumber can better throw IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5081&quot;&gt;&lt;del&gt;PDFBOX-5081&lt;/del&gt;&lt;/a&gt;: add exception message&lt;/p&gt;</comment>
                            <comment id="17268785" author="tilman" created="Wed, 20 Jan 2021 18:55:37 +0000"  >&lt;p&gt;Keeping the exception type as mentioned, but I added a message and a comment, thanks for the suggestion.&lt;/p&gt;</comment>
                            <comment id="17268807" author="jira-bot" created="Wed, 20 Jan 2021 19:12:46 +0000"  >&lt;p&gt;Commit 1885729 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885729&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885729&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5081&quot; title=&quot;CFFParser.ByteSource.readRealNumber can better throw IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5081&quot;&gt;&lt;del&gt;PDFBOX-5081&lt;/del&gt;&lt;/a&gt;: refactor to improve nonce uniqueness&lt;/p&gt;</comment>
                            <comment id="17268808" author="jira-bot" created="Wed, 20 Jan 2021 19:12:48 +0000"  >&lt;p&gt;Commit 1885730 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885730&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5081&quot; title=&quot;CFFParser.ByteSource.readRealNumber can better throw IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5081&quot;&gt;&lt;del&gt;PDFBOX-5081&lt;/del&gt;&lt;/a&gt;: refactor to improve nonce uniqueness&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mneg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>