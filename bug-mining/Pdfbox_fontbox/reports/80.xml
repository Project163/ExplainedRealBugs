<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:49:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2169] NPE in PDTrueTypeFont.makeFontDescriptor</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2169</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The attached file brings this exception when rendering or when extracting text&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.NullPointerException
	at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.makeFontDescriptor(PDTrueTypeFont.java:161)
	at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.getFontDescriptor(PDTrueTypeFont.java:150)
	at org.apache.pdfbox.pdmodel.font.PDFont.getFontWidth(PDFont.java:814)
	at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.getFontWidth(PDTrueTypeFont.java:382)
	at org.apache.pdfbox.pdmodel.font.PDFont.getFontWidth(PDFont.java:312)
	at org.apache.pdfbox.util.PDFStreamEngine.processEncodedText(PDFStreamEngine.java:377)
	at org.apache.pdfbox.util.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.ShowText.process(ShowText.java:44)
	at org.apache.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:508)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12724304">PDFBOX-2169</key>
            <summary>NPE in PDTrueTypeFont.makeFontDescriptor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jun 2014 20:28:39 +0000</created>
                <updated>Thu, 17 Mar 2016 19:38:32 +0000</updated>
                            <resolved>Tue, 1 Jul 2014 03:51:06 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14048373" author="jahewson" created="Tue, 1 Jul 2014 00:40:46 +0000"  >&lt;p&gt;What we&apos;re seeing here is that now that TrueType fonts are being loaded from disk we&apos;re encountering bugs in the original implementation of PDTrueType font. Fixing this properly requires refactoring PDFont which is underway in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2149&quot; title=&quot;Font Refactoring&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2149&quot;&gt;&lt;del&gt;PDFBOX-2149&lt;/del&gt;&lt;/a&gt;. For now I added a workaround in &lt;a href=&quot;http://svn.apache.org/r1606956&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1606956&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14048448" author="jahewson" created="Tue, 1 Jul 2014 02:51:17 +0000"  >&lt;p&gt;So it turns out that this fix breaks the Jenkins build due to it not having any fallback TTF fonts installed.&lt;/p&gt;</comment>
                            <comment id="14048454" author="jahewson" created="Tue, 1 Jul 2014 02:59:46 +0000"  >&lt;p&gt;I did some refactoring in &lt;a href=&quot;http://svn.apache.org/r1606970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1606970&lt;/a&gt;, there was some confusion due to having two FontManager classes, I&apos;ve renamed these to SystemFontManager and PDFFontManager. I expect that there will still be issues with Jenkins, but I&apos;d like to get the correct exception at least, which should be &quot;Could not find TTF fallback font on the system&quot;.&lt;/p&gt;</comment>
                            <comment id="14048465" author="jahewson" created="Tue, 1 Jul 2014 03:35:01 +0000"  >&lt;p&gt;Ok, I got the correct error message from Jenkins, which indicates that there are no TTF fonts installed on the system to use as a fallback. I&apos;ve therefore added a &quot;last resort&quot; built-in TTF fallback font, &lt;a href=&quot;http://en.wikipedia.org/wiki/Nimbus_Sans#Nimbus_Sans_L&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Nimbus Sans L&lt;/a&gt;, which is a clone of Adobe&apos;s Helvetica.&lt;/p&gt;

&lt;p&gt;Nimbus Sans L is under the LPPL license which appears to be compatible with Apache requirements, see below:&lt;/p&gt;

&lt;p&gt;Fonts are under LPPL as of 2009: &lt;a href=&quot;http://www.tug.org/fonts/lppl-urw.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.tug.org/fonts/lppl-urw.txt&lt;/a&gt;&lt;br/&gt;
Fonts mentioned in above link: &lt;a href=&quot;http://svn.ghostscript.com/ghostscript/trunk/urw-fonts/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.ghostscript.com/ghostscript/trunk/urw-fonts/&lt;/a&gt;&lt;br/&gt;
Text of the LPPL: &lt;a href=&quot;http://en.wikipedia.org/wiki/LaTeX_Project_Public_License&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/LaTeX_Project_Public_License&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I converted the Type 1 font to TTF using FontForge and added it in &lt;a href=&quot;http://svn.apache.org/r1606972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1606972&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14048565" author="tilman" created="Tue, 1 Jul 2014 06:19:28 +0000"  >&lt;p&gt;&lt;del&gt;There&apos;s a difference now in the rendering of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2149&quot; title=&quot;Font Refactoring&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2149&quot;&gt;&lt;del&gt;PDFBOX-2149&lt;/del&gt;&lt;/a&gt;. The part on the top above the line, previously it was done with a serif font, now it is done with a fallback font.&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;uh - ignore this for now. Maybe this is because of changes I did locally and that were in PageDrawer, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1701&quot; title=&quot;Better font than the standard font&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1701&quot;&gt;&lt;del&gt;PDFBOX-1701&lt;/del&gt;&lt;/a&gt;. I see you&apos;re handling this in getTrueTypeFallbackFont() now.&lt;/p&gt;</comment>
                            <comment id="14048732" author="lehmi" created="Tue, 1 Jul 2014 10:30:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; IANAL but according to the &lt;a href=&quot;http://www.latex-project.org/lppl.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;license&lt;/a&gt; those fonts can only be used unmodified. You are using a modified version, as you just picked one font out of 35 and you derived a new version of the font by using font forge. If my assumption is correct we are not allowed to add such files to svn, see &lt;a href=&quot;http://www.apache.org/legal/resolved.html#no-modification&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;previously answered questions&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14048751" author="oneiros" created="Tue, 1 Jul 2014 10:51:45 +0000"  >&lt;p&gt;AFAIK LPPL allows distribution of modified works &lt;em&gt;if&lt;/em&gt; the files are renamed (see section 6 of the LPPL). But it&apos;s probably best to ask the copyright holder, i.e. URW++ (or Artifex) for clarification.&lt;/p&gt;</comment>
                            <comment id="14049015" author="jahewson" created="Tue, 1 Jul 2014 16:19:24 +0000"  >&lt;p&gt;Yep, the licensing situation around the LPPL is more complex than I&apos;d hoped. I think I may have found a better solution, the &lt;a href=&quot;https://fedorahosted.org/liberation-fonts/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Liberation fonts&lt;/a&gt; are now under the &lt;a href=&quot;http://scripts.sil.org/cms/scripts/page.php?item_id=OFL_web&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SIL Open Font License, Version 1.1&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The only questionable part is as follows:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The OFL allows the licensed fonts to be used, studied, modified and redistributed freely as long as they are not sold by themselves.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Any thoughts?&lt;/p&gt;</comment>
                            <comment id="14049022" author="lehmi" created="Tue, 1 Jul 2014 16:25:29 +0000"  >&lt;p&gt;The SIL Open Font License shouldn&apos;t be a problem, it&apos;s a &lt;a href=&quot;http://www.apache.org/legal/resolved.html#category-b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;category-b&lt;/a&gt; license. Please, don&apos;t forget to mention it in the NOTICE file&lt;/p&gt;</comment>
                            <comment id="14049045" author="jahewson" created="Tue, 1 Jul 2014 16:38:00 +0000"  >&lt;p&gt;What do I need to put in the NOTICE file? I don&apos;t see any attribution requirements in the SIL Open Font License.&lt;/p&gt;</comment>
                            <comment id="14049080" author="lehmi" created="Tue, 1 Jul 2014 17:12:01 +0000"  >&lt;p&gt;Ups, my bad. I&apos;m talking about the README and the LICENSE files and not the NOTICE file. &lt;/p&gt;

&lt;p&gt;BTW: I&apos;ve updated the README and the LICENSE file and removed some information about adobes glyphlist and ICU4J. Both aren&apos;t used anymore.&lt;/p&gt;</comment>
                            <comment id="14049509" author="jahewson" created="Wed, 2 Jul 2014 01:24:57 +0000"  >&lt;p&gt;I&apos;ve replaced Nimbus Sans L with Liberation Sans in &lt;a href=&quot;http://svn.apache.org/r1607223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1607223&lt;/a&gt; and updated the LICENSE file.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12724212">PDFBOX-2167</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12722334">PDFBOX-2149</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12653026" name="000153.pdf" size="2189678" author="tilman" created="Sat, 28 Jun 2014 20:30:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x9zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>