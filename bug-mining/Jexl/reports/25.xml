<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:57:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JEXL-101] Vararg methods where the first argument is no vararg can not be called with only the fixed parameters given</title>
                <link>https://issues.apache.org/jira/browse/JEXL-101</link>
                <project id="12310479" key="JEXL">Commons JEXL</project>
                    <description>&lt;p&gt;When you have a public String testVarArgsMixed(Integer fixed, Integer[] args) in a class Test, put a test instance in the context and evaluate the expression test.testVarArgsMixed(1), the MethodExecutor is not able to find the method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12463428">JEXL-101</key>
            <summary>Vararg methods where the first argument is no vararg can not be called with only the fixed parameters given</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henrib">Henri Biestro</assignee>
                                    <reporter username="tobiasschulte">Tobias Schulte</reporter>
                        <labels>
                            <label>varargs</label>
                    </labels>
                <created>Fri, 30 Apr 2010 12:52:03 +0000</created>
                <updated>Wed, 14 Dec 2011 09:32:43 +0000</updated>
                            <resolved>Sat, 1 May 2010 09:51:08 +0000</resolved>
                                    <version>2.0.1</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12862658" author="tobiasschulte" created="Fri, 30 Apr 2010 12:53:44 +0000"  >&lt;p&gt;This patch fixes the issue. &lt;/p&gt;</comment>
                            <comment id="12862823" author="henrib" created="Fri, 30 Apr 2010 19:28:36 +0000"  >&lt;p&gt;Good catch and thanks for the patch.&lt;/p&gt;

&lt;p&gt;There are in facts 2 causes:&lt;br/&gt;
The varargs handling in MethodExecutor.handleVarArgs which does not property address all cases (number parms, number args, null).&lt;br/&gt;
But also the compatibility check made performed by MethodKey.isApplicable which does not cover check the type of parameters before the vararg.&lt;br/&gt;
I should commit a fix in the trunk soon.&lt;/p&gt;</comment>
                            <comment id="12863002" author="henrib" created="Sat, 1 May 2010 09:51:08 +0000"  >&lt;p&gt;Committed revision 939962.&lt;br/&gt;
src/test/java/org/apache/commons/jexl2/MethodTest.java&lt;br/&gt;
src/main/java/org/apache/commons/jexl2/internal/MethodExecutor.java&lt;br/&gt;
src/main/java/org/apache/commons/jexl2/internal/introspection/MethodKey.java&lt;/p&gt;</comment>
                            <comment id="12863255" author="tobiasschulte" created="Mon, 3 May 2010 07:08:32 +0000"  >&lt;p&gt;But in Java, when you make a vararg call, the args-array will never be null. The only way to have args be null, would be in calling &lt;/p&gt;

&lt;p&gt;test.callMixed(1, (Integer[])null);&lt;/p&gt;

&lt;p&gt;Especially, when calling&lt;/p&gt;

&lt;p&gt;test.callMixed(1, null);&lt;/p&gt;

&lt;p&gt;I would expect args to be an array of length one with null as element (and in the case of testCallMixedVarArgMethod a NullPointerException). &lt;/p&gt;</comment>
                            <comment id="12863257" author="joehni" created="Mon, 3 May 2010 07:55:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;But in Java, when you make a vararg call, the args-array will never be null.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is wrong.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;test.callMixed(1);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With this call the args array is null.&lt;/p&gt;</comment>
                            <comment id="12863259" author="tobiasschulte" created="Mon, 3 May 2010 08:06:32 +0000"  >&lt;p&gt;In the debugger of my IDE (Eclipse 3.5.1) when I step through&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;test.callMixed(1);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the args-array is an empty array. &lt;/p&gt;</comment>
                            <comment id="12863274" author="tobiasschulte" created="Mon, 3 May 2010 08:42:05 +0000"  >&lt;p&gt;I wanted to give another example, that shows the real problem, but it seems that java.util.Formatter, where i thought would be a problem, itself is not consistent.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;formatter.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;%1$s&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;outputs &quot;null&quot;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;formatter.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;%1$s %2$s %3$s&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;outputs &quot;null null null&quot; (but should throw a MissingFormatArgumentException, at least if I understand the documentation correctly)&lt;/p&gt;

&lt;p&gt;but&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;formatter.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;%1$s %2$s %3$s&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;throws a MissingFormatArgumentException. &lt;/p&gt;

&lt;p&gt;Since we are using formatters I thought your optimization in MethodExecutor would cause MissingFormatArgumentExceptions, which it does not seem to do.&lt;/p&gt;

&lt;p&gt;But nontheless I would expect callMixed(1, null) to be equal to callMixed(1, new Integer[]&lt;/p&gt;
{null}
&lt;p&gt;).&lt;/p&gt;</comment>
                            <comment id="12863275" author="tobiasschulte" created="Mon, 3 May 2010 08:46:23 +0000"  >&lt;p&gt;OK, you are right, &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;test.callMixed(1, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;calls the method with args being null. I was sure, it would be an array of size 1. &lt;/p&gt;

&lt;p&gt;OK: in&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; value = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
test.callMixed(1, value);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;args is an array of size 1 with args&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; == null. Learned something new today. &lt;/p&gt;</comment>
                            <comment id="12863399" author="henrib" created="Mon, 3 May 2010 16:45:04 +0000"  >&lt;p&gt;revision 940507: added explicit comments in MethodExecutor and specific test in MethodTest.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12443286" name="jexl-varargs.patch" size="5147" author="tobiasschulte" created="Fri, 30 Apr 2010 12:53:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46635</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0xpdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>194749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>