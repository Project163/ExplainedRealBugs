<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:57:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JEXL-44] Comments don&apos;t allow double-quotes</title>
                <link>https://issues.apache.org/jira/browse/JEXL-44</link>
                <project id="12310479" key="JEXL">Commons JEXL</project>
                    <description>&lt;p&gt;Comment lines should allow any characters; however for some reason double-quotes are not allowed.&lt;br/&gt;
Single quotes are OK.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395913">JEXL-44</key>
            <summary>Comments don&apos;t allow double-quotes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henrib">Henri Biestro</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 May 2008 12:40:22 +0000</created>
                <updated>Thu, 3 Sep 2009 15:33:16 +0000</updated>
                            <resolved>Thu, 3 Sep 2009 15:33:16 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12732567" author="henrib" created="Fri, 17 Jul 2009 15:03:20 +0000"  >&lt;p&gt;Fixed in 2.0 by adding C style comments in syntax .&lt;/p&gt;</comment>
                            <comment id="12732644" author="rahul@apache.org" created="Fri, 17 Jul 2009 18:01:59 +0000"  >&lt;p&gt;This should be fixed in the 2.0 branch in SVN. Please try it out (by building the branch) and if further work is needed, reopen this issue with a complete JUnit test that fails.&lt;/p&gt;</comment>
                            <comment id="12750757" author="sebb@apache.org" created="Thu, 3 Sep 2009 00:57:48 +0000"  >&lt;p&gt;Single-line ## comments still don&apos;t allow &quot;, for example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test44() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        JEXL.createExpression(&lt;span class=&quot;code-quote&quot;&gt;&quot;## &lt;span class=&quot;code-quote&quot;&gt;&apos;comment&apos;&lt;/span&gt;\n&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// OK
&lt;/span&gt;        JEXL.createExpression(&lt;span class=&quot;code-quote&quot;&gt;&quot;## \&quot;&lt;/span&gt;comment\&lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt;);  &lt;span class=&quot;code-comment&quot;&gt;// fails Lexical error at line 1, column 4.  Encountered: &lt;span class=&quot;code-quote&quot;&gt;&quot;\&quot;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot; (34), after : &quot;&lt;/span&gt;## &quot;
&lt;/span&gt;}  
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I would expect ## and // to behave identically; however the parser specifically does not allow double-quote after ##.&lt;br/&gt;
It&apos;s not clear why, as the syntax document does not mention anything special about double-quotes.&lt;br/&gt;
I think this is probably a bug.&lt;/p&gt;

&lt;p&gt;==&lt;/p&gt;

&lt;p&gt;Note that the trailing &quot;\n&quot; is necessary, otherwise the test fails with:&lt;/p&gt;

&lt;p&gt;Lexical error at line 1, column 13.  Encountered: &amp;lt;EOF&amp;gt; after : &quot;## \&apos;comment\&apos;&quot;&lt;/p&gt;

&lt;p&gt;Seems to me that &amp;lt;EOF&amp;gt; should be allowed to terminate a single-line comment.&lt;/p&gt;</comment>
                            <comment id="12750772" author="sebb@apache.org" created="Thu, 3 Sep 2009 01:43:58 +0000"  >&lt;p&gt;Also just noticed that &quot;##&quot; does not check for the &quot;\r\n&quot; combination, whereas &quot;//&quot; does.&lt;/p&gt;</comment>
                            <comment id="12750814" author="henrib" created="Thu, 3 Sep 2009 04:11:35 +0000"  >&lt;p&gt;As for why the behavior is not (yet) the same, the ## was left as is because it looked like a Velocity legacy; the // was added to fix the original issue with no disruption.&lt;br/&gt;
If we are to change the behavior, may be having only one syntax for single-line comment (the //) would be clearer ?&lt;/p&gt;

&lt;p&gt;Btw,&lt;br/&gt;
URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=810815&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=810815&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log: &lt;br/&gt;
Allow single line comment // to end on EOF; add test &lt;/p&gt;

&lt;p&gt;Modified: &lt;br/&gt;
    commons/proper/jexl/branches/2.0/src/main/java/org/apache/commons/jexl/parser/Parser.jjt &lt;br/&gt;
    commons/proper/jexl/branches/2.0/src/test/java/org/apache/commons/jexl/IssuesTest.java &lt;/p&gt;

</comment>
                            <comment id="12750969" author="sebb@apache.org" created="Thu, 3 Sep 2009 11:07:27 +0000"  >&lt;p&gt;I&apos;ve just had a look at the Velocity doc - &lt;a href=&quot;http://velocity.apache.org/engine/devel/user-guide.html#Comments&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://velocity.apache.org/engine/devel/user-guide.html#Comments&lt;/a&gt; - and &quot;##&quot; is a single-line comment.&lt;br/&gt;
However, AFAICT, it does not treat double-quote specially, so why does JEXL do so?&lt;br/&gt;
Indeed there seems to be no way to make a valid script once a double-quote is detected inside a ## comment.&lt;/p&gt;

&lt;p&gt;-1 to dropping &quot;##&quot; as a comment marker, that migh break lots of scripts.&lt;/p&gt;</comment>
                            <comment id="12751056" author="henrib" created="Thu, 3 Sep 2009 15:33:16 +0000"  >
&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=810994&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=810994&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log: &lt;br/&gt;
Allow single line comment ## to behave like //; add test &lt;/p&gt;

&lt;p&gt;Modified: &lt;br/&gt;
    commons/proper/jexl/branches/2.0/src/main/java/org/apache/commons/jexl/parser/Parser.jjt &lt;br/&gt;
    commons/proper/jexl/branches/2.0/src/test/java/org/apache/commons/jexl/IssuesTest.java &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0xqnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>194956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>