<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:58:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JEXL-240] Unable to invoke a call operator using antish style variable resoltion</title>
                <link>https://issues.apache.org/jira/browse/JEXL-240</link>
                <project id="12310479" key="JEXL">Commons JEXL</project>
                    <description>&lt;p&gt;Suppose I have declared an antish style context variable under the name &lt;tt&gt;java.math.BigDecimal&lt;/tt&gt; of the &lt;tt&gt;Class&amp;lt;java.math.BigDecimal&amp;gt;&lt;/tt&gt; type.&lt;/p&gt;

&lt;p&gt;To test that it works correctly I use the following script&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; x = java.math.BigDecimal; x(&lt;span class=&quot;code-quote&quot;&gt;&quot;1234&quot;&lt;/span&gt;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; which returns correct value.&lt;/p&gt;

&lt;p&gt;Now I want to invoke an overloaded call operator directly for this variable using &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.math.BigDecimal(&lt;span class=&quot;code-quote&quot;&gt;&quot;1234&quot;&lt;/span&gt;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;

&lt;p&gt;which returns an error &lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;undefined variable java.math&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The expected behaviour is to return the same value as in the first script.&lt;/p&gt;

&lt;p&gt;I have created a test case for this, please have a look.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13105772">JEXL-240</key>
            <summary>Unable to invoke a call operator using antish style variable resoltion</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henrib">Henri Biestro</assignee>
                                    <reporter username="dmitri_blinov">Dmitri Blinov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Sep 2017 14:43:19 +0000</created>
                <updated>Mon, 7 Jun 2021 13:14:19 +0000</updated>
                            <resolved>Fri, 27 Oct 2017 15:12:18 +0000</resolved>
                                    <version>3.1</version>
                                    <fixVersion>3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16185523" author="henrib" created="Fri, 29 Sep 2017 08:49:33 +0000"  >&lt;p&gt;Thanks for reporting the issue.&lt;br/&gt;
As a temporary workaround, you can expose &apos;packages&apos; in your context instead of classes.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Package {
        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; pkg;
        Package(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; pkg) {
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.pkg = pkg;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; get(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ClassNotFoundException {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Package.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader().loadClass(pkg + &lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt; + name);
        }
    }
...
jc.set(&lt;span class=&quot;code-quote&quot;&gt;&quot;java.math&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Package(&lt;span class=&quot;code-quote&quot;&gt;&quot;java.math&quot;&lt;/span&gt;));
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16194658" author="henrib" created="Fri, 6 Oct 2017 14:33:28 +0000"  >&lt;p&gt;Expose the Jexl engine evaluating a script/expression as a thread local;&lt;br/&gt;
Make classes functors, ie class(arg) will attempt to call a ctor, a simpler version of new(class, arg);&lt;br/&gt;
Fix antish variable resolution when used as method/function call; &lt;/p&gt;

&lt;p&gt;src/main/java/org/apache/commons/jexl3/JexlEngine.java&lt;br/&gt;
src/main/java/org/apache/commons/jexl3/internal/Engine.java&lt;br/&gt;
src/main/java/org/apache/commons/jexl3/internal/Interpreter.java&lt;br/&gt;
src/test/java/org/apache/commons/jexl3/AntishCallTest.java&lt;/p&gt;

&lt;p&gt;Committed revision 1811336.&lt;/p&gt;</comment>
                            <comment id="16222525" author="henrib" created="Fri, 27 Oct 2017 15:09:32 +0000"  >&lt;p&gt;Using classes (objects) as usable functors to create instances breaks the ability to statically determine whether a script attempts to create objects. Since implementing the feature is only one overload away in JexlContext, I&apos;m reverting to the original behavior.&lt;/p&gt;</comment>
                            <comment id="16222528" author="henrib" created="Fri, 27 Oct 2017 15:12:18 +0000"  >&lt;p&gt;src/main/java/org/apache/commons/jexl3/internal/Interpreter.java&lt;br/&gt;
src/test/java/org/apache/commons/jexl3/AntishCallTest.java&lt;/p&gt;

&lt;p&gt;Committed revision 1813542.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12889502" name="AntishCallTest.java" size="2485" author="dmitri_blinov" created="Thu, 28 Sep 2017 14:44:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ko27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>