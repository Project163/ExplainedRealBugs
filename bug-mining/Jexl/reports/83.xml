<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:58:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JEXL-227] JexlScriptEngineFactory.getEngineVersion() should return actual version, ie 3.1 as of reporting</title>
                <link>https://issues.apache.org/jira/browse/JEXL-227</link>
                <project id="12310479" key="JEXL">Commons JEXL</project>
                    <description>&lt;p&gt;JexlScriptEngineFactory.getEngineVersion() reports &quot;3.0&quot; as a script engine version in 3.1&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getEngineVersion() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;3.0&quot;&lt;/span&gt;; &lt;span class=&quot;code-comment&quot;&gt;// ensure &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is updated &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; function changes are made to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; class
&lt;/span&gt;    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13081115">JEXL-227</key>
            <summary>JexlScriptEngineFactory.getEngineVersion() should return actual version, ie 3.1 as of reporting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henrib">Henri Biestro</assignee>
                                    <reporter username="dmitri_blinov">Dmitri Blinov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jun 2017 12:13:39 +0000</created>
                <updated>Mon, 7 Jun 2021 13:14:37 +0000</updated>
                            <resolved>Sat, 1 Jul 2017 14:55:47 +0000</resolved>
                                    <version>3.1</version>
                                    <fixVersion>3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16057388" author="kinow" created="Wed, 21 Jun 2017 12:16:10 +0000"  >&lt;p&gt;Felt tempted to quickly fix and commit. But then realized there are two methods with 3.0: #getEngineVersion and #getLanguageVersion.&lt;/p&gt;

&lt;p&gt;Not sure if we should update both, or one and not the other, or update only with major releases... Will wait to see if someone else knows (maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=henrib&quot; class=&quot;user-hover&quot; rel=&quot;henrib&quot;&gt;henrib&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ebourg&quot; class=&quot;user-hover&quot; rel=&quot;ebourg&quot;&gt;ebourg&lt;/a&gt;?) more about these methods, and then maybe we could override the javadoc (or complement, and use that inheritDoc tag too if necessary) saying what to do / why.&lt;/p&gt;

&lt;p&gt;Cheers&lt;br/&gt;
Bruno&lt;/p&gt;</comment>
                            <comment id="16057653" author="henrib" created="Wed, 21 Jun 2017 15:03:27 +0000"  >&lt;p&gt;Since we&apos;ve introduced new syntactic elements in 3.1 (side effect operators), I&apos;d bump the language version to 3.1. However, releasing a new version will change the version number so #getEngineVersion should return 3.1.1 (probably).&lt;br/&gt;
Need to fix a few other bugs/enh before attempting release though.&lt;/p&gt;</comment>
                            <comment id="16058343" author="kinow" created="Wed, 21 Jun 2017 22:12:38 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; thanks for the explanation Henri!&lt;/p&gt;

&lt;p&gt;From the Javadocs of the parent&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    /**
     * Returns the version of the scripting language supported by &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
     * &amp;lt;code&amp;gt;ScriptEngine&amp;lt;/code&amp;gt;.
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; The version of the supported language.
     */
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getLanguageVersion();

    /**
     * Returns the version of the &amp;lt;code&amp;gt;ScriptEngine&amp;lt;/code&amp;gt;.
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; The &amp;lt;code&amp;gt;ScriptEngine&amp;lt;/code&amp;gt; implementation version.
     */
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getEngineVersion();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So I think #getEngineVersionmust match the version in pom.xml, and #getLanguageVersion should be 3.0, until we introduce version to the language that deserve a version bump. Does that sound right?&lt;/p&gt;</comment>
                            <comment id="16058471" author="sebb@apache.org" created="Wed, 21 Jun 2017 23:58:07 +0000"  >&lt;p&gt;Surely if the language syntax changes (as mentioned above), then the language version needs updating?&lt;/p&gt;

&lt;p&gt;It&apos;s not as clear to me what the engine version is supposed to represent.&lt;br/&gt;
Maybe worth checking the JSR&lt;/p&gt;</comment>
                            <comment id="16058477" author="kinow" created="Thu, 22 Jun 2017 00:02:58 +0000"  >&lt;p&gt;Yup. Besides fixing the version in either or both methods, I&apos;d like to add some lines in the Javadocs, and then maybe a note somewhere in the project documentation (wiki?) for when someone releases a new version s/he can remember to check if this version needs to be updated too.&lt;/p&gt;</comment>
                            <comment id="16059203" author="henrib" created="Thu, 22 Jun 2017 11:30:08 +0000"  >&lt;p&gt;Checked the JSR 223; semantics on getLanguageVersion/getEngineVersion is not very detailed.&lt;br/&gt;
LANGUAGE_VERSION: Reserved key for the named value that identifies the version of the scripting language supported by the implementation.&lt;br/&gt;
ENGINE_VERSION: Reserved key for a named value that identifies the version of&lt;br/&gt;
the ScriptEngine implementation.&lt;/p&gt;

&lt;p&gt;As a reminder, we may want to create a bug that we re-create after each release stating &apos;verify getLanguageVersion/getEngineVersion before release&apos;. Otherwise, we&apos;ll probably keep forgetting about it...&lt;/p&gt;</comment>
                            <comment id="16060178" author="kinow" created="Thu, 22 Jun 2017 23:18:14 +0000"  >&lt;p&gt;Looking at Java 8 Nashorn;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.script.ScriptEngine;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.script.ScriptEngineManager;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Scripts {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
        ScriptEngineManager manager = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName(&lt;span class=&quot;code-quote&quot;&gt;&quot;nashorn&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;ENGINE: &quot;&lt;/span&gt; + engine.getFactory().getEngineVersion());
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;LANGUAGE: &quot;&lt;/span&gt; + engine.getFactory().getLanguageVersion());
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Gives:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ENGINE: 1.8.0_131
LANGUAGE: ECMA - 262 Edition 5.1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So I believe in our case, the ENGINE_VERSION must match the version of JEXL. And Language should either match that version, or be 3.0 until there are changes that impact the language (in that case, we need to remember to update it should we add/remove features from the language).&lt;/p&gt;

&lt;p&gt;&amp;gt;As a reminder, we may want to create a bug that we re-create after each release stating &apos;verify getLanguageVersion/getEngineVersion before release&apos;. Otherwise, we&apos;ll probably keep forgetting about it...&lt;/p&gt;

&lt;p&gt;Big +1 for that. Are you going to do that? Otherwise I can create the ticket, and assign to the next version, linking to this discussion, and asking the assignee to create a new one for the next release.&lt;/p&gt;</comment>
                            <comment id="16061793" author="dmitri_blinov" created="Sat, 24 Jun 2017 04:34:22 +0000"  >&lt;p&gt;Shouldn&apos;t we simply go away from precompiled values and take values of engine version and language version from jexl jar&apos;s manifest properties, like Implementation_Version and Specification_version?&lt;/p&gt;</comment>
                            <comment id="16071284" author="henrib" created="Sat, 1 Jul 2017 14:55:47 +0000"  >&lt;p&gt;RELEASE-NOTES.txt&lt;br/&gt;
src/site/xdoc/changes.xml&lt;br/&gt;
src/main/java/org/apache/commons/jexl3/scripting/JexlScriptEngineFactory.java&lt;br/&gt;
src/test/java/org/apache/commons/jexl3/scripting/JexlScriptEngineTest.java&lt;/p&gt;

&lt;p&gt;Committed revision 1800511.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13084003">JEXL-235</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ghsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>