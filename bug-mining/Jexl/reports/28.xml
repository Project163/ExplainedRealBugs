<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:57:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JEXL-105] Array literals are considered constant even when they are not</title>
                <link>https://issues.apache.org/jira/browse/JEXL-105</link>
                <project id="12310479" key="JEXL">Commons JEXL</project>
                    <description>&lt;p&gt;JexlContext context = new MapContext();&lt;br/&gt;
Expression selectExp = new JexlEngine().createExpression(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;a.propA&amp;#93;&lt;/span&gt;&quot;);&lt;br/&gt;
context.set(&quot;a&quot;, new A(&quot;a1&quot;, &quot;p1&quot;));&lt;br/&gt;
System.out.println(Arrays.toString((Object[])selectExp.evaluate(context)));		&lt;/p&gt;

&lt;p&gt;--&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;p1&amp;#93;&lt;/span&gt;		&lt;/p&gt;

&lt;p&gt;//selectExp = new JexlEngine().createExpression(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;a.propA&amp;#93;&lt;/span&gt;&quot;);&lt;br/&gt;
context.set(&quot;a&quot;, new A(&quot;a2&quot;, &quot;p2&quot;));&lt;br/&gt;
System.out.println(Arrays.toString((Object[])selectExp.evaluate(context)));		&lt;/p&gt;

&lt;p&gt;--&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;p1&amp;#93;&lt;/span&gt; correct answer should be &lt;span class=&quot;error&quot;&gt;&amp;#91;p2&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;// A&apos;s class definition&lt;br/&gt;
public class A {&lt;/p&gt;

&lt;p&gt;	String nameA;&lt;/p&gt;

&lt;p&gt;	String propA;&lt;/p&gt;

&lt;p&gt;	public A(String nameA, String propA) &lt;/p&gt;
{
		this.nameA = nameA;
		this.propA = propA;
	}

&lt;p&gt;	@Override&lt;br/&gt;
	public String toString() &lt;/p&gt;
{
		return &quot;A [nameA=&quot; + nameA + &quot;, propA=&quot; + propA + &quot;]&quot;;
	}

&lt;p&gt;	public String getNameA() &lt;/p&gt;
{
		return nameA;
	}

&lt;p&gt;	public String getPropA() &lt;/p&gt;
{
		return propA;
	}
&lt;p&gt;}&lt;/p&gt;
</description>
                <environment>&lt;p&gt;JDK 1.6 SE on Windows XP&lt;/p&gt;</environment>
        <key id="12493724">JEXL-105</key>
            <summary>Array literals are considered constant even when they are not</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henrib">Henri Biestro</assignee>
                                    <reporter username="cary.thompson">Cary Thompson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Dec 2010 02:36:43 +0000</created>
                <updated>Wed, 14 Dec 2011 09:32:59 +0000</updated>
                            <resolved>Tue, 21 Dec 2010 17:34:23 +0000</resolved>
                                    <version>2.0.1</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12973731" author="henrib" created="Tue, 21 Dec 2010 16:13:21 +0000"  >&lt;p&gt;Thanks for the test case, bug is confirmed.&lt;br/&gt;
Culprit is Interpreter#visit(ASTArrayLiteral node, Object data) which wrongfully considers an array literal as a constant evaluation.&lt;/p&gt;</comment>
                            <comment id="12973784" author="henrib" created="Tue, 21 Dec 2010 17:34:23 +0000"  >&lt;p&gt;Fixed at revision 1051571.&lt;br/&gt;
Added JexlNode.isConstant() to allow detection of constant expressions; &lt;br/&gt;
Fixed ASTArrayLiteral to detect at parsing time whether the array is constant or not;&lt;br/&gt;
Added specific test105 in IssuesTest&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0xohb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>194603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>