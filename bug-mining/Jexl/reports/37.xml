<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:57:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JEXL-130] Ternary Conditional fails for Object values</title>
                <link>https://issues.apache.org/jira/browse/JEXL-130</link>
                <project id="12310479" key="JEXL">Commons JEXL</project>
                    <description>&lt;p&gt;The documentation states on &lt;a href=&quot;http://commons.apache.org/jexl/reference/syntax.html#Operators&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/jexl/reference/syntax.html#Operators&lt;/a&gt; :&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The usual ternary conditional operator condition ? if_true : if_false operator can be used as well as the&lt;br/&gt;
abbreviation value ?: if_false which returns the value if its evaluation is defined, non-null and non-false&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For object values however, it seems that this definition no longer holds in 2.1 and higher.&lt;/p&gt;

&lt;p&gt;The following unittests run successfully in 2.0.1, but the test &quot;ternaryConditional_mapContainsObject_shouldReturnObject&quot; fails in 2.1 and 2.1.1.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.jexl2.*;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.*;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;JexlTernaryConditionalTest
{
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void ternaryConditional_mapContainsString_shouldReturnString()
    {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; myName = &lt;span class=&quot;code-quote&quot;&gt;&quot;Test.Name&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; myValue = &lt;span class=&quot;code-quote&quot;&gt;&quot;Test.Value&quot;&lt;/span&gt;;

        JexlEngine myJexlEngine = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JexlEngine();
        MapContext myMapContext = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MapContext();
        myMapContext.set(myName, myValue);

        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; myObjectWithTernaryConditional = myJexlEngine.createScript(myName + &lt;span class=&quot;code-quote&quot;&gt;&quot;?:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;).execute(myMapContext);
        Assert.assertEquals(myValue, myObjectWithTernaryConditional);
    }

    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void ternaryConditional_mapContainsObject_shouldReturnObject()
    {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; myName = &lt;span class=&quot;code-quote&quot;&gt;&quot;Test.Name&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; myValue = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;();

        JexlEngine myJexlEngine = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JexlEngine();
        MapContext myMapContext = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MapContext();
        myMapContext.set(myName, myValue);

        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; myObjectWithTernaryConditional = myJexlEngine.createScript(myName + &lt;span class=&quot;code-quote&quot;&gt;&quot;?:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;).execute(myMapContext);
        Assert.assertEquals(myValue, myObjectWithTernaryConditional);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12545807">JEXL-130</key>
            <summary>Ternary Conditional fails for Object values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henrib">Henri Biestro</assignee>
                                    <reporter username="wbakker">William Bakker</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Mar 2012 10:51:10 +0000</created>
                <updated>Mon, 21 Mar 2016 14:10:08 +0000</updated>
                            <resolved>Fri, 9 Mar 2012 14:52:48 +0000</resolved>
                                    <version>2.1</version>
                    <version>2.1.1</version>
                                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13226108" author="henrib" created="Fri, 9 Mar 2012 14:43:53 +0000"  >&lt;p&gt;Confirmed as bug; fix to come in JexlArithmetic.toBoolean() // non null values that can not be interpreted as boolean should return true&lt;/p&gt;</comment>
                            <comment id="13226118" author="henrib" created="Fri, 9 Mar 2012 14:52:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/commons/proper/jexl/branches/2.0/src/main/java/org/apache/commons/jexl2/JexlArithmetic.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/commons/proper/jexl/branches/2.0/src/main/java/org/apache/commons/jexl2/JexlArithmetic.java&lt;/a&gt;&lt;br/&gt;
Committed revision 1298857.&lt;/p&gt;

&lt;p&gt;(NOT trunk BUT 2.0 branch!)&lt;/p&gt;</comment>
                            <comment id="13226126" author="henrib" created="Fri, 9 Mar 2012 15:11:16 +0000"  >&lt;p&gt;Thanks William! Very clear bug case btw.&lt;/p&gt;</comment>
                            <comment id="15204248" author="henrib" created="Mon, 21 Mar 2016 14:10:08 +0000"  >&lt;p&gt;Update issues resolved in 3.0 to closed &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0xnin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>194447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>