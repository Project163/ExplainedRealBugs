<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:57:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JEXL-40] JEXL fails to find abstract public methods in the base class if overridden by non-public derived types</title>
                <link>https://issues.apache.org/jira/browse/JEXL-40</link>
                <project id="12310479" key="JEXL">Commons JEXL</project>
                    <description>&lt;p&gt;If I have a code that fits the following pattern:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class Base {
  public abstract void foo();
}

class Derived extends Base {
  public void foo() {}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;JEXL fails to discover the foo method on an instance of Derived, even if this method is invokable.&lt;/p&gt;

&lt;p&gt;This is because in ClassMap.java, the populateMethodCache method reads:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;// Some of the interfaces contain abstract methods. That is fine, because the actual object must
// implement them anyway (else it wouldn&apos;t be implementing the interface). If we find an abstract
// method in a non-interface, we skip it, because we do want to make sure that no abstract methods end up in
// the cache.
if (classToReflect.isInterface() || !Modifier.isAbstract(modifiers)) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem can be fixed by simply getting rid this check and always do &quot;methodCache.put(methods&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;);&quot;&lt;/p&gt;

&lt;p&gt;The comment above doesn&apos;t make much sense to me. First, interfaces only contain abstract methods by definition. And if interfaces are deemed OK, I don&apos;t see why abstract methods in the base classes are treated any differently. Given any instance that&apos;s assignable to the base type, under normal circumstances every abstract method is invokable. There&apos;s no difference between interfaces and base classes on this point.&lt;/p&gt;

&lt;p&gt;(The only situation where abstract methods are not implemented is when class files were changed in incompatible way)&lt;/p&gt;

&lt;p&gt;This pattern of having abstract methods in the base type to be implemented by non-public class is a common pattern. So I suggest we simply remove the if block shown above.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12383586">JEXL-40</key>
            <summary>JEXL fails to find abstract public methods in the base class if overridden by non-public derived types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kohsuke">Kohsuke Kawaguchi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Nov 2007 05:29:44 +0000</created>
                <updated>Tue, 9 Mar 2010 15:15:45 +0000</updated>
                            <resolved>Fri, 17 Jul 2009 06:25:58 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12731307" author="henrib" created="Wed, 15 Jul 2009 07:00:22 +0000"  >&lt;p&gt;Attached a patch for src/java/org/apache/commons/jexl/util/introspection/ClassMap.java applicable to the 2.0 trunk.&lt;br/&gt;
The code has been extracted from the Velocity trunk (778038) and fixes the problem.&lt;/p&gt;</comment>
                            <comment id="12731692" author="rahul@apache.org" created="Wed, 15 Jul 2009 21:16:16 +0000"  >&lt;p&gt;I believe this is included in the patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/JEXL-58&quot; title=&quot;UnifiedJEXL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JEXL-58&quot;&gt;&lt;del&gt;JEXL-58&lt;/del&gt;&lt;/a&gt;. Please let me know if this is not the case.&lt;/p&gt;</comment>
                            <comment id="12732365" author="rahul@apache.org" created="Fri, 17 Jul 2009 06:25:58 +0000"  >&lt;p&gt;Should be fixed as part of r794976 in the 2.0 branch.&lt;/p&gt;</comment>
                            <comment id="12843094" author="henrib" created="Tue, 9 Mar 2010 15:15:45 +0000"  >&lt;p&gt;Bulk closing issues resolved in JEXL 2.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413528" name="JEXL-40.patch" size="4197" author="henrib" created="Wed, 15 Jul 2009 07:00:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0xqr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>194971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>