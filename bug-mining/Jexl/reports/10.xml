<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:57:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JEXL-50] Div operator does not do integer division</title>
                <link>https://issues.apache.org/jira/browse/JEXL-50</link>
                <project id="12310479" key="JEXL">Commons JEXL</project>
                    <description>&lt;p&gt;The &quot;div&quot; operator behaves the same as &quot;/&quot; - however it should do integer division according to the web-site:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/jexl/reference/syntax.html#Operators&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/jexl/reference/syntax.html#Operators&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12406788">JEXL-50</key>
            <summary>Div operator does not do integer division</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Oct 2008 10:46:35 +0000</created>
                <updated>Tue, 9 Mar 2010 15:15:46 +0000</updated>
                            <resolved>Sat, 1 Aug 2009 20:30:09 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12640982" author="sebb@apache.org" created="Mon, 20 Oct 2008 11:40:12 +0000"  >&lt;p&gt;Just found out: the JSP 2.0 documentation states that &quot;/&quot; and &quot;div&quot; are equivalent in the expression language so perhaps it is the documentation that is wrong.&lt;br/&gt;
The division will return a BigDecimal if either input is BigDecimal or BigInteger, but the division is rounded up.&lt;/p&gt;

&lt;p&gt;Likewise, Velocity returns an integer if the operands are integers - but I&apos;m not sure what rounding is applied.&lt;/p&gt;

&lt;p&gt;It would be useful to have an IntegerDivide operator, but perhaps it needs a new token.&lt;/p&gt;</comment>
                            <comment id="12718853" author="zaquas" created="Fri, 12 Jun 2009 14:30:09 +0000"  >&lt;p&gt;I&apos;m resolve the problem with this little fix&lt;br/&gt;
I hope help somebody else&lt;br/&gt;
Ciao&lt;/p&gt;</comment>
                            <comment id="12732647" author="rahul@apache.org" created="Fri, 17 Jul 2009 18:04:30 +0000"  >&lt;p&gt;This should be fixed in the 2.0 branch in SVN. Please try it out (by building the branch) and if further work is needed, reopen this issue with a complete JUnit test that fails.&lt;/p&gt;</comment>
                            <comment id="12737918" author="sebb@apache.org" created="Sat, 1 Aug 2009 17:43:23 +0000"  >&lt;p&gt;It&apos;s not clear from the comments what the behaviour of &quot;div&quot; is now supposed to be.&lt;/p&gt;

&lt;p&gt;Is the documentation correct, i.e. should DIV be integer division?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;IMO that would be the most useful solution&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;If so, then the current 2.0 branch does not behave correctly. Sample test code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test50() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    JexlEngine jexl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JexlEngine();
    JexlContext ctxt = JexlHelper.createContext();
    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;1.5&quot;&lt;/span&gt;,jexl.createExpression(&lt;span class=&quot;code-quote&quot;&gt;&quot;3 / 2&quot;&lt;/span&gt;).evaluate(ctxt).toString());
    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;,jexl.createExpression(&lt;span class=&quot;code-quote&quot;&gt;&quot;3 div 2&quot;&lt;/span&gt;).evaluate(ctxt).toString()); &lt;span class=&quot;code-comment&quot;&gt;// fails - returns 1.5
&lt;/span&gt;}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the documentation is incorrect, then the current SVN docn needs updating.&lt;/p&gt;</comment>
                            <comment id="12737923" author="henrib" created="Sat, 1 Aug 2009 18:06:49 +0000"  >&lt;p&gt;/ and div are equivalent (just like ! and not, etc).&lt;br/&gt;
May be this is more confusing than anything else (having 2 possible keywords for the same operations).&lt;/p&gt;</comment>
                            <comment id="12737925" author="sebb@apache.org" created="Sat, 1 Aug 2009 18:12:32 +0000"  >&lt;p&gt;But the website says:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/jexl/reference/syntax.html#Operators&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/jexl/reference/syntax.html#Operators&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;i.e. DIV is integer division&lt;/p&gt;</comment>
                            <comment id="12737927" author="rahul@apache.org" created="Sat, 1 Aug 2009 18:20:11 +0000"  >&lt;p&gt;The docs need to change. The motivation (from JSP 2.0 land) is for the two to be equivalent (and they&apos;ve always been so in code).&lt;/p&gt;</comment>
                            <comment id="12737929" author="sebb@apache.org" created="Sat, 1 Aug 2009 18:39:43 +0000"  >&lt;p&gt;OK.&lt;/p&gt;

&lt;p&gt;There are definitely use-cases for integer division (this is how I stumbled across the problem initially), so I&apos;ll raise a separate issue for that.&lt;/p&gt;</comment>
                            <comment id="12737931" author="rahul@apache.org" created="Sat, 1 Aug 2009 18:48:52 +0000"  >&lt;p&gt;Sounds good, so we&apos;ll resolve this issue when the docs mentioned above are fixed.&lt;/p&gt;</comment>
                            <comment id="12737939" author="sebb@apache.org" created="Sat, 1 Aug 2009 19:08:42 +0000"  >&lt;p&gt;Patch for DIV documentation&lt;/p&gt;</comment>
                            <comment id="12737940" author="rahul@apache.org" created="Sat, 1 Aug 2009 19:16:57 +0000"  >&lt;p&gt;I don&apos;t think the N.B. in the patch is necessary (its not like there has been a functional change that users need to be aware of &amp;#8211; in fact, it may even be confusing for new users).&lt;/p&gt;

&lt;p&gt;But please apply whatever you see fit here &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Please resolve this issue when you&apos;re done.&lt;/p&gt;</comment>
                            <comment id="12737949" author="sebb@apache.org" created="Sat, 1 Aug 2009 20:30:09 +0000"  >&lt;p&gt;Fixed docs, see:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=799919&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=799919&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/JEXL-50&quot; title=&quot;Div operator does not do integer division&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JEXL-50&quot;&gt;&lt;del&gt;JEXL-50&lt;/del&gt;&lt;/a&gt; - correct DIV documentation&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/JEXL-64&quot; title=&quot;Inconsistent behaviour of dotted names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JEXL-64&quot;&gt;&lt;del&gt;JEXL-64&lt;/del&gt;&lt;/a&gt; - clarify allowable variable names&lt;/p&gt;</comment>
                            <comment id="12843101" author="henrib" created="Tue, 9 Mar 2010 15:15:46 +0000"  >&lt;p&gt;Bulk closing issues resolved in JEXL 2.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12431968">JEXL-65</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12389586">JEXL-43</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12415246" name="divdoc.patch" size="1062" author="sebb" created="Sat, 1 Aug 2009 19:08:42 +0000"/>
                            <attachment id="12410487" name="org.zip" size="11307" author="zaquas" created="Fri, 12 Jun 2009 14:30:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0xouv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>194664</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>