<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:36:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SLING-1435] After a NoClassDefError classes are still not found even if they have been installed in the meantime with Java 6</title>
                <link>https://issues.apache.org/jira/browse/SLING-1435</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Scenario - note that this works fine with Java 5, but on Java 6 we have:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;A jsp instanties a class from bundle A with the new operator&lt;/li&gt;
	&lt;li&gt;JSP is loaded - everything is working fine&lt;/li&gt;
	&lt;li&gt;Bundle A is uninstalled&lt;/li&gt;
	&lt;li&gt;JSP invocation results in NoClassDefFoundError (which is expected)&lt;/li&gt;
	&lt;li&gt;Bundle A is installed&lt;/li&gt;
	&lt;li&gt;JSP is invoked and as soon as the new operator is called a NoClassDefFoundError is called&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It seems that Java 6 behaves differently than Java 5: The jsp can be loaded and executed, but as soon as the class from Bundle A is used, Java 6 memorieses that the class was gone inbetween and it is not possible to update this state somehow. All involved classloaders are not queried anymore&lt;/p&gt;</description>
                <environment></environment>
        <key id="12458667">SLING-1435</key>
            <summary>After a NoClassDefError classes are still not found even if they have been installed in the meantime with Java 6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Mar 2010 14:57:00 +0000</created>
                <updated>Wed, 20 Sep 2017 13:02:52 +0000</updated>
                            <resolved>Thu, 11 Mar 2010 08:40:26 +0000</resolved>
                                    <version>Commons ClassLoader 1.1.4</version>
                                    <fixVersion>Commons ClassLoader 1.2.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12843579" author="cziegeler" created="Wed, 10 Mar 2010 14:59:26 +0000"  >&lt;p&gt;Added a workaround in revision 921377 which simply removes the old class if a NoClassDefFoundError is thrown during script&lt;br/&gt;
execution.&lt;br/&gt;
While the solution does not look nice it works, therefore I&apos;m closing the bug &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12843967" author="cziegeler" created="Thu, 11 Mar 2010 08:38:12 +0000"  >&lt;p&gt;A better solution is to reload the class loader in this cases; this solves the problem for all clients of the dynamic class loader.&lt;/p&gt;</comment>
                            <comment id="12843969" author="cziegeler" created="Thu, 11 Mar 2010 08:39:18 +0000"  >&lt;p&gt;Removed workaround in revision 921723&lt;/p&gt;</comment>
                            <comment id="12843970" author="cziegeler" created="Thu, 11 Mar 2010 08:40:26 +0000"  >&lt;p&gt;If a package has not been found during a class loading attempt and a bundle is resolved which exports such a package, we&lt;br/&gt;
reload the classloader.&lt;br/&gt;
Changed in revision 921724&lt;/p&gt;</comment>
                            <comment id="12844520" author="cziegeler" created="Fri, 12 Mar 2010 14:36:09 +0000"  >&lt;p&gt;I&apos;ve improved the reloading behaviour of the classloader in revision 922272 to only check if a bundle is used if a bundle unresolved event occurs.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12837844">SLING-4806</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i104xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>