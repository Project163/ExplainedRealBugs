{"url":"https://api.github.com/repos/doctrine/dbal/issues/4637","repository_url":"https://api.github.com/repos/doctrine/dbal","labels_url":"https://api.github.com/repos/doctrine/dbal/issues/4637/labels{/name}","comments_url":"https://api.github.com/repos/doctrine/dbal/issues/4637/comments","events_url":"https://api.github.com/repos/doctrine/dbal/issues/4637/events","html_url":"https://github.com/doctrine/dbal/issues/4637","id":877460283,"node_id":"MDU6SXNzdWU4Nzc0NjAyODM=","number":4637,"title":"DriverManager::getConnection with wrapperClass static analysis problem","user":{"login":"DavideBicego","id":15126422,"node_id":"MDQ6VXNlcjE1MTI2NDIy","avatar_url":"https://avatars.githubusercontent.com/u/15126422?v=4","gravatar_id":"","url":"https://api.github.com/users/DavideBicego","html_url":"https://github.com/DavideBicego","followers_url":"https://api.github.com/users/DavideBicego/followers","following_url":"https://api.github.com/users/DavideBicego/following{/other_user}","gists_url":"https://api.github.com/users/DavideBicego/gists{/gist_id}","starred_url":"https://api.github.com/users/DavideBicego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DavideBicego/subscriptions","organizations_url":"https://api.github.com/users/DavideBicego/orgs","repos_url":"https://api.github.com/users/DavideBicego/repos","events_url":"https://api.github.com/users/DavideBicego/events{/privacy}","received_events_url":"https://api.github.com/users/DavideBicego/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":225630643,"node_id":"MDU6TGFiZWwyMjU2MzA2NDM=","url":"https://api.github.com/repos/doctrine/dbal/labels/Bug","name":"Bug","color":"e11d21","default":false,"description":null},{"id":860933550,"node_id":"MDU6TGFiZWw4NjA5MzM1NTA=","url":"https://api.github.com/repos/doctrine/dbal/labels/Strict%20Typing","name":"Strict Typing","color":"fcf6a4","default":false,"description":""},{"id":982101967,"node_id":"MDU6TGFiZWw5ODIxMDE5Njc=","url":"https://api.github.com/repos/doctrine/dbal/labels/Static%20Analysis","name":"Static Analysis","color":"fcf6a4","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/doctrine/dbal/milestones/93","html_url":"https://github.com/doctrine/dbal/milestone/93","labels_url":"https://api.github.com/repos/doctrine/dbal/milestones/93/labels","id":6715263,"node_id":"MDk6TWlsZXN0b25lNjcxNTI2Mw==","number":93,"title":"2.13.2","description":null,"creator":{"login":"greg0ire","id":657779,"node_id":"MDQ6VXNlcjY1Nzc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/657779?v=4","gravatar_id":"","url":"https://api.github.com/users/greg0ire","html_url":"https://github.com/greg0ire","followers_url":"https://api.github.com/users/greg0ire/followers","following_url":"https://api.github.com/users/greg0ire/following{/other_user}","gists_url":"https://api.github.com/users/greg0ire/gists{/gist_id}","starred_url":"https://api.github.com/users/greg0ire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/greg0ire/subscriptions","organizations_url":"https://api.github.com/users/greg0ire/orgs","repos_url":"https://api.github.com/users/greg0ire/repos","events_url":"https://api.github.com/users/greg0ire/events{/privacy}","received_events_url":"https://api.github.com/users/greg0ire/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":13,"state":"closed","created_at":"2021-04-30T11:34:33Z","updated_at":"2021-07-25T23:08:57Z","due_on":null,"closed_at":"2021-06-22T17:14:08Z"},"comments":3,"created_at":"2021-05-04T10:17:50Z","updated_at":"2022-07-27T00:26:49Z","closed_at":"2021-05-09T18:21:55Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"After updating to `doctrine/orm 2.8.4` from `2.8.1` I have a static analysis issue with the function DriverManager::getConnection().\r\n\r\nThe specific Psalm error is:\r\n\r\n```\r\nERROR: MixedInferredReturnType - ... - Could not verify return type 'KanbanBOX\\Core\\Infrastructure\\DataAccess\\DatabaseConnection\\ServiceDatabaseConnection' for ... :-:closure (see https://psalm.dev/047)\r\nServiceDatabaseConnection::class => static function (): ServiceDatabaseConnection {\r\n```\r\n\r\nServiceDatabaseConnection extends Connection so the function call is:\r\n\r\n``` php\r\nDriverManager::getConnection(\r\n    [\r\n        'driver' => ...\r\n        'wrapperClass' => ServiceDatabaseConnection::class,\r\n    ]\r\n);\r\n```\r\n\r\nAny suggestion?\r\n","closed_by":{"login":"morozov","id":59683,"node_id":"MDQ6VXNlcjU5Njgz","avatar_url":"https://avatars.githubusercontent.com/u/59683?v=4","gravatar_id":"","url":"https://api.github.com/users/morozov","html_url":"https://github.com/morozov","followers_url":"https://api.github.com/users/morozov/followers","following_url":"https://api.github.com/users/morozov/following{/other_user}","gists_url":"https://api.github.com/users/morozov/gists{/gist_id}","starred_url":"https://api.github.com/users/morozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morozov/subscriptions","organizations_url":"https://api.github.com/users/morozov/orgs","repos_url":"https://api.github.com/users/morozov/repos","events_url":"https://api.github.com/users/morozov/events{/privacy}","received_events_url":"https://api.github.com/users/morozov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/doctrine/dbal/issues/4637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doctrine/dbal/issues/4637/timeline","performed_via_github_app":null,"state_reason":"completed"}