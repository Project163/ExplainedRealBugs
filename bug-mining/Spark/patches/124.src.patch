diff --git a/sql/catalyst/pom.xml b/sql/catalyst/pom.xml
index 740f1fdc832..0edce55a933 100644
--- a/sql/catalyst/pom.xml
+++ b/sql/catalyst/pom.xml
@@ -31,6 +31,18 @@
     <name>Spark Project Catalyst</name>
     <url>http://spark.apache.org/</url>
 
+    <profiles>
+      <profile>
+        <id>yarn-alpha</id>
+        <dependencies>
+          <dependency>
+            <groupId>org.apache.avro</groupId>
+            <artifactId>avro</artifactId>
+          </dependency>
+        </dependencies>
+      </profile>
+    </profiles>
+
     <dependencies>
         <dependency>
             <groupId>org.apache.spark</groupId>
diff --git a/sql/core/pom.xml b/sql/core/pom.xml
index e367edfb1f5..85580ed6b82 100644
--- a/sql/core/pom.xml
+++ b/sql/core/pom.xml
@@ -30,6 +30,17 @@
     <packaging>jar</packaging>
     <name>Spark Project SQL</name>
     <url>http://spark.apache.org/</url>
+    <profiles>
+      <profile>
+        <id>yarn-alpha</id>
+        <dependencies>
+          <dependency>
+            <groupId>org.apache.avro</groupId>
+            <artifactId>avro</artifactId>
+          </dependency>
+        </dependencies>
+      </profile>
+    </profiles>
 
     <dependencies>
         <dependency>
diff --git a/sql/hive/pom.xml b/sql/hive/pom.xml
index 7b5ea98f27f..63f592cb4b4 100644
--- a/sql/hive/pom.xml
+++ b/sql/hive/pom.xml
@@ -30,6 +30,17 @@
     <packaging>jar</packaging>
     <name>Spark Project Hive</name>
     <url>http://spark.apache.org/</url>
+    <profiles>
+      <profile>
+        <id>yarn-alpha</id>
+        <dependencies>
+          <dependency>
+            <groupId>org.apache.avro</groupId>
+            <artifactId>avro</artifactId>
+          </dependency>
+        </dependencies>
+      </profile>
+    </profiles>
 
     <dependencies>
         <dependency>
