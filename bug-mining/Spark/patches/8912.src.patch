diff --git a/project/SparkBuild.scala b/project/SparkBuild.scala
index 2c3907bc734..ed9cfeb7cd2 100644
--- a/project/SparkBuild.scala
+++ b/project/SparkBuild.scala
@@ -853,14 +853,16 @@ object SparkConnectClient {
     },
 
     buildTestDeps := {
-      (LocalProject("sql") / Compile / Keys.`package`).value
-      (LocalProject("connect") / assembly).value
-      (LocalProject("connect-client-jvm") / assembly).value
+      (LocalProject("assembly") / Compile / Keys.`package`).value
     },
 
-    // Make sure the connect server assembly jar is available for testing.
+    // SPARK-42538: Make sure the `${SPARK_HOME}/assembly/target/scala-$SPARK_SCALA_VERSION/jars` is available for testing.
+    // At the same time, the build of `connect`, `connect-client-jvm` and `sql` will be triggered by `assembly` build,
+    // so no additional configuration is required.
     test := ((Test / test) dependsOn (buildTestDeps)).value,
 
+    testOnly := ((Test / testOnly) dependsOn (buildTestDeps)).evaluated,
+
     (assembly / test) := { },
 
     (assembly / logLevel) := Level.Info,
