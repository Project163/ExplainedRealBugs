diff --git a/.github/workflows/build_and_test.yml b/.github/workflows/build_and_test.yml
index beeef93fee0..089a9296bcc 100644
--- a/.github/workflows/build_and_test.yml
+++ b/.github/workflows/build_and_test.yml
@@ -430,6 +430,7 @@ jobs:
         distribution: zulu
         java-version: ${{ matrix.java }}
     - name: List Python packages (${{ env.PYTHON_TO_TEST }})
+      env: ${{ fromJSON(inputs.envs) }}
       shell: 'script -q -e -c "bash {0}"'
       run: |
         for py in $(echo $PYTHON_TO_TEST | tr "," "\n")
@@ -467,12 +468,14 @@ jobs:
         flags: unittests
         name: PySpark
     - name: Upload test results to report
+      env: ${{ fromJSON(inputs.envs) }}
       if: always()
       uses: actions/upload-artifact@v3
       with:
         name: test-results-${{ matrix.modules }}--${{ matrix.java }}-${{ inputs.hadoop }}-hive2.3
         path: "**/target/test-reports/*.xml"
     - name: Upload unit tests log files
+      env: ${{ fromJSON(inputs.envs) }}
       if: ${{ !success() }}
       uses: actions/upload-artifact@v3
       with:
