diff --git a/common/network-yarn/pom.xml b/common/network-yarn/pom.xml
index 1fd3af2e6e6..3b7ffe82770 100644
--- a/common/network-yarn/pom.xml
+++ b/common/network-yarn/pom.xml
@@ -96,6 +96,13 @@
                 <include>com.fasterxml.jackson.**</include>
               </includes>
             </relocation>
+            <relocation>
+              <pattern>io.netty</pattern>
+              <shadedPattern>${spark.shade.packageName}.io.netty</shadedPattern>
+              <includes>
+                <include>io.netty.**</include>
+              </includes>
+            </relocation>
           </relocations>
         </configuration>
         <executions>
