diff --git a/sbin/spark-config.sh b/sbin/spark-config.sh
index 1d154e62ed5..b0361d72d3f 100755
--- a/sbin/spark-config.sh
+++ b/sbin/spark-config.sh
@@ -20,7 +20,7 @@
 # also should not be passed any arguments, since we need original $*
 
 # resolve links - $0 may be a softlink
-this="${BASH_SOURCE-$0}"
+this="${BASH_SOURCE:-$0}"
 common_bin="$(cd -P -- "$(dirname -- "$this")" && pwd -P)"
 script="$(basename -- "$this")"
 this="$common_bin/$script"
