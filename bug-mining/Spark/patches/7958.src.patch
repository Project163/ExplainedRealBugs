diff --git a/mllib/src/test/scala/org/apache/spark/ml/optim/aggregator/DifferentiableLossAggregatorSuite.scala b/mllib/src/test/scala/org/apache/spark/ml/optim/aggregator/DifferentiableLossAggregatorSuite.scala
index 7a4faeb1c10..62ff3de1b36 100644
--- a/mllib/src/test/scala/org/apache/spark/ml/optim/aggregator/DifferentiableLossAggregatorSuite.scala
+++ b/mllib/src/test/scala/org/apache/spark/ml/optim/aggregator/DifferentiableLossAggregatorSuite.scala
@@ -112,7 +112,7 @@ class DifferentiableLossAggregatorSuite extends SparkFunSuite {
     BLAS.scal(weight1, addedGradients)
     BLAS.axpy(weight2, grad2, addedGradients)
     BLAS.scal(1 / (weight1 + weight2), addedGradients)
-    assert(merged.gradient === addedGradients)
+    assert(merged.gradient ~== addedGradients relTol 10e-5)
   }
 
   test("loss, gradient, weight") {
