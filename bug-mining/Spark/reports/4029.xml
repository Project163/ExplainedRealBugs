<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:47:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-17429] spark sql length(1) return error</title>
                <link>https://issues.apache.org/jira/browse/SPARK-17429</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;select length(11);&lt;br/&gt;
select length(2.0);&lt;br/&gt;
these sql will return errors, but hive is ok.&lt;/p&gt;


&lt;p&gt;Error in query: cannot resolve &apos;length(11)&apos; due to data type mismatch: argument 1 requires (string or binary) type, however, &apos;11&apos; is of int type.; line 1 pos 14&lt;/p&gt;

&lt;p&gt;Error in query: cannot resolve &apos;length(2.0)&apos; due to data type mismatch: argument 1 requires (string or binary) type, however, &apos;2.0&apos; is of double type.; line 1 pos 14&lt;/p&gt;</description>
                <environment></environment>
        <key id="13003171">SPARK-17429</key>
            <summary>spark sql length(1) return error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cenyuhai">cen yuhai</assignee>
                                    <reporter username="cenyuhai">cen yuhai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Sep 2016 09:46:31 +0000</created>
                <updated>Thu, 15 Sep 2016 18:45:38 +0000</updated>
                            <resolved>Thu, 15 Sep 2016 18:45:38 +0000</resolved>
                                    <version>1.6.2</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15470329" author="hvanhovell" created="Wed, 7 Sep 2016 11:16:57 +0000"  >&lt;p&gt;TBH this seems like something which is very debatable. Why would anyone want this?&lt;/p&gt;

&lt;p&gt;You can fix this by adding &lt;tt&gt;ImplicitCastInputTypes&lt;/tt&gt; to the &lt;tt&gt;Length&lt;/tt&gt; expression.&lt;/p&gt;</comment>
                            <comment id="15471443" author="dongjoon" created="Wed, 7 Sep 2016 18:32:47 +0000"  >&lt;p&gt;Ya. I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hvanhovell&quot; class=&quot;user-hover&quot; rel=&quot;hvanhovell&quot;&gt;hvanhovell&lt;/a&gt;. It seems to be debatable. PostgreSQL gives error like Spark while MySQL work like Hive.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR:  function length(integer) does not exist
LINE 1: select length(1)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cenyuhai&quot; class=&quot;user-hover&quot; rel=&quot;cenyuhai&quot;&gt;cenyuhai&lt;/a&gt;, could you make a PR for this. At least, I think this should be discussed and make a conclusion in any way.&lt;/p&gt;</comment>
                            <comment id="15472801" author="cenyuhai" created="Thu, 8 Sep 2016 05:13:07 +0000"  >&lt;p&gt;ok, I wil make a PR later&lt;/p&gt;</comment>
                            <comment id="15474532" author="apachespark" created="Thu, 8 Sep 2016 17:44:11 +0000"  >&lt;p&gt;User &apos;cenyuhai&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/15014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/15014&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33bqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311620" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Shepherd</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>liancheng</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>