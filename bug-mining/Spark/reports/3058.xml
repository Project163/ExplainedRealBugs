<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:37:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-12265] Spark calls System.exit inside driver instead of throwing exception</title>
                <link>https://issues.apache.org/jira/browse/SPARK-12265</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Spark may call &lt;tt&gt;System.exit&lt;/tt&gt; if Mesos sends an error code back to the MesosSchedulerDriver. This makes Spark very hard to test, since this effectively kills the driver application under test. Such tests may run under ScalaTest, that doesn&apos;t get a chance to collect a result and populate a report.&lt;/p&gt;

&lt;p&gt;Relevant code is in MesosSchedulerUtils.scala:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            val ret = mesosDriver.run()
            logInfo(&lt;span class=&quot;code-quote&quot;&gt;&quot;driver.run() returned with code &quot;&lt;/span&gt; + ret)
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ret != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; ret.equals(Status.DRIVER_ABORTED)) {
              &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(1)
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Errors should be signaled with a &lt;tt&gt;SparkException&lt;/tt&gt; in the correct thread.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12920797">SPARK-12265</key>
            <summary>Spark calls System.exit inside driver instead of throwing exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nraychaudhuri">Nilanjan Raychaudhuri</assignee>
                                    <reporter username="dragos">Dragos Dascalita Haut</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Dec 2015 15:56:49 +0000</created>
                <updated>Sun, 5 May 2019 13:52:24 +0000</updated>
                            <resolved>Mon, 1 Feb 2016 21:33:36 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Mesos</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15051157" author="srowen" created="Thu, 10 Dec 2015 16:11:02 +0000"  >&lt;p&gt;Yeah there are a number of places where &lt;tt&gt;System.exit&lt;/tt&gt; happens (and many related JIRAs); some are legit, some are not. This looks good as I think the intent is not to hard-kill the user app, even if that may be fine for processes only managed by Spark, like executors.&lt;/p&gt;</comment>
                            <comment id="15051190" author="neelesh77" created="Thu, 10 Dec 2015 16:30:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragos&quot; class=&quot;user-hover&quot; rel=&quot;dragos&quot;&gt;dragos&lt;/a&gt;&lt;br/&gt;
Can `SparkException` be a good wrapper for all such cases? &lt;/p&gt;

&lt;p&gt;Also, I know Yarn has YarnRuntimeException which is a wrapper in all cases that throw Runtime. Would it be a good suggestion to have such an implementation in Spark (unless already present)?&lt;/p&gt;
</comment>
                            <comment id="15095195" author="apachespark" created="Tue, 12 Jan 2016 23:23:04 +0000"  >&lt;p&gt;User &apos;nraychaudhuri&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/10729&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/10729&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15117026" author="apachespark" created="Tue, 26 Jan 2016 10:13:05 +0000"  >&lt;p&gt;User &apos;dragos&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/10921&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/10921&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2pq27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12329449">2.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>