<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:59:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-23941] Mesos task failed on specific spark app name</title>
                <link>https://issues.apache.org/jira/browse/SPARK-23941</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;It seems to be a bug related to spark&apos;s MesosClusterDispatcher. In order to reproduce the bug, you need to have mesos and mesos dispatcher running.&lt;/p&gt;

&lt;p&gt;I&apos;m currently running mesos 1.5 and spark 2.3.0 (tried with 2.2.1 as well).&lt;/p&gt;

&lt;p&gt;If you launch the following program:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
spark-submit --master mesos:&lt;span class=&quot;code-comment&quot;&gt;//127.0.1.1:7077 --deploy-mode cluster --&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.spark.examples.SparkPi --name &lt;span class=&quot;code-quote&quot;&gt;&quot;my favorite task (myId = 123-456)&quot;&lt;/span&gt; /home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar 100&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;, then the task fails with the following output :&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
I0409 11:00:35.360352 22726 fetcher.cpp:551] Fetcher Info: {&lt;span class=&quot;code-quote&quot;&gt;&quot;cache_directory&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;\/tmp\/mesos\/fetch\/tiboun&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;items&quot;&lt;/span&gt;:[{&lt;span class=&quot;code-quote&quot;&gt;&quot;action&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;BYPASS_CACHE&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;uri&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;cache&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;extract&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;\/home\/tiboun\/tools\/spark\/examples\/jars\/spark-examples_2.11-2.3.0.jar&quot;&lt;/span&gt;}}],&lt;span class=&quot;code-quote&quot;&gt;&quot;sandbox_directory&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;\/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;\/lib\/mesos\/slaves\/0262246c-14a3-4408-9b74-5e3b65dc1344-S0\/frameworks\/edff1a6f-38c6-46e0-a3c1-62a8fbfc2b5d-0014\/executors\/driver-20180409110035-0004\/runs\/8ac20902-74e1-45c4-9ab6-c52a79940189&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;tiboun&quot;&lt;/span&gt;}
I0409 11:00:35.363119 22726 fetcher.cpp:450] Fetching URI &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar&apos;&lt;/span&gt;
I0409 11:00:35.363143 22726 fetcher.cpp:291] Fetching directly into the sandbox directory
I0409 11:00:35.363168 22726 fetcher.cpp:225] Fetching URI &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar&apos;&lt;/span&gt;
W0409 11:00:35.366839 22726 fetcher.cpp:330] Copying instead of extracting resource from URI with &lt;span class=&quot;code-quote&quot;&gt;&apos;extract&apos;&lt;/span&gt; flag, because it does not seem to be an archive: /home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar
I0409 11:00:35.366873 22726 fetcher.cpp:603] Fetched &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar&apos;&lt;/span&gt; to &lt;span class=&quot;code-quote&quot;&gt;&apos;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/mesos/slaves/0262246c-14a3-4408-9b74-5e3b65dc1344-S0/frameworks/edff1a6f-38c6-46e0-a3c1-62a8fbfc2b5d-0014/executors/driver-20180409110035-0004/runs/8ac20902-74e1-45c4-9ab6-c52a79940189/spark-examples_2.11-2.3.0.jar&apos;&lt;/span&gt;
I0409 11:00:35.366878 22726 fetcher.cpp:608] Successfully fetched all URIs into &lt;span class=&quot;code-quote&quot;&gt;&apos;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/mesos/slaves/0262246c-14a3-4408-9b74-5e3b65dc1344-S0/frameworks/edff1a6f-38c6-46e0-a3c1-62a8fbfc2b5d-0014/executors/driver-20180409110035-0004/runs/8ac20902-74e1-45c4-9ab6-c52a79940189&apos;&lt;/span&gt;
I0409 11:00:35.438725 22733 exec.cpp:162] Version: 1.5.0
I0409 11:00:35.440770 22734 exec.cpp:236] Executor registered on agent 0262246c-14a3-4408-9b74-5e3b65dc1344-S0
I0409 11:00:35.441388 22733 executor.cpp:171] Received SUBSCRIBED event
I0409 11:00:35.441586 22733 executor.cpp:175] Subscribed executor on tiboun-Dell-Precision-M3800
I0409 11:00:35.441643 22733 executor.cpp:171] Received LAUNCH event
I0409 11:00:35.441767 22733 executor.cpp:638] Starting task driver-20180409110035-0004
I0409 11:00:35.445050 22733 executor.cpp:478] Running &lt;span class=&quot;code-quote&quot;&gt;&apos;/usr/libexec/mesos/mesos-containerizer launch &amp;lt;POSSIBLY-SENSITIVE-DATA&amp;gt;&apos;&lt;/span&gt;
I0409 11:00:35.445770 22733 executor.cpp:651] Forked command at 22743
sh: 1: Syntax error: &lt;span class=&quot;code-quote&quot;&gt;&quot;(&quot;&lt;/span&gt; unexpected
I0409 11:00:35.538661 22736 executor.cpp:938] Command exited with status 2 (pid: 22743)
I0409 11:00:36.541016 22739 process.cpp:887] Failed to accept socket: &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; discarded
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If you remove the parentheses, you get the following result:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
I0409 11:03:02.023701 23085 fetcher.cpp:551] Fetcher Info: {&lt;span class=&quot;code-quote&quot;&gt;&quot;cache_directory&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;\/tmp\/mesos\/fetch\/tiboun&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;items&quot;&lt;/span&gt;:[{&lt;span class=&quot;code-quote&quot;&gt;&quot;action&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;BYPASS_CACHE&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;uri&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;cache&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;extract&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;\/home\/tiboun\/tools\/spark\/examples\/jars\/spark-examples_2.11-2.3.0.jar&quot;&lt;/span&gt;}}],&lt;span class=&quot;code-quote&quot;&gt;&quot;sandbox_directory&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;\/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;\/lib\/mesos\/slaves\/0262246c-14a3-4408-9b74-5e3b65dc1344-S0\/frameworks\/edff1a6f-38c6-46e0-a3c1-62a8fbfc2b5d-0014\/executors\/driver-20180409110301-0006\/runs\/f887c0ab-b48f-4382-850c-383c1c944269&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;tiboun&quot;&lt;/span&gt;}
I0409 11:03:02.028268 23085 fetcher.cpp:450] Fetching URI &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar&apos;&lt;/span&gt;
I0409 11:03:02.028302 23085 fetcher.cpp:291] Fetching directly into the sandbox directory
I0409 11:03:02.028336 23085 fetcher.cpp:225] Fetching URI &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar&apos;&lt;/span&gt;
W0409 11:03:02.031209 23085 fetcher.cpp:330] Copying instead of extracting resource from URI with &lt;span class=&quot;code-quote&quot;&gt;&apos;extract&apos;&lt;/span&gt; flag, because it does not seem to be an archive: /home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar
I0409 11:03:02.031250 23085 fetcher.cpp:603] Fetched &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/tiboun/tools/spark/examples/jars/spark-examples_2.11-2.3.0.jar&apos;&lt;/span&gt; to &lt;span class=&quot;code-quote&quot;&gt;&apos;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/mesos/slaves/0262246c-14a3-4408-9b74-5e3b65dc1344-S0/frameworks/edff1a6f-38c6-46e0-a3c1-62a8fbfc2b5d-0014/executors/driver-20180409110301-0006/runs/f887c0ab-b48f-4382-850c-383c1c944269/spark-examples_2.11-2.3.0.jar&apos;&lt;/span&gt;
I0409 11:03:02.031258 23085 fetcher.cpp:608] Successfully fetched all URIs into &lt;span class=&quot;code-quote&quot;&gt;&apos;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/mesos/slaves/0262246c-14a3-4408-9b74-5e3b65dc1344-S0/frameworks/edff1a6f-38c6-46e0-a3c1-62a8fbfc2b5d-0014/executors/driver-20180409110301-0006/runs/f887c0ab-b48f-4382-850c-383c1c944269&apos;&lt;/span&gt;
I0409 11:03:02.090797 23095 exec.cpp:162] Version: 1.5.0
I0409 11:03:02.095283 23092 exec.cpp:236] Executor registered on agent 0262246c-14a3-4408-9b74-5e3b65dc1344-S0
I0409 11:03:02.096693 23095 executor.cpp:171] Received SUBSCRIBED event
I0409 11:03:02.097040 23095 executor.cpp:175] Subscribed executor on tiboun-Dell-Precision-M3800
I0409 11:03:02.097141 23095 executor.cpp:171] Received LAUNCH event
I0409 11:03:02.097357 23095 executor.cpp:638] Starting task driver-20180409110301-0006
I0409 11:03:02.101521 23095 executor.cpp:478] Running &lt;span class=&quot;code-quote&quot;&gt;&apos;/usr/libexec/mesos/mesos-containerizer launch &amp;lt;POSSIBLY-SENSITIVE-DATA&amp;gt;&apos;&lt;/span&gt;
I0409 11:03:02.102332 23095 executor.cpp:651] Forked command at 23100
Error: Cannot load main &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;from JAR file:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/mesos/slaves/0262246c-14a3-4408-9b74-5e3b65dc1344-S0/frameworks/edff1a6f-38c6-46e0-a3c1-62a8fbfc2b5d-0014/executors/driver-20180409110301-0006/runs/f887c0ab-b48f-4382-850c-383c1c944269/favorite
Run with --help &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; usage help or --verbose &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; debug output
I0409 11:03:02.792325 23090 executor.cpp:938] Command exited with status 1 (pid: 23100)
I0409 11:03:03.794505 23098 process.cpp:887] Failed to accept socket: &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; discarded
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Interesting things is that mesos try to find main class on a file called &quot;favorite&quot; which is part of the task name.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ve tried to launch spark-shell with the same name and it works fine. Task name&apos;s get driver&apos;s name and add a sequence after it.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS: Ubuntu 16.0.4&lt;/p&gt;

&lt;p&gt;Spark: 2.3.0&lt;/p&gt;

&lt;p&gt;Mesos: 1.5.0&lt;/p&gt;</environment>
        <key id="13150977">SPARK-23941</key>
            <summary>Mesos task failed on specific spark app name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tiboun">bounkong khamphousone</assignee>
                                    <reporter username="tiboun">bounkong khamphousone</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Apr 2018 09:07:41 +0000</created>
                <updated>Thu, 13 Dec 2018 00:40:52 +0000</updated>
                            <resolved>Tue, 1 May 2018 15:29:11 +0000</resolved>
                                    <version>2.2.1</version>
                    <version>2.3.0</version>
                                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>2.3.1</fixVersion>
                    <fixVersion>2.4.0</fixVersion>
                                    <component>Mesos</component>
                    <component>Spark Submit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16431337" author="apachespark" created="Mon, 9 Apr 2018 21:42:05 +0000"  >&lt;p&gt;User &apos;tiboun&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21014&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16459761" author="vanzin" created="Tue, 1 May 2018 15:29:11 +0000"  >&lt;p&gt;Issue resolved by pull request 21014&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21014&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13139402">SPARK-23464</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13161761">SPARK-24380</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3savb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>