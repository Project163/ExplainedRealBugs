<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:45:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-16435] Behavior changes if initialExecutor is less than minExecutor for dynamic allocation</title>
                <link>https://issues.apache.org/jira/browse/SPARK-16435</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-13723&quot; title=&quot;YARN - Change behavior of --num-executors when spark.dynamicAllocation.enabled true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-13723&quot;&gt;&lt;del&gt;SPARK-13723&lt;/del&gt;&lt;/a&gt;, the behavior changed for &lt;tt&gt;spark.dynamicAllocation.initialExecutors&lt;/tt&gt; less then &lt;tt&gt;spark.dynamicAllocation.minExecutors&lt;/tt&gt; situation.&lt;/p&gt;

&lt;p&gt;initialExecutors &amp;lt; minExecutors is an invalid setting,&lt;/p&gt;

&lt;h4&gt;&lt;a name=&quot;BeforeSPARK13723&quot;&gt;&lt;/a&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-13723&quot; title=&quot;YARN - Change behavior of --num-executors when spark.dynamicAllocation.enabled true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-13723&quot;&gt;&lt;del&gt;SPARK-13723&lt;/del&gt;&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;If initialExecutors &amp;lt; minExecutors, Spark will throw exception with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IllegalArgumentException: requirement failed: initial executor number xxx must between min executor number xxx and max executor number xxx
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will clearly let user know that current configuration is invalid.&lt;/p&gt;


&lt;h4&gt;&lt;a name=&quot;AfterSPARK13723&quot;&gt;&lt;/a&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-13723&quot; title=&quot;YARN - Change behavior of --num-executors when spark.dynamicAllocation.enabled true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-13723&quot;&gt;&lt;del&gt;SPARK-13723&lt;/del&gt;&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;Because we also consider &lt;tt&gt;spark.executor.instances&lt;/tt&gt;, so the initial number is the max value between minExecutors, initialExecutors, numExecutors.&lt;/p&gt;

&lt;p&gt;This will silently ignore the situation where initialExecutors &amp;lt; minExecutors.&lt;/p&gt;

&lt;p&gt;So at least we should add some warning logs to let user know this is an invalid configuration.&lt;/p&gt;

&lt;p&gt;What do you think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tgraves&quot; class=&quot;user-hover&quot; rel=&quot;tgraves&quot;&gt;tgraves&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rdblue&quot; class=&quot;user-hover&quot; rel=&quot;rdblue&quot;&gt;rdblue&lt;/a&gt;&#65311;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12987673">SPARK-16435</key>
            <summary>Behavior changes if initialExecutor is less than minExecutor for dynamic allocation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jerryshao">Saisai Shao</assignee>
                                    <reporter username="jerryshao">Saisai Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jul 2016 02:49:57 +0000</created>
                <updated>Thu, 14 Jul 2016 16:50:47 +0000</updated>
                            <resolved>Wed, 13 Jul 2016 18:25:40 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Scheduler</component>
                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15367883" author="rdblue" created="Fri, 8 Jul 2016 16:01:27 +0000"  >&lt;p&gt;I think a warning is appropriate, but there&apos;s no need to throw an exception. The initial number of executors is just immediately bumped up to the min, which is what the min is there for.&lt;/p&gt;</comment>
                            <comment id="15370836" author="tgraves" created="Mon, 11 Jul 2016 14:08:43 +0000"  >&lt;p&gt;Yeah I agree,I&apos;m not as worried about this one as I am the max because if you are choosing to use less then the minimum I don&apos;t see that hurting anything.  A warning seems appropriate.&lt;/p&gt;</comment>
                            <comment id="15371975" author="jerryshao" created="Tue, 12 Jul 2016 00:35:11 +0000"  >&lt;p&gt;OK, I will file a small patch to add the warning log about this invalid configuration.&lt;/p&gt;</comment>
                            <comment id="15372529" author="apachespark" created="Tue, 12 Jul 2016 08:32:05 +0000"  >&lt;p&gt;User &apos;jerryshao&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/14149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/14149&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30oo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>