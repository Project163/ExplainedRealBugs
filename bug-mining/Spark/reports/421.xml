<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:15:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-2339] SQL parser in sql-core is case sensitive, but a table alias is converted to lower case when we create Subquery</title>
                <link>https://issues.apache.org/jira/browse/SPARK-2339</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Reported by &lt;a href=&quot;http://apache-spark-user-list.1001560.n3.nabble.com/Spark-SQL-Join-throws-exception-td8599.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache-spark-user-list.1001560.n3.nabble.com/Spark-SQL-Join-throws-exception-td8599.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After we get the table from the catalog, because the table has an alias, we will temporarily insert a Subquery. Then, we convert the table alias to lower case no matter if the parser is case sensitive or not.&lt;/p&gt;

&lt;p&gt;To see the issue ...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;val sqlContext = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.spark.sql.SQLContext(sc)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; sqlContext.createSchemaRDD

&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Person(name: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, age: Int)

val people = sc.textFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;examples/src/main/resources/people.txt&quot;&lt;/span&gt;).map(_.split(&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;)).map(p =&amp;gt; Person(p(0), p(1).trim.toInt))
people.registerAsTable(&lt;span class=&quot;code-quote&quot;&gt;&quot;people&quot;&lt;/span&gt;)

sqlContext.sql(&lt;span class=&quot;code-quote&quot;&gt;&quot;select PEOPLE.name from people PEOPLE&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The plan is ...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;== Query Plan ==
Project [&apos;PEOPLE.name]
 ExistingRdd [name#0,age#1], MapPartitionsRDD[4] at mapPartitions at basicOperators.scala:176
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can find that &quot;PEOPLE.name&quot; is not resolved.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12724818">SPARK-2339</key>
            <summary>SQL parser in sql-core is case sensitive, but a table alias is converted to lower case when we create Subquery</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Jul 2014 20:59:59 +0000</created>
                <updated>Mon, 12 Oct 2015 03:14:47 +0000</updated>
                            <resolved>Tue, 8 Jul 2014 00:02:47 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14050721" author="yhuai" created="Wed, 2 Jul 2014 21:22:04 +0000"  >&lt;p&gt;Also, names of those registered tables are case-sensitive. But, names of Hive tables are case-insensitive. It may cause confusion when a user is using HiveContext. I guess we want to keep registered tables case-sensitive. I will add doc to registerAsTable and registerRDDAaTable.&lt;/p&gt;</comment>
                            <comment id="14952443" author="huaxing" created="Sun, 11 Oct 2015 21:03:22 +0000"  >&lt;p&gt;Hi Yin,&lt;br/&gt;
I am looking at jira 10754 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10754&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-10754&lt;/a&gt;) and it complains that the table name and column name are case sensitive. &lt;br/&gt;
Did you already add doc to RegisterXXXTable that the table names are case sensitive? If not, I will probably add one. Thanks a lot!!  &lt;/p&gt;
</comment>
                            <comment id="14952562" author="yhuai" created="Mon, 12 Oct 2015 03:14:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huaxing&quot; class=&quot;user-hover&quot; rel=&quot;huaxing&quot;&gt;huaxing&lt;/a&gt; By default, in SQLContext, we will do resolution in a case-sensitive way (you can use spark.sql.caseSensitive to control the behavior). In HiveContext, the default behavior is case-insensitive resolution (so, we will resolve those registered tables in a case-insensitive way). &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>403001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xd27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>403057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326686">1.1.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>