<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:20:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-1344] Scala API docs for top methods</title>
                <link>https://issues.apache.org/jira/browse/SPARK-1344</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The RDD.top() methods are documented as follows:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Returns the top &lt;b&gt;K&lt;/b&gt; elements from this RDD using the natural ordering for &lt;b&gt;T&lt;/b&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Returns the top &lt;b&gt;K&lt;/b&gt; elements from this RDD as defined by the specified Comparator[&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;].&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I believe those should read&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Returns the top &lt;b&gt;num&lt;/b&gt; elements from this RDD using the natural ordering for &lt;b&gt;K&lt;/b&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Returns the top &lt;b&gt;num&lt;/b&gt; elements from this RDD as defined by the specified Comparator[&lt;span class=&quot;error&quot;&gt;&amp;#91;K&amp;#93;&lt;/span&gt;].&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12704470">SPARK-1344</key>
            <summary>Scala API docs for top methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean R. Owen</assignee>
                                    <reporter username="dcarroll@cloudera.com">Diana Carroll</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 07:36:58 +0000</created>
                <updated>Mon, 10 Nov 2014 01:42:40 +0000</updated>
                            <resolved>Mon, 10 Nov 2014 01:42:40 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13954144" author="markhamstra" created="Fri, 28 Mar 2014 09:57:46 +0000"  >&lt;p&gt;No, the original is correct.  K is the number of elements; T is the type of the elements. &lt;/p&gt;</comment>
                            <comment id="13954235" author="dcarroll@cloudera.com" created="Fri, 28 Mar 2014 10:30:41 +0000"  >&lt;p&gt;This doesn&apos;t make sense to me.  The signature of the method is &lt;br/&gt;
top(num: Int): List&lt;span class=&quot;error&quot;&gt;&amp;#91;(K, V)&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;So there&apos;s a parameter &quot;num&quot; but the description doesn&apos;t reference it.&lt;/p&gt;

&lt;p&gt;There&apos;s no T in the signature, and the description &lt;b&gt;does&lt;/b&gt; reference it.  (Perhaps it is assumed that all uses of &quot;T&quot; anywhere refer to the type of something?)&lt;/p&gt;

&lt;p&gt;The only K in the signature is in the return value (the key of the returned tuples).  This doesn&apos;t make sense with &quot;...top K references...&quot;&lt;/p&gt;

&lt;p&gt;I don&apos;t see how this description helps a user understand how to use the function.&lt;/p&gt;
</comment>
                            <comment id="13954242" author="markhamstra" created="Fri, 28 Mar 2014 10:47:54 +0000"  >&lt;p&gt;Which docs/comments are you looking at?  When dealing with an RDD[(K, V)] there is room for confusion since the way data scientists refer to getting the top-ranked results is Top-K, where K is the number of ranked items fetched, whereas our generic way of referring to an RDD of key-value pairs is RDD[(K, V)], where K is the type of the keys.  On top of that, top() doesn&apos;t require a PairRDD, so it is available on a simple RDD[T] as &lt;tt&gt;def top(num: Int)(implicit ord: Ordering[T]): Array[T]&lt;/tt&gt; &amp;#8211; and that&apos;s where the original wording comes from.  &lt;/p&gt;</comment>
                            <comment id="13954238" author="dcarroll@cloudera.com" created="Fri, 28 Mar 2014 10:50:30 +0000"  >&lt;p&gt;Oh, I think I figured out the misunderstanding between your comment and mine:&lt;br/&gt;
There are multiple &quot;top&quot; functions.&lt;/p&gt;

&lt;p&gt;I am specifically looking at JavaPairRDD.top:&lt;br/&gt;
&lt;a href=&quot;http://spark.incubator.apache.org/docs/latest/api/core/index.html#org.apache.spark.api.java.JavaPairRDD&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://spark.incubator.apache.org/docs/latest/api/core/index.html#org.apache.spark.api.java.JavaPairRDD&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;tt&gt;def top(num: Int): List[&lt;span class=&quot;error&quot;&gt;&amp;#91;(K, V)&amp;#93;&lt;/span&gt;]&lt;/tt&gt;&lt;br/&gt;
Returns the top K elements from this RDD using the natural ordering for T.&lt;br/&gt;
num - the number of top elements to return&lt;br/&gt;
returns - an array of top elements&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This one I see is different than, say, RDD.top:&lt;br/&gt;
&lt;a href=&quot;http://spark.incubator.apache.org/docs/latest/api/core/index.html#org.apache.spark.rdd.RDD&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://spark.incubator.apache.org/docs/latest/api/core/index.html#org.apache.spark.rdd.RDD&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;tt&gt;def top(num: Int)(implicit ord: Ordering[&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;]): Array[&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;]&lt;/tt&gt;&lt;br/&gt;
Returns the top K elements from this RDD as defined by the specified implicit Ordering[&lt;span class=&quot;error&quot;&gt;&amp;#91;T&amp;#93;&lt;/span&gt;].&lt;br/&gt;
num - the number of top elements to return&lt;br/&gt;
ord - the implicit ordering for T&lt;br/&gt;
returns- an array of top elements&lt;/p&gt;&lt;/blockquote&gt;



</comment>
                            <comment id="13954243" author="dcarroll@cloudera.com" created="Fri, 28 Mar 2014 10:54:23 +0000"  >&lt;p&gt;Our comments crossed paths.&lt;/p&gt;

&lt;p&gt;At any rate, regardless of the origin of the phrasing, I found it confusing to see a reference to a non-existent parameter &quot;K&quot; in the description.  I&apos;m not a data scientist, just a programmer, trying to use the API to understand how to call a function, and I believe that my proposed phrasing is both correct and the least confusing.  &quot;Room for confusion&quot; is not a plus in docs.&lt;/p&gt;</comment>
                            <comment id="13954239" author="markhamstra" created="Fri, 28 Mar 2014 11:04:36 +0000"  >&lt;p&gt;The problem with your re-wording, though, is that it is not correct.  Since top() for RDD[(K, V)] is inherited from RDD[T], the Ordering is parameterized on (K, V), not just K.  Typically for PairRDD, this will be a lexicographical ordering of the pairs, but it could be any user-defined Ordering[(K, V)]. &lt;/p&gt;</comment>
                            <comment id="13954244" author="dcarroll@cloudera.com" created="Fri, 28 Mar 2014 11:23:48 +0000"  >&lt;p&gt;Fair enough; what I meant was that I prefer my wording for &quot;num&quot; over the non-existent &quot;K&quot; for how many items to return.&lt;/p&gt;

&lt;p&gt;So how about:&lt;br/&gt;
&lt;tt&gt;def top(num: Int): List[&lt;span class=&quot;error&quot;&gt;&amp;#91;(K, V)&amp;#93;&lt;/span&gt;]&lt;/tt&gt;&lt;br/&gt;
Returns the top num elements from this RDD using the natural ordering for the elements of the RDD.&lt;br/&gt;
and&lt;br/&gt;
&lt;tt&gt;def top(num: Int, comp: Comparator[&lt;span class=&quot;error&quot;&gt;&amp;#91;(K, V)&amp;#93;&lt;/span&gt;]): List[&lt;span class=&quot;error&quot;&gt;&amp;#91;(K, V)&amp;#93;&lt;/span&gt;]&lt;/tt&gt;&lt;br/&gt;
Returns the top num elements from this RDD as defined by the specified Comparator[&lt;span class=&quot;error&quot;&gt;&amp;#91;(K,V)&amp;#93;&lt;/span&gt;].&lt;/p&gt;</comment>
                            <comment id="13954246" author="markhamstra" created="Fri, 28 Mar 2014 11:31:33 +0000"  >&lt;p&gt;For the specific case of JavaPairRDD, that&apos;s fine; but you won&apos;t be able to make equivalent changes for Scala RDDs that inherit from org.apache.spark.rdd.RDD&lt;/p&gt;</comment>
                            <comment id="14203370" author="apachespark" created="Sat, 8 Nov 2014 10:46:39 +0000"  >&lt;p&gt;User &apos;srowen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/3168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3168&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tyn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383140</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>