<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:45:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-15730] [Spark SQL] the value of &apos;hiveconf&apos; parameter in Spark-sql CLI don&apos;t take effect in spark-sql session</title>
                <link>https://issues.apache.org/jira/browse/SPARK-15730</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/usr/lib/spark/bin/spark-sql -v --driver-memory 4g --executor-memory 7g --executor-cores 5 --num-executors 31 --master yarn-client --conf spark.yarn.executor.memoryOverhead=1024 --hiveconf RESULT_TABLE=test_result01

spark-sql&amp;gt; use test;
16/06/02 21:36:15 INFO execution.SparkSqlParser: Parsing command: use test
16/06/02 21:36:15 INFO spark.SparkContext: Starting job: processCmd at CliDriver.java:376
16/06/02 21:36:15 INFO scheduler.DAGScheduler: Got job 2 (processCmd at CliDriver.java:376) with 1 output partitions
16/06/02 21:36:15 INFO scheduler.DAGScheduler: Final stage: ResultStage 2 (processCmd at CliDriver.java:376)
16/06/02 21:36:15 INFO scheduler.DAGScheduler: Parents of final stage: List()
16/06/02 21:36:15 INFO scheduler.DAGScheduler: Missing parents: List()
16/06/02 21:36:15 INFO scheduler.DAGScheduler: Submitting ResultStage 2 (MapPartitionsRDD[8] at processCmd at CliDriver.java:376), which has no missing parents
16/06/02 21:36:15 INFO memory.MemoryStore: Block broadcast_2 stored as values in memory (estimated size 3.2 KB, free 2.4 GB)
16/06/02 21:36:15 INFO memory.MemoryStore: Block broadcast_2_piece0 stored as bytes in memory (estimated size 1964.0 B, free 2.4 GB)
16/06/02 21:36:15 INFO storage.BlockManagerInfo: Added broadcast_2_piece0 in memory on 192.168.3.11:36189 (size: 1964.0 B, free: 2.4 GB)
16/06/02 21:36:15 INFO spark.SparkContext: Created broadcast 2 from broadcast at DAGScheduler.scala:1012
16/06/02 21:36:15 INFO scheduler.DAGScheduler: Submitting 1 missing tasks from ResultStage 2 (MapPartitionsRDD[8] at processCmd at CliDriver.java:376)
16/06/02 21:36:15 INFO cluster.YarnScheduler: Adding task set 2.0 with 1 tasks
16/06/02 21:36:15 INFO scheduler.TaskSetManager: Starting task 0.0 in stage 2.0 (TID 2, 192.168.3.13, partition 0, PROCESS_LOCAL, 5362 bytes)
16/06/02 21:36:15 INFO cluster.YarnClientSchedulerBackend: Launching task 2 on executor id: 10 hostname: 192.168.3.13.
16/06/02 21:36:16 INFO storage.BlockManagerInfo: Added broadcast_2_piece0 in memory on hw-node3:45924 (size: 1964.0 B, free: 4.4 GB)
16/06/02 21:36:17 INFO scheduler.TaskSetManager: Finished task 0.0 in stage 2.0 (TID 2) in 1934 ms on 192.168.3.13 (1/1)
16/06/02 21:36:17 INFO cluster.YarnScheduler: Removed TaskSet 2.0, whose tasks have all completed, from pool
16/06/02 21:36:17 INFO scheduler.DAGScheduler: ResultStage 2 (processCmd at CliDriver.java:376) finished in 1.937 s
16/06/02 21:36:17 INFO scheduler.DAGScheduler: Job 2 finished: processCmd at CliDriver.java:376, took 1.962631 s
Time taken: 2.027 seconds
16/06/02 21:36:17 INFO CliDriver: Time taken: 2.027 seconds
spark-sql&amp;gt; DROP TABLE IF EXISTS ${hiveconf:RESULT_TABLE};
16/06/02 21:36:36 INFO execution.SparkSqlParser: Parsing command: DROP TABLE IF EXISTS ${hiveconf:RESULT_TABLE}
Error in query:
mismatched input &apos;$&apos; expecting {&apos;ADD&apos;, &apos;AS&apos;, &apos;ALL&apos;, &apos;GROUP&apos;, &apos;BY&apos;, &apos;GROUPING&apos;, &apos;SETS&apos;, &apos;CUBE&apos;, &apos;ROLLUP&apos;, &apos;ORDER&apos;, &apos;LIMIT&apos;, &apos;AT&apos;, &apos;IN&apos;, &apos;NO&apos;, &apos;EXISTS&apos;, &apos;BETWEEN&apos;, &apos;LIKE&apos;, RLIKE, &apos;IS&apos;, &apos;NULL&apos;, &apos;TRUE&apos;, &apos;FALSE&apos;, &apos;NULLS&apos;, &apos;ASC&apos;, &apos;DESC&apos;, &apos;FOR&apos;, &apos;OUTER&apos;, &apos;LATERAL&apos;, &apos;WINDOW&apos;, &apos;OVER&apos;, &apos;PARTITION&apos;, &apos;RANGE&apos;, &apos;ROWS&apos;, &apos;PRECEDING&apos;, &apos;FOLLOWING&apos;, &apos;CURRENT&apos;, &apos;ROW&apos;, &apos;WITH&apos;, &apos;VALUES&apos;, &apos;CREATE&apos;, &apos;TABLE&apos;, &apos;VIEW&apos;, &apos;REPLACE&apos;, &apos;INSERT&apos;, &apos;DELETE&apos;, &apos;INTO&apos;, &apos;DESCRIBE&apos;, &apos;EXPLAIN&apos;, &apos;FORMAT&apos;, &apos;LOGICAL&apos;, &apos;CODEGEN&apos;, &apos;SHOW&apos;, &apos;TABLES&apos;, &apos;COLUMNS&apos;, &apos;COLUMN&apos;, &apos;USE&apos;, &apos;PARTITIONS&apos;, &apos;FUNCTIONS&apos;, &apos;DROP&apos;, &apos;TO&apos;, &apos;TABLESAMPLE&apos;, &apos;ALTER&apos;, &apos;RENAME&apos;, &apos;ARRAY&apos;, &apos;MAP&apos;, &apos;STRUCT&apos;, &apos;COMMENT&apos;, &apos;SET&apos;, &apos;RESET&apos;, &apos;DATA&apos;, &apos;START&apos;, &apos;TRANSACTION&apos;, &apos;COMMIT&apos;, &apos;ROLLBACK&apos;, &apos;IF&apos;, &apos;PERCENT&apos;, &apos;BUCKET&apos;, &apos;OUT&apos;, &apos;OF&apos;, &apos;SORT&apos;, &apos;CLUSTER&apos;, &apos;DISTRIBUTE&apos;, &apos;OVERWRITE&apos;, &apos;TRANSFORM&apos;, &apos;REDUCE&apos;, &apos;USING&apos;, &apos;SERDE&apos;, &apos;SERDEPROPERTIES&apos;, &apos;RECORDREADER&apos;, &apos;RECORDWRITER&apos;, &apos;DELIMITED&apos;, &apos;FIELDS&apos;, &apos;TERMINATED&apos;, &apos;COLLECTION&apos;, &apos;ITEMS&apos;, &apos;KEYS&apos;, &apos;ESCAPED&apos;, &apos;LINES&apos;, &apos;SEPARATED&apos;, &apos;EXTENDED&apos;, &apos;REFRESH&apos;, &apos;CLEAR&apos;, &apos;CACHE&apos;, &apos;UNCACHE&apos;, &apos;LAZY&apos;, &apos;FORMATTED&apos;, TEMPORARY, &apos;OPTIONS&apos;, &apos;UNSET&apos;, &apos;TBLPROPERTIES&apos;, &apos;DBPROPERTIES&apos;, &apos;BUCKETS&apos;, &apos;SKEWED&apos;, &apos;STORED&apos;, &apos;DIRECTORIES&apos;, &apos;LOCATION&apos;, &apos;EXCHANGE&apos;, &apos;ARCHIVE&apos;, &apos;UNARCHIVE&apos;, &apos;FILEFORMAT&apos;, &apos;TOUCH&apos;, &apos;COMPACT&apos;, &apos;CONCATENATE&apos;, &apos;CHANGE&apos;, &apos;CASCADE&apos;, &apos;RESTRICT&apos;, &apos;CLUSTERED&apos;, &apos;SORTED&apos;, &apos;PURGE&apos;, &apos;INPUTFORMAT&apos;, &apos;OUTPUTFORMAT&apos;, DATABASES, &apos;DFS&apos;, &apos;TRUNCATE&apos;, &apos;ANALYZE&apos;, &apos;COMPUTE&apos;, &apos;LIST&apos;, &apos;STATISTICS&apos;, &apos;PARTITIONED&apos;, &apos;EXTERNAL&apos;, &apos;DEFINED&apos;, &apos;REVOKE&apos;, &apos;GRANT&apos;, &apos;LOCK&apos;, &apos;UNLOCK&apos;, &apos;MSCK&apos;, &apos;REPAIR&apos;, &apos;EXPORT&apos;, &apos;IMPORT&apos;, &apos;LOAD&apos;, &apos;ROLE&apos;, &apos;ROLES&apos;, &apos;COMPACTIONS&apos;, &apos;PRINCIPALS&apos;, &apos;TRANSACTIONS&apos;, &apos;INDEX&apos;, &apos;INDEXES&apos;, &apos;LOCKS&apos;, &apos;OPTION&apos;, &apos;LOCAL&apos;, &apos;INPATH&apos;, IDENTIFIER, BACKQUOTED_IDENTIFIER}(line 1, pos 21)

== SQL ==
DROP TABLE IF EXISTS ${hiveconf:RESULT_TABLE}
---------------------^^^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12975162">SPARK-15730</key>
            <summary>[Spark SQL] the value of &apos;hiveconf&apos; parameter in Spark-sql CLI don&apos;t take effect in spark-sql session</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chenghao">Cheng Hao</assignee>
                                    <reporter username="jameszhouyi">Yi Zhou</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jun 2016 13:44:11 +0000</created>
                <updated>Wed, 6 Jul 2016 03:23:12 +0000</updated>
                            <resolved>Tue, 5 Jul 2016 23:42:47 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15318648" author="apachespark" created="Tue, 7 Jun 2016 15:12:07 +0000"  >&lt;p&gt;User &apos;chenghao-intel&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/13542&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/13542&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15318654" author="chenghao" created="Tue, 7 Jun 2016 15:14:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jameszhouyi&quot; class=&quot;user-hover&quot; rel=&quot;jameszhouyi&quot;&gt;jameszhouyi&lt;/a&gt;, can you please verify this fixing?&lt;/p&gt;</comment>
                            <comment id="15329408" author="jameszhouyi" created="Tue, 14 Jun 2016 12:30:41 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenghao&quot; class=&quot;user-hover&quot; rel=&quot;chenghao&quot;&gt;chenghao&lt;/a&gt;&lt;br/&gt;
This PR is tested and it&apos;s OK for my case.&lt;/p&gt;</comment>
                            <comment id="15363355" author="apachespark" created="Tue, 5 Jul 2016 22:07:04 +0000"  >&lt;p&gt;User &apos;yhuai&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/14058&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/14058&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15363691" author="jameszhouyi" created="Wed, 6 Jul 2016 03:23:12 +0000"  >&lt;p&gt;Thanks a lot &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenghao&quot; class=&quot;user-hover&quot; rel=&quot;chenghao&quot;&gt;chenghao&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;yhuai&lt;/a&gt; !&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yw1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>