<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:27:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-35561] partition result is incorrect when insert into partition table with int datatype partition column</title>
                <link>https://issues.apache.org/jira/browse/SPARK-35561</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;when inserting into partitioned table with int datatype partition column, if partition column value is starting with 0, like 001, get wrong partition result&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;How to reproduce the problem:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;CREATE TABLE partitiontb04 (id INT, c_string STRING) STORED AS orc; &lt;br/&gt;
 insert into table partitiontb04 values (10001,&apos;test1&apos;);&lt;br/&gt;
 CREATE TABLE orc_part03(id INT, c_string STRING) partitioned by (p_int int) STORED AS orc;&lt;br/&gt;
 insert into table orc_part03 partition (p_int=001) select * from partitiontb04 where id &amp;lt; 10006;&lt;br/&gt;
 show partitions orc_part03;&lt;/p&gt;

&lt;p&gt;expect result:&lt;/p&gt;

&lt;p&gt;p_int=001&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;actural result:&lt;/p&gt;

&lt;p&gt;p_int=1&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13381062">SPARK-35561</key>
            <summary>partition result is incorrect when insert into partition table with int datatype partition column</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yghu">YuanGuanhu</assignee>
                                    <reporter username="yghu">YuanGuanhu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 May 2021 02:00:38 +0000</created>
                <updated>Fri, 23 Jul 2021 17:42:29 +0000</updated>
                            <resolved>Fri, 23 Jul 2021 17:42:28 +0000</resolved>
                                    <version>3.0.0</version>
                    <version>3.0.1</version>
                    <version>3.0.2</version>
                    <version>3.1.1</version>
                    <version>3.1.2</version>
                                    <fixVersion>3.3.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17354556" author="stelyus" created="Mon, 31 May 2021 17:09:14 +0000"  >&lt;p&gt;I personally don&apos;t expect 001 because the type is an INT, if I wanted 001, I would have use the type STRING&lt;/p&gt;</comment>
                            <comment id="17354728" author="yghu" created="Tue, 1 Jun 2021 01:27:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Stelyus&quot; class=&quot;user-hover&quot; rel=&quot;Stelyus&quot;&gt;Stelyus&lt;/a&gt;&#160;I know,but the amazing thing is, if I execute this statement `insert into table orc_part03 partition (p_int=002) select * from partitiontb04 where id &amp;gt; 10006`, the partition is 002. I think we should have same&#160;behavior.&lt;/p&gt;</comment>
                            <comment id="17378875" author="apachespark" created="Mon, 12 Jul 2021 03:20:36 +0000"  >&lt;p&gt;User &apos;dgd-contributor&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/33291&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/33291&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17378876" author="apachespark" created="Mon, 12 Jul 2021 03:21:22 +0000"  >&lt;p&gt;User &apos;dgd-contributor&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/33291&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/33291&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17386419" author="srowen" created="Fri, 23 Jul 2021 17:42:29 +0000"  >&lt;p&gt;Issue resolved by pull request 33291&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/33291&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/33291&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0rhao:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>