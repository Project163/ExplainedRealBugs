<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:18:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-3638] Commons HTTP client dependency conflict in extras/kinesis-asl module</title>
                <link>https://issues.apache.org/jira/browse/SPARK-3638</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Followed instructions as mentioned @ &lt;a href=&quot;https://github.com/apache/spark/blob/master/docs/streaming-kinesis-integration.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/docs/streaming-kinesis-integration.md&lt;/a&gt; and when running the example, I get the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.NoSuchMethodError: org.apache.http.impl.conn.DefaultClientConnectionOperator.&amp;lt;init&amp;gt;(Lorg/apache/http/conn/scheme/SchemeRegistry;Lorg/apache/http/conn/DnsResolver;)V
        at org.apache.http.impl.conn.PoolingClientConnectionManager.createConnectionOperator(PoolingClientConnectionManager.java:140)
        at org.apache.http.impl.conn.PoolingClientConnectionManager.&amp;lt;init&amp;gt;(PoolingClientConnectionManager.java:114)
        at org.apache.http.impl.conn.PoolingClientConnectionManager.&amp;lt;init&amp;gt;(PoolingClientConnectionManager.java:99)
        at com.amazonaws.http.ConnectionManagerFactory.createPoolingClientConnManager(ConnectionManagerFactory.java:29)
        at com.amazonaws.http.HttpClientFactory.createHttpClient(HttpClientFactory.java:97)
        at com.amazonaws.http.AmazonHttpClient.&amp;lt;init&amp;gt;(AmazonHttpClient.java:181)
        at com.amazonaws.AmazonWebServiceClient.&amp;lt;init&amp;gt;(AmazonWebServiceClient.java:119)
        at com.amazonaws.AmazonWebServiceClient.&amp;lt;init&amp;gt;(AmazonWebServiceClient.java:103)
        at com.amazonaws.services.kinesis.AmazonKinesisClient.&amp;lt;init&amp;gt;(AmazonKinesisClient.java:136)
        at com.amazonaws.services.kinesis.AmazonKinesisClient.&amp;lt;init&amp;gt;(AmazonKinesisClient.java:117)
        at com.amazonaws.services.kinesis.AmazonKinesisAsyncClient.&amp;lt;init&amp;gt;(AmazonKinesisAsyncClient.java:132)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I believe this is due to the dependency conflict as described @ &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/spark-dev/201409.mbox/%3CCAJOb8btdXks-7-spJJ5jMNw0XsnrjwDpCQqtjht1hUn6j4zb_g@mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/spark-dev/201409.mbox/%3CCAJOb8btdXks-7-spJJ5jMNw0XsnrjwDpCQqtjht1hUn6j4zb_g@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12743145">SPARK-3638</key>
            <summary>Commons HTTP client dependency conflict in extras/kinesis-asl module</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aniket">Aniket Bhatnagar</reporter>
                        <labels>
                            <label>dependencies</label>
                    </labels>
                <created>Mon, 22 Sep 2014 11:00:43 +0000</created>
                <updated>Wed, 1 Apr 2015 18:46:42 +0000</updated>
                            <resolved>Thu, 2 Oct 2014 01:31:49 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.1</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                                    <component>DStreams</component>
                    <component>Examples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14143109" author="apachespark" created="Mon, 22 Sep 2014 11:17:28 +0000"  >&lt;p&gt;User &apos;aniketbhatnagar&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/2489&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/2489&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14147751" author="apachespark" created="Thu, 25 Sep 2014 13:55:25 +0000"  >&lt;p&gt;User &apos;aniketbhatnagar&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/2535&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/2535&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14155965" author="joshrosen" created="Thu, 2 Oct 2014 01:31:49 +0000"  >&lt;p&gt;Issue resolved by pull request 2535&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/2535&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/2535&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14231018" author="ashrafuzzaman" created="Tue, 2 Dec 2014 05:28:48 +0000"  >&lt;p&gt;I have faced this issue in spark 1.1.0 and now updated spark version to 1.1.1 But still facing the same issue.&lt;/p&gt;

&lt;p&gt;I can see in the spark 1.1.1 hadoop 2.4 in the spark-assembly-1.1.1-hadoop2.4.0.jar the class HttpPatch is not there which was introduced in 4.2&lt;br/&gt;
&lt;a href=&quot;http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/methods/HttpPatch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/methods/HttpPatch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So I think there might be an issue in the pre built package there.&lt;/p&gt;</comment>
                            <comment id="14231085" author="ashrafuzzaman" created="Tue, 2 Dec 2014 06:56:54 +0000"  >&lt;p&gt;I have build with 1.1.1 tag and used the compiled binary. And now it works. So definitely there is an issue with the pre build spark 1.1.1 hadoop 2.4 distribution.&lt;/p&gt;</comment>
                            <comment id="14231086" author="aniket" created="Tue, 2 Dec 2014 07:00:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashrafuzzaman&quot; class=&quot;user-hover&quot; rel=&quot;ashrafuzzaman&quot;&gt;ashrafuzzaman&lt;/a&gt; did you build using using kinesis-asl profile as described in &lt;a href=&quot;https://github.com/apache/spark/blob/master/docs/streaming-kinesis-integration.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/docs/streaming-kinesis-integration.md&lt;/a&gt; (mvn -Pkinesis-asl -DskipTests clean package)? None of the pre build spark distributions have the profile enabled. I just pulled down 1.1.1 source code and did a build as mentioned in the Kinesis integration documentation and I can see the class the in the built assembly.&lt;/p&gt;</comment>
                            <comment id="14231168" author="ashrafuzzaman" created="Tue, 2 Dec 2014 08:30:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aniket&quot; class=&quot;user-hover&quot; rel=&quot;aniket&quot;&gt;aniket&lt;/a&gt; Yes you are right. I did not know that to use Kinesis I have to build the spark from source. I thought I can run that on pre build packages.&lt;/p&gt;</comment>
                            <comment id="14232719" author="aniket" created="Wed, 3 Dec 2014 07:37:34 +0000"  >&lt;p&gt;Yes. You may want to open another JIRA ticket for having kinesis pre build packages in spark download page.&lt;/p&gt;</comment>
                            <comment id="14322511" author="cnstar9988" created="Mon, 16 Feb 2015 08:21:34 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;I can see in the spark 1.1.1 hadoop 2.4 in the spark-assembly-1.1.1-hadoop2.4.0.jar the class HttpPatch is not there which was introduced in 4.2&lt;br/&gt;
I see spark-1.2.1-bin-hadoop2.4.tgz\spark-1.2.1-bin-hadoop2.4\lib\spark-assembly-1.2.1-hadoop2.4.0.jar\org\apache\http\version.properties&lt;br/&gt;
It indicates that officical package only httpclient 4.1.2.&lt;/p&gt;

&lt;p&gt;I think there has some way to make httpclient 4.2.3 or greate version.&lt;/p&gt;
</comment>
                            <comment id="14322514" author="cnstar9988" created="Mon, 16 Feb 2015 08:25:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/pull/2489/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/2489/files&lt;/a&gt; ( &amp;lt;commons.httpclient.version&amp;gt;4.2&amp;lt;/commons.httpclient.version&amp;gt;)&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/2535/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/2535/files&lt;/a&gt; (&amp;lt;commons.httpclient.version&amp;gt;4.2.6&amp;lt;/commons.httpclient.version&amp;gt;)&lt;/p&gt;

&lt;p&gt;It indicates that officical package only package with httpclient 4.1.2, above changes has no effects..&lt;/p&gt;

&lt;p&gt;How to reopen this bug, thanks.&lt;/p&gt;</comment>
                            <comment id="14322518" author="aniket" created="Mon, 16 Feb 2015 08:28:43 +0000"  >&lt;p&gt;Did you build spark with kinesis-asl profile? The standard distribution does not have this profile and therefore you would have to roll your won as described in &lt;a href=&quot;https://github.com/apache/spark/blob/master/docs/streaming-kinesis-integration.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/docs/streaming-kinesis-integration.md&lt;/a&gt; (mvn -Pkinesis-asl -DskipTests clean package). &lt;/p&gt;</comment>
                            <comment id="14322559" author="cnstar9988" created="Mon, 16 Feb 2015 09:24:38 +0000"  >&lt;p&gt;Oh, It was introduced in kinesis-asl profile only.&lt;br/&gt;
I think httpclient 4.1.2 is too old,  standard distribution may conflict with other &quot;httpclient required&quot; user app.&lt;br/&gt;
now I build spark with kinesis-asl profile, it&apos;s ok with httpclient 4.2.6, thanks.&lt;/p&gt;

&lt;p&gt;mvn dependency:tree&lt;/p&gt;
</comment>
                            <comment id="14322582" author="aniket" created="Mon, 16 Feb 2015 09:43:43 +0000"  >&lt;p&gt;Ya.. you may want to open a separate JIRA ticket for upgrading the dependency.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12786576">SPARK-6599</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20btr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>