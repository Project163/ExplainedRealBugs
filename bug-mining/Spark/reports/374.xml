<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:14:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-1902] Spark shell prints error when :4040 port already in use</title>
                <link>https://issues.apache.org/jira/browse/SPARK-1902</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When running two shells on the same machine, I get the below error.  The issue is that the first shell takes port 4040, then the next tries tries 4040 and fails so falls back to 4041, then a third would try 4040 and 4041 before landing on 4042, etc.&lt;/p&gt;

&lt;p&gt;We should catch the error and instead log as &quot;Unable to use port 4041; already in use.  Attempting port 4042...&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;14/05/22 11:31:54 WARN component.AbstractLifeCycle: FAILED SelectChannelConnector@0.0.0.0:4041: java.net.BindException: Address already in use
java.net.BindException: Address already in use
        at sun.nio.ch.Net.bind0(Native Method)
        at sun.nio.ch.Net.bind(Net.java:444)
        at sun.nio.ch.Net.bind(Net.java:436)
        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:214)
        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
        at org.eclipse.jetty.server.nio.SelectChannelConnector.open(SelectChannelConnector.java:187)
        at org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:316)
        at org.eclipse.jetty.server.nio.SelectChannelConnector.doStart(SelectChannelConnector.java:265)
        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)
        at org.eclipse.jetty.server.Server.doStart(Server.java:293)
        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)
        at org.apache.spark.ui.JettyUtils$$anonfun$1.apply$mcV$sp(JettyUtils.scala:192)
        at org.apache.spark.ui.JettyUtils$$anonfun$1.apply(JettyUtils.scala:192)
        at org.apache.spark.ui.JettyUtils$$anonfun$1.apply(JettyUtils.scala:192)
        at scala.util.Try$.apply(Try.scala:161)
        at org.apache.spark.ui.JettyUtils$.connect$1(JettyUtils.scala:191)
        at org.apache.spark.ui.JettyUtils$.startJettyServer(JettyUtils.scala:205)
        at org.apache.spark.ui.WebUI.bind(WebUI.scala:99)
        at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:217)
        at org.apache.spark.repl.SparkILoop.createSparkContext(SparkILoop.scala:957)
        at $line3.$read$$iwC$$iwC.&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:8)
        at $line3.$read$$iwC.&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:14)
        at $line3.$read.&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:16)
        at $line3.$read$.&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:20)
        at $line3.$read$.&amp;lt;clinit&amp;gt;(&amp;lt;console&amp;gt;)
        at $line3.$eval$.&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:7)
        at $line3.$eval$.&amp;lt;clinit&amp;gt;(&amp;lt;console&amp;gt;)
        at $line3.$eval.$print(&amp;lt;console&amp;gt;)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:788)
        at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1056)
        at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:614)
        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:645)
        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:609)
        at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:796)
        at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:841)
        at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:753)
        at org.apache.spark.repl.SparkILoopInit$$anonfun$initializeSpark$1.apply(SparkILoopInit.scala:121)
        at org.apache.spark.repl.SparkILoopInit$$anonfun$initializeSpark$1.apply(SparkILoopInit.scala:120)
        at org.apache.spark.repl.SparkIMain.beQuietDuring(SparkIMain.scala:263)
        at org.apache.spark.repl.SparkILoopInit$class.initializeSpark(SparkILoopInit.scala:120)
        at org.apache.spark.repl.SparkILoop.initializeSpark(SparkILoop.scala:56)
        at org.apache.spark.repl.SparkILoop$$anonfun$process$1$$anonfun$apply$mcZ$sp$5.apply$mcV$sp(SparkILoop.scala:913)
        at org.apache.spark.repl.SparkILoopInit$class.runThunks(SparkILoopInit.scala:142)
        at org.apache.spark.repl.SparkILoop.runThunks(SparkILoop.scala:56)
        at org.apache.spark.repl.SparkILoopInit$class.postInitialization(SparkILoopInit.scala:104)
        at org.apache.spark.repl.SparkILoop.postInitialization(SparkILoop.scala:56)
        at org.apache.spark.repl.SparkILoop$$anonfun$process$1.apply$mcZ$sp(SparkILoop.scala:930)
        at org.apache.spark.repl.SparkILoop$$anonfun$process$1.apply(SparkILoop.scala:884)
        at org.apache.spark.repl.SparkILoop$$anonfun$process$1.apply(SparkILoop.scala:884)
        at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)
        at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:884)
        at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:983)
        at org.apache.spark.repl.Main$.main(Main.scala:31)
        at org.apache.spark.repl.Main.main(Main.scala)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.apache.spark.deploy.SparkSubmit$.launch(SparkSubmit.scala:278)
        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:55)
        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12716160">SPARK-1902</key>
            <summary>Spark shell prints error when :4040 port already in use</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ash211@gmail.com">Andrew Ash</assignee>
                                    <reporter username="aash">Andrew Ash</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 May 2014 18:35:22 +0000</created>
                <updated>Fri, 12 May 2017 17:37:33 +0000</updated>
                            <resolved>Sat, 21 Jun 2014 01:26:34 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14007684" author="pwendell" created="Fri, 23 May 2014 20:51:53 +0000"  >&lt;p&gt;Yeah, this would be a good one to fix. IIRC I spent a long time trying to figure out how to silence only this message, but I couldn&apos;t do anything except for silencing all jetty WARN logs (which we don&apos;t want). I also considered first checking if the port is free before trying to bind to it, but that has race conditions. If someone figures out a better way to do this, that would be great.&lt;/p&gt;</comment>
                            <comment id="14021715" author="aash" created="Mon, 9 Jun 2014 07:05:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/pull/1019&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/1019&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14039627" author="pwendell" created="Sat, 21 Jun 2014 01:26:34 +0000"  >&lt;p&gt;Issue resolved by pull request 1019&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/1019&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/1019&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14626762" author="hhadi" created="Tue, 14 Jul 2015 17:51:37 +0000"  >&lt;p&gt;I am still seeing this error , I have spark running on Mesos. Any idea how to fix it ?&lt;br/&gt;
15/07/14 17:41:05 WARN AbstractLifeCycle: FAILED SelectChannelConnector@0.0.0.0:4040: java.net.BindException: Address already in use&lt;/p&gt;

&lt;p&gt;java.net.BindException: Address already in use&lt;br/&gt;
        at sun.nio.ch.Net.bind0(Native Method)&lt;br/&gt;
        at sun.nio.ch.Net.bind(Net.java:437)&lt;br/&gt;
        at sun.nio.ch.Net.bind(Net.java:429)&lt;br/&gt;
        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)&lt;br/&gt;
        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)&lt;br/&gt;
        at org.spark-project.jetty.server.nio.SelectChannelConnector.open(SelectChannelConnector.java:187)&lt;br/&gt;
        at org.spark-project.jetty.server.AbstractConnector.doStart(AbstractConnector.java:316)&lt;br/&gt;
        at org.spark-project.jetty.server.nio.SelectChannelConnector.doStart(SelectChannelConnector.java:265)&lt;br/&gt;
        at org.spark-project.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)&lt;br/&gt;
        at org.spark-project.jetty.server.Server.doStart(Server.java:293)&lt;br/&gt;
        at org.spark-project.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)&lt;br/&gt;
        at org.apache.spark.ui.JettyUtils$.org$apache$spark$ui$JettyUtils$$connect$1(JettyUtils.scala:228)&lt;br/&gt;
        at org.apache.spark.ui.JettyUtils$$anonfun$2.apply(JettyUtils.scala:238)&lt;br/&gt;
        at org.apache.spark.ui.JettyUtils$$anonfun$2.apply(JettyUtils.scala:238)&lt;br/&gt;
        at org.apache.spark.util.Utils$$anonfun$startServiceOnPort$1.apply$mcVI$sp(Utils.scala:1991)&lt;br/&gt;
        at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:141)&lt;br/&gt;
        at org.apache.spark.util.Utils$.startServiceOnPort(Utils.scala:1982)&lt;br/&gt;
        at org.apache.spark.ui.JettyUtils$.startJettyServer(JettyUtils.scala:238)&lt;br/&gt;
        at org.apache.spark.ui.WebUI.bind(WebUI.scala:117)&lt;br/&gt;
        at org.apache.spark.SparkContext$$anonfun$13.apply(SparkContext.scala:448)&lt;br/&gt;
        at org.apache.spark.SparkContext$$anonfun$13.apply(SparkContext.scala:448)&lt;br/&gt;
        at scala.Option.foreach(Option.scala:236)&lt;br/&gt;
        at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:448)&lt;br/&gt;
        at com.myclass.MyClassTest$class.build_context(MyClassTes.scala:233)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:497)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:665)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:170)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:193)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:112)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)&lt;br/&gt;
15/07/14 17:41:05 WARN AbstractLifeCycle: FAILED org.spark-project.jetty.server.Server@35fe2125: java.net.BindException: Address already in use&lt;/p&gt;

&lt;p&gt;Here is the line of code that is causing it :  val sparkContext = new org.apache.spark.SparkContext(conf)&lt;/p&gt;
</comment>
                            <comment id="16008443" author="dud" created="Fri, 12 May 2017 17:37:33 +0000"  >&lt;p&gt;Hello&lt;/p&gt;

&lt;p&gt;I&apos;m also getting this long warning message on Spark 2.1.1.&lt;br/&gt;
I just copied log4j.properties.template to log4j.properties and this long stackstrace is now gone.&lt;br/&gt;
I don&apos;t know why this log4j configuration is not applied by default.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12941382">SPARK-13451</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>394369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vwiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>394508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>