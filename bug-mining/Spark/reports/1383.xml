<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:23:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-5696] HiveThriftServer2Suite fails because of extra log4j.properties in the driver classpath</title>
                <link>https://issues.apache.org/jira/browse/SPARK-5696</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;PR #2982 added the &lt;tt&gt;--driver-class-path&lt;/tt&gt; flag to &lt;tt&gt;HiveThriftServer2Suite&lt;/tt&gt; so that it passes when the &lt;tt&gt;hadoop-provided&lt;/tt&gt; profile is used. However,  &lt;tt&gt;lib_managed/jars/jets3s-0.9.2.jar&lt;/tt&gt; in the classpath has a log4j.properties in it, which sets root logger level to ERROR. This makes &lt;tt&gt;HiveThriftServer2Suite&lt;/tt&gt; fail because it starts new processes and checks for log output.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12773569">SPARK-5696</key>
            <summary>HiveThriftServer2Suite fails because of extra log4j.properties in the driver classpath</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lian cheng">Cheng Lian</assignee>
                                    <reporter username="lian cheng">Cheng Lian</reporter>
                        <labels>
                            <label>flaky-test</label>
                    </labels>
                <created>Mon, 9 Feb 2015 20:49:48 +0000</created>
                <updated>Thu, 19 Feb 2015 02:18:33 +0000</updated>
                            <resolved>Tue, 10 Feb 2015 00:51:45 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14312974" author="lian cheng" created="Mon, 9 Feb 2015 22:05:38 +0000"  >&lt;p&gt;Jets3t 0.9.2 breaks &lt;tt&gt;HiveThriftServer2Suite&lt;/tt&gt; as described in the ticket description.&lt;/p&gt;</comment>
                            <comment id="14313005" author="pwendell" created="Mon, 9 Feb 2015 22:21:42 +0000"  >&lt;p&gt;Wow - this must have been a substantial effort to figure out what caused this. Sorry I didn&apos;t anticipate this when signing off on that patch. &lt;/p&gt;</comment>
                            <comment id="14313007" author="joshrosen" created="Mon, 9 Feb 2015 22:21:52 +0000"  >&lt;p&gt;It looks like this might be fixed in jets3t 0.0.3:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.jets3t.org/RELEASE_NOTES.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.jets3t.org/RELEASE_NOTES.html&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Remove problematic config files that were being included in Maven distribution, especially a default logging config, that could break things for some users (#199)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think this has been published to Maven central yet, though, even though it&apos;s been released (AFAIK).  Should we contact the jets3t author to see if we can get them to publish 0.9.3?&lt;/p&gt;</comment>
                            <comment id="14313026" author="lian cheng" created="Mon, 9 Feb 2015 22:30:48 +0000"  >&lt;p&gt;Yeah, it would be good to upgrade jets3t to 0.9.3. In the meanwhile, I&apos;ll prepend &lt;tt&gt;$SPARK_HOME/conf&lt;/tt&gt; to the driver classpath used in &lt;tt&gt;HiveThriftServer2Suite&lt;/tt&gt; in order to prevent similar issues in the future.&lt;/p&gt;</comment>
                            <comment id="14313027" author="lian cheng" created="Mon, 9 Feb 2015 22:31:30 +0000"  >&lt;p&gt;Never mind, this issue is kinda like a butterfly effect &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14313088" author="apachespark" created="Mon, 9 Feb 2015 22:59:30 +0000"  >&lt;p&gt;User &apos;liancheng&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/4484&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/4484&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14313099" author="joshrosen" created="Mon, 9 Feb 2015 23:04:02 +0000"  >&lt;p&gt;I contacted the JetS3t author and he&apos;s publishing 0.9.3 to Maven Central right now, so it should be available in a couple of hours.&lt;/p&gt;</comment>
                            <comment id="14313110" author="lian cheng" created="Mon, 9 Feb 2015 23:07:57 +0000"  >&lt;p&gt;Thanks, Josh! Also delivered a fix to comfort Jenkins and prevent similar issues in the future.&lt;/p&gt;</comment>
                            <comment id="14313288" author="lian cheng" created="Tue, 10 Feb 2015 00:51:45 +0000"  >&lt;p&gt;Issue resolved by pull request 4484&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/4484&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/4484&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12773622">SPARK-5700</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12749841">SPARK-4048</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12773259">SPARK-5671</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25dun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>