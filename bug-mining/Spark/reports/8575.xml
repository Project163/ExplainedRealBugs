<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:30:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-39620] History server page and API are using inconsistent conditions to filter running applications</title>
                <link>https://issues.apache.org/jira/browse/SPARK-39620</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When opening summary page, history server follows this logic:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;If there&apos;s completed/incomplete application, page will add script in response, using AJAX to call the REST API to get the filtered list.&lt;/li&gt;
	&lt;li&gt;If there&apos;s no such application, page will only return a message telling nothing found.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Issue is that page and REST API are using different conditions to filter applications. In HistoryPage, an application is considered as completed as long as the last attempt is completed. But in ApplicationListResource, all attempts should be completed. This brings inconsistency and will cause issue in a corner case.&lt;/p&gt;

&lt;p&gt;In driver, event queues have capacity to protect memory. When there&apos;s too many events, some of them will be dropped and the event log file will be incomplete. For an application with multiple attempts, there&apos;s possibility that the last attempt is completed, but the previous attempts is considered as incomplete due to loss of application end event.&lt;/p&gt;

&lt;p&gt;For this type of application, page thinks it is completed, but the API thinks it is still running. When opening summary page:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;When checking completed applications, page will call script, but API returns nothing.&lt;/li&gt;
	&lt;li&gt;When checking incomplete applications, page returns nothing.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So the user won&apos;t be able to see this app in history server.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13468629">SPARK-39620</key>
            <summary>History server page and API are using inconsistent conditions to filter running applications</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wekoms">wy</assignee>
                                    <reporter username="wekoms">wy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jun 2022 14:53:48 +0000</created>
                <updated>Fri, 8 Jul 2022 13:20:52 +0000</updated>
                            <resolved>Fri, 8 Jul 2022 13:20:43 +0000</resolved>
                                    <version>3.2.1</version>
                    <version>3.3.0</version>
                                    <fixVersion>3.4.0</fixVersion>
                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="17559249" author="apachespark" created="Mon, 27 Jun 2022 16:13:04 +0000"  >&lt;p&gt;User &apos;kuwii&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/37008&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/37008&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17559250" author="apachespark" created="Mon, 27 Jun 2022 16:13:08 +0000"  >&lt;p&gt;User &apos;kuwii&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/37007&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/37007&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17564289" author="srowen" created="Fri, 8 Jul 2022 13:20:43 +0000"  >&lt;p&gt;Issue resolved by pull request 37008&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/37008&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/37008&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16e8o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>