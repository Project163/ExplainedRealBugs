<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:24:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-4777] Some block memory after unrollSafely not count into used memory(memoryStore.entrys or unrollMemory)</title>
                <link>https://issues.apache.org/jira/browse/SPARK-4777</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Some memory not count into memory used by memoryStore or unrollMemory.&lt;/p&gt;

&lt;p&gt;Thread A after unrollsafely memory, it will release 40MB unrollMemory(40MB will used by other threads). then ThreadA wait get accountingLock to tryToPut blockA(30MB). before Thread A get accountingLock, blockA memory size is not counting into unrollMemory or memoryStore.currentMemory.&lt;/p&gt;

&lt;p&gt; IIUC, freeMemory should minus that block memory&lt;/p&gt;</description>
                <environment></environment>
        <key id="12759963">SPARK-4777</key>
            <summary>Some block memory after unrollSafely not count into used memory(memoryStore.entrys or unrollMemory)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="SuYan">SuYan</assignee>
                                    <reporter username="SuYan">SuYan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Dec 2014 11:40:41 +0000</created>
                <updated>Tue, 3 Mar 2015 00:54:08 +0000</updated>
                            <resolved>Tue, 3 Mar 2015 00:54:07 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14236765" author="apachespark" created="Sat, 6 Dec 2014 12:08:48 +0000"  >&lt;p&gt;User &apos;suyanNone&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/3629&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3629&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14248177" author="srowen" created="Tue, 16 Dec 2014 11:50:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=SuYan&quot; class=&quot;user-hover&quot; rel=&quot;SuYan&quot;&gt;SuYan&lt;/a&gt; Given your comment in your PR, do you intend this to be considered a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-3000&quot; title=&quot;Drop old blocks to disk in parallel when memory is not large enough for caching new blocks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-3000&quot;&gt;&lt;del&gt;SPARK-3000&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14249330" author="suyan" created="Wed, 17 Dec 2014 02:25:57 +0000"  >&lt;p&gt;Sean Owen, Hi, I intended to close that patch, but after having discussed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-3000&quot; title=&quot;Drop old blocks to disk in parallel when memory is not large enough for caching new blocks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-3000&quot;&gt;&lt;del&gt;SPARK-3000&lt;/del&gt;&lt;/a&gt; author, he says, current &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-3000&quot; title=&quot;Drop old blocks to disk in parallel when memory is not large enough for caching new blocks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-3000&quot;&gt;&lt;del&gt;SPARK-3000&lt;/del&gt;&lt;/a&gt; is have not merge into spark yet, so the problem is still in current code, so let&apos;s keep my patch still be open. &lt;br/&gt;
If there are not a need to keep it open, tell me, I will close it, thanks.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i235bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12329359">1.4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>