<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:31:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-8952] JsonFile() of SQLContext display improper warning message for a S3 path</title>
                <link>https://issues.apache.org/jira/browse/SPARK-8952</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;This is an issue reported by Ben Spark &amp;lt;ben_spark_1@yahoo.com.au&amp;gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Spark 1.4 deployed on AWS EMR &lt;/p&gt;

&lt;p&gt;&quot;jsonFile&quot; is working though with some warning message&lt;br/&gt;
Warning message:&lt;br/&gt;
In normalizePath(path) :&lt;br/&gt;
  path&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;=&quot;s3://rea-consumer-data-dev/cbr/profiler/output/20150618/part-00000&quot;: No such file or directory&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12843819">SPARK-8952</key>
            <summary>JsonFile() of SQLContext display improper warning message for a S3 path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lresende">Luciano Resende</assignee>
                                    <reporter username="sunrui">Sun Rui</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Jul 2015 09:59:44 +0000</created>
                <updated>Sun, 30 Aug 2015 01:26:06 +0000</updated>
                            <resolved>Fri, 28 Aug 2015 16:14:31 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14620232" author="sunrui" created="Thu, 9 Jul 2015 10:02:26 +0000"  >&lt;p&gt;jsonFile() and parquetFile() will call R normalizePath function to normalize the data source path passed in. However, it seems normalizePath() is used to normalize local file path, not remote URI.&lt;/p&gt;</comment>
                            <comment id="14620805" author="shivaram" created="Thu, 9 Jul 2015 16:34:48 +0000"  >&lt;p&gt;This is a good point. I don&apos;t see an easy way of distinguishing between local and remote paths though. One thing we could do is silence the warning ?&lt;/p&gt;</comment>
                            <comment id="14624300" author="sunrui" created="Mon, 13 Jul 2015 07:12:17 +0000"  >&lt;p&gt;Currently normalizePath()  is used in several places allowing users to specify paths via the use of tilde expansion, or to normalize a relative path to an absolute path. However, normalizePath() is used for paths which are actually expected to be a URI. normalizePath() may display warning messages when it does not recognize a URI as a local file path. So suppressWarnings() is used to suppress the possible warnings.&lt;/p&gt;

&lt;p&gt;Worse than warnings, call normalizePath() on a URI may cause error. Because it may turn a user specified relative path to an absolute path using the local current directory, but this may not be true because the path is actually relative to the working directory of the default file system instead of the local file system (depends on the Hadoop configuration of Spark).&lt;/p&gt;

&lt;p&gt;So I would recommend to eliminate the usage of normalizePath() for URI in cases for example, textFile, objectFile, jsonFile, parquetFile(). &lt;/p&gt;</comment>
                            <comment id="14624781" author="shivaram" created="Mon, 13 Jul 2015 15:18:51 +0000"  >&lt;p&gt;So the reason normalizePath exists is to make the local file paths work correctly (i.e things like ~/spark/README.md) &amp;#8211; Maybe we could have a function that does this on the Scala side but also verifies this with the Hadoop Configuration ?&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davies&quot; class=&quot;user-hover&quot; rel=&quot;davies&quot;&gt;davies&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14625586" author="davies" created="Mon, 13 Jul 2015 23:46:26 +0000"  >&lt;p&gt;Can we change to only call normalizedPath() when the path starts with `~` ?&lt;/p&gt;</comment>
                            <comment id="14705616" author="apachespark" created="Thu, 20 Aug 2015 19:40:00 +0000"  >&lt;p&gt;User &apos;lresende&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8343&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8343&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14720102" author="shivaram" created="Fri, 28 Aug 2015 16:14:31 +0000"  >&lt;p&gt;Issue resolved by pull request 8343&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8343&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8343&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14720889" author="sunrui" created="Sat, 29 Aug 2015 01:30:34 +0000"  >&lt;p&gt;I submitted &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10347&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-10347&lt;/a&gt; to track this issue for a long-term solution.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12860468">SPARK-10347</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2h1m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>