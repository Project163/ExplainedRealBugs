<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:15:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-2316] StorageStatusListener should avoid O(blocks) operations</title>
                <link>https://issues.apache.org/jira/browse/SPARK-2316</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In the case where jobs are frequently causing dropped blocks the storage status listener can bottleneck. This is slow for a few reasons, one being that we use Scala collection operations, the other being that we operations that are O(number of blocks). I think using a few indices here could make this much faster.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.valueOf(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.java:642)
        at scala.runtime.BoxesRunTime.boxToInteger(BoxesRunTime.java:70)
        at org.apache.spark.storage.StorageUtils$$anonfun$9.apply(StorageUtils.scala:82)
        at scala.collection.TraversableLike$$anonfun$groupBy$1.apply(TraversableLike.scala:328)
        at scala.collection.TraversableLike$$anonfun$groupBy$1.apply(TraversableLike.scala:327)
        at scala.collection.immutable.HashMap$HashMap1.foreach(HashMap.scala:224)
        at scala.collection.immutable.HashMap$HashTrieMap.foreach(HashMap.scala:403)
        at scala.collection.immutable.HashMap$HashTrieMap.foreach(HashMap.scala:403)
        at scala.collection.immutable.HashMap$HashTrieMap.foreach(HashMap.scala:403)
        at scala.collection.TraversableLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;groupBy(TraversableLike.scala:327)
        at scala.collection.AbstractTraversable.groupBy(Traversable.scala:105)
        at org.apache.spark.storage.StorageUtils$.rddInfoFromStorageStatus(StorageUtils.scala:82)
        at org.apache.spark.ui.storage.StorageListener.updateRDDInfo(StorageTab.scala:56)
        at org.apache.spark.ui.storage.StorageListener.onTaskEnd(StorageTab.scala:67)
        - locked &amp;lt;0x00000000a27ebe30&amp;gt; (a org.apache.spark.ui.storage.StorageListener)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12724303">SPARK-2316</key>
            <summary>StorageStatusListener should avoid O(blocks) operations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrewor14">Andrew Or</assignee>
                                    <reporter username="pwendell">Patrick Wendell</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jun 2014 18:54:42 +0000</created>
                <updated>Thu, 8 Jan 2015 11:53:53 +0000</updated>
                            <resolved>Sat, 2 Aug 2014 19:15:54 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Spark Core</component>
                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14065256" author="shivaram" created="Thu, 17 Jul 2014 18:06:02 +0000"  >&lt;p&gt;I&apos;d just like to add that in cases where we have many thousands of blocks, this stack trace occupies one core constantly on the Master and is probably one of the reasons why the WebUI stops functioning after a certain point. &lt;/p&gt;</comment>
                            <comment id="14074692" author="shivaram" created="Fri, 25 Jul 2014 18:03:35 +0000"  >&lt;p&gt;On a related note, can we have flags to turn off some of the UI listeners ? If the StorageTab is going to be too expensive to update, it&apos;ll be good to have a way to turn it off and just have the JobProgress show up in the UI&lt;/p&gt;</comment>
                            <comment id="14080449" author="apachespark" created="Thu, 31 Jul 2014 03:41:23 +0000"  >&lt;p&gt;User &apos;andrewor14&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/1679&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/1679&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14083672" author="pwendell" created="Sat, 2 Aug 2014 19:15:54 +0000"  >&lt;p&gt;This was fixed via:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/1679&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/1679&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14269243" author="pwolfe" created="Thu, 8 Jan 2015 11:53:53 +0000"  >&lt;p&gt;Any workaround ideas for users who can&apos;t yet upgrade (stuck on version 1.0.0)? &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12722986">SPARK-2228</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12747090">SPARK-3882</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12722986">SPARK-2228</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12729540">SPARK-2675</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x9zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326686">1.1.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>