<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:47:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-17299] TRIM/LTRIM/RTRIM strips characters other than spaces</title>
                <link>https://issues.apache.org/jira/browse/SPARK-17299</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;TRIM/LTRIM/RTRIM docs state that they only strip spaces:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://spark.apache.org/docs/2.0.0/api/java/org/apache/spark/sql/functions.html#trim(org.apache.spark.sql.Column&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://spark.apache.org/docs/2.0.0/api/java/org/apache/spark/sql/functions.html#trim(org.apache.spark.sql.Column&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;But the implementation strips all characters of ASCII value 20 or less:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/blob/v2.0.0/common/unsafe/src/main/java/org/apache/spark/unsafe/types/UTF8String.java#L468-L470&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/v2.0.0/common/unsafe/src/main/java/org/apache/spark/unsafe/types/UTF8String.java#L468-L470&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13001094">SPARK-17299</key>
            <summary>TRIM/LTRIM/RTRIM strips characters other than spaces</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="techaddict">Sandeep Singh</assignee>
                                    <reporter username="jbeard">Jacob Evan Beard</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Aug 2016 19:31:05 +0000</created>
                <updated>Tue, 6 Sep 2016 21:19:29 +0000</updated>
                            <resolved>Tue, 6 Sep 2016 21:18:52 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.1</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                                    <component>Documentation</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15446870" author="srowen" created="Mon, 29 Aug 2016 19:45:02 +0000"  >&lt;p&gt;I&apos;m almost certain its intent is to match the behavior of String.trim() in Java. Unless there&apos;s a reason to believe it should behave otherwise I think the docs should be fixed to resolve this.&lt;/p&gt;</comment>
                            <comment id="15446902" author="jbeard" created="Mon, 29 Aug 2016 20:00:29 +0000"  >&lt;p&gt;What is the priority for compatibility with other SQL dialects? TRIM in (at least) Hive, Impala, Oracle, and Teradata is just for spaces.&lt;/p&gt;</comment>
                            <comment id="15446930" author="srowen" created="Mon, 29 Aug 2016 20:12:36 +0000"  >&lt;p&gt;That&apos;s probably the intent yeah. If that&apos;s how the other engines treat TRIM then this is a bug. I can see it is indeed implemented internally with String.trim().&lt;br/&gt;
CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenghao&quot; class=&quot;user-hover&quot; rel=&quot;chenghao&quot;&gt;chenghao&lt;/a&gt; for &lt;a href=&quot;https://github.com/apache/spark/commit/0b0b9ceaf73de472198c9804fb7ae61fa2a2e097&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/0b0b9ceaf73de472198c9804fb7ae61fa2a2e097&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15449425" author="dongjoon" created="Tue, 30 Aug 2016 16:17:37 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbeard&quot; class=&quot;user-hover&quot; rel=&quot;jbeard&quot;&gt;jbeard&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt;.&lt;br/&gt;
For the compatibility, it seems we had better fix this in SQL.&lt;br/&gt;
Could you make a PR for this, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbeard&quot; class=&quot;user-hover&quot; rel=&quot;jbeard&quot;&gt;jbeard&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15451810" author="chenghao" created="Wed, 31 Aug 2016 10:12:15 +0000"  >&lt;p&gt;Yes, that&apos;s my bad, I thought it should be the same behavior of `String.trim()`. We should fix this bug. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbeard&quot; class=&quot;user-hover&quot; rel=&quot;jbeard&quot;&gt;jbeard&lt;/a&gt;, can you please fix it?&lt;/p&gt;</comment>
                            <comment id="15451914" author="chenghao" created="Wed, 31 Aug 2016 10:59:04 +0000"  >&lt;p&gt;Or come after &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-14878&quot; title=&quot;Support Trim characters in the string trim function&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-14878&quot;&gt;&lt;del&gt;SPARK-14878&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="15451919" author="srowen" created="Wed, 31 Aug 2016 11:01:12 +0000"  >&lt;p&gt;We should fix this now IMHO. I&apos;m not sure about the other change which is both large, and less useful in Spark SQL where you can perform any transformations you want easily in code.&lt;/p&gt;</comment>
                            <comment id="15456387" author="apachespark" created="Thu, 1 Sep 2016 19:32:07 +0000"  >&lt;p&gt;User &apos;techaddict&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/14924&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/14924&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15468595" author="srowen" created="Tue, 6 Sep 2016 21:18:52 +0000"  >&lt;p&gt;Issue resolved by pull request 14924&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/14924&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/14924&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32yxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>