<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:18:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-32467] Avoid encoding URL twice on https redirect</title>
                <link>https://issues.apache.org/jira/browse/SPARK-32467</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Currently, on https redirect, the original URL is encoded as an HTTPS URL. However, the original URL could be encoded already, so that the return result of method&lt;br/&gt;
UriInfo.getQueryParameters will contain encoded keys and values. For example, a parameter&lt;br/&gt;
order&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;dir&amp;#93;&lt;/span&gt; will become order%255B0%255D%255Bcolumn%255D after encoded twice, and the decoded&lt;br/&gt;
key in the result of UriInfo.getQueryParameters will be order%5B0%5D%5Bcolumn%5D.&lt;/p&gt;

&lt;p&gt;To fix the problem, we try decoding the query parameters before encoding it. This is to make sure we encode the URL exactly once.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13319773">SPARK-32467</key>
            <summary>Avoid encoding URL twice on https redirect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Gengliang.Wang">Gengliang Wang</assignee>
                                    <reporter username="Gengliang.Wang">Gengliang Wang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jul 2020 14:31:56 +0000</created>
                <updated>Tue, 6 Jul 2021 13:16:44 +0000</updated>
                            <resolved>Sat, 1 Aug 2020 05:11:06 +0000</resolved>
                                    <version>3.0.1</version>
                    <version>3.1.0</version>
                                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17166477" author="apachespark" created="Tue, 28 Jul 2020 14:52:55 +0000"  >&lt;p&gt;User &apos;gengliangwang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29271&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29271&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17169235" author="gengliang.wang" created="Sat, 1 Aug 2020 05:11:06 +0000"  >&lt;p&gt;The issue is resolved in &lt;a href=&quot;https://github.com/apache/spark/pull/29271&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29271&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17368005" author="dzcxzl" created="Wed, 23 Jun 2021 09:56:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-3239&quot; title=&quot;WebAppProxy does not support a final tracking url which has query fragments and params &quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-3239&quot;&gt;&lt;del&gt;YARN-3239&lt;/del&gt;&lt;/a&gt;. WebAppProxy does not support a final tracking url which has query fragments and params.&lt;/p&gt;

&lt;p&gt;If the Yarn cluster does not use the&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-3217&quot; title=&quot;Remove httpclient dependency from hadoop-yarn-server-web-proxy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-3217&quot;&gt;&lt;del&gt;YARN-3217&lt;/del&gt;&lt;/a&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-3239&quot; title=&quot;WebAppProxy does not support a final tracking url which has query fragments and params &quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-3239&quot;&gt;&lt;del&gt;YARN-3239&lt;/del&gt;&lt;/a&gt; patch, the running spark job still encounters the NPE problem when accessing the task page.&lt;/p&gt;

&lt;p&gt;Does spark need to do URL decode twice to avoid NPE?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13336318">SPARK-33195</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0h9s8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>