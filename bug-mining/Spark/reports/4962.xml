<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:54:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-21093] Multiple gapply execution occasionally failed in SparkR </title>
                <link>https://issues.apache.org/jira/browse/SPARK-21093</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;On Centos 7.2.1511 with R 3.4.0/3.3.0, multiple execution of &lt;tt&gt;gapply&lt;/tt&gt; looks failed as below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; Welcome to
    ____              __
   / __/__  ___ _____/ /__
  _\ \/ _ \/ _ `/ __/  &apos;_/
 /___/ .__/\_,_/_/ /_/\_\   version  2.3.0-SNAPSHOT
    /_/


 SparkSession available as &lt;span class=&quot;code-quote&quot;&gt;&apos;spark&apos;&lt;/span&gt;.
&amp;gt; df &amp;lt;- createDataFrame(list(list(1L, 1, &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;, 0.1)), c(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;d&quot;&lt;/span&gt;))
&amp;gt; collect(gapply(df, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, function(key, x) { x }, schema(df)))
17/06/14 18:21:01 WARN Utils: Truncated the string representation of a plan since it was too large. This behavior can be adjusted by setting &lt;span class=&quot;code-quote&quot;&gt;&apos;spark.debug.maxToStringFields&apos;&lt;/span&gt; in SparkEnv.conf.
  a b c   d
1 1 1 1 0.1
&amp;gt; collect(gapply(df, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, function(key, x) { x }, schema(df)))
  a b c   d
1 1 1 1 0.1
&amp;gt; collect(gapply(df, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, function(key, x) { x }, schema(df)))
  a b c   d
1 1 1 1 0.1
&amp;gt; collect(gapply(df, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, function(key, x) { x }, schema(df)))
  a b c   d
1 1 1 1 0.1
&amp;gt; collect(gapply(df, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, function(key, x) { x }, schema(df)))
  a b c   d
1 1 1 1 0.1
&amp;gt; collect(gapply(df, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, function(key, x) { x }, schema(df)))
  a b c   d
1 1 1 1 0.1
&amp;gt; collect(gapply(df, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, function(key, x) { x }, schema(df)))

Error in handleErrors(returnStatus, conn) :
  org.apache.spark.SparkException: Job aborted due to stage failure: Task 98 in stage 14.0 failed 1 times, most recent failure: Lost task 98.0 in stage 14.0 (TID 1305, localhost, executor driver): org.apache.spark.SparkException: R computation failed with

        at org.apache.spark.api.r.RRunner.compute(RRunner.scala:108)
        at org.apache.spark.sql.execution.FlatMapGroupsInRExec$$anonfun$13.apply(objects.scala:432)
        at org.apache.spark.sql.execution.FlatMapGroupsInRExec$$anonfun$13.apply(objects.scala:414)
        at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
        at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$25.apply(RDD.scala:827)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.a

...

*** buffer overflow detected ***: /usr/lib64/R/bin/exec/R terminated
======= Backtrace: =========
/lib64/libc.so.6(__fortify_fail+0x37)[0x7fe699b3f597]
/lib64/libc.so.6(+0x10c750)[0x7fe699b3d750]
/lib64/libc.so.6(+0x10e507)[0x7fe699b3f507]
/usr/lib64/R/modules&lt;span class=&quot;code-comment&quot;&gt;//internet.so(+0x6015)[0x7fe689bb7015]
&lt;/span&gt;/usr/lib64/R/modules&lt;span class=&quot;code-comment&quot;&gt;//internet.so(+0xe81e)[0x7fe689bbf81e]
&lt;/span&gt;/usr/lib64/R/lib/libR.so(+0xbd1b6)[0x7fe69c54a1b6]
/usr/lib64/R/lib/libR.so(+0x1104d0)[0x7fe69c59d4d0]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(Rf_eval+0x354)[0x7fe69c5ad2f4]
/usr/lib64/R/lib/libR.so(+0x123f8e)[0x7fe69c5b0f8e]
/usr/lib64/R/lib/libR.so(Rf_eval+0x589)[0x7fe69c5ad529]
/usr/lib64/R/lib/libR.so(+0x1254ce)[0x7fe69c5b24ce]
/usr/lib64/R/lib/libR.so(+0x1104d0)[0x7fe69c59d4d0]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(+0x119101)[0x7fe69c5a6101]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x120a7e)[0x7fe69c5ada7e]
/usr/lib64/R/lib/libR.so(Rf_eval+0x817)[0x7fe69c5ad7b7]
/usr/lib64/R/lib/libR.so(+0x1256d1)[0x7fe69c5b26d1]
/usr/lib64/R/lib/libR.so(+0x1552e9)[0x7fe69c5e22e9]
/usr/lib64/R/lib/libR.so(+0x11062a)[0x7fe69c59d62a]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(+0x119101)[0x7fe69c5a6101]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(+0x119101)[0x7fe69c5a6101]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x120a7e)[0x7fe69c5ada7e]
/usr/lib64/R/lib/libR.so(+0x11ee91)[0x7fe69c5abe91]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x120a7e)[0x7fe69c5ada7e]
/usr/lib64/R/lib/libR.so(+0x11ee91)[0x7fe69c5abe91]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x120a7e)[0x7fe69c5ada7e]
/usr/lib64/R/lib/libR.so(+0x11ee91)[0x7fe69c5abe91]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x120a7e)[0x7fe69c5ada7e]
/usr/lib64/R/lib/libR.so(+0x11ee91)[0x7fe69c5abe91]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x120a7e)[0x7fe69c5ada7e]
/usr/lib64/R/lib/libR.so(+0x11ee91)[0x7fe69c5abe91]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(+0x119101)[0x7fe69c5a6101]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(+0x119101)[0x7fe69c5a6101]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(+0x119101)[0x7fe69c5a6101]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(+0x119101)[0x7fe69c5a6101]
/usr/lib64/R/lib/libR.so(Rf_eval+0x198)[0x7fe69c5ad138]
/usr/lib64/R/lib/libR.so(+0x1221af)[0x7fe69c5af1af]
/usr/lib64/R/lib/libR.so(+0x119101)[0x7fe69c5a6101]
/usr/lib64/R/lib/libR.so(+0x12649e)[0x7fe69c5b349e]
/usr/lib64/R/lib/libR.so(+0x12744b)[0x7fe69c5b444b]
/usr/lib64/R/lib/libR.so(Rf_eval+0x589)[0x7fe69c5ad529]
/usr/lib64/R/lib/libR.so(Rf_ReplIteration+0x232)[0x7fe69c5d6e12]
======= Memory map: ========
00400000-00401000 r-xp 00000000 08:04 55839004975                        /usr/lib64/R/bin/exec/R
00600000-00601000 r--p 00000000 08:04 55839004975                        /usr/lib64/R/bin/exec/R
00601000-00602000 rw-p 00001000 08:04 55839004975                        /usr/lib64/R/bin/exec/R
01c55000-047ce000 rw-p 00000000 00:00 0                                  [heap]
047ce000-04852000 rw-p 00000000 00:00 0                                  [heap]
7fe685e06000-7fe685e0b000 r-xp 00000000 08:04 2164504660                 /usr/lib64/R/library/parallel/libs/parallel.so
7fe685e0b000-7fe68600a000 ---p 00005000 08:04 2164504660                 /usr/lib64/R/library/parallel/libs/parallel.so
7fe68600a000-7fe68600b000 r--p 00004000 08:04 2164504660                 /usr/lib64/R/library/parallel/libs/parallel.so
7fe68600b000-7fe68600c000 rw-p 00005000 08:04 2164504660                 /usr/lib64/R/library/parallel/libs/parallel.so
7fe68600c000-7fe686018000 r-xp 00000000 08:04 64425907345                /usr/lib64/libnss_files-2.17.so
7fe686018000-7fe686217000 ---p 0000c000 08:04 64425907345                /usr/lib64/libnss_files-2.17.so
7fe686217000-7fe686218000 r--p 0000b000 08:04 64425907345                /usr/lib64/libnss_files-2.17.so
7fe686218000-7fe686219000 rw-p 0000c000 08:04 64425907345                /usr/lib64/libnss_files-2.17.so
7fe686219000-7fe68621f000 rw-p 00000000 00:00 0
7fe68621f000-7fe686221000 r-xp 00000000 08:04 64424510590                /usr/lib64/libfreebl3.so
7fe686221000-7fe686420000 ---p 00002000 08:04 64424510590                /usr/lib64/libfreebl3.so
7fe686420000-7fe686421000 r--p 00001000 08:04 64424510590                /usr/lib64/libfreebl3.so
7fe686421000-7fe686422000 rw-p 00002000 08:04 64424510590                /usr/lib64/libfreebl3.so
7fe686422000-7fe68642a000 r-xp 00000000 08:04 64425907331                /usr/lib64/libcrypt-2.17.so
7fe68642a000-7fe686629000 ---p 00008000 08:04 64425907331                /usr/lib64/libcrypt-2.17.so
7fe686629000-7fe68662a000 r--p 00007000 08:04 64425907331                /usr/lib64/libcrypt-2.17.so
7fe68662a000-7fe68662b000 rw-p 00008000 08:04 64425907331                /usr/lib64/libcrypt-2.17.so
7fe68662b000-7fe686659000 rw-p 00000000 00:00 0
7fe686659000-7fe68667d000 r-xp 00000000 08:04 64433322030                /usr/lib64/libselinux.so.1
7fe68667d000-7fe68687c000 ---p 00024000 08:04 64433322030                /usr/lib64/libselinux.so.1
7fe68687c000-7fe68687d000 r--p 00023000 08:04 64433322030                /usr/lib64/libselinux.so.1
7fe68687d000-7fe68687e000 rw-p 00024000 08:04 64433322030                /usr/lib64/libselinux.so.1
7fe68687e000-7fe686880000 rw-p 00000000 00:00 0
7fe686880000-7fe68689c000 r-xp 00000000 08:04 64424511832                /usr/lib64/libsasl2.so.3.0.0
7fe68689c000-7fe686a9b000 ---p 0001c000 08:04 64424511832                /usr/lib64/libsasl2.so.3.0.0
7fe686a9b000-7fe686a9c000 r--p 0001b000 08:04 64424511832                /usr/lib64/libsasl2.so.3.0.0
7fe686a9c000-7fe686a9d000 rw-p 0001c000 08:04 64424511832                /usr/lib64/libsasl2.so.3.0.0
7fe686a9d000-7fe686ab3000 r-xp 00000000 08:04 64425907355                /usr/lib64/libresolv-2.17.so
7fe686ab3000-7fe686cb3000 ---p 00016000 08:04 64425907355                /usr/lib64/libresolv-2.17.so
7fe686cb3000-7fe686cb4000 r--p 00016000 08:04 64425907355                /usr/lib64/libresolv-2.17.so
7fe686cb4000-7fe686cb5000 rw-p 00017000 08:04 64425907355                /usr/lib64/libresolv-2.17.so
7fe686cb5000-7fe686cb7000 rw-p 00000000 00:00 0
7fe686cb7000-7fe686cba000 r-xp 00000000 08:04 64424511994                /usr/lib64/libkeyutils.so.1.5
7fe686cba000-7fe686eb9000 ---p 00003000 08:04 64424511994                /usr/lib64/libkeyutils.so.1.5
7fe686eb9000-7fe686eba000 r--p 00002000 08:04 64424511994                /usr/lib64/libkeyutils.so.1.5
7fe686eba000-7fe686ebb000 rw-p 00003000 08:04 64424511994                /usr/lib64/libkeyutils.so.1.5
7fe686ebb000-7fe686ec8000 r-xp 00000000 08:04 64424692791                /usr/lib64/libkrb5support.so.0.1
7fe686ec8000-7fe6870c8000 ---p 0000d000 08:04 64424692791                /usr/lib64/libkrb5support.so.0.1
7fe6870c8000-7fe6870c9000 r--p 0000d000 08:04 64424692791                /usr/lib64/libkrb5support.so.0.1
7fe6870c9000-7fe6870ca000 rw-p 0000e000 08:04 64424692791                /usr/lib64/libkrb5support.so.0.1
7fe6870ca000-7fe687288000 r-xp 00000000 08:04 64424692795                /usr/lib64/libcrypto.so.1.0.1e
7fe687288000-7fe687488000 ---p 001be000 08:04 64424692795                /usr/lib64/libcrypto.so.1.0.1e
7fe687488000-7fe6874a2000 r--p 001be000 08:04 64424692795                /usr/lib64/libcrypto.so.1.0.1e
7fe6874a2000-7fe6874ae000 rw-p 001d8000 08:04 64424692795                /usr/lib64/libcrypto.so.1.0.1e
7fe6874ae000-7fe6874b2000 rw-p 00000000 00:00 0
7fe6874b2000-7fe687515000 r-xp 00000000 08:04 64424692797                /usr/lib64/libssl.so.1.0.1e
7fe687515000-7fe687714000 ---p 00063000 08:04 64424692797                /usr/lib64/libssl.so.1.0.1e
7fe687714000-7fe687718000 r--p 00062000 08:04 64424692797                /usr/lib64/libssl.so.1.0.1e
7fe687718000-7fe68771f000 rw-p 00066000 08:04 64424692797                /usr/lib64/libssl.so.1.0.1e
7fe68771f000-7fe68776f000 r-xp 00000000 08:04 64425430157                /usr/lib64/libldap-2.4.so.2.10.3
7fe68776f000-7fe68796e000 ---p 00050000 08:04 64425430157                /usr/lib64/libldap-2.4.so.2.10.3
7fe68796e000-7fe687971000 r--p 0004f000 08:04 64425430157                /usr/lib64/libldap-2.4.so.2.10.3
7fe687971000-7fe687972000 rw-p 00052000 08:04 64425430157                /usr/lib64/libldap-2.4.so.2.10.3
7fe687972000-7fe687980000 r-xp 00000000 08:04 64425430152                /usr/lib64/liblber-2.4.so.2.10.3
7fe687980000-7fe687b7f000 ---p 0000e000 08:04 64425430152                /usr/lib64/liblber-2.4.so.2.10.3
7fe687b7f000-7fe687b80000 r--p 0000d000 08:04 64425430152                /usr/lib64/liblber-2.4.so.2.10.3
7fe687b80000-7fe687b81000 rw-p 0000e000 08:04 64425430152                /usr/lib64/liblber-2.4.so.2.10.3
7fe687b81000-7fe687b84000 r-xp 00000000 08:04 64424511895                /usr/lib64/libcom_err.so.2.1
7fe687b84000-7fe687d83000 ---p 00003000 08:04 64424511895                /usr/lib64/libcom_err.so.2.1
7fe687d83000-7fe687d84000 r--p 00002000 08:04 64424511895                /usr/lib64/libcom_err.so.2.1
7fe687d84000-7fe687d85000 rw-p 00003000 08:04 64424511895                /usr/lib64/libcom_err.so.2.1
7fe687d85000-7fe687db4000 r-xp 00000000 08:04 64424692789                /usr/lib64/libk5crypto.so.3.1
7fe687db4000-7fe687fb3000 ---p 0002f000 08:04 64424692789                /usr/lib64/libk5crypto.so.3.1
7fe687fb3000-7fe687fb5000 r--p 0002e000 08:04 64424692789                /usr/lib64/libk5crypto.so.3.1
7fe687fb5000-7fe687fb6000 rw-p 00030000 08:04 64424692789                /usr/lib64/libk5crypto.so.3.1
7fe687fb6000-7fe687fb7000 rw-p 00000000 00:00 0
7fe687fb7000-7fe68808c000 r-xp 00000000 08:04 64424512023                /usr/lib64/libkrb5.so.3.3
7fe68808c000-7fe68828c000 ---p 000d5000 08:04 64424512023                /usr/lib64/libkrb5.so.3.3
7fe68828c000-7fe688299000 r--p 000d5000 08:04 64424512023                /usr/lib64/libkrb5.so.3.3
7fe688299000-7fe68829c000 rw-p 000e2000 08:04 64424512023                /usr/lib64/libkrb5.so.3.3
7fe68829c000-7fe6882e5000 r-xp 00000000 08:04 64424513555                /usr/lib64/libgssapi_krb5.so.2.2
7fe6882e5000-7fe6884e5000 ---p 00049000 08:04 64424513555                /usr/lib64/libgssapi_krb5.so.2.2
7fe6884e5000-7fe6884e6000 r--p 00049000 08:04 64424513555                /usr/lib64/libgssapi_krb5.so.2.2
7fe6884e6000-7fe6884e8000 rw-p 0004a000 08:04 64424513555                /usr/lib64/libgssapi_krb5.so.2.2
7fe6884e8000-7fe688522000 r-xp 00000000 08:04 64424511817                /usr/lib64/libnspr4.so
7fe688522000-7fe688721000 ---p 0003a000 08:04 64424511817                /usr/lib64/libnspr4.so
7fe688721000-7fe688722000 r--p 00039000 08:04 64424511817                /usr/lib64/libnspr4.so
7fe688722000-7fe688724000 rw-p 0003a000 08:04 64424511817                /usr/lib64/libnspr4.so
7fe688724000-7fe688726000 rw-p 00000000 00:00 0
7fe688726000-7fe68872a000 r-xp 00000000 08:04 64424511819                /usr/lib64/libplc4.so
7fe68872a000-7fe688929000 ---p 00004000 08:04 64424511819                /usr/lib64/libplc4.so
7fe688929000-7fe68892a000 r--p 00003000 08:04 64424511819                /usr/lib64/libplc4.so
7fe68892a000-7fe68892b000 rw-p 00004000 08:04 64424511819                /usr/lib64/libplc4.so
7fe68892b000-7fe68892e000 r-xp 00000000 08:04 64424511821                /usr/lib64/libplds4.so
7fe68892e000-7fe688b2d000 ---p 00003000 08:04 64424511821                /usr/lib64/libplds4.so
7fe688b2d000-7fe688b2e000 r--p 00002000 08:04 64424511821                /usr/lib64/libplds4.so
7fe688b2e000-7fe688b2f000 rw-p 00003000 08:04 64424511821                /usr/lib64/libplds4.so
7fe688b2f000-7fe688b55000 r-xp 00000000 08:04 64424511822                /usr/lib64/libnssutil3.so
7fe688b55000-7fe688d54000 ---p 00026000 08:04 64424511822                /usr/lib64/libnssutil3.so
7fe688d54000-7fe688d5a000 r--p 00025000 08:04 64424511822                /usr/lib64/libnssutil3.so
7fe688d5a000-7fe688d5b000 rw-p 0002b000 08:04 64424511822                /usr/lib64/libnssutil3.so
7fe688d5b000-7fe688e79000 r-xp 00000000 08:04 64426776728                /usr/lib64/libnss3.so
7fe688e79000-7fe689078000 ---p 0011e000 08:04 64426776728                /usr/lib64/libnss3.so
7fe689078000-7fe68907d000 r--p 0011d000 08:04 64426776728                /usr/lib64/libnss3.so
7fe68907d000-7fe68907f000 rw-p 00122000 08:04 64426776728                /usr/lib64/libnss3.so
7fe68907f000-7fe689081000 rw-p 00000000 00:00 0
7fe689081000-7fe6890a5000 r-xp 00000000 08:04 64424993837                /usr/lib64/libsmime3.so
7fe6890a5000-7fe6892a4000 ---p 00024000 08:04 64424993837                /usr/lib64/libsmime3.so
7fe6892a4000-7fe6892a7000 r--p 00023000 08:04 64424993837                /usr/lib64/libsmime3.so
7fe6892a7000-7fe6892a8000 rw-p 00026000 08:04 64424993837                /usr/lib64/libsmime3.so
7fe6892a8000-7fe6892e6000 r-xp 00000000 08:04 64426776729                /usr/lib64/libssl3.so
7fe6892e6000-7fe6894e5000 ---p 0003e000 08:04 64426776729                /usr/lib64/libssl3.so
7fe6894e5000-7fe6894e9000 r--p 0003d000 08:04 64426776729                /usr/lib64/libssl3.so
7fe6894e9000-7fe6894ea000 rw-p 00041000 08:04 64426776729                /usr/lib64/libssl3.so
7fe6894ea000-7fe6894eb000 rw-p 00000000 00:00 0
7fe6894eb000-7fe689513000 r-xp 00000000 08:04 64424963118                /usr/lib64/libssh2.so.1.0.1
7fe689513000-7fe689713000 ---p 00028000 08:04 64424963118                /usr/lib64/libssh2.so.1.0.1
7fe689713000-7fe689714000 r--p 00028000 08:04 64424963118                /usr/lib64/libssh2.so.1.0.1
7fe689714000-7fe689715000 rw-p 00029000 08:04 64424963118                /usr/lib64/libssh2.so.1.0.1
7fe689715000-7fe689747000 r-xp 00000000 08:04 64424512526                /usr/lib64/libidn.so.11.6.11
7fe689747000-7fe689946000 ---p 00032000 08:04 64424512526                /usr/lib64/libidn.so.11.6.11
7fe689946000-7fe689947000 r--p 00031000 08:04 64424512526                /usr/lib64/libidn.so.11.6.11
7fe689947000-7fe689948000 rw-p 00032000 08:04 64424512526                /usr/lib64/libidn.so.11.6.11
7fe689948000-7fe6899ad000 r-xp 00000000 08:04 64434945109                /usr/lib64/libcurl.so.4.3.0
7fe6899ad000-7fe689bad000 ---p 00065000 08:04 64434945109                /usr/lib64/libcurl.so.4.3.0
7fe689bad000-7fe689baf000 r--p 00065000 08:04 64434945109                /usr/lib64/libcurl.so.4.3.0
7fe689baf000-7fe689bb0000 rw-p 00067000 08:04 64434945109                /usr/lib64/libcurl.so.4.3.0
7fe689bb0000-7fe689bb1000 rw-p 00000000 00:00 0
7fe689bb1000-7fe689bc4000 r-xp 00000000 08:04 66581724169                /usr/lib64/R/modules/internet.so
7fe689bc4000-7fe689dc3000 ---p 00013000 08:04 66581724169                /usr/lib64/R/modules/internet.so
7fe689dc3000-7fe689dc4000 r--p 00012000 08:04 66581724169                /usr/lib64/R/modules/internet.so
7fe689dc4000-7fe689dc5000 rw-p 00013000 08:04 66581724169                /usr/lib64/R/modules/internet.so
7fe689dc5000-7fe68dfe6000 rw-p 00000000 00:00 0
7fe68e02a000-7fe68e164000 rw-p 00000000 00:00 0
7fe68e164000-7fe68e16c000 r-xp 00000000 08:04 6445979743                 /usr/lib64/R/library/methods/libs/methods.so
7fe68e16c000-7fe68e36b000 ---p 00008000 08:04 6445979743                 /usr/lib64/R/library/methods/libs/methods.so
7fe68e36b000-7fe68e36c000 r--p 00007000 08:04 6445979743                 /usr/lib64/R/library/methods/libs/methods.so
7fe68e36c000-7fe68e36d000 rw-p 00008000 08:04 6445979743                 /usr/lib64/R/library/methods/libs/methods.so
7fe68e36d000-7fe68e39a000 rw-p 00000000 00:00 0
7fe68e39a000-7fe68e58f000 r-xp 00000000 08:04 19333693112                /usr/lib64/R/lib/libRlapack.so
7fe68e58f000-7fe68e78e000 ---p 001f5000 08:04 19333693112                /usr/lib64/R/lib/libRlapack.so
7fe68e78e000-7fe68e78f000 r--p 001f4000 08:04 19333693112                /usr/lib64/R/lib/libRlapack.so
7fe68e78f000-7fe68e790000 rw-p 001f5000 08:04 19333693112                /usr/lib64/R/lib/libRlapack.so
7fe68e790000-7fe68e836000 r-xp 00000000 08:04 45100675141                /usr/lib64/R/library/stats/libs/stats.so
7fe68e836000-7fe68ea36000 ---p 000a6000 08:04 45100675141                /usr/lib64/R/library/stats/libs/stats.so
7fe68ea36000-7fe68ea38000 r--p 000a6000 08:04 45100675141                /usr/lib64/R/library/stats/libs/stats.so
7fe68ea38000-7fe68ea3a000 rw-p 000a8000 08:04 45100675141                /usr/lib64/R/library/stats/libs/stats.so
7fe68ea3a000-7fe68ebc0000 rw-p 00000000 00:00 0
7fe68ebc0000-7fe68ebfd000 r-xp 00000000 08:04 6445979741                 /usr/lib64/R/library/graphics/libs/graphics.so
7fe68ebfd000-7fe68edfd000 ---p 0003d000 08:04 6445979741                 /usr/lib64/R/library/graphics/libs/graphics.so
7fe68edfd000-7fe68edfe000 r--p 0003d000 08:04 6445979741                 /usr/lib64/R/library/graphics/libs/graphics.so
7fe68edfe000-7fe68edff000 rw-p 0003e000 08:04 6445979741                 /usr/lib64/R/library/graphics/libs/graphics.so
7fe68edff000-7fe68ee4c000 rw-p 00000000 00:00 0
7fe68ee4c000-7fe68ee80000 r-xp 00000000 08:04 57982776471                /usr/lib64/R/library/grDevices/libs/grDevices.so
7fe68ee80000-7fe68f080000 ---p 00034000 08:04 57982776471                /usr/lib64/R/library/grDevices/libs/grDevices.so
7fe68f080000-7fe68f085000 r--p 00034000 08:04 57982776471                /usr/lib64/R/library/grDevices/libs/grDevices.so
7fe68f085000-7fe68f087000 rw-p 00039000 08:04 57982776471                /usr/lib64/R/library/grDevices/libs/grDevices.so
7fe68f087000-7fe68f0ba000 rw-p 00000000 00:00 0
7fe68f0ba000-7fe68f0c4000 r-xp 00000000 08:04 62293320708                /usr/lib64/R/library/utils/libs/utils.so
7fe68f0c4000-7fe68f2c3000 ---p 0000a000 08:04 62293320708                /usr/lib64/R/library/utils/libs/utils.so
7fe68f2c3000-7fe68f2c4000 r--p 00009000 08:04 62293320708                /usr/lib64/R/library/utils/libs/utils.so
7fe68f2c4000-7fe68f2c5000 rw-p 0000a000 08:04 62293320708                /usr/lib64/R/library/utils/libs/utils.so
7fe68f2c5000-7fe68f39f000 rw-p 00000000 00:00 0
7fe68f3f7000-7fe68f705000 rw-p 00000000 00:00 0
7fe68f705000-7fe695c2c000 r--p 00000000 08:04 53687238663                /usr/lib/locale/locale-archive
7fe695c2c000-7fe695d15000 r-xp 00000000 08:04 64424511848                /usr/lib64/libstdc++.so.6.0.19
7fe695d15000-7fe695f15000 ---p 000e9000 08:04 64424511848                /usr/lib64/libstdc++.so.6.0.19
7fe695f15000-7fe695f1e000 r--p 000e9000 08:04 64424511848                /usr/lib64/libstdc++.so.6.0.19
7fe695f1e000-7fe695f20000 rw-p 000f2000 08:04 64424511848                /usr/lib64/libstdc++.so.6.0.19
7fe695f20000-7fe695f35000 rw-p 00000000 00:00 0
7fe695f35000-7fe697308000 r-xp 00000000 08:04 64424511959                /usr/lib64/libicudata.so.50.1.2
7fe697308000-7fe697507000 ---p 013d3000 08:04 64424511959                /usr/lib64/libicudata.so.50.1.2
7fe697507000-7fe697508000 r--p 013d2000 08:04 64424511959                /usr/lib64/libicudata.so.50.1.2
7fe697508000-7fe697509000 rw-p 013d3000 08:04 64424511959                /usr/lib64/libicudata.so.50.1.2
7fe697509000-7fe69752e000 r-xp 00000000 08:04 64424511873                /usr/lib64/libtinfo.so.5.9
7fe69752e000-7fe69772e000 ---p 00025000 08:04 64424511873                /usr/lib64/libtinfo.so.5.9
7fe69772e000-7fe697732000 r--p 00025000 08:04 64424511873                /usr/lib64/libtinfo.so.5.9
7fe697732000-7fe697733000 rw-p 00029000 08:04 64424511873                /usr/lib64/libtinfo.so.5.9
7fe697733000-7fe697748000 r-xp 00000000 08:04 64434760744                /usr/lib64/libgcc_s-4.8.5-20150702.so.1
7fe697748000-7fe697947000 ---p 00015000 08:04 64434760744                /usr/lib64/libgcc_s-4.8.5-20150702.so.1
7fe697947000-7fe697948000 r--p 00014000 08:04 64434760744                /usr/lib64/libgcc_s-4.8.5-20150702.so.1
7fe697948000-7fe697949000 rw-p 00015000 08:04 64434760744                /usr/lib64/libgcc_s-4.8.5-20150702.so.1
7fe697949000-7fe697b39000 r-xp 00000000 08:04 64424511961                /usr/lib64/libicui18n.so.50.1.2
7fe697b39000-7fe697d39000 ---p 001f0000 08:04 64424511961                /usr/lib64/libicui18n.so.50.1.2
7fe697d39000-7fe697d45000 r--p 001f0000 08:04 64424511961                /usr/lib64/libicui18n.so.50.1.2
7fe697d45000-7fe697d47000 rw-p 001fc000 08:04 64424511961                /usr/lib64/libicui18n.so.50.1.2
7fe697d47000-7fe697d48000 rw-p 00000000 00:00 0
7fe697d48000-7fe697eac000 r-xp 00000000 08:04 64424511973                /usr/lib64/libicuuc.so.50.1.2
7fe697eac000-7fe6980ac000 ---p 00164000 08:04 64424511973                /usr/lib64/libicuuc.so.50.1.2
7fe6980ac000-7fe6980bc000 r--p 00164000 08:04 64424511973                /usr/lib64/libicuuc.so.50.1.2
7fe6980bc000-7fe6980bd000 rw-p 00174000 08:04 64424511973                /usr/lib64/libicuuc.so.50.1.2
7fe6980bd000-7fe6980c1000 rw-p 00000000 00:00 0
7fe6980c1000-7fe6980c4000 r-xp 00000000 08:04 64425907333                /usr/lib64/libdl-2.17.so
7fe6980c4000-7fe6982c3000 ---p 00003000 08:04 64425907333                /usr/lib64/libdl-2.17.so
7fe6982c3000-7fe6982c4000 r--p 00002000 08:04 64425907333                /usr/lib64/libdl-2.17.so
7fe6982c4000-7fe6982c5000 rw-p 00003000 08:04 64425907333                /usr/lib64/libdl-2.17.so
7fe6982c5000-7fe6982cc000 r-xp 00000000 08:04 64425907357                /usr/lib64/librt-2.17.so
7fe6982cc000-7fe6984cb000 ---p 00007000 08:04 64425907357                /usr/lib64/librt-2.17.so
7fe6984cb000-7fe6984cc000 r--p 00006000 08:04 64425907357                /usr/lib64/librt-2.17.so
7fe6984cc000-7fe6984cd000 rw-p 00007000 08:04 64425907357                /usr/lib64/librt-2.17.so
7fe6984cd000-7fe6984e2000 r-xp 00000000 08:04 64425230795                /usr/lib64/libz.so.1.2.7
7fe6984e2000-7fe6986e1000 ---p 00015000 08:04 64425230795                /usr/lib64/libz.so.1.2.7
7fe6986e1000-7fe6986e2000 r--p 00014000 08:04 64425230795                /usr/lib64/libz.so.1.2.7
7fe6986e2000-7fe6986e3000 rw-p 00015000 08:04 64425230795                /usr/lib64/libz.so.1.2.7
7fe6986e3000-7fe6986f2000 r-xp 00000000 08:04 64424511910                /usr/lib64/libbz2.so.1.0.6
7fe6986f2000-7fe6988f1000 ---p 0000f000 08:04 64424511910                /usr/lib64/libbz2.so.1.0.6
7fe6988f1000-7fe6988f2000 r--p 0000e000 08:04 64424511910                /usr/lib64/libbz2.so.1.0.6
7fe6988f2000-7fe6988f3000 rw-p 0000f000 08:04 64424511910                /usr/lib64/libbz2.so.1.0.6
7fe6988f3000-7fe698918000 r-xp 00000000 08:04 64432774884                /usr/lib64/liblzma.so.5.2.2
7fe698918000-7fe698b17000 ---p 00025000 08:04 64432774884                /usr/lib64/liblzma.so.5.2.2
7fe698b17000-7fe698b18000 r--p 00024000 08:04 64432774884                /usr/lib64/liblzma.so.5.2.2
7fe698b18000-7fe698b19000 rw-p 00025000 08:04 64432774884                /usr/lib64/liblzma.so.5.2.2
7fe698b19000-7fe698b79000 r-xp 00000000 08:04 64424511837                /usr/lib64/libpcre.so.1.2.0
7fe698b79000-7fe698d78000 ---p 00060000 08:04 64424511837                /usr/lib64/libpcre.so.1.2.0
7fe698d78000-7fe698d79000 r--p 0005f000 08:04 64424511837                /usr/lib64/libpcre.so.1.2.0
7fe698d79000-7fe698d7a000 rw-p 00060000 08:04 64424511837                /usr/lib64/libpcre.so.1.2.0
7fe698d7a000-7fe698d89000 r-xp 00000000 08:04 64432775393                /usr/lib64/libtre.so.5.0.0
7fe698d89000-7fe698f88000 ---p 0000f000 08:04 64432775393                /usr/lib64/libtre.so.5.0.0
7fe698f88000-7fe698f89000 r--p 0000e000 08:04 64432775393                /usr/lib64/libtre.so.5.0.0
7fe698f89000-7fe698f8a000 rw-p 0000f000 08:04 64432775393                /usr/lib64/libtre.so.5.0.0
7fe698f8a000-7fe698fc6000 r-xp 00000000 08:04 64424511924                /usr/lib64/libreadline.so.6.2
7fe698fc6000-7fe6991c6000 ---p 0003c000 08:04 64424511924                /usr/lib64/libreadline.so.6.2
7fe6991c6000-7fe6991c8000 r--p 0003c000 08:04 64424511924                /usr/lib64/libreadline.so.6.2
7fe6991c8000-7fe6991ce000 rw-p 0003e000 08:04 64424511924                /usr/lib64/libreadline.so.6.2
7fe6991ce000-7fe6991d0000 rw-p 00000000 00:00 0
7fe6991d0000-7fe69920b000 r-xp 00000000 08:04 64424589353                /usr/lib64/libquadmath.so.0.0.0
7fe69920b000-7fe69940a000 ---p 0003b000 08:04 64424589353                /usr/lib64/libquadmath.so.0.0.0
7fe69940a000-7fe69940b000 r--p 0003a000 08:04 64424589353                /usr/lib64/libquadmath.so.0.0.0
7fe69940b000-7fe69940c000 rw-p 0003b000 08:04 64424589353                /usr/lib64/libquadmath.so.0.0.0
7fe69940c000-7fe69950d000 r-xp 00000000 08:04 64425907335                /usr/lib64/libm-2.17.so
7fe69950d000-7fe69970c000 ---p 00101000 08:04 64425907335                /usr/lib64/libm-2.17.so
7fe69970c000-7fe69970d000 r--p 00100000 08:04 64425907335                /usr/lib64/libm-2.17.so
7fe69970d000-7fe69970e000 rw-p 00101000 08:04 64425907335                /usr/lib64/libm-2.17.so
7fe69970e000-7fe69982d000 r-xp 00000000 08:04 64425157647                /usr/lib64/libgfortran.so.3.0.0
7fe69982d000-7fe699a2d000 ---p 0011f000 08:04 64425157647                /usr/lib64/libgfortran.so.3.0.0
7fe699a2d000-7fe699a2f000 r--p 0011f000 08:04 64425157647                /usr/lib64/libgfortran.so.3.0.0
7fe699a2f000-7fe699a31000 rw-p 00121000 08:04 64425157647                /usr/lib64/libgfortran.so.3.0.0
7fe699a31000-7fe699be8000 r-xp 00000000 08:04 64426776661                /usr/lib64/libc-2.17.so
7fe699be8000-7fe699de8000 ---p 001b7000 08:04 64426776661                /usr/lib64/libc-2.17.so
7fe699de8000-7fe699dec000 r--p 001b7000 08:04 64426776661                /usr/lib64/libc-2.17.so
7fe699dec000-7fe699dee000 rw-p 001bb000 08:04 64426776661                /usr/lib64/libc-2.17.so
7fe699dee000-7fe699df3000 rw-p 00000000 00:00 0
7fe699df3000-7fe699e09000 r-xp 00000000 08:04 64425907353                /usr/lib64/libpthread-2.17.so
7fe699e09000-7fe69a009000 ---p 00016000 08:04 64425907353                /usr/lib64/libpthread-2.17.so
7fe69a009000-7fe69a00a000 r--p 00016000 08:04 64425907353                /usr/lib64/libpthread-2.17.so
7fe69a00a000-7fe69a00b000 rw-p 00017000 08:04 64425907353                /usr/lib64/libpthread-2.17.so
7fe69a00b000-7fe69a00f000 rw-p 00000000 00:00 0
7fe69a00f000-7fe69a034000 r-xp 00000000 08:04 64424513594                /usr/lib64/libgomp.so.1.0.0
7fe69a034000-7fe69a233000 ---p 00025000 08:04 64424513594                /usr/lib64/libgomp.so.1.0.0
7fe69a233000-7fe69a234000 r--p 00024000 08:04 64424513594                /usr/lib64/libgomp.so.1.0.0
7fe69a234000-7fe69a235000 rw-p 00025000 08:04 64424513594                /usr/lib64/libgomp.so.1.0.0
7fe69a235000-7fe69c267000 r-xp 00000000 08:04 19333693109                /usr/lib64/R/lib/libRblas.so
7fe69c267000-7fe69c466000 ---p 02032000 08:04 19333693109                /usr/lib64/R/lib/libRblas.so
7fe69c466000-7fe69c46a000 r--p 02031000 08:04 19333693109                /usr/lib64/R/lib/libRblas.so
7fe69c46a000-7fe69c482000 rw-p 02035000 08:04 19333693109                /usr/lib64/R/lib/libRblas.so
7fe69c482000-7fe69c48d000 rw-p 00000000 00:00 0
7fe69c48d000-7fe69c73b000 r-xp 00000000 08:04 19333693111                /usr/lib64/R/lib/libR.so
7fe69c73b000-7fe69c93a000 ---p 002ae000 08:04 19333693111                /usr/lib64/R/lib/libR.so
7fe69c93a000-7fe69c958000 r--p 002ad000 08:04 19333693111                /usr/lib64/R/lib/libR.so
7fe69c958000-7fe69c964000 rw-p 002cb000 08:04 19333693111                /usr/lib64/R/lib/libR.so
7fe69c964000-7fe69cab5000 rw-p 00000000 00:00 0
7fe69cab5000-7fe69cad6000 r-xp 00000000 08:04 64424511800                /usr/lib64/ld-2.17.so
7fe69cade000-7fe69ccba000 rw-p 00000000 00:00 0
7fe69ccba000-7fe69ccbb000 rw-p 00000000 00:00 0
7fe69ccbb000-7fe69ccbc000 r--p 00000000 08:04 49394932767                /usr/lib64/R/library/translations/en/LC_MESSAGES/R.mo
7fe69ccbc000-7fe69cccc000 rwxp 00000000 00:00 0
7fe69cccc000-7fe69ccd3000 r--s 00000000 08:04 4295610652                 /usr/lib64/gconv/gconv-modules.cache
7fe69ccd3000-7fe69ccd6000 rw-p 00000000 00:00 0
7fe69ccd6000-7fe69ccd7000 r--p 00021000 08:04 64424511800                /usr/lib64/ld-2.17.so
7fe69ccd7000-7fe69ccd8000 rw-p 00022000 08:04 64424511800                /usr/lib64/ld-2.17.so
7fe69ccd8000-7fe69ccd9000 rw-p 00000000 00:00 0
7fff43955000-7fff439b1000 rw-p 00000000 00:00 0                          [stack]
7fff439f2000-7fff439f4000 r-xp 00000000 00:00 0                          [vdso]
ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The related test - &lt;a href=&quot;https://github.com/apache/spark/blob/master/R/pkg/tests/fulltests/test_sparkSQL.R#L3007-L3095&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/R/pkg/tests/fulltests/test_sparkSQL.R#L3007-L3095&lt;/a&gt; passes in &lt;/p&gt;

&lt;p&gt;Windows Server 2012 R2 / R 3.3.1&lt;br/&gt;
macOS Sierra 10.12.3 / R 3.4.0&lt;br/&gt;
macOS Sierra 10.12.3 / R 3.2.3&lt;br/&gt;
Ubuntu 17 / R 3.3&lt;/p&gt;

&lt;p&gt;failed in &lt;/p&gt;

&lt;p&gt;Centos 7.2.1511 with R 3.4.0/3.3.3&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS 7.2.1511 / R 3.4.0, CentOS 7.2.1511 / R 3.3.3&lt;/p&gt;</environment>
        <key id="13079711">SPARK-21093</key>
            <summary>Multiple gapply execution occasionally failed in SparkR </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gurwls223">Hyukjin Kwon</assignee>
                                    <reporter username="gurwls223">Hyukjin Kwon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jun 2017 09:27:55 +0000</created>
                <updated>Mon, 12 Dec 2022 18:11:03 +0000</updated>
                            <resolved>Sat, 8 Jul 2017 21:26:49 +0000</resolved>
                                    <version>2.1.1</version>
                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="16048934" author="gurwls223" created="Wed, 14 Jun 2017 09:30:22 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nick.pentreath%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;nick.pentreath@gmail.com&quot;&gt;nick.pentreath@gmail.com&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=felixcheung&quot; class=&quot;user-hover&quot; rel=&quot;felixcheung&quot;&gt;felixcheung&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16049361" author="shivaram" created="Wed, 14 Jun 2017 16:44:56 +0000"  >&lt;p&gt;So it looks like the R worker process crashes on CentOS and that leads to the task failures. I think the only way to debug this might be to get a core dump from the R process, attach gdb to it and see the stack trace at the time of the crash ?&lt;/p&gt;</comment>
                            <comment id="16049944" author="gurwls223" created="Thu, 15 Jun 2017 03:01:27 +0000"  >&lt;p&gt;I am taking a look here gdb with bt:&lt;/p&gt;

&lt;p&gt;In case of CentOS above,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;GNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-80.el7
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &amp;lt;http:&lt;span class=&quot;code-comment&quot;&gt;//gnu.org/licenses/gpl.html&amp;gt;
&lt;/span&gt;This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &lt;span class=&quot;code-quote&quot;&gt;&quot;show copying&quot;&lt;/span&gt;
and &lt;span class=&quot;code-quote&quot;&gt;&quot;show warranty&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details.
This GDB was configured as &lt;span class=&quot;code-quote&quot;&gt;&quot;x86_64-redhat-linux-gnu&quot;&lt;/span&gt;.
For bug reporting instructions, please see:
&amp;lt;http:&lt;span class=&quot;code-comment&quot;&gt;//www.gnu.org/software/gdb/bugs/&amp;gt;...
&lt;/span&gt;Reading symbols from /usr/lib64/R/bin/exec/R...Reading symbols from /usr/lib64/R/bin/exec/R...(no debugging symbols found)...done.
(no debugging symbols found)...done.
[New LWP 25284]
[&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; debugging using libthread_db enabled]
Using host libthread_db library &lt;span class=&quot;code-quote&quot;&gt;&quot;/lib64/libthread_db.so.1&quot;&lt;/span&gt;.
Core was generated by `/usr/lib64/R/bin/exec/R --slave --no-restore --vanilla --file=/home/hyukjinkwon&apos;.
Program terminated with signal 6, Aborted.
#0  0x00007fbdffb545f7 in raise () from /lib64/libc.so.6
Missing separate debuginfos, use: debuginfo-install R-core-3.4.0-2.el7.x86_64
(gdb) where
#0  0x00007fbdffb545f7 in raise () from /lib64/libc.so.6
#1  0x00007fbdffb55ce8 in abort () from /lib64/libc.so.6
#2  0x00007fbdffb94327 in __libc_message () from /lib64/libc.so.6
#3  0x00007fbdffc2d597 in __fortify_fail () from /lib64/libc.so.6
#4  0x00007fbdffc2b750 in __chk_fail () from /lib64/libc.so.6
#5  0x00007fbdffc2d507 in __fdelt_warn () from /lib64/libc.so.6
#6  0x00007fbdefca5015 in R_SockConnect () from /usr/lib64/R/modules&lt;span class=&quot;code-comment&quot;&gt;//internet.so
&lt;/span&gt;#7  0x00007fbdefcad81e in sock_open () from /usr/lib64/R/modules&lt;span class=&quot;code-comment&quot;&gt;//internet.so
&lt;/span&gt;#8  0x00007fbe026381b6 in do_sockconn () from /usr/lib64/R/lib/libR.so
#9  0x00007fbe0268b4d0 in bcEval () from /usr/lib64/R/lib/libR.so
#10 0x00007fbe0269b138 in Rf_eval () from /usr/lib64/R/lib/libR.so
#11 0x00007fbe0269d1af in R_execClosure () from /usr/lib64/R/lib/libR.so
#12 0x00007fbe0269b2f4 in Rf_eval () from /usr/lib64/R/lib/libR.so
#13 0x00007fbe0269ef8e in do_set () from /usr/lib64/R/lib/libR.so
#14 0x00007fbe0269b529 in Rf_eval () from /usr/lib64/R/lib/libR.so
#15 0x00007fbe026a04ce in do_eval () from /usr/lib64/R/lib/libR.so
#16 0x00007fbe0268b4d0 in bcEval () from /usr/lib64/R/lib/libR.so
#17 0x00007fbe0269b138 in Rf_eval () from /usr/lib64/R/lib/libR.so
#18 0x00007fbe0269d1af in R_execClosure () from /usr/lib64/R/lib/libR.so
#19 0x00007fbe02694101 in bcEval () from /usr/lib64/R/lib/libR.so
#20 0x00007fbe0269b138 in Rf_eval () from /usr/lib64/R/lib/libR.so
#21 0x00007fbe0269ba7e in forcePromise () from /usr/lib64/R/lib/libR.so
#22 0x00007fbe0269b7b7 in Rf_eval () from /usr/lib64/R/lib/libR.so
#23 0x00007fbe026a06d1 in do_withVisible () from /usr/lib64/R/lib/libR.so
#24 0x00007fbe026d02e9 in do_internal () from /usr/lib64/R/lib/libR.so
---Type &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;&amp;gt; to &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;, or q &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;&amp;gt; to quit---
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another thing I found is, this looks actually reproduced in my Mac too. If the command above is executed multiple times (for my Mac, it has to be executed (14~16-ish times) but the error message looks apparently different. However, my wild guess is the root cause is the same. &lt;/p&gt;</comment>
                            <comment id="16050896" author="gurwls223" created="Thu, 15 Jun 2017 18:14:06 +0000"  >&lt;p&gt;In case of my Mac, it looks the problem is here - &lt;a href=&quot;https://github.com/apache/spark/blob/2881a2d1d1a650a91df2c6a01275eba14a43b42a/R/pkg/inst/worker/daemon.R#L45-L53&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/2881a2d1d1a650a91df2c6a01275eba14a43b42a/R/pkg/inst/worker/daemon.R#L45-L53&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This code path looks particularly busy for &lt;tt&gt;dapply&lt;/tt&gt; and &lt;tt&gt;gapply&lt;/tt&gt;. I could reproduce the issue for both APIs too.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;df &amp;lt;- createDataFrame(list(list(1L, 1, &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;, 0.1)), c(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;d&quot;&lt;/span&gt;))
collect(dapply(repartition(df, 200), function(x) { x }, schema(df)))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks processes / sockets are being closed fine but the pipes remind. This looks leading to an error, such as, &quot;Error in parallel:::mcfork() :&quot;. I checked this via &lt;tt&gt;watch -n 0.1 &quot;lsof -c R | wc -l&quot;&lt;/tt&gt; in my Mac.&lt;/p&gt;

&lt;p&gt;Running the code below multiple times (this should be varied for ulimit ...):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(i in 0:200) {
  p &amp;lt;- parallel:::mcfork()
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inherits(p, &lt;span class=&quot;code-quote&quot;&gt;&quot;masterProcess&quot;&lt;/span&gt;)) {
    tools::pskill(Sys.getpid(), tools::SIGUSR1)
    parallel:::mcexit(0L)
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;reproduced the problem. Please correct me if I am wrong. I suspect an issue in R. I will update a comment after testing this on CentOS soon.&lt;/p&gt;</comment>
                            <comment id="16051094" author="shivaram" created="Thu, 15 Jun 2017 21:30:55 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hyukjin.kwon&quot; class=&quot;user-hover&quot; rel=&quot;hyukjin.kwon&quot;&gt;hyukjin.kwon&lt;/a&gt; &amp;#8211; thats a very useful debugging notes. In addition to filing the bug in R, I am wondering if there is some thing we can do in our SparkR code to mitigate this. Could we say add a sleep or pause before the gapply tests ? Or in other words do the pipes / sockets disappear after some time ?&lt;/p&gt;</comment>
                            <comment id="16051244" author="gurwls223" created="Fri, 16 Jun 2017 00:45:47 +0000"  >&lt;p&gt;This does disappear in a certain condition which I could not verify; however, the `daemon.R` process keeps the pipes eventually when it is particularly executed hot.&lt;/p&gt;

&lt;p&gt;Executing the SparkR codes:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;501  2041  1968   0  -:--AM ttys000    0:01.50 /Library/Frameworks/R.framework/Resources/bin/exec/R --slave --no-restore --vanilla --file=.../spark/R/lib/SparkR/worker/daemon.R
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;lsof -p 2041
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;...
R       2041 hyukjinkwon    7   PIPE 0x15b5dd8f99c8d451     16384
R       2041 hyukjinkwon    8   PIPE 0x15b5dd8f99c00911     16384
R       2041 hyukjinkwon    9   PIPE 0x15b5dd8f940201d1     16384
R       2041 hyukjinkwon   10   PIPE 0x15b5dd8f9401f811     16384
R       2041 hyukjinkwon   11   PIPE 0x15b5dd8f99deec11     16384
R       2041 hyukjinkwon   12   PIPE 0x15b5dd8f96a18851     16384
R       2041 hyukjinkwon   13   PIPE 0x15b5dd8f99deee51     16384
R       2041 hyukjinkwon   14   PIPE 0x15b5dd8f99dee851     16384
R       2041 hyukjinkwon   15   PIPE 0x15b5dd8f99df13d1     16384
R       2041 hyukjinkwon   16   PIPE 0x15b5dd8f99c8ce51     16384
R       2041 hyukjinkwon   17   PIPE 0x15b5dd8f96a18f11     16384
R       2041 hyukjinkwon   18   PIPE 0x15b5dd8f96a195d1     16384
R       2041 hyukjinkwon   19   PIPE 0x15b5dd8f99e73d91     16384
R       2041 hyukjinkwon   20   PIPE 0x15b5dd8f96a18c11     16384
R       2041 hyukjinkwon   21   PIPE 0x15b5dd8f99df0651     16384
R       2041 hyukjinkwon   22   PIPE 0x15b5dd8f99def691     16384
R       2041 hyukjinkwon   23   PIPE 0x15b5dd8f99e75f51     16384
R       2041 hyukjinkwon   24   PIPE 0x15b5dd8f99def091     16384
R       2041 hyukjinkwon   25   PIPE 0x15b5dd8f99e74d51     16384
R       2041 hyukjinkwon   26   PIPE 0x15b5dd8f99e75591     16384
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;lsof -p 2041 | wc -l
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This number keeps increasing/decreasing but eventually consistently increasing.&lt;/p&gt;

&lt;p&gt;Same thing happens in CentOS too (in this case, looks increasing more aggressively.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;R       29617 root   16r  FIFO      0,8       0t0    40330039 pipe
R       29617 root   17r  FIFO      0,8       0t0    40330197 pipe
R       29617 root   18r  FIFO      0,8       0t0    40330041 pipe
R       29617 root   19r  FIFO      0,8       0t0    40330067 pipe
R       29617 root   20w  FIFO      0,8       0t0    40326795 pipe
R       29617 root   21r  FIFO      0,8       0t0    40326800 pipe
R       29617 root   22r  FIFO      0,8       0t0    40330191 pipe
R       29617 root   23r  FIFO      0,8       0t0    40330047 pipe
R       29617 root   24r  FIFO      0,8       0t0    40330049 pipe
R       29617 root   25r  FIFO      0,8       0t0    40330011 pipe
R       29617 root   26w  FIFO      0,8       0t0    40326801 pipe
R       29617 root   27r  FIFO      0,8       0t0    40330199 pipe
R       29617 root   28r  FIFO      0,8       0t0    40330051 pipe
R       29617 root   29r  FIFO      0,8       0t0    40326808 pipe
R       29617 root   30w  FIFO      0,8       0t0    40330124 pipe
R       29617 root   31r  FIFO      0,8       0t0    40326810 pipe
R       29617 root   32r  FIFO      0,8       0t0    40330133 pipe
R       29617 root   33w  FIFO      0,8       0t0    40330012 pipe
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;One workaround only to pass the test is, I think, avoid reuse the `daemon.R` by setting &lt;tt&gt;spark.sparkr.use.daemon&lt;/tt&gt; to &lt;tt&gt;false&lt;/tt&gt;. I will double check and will propose this to fix it for now.&lt;/p&gt;</comment>
                            <comment id="16051264" author="gurwls223" created="Fri, 16 Jun 2017 01:13:14 +0000"  >&lt;p&gt;BTW, &lt;tt&gt;mcfork&lt;/tt&gt; in R looks opening a pipe ahead but the existing logic does not properly close it when it is executed hot. This is why I suspect it is an R issue.&lt;/p&gt;</comment>
                            <comment id="16051308" author="apachespark" created="Fri, 16 Jun 2017 02:46:03 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/18320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/18320&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16052772" author="gurwls223" created="Sat, 17 Jun 2017 09:13:45 +0000"  >&lt;p&gt;This potentially affects many R functionalities. I increased the priority.&lt;/p&gt;</comment>
                            <comment id="16057550" author="mlnick" created="Wed, 21 Jun 2017 13:50:35 +0000"  >&lt;p&gt;Just adding the info from test failure report from the 2.2.0-RC4 vote thread:&lt;/p&gt;

&lt;p&gt;R - 3.3.0&lt;br/&gt;
OpenJDK Runtime Environment (build 1.8.0_111-b15)&lt;br/&gt;
CentOS 7.2.1511&lt;/p&gt;
</comment>
                            <comment id="16062399" author="felixcheung" created="Sun, 25 Jun 2017 18:10:28 +0000"  >&lt;p&gt;since this is a very core change to SparkR, we agree it might not be best to push to 2.2 branch right now as we are so close to releasing 2.2.0, and let it cooks for a bit first&lt;br/&gt;
(though RC sign off might still run into this issue then)&lt;/p&gt;</comment>
                            <comment id="16067637" author="felixcheung" created="Thu, 29 Jun 2017 03:09:31 +0000"  >&lt;p&gt;this was reverted.&lt;/p&gt;

&lt;p&gt;we seems to be getting random test termination with error code -10 after this is merged.&lt;/p&gt;</comment>
                            <comment id="16067679" author="apachespark" created="Thu, 29 Jun 2017 03:48:04 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/18463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/18463&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16068053" author="apachespark" created="Thu, 29 Jun 2017 09:15:03 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/18465&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/18465&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g953:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311620" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Shepherd</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>felixcheung</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12339551">2.3.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>