<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:32:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-37677] spark on k8s, when the user want to push python3.6.6.zip to the pod , but no permission to execute</title>
                <link>https://issues.apache.org/jira/browse/SPARK-37677</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In cluster mode, I hava another question that when I unzip python3.6.6.zip in pod , but no permission to execute, my execute operation as follows&#65306;&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sh&quot;&gt;
spark-submit \
--archives ./python3.6.6.zip&lt;span class=&quot;code-comment&quot;&gt;#python3.6.6 \
&lt;/span&gt;--conf &lt;span class=&quot;code-quote-red&quot;&gt;&quot;spark.pyspark.python=python3.6.6/python3.6.6/bin/python3&quot;&lt;/span&gt; \
--conf &lt;span class=&quot;code-quote-red&quot;&gt;&quot;spark.pyspark.driver.python=python3.6.6/python3.6.6/bin/python3&quot;&lt;/span&gt; \
--conf spark.kubernetes.container.image.pullPolicy=Always \
./examples/src/main/python/pi.py 100
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="13418226">SPARK-37677</key>
            <summary>spark on k8s, when the user want to push python3.6.6.zip to the pod , but no permission to execute</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhongjingxiong">jingxiong zhong</assignee>
                                    <reporter username="zhongjingxiong">jingxiong zhong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Dec 2021 12:17:23 +0000</created>
                <updated>Tue, 28 Mar 2023 05:27:28 +0000</updated>
                            <resolved>Tue, 28 Mar 2023 05:27:28 +0000</resolved>
                                    <version>3.2.0</version>
                                    <fixVersion>3.5.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17461407" author="gurwls223" created="Fri, 17 Dec 2021 12:24:03 +0000"  >&lt;p&gt;zip compression algorithm by design doesn&apos;t keep the permissions of files IIRC. can we fix it?&lt;/p&gt;</comment>
                            <comment id="17461797" author="JIRAUSER281124" created="Sat, 18 Dec 2021 06:33:26 +0000"  >&lt;p&gt;can we fix it throuth modify file permissions when the file is decompressed?&lt;/p&gt;</comment>
                            <comment id="17461798" author="gurwls223" created="Sat, 18 Dec 2021 06:35:01 +0000"  >&lt;p&gt;I know that some implementation of zip&apos;s do that via leveraging metadata IIRC. If we can figure out a way to keep the permissions, that would be great.&lt;/p&gt;</comment>
                            <comment id="17461799" author="JIRAUSER281124" created="Sat, 18 Dec 2021 06:41:07 +0000"  >&lt;p&gt;Let me have a try.&lt;/p&gt;</comment>
                            <comment id="17467235" author="apachespark" created="Fri, 31 Dec 2021 12:30:11 +0000"  >&lt;p&gt;User &apos;zhongjingxiong&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35082&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35082&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17467236" author="apachespark" created="Fri, 31 Dec 2021 12:31:17 +0000"  >&lt;p&gt;User &apos;zhongjingxiong&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35082&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35082&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17467251" author="JIRAUSER281124" created="Fri, 31 Dec 2021 13:51:31 +0000"  >&lt;p&gt;I found that unzip is implemented by decompressing files through Java&apos;s io. When we create an output file object, permission is given by default, so the permission of unzip&apos;s output file is consistent with the permission to create the file, which cannot be modified. Therefore, I try to give permission after the output file is created, Or you can directly save the permission information when reading the output file, but it need to modify the zip code here.&lt;/p&gt;</comment>
                            <comment id="17480379" author="apachespark" created="Sat, 22 Jan 2022 08:51:28 +0000"  >&lt;p&gt;User &apos;zhongjingxiong&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35278&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35278&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17480381" author="JIRAUSER281124" created="Sat, 22 Jan 2022 08:53:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hyukjin.kwon&quot; class=&quot;user-hover&quot; rel=&quot;hyukjin.kwon&quot;&gt;hyukjin.kwon&lt;/a&gt; Hey sir, I brought up another one for this issue. This is the use of shell command is to decompress.&lt;/p&gt;</comment>
                            <comment id="17553930" author="JIRAUSER290928" created="Tue, 14 Jun 2022 06:50:41 +0000"  >&lt;p&gt;Any conclusions about this issue ? Keeping unsupport for .zip?&lt;/p&gt;</comment>
                            <comment id="17653733" author="JIRAUSER281124" created="Tue, 3 Jan 2023 02:35:39 +0000"  >&lt;p&gt;At present, I have repaired Hadoop version 3.3.5, but it has not been released yet. In the future, Spark needs to update the Hadoop version to solve this problem.&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=valux&quot; class=&quot;user-hover&quot; rel=&quot;valux&quot;&gt;valux&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17705781" author="snoot" created="Tue, 28 Mar 2023 03:25:11 +0000"  >&lt;p&gt;User &apos;smallzhongfeng&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/40572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/40572&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17705803" author="gurwls223" created="Tue, 28 Mar 2023 05:27:28 +0000"  >&lt;p&gt;Issue resolved by pull request 40572&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/40572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/40572&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xtr4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>