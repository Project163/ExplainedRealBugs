<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:02:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-26188] Spark 2.4.0 Partitioning behavior breaks backwards compatibility</title>
                <link>https://issues.apache.org/jira/browse/SPARK-26188</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;My team uses spark to partition and output parquet files to amazon S3. We typically use 256 partitions, from 00 to ff.&lt;/p&gt;

&lt;p&gt;We&apos;ve observed that in spark 2.3.2 and prior, it reads the partitions as strings by default. However, in spark 2.4.0 and later, the type of each partition is inferred by default, and partitions such as 00 become 0 and 4d become 4.0.&lt;br/&gt;
 Here is a log sample of this behavior from one of our jobs:&lt;br/&gt;
 2.4.0:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
18/11/27 14:02:27 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=00/part-00061-hashredacted.parquet, range: 0-662, partition values: [0]
&lt;/span&gt;18/11/27 14:02:28 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=ef/part-00034-hashredacted.parquet, range: 0-662, partition values: [ef]
&lt;/span&gt;18/11/27 14:02:29 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=4a/part-00151-hashredacted.parquet, range: 0-662, partition values: [4a]
&lt;/span&gt;18/11/27 14:02:30 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=74/part-00180-hashredacted.parquet, range: 0-662, partition values: [74]
&lt;/span&gt;18/11/27 14:02:32 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=f5/part-00156-hashredacted.parquet, range: 0-662, partition values: [f5]
&lt;/span&gt;18/11/27 14:02:33 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=50/part-00195-hashredacted.parquet, range: 0-662, partition values: [50]
&lt;/span&gt;18/11/27 14:02:34 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=70/part-00054-hashredacted.parquet, range: 0-662, partition values: [70]
&lt;/span&gt;18/11/27 14:02:35 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=b9/part-00012-hashredacted.parquet, range: 0-662, partition values: [b9]
&lt;/span&gt;18/11/27 14:02:37 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=d2/part-00016-hashredacted.parquet, range: 0-662, partition values: [d2]
&lt;/span&gt;18/11/27 14:02:38 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=51/part-00003-hashredacted.parquet, range: 0-662, partition values: [51]
&lt;/span&gt;18/11/27 14:02:39 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=84/part-00135-hashredacted.parquet, range: 0-662, partition values: [84]
&lt;/span&gt;18/11/27 14:02:40 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=b5/part-00190-hashredacted.parquet, range: 0-662, partition values: [b5]
&lt;/span&gt;18/11/27 14:02:41 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=88/part-00143-hashredacted.parquet, range: 0-662, partition values: [88]
&lt;/span&gt;18/11/27 14:02:42 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=4d/part-00120-hashredacted.parquet, range: 0-662, partition values: [4.0]
&lt;/span&gt;18/11/27 14:02:43 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=ac/part-00119-hashredacted.parquet, range: 0-662, partition values: [ac]
&lt;/span&gt;18/11/27 14:02:44 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=24/part-00139-hashredacted.parquet, range: 0-662, partition values: [24]
&lt;/span&gt;18/11/27 14:02:45 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=fd/part-00167-hashredacted.parquet, range: 0-662, partition values: [fd]
&lt;/span&gt;18/11/27 14:02:46 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=52/part-00033-hashredacted.parquet, range: 0-662, partition values: [52]
&lt;/span&gt;18/11/27 14:02:47 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=ab/part-00083-hashredacted.parquet, range: 0-662, partition values: [ab]
&lt;/span&gt;18/11/27 14:02:48 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=f8/part-00018-hashredacted.parquet, range: 0-662, partition values: [f8]
&lt;/span&gt;18/11/27 14:02:49 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=7a/part-00093-hashredacted.parquet, range: 0-662, partition values: [7a]
&lt;/span&gt;18/11/27 14:02:50 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=ba/part-00020-hashredacted.parquet, range: 0-662, partition values: [ba]
&lt;/span&gt;18/11/27 14:02:51 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=2d/part-00085-hashredacted.parquet, range: 0-662, partition values: [2.0]
&lt;/span&gt;18/11/27 14:02:52 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=03/part-00099-hashredacted.parquet, range: 0-662, partition values: [3]
&lt;/span&gt;18/11/27 14:02:53 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=57/part-00196-hashredacted.parquet, range: 0-662, partition values: [57]
&lt;/span&gt;18/11/27 14:02:54 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=81/part-00122-hashredacted.parquet, range: 0-662, partition values: [81]
&lt;/span&gt;18/11/27 14:02:55 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=6d/part-00167-hashredacted.parquet, range: 0-662, partition values: [6.0]
&lt;/span&gt;18/11/27 14:02:56 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=36/part-00154-hashredacted.parquet, range: 0-662, partition values: [36]
&lt;/span&gt;18/11/27 14:02:57 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnamereadacted/ddgirard/suffix=4b/part-00093-hashredacted.parquet, range: 0-662, partition values: [4b]&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2.3.2:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
18/11/27 14:09:00 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=60/part-00082-hashredacted.parquet, range: 0-662, partition values: [60]
&lt;/span&gt;18/11/27 14:09:01 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=00/part-00061-hashredacted.parquet, range: 0-662, partition values: [00]
&lt;/span&gt;18/11/27 14:09:02 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=ef/part-00034-hashredacted.parquet, range: 0-662, partition values: [ef]
&lt;/span&gt;18/11/27 14:09:02 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=4a/part-00151-hashredacted.parquet, range: 0-662, partition values: [4a]
&lt;/span&gt;18/11/27 14:09:03 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=74/part-00180-hashredacted.parquet, range: 0-662, partition values: [74]
&lt;/span&gt;18/11/27 14:09:04 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=f5/part-00156-hashredacted.parquet, range: 0-662, partition values: [f5]
&lt;/span&gt;18/11/27 14:09:04 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=50/part-00195-hashredacted.parquet, range: 0-662, partition values: [50]
&lt;/span&gt;18/11/27 14:09:05 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=70/part-00054-hashredacted.parquet, range: 0-662, partition values: [70]
&lt;/span&gt;18/11/27 14:09:05 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=b9/part-00012-hashredacted.parquet, range: 0-662, partition values: [b9]
&lt;/span&gt;18/11/27 14:09:06 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=d2/part-00016-hashredacted.parquet, range: 0-662, partition values: [d2]
&lt;/span&gt;18/11/27 14:09:06 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=51/part-00003-hashredacted.parquet, range: 0-662, partition values: [51]
&lt;/span&gt;18/11/27 14:09:07 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=84/part-00135-hashredacted.parquet, range: 0-662, partition values: [84]
&lt;/span&gt;18/11/27 14:09:08 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=b5/part-00190-hashredacted.parquet, range: 0-662, partition values: [b5]
&lt;/span&gt;18/11/27 14:09:08 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=88/part-00143-hashredacted.parquet, range: 0-662, partition values: [88]
&lt;/span&gt;18/11/27 14:09:09 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=4d/part-00120-hashredacted.parquet, range: 0-662, partition values: [4d]
&lt;/span&gt;18/11/27 14:09:09 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=ac/part-00119-hashredacted.parquet, range: 0-662, partition values: [ac]
&lt;/span&gt;18/11/27 14:09:10 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=24/part-00139-hashredacted.parquet, range: 0-662, partition values: [24]
&lt;/span&gt;18/11/27 14:09:11 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=fd/part-00167-hashredacted.parquet, range: 0-662, partition values: [fd]
&lt;/span&gt;18/11/27 14:09:11 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=52/part-00033-hashredacted.parquet, range: 0-662, partition values: [52]
&lt;/span&gt;18/11/27 14:09:12 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=ab/part-00083-hashredacted.parquet, range: 0-662, partition values: [ab]
&lt;/span&gt;18/11/27 14:09:12 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=f8/part-00018-hashredacted.parquet, range: 0-662, partition values: [f8]
&lt;/span&gt;18/11/27 14:09:13 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=7a/part-00093-hashredacted.parquet, range: 0-662, partition values: [7a]
&lt;/span&gt;18/11/27 14:09:13 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=ba/part-00020-hashredacted.parquet, range: 0-662, partition values: [ba]
&lt;/span&gt;18/11/27 14:09:14 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=2d/part-00085-hashredacted.parquet, range: 0-662, partition values: [2d]
&lt;/span&gt;18/11/27 14:09:15 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=03/part-00099-hashredacted.parquet, range: 0-662, partition values: [03]
&lt;/span&gt;18/11/27 14:09:15 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=57/part-00196-hashredacted.parquet, range: 0-662, partition values: [57]
&lt;/span&gt;18/11/27 14:09:16 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=81/part-00122-hashredacted.parquet, range: 0-662, partition values: [81]
&lt;/span&gt;18/11/27 14:09:17 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=6d/part-00167-hashredacted.parquet, range: 0-662, partition values: [6d]
&lt;/span&gt;18/11/27 14:09:17 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=36/part-00154-hashredacted.parquet, range: 0-662, partition values: [36]
&lt;/span&gt;18/11/27 14:09:18 INFO FileScanRDD: Reading File path: s3a:&lt;span class=&quot;code-comment&quot;&gt;//bucketnameredacted/ddgirard/suffix=4b/part-00093-hashredacted.parquet, range: 0-662, partition values: [4b]
&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After some investigation, we&apos;ve isolated the issue to&lt;br/&gt;
 &lt;a href=&quot;https://github.com/apache/spark/blob/02b510728c31b70e6035ad541bfcdc2b59dcd79a/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/PartitioningAwareFileIndex.scala#L132-L136&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/02b510728c31b70e6035ad541bfcdc2b59dcd79a/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/PartitioningAwareFileIndex.scala#L132-L136&lt;/a&gt;&lt;br/&gt;
 &#160;&lt;/p&gt;

&lt;p&gt;In the inferPartitioning method, 2.3.2 sets the type inference to false by default:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
val spec = PartitioningUtils.parsePartitions(
  leafDirs,
  typeInference = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
  basePaths = basePaths,
  timeZoneId = timeZoneId)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, in version 2.4.0, the typeInference flag has been replace with a config flag&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/blob/075447b3965489ffba4e6afb2b120880bc307505/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/PartitioningAwareFileIndex.scala#L129-L133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/075447b3965489ffba4e6afb2b120880bc307505/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/PartitioningAwareFileIndex.scala#L129-L133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
val inferredPartitionSpec = PartitioningUtils.parsePartitions(
  leafDirs,
  typeInference = sparkSession.sessionState.conf.partitionColumnTypeInferenceEnabled,
  basePaths = basePaths,
  timeZoneId = timeZoneId)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And this conf&apos;s default value is true&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
val PARTITION_COLUMN_TYPE_INFERENCE =
buildConf(&lt;span class=&quot;code-quote&quot;&gt;&quot;spark.sql.sources.partitionColumnTypeInference.enabled&quot;&lt;/span&gt;)
.doc(&lt;span class=&quot;code-quote&quot;&gt;&quot;When &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, automatically infer the data types &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; partitioned columns.&quot;&lt;/span&gt;)
.booleanConf
.createWithDefault(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/blob/075447b3965489ffba4e6afb2b120880bc307505/sql/catalyst/src/main/scala/org/apache/spark/sql/internal/SQLConf.scala#L636-L640&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/075447b3965489ffba4e6afb2b120880bc307505/sql/catalyst/src/main/scala/org/apache/spark/sql/internal/SQLConf.scala#L636-L640&lt;/a&gt;&lt;br/&gt;
 &#160;&lt;/p&gt;

&lt;p&gt;I was wondering if a bug report would be appropriate to preserve backwards compatibility and change the default conf value to false.&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
 &#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13200932">SPARK-26188</key>
            <summary>Spark 2.4.0 Partitioning behavior breaks backwards compatibility</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Gengliang.Wang">Gengliang Wang</assignee>
                                    <reporter username="ddgirard">Damien Doucet-Girard</reporter>
                        <labels>
                            <label>correctness</label>
                            <label>release-notes</label>
                    </labels>
                <created>Tue, 27 Nov 2018 18:52:06 +0000</created>
                <updated>Tue, 26 Feb 2019 19:50:47 +0000</updated>
                            <resolved>Fri, 30 Nov 2018 04:02:58 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.4.1</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16702095" author="gengliang.wang" created="Wed, 28 Nov 2018 16:22:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ddgirard&quot; class=&quot;user-hover&quot; rel=&quot;ddgirard&quot;&gt;ddgirard&lt;/a&gt;Thanks for the investigation. I have created &lt;a href=&quot;https://github.com/apache/spark/pull/23165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23165&lt;/a&gt; to fix it.&lt;/p&gt;</comment>
                            <comment id="16702096" author="apachespark" created="Wed, 28 Nov 2018 16:22:54 +0000"  >&lt;p&gt;User &apos;gengliangwang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/23165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23165&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16704238" author="cloud_fan" created="Fri, 30 Nov 2018 04:02:58 +0000"  >&lt;p&gt;Issue resolved by pull request 23165&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/23165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23165&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16704804" author="stevel@apache.org" created="Fri, 30 Nov 2018 14:28:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;&amp;gt; My team uses spark to partition and output parquet files to amazon S3. We typically use 256 partitions, from 00 to ff.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Independent of the patch, you&apos;d better be using something to deliver the consistency which commit-via-rename requires for directory listing (on S3A: S3Guard), or better, an output committer designed from the ground up for S3 (S3A committers), or you are at risk of data loss due to inconsistent listings.&lt;/p&gt;</comment>
                            <comment id="16705307" author="ddgirard" created="Fri, 30 Nov 2018 21:38:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt; thanks for the tip, I brought it up with the team and we&apos;re going to check out a solution for our existing jobs&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13217956">SPARK-26990</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00xa8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12344117">2.4.1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>