<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:17:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-31967] Loading jobs UI page takes 40 seconds</title>
                <link>https://issues.apache.org/jira/browse/SPARK-31967</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In the latest master branch, I find that the job list page becomes very slow.&lt;br/&gt;
To reproduce in local setup:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
spark.read.parquet(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/p1&quot;&lt;/span&gt;).createOrReplaceTempView(&lt;span class=&quot;code-quote&quot;&gt;&quot;t1&quot;&lt;/span&gt;)
spark.read.parquet(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/p2&quot;&lt;/span&gt;).createOrReplaceTempView(&lt;span class=&quot;code-quote&quot;&gt;&quot;t2&quot;&lt;/span&gt;)
(1 to 1000).map(_ =&amp;gt;  spark.sql(&lt;span class=&quot;code-quote&quot;&gt;&quot;select * from t1, t2 where t1.value=t2.value&quot;&lt;/span&gt;).show())
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And that, open live UI: &lt;a href=&quot;http://localhost:4040/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4040/&lt;/a&gt;&lt;br/&gt;
The loading time is about 40 seconds.&lt;/p&gt;

&lt;p&gt;If we comment out the function call for `drawApplicationTimeline`, then the loading time is around 1 second.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13310840">SPARK-31967</key>
            <summary>Loading jobs UI page takes 40 seconds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Gengliang.Wang">Gengliang Wang</assignee>
                                    <reporter username="Gengliang.Wang">Gengliang Wang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jun 2020 07:58:59 +0000</created>
                <updated>Sun, 14 Jun 2020 19:21:18 +0000</updated>
                            <resolved>Sat, 13 Jun 2020 00:36:57 +0000</resolved>
                                    <version>2.4.6</version>
                    <version>3.0.1</version>
                                    <fixVersion>2.4.7</fixVersion>
                    <fixVersion>3.0.1</fixVersion>
                    <fixVersion>3.1.0</fixVersion>
                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17133029" author="gengliang.wang" created="Thu, 11 Jun 2020 08:01:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sarutak&quot; class=&quot;user-hover&quot; rel=&quot;sarutak&quot;&gt;sarutak&lt;/a&gt; could you take a look at it? It is very serious.&lt;/p&gt;</comment>
                            <comment id="17133039" author="sarutak" created="Thu, 11 Jun 2020 08:12:35 +0000"  >&lt;p&gt;I&apos;ll investigate.&lt;/p&gt;</comment>
                            <comment id="17133049" author="sarutak" created="Thu, 11 Jun 2020 08:31:11 +0000"  >&lt;p&gt;This issue can be related.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/visjs/vis-timeline/issues/379&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/visjs/vis-timeline/issues/379&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17133058" author="gengliang.wang" created="Thu, 11 Jun 2020 08:38:20 +0000"  >&lt;p&gt;Thanks.&lt;br/&gt;
Also, not directly related to this topic, I don&apos;t think we need to render the timeline in the page unless the &quot;event timeline&quot; link is clicked..we can have follow-up improvements.&lt;/p&gt;</comment>
                            <comment id="17133109" author="sarutak" created="Thu, 11 Jun 2020 09:47:30 +0000"  >&lt;p&gt;For now, I&apos;m considering a paging solution like StagePage does.&lt;/p&gt;</comment>
                            <comment id="17133930" author="apachespark" created="Fri, 12 Jun 2020 05:05:08 +0000"  >&lt;p&gt;User &apos;gengliangwang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/28806&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/28806&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17133931" author="apachespark" created="Fri, 12 Jun 2020 05:06:11 +0000"  >&lt;p&gt;User &apos;gengliangwang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/28806&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/28806&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17134043" author="apachespark" created="Fri, 12 Jun 2020 08:21:15 +0000"  >&lt;p&gt;User &apos;gengliangwang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/28811&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/28811&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17134046" author="apachespark" created="Fri, 12 Jun 2020 08:22:40 +0000"  >&lt;p&gt;User &apos;gengliangwang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/28811&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/28811&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17134050" author="apachespark" created="Fri, 12 Jun 2020 08:25:33 +0000"  >&lt;p&gt;User &apos;gengliangwang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/28813&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/28813&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17134608" author="gengliang.wang" created="Sat, 13 Jun 2020 00:36:38 +0000"  >&lt;p&gt;The issue is resoveld in &lt;a href=&quot;https://github.com/apache/spark/pull/28806&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/28806&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17135269" author="smilegator" created="Sun, 14 Jun 2020 19:19:02 +0000"  >&lt;p&gt;Do we need to resolve the&#160; same issue in 2.4.6?&lt;/p&gt;</comment>
                            <comment id="17135270" author="smilegator" created="Sun, 14 Jun 2020 19:20:19 +0000"  >&lt;p&gt;nvm. This has been merged to 2.4 branch.&#160;&lt;/p&gt;</comment>
                            <comment id="17135271" author="smilegator" created="Sun, 14 Jun 2020 19:21:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Gengliang.Wang&quot; class=&quot;user-hover&quot; rel=&quot;Gengliang.Wang&quot;&gt;Gengliang.Wang&lt;/a&gt; Please also change the fix versions when you merged the PRs.&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13310992">SPARK-31971</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13005457" name="load_time.jpeg" size="15442" author="Gengliang.Wang" created="Thu, 11 Jun 2020 08:00:20 +0000"/>
                            <attachment id="13005456" name="profile.png" size="66875" author="Gengliang.Wang" created="Thu, 11 Jun 2020 08:00:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fqxk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>