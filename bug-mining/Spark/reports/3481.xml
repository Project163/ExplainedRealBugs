<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:42:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-15260] UnifiedMemoryManager could be in bad state if any exception happen while evicting blocks</title>
                <link>https://issues.apache.org/jira/browse/SPARK-15260</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error: org.apache.spark.SparkException: Job aborted due to stage failure: Task 62 in stage 19.0 failed 4 times, most
recent failure: Lost task 62.3 in stage 19.0 (TID 2841, ip-10-109-240-229.ec2.internal): java.io.IOException:
java.lang.AssertionError: assertion failed at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1223) at
org.apache.spark.broadcast.TorrentBroadcast.readBroadcastBlock( TorrentBroadcast.scala:165) at
org.apache.spark.broadcast.TorrentBroadcast._value$lzycompute( TorrentBroadcast.scala:64) at
org.apache.spark.broadcast.TorrentBroadcast._value(TorrentBroadcast. scala:64) at
org.apache.spark.broadcast.TorrentBroadcast.getValue(TorrentBroadcast. scala:88) at
org.apache.spark.broadcast.Broadcast.value(Broadcast.scala:70) at
org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala: 71) at
org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala: 46) at
org.apache.spark.scheduler.Task.run(Task.scala:96) at
org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:222) at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1142) at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor. java:617) at
java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) Caused by: java.lang.AssertionError: assertion failed at
scala.Predef$.&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt;(Predef.scala:165) at org.apache.spark.memory.UnifiedMemoryManager.acquireStorageMemory(
UnifiedMemoryManager.scala:140) at org.apache.spark.storage.MemoryStore.tryToPut(MemoryStore.scala:387) at
org.apache.spark.storage.MemoryStore.tryToPut(MemoryStore.scala:346) at
org.apache.spark.storage.MemoryStore.putBytes(MemoryStore.scala:99) at
org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:803) at
org.apache.spark.storage.BlockManager.putBytes(BlockManager.scala:690) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$or$$$$
1c5ab38dcb7d9b112f54b116debbe7f$$$$&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;$$anonfun$$getRemote$1$1.apply( TorrentBroadcast.scala:130) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$or$$$$
1c5ab38dcb7d9b112f54b116debbe7f$$$$&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;$$anonfun$$getRemote$1$1.apply( TorrentBroadcast.scala:127) at
scala.Option.map(Option.scala:145) at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1.org$apache$spark$broadcast$
TorrentBroadcast$$anonfun$$getRemote$1(TorrentBroadcast.scala:127) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1$$anonfun$1.apply( TorrentBroadcast.scala:137) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1$$anonfun$1.apply( TorrentBroadcast.scala:137) at
scala.Option.orElse(Option.scala:257) at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1.apply$mcVI$sp(TorrentBroadcast. scala:137) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1.apply(TorrentBroadcast.scala: 120) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1.apply(TorrentBroadcast.scala: 120) at
scala.collection.immutable.List.foreach(List.scala:318) at
org.apache.spark.broadcast.TorrentBroadcast.org$apache$spark$broadcast$
TorrentBroadcast$$readBlocks(TorrentBroadcast.scala:120) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$readBroadcastBlock$ 1.apply(TorrentBroadcast.scala:175) at
org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1220) ... 12 more Driver stacktrace: at
org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$
DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1431) at
org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply( DAGScheduler.scala:1419) at
org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply( DAGScheduler.scala:1418) at
scala.collection.mutable.ResizableArray$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;foreach(ResizableArray. scala:59) at
scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:47) at
org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala: 1418) at
org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1. apply(DAGScheduler.scala:799) at
org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1. apply(DAGScheduler.scala:799) at
scala.Option.foreach(Option.scala:236) at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler
.scala:799) at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive( DAGScheduler.scala:1640) at
org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive( DAGScheduler.scala:1599) at
org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive( DAGScheduler.scala:1588) at
org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48) at
org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:620) at
org.apache.spark.SparkContext.runJob(SparkContext.scala:1837) at
org.apache.spark.SparkContext.runJob(SparkContext.scala:1850) at
org.apache.spark.SparkContext.runJob(SparkContext.scala:1863) at
org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:212 ) at
org.apache.spark.sql.execution.Limit.executeCollect(basicOperators.scala
:165) at
org.apache.spark.sql.execution.SparkPlan.executeCollectPublic(SparkPlan. scala:174) at
org.apache.spark.sql.DataFrame$$anonfun$org$apache$spark$sql$DataFrame$$ execute$1$1.apply(DataFrame.scala:1499) at
org.apache.spark.sql.DataFrame$$anonfun$org$apache$spark$sql$DataFrame$$ execute$1$1.apply(DataFrame.scala:1499) at
org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId( SQLExecution.scala:56) at
org.apache.spark.sql.DataFrame.withNewExecutionId(DataFrame.scala:2086) at
org.apache.spark.sql.DataFrame.org$apache$spark$sql$DataFrame$$execute$1 (DataFrame.scala:1498) at
org.apache.spark.sql.DataFrame.org$apache$spark$sql$DataFrame$$collect( DataFrame.scala:1505) at
org.apache.spark.sql.DataFrame$$anonfun$head$1.apply(DataFrame.scala: 1375) at
org.apache.spark.sql.DataFrame$$anonfun$head$1.apply(DataFrame.scala: 1374) at
org.apache.spark.sql.DataFrame.withCallback(DataFrame.scala:2099) at
org.apache.spark.sql.DataFrame.head(DataFrame.scala:1374) at org.apache.spark.sql.DataFrame.take(DataFrame.scala:1456)
at org.apache.spark.sql.DataFrame.showString(DataFrame.scala:170) at
org.apache.spark.sql.DataFrame.show(DataFrame.scala:350) at org.apache.spark.sql.DataFrame.show(DataFrame.scala:311) at
org.apache.spark.sql.DataFrame.show(DataFrame.scala:319) Caused by: java.io.IOException: java.lang.AssertionError:
assertion failed at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1223) at
org.apache.spark.broadcast.TorrentBroadcast.readBroadcastBlock( TorrentBroadcast.scala:165) at
org.apache.spark.broadcast.TorrentBroadcast._value$lzycompute( TorrentBroadcast.scala:64) at
org.apache.spark.broadcast.TorrentBroadcast._value(TorrentBroadcast. scala:64) at
org.apache.spark.broadcast.TorrentBroadcast.getValue(TorrentBroadcast. scala:88) at
org.apache.spark.broadcast.Broadcast.value(Broadcast.scala:70) at
org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala: 71) at
org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala: 46) at
org.apache.spark.scheduler.Task.run(Task.scala:96) at
org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:222) at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1142) at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor. java:617) at
java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) Caused by: java.lang.AssertionError: assertion failed at
scala.Predef$.&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt;(Predef.scala:165) at org.apache.spark.memory.UnifiedMemoryManager.acquireStorageMemory(
UnifiedMemoryManager.scala:140) at org.apache.spark.storage.MemoryStore.tryToPut(MemoryStore.scala:387) at
org.apache.spark.storage.MemoryStore.tryToPut(MemoryStore.scala:346) at
org.apache.spark.storage.MemoryStore.putBytes(MemoryStore.scala:99) at
org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:803) at
org.apache.spark.storage.BlockManager.putBytes(BlockManager.scala:690) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$or$$$$
1c5ab38dcb7d9b112f54b116debbe7f$$$$&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;$$anonfun$$getRemote$1$1.apply( TorrentBroadcast.scala:130) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$or$$$$
1c5ab38dcb7d9b112f54b116debbe7f$$$$&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;$$anonfun$$getRemote$1$1.apply( TorrentBroadcast.scala:127) at
scala.Option.map(Option.scala:145) at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1.org$apache$spark$broadcast$
TorrentBroadcast$$anonfun$$getRemote$1(TorrentBroadcast.scala:127) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1$$anonfun$1.apply( TorrentBroadcast.scala:137) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1$$anonfun$1.apply( TorrentBroadcast.scala:137) at
scala.Option.orElse(Option.scala:257) at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1.apply$mcVI$sp(TorrentBroadcast. scala:137) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1.apply(TorrentBroadcast.scala: 120) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$
broadcast$TorrentBroadcast$$readBlocks$1.apply(TorrentBroadcast.scala: 120) at
scala.collection.immutable.List.foreach(List.scala:318) at
org.apache.spark.broadcast.TorrentBroadcast.org$apache$spark$broadcast$
TorrentBroadcast$$readBlocks(TorrentBroadcast.scala:120) at
org.apache.spark.broadcast.TorrentBroadcast$$anonfun$readBroadcastBlock$ 1.apply(TorrentBroadcast.scala:175) at
org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1220) at
org.apache.spark.broadcast.TorrentBroadcast.readBroadcastBlock( TorrentBroadcast.scala:165) at
org.apache.spark.broadcast.TorrentBroadcast._value$lzycompute( TorrentBroadcast.scala:64) at
org.apache.spark.broadcast.TorrentBroadcast._value(TorrentBroadcast. scala:64) at
org.apache.spark.broadcast.TorrentBroadcast.getValue(TorrentBroadcast. scala:88) at
org.apache.spark.broadcast.Broadcast.value(Broadcast.scala:70) at
org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala: 71) at
org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala: 46) at
org.apache.spark.scheduler.Task.run(Task.scala:96) at
org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:222) at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1142) at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor. java:617) at
java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12967245">SPARK-15260</key>
            <summary>UnifiedMemoryManager could be in bad state if any exception happen while evicting blocks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrewor14">Andrew Or</assignee>
                                    <reporter username="davies">Davies Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 May 2016 23:53:08 +0000</created>
                <updated>Thu, 12 May 2016 00:27:10 +0000</updated>
                            <resolved>Wed, 11 May 2016 20:01:59 +0000</resolved>
                                    <version>1.6.0</version>
                    <version>1.6.1</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.6.2</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15279263" author="apachespark" created="Tue, 10 May 2016 23:58:03 +0000"  >&lt;p&gt;User &apos;andrewor14&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/13039&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/13039&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15280828" author="apachespark" created="Wed, 11 May 2016 21:04:04 +0000"  >&lt;p&gt;User &apos;andrewor14&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/13058&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/13058&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2xjmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12334910">1.6.2</customfieldvalue>
    <customfieldvalue id="12329449">2.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>