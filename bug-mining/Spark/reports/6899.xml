<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:08:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-30144] MLP param map missing</title>
                <link>https://issues.apache.org/jira/browse/SPARK-30144</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Param maps for fitted classifiers are available with all classifiers except for the MultilayerPerceptronClassifier.&lt;br/&gt;
 &#160;&lt;br/&gt;
 There is no way to track or know what parameters were best during a crossvalidation or which parameters were used for submodels.&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;MultilayerPerceptronClassifier_eeab0cc242d1&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;featuresCol&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;features column name&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;features&apos;&lt;/span&gt;, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;MultilayerPerceptronClassifier_eeab0cc242d1&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;labelCol&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;label column name&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;fake_banknote&apos;&lt;/span&gt;, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;MultilayerPerceptronClassifier_eeab0cc242d1&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;predictionCol&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;prediction column name&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;prediction&apos;&lt;/span&gt;, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;MultilayerPerceptronClassifier_eeab0cc242d1&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;probabilityCol&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Column name &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; predicted &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;conditional probabilities. Note: Not all models output well-calibrated probability estimates! These probabilities should be treated as confidences, not precise probabilities&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;probability&apos;&lt;/span&gt;, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;MultilayerPerceptronClassifier_eeab0cc242d1&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;rawPredictionCol&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;raw prediction (a.k.a. confidence) column name&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;rawPrediction&apos;&lt;/span&gt;}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 GBTClassifier for example shows all parameters:&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; {
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;cacheNodeIds&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;If &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, the algorithm will pass trees to executors to match instances with nodes. If &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, the algorithm will cache node IDs &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; each instance. Caching can speed up training of deeper trees.&apos;&lt;/span&gt;): False, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;checkpointInterval&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;set checkpoint interval (&amp;gt;= 1) or disable checkpoint (-1). E.g. 10 means that the cache will get checkpointed every 10 iterations. Note: &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; setting will be ignored &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the checkpoint directory is not set in the SparkContext&apos;&lt;/span&gt;): 10, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;featureSubsetStrategy&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;The number of features to consider &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; splits at each tree node. Supported options: auto, all, onethird, sqrt, log2, (0.0-1.0], [1-n].&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;all&apos;&lt;/span&gt;, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;featuresCol&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;features column name&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;features&apos;&lt;/span&gt;, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;labelCol&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;label column name&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;fake_banknote&apos;&lt;/span&gt;, Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;lossType&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Loss function which GBT tries to minimize (&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;-insensitive). Supported options: logistic&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;logistic&apos;&lt;/span&gt;, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;maxBins&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Max number of bins &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; discretizing continuous features. Must be &amp;gt;=2 and &amp;gt;= number of categories &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; any categorical feature.&apos;&lt;/span&gt;): 8, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;maxDepth&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Maximum depth of the tree. (&amp;gt;= 0) E.g., depth 0 means 1 leaf node; depth 1 means 1 internal node + 2 leaf nodes.&apos;&lt;/span&gt;): 5, Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;maxIter&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;maximum number of iterations (&amp;gt;= 0)&apos;&lt;/span&gt;): 20, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;maxMemoryInMB&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Maximum memory in MB allocated to histogram aggregation.&apos;&lt;/span&gt;): 256, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;minInfoGain&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Minimum information gain &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a split to be considered at a tree node.&apos;&lt;/span&gt;): 0.0, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;minInstancesPerNode&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Minimum number of instances each child must have after split. If a split causes the left or right child to have fewer than minInstancesPerNode, the split will be discarded as invalid. Should be &amp;gt;= 1.&apos;&lt;/span&gt;): 1, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;predictionCol&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;prediction column name&apos;&lt;/span&gt;): &lt;span class=&quot;code-quote&quot;&gt;&apos;prediction&apos;&lt;/span&gt;, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;seed&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;random seed&apos;&lt;/span&gt;): 1234, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;stepSize&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Step size (a.k.a. learning rate) in interval (0, 1] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; shrinking the contribution of each estimator.&apos;&lt;/span&gt;): 0.1, 
Param(parent=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBTClassifier_a0e77b3430aa&apos;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&apos;subsamplingRate&apos;&lt;/span&gt;, doc=&lt;span class=&quot;code-quote&quot;&gt;&apos;Fraction of the training data used &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; learning each decision tree, in range (0, 1].&apos;&lt;/span&gt;): 1.0}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
See attached ipynb or example notebook here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://colab.research.google.com/drive/1lwSHioZKlLh96FhGkdYFe6FUuRfTcSxH&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://colab.research.google.com/drive/1lwSHioZKlLh96FhGkdYFe6FUuRfTcSxH&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13272612">SPARK-30144</key>
            <summary>MLP param map missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="huaxingao">Huaxin Gao</assignee>
                                    <reporter username="cyborgdroid">Glen-Erik Cortes</reporter>
                        <labels>
                            <label>release-notes</label>
                    </labels>
                <created>Thu, 5 Dec 2019 23:18:56 +0000</created>
                <updated>Wed, 22 Jan 2020 21:07:19 +0000</updated>
                            <resolved>Fri, 3 Jan 2020 18:01:36 +0000</resolved>
                                    <version>2.4.4</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>ML</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16991018" author="huaxingao" created="Sun, 8 Dec 2019 23:12:36 +0000"  >&lt;p&gt;Currently, MultilayerPerceptronClassificationModel only has params featuresCol, labelCol, predictionCol, probabilityCol, rawPredictionCol.&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viirya&quot; class=&quot;user-hover&quot; rel=&quot;viirya&quot;&gt;viirya&lt;/a&gt;&#160; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=podongfeng&quot; class=&quot;user-hover&quot; rel=&quot;podongfeng&quot;&gt;podongfeng&lt;/a&gt;&#160; Are there any reasons why MultilayerPerceptronClassificationModel doesn&apos;t extend&#160;MultilayerPerceptronParams? If not, I will make it extend&#160;MultilayerPerceptronParams.&lt;/p&gt;</comment>
                            <comment id="16991050" author="podongfeng" created="Mon, 9 Dec 2019 01:39:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huaxingao&quot; class=&quot;user-hover&quot; rel=&quot;huaxingao&quot;&gt;huaxingao&lt;/a&gt;&#160; It seems that MultilayerPerceptronClassificationModel should extend MultilayerPerceptronParams to expose the training params.&lt;/p&gt;</comment>
                            <comment id="16991083" author="viirya" created="Mon, 9 Dec 2019 02:33:44 +0000"  >&lt;p&gt;Seems so. MultilayerPerceptronParams is missed.&lt;/p&gt;</comment>
                            <comment id="17007667" author="srowen" created="Fri, 3 Jan 2020 18:01:36 +0000"  >&lt;p&gt;Issue resolved by pull request 26838&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/26838&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/26838&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12987746" name="MLP_params_missing.ipynb" size="11751" author="cyborgdroid" created="Fri, 6 Dec 2019 15:14:00 +0000"/>
                            <attachment id="12987747" name="data_banknote_authentication.csv" size="46450" author="cyborgdroid" created="Fri, 6 Dec 2019 15:14:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12312720" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Docs Text</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>From 3.0, MultilayerPerceptronClassificationModel extends MultilayerPerceptronParams to expose the training params. As a result, &lt;br/&gt;
layers in MultilayerPerceptronClassificationModel has been changed from Array[Int] to IntArrayParam. User should use MultilayerPerceptronClassificationModel.getLayers instead of MultilayerPerceptronClassificationModel.layers to retrieve the size of layers. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09ckg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>