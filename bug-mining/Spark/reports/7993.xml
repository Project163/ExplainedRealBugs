<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:26:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-35758] Update the document about building Spark with Hadoop for Hadoop 2.x and 3.x</title>
                <link>https://issues.apache.org/jira/browse/SPARK-35758</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When trying to follow steps in documentation about building Spark with a specific Hadoop version, this seems to fail with the following compiler error.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 [INFO] Compiling 560 Scala sources and 99 Java sources to /Users/puigcalvachef/Documents/os/spark/core/target/scala-2.12/classes ...
[ERROR] [Error] /Users/puigcalvachef/Documents/os/spark/core/src/main/scala/org/apache/spark/ui/HttpSecurityFilter.scala:107: type mismatch;
 found   : K where type K
 required: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
[ERROR] [Error] /Users/puigcalvachef/Documents/os/spark/core/src/main/scala/org/apache/spark/ui/HttpSecurityFilter.scala:107: value map is not a member of V
[ERROR] [Error] /Users/puigcalvachef/Documents/os/spark/core/src/main/scala/org/apache/spark/ui/HttpSecurityFilter.scala:107: missing argument list &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; method stripXSS in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;XssSafeRequest
Unapplied methods are only converted to functions when a function type is expected.
You can make &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; conversion explicit by writing `stripXSS _` or `stripXSS(_)` instead of `stripXSS`.
[ERROR] [Error] /Users/puigcalvachef/Documents/os/spark/core/src/main/scala/org/apache/spark/ui/PagedTable.scala:307: value startsWith is not a member of K
[ERROR] four errors found
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The minimal build to reproduce it would be just by building spark core module using:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
./build/mvn -Dhadoop.version=2.7.4 -pl :spark-core_2.12  -DskipTests clean install &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After some testing, it seems that something changed between 3.1.1-rc1 and 3.1.1-rc2 that made the feature start failing.&lt;/p&gt;

&lt;p&gt;I tried a few versions of&#160; Hadoop that fail: 2.7.4, 2.8.1, 2.8.5&#160;&lt;br/&gt;
But it was successful when using Hadoop 3.0.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13383758">SPARK-35758</key>
            <summary>Update the document about building Spark with Hadoop for Hadoop 2.x and 3.x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarutak">Kousuke Saruta</assignee>
                                    <reporter username="ferranjr">Ferran Puig-Calvache</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jun 2021 15:37:01 +0000</created>
                <updated>Mon, 12 Dec 2022 18:11:04 +0000</updated>
                            <resolved>Tue, 15 Jun 2021 11:20:33 +0000</resolved>
                                    <version>3.1.1</version>
                    <version>3.1.2</version>
                    <version>3.2.0</version>
                                    <fixVersion>3.2.0</fixVersion>
                    <fixVersion>3.1.3</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17363307" author="sarutak" created="Tue, 15 Jun 2021 01:40:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ferranjr&quot; class=&quot;user-hover&quot; rel=&quot;ferranjr&quot;&gt;ferranjr&lt;/a&gt;&lt;br/&gt;
Could you build with -Phadoop-2.7 ?&lt;br/&gt;
I can build with the following command.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
build/mvn -Phadoop-2.7 -Dhadoop.version=2.7.4 -pl :spark-core_2.12 -DskipTests compile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17363409" author="ferranjr" created="Tue, 15 Jun 2021 06:40:02 +0000"  >&lt;p&gt;Thank you so much&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sarutak&quot; class=&quot;user-hover&quot; rel=&quot;sarutak&quot;&gt;sarutak&lt;/a&gt;,&#160;I can build it using the -Phadoop-2.7 flag as you commented, there is no 2.8 profile, but I managed to build the core module for Hadoop versions 2.7.4 and 2.8.5 using this flag...&#160;&lt;/p&gt;

&lt;p&gt;It seems then that is only an issue with the &lt;a href=&quot;https://spark.apache.org/docs/latest/building-spark.html#specifying-the-hadoop-version-and-enabling-yarn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;building spark docs where you can &lt;/a&gt;find this as an example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./build/mvn -Pyarn -Dhadoop.version=2.8.5 -DskipTests clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But we should probably require the -Phadoop-2.7&#160;profile flag to be added.&lt;/p&gt;</comment>
                            <comment id="17363455" author="apachespark" created="Tue, 15 Jun 2021 08:14:45 +0000"  >&lt;p&gt;User &apos;sarutak&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/32917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/32917&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17363583" author="gurwls223" created="Tue, 15 Jun 2021 11:20:33 +0000"  >&lt;p&gt;Issue resolved by pull request 32917&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/32917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/32917&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0rxvc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>