<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:48:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-18262] JSON.org license is now CatX</title>
                <link>https://issues.apache.org/jira/browse/SPARK-18262</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;per &lt;a href=&quot;http://www.apache.org/legal/resolved.html#json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;update resolved legal&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;CAN APACHE PRODUCTS INCLUDE WORKS LICENSED UNDER THE JSON LICENSE?&lt;/p&gt;

&lt;p&gt;No. As of 2016-11-03 this has been moved to the &apos;Category X&apos; license list. Prior to this, use of the JSON Java library was allowed. See Debian&apos;s page for a list of alternatives.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not actually clear if Spark is using one of the JSON.org licensed libraries. As of current master (dc4c6009) the java library gets called out in the &lt;a href=&quot;https://github.com/apache/spark/blob/dc4c60098641cf64007e2f0e36378f000ad5f6b1/NOTICE#L424&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;NOTICE file for our source repo&lt;/a&gt; but:&lt;/p&gt;

&lt;p&gt;1) It doesn&apos;t say where in the source&lt;br/&gt;
2) the given url is 404 (&lt;a href=&quot;http://www.json.org/java/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.json.org/java/index.html&lt;/a&gt;)&lt;br/&gt;
3) It doesn&apos;t actually say in the NOTICE what license the inclusion is under&lt;br/&gt;
4) the JSON.org license for the java &lt;tt&gt;org.json:json&lt;/tt&gt; artifact (what the blurb in #2 is usually referring to) doesn&apos;t show up in our LICENSE file, nor in the &lt;tt&gt;licenses/&lt;/tt&gt; directory&lt;br/&gt;
5) I don&apos;t see a direct reference to the &lt;tt&gt;org.json:json&lt;/tt&gt; artifact in our poms.&lt;/p&gt;

&lt;p&gt;So maybe it&apos;s just coming in transitively and we can exclude it / ping whoever is bringing it in?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13017930">SPARK-18262</key>
            <summary>JSON.org license is now CatX</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean R. Owen</assignee>
                                    <reporter username="busbey">Sean Busbey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Nov 2016 03:40:22 +0000</created>
                <updated>Wed, 27 Mar 2019 13:03:03 +0000</updated>
                            <resolved>Thu, 10 Nov 2016 17:34:30 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15635747" author="srowen" created="Fri, 4 Nov 2016 09:11:39 +0000"  >&lt;p&gt;I&apos;ll investigate. Yes it comes from the shaded Hive dependency. I think we&apos;ll have to find a way to get rid of it or re-shade a newer release of Hive once it fixes the issue. It&apos;s not used by Spark itself. I&apos;ll figure out whether we even distribute this code in a release.&lt;/p&gt;</comment>
                            <comment id="15644501" author="srowen" created="Mon, 7 Nov 2016 15:35:19 +0000"  >&lt;p&gt;&lt;tt&gt;org.json:json&lt;/tt&gt; is brought in from the &lt;tt&gt;hive-exec&lt;/tt&gt; dependency. It isn&apos;t used directly by Spark, but, the releases do end up releasing a copy of this JAR file as a result.&lt;/p&gt;

&lt;p&gt;I suppose that means that one ideal way forward is to wait for Hive to fix this dependency issue too, then publish a new &lt;tt&gt;org.spark-project&lt;/tt&gt; version of it, and depend on that. This could take a while, and may not help older versions anyway.&lt;/p&gt;

&lt;p&gt;I looked into usages of this library in Hive itself and it&apos;s referenced in only a handful of places, half of which are elements that Spark probably doesn&apos;t ever touch, like Tez support. I tried simply excluding the dependency. While I got test failures, I can&apos;t seem to determine whether they&apos;re related, because the error changes from run to run and the one semi-persistent one does not seem related. &lt;/p&gt;

&lt;p&gt;I will try to open a PR with this change as a WIP to see what Jenkins says as a second opinion.&lt;/p&gt;</comment>
                            <comment id="15644572" author="apachespark" created="Mon, 7 Nov 2016 16:06:05 +0000"  >&lt;p&gt;User &apos;srowen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/15798&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/15798&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15702340" author="stevel@apache.org" created="Mon, 28 Nov 2016 16:09:57 +0000"  >&lt;p&gt;~tdunning has done a mostly-compatible org.json replacement JAR, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-13794&quot; title=&quot;JSON.org license is now CatX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-13794&quot;&gt;&lt;del&gt;HADOOP-13794&lt;/del&gt;&lt;/a&gt;. If org.json can&apos;t be pulled, and there&apos;s a lib using a non-shaded dependency, this should be able to act as a replacement&lt;/p&gt;</comment>
                            <comment id="16802719" author="q79969786" created="Wed, 27 Mar 2019 12:34:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt;&#160;I&apos;m not sure do we need exclude&#160;&lt;tt&gt;org.json#json&lt;/tt&gt; from &lt;a href=&quot;https://github.com/apache/spark/blob/master/sql/hive/src/main/scala/org/apache/spark/sql/hive/client/package.scala#L20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/sql/hive/src/main/scala/org/apache/spark/sql/hive/client/package.scala&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Run &lt;tt&gt;HiveSparkSubmitSuite&lt;/tt&gt; to reproduce::&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HiveSparkSubmitSuite.test(&lt;span class=&quot;code-quote&quot;&gt;&quot;SPARK-8020: set sql conf in spark conf&quot;&lt;/span&gt;) {
  val unusedJar = TestUtils.createJarWithClasses(Seq.empty)
  val args = Seq(
    &lt;span class=&quot;code-quote&quot;&gt;&quot;--class&quot;&lt;/span&gt;, SparkSQLConfTest.getClass.getName.stripSuffix(&lt;span class=&quot;code-quote&quot;&gt;&quot;$&quot;&lt;/span&gt;),
    &lt;span class=&quot;code-quote&quot;&gt;&quot;--name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;SparkSQLConfTest&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;--master&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;local-cluster[2,1,1024]&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;--conf&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;spark.ui.enabled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;--conf&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;spark.master.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.enabled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;--conf&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;spark.sql.hive.metastore.version=0.12&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;--conf&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;spark.sql.hive.metastore.jars=maven&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;--driver-java-options&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;-Dderby.system.durability=test&quot;&lt;/span&gt;,
    unusedJar.toString)
  runSparkSubmit(args)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;...
2019-03-04 11:51:02.184 - stderr&amp;gt;       found com.google.protobuf#protobuf-java;2.4.1 in central
2019-03-04 11:51:02.207 - stderr&amp;gt;       found org.iq80.snappy#snappy;0.2 in user-list
2019-03-04 11:51:02.212 - stderr&amp;gt;       found org.json#json;20090211 in user-list
2019-03-04 11:51:02.234 - stderr&amp;gt;       found commons-configuration#commons-configuration;1.6 in user-list
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16802736" author="srowen" created="Wed, 27 Mar 2019 12:48:29 +0000"  >&lt;p&gt;I don&apos;t see org.json:json in the output of mvn dependency:tree right now. What is the output you&apos;re quoting here, is it just from what&apos;s resolved in the test when running the Hive tests? I don&apos;t think that means it&apos;s actually bundled with Spark. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yumwang&quot; class=&quot;user-hover&quot; rel=&quot;yumwang&quot;&gt;yumwang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16802752" author="q79969786" created="Wed, 27 Mar 2019 13:03:03 +0000"  >&lt;p&gt;Yes. It only happens when running the Hive tests. Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt;&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35ul3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12335644">2.1.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>