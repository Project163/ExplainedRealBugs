<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:55:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-12559] Cluster mode doesn&apos;t work with --packages</title>
                <link>https://issues.apache.org/jira/browse/SPARK-12559</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;From the mailing list:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Another problem I ran into that you also might is that --packages doesn&apos;t&lt;br/&gt;
work with --deploy-mode cluster.  It downloads the packages to a temporary&lt;br/&gt;
location on the node running spark-submit, then passes those paths to the&lt;br/&gt;
node that is running the Driver, but since that isn&apos;t the same machine, it&lt;br/&gt;
can&apos;t find anything and fails.  The driver process &lt;b&gt;should&lt;/b&gt; be the one&lt;br/&gt;
doing the downloading, but it isn&apos;t. I ended up having to create a fat JAR&lt;br/&gt;
with all of the dependencies to get around that one.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The problem is that we currently don&apos;t upload jars to the cluster. It seems to fix this we either (1) do upload jars, or (2) just run the packages code on the driver side. I slightly prefer (2) because it&apos;s simpler.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12924725">SPARK-12559</key>
            <summary>Cluster mode doesn&apos;t work with --packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skonto">Stavros Kontopoulos</assignee>
                                    <reporter username="andrewor14">Andrew Or</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Dec 2015 18:50:41 +0000</created>
                <updated>Wed, 9 May 2018 20:41:21 +0000</updated>
                            <resolved>Fri, 11 Aug 2017 23:02:12 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Spark Submit</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="15845202" author="nchammas" created="Mon, 30 Jan 2017 13:45:40 +0000"  >&lt;p&gt;Is this the same problem as &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10789&quot; title=&quot;spark-submit in cluster mode can&amp;#39;t use third-party libraries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-10789&quot;&gt;&lt;del&gt;SPARK-10789&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16016243" author="mgummelt" created="Thu, 18 May 2017 18:45:12 +0000"  >&lt;p&gt;I changed the title from &quot;Standalone cluster mode&quot; to &quot;cluster mode&quot;, since --packages doesn&apos;t work with any cluster mode.&lt;/p&gt;</comment>
                            <comment id="16041622" author="skonto" created="Wed, 7 Jun 2017 21:11:57 +0000"  >&lt;p&gt;Is anyone working on this? Some people may want to dynamically add deps having lighter jars when testing, also it is useful when you resolve deps from private repositories.&lt;br/&gt;
I think people do use often the --packages option:&lt;br/&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/36676395/how-to-resolve-external-packages-with-spark-shell-when-behind-a-corporate-proxy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/36676395/how-to-resolve-external-packages-with-spark-shell-when-behind-a-corporate-proxy&lt;/a&gt;.&lt;br/&gt;
&lt;a href=&quot;https://github.com/databricks/spark-csv&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/databricks/spark-csv&lt;/a&gt;&lt;br/&gt;
etc...&lt;/p&gt;</comment>
                            <comment id="16080101" author="apachespark" created="Mon, 10 Jul 2017 10:12:04 +0000"  >&lt;p&gt;User &apos;skonto&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/18587&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/18587&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16084776" author="vanzin" created="Wed, 12 Jul 2017 21:49:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=skonto&quot; class=&quot;user-hover&quot; rel=&quot;skonto&quot;&gt;skonto&lt;/a&gt;, could you look at whether the same approach in your patch works in standalone mode? Otherwise please clone this bug and set the clone&apos;s component to &quot;Mesos&quot;, so we don&apos;t lose track that this still won&apos;t work for standalone mode.&lt;/p&gt;</comment>
                            <comment id="16085484" author="skonto" created="Thu, 13 Jul 2017 09:59:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt; I will have a look and let you know.&lt;/p&gt;</comment>
                            <comment id="16085746" author="skonto" created="Thu, 13 Jul 2017 14:20:05 +0000"  >&lt;p&gt;I did test it, it does not work because standalone mode uses org.apache.spark.deploy.worker.DriverWrapper to launch the main of the jar so it does not go though the submit code. I will clone this bug for mesos only so we can have a fix for mesos ASAP and will work on two different issues: refactor the spark-submit code to be re-usable from standalone and another for the distributed cache. What do you think?&lt;/p&gt;</comment>
                            <comment id="16085758" author="skonto" created="Thu, 13 Jul 2017 14:26:18 +0000"  >&lt;p&gt;Cloned issue here: &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-21403&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-21403&lt;/a&gt;&lt;br/&gt;
Updated the PR title: &lt;a href=&quot;https://github.com/apache/spark/pull/18587&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/18587&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16086717" author="apachespark" created="Fri, 14 Jul 2017 01:48:06 +0000"  >&lt;p&gt;User &apos;skonto&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/18630&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/18630&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13086913">SPARK-21403</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12777799">SPARK-6031</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qdon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>