<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:26:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-6890] Local cluster mode is broken with SPARK_PREPEND_CLASSES</title>
                <link>https://issues.apache.org/jira/browse/SPARK-6890</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In master, local cluster mode is broken. If I run `bin/spark-submit --master local-cluster&lt;span class=&quot;error&quot;&gt;&amp;#91;2,1,512&amp;#93;&lt;/span&gt;`, my executors keep failing with class not found exception. It appears that the assembly jar is not added to the executors&apos; class paths. I suspect that this is caused by &lt;a href=&quot;https://github.com/apache/spark/pull/5085&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5085&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NoClassDefFoundError: scala/Option
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getDeclaredMethods0(Native Method)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.privateGetDeclaredMethods(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:2531)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getMethod0(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:2774)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getMethod(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:1663)
	at sun.launcher.LauncherHelper.getMainMethod(LauncherHelper.java:494)
	at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:486)
Caused by: java.lang.ClassNotFoundException: scala.Option
	at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12820680">SPARK-6890</key>
            <summary>Local cluster mode is broken with SPARK_PREPEND_CLASSES</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vanzin">Marcelo Masiero Vanzin</assignee>
                                    <reporter username="davies">Davies Liu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2015 23:56:35 +0000</created>
                <updated>Thu, 16 Apr 2015 23:42:10 +0000</updated>
                            <resolved>Wed, 15 Apr 2015 01:52:01 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14493432" author="vanzin" created="Tue, 14 Apr 2015 01:46:22 +0000"  >&lt;p&gt;Do you have `SPARK_PREPEND_CLASSES` set by any chance?&lt;/p&gt;

&lt;p&gt;BTW, personally, I was against the change that causes this failure, and again personally I wouldn&apos;t really be against reverting it. It seems to cause more issues than it solves. [/cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nravi&quot; class=&quot;user-hover&quot; rel=&quot;nravi&quot;&gt;nravi&lt;/a&gt;]&lt;/p&gt;</comment>
                            <comment id="14493447" author="vanzin" created="Tue, 14 Apr 2015 02:02:53 +0000"  >&lt;p&gt;Also, another possible way to fix this is to pass the location of the assembly jar to the &lt;tt&gt;Main&lt;/tt&gt; class, instead of the current code. That was my original suggestion when Nishkam was working on this. It makes the code a little uglier (to allow for plumbing that path through the code), but it would allow maintaining the behavior added by that patch while probably fixing this issue.&lt;/p&gt;

&lt;p&gt;Let me know if you&apos;re working on this, Andrew, otherwise I can do that.&lt;/p&gt;</comment>
                            <comment id="14493448" author="andrewor14" created="Tue, 14 Apr 2015 02:04:28 +0000"  >&lt;p&gt;I&apos;m not actively working on this. Feel free to fix it since you and Nishkam have more experience in that part of the code.&lt;/p&gt;</comment>
                            <comment id="14493478" author="apachespark" created="Tue, 14 Apr 2015 02:52:52 +0000"  >&lt;p&gt;User &apos;vanzin&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/5504&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5504&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14494473" author="vanzin" created="Tue, 14 Apr 2015 17:48:29 +0000"  >&lt;p&gt;FYI it&apos;s broken on Linux too (and most probably on Windows) if you set SPARK_PREPEND_CLASSES. If you don&apos;t, it should work (at least it does for me).&lt;/p&gt;</comment>
                            <comment id="14494481" author="andrewor14" created="Tue, 14 Apr 2015 17:50:10 +0000"  >&lt;p&gt;ah I see. I will update the title again &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12787563">SPARK-6668</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d7ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12329359">1.4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>