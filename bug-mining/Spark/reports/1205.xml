<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:21:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-4298] The spark-submit cannot read Main-Class from Manifest.</title>
                <link>https://issues.apache.org/jira/browse/SPARK-4298</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Consider trivial &lt;tt&gt;test.scala&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;test.scala&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.spark.SparkContext
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.spark.SparkContext._

object Main {
  def main(args: Array[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]) {
    val sc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SparkContext()
    sc.stop()
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When built with &lt;tt&gt;sbt&lt;/tt&gt; and executed using &lt;tt&gt;spark-submit target/scala-2.10/test_2.10-1.0.jar&lt;/tt&gt;, I get the following error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Spark assembly has been built with Hive, including Datanucleus jars on classpath
Error: Cannot load main &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;from JAR: file:/ha/home/straka/s/target/scala-2.10/test_2.10-1.0.jar
Run with --help &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; usage help or --verbose &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; debug output
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When executed using &lt;tt&gt;spark-submit --class Main target/scala-2.10/test_2.10-1.0.jar&lt;/tt&gt;, it works.&lt;/p&gt;

&lt;p&gt;The jar file has correct MANIFEST.MF:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;MANIFEST.MF&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Manifest-Version: 1.0
Implementation-Vendor: test
Implementation-Title: test
Implementation-Version: 1.0
Implementation-Vendor-Id: test
Specification-Vendor: test
Specification-Title: test
Specification-Version: 1.0
Main-&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;: Main
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is that in &lt;tt&gt;org.apache.spark.deploy.SparkSubmitArguments&lt;/tt&gt;, line 127:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  val jar = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JarFile(primaryResource)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the primaryResource has String value &lt;tt&gt;&quot;file:/ha/home/straka/s/target/scala-2.10/test_2.10-1.0.jar&quot;&lt;/tt&gt;, which is URI, but JarFile can use only Path. One way to fix this would be using&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  val uri = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(primaryResource)
  val jar = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JarFile(uri.getPath)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Linux&lt;br/&gt;
spark-1.1.0-bin-hadoop2.4.tgz&lt;br/&gt;
java version &quot;1.7.0_72&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_72-b14)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 24.72-b04, mixed mode)&lt;/p&gt;</environment>
        <key id="12753701">SPARK-4298</key>
            <summary>The spark-submit cannot read Main-Class from Manifest.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="boyork">Brennon York</assignee>
                                    <reporter username="straka">Milan Straka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Nov 2014 14:11:44 +0000</created>
                <updated>Fri, 13 Mar 2020 09:10:57 +0000</updated>
                            <resolved>Wed, 31 Dec 2014 20:02:01 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.2</fixVersion>
                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14230367" author="boyork" created="Mon, 1 Dec 2014 20:10:50 +0000"  >&lt;p&gt;I&apos;ll take this one. Can someone assign to me? Thanks!&lt;/p&gt;</comment>
                            <comment id="14232042" author="apachespark" created="Tue, 2 Dec 2014 19:49:44 +0000"  >&lt;p&gt;User &apos;brennonyork&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/3561&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3561&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14234346" author="boyork" created="Thu, 4 Dec 2014 16:49:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pwendell&quot; class=&quot;user-hover&quot; rel=&quot;pwendell&quot;&gt;pwendell&lt;/a&gt; could you take a look at this? This is an annoying issue our developers continue to run into and would like to see this pushed into the next release. Thanks!&lt;/p&gt;</comment>
                            <comment id="14262399" author="joshrosen" created="Wed, 31 Dec 2014 20:02:01 +0000"  >&lt;p&gt;This was fixed by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=boyork&quot; class=&quot;user-hover&quot; rel=&quot;boyork&quot;&gt;boyork&lt;/a&gt;&apos;s PR, which I&apos;ve merged into all of the maintenance branches.&lt;/p&gt;</comment>
                            <comment id="15255429" author="jimit@softpath.net" created="Sun, 24 Apr 2016 00:25:40 +0000"  >&lt;p&gt;Brennon / Friends,&lt;/p&gt;

&lt;p&gt;Any chance this issue is open in Spark 1.5.2 (for Hadoop 2.4)?&lt;/p&gt;

&lt;p&gt;I still had to launch my program as follows:&lt;br/&gt;
./spark-submit --class problem1 /a/b/c/def.jar&lt;/p&gt;

&lt;p&gt;My MANIFEST is a simple 2-liner:&lt;/p&gt;

&lt;p&gt;Manifest-Version: 1.0&lt;br/&gt;
Main-Class: problem1&lt;/p&gt;</comment>
                            <comment id="17058539" author="hannahchz" created="Fri, 13 Mar 2020 09:10:57 +0000"  >&lt;p&gt;Please assist my issue writing spark output to cassandra on hortonworks sandbox 2.6.5 (img and phone number attached)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12996629" name="Hannah 6598199927.png" size="28716" author="Hannahchz" created="Fri, 13 Mar 2020 09:08:15 +0000"/>
                            <attachment id="12996628" name="Screenshot 2020-03-13 at 4.24.02 PM.png" size="28716" author="Hannahchz" created="Fri, 13 Mar 2020 09:07:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i223vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>