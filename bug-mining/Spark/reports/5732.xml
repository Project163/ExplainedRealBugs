<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:59:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-23780] Failed to use googleVis library with new SparkR</title>
                <link>https://issues.apache.org/jira/browse/SPARK-23780</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;I&apos;ve tried to use googleVis library with Spark 2.2.1, and faced with&#160;problem.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Install R with googleVis library.&lt;/li&gt;
	&lt;li&gt;Run SparkR:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
sparkR --master yarn --deploy-mode client
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Run code that uses googleVis:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
library(googleVis)
df=data.frame(country=c(&lt;span class=&quot;code-quote&quot;&gt;&quot;US&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;GB&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;BR&quot;&lt;/span&gt;), 
              val1=c(10,13,14), 
              val2=c(23,12,32))
Bar &amp;lt;- gvisBarChart(df)
cat(&lt;span class=&quot;code-quote&quot;&gt;&quot;%html &quot;&lt;/span&gt;, Bar$html$chart)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Than I got following error message:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error : .onLoad failed in loadNamespace() &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;googleVis&apos;&lt;/span&gt;, details:
  call: rematchDefinition(definition, fdef, mnames, fnames, signature)
  error: methods can add arguments to the &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;toJSON&apos;&lt;/span&gt; only &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;...&apos;&lt;/span&gt; is an argument to the &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;
Error : &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; or namespace load failed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;googleVis&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But expected result is to get some HTML code output, as it was with Spark 2.1.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13147511">SPARK-23780</key>
            <summary>Failed to use googleVis library with new SparkR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="felixcheung">Felix Cheung</assignee>
                                    <reporter username="idzikovsky">Ivan Dzikovsky</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Fri, 23 Mar 2018 15:55:26 +0000</created>
                <updated>Tue, 22 May 2018 19:25:31 +0000</updated>
                            <resolved>Tue, 15 May 2018 02:26:10 +0000</resolved>
                                    <version>2.2.1</version>
                    <version>2.3.0</version>
                                    <fixVersion>2.3.1</fixVersion>
                    <fixVersion>2.4.0</fixVersion>
                                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="16412457" author="felixcheung" created="Sat, 24 Mar 2018 06:45:42 +0000"  >&lt;p&gt;hmm, I think the cause of this is the incompatibility of the method signature of toJSON&lt;/p&gt;</comment>
                            <comment id="16412458" author="felixcheung" created="Sat, 24 Mar 2018 06:49:11 +0000"  >&lt;p&gt;here&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/mages/googleVis/blob/master/R/zzz.R#L39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mages/googleVis/blob/master/R/zzz.R#L39&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;or here&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jeroen/jsonlite/blob/master/R/toJSON.R#L2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jeroen/jsonlite/blob/master/R/toJSON.R#L2&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16412918" author="felixcheung" created="Sun, 25 Mar 2018 07:09:30 +0000"  >&lt;p&gt;though there are other methods&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.rforge.net/doc/packages/JSON/toJSON.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.rforge.net/doc/packages/JSON/toJSON.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16463487" author="achan" created="Fri, 4 May 2018 07:25:39 +0000"  >&lt;p&gt;I have the same issue.&#160; I trying Spark 2.3.0.&#160; I tried installing the mages/googleVis and still had the same problem.&#160; Had to fall back to Spark 2.1.7.&lt;/p&gt;</comment>
                            <comment id="16463514" author="idzikovsky" created="Fri, 4 May 2018 07:53:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=achan&quot; class=&quot;user-hover&quot; rel=&quot;achan&quot;&gt;achan&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can still use googleVis with Spark 2.3. To do this you will need to detach SparkR package before importing googleVis, and then reimport it again:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
detach(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;:SparkR&quot;&lt;/span&gt;)
library(googleVis)
suppressPackageStartupMessages(library(SparkR))

df=data.frame(country=c(&lt;span class=&quot;code-quote&quot;&gt;&quot;US&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;GB&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;BR&quot;&lt;/span&gt;), 
val1=c(10,13,14), 
val2=c(23,12,32))
Bar &amp;lt;- gvisBarChart(df)
print(Bar, tag = &lt;span class=&quot;code-quote&quot;&gt;&apos;chart&apos;&lt;/span&gt;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16464153" author="achan" created="Fri, 4 May 2018 17:14:50 +0000"  >&lt;p&gt;Thanks Ivan.&#160; I&apos;ll give it a try.&lt;/p&gt;</comment>
                            <comment id="16466920" author="felixcheung" created="Tue, 8 May 2018 05:59:09 +0000"  >&lt;p&gt;I suppose if you load googleVis first and then SparkR it would have the same effect as Ivan&apos;s steps?&lt;/p&gt;</comment>
                            <comment id="16473641" author="apachespark" created="Sun, 13 May 2018 21:29:06 +0000"  >&lt;p&gt;User &apos;felixcheung&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21315&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21315&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16475202" author="felixcheung" created="Tue, 15 May 2018 02:27:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt; - FYI - if we have another RC this can be pulled into 2.3.1.&lt;/p&gt;

&lt;p&gt;(I guess I just missed your cut of RC1)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3rpl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>