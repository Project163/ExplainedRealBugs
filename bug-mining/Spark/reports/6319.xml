<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:04:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-22860] Spark workers log ssl passwords passed to the executors</title>
                <link>https://issues.apache.org/jira/browse/SPARK-22860</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The workers log the spark.ssl.keyStorePassword and spark.ssl.trustStorePassword passed by cli to the executor processes. The ExecutorRunner should escape passwords to not appear in the worker&apos;s log files in INFO level. In this example, you can see my &apos;SuperSecretPassword&apos; in a worker log:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
17/12/08 08:04:12 INFO ExecutorRunner: Launch command: &lt;span class=&quot;code-quote&quot;&gt;&quot;/global/myapp/oem/jdk/bin/java&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;-cp&quot;&lt;/span&gt; &quot;/global/myapp/application/myapp_software/thing_loader_lib/core-repository-model-zzz-1.2.3-SNAPSHOT.jar
[...]
:/global/myapp/application/spark-2.1.1-bin-hadoop2.7/jars/*&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Xmx16384M&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.authenticate.enableSaslEncryption=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.ssl.keyStorePassword=SuperSecretPassword&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.ssl.keyStore=/global/myapp/application/config/ssl/keystore.jks&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.ssl.trustStore=/global/myapp/application/config/ssl/truststore.jks&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.ssl.enabled=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.driver.port=39927&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.ssl.protocol=TLS&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.ssl.trustStorePassword=SuperSecretPassword&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dspark.authenticate=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dmyapp_IMPORT_DATE=2017-10-30&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dmyapp.config.directory=/global/myapp/application/config&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dsolr.httpclient.builder.factory=com.company.myapp.loader.auth.LoaderConfigSparkSolrBasicAuthConfigurer&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Djavax.net.ssl.trustStore=/global/myapp/application/config/ssl/truststore.jks&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-XX:+UseG1GC&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-XX:+UseStringDeduplication&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dthings.loader.export.zzz_files=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-Dlog4j.configuration=file:/global/myapp/application/config/spark-executor-log4j.properties&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-XX:+HeapDumpOnOutOfMemoryError&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;-XX:+UseStringDeduplication&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;org.apache.spark.executor.CoarseGrainedExecutorBackend&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;--driver-url&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;spark:&lt;span class=&quot;code-comment&quot;&gt;//CoarseGrainedScheduler@192.168.0.1:39927&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;--executor-id&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;2&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;--hostname&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;192.168.0.1&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;--cores&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;4&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;--app-id&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;app-20171208080412-0000&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;--worker-url&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;spark://Worker@192.168.0.1:59530&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13126584">SPARK-22860</key>
            <summary>Spark workers log ssl passwords passed to the executors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kabhwan">Jungtaek Lim</assignee>
                                    <reporter username="QAFelixK">Felix K.</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Dec 2017 15:50:55 +0000</created>
                <updated>Thu, 5 Dec 2019 23:51:05 +0000</updated>
                            <resolved>Tue, 26 Feb 2019 22:50:13 +0000</resolved>
                                    <version>2.1.1</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16506693" author="apachespark" created="Fri, 8 Jun 2018 23:30:05 +0000"  >&lt;p&gt;User &apos;tooptoop4&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21514&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16765482" author="toopt4" created="Mon, 11 Feb 2019 22:48:14 +0000"  >&lt;p&gt;gentle ping, fix waiting to be committed&lt;/p&gt;</comment>
                            <comment id="16770373" author="toopt4" created="Sun, 17 Feb 2019 11:47:21 +0000"  >&lt;p&gt;Not just in worker log, but in &apos;ps -ef&apos; process list&lt;/p&gt;</comment>
                            <comment id="16770712" author="kabhwan" created="Mon, 18 Feb 2019 00:46:05 +0000"  >&lt;p&gt;If we concern only about logging them into log file (boundary of this issue) we can try to remove them, but if we also concern about showing them into process list, that is a bit different issue.&lt;/p&gt;

&lt;p&gt;If I&apos;m not mistaken, we&apos;ll have to pass them to CoarseGrainedExecutorBackend at any way, because driver cannot pass these values which executor needs them to connect to driver. Adding level of security doesn&apos;t help, because we need to pass any security information to CoarseGrainedExecutorBackend to start from.&lt;/p&gt;</comment>
                            <comment id="16770842" author="apachespark" created="Mon, 18 Feb 2019 08:00:27 +0000"  >&lt;p&gt;User &apos;HeartSaVioR&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/23820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23820&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16770843" author="apachespark" created="Mon, 18 Feb 2019 08:00:43 +0000"  >&lt;p&gt;User &apos;HeartSaVioR&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/23820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23820&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16770844" author="kabhwan" created="Mon, 18 Feb 2019 08:04:15 +0000"  >&lt;p&gt;I&apos;m proposing to just redact these values from log message first, because complexities of both are quite different. Given we need to deal with cli arguments, I had to create my own logic instead of taking up existing PR. (Existing PR just removed them in arguments which I wonder it works well.) Sorry about that.&lt;/p&gt;</comment>
                            <comment id="16775630" author="tooptoop4" created="Fri, 22 Feb 2019 21:38:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan&quot; class=&quot;user-hover&quot; rel=&quot;kabhwan&quot;&gt;kabhwan&lt;/a&gt;&#160; spark.ssl.keyStorePassword and&#160; spark.ssl.keyPassword don&apos;t need to be passed to&#160; CoarseGrainedExecutorBackend. Only&#160; spark.ssl.trustStorePassword is used&lt;/p&gt;</comment>
                            <comment id="16778662" author="vanzin" created="Tue, 26 Feb 2019 22:50:13 +0000"  >&lt;p&gt;Issue resolved by pull request 23820&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/23820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23820&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16989255" author="toopt4" created="Thu, 5 Dec 2019 23:37:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan&quot; class=&quot;user-hover&quot; rel=&quot;kabhwan&quot;&gt;kabhwan&lt;/a&gt;&#160;can this go in 2.4.5?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13218193">SPARK-26998</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3o6l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>