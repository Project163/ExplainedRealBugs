<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:40:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-14147] SparkR - ML predictors return features with vector datatype, however SparkR doesn&apos;t support it</title>
                <link>https://issues.apache.org/jira/browse/SPARK-14147</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;It seems that ML predictors in SparkR return an output which contains features represented by vector datatype, however SparkR doesn&apos;t support it and as a result features are being displayed as an environment variable.&lt;/p&gt;

&lt;p&gt;example: &lt;br/&gt;
prediction &amp;lt;- predict(model, training)&lt;br/&gt;
DataFrame&lt;span class=&quot;error&quot;&gt;&amp;#91;Sepal_Length:double, Sepal_Width:double, Petal_Length:double, Petal_Width:double, features:vector, prediction:int&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;collect(prediction)&lt;/p&gt;

&lt;p&gt;    Sepal_Length Sepal_Width Petal_Length Petal_Width                   features prediction&lt;br/&gt;
1            5.1         3.5          1.4         0.2 &amp;lt;environment: 0x10b7a8870&amp;gt;          1&lt;br/&gt;
2            4.9         3.0          1.4         0.2 &amp;lt;environment: 0x10b79d498&amp;gt;          1&lt;br/&gt;
3            4.7         3.2          1.3         0.2 &amp;lt;environment: 0x10b7960a8&amp;gt;          1&lt;/p&gt;</description>
                <environment></environment>
        <key id="12953488">SPARK-14147</key>
            <summary>SparkR - ML predictors return features with vector datatype, however SparkR doesn&apos;t support it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yanboliang">Yanbo Liang</assignee>
                                    <reporter username="Narine">Narine Kokhlikyan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Mar 2016 03:34:39 +0000</created>
                <updated>Tue, 12 Apr 2016 18:34:57 +0000</updated>
                            <resolved>Tue, 12 Apr 2016 18:34:48 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="15211364" author="narine" created="Fri, 25 Mar 2016 03:36:23 +0000"  >&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunrui&quot; class=&quot;user-hover&quot; rel=&quot;sunrui&quot;&gt;sunrui&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shivaram&quot; class=&quot;user-hover&quot; rel=&quot;shivaram&quot;&gt;shivaram&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15211373" author="sunrui" created="Fri, 25 Mar 2016 03:43:31 +0000"  >&lt;p&gt;I am not familiar with ML. my question is that is there any reason that data of vector type be collected back to R side and how will it be manipulated? Can ML be solely done on Scala side?  and do you know any existing R data type that can map to the vector type?&lt;/p&gt;</comment>
                            <comment id="15211384" author="narine" created="Fri, 25 Mar 2016 03:50:35 +0000"  >&lt;p&gt;This happens when we call transform on PipelineModel. Scala datatype is being mapped to SparkR datatype.&lt;br/&gt;
dataFrame(callJMethod(object@model, &quot;transform&quot;, newData@sdf)&lt;/p&gt;

&lt;p&gt;Maybe we can map it to an array ?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yanboliang&quot; class=&quot;user-hover&quot; rel=&quot;yanboliang&quot;&gt;yanboliang&lt;/a&gt;, do you think we can change the datatype mapping ?&lt;/p&gt;

&lt;p&gt;This happens both to GLM and Kmeans&lt;/p&gt;</comment>
                            <comment id="15211394" author="shivaram" created="Fri, 25 Mar 2016 04:15:40 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mengxr&quot; class=&quot;user-hover&quot; rel=&quot;mengxr&quot;&gt;mengxr&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15211622" author="apachespark" created="Fri, 25 Mar 2016 09:05:04 +0000"  >&lt;p&gt;User &apos;yanboliang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11958&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/11958&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15211636" author="yanboliang" created="Fri, 25 Mar 2016 09:18:07 +0000"  >&lt;p&gt;I vote that it should not output feature column in predict. Because in R predict, it only output the prediction column without other ones.&lt;/p&gt;</comment>
                            <comment id="15213012" author="sunrui" created="Sat, 26 Mar 2016 13:16:47 +0000"  >&lt;p&gt;this makes sense to me. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Narine&quot; class=&quot;user-hover&quot; rel=&quot;Narine&quot;&gt;Narine&lt;/a&gt;, does this solve your problem?&lt;/p&gt;</comment>
                            <comment id="15214507" author="narine" created="Mon, 28 Mar 2016 17:25:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunrui&quot; class=&quot;user-hover&quot; rel=&quot;sunrui&quot;&gt;sunrui&lt;/a&gt;, I think it makes sense. &lt;br/&gt;
The only thing is that we need to drop those columns in each wrapper.&lt;/p&gt;</comment>
                            <comment id="15237727" author="mengxr" created="Tue, 12 Apr 2016 18:34:48 +0000"  >&lt;p&gt;Issue resolved by pull request 11958&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11958&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/11958&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2v7fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>