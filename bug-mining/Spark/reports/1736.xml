<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:26:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-6985] Receiver maxRate over 1000 causes a StackOverflowError</title>
                <link>https://issues.apache.org/jira/browse/SPARK-6985</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Attempting to set the streaming receiver max rate (streaming.receiverMaxRate) for the RateLimiter to anything over 1000 causes a fatal error in the receiver with the following stacktrace:&lt;/p&gt;

&lt;p&gt;15/04/16 10:41:50 ERROR KafkaReceiver: Error handling message; exiting&lt;br/&gt;
java.lang.StackOverflowError&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;br/&gt;
	at org.apache.spark.streaming.receiver.RateLimiter.waitToPush(RateLimiter.scala:66)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821938">SPARK-6985</key>
            <summary>Receiver maxRate over 1000 causes a StackOverflowError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dmcguire81">David McGuire</assignee>
                                    <reporter username="dmcguire81">David McGuire</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Apr 2015 17:38:52 +0000</created>
                <updated>Tue, 21 Apr 2015 11:24:16 +0000</updated>
                            <resolved>Tue, 21 Apr 2015 11:23:25 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.2</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>DStreams</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14500301" author="apachespark" created="Fri, 17 Apr 2015 17:52:26 +0000"  >&lt;p&gt;User &apos;dmcguire81&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/5559&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5559&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14500880" author="dmcguire81" created="Fri, 17 Apr 2015 23:14:22 +0000"  >&lt;p&gt;How can I trigger the automated build on my associated PR, to move the merge process along?&lt;/p&gt;</comment>
                            <comment id="14501101" author="srowen" created="Sat, 18 Apr 2015 05:04:02 +0000"  >&lt;p&gt;Admin needs to tell Jenkins it&apos;s OK to test, which I can do. I hadn&apos;t yet since it seemed like there were already some things that must change.&lt;/p&gt;</comment>
                            <comment id="14503129" author="dmcguire81" created="Mon, 20 Apr 2015 16:26:08 +0000"  >&lt;p&gt;There&apos;s also a failure mode for the RateLimiter throttling on rates of 1000 messages / second and under, it just takes longer to reproduce, because the truncation is less drastic. I&apos;d be happy to submit a reproduction case for both failure modes, if that would help the process along. I&apos;m thinking of assembling a blog post on the subject, anyway, to help users who might be negatively affected.&lt;/p&gt;</comment>
                            <comment id="14503204" author="srowen" created="Mon, 20 Apr 2015 17:04:28 +0000"  >&lt;p&gt;Hm, so there&apos;s still a problem here? is it easy to fix? might still be better to fix even if it&apos;s somehow very hard to test.&lt;/p&gt;</comment>
                            <comment id="14503236" author="dmcguire81" created="Mon, 20 Apr 2015 17:19:44 +0000"  >&lt;p&gt;Both error modes are fixed in my PR; I&apos;m just bringing it up to make a case for &quot;blocker&quot; status.&lt;/p&gt;

&lt;p&gt;Suffice it to say that, if your application gets behind and allows a backlog to accumulate in Kafka (i.e.: a recoverable failure mode most teams design for), then the RateLimiter &lt;b&gt;will&lt;/b&gt; choke when you start back up, and it will crash your Receiver, but not your application. Since the only symptom is that the message rate drops to 0, this is an especially pernicious error to detect and recover from.&lt;/p&gt;</comment>
                            <comment id="14503285" author="srowen" created="Mon, 20 Apr 2015 17:43:59 +0000"  >&lt;p&gt;Re: Priority, don&apos;t worry in the sense that this should definitely be committed shortly. I was just waiting on the trivial style fix. &lt;/p&gt;

&lt;p&gt;Priority is not used consistently much here, though as an aside, I was hoping to fix that a bit with the update to our &quot;Contributing&quot; wiki. Priority unfortunately conflates &quot;what is most important to work on&quot;, &quot;when does this have to be fixed by&quot;, &quot;how big is the impact&quot; and &quot;how hard is it to fix&quot;. It&apos;s certainly going to be fixed for the next release so is it a &quot;Blocker&quot;? it&apos;s easyish to fix so is it &quot;Minor&quot;? Let&apos;s say Critical!&lt;/p&gt;</comment>
                            <comment id="14503315" author="dmcguire81" created="Mon, 20 Apr 2015 18:08:45 +0000"  >&lt;p&gt;Fair enough! Thanks for the explanation.&lt;/p&gt;</comment>
                            <comment id="14504789" author="srowen" created="Tue, 21 Apr 2015 11:23:25 +0000"  >&lt;p&gt;Issue resolved by pull request 5559&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/5559&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5559&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dewv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>