<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:52:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-20239] Improve HistoryServer ACL mechanism</title>
                <link>https://issues.apache.org/jira/browse/SPARK-20239</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Current SHS (Spark History Server) two different ACLs. &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;ACL of base URL, it is controlled by &quot;spark.acls.enabled&quot; or &quot;spark.ui.acls.enabled&quot;, and with this enabled, only user configured with &quot;spark.admin.acls&quot; (or group) or &quot;spark.ui.view.acls&quot; (or group), or the user who started SHS could list all the applications, otherwise none of them can be listed. This will also affect REST APIs which listing the summary of all apps and one app.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Per application ACL. This is controlled by &quot;spark.history.ui.acls.enabled&quot;. With this enabled only history admin user and user/group who ran this app can access the details of this app.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With this two ACLs, we may encounter several unexpected behaviors:&lt;/p&gt;

&lt;p&gt;1. if base URL&apos;s ACL is enabled but user A has no view permission. User &quot;A&quot; cannot see the app list but could still access details of it&apos;s own app.&lt;br/&gt;
2. if ACLs of base URL is disabled. Then user &quot;A&quot; could see the summary of all the apps, even some didn&apos;t run by user &quot;A&quot;, but cannot access the details.&lt;br/&gt;
3. history admin ACL has no permission to list all apps if this admin user is not added to base URL&apos;s ACL.&lt;/p&gt;

&lt;p&gt;The unexpected behaviors is mainly because we have two different ACLs, ideally we should have only one to manage all.&lt;/p&gt;

&lt;p&gt;So to improve SHS&apos;s ACL mechanism, we should:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Unify two different ACLs into one, and always honor this one (both in base URL and app details).&lt;/li&gt;
	&lt;li&gt;User could partially list and display apps which ran by him according to the ACLs in event log.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13062027">SPARK-20239</key>
            <summary>Improve HistoryServer ACL mechanism</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jerryshao">Saisai Shao</assignee>
                                    <reporter username="jerryshao">Saisai Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Apr 2017 07:40:09 +0000</created>
                <updated>Tue, 25 Apr 2017 22:22:10 +0000</updated>
                            <resolved>Tue, 25 Apr 2017 01:19:56 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.0.3</fixVersion>
                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>2.2.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15962394" author="apachespark" created="Mon, 10 Apr 2017 03:17:03 +0000"  >&lt;p&gt;User &apos;jerryshao&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/17582&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/17582&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15982299" author="apachespark" created="Tue, 25 Apr 2017 02:37:03 +0000"  >&lt;p&gt;User &apos;jerryshao&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/17755&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/17755&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dacf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>