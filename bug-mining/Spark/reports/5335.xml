<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:57:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-22653] executorAddress registered in CoarseGrainedSchedulerBackend.executorDataMap is null</title>
                <link>https://issues.apache.org/jira/browse/SPARK-22653</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In CoarseGrainedSchedulerBackend.RegisterExecutor the executor data address (executorRef.address) can be null.&lt;/p&gt;

&lt;p&gt; val data = new ExecutorData(executorRef, executorRef.address, hostname,&lt;br/&gt;
            cores, cores, logUrls)&lt;/p&gt;

&lt;p&gt;At this point the executorRef.address can be null, there is actually code above it that handles this case:&lt;/p&gt;

&lt;p&gt; // If the executor&apos;s rpc env is not listening for incoming connections, `hostPort`&lt;br/&gt;
          // will be null, and the client connection should be used to contact the executor.&lt;br/&gt;
          val executorAddress = if (executorRef.address != null) &lt;/p&gt;
{
              executorRef.address
            }
&lt;p&gt; else &lt;/p&gt;
{
              context.senderAddress
            }

&lt;p&gt;But it doesn&apos;t use executorAddress when it creates the ExecutorData.&lt;/p&gt;

&lt;p&gt;This causes removeExecutor to never remove it properly from addressToExecutorId.&lt;/p&gt;

&lt;p&gt;            addressToExecutorId -= executorInfo.executorAddress&lt;/p&gt;

&lt;p&gt;This is also a memory leak and can also call onDisconnected to call disableExecutor when it shouldn&apos;t.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="13121678">SPARK-22653</key>
            <summary>executorAddress registered in CoarseGrainedSchedulerBackend.executorDataMap is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tgraves">Thomas Graves</assignee>
                                    <reporter username="tgraves">Thomas Graves</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Nov 2017 15:51:12 +0000</created>
                <updated>Sun, 17 May 2020 17:48:08 +0000</updated>
                            <resolved>Fri, 1 Dec 2017 02:54:58 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>2.3.0</fixVersion>
                                    <component>Scheduler</component>
                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16270977" author="tgraves" created="Wed, 29 Nov 2017 15:51:53 +0000"  >&lt;p&gt;will have patch up shortly&lt;/p&gt;</comment>
                            <comment id="16271244" author="apachespark" created="Wed, 29 Nov 2017 18:02:04 +0000"  >&lt;p&gt;User &apos;tgravescs&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/19849&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/19849&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16271254" author="apachespark" created="Wed, 29 Nov 2017 18:05:04 +0000"  >&lt;p&gt;User &apos;tgravescs&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/19850&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/19850&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16273854" author="cloud_fan" created="Fri, 1 Dec 2017 02:54:58 +0000"  >&lt;p&gt;Issue resolved by pull request 19850&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/19850&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/19850&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3nci7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>