<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:41:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-11249] [Launcher] Launcher library fails is app resource is not added</title>
                <link>https://issues.apache.org/jira/browse/SPARK-11249</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;If the resource is downloaded via --packages, the app resource is not required.  But the launcher library gets confused and assumes the first arg is the resource to be passed and all args don&apos;t get passed to the app itself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12906912">SPARK-11249</key>
            <summary>[Launcher] Launcher library fails is app resource is not added</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vanzin">Marcelo Masiero Vanzin</assignee>
                                    <reporter username="hshreedharan">Hari Shreedharan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Oct 2015 23:16:18 +0000</created>
                <updated>Tue, 10 May 2016 17:36:28 +0000</updated>
                            <resolved>Tue, 10 May 2016 17:36:28 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Spark Submit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14987482" author="mgrover" created="Tue, 3 Nov 2015 15:37:33 +0000"  >&lt;p&gt;Thanks for filing this, Hari. I am a little torn about this and would appreciate your and other folks&apos; (cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt;) input. I poked around at SparkSubmit* code and &lt;a href=&quot;https://spark.apache.org/docs/latest/submitting-applications.html#advanced-dependency-management&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the relevant docs&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;[The code|https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/deploy/SparkSubmitArguments.scala#L239 currently throws an exception if a primary resource is not defined. Primary resource being, say a jar, when submitting a scala/java spark app using spark-submit. Also, it seems that the original intended purpose of &lt;tt&gt;-&lt;del&gt;packages&lt;/tt&gt; was related to fetching the dependencies from maven, not necessarily the actual app jar. In other words, it&apos;s meant to simplify usage of &lt;tt&gt;&lt;/del&gt;-jars&lt;/tt&gt; when using spark-submit.&lt;/p&gt;

&lt;p&gt;Technically, users can download their application jar using &lt;tt&gt;-&lt;del&gt;packages&lt;/tt&gt; similar to how they can supply their application jar using &lt;tt&gt;&lt;/del&gt;-jars&lt;/tt&gt; but even in the latter case, they&apos;d still have to specify the app jar separately.&lt;/p&gt;

&lt;p&gt;So, I think we have 2 options:&lt;br/&gt;
1. Make specifying the primary resource optional. In such a case, this would apply only if &lt;tt&gt;-&lt;del&gt;jars&lt;/tt&gt; or &lt;tt&gt;&lt;/del&gt;-packages&lt;/tt&gt; is being used in the same command line and when the primary resource is a jar.&lt;br/&gt;
2. Leave things the way they are, and perhaps, clarify the documentation to say that the intended purpose of &lt;tt&gt;--packages&lt;/tt&gt; is to use it for dependency management, not necessarily for fetching the app jar. And, if you are using it for fetching the app jar, then you&apos;d still need to specify an existing dummy jar for primary resource.&lt;/p&gt;

&lt;p&gt;What do you think? Any other option that I missed? Thanks in advance for your help!&lt;/p&gt;</comment>
                            <comment id="14987578" author="vanzin" created="Tue, 3 Nov 2015 16:41:01 +0000"  >&lt;p&gt;(1) is not doable, because then you don&apos;t have a way to detect when spark-submit options end. The first non-spark-submit option becomes ambiguous: is it a resource or is it an app argument?&lt;/p&gt;

&lt;p&gt;You also forgot (3): in the launcher library, throw an exception is the primary resource is not provided. You don&apos;t need to set it to a valid value, you can even define a sentinel value (lots of those are used in SparkSubmit for different things) that people can use to say &quot;I don&apos;t have a main jar / py file&quot;, but it needs to be defined.&lt;/p&gt;</comment>
                            <comment id="15271475" author="apachespark" created="Wed, 4 May 2016 21:34:03 +0000"  >&lt;p&gt;User &apos;vanzin&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/12909&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/12909&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ncnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>