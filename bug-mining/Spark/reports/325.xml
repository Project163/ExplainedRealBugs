<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:14:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-1552] GraphX performs type comparison incorrectly</title>
                <link>https://issues.apache.org/jira/browse/SPARK-1552</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In GraphImpl, mapVertices and outerJoinVertices use a more efficient implementation when the map function preserves vertex attribute types. This is implemented by comparing the ClassTags of the old and new vertex attribute types. However, ClassTags store &lt;em&gt;erased&lt;/em&gt; types, so the comparison will return a false positive for types with different type parameters, such as Option&lt;span class=&quot;error&quot;&gt;&amp;#91;Int&amp;#93;&lt;/span&gt; and Option&lt;span class=&quot;error&quot;&gt;&amp;#91;Double&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;Thanks to Pierre-Alexandre Fonta for reporting this bug on the &lt;a href=&quot;http://apache-spark-user-list.1001560.n3.nabble.com/GraphX-Cast-error-when-comparing-a-vertex-attribute-after-its-type-has-changed-td4119.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;mailing list&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Demo in the Scala shell:&lt;/p&gt;

&lt;p&gt;scala&amp;gt; import scala.reflect.&lt;/p&gt;
{classTag, ClassTag}
&lt;p&gt;scala&amp;gt; def typesEqual&lt;span class=&quot;error&quot;&gt;&amp;#91;A: ClassTag, B: ClassTag&amp;#93;&lt;/span&gt;(a: A, b: B): Boolean = classTag&lt;span class=&quot;error&quot;&gt;&amp;#91;A&amp;#93;&lt;/span&gt; equals classTag&lt;span class=&quot;error&quot;&gt;&amp;#91;B&amp;#93;&lt;/span&gt;&lt;br/&gt;
scala&amp;gt; typesEqual(Some(1), Some(2.0)) // should return false&lt;br/&gt;
res2: Boolean = true&lt;/p&gt;

&lt;p&gt;We can require richer TypeTags for these methods, or just take a flag from the caller specifying whether the types are equal.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12709524">SPARK-1552</key>
            <summary>GraphX performs type comparison incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ankurd">Ankur Dave</assignee>
                                    <reporter username="ankurd">Ankur Dave</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Apr 2014 08:41:23 +0000</created>
                <updated>Fri, 6 Jun 2014 06:33:28 +0000</updated>
                            <resolved>Fri, 6 Jun 2014 06:33:28 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>GraphX</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14010851" author="npanj" created="Wed, 28 May 2014 06:45:30 +0000"  >&lt;p&gt;Does it make sense to get rid of this optimization until richer TypeTags are available? &lt;/p&gt;</comment>
                            <comment id="14010869" author="ankurd" created="Wed, 28 May 2014 07:17:06 +0000"  >&lt;p&gt;Alternatively, we could introduce type-preserving variants of these methods, maybe called mapVerticesSameType and outerJoinVerticesSameType.&lt;/p&gt;

&lt;p&gt;We can&apos;t make it into 1.0.0, but it would be good to get a fix into 1.0.1.&lt;/p&gt;</comment>
                            <comment id="14017340" author="ankurd" created="Wed, 4 Jun 2014 03:39:07 +0000"  >&lt;p&gt;Proposed fix: &lt;a href=&quot;https://github.com/apache/spark/pull/967&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/967&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387846</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ut9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>