<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:31:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-41377] Fix spark-version-info.properties not found on Windows</title>
                <link>https://issues.apache.org/jira/browse/SPARK-41377</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;h1&gt;&lt;a name=&quot;Whatistheproblem%3F&quot;&gt;&lt;/a&gt;&lt;b&gt;What is the problem?&lt;/b&gt;&lt;/h1&gt;

&lt;p&gt;The spark-version-info.properties files is read during initialization of SparkContext. The absence of the same causes the Spark AM&apos;s launch to fail with the following error -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
22/12/04 17:18:24 ERROR ApplicationMaster: User &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;threw exception: 
java.lang.ExceptionInInitializerError
	at org.apache.spark.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;$.&amp;lt;init&amp;gt;(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:93)
	at org.apache.spark.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;$.&amp;lt;clinit&amp;gt;(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala)
	at org.apache.spark.SparkContext.$anonfun$&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;$1(SparkContext.scala:195)
	at org.apache.spark.internal.Logging.logInfo(Logging.scala:60)
	at org.apache.spark.internal.Logging.logInfo$(Logging.scala:59)
	at org.apache.spark.SparkContext.logInfo(SparkContext.scala:84)
	at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:195)
	at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2739)
	at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:978)
	at scala.Option.getOrElse(Option.scala:189)
	at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:972)
	at org.apache.spark.examples.SparkPi$.main(SparkPi.scala:30)
	at org.apache.spark.examples.SparkPi.main(SparkPi.scala)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:747)
Caused by: org.apache.spark.SparkException: Could not find spark-version-info.properties
	at org.apache.spark.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;$SparkBuildInfo$.&amp;lt;init&amp;gt;(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala:62)
	at org.apache.spark.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;$SparkBuildInfo$.&amp;lt;clinit&amp;gt;(&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.scala)
	... 18 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h1&gt;&lt;a name=&quot;Whydidtheproblemhappen%3F&quot;&gt;&lt;/a&gt;&lt;b&gt;Why did the problem happen?&lt;/b&gt;&lt;/h1&gt;
&lt;p&gt;While building Spark, the spark-version-info.properties file &lt;a href=&quot;https://github.com/apache/spark/blob/d62c18b7497997188ec587e1eb62e75c979c1c93/core/pom.xml#L560-L564&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;is generated using bash&lt;/a&gt;. In Windows environment, if Windows Subsystem for Linux (WSL) is installed, it somehow overrides the other bash executables in the PATH, as noted in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-40739&quot; title=&quot;&amp;quot;sbt packageBin&amp;quot; fails in cygwin or other windows bash session&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-40739&quot;&gt;&lt;del&gt;SPARK-40739&lt;/del&gt;&lt;/a&gt;. The bash in WSL has a different mounting configuration and thus, the target location specified for spark-version-info.properties won&apos;t be the expected location. Ultimately, this leads to spark-version-info.properties to get excluded from the spark-core jar, thus causing the SparkContext initialization to fail with the above depicted error message.&lt;/p&gt;

&lt;h1&gt;&lt;a name=&quot;Howcantheproblembesolved%3F&quot;&gt;&lt;/a&gt;&lt;b&gt;How can the problem be solved?&lt;/b&gt;&lt;/h1&gt;
&lt;p&gt;I propose to fix this issue by enhancing the build system to automatically detect and switch between using Powershell for Windows and Bash for non-Windows OS. This yields a seamless build experience for all the platform users. Particularly for Windows users, to not worry about the conflicts with different bash installations.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 10&lt;/p&gt;</environment>
        <key id="13509765">SPARK-41377</key>
            <summary>Fix spark-version-info.properties not found on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gaurava">Gautham Banasandra</assignee>
                                    <reporter username="gaurava">Gautham Banasandra</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Dec 2022 15:19:24 +0000</created>
                <updated>Fri, 9 Dec 2022 10:08:11 +0000</updated>
                            <resolved>Fri, 9 Dec 2022 10:07:32 +0000</resolved>
                                    <version>3.4.0</version>
                                    <fixVersion>3.4.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17643020" author="apachespark" created="Sun, 4 Dec 2022 15:21:14 +0000"  >&lt;p&gt;User &apos;GauthamBanasandra&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/38903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/38903&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17645223" author="dongjoon" created="Fri, 9 Dec 2022 10:07:32 +0000"  >&lt;p&gt;This is resolved via &lt;a href=&quot;https://github.com/apache/spark/pull/38903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/38903&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>XML</label>
            <label>powershell</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1dduw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>