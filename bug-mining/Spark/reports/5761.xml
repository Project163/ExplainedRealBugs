<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:00:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-24414] Stages page doesn&apos;t show all task attempts when failures</title>
                <link>https://issues.apache.org/jira/browse/SPARK-24414</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;If you have task failures, the StagePage doesn&apos;t render all the task attempts properly.&#160; It seems to make the table the size of the total number of successful tasks rather then including all the failed tasks.&lt;/p&gt;

&lt;p&gt;Even though the table size is smaller, if you sort by various columns you can see all the tasks are actually there, it just seems the size of the table is wrong.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13162688">SPARK-24414</key>
            <summary>Stages page doesn&apos;t show all task attempts when failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vanzin">Marcelo Masiero Vanzin</assignee>
                                    <reporter username="tgraves">Thomas Graves</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 May 2018 19:06:10 +0000</created>
                <updated>Mon, 24 Sep 2018 05:04:25 +0000</updated>
                            <resolved>Thu, 31 May 2018 17:05:55 +0000</resolved>
                                    <version>2.3.0</version>
                                    <fixVersion>2.3.1</fixVersion>
                    <fixVersion>2.4.0</fixVersion>
                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16494083" author="tgraves" created="Tue, 29 May 2018 19:12:51 +0000"  >&lt;p&gt;to reproduce this simply start a shell:&lt;/p&gt;

&lt;p&gt;$SPARK_HOME/bin/spark-shell --num-executors 5&#160; --master yarn --deploy-mode client&lt;/p&gt;

&lt;p&gt;Run something that gets some tasks failures but not all:&lt;/p&gt;

&lt;p&gt;sc.parallelize(1 to 10000, 10).map &lt;/p&gt;
{ x =&amp;gt;
 | if (SparkEnv.get.executorId.toInt &amp;gt;= 1 &amp;amp;&amp;amp; SparkEnv.get.executorId.toInt &amp;lt;= 4) throw new RuntimeException(&quot;Bad executor&quot;)
 | else (x % 3, x)
 | }
&lt;p&gt;.reduceByKey((a, b) =&amp;gt; a + b).collect()&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Go to the stages page and you will only see 10 tasks rendered when it should&#160;has 21 total between succeeded and failed.&#160;&lt;/p&gt;</comment>
                            <comment id="16494199" author="tgraves" created="Tue, 29 May 2018 20:27:13 +0000"  >&lt;p&gt;looks like this was broken by &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-23147&quot; title=&quot;Stage page will throw exception when there&amp;#39;s no complete tasks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-23147&quot;&gt;&lt;del&gt;SPARK-23147&lt;/del&gt;&lt;/a&gt;, so we probably need to find a different solution.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryshao&quot; class=&quot;user-hover&quot; rel=&quot;jerryshao&quot;&gt;jerryshao&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16494206" author="vanzin" created="Tue, 29 May 2018 20:29:21 +0000"  >&lt;p&gt;I was going to take a stab at this next.&lt;/p&gt;</comment>
                            <comment id="16494237" author="tgraves" created="Tue, 29 May 2018 20:55:20 +0000"  >&lt;p&gt;I am looking to see if we can just return an empty table in the case the tasks aren&apos;t initialized yet. If you get to it first thats fine or had something else in mind&#160;&lt;/p&gt;</comment>
                            <comment id="16494239" author="vanzin" created="Tue, 29 May 2018 20:57:40 +0000"  >&lt;p&gt;Yeah that&apos;s the direction I ended up in. Taking the chance to clean up the code a bit around this area...&lt;/p&gt;</comment>
                            <comment id="16494265" author="tgraves" created="Tue, 29 May 2018 21:02:50 +0000"  >&lt;p&gt;also just an fyi I also filed&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-24415&quot; title=&quot;Stage page aggregated executor metrics wrong when failures &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-24415&quot;&gt;&lt;del&gt;SPARK-24415&lt;/del&gt;&lt;/a&gt;, not sure if they are related as I haven&apos;t dug into that one yet.&#160;&#160;&lt;/p&gt;</comment>
                            <comment id="16494276" author="vanzin" created="Tue, 29 May 2018 21:11:11 +0000"  >&lt;p&gt;After a quick look at the code they don&apos;t seem related.&lt;/p&gt;</comment>
                            <comment id="16494300" author="apachespark" created="Tue, 29 May 2018 21:28:08 +0000"  >&lt;p&gt;User &apos;vanzin&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21457&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21457&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16496865" author="vanzin" created="Thu, 31 May 2018 17:05:55 +0000"  >&lt;p&gt;Issue resolved by pull request 21457&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21457&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21457&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13186586">SPARK-25503</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3u9zr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>