<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:19:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-20202] Remove references to org.spark-project.hive</title>
                <link>https://issues.apache.org/jira/browse/SPARK-20202</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Spark can&apos;t continue to depend on their fork of Hive and must move to standard Hive versions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13061083">SPARK-20202</key>
            <summary>Remove references to org.spark-project.hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dongjoon">Dongjoon Hyun</assignee>
                                    <reporter username="omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Apr 2017 10:23:25 +0000</created>
                <updated>Mon, 12 Dec 2022 18:11:03 +0000</updated>
                            <resolved>Mon, 5 Oct 2020 22:30:15 +0000</resolved>
                                    <version>1.6.4</version>
                    <version>2.0.3</version>
                    <version>2.1.1</version>
                    <version>2.2.3</version>
                    <version>2.3.4</version>
                    <version>2.4.4</version>
                    <version>3.0.0</version>
                    <version>3.1.0</version>
                                    <fixVersion>3.1.0</fixVersion>
                                    <component>Build</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>7</votes>
                                    <watches>49</watches>
                                                                                                                <comments>
                            <comment id="15953246" author="srowen" created="Mon, 3 Apr 2017 10:29:39 +0000"  >&lt;p&gt;I see wide agreement on that. One question I have is, is including Hive this way merely a really-not-nice-to-have or actually not allowed? I think the question is whether sources are available, right? because releases can&apos;t have binary-only parts. I plead ignorance, I have never myself paid much attention to this integration. &lt;/p&gt;

&lt;p&gt;If it&apos;s not then this sounds like something has to change for releases beyond 2.1.1 and this can be targeted as a Blocker accordingly.&lt;/p&gt;

&lt;p&gt;Does this depend on refactoring or changes in Hive? IIRC the problem was hive-exec being an uber-jar, but it&apos;s been a long time since I read any of that discussion.&lt;/p&gt;</comment>
                            <comment id="15953298" author="owen.omalley" created="Mon, 3 Apr 2017 11:15:47 +0000"  >&lt;p&gt;As an Apache member, the Spark project can&apos;t release binary artifacts that aren&apos;t made from its Apache code base. So either, the Spark project needs to use Hive&apos;s release artifacts or it needs to formally fork Hive and move the fork into its git repository at Apache and rename it away from org.apache.hive to org.apache.spark. The current path is not allowed.&lt;/p&gt;

&lt;p&gt;Hive is in the middle of rolling releases and thus this is a good time to make requests. The old uber jar (hive-exec) is already released separately with the classifier &quot;core.&quot; It looks like we are using the same protobuf (2.5.0) and kryo (3.0.3) versions.&lt;/p&gt;</comment>
                            <comment id="15953304" author="srowen" created="Mon, 3 Apr 2017 11:23:07 +0000"  >&lt;p&gt;Agree. I think the logic was that Spark had released its own source/binary version of Hive, and then used that in Spark. I don&apos;t think anybody believes that&apos;s a good solution in the long term; it was a work-around for hive-exec&apos;s packaging IIRC. Once whatever that is is resolved this can go away, but I defer to those who know the issue better on the details.&lt;/p&gt;

&lt;p&gt;What I&apos;m not clear on is whether the current org.spark-hive situation is streeetching the source/binary policy so far that it breaks, enough that no more releases can happen without it. Best to make it go away ASAP anyway. But I don&apos;t know if changes in Hive 2.5 help integration with Hive 1.x. It may require either temporarily blessing the fork, or more jar surgery to un-uberize the hive-exec jar or something.&lt;/p&gt;</comment>
                            <comment id="15953315" author="owen.omalley" created="Mon, 3 Apr 2017 11:25:53 +0000"  >&lt;p&gt;I should also say here that the Hive community is willing to help. We are in the process of rolling releases so if Spark needs a change,  we can work together to get this done.&lt;/p&gt;</comment>
                            <comment id="15953454" author="owen.omalley" created="Mon, 3 Apr 2017 13:16:23 +0000"  >&lt;p&gt;It is against Apache policy to release binaries that aren&apos;t part of your project.&lt;/p&gt;</comment>
                            <comment id="15953489" author="srowen" created="Mon, 3 Apr 2017 13:37:52 +0000"  >&lt;p&gt;Alrighty, you can leave the status for now, but generally committers set Blocker. I&apos;m not entirely clear this blocks a release, not yet.&lt;/p&gt;

&lt;p&gt;You&apos;re absolutely right, but, the hive fork with binaries and source is part of this project. At least, that&apos;s the idea. For example, this is notionally voted on and released with each Spark release, but the binary/source of this fork project isn&apos;t separately, explicitly, voted on and separately released. I think that should occur for avoidance of doubt, that this is a blessed artifact of the Spark project. Would this answer your process and policy concerns about the release? It&apos;s not pretty but I think that&apos;s within the law.&lt;/p&gt;

&lt;p&gt;Of course, it&apos;s no answer in the long term. The goal is to not have to use the fork at all. If Hive packaging changes are already in place to make it unnecessary, great (is that all there is to it, everyone?) I don&apos;t know if that presents a solution for earlier versions of Hive. This fork thing may persist in existing branches, but it has to at least be released and used in a proper way. This may need fixes right now.&lt;/p&gt;</comment>
                            <comment id="15955188" author="srowen" created="Tue, 4 Apr 2017 14:23:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marmbrus&quot; class=&quot;user-hover&quot; rel=&quot;marmbrus&quot;&gt;marmbrus&lt;/a&gt; as release manager of the moment, I suggest we actually formally vote on release the org.spark-project.hive artifact, as I&apos;m not clear we ever did formally. That much seems like a must-have. I don&apos;t know that it requires re-releasing the artifacts, but at least having a meaningful review of what it is, and agreeing (or not) that it&apos;s what the PMC wants to release, would I believe resolve doubts about the legitimacy of that artifact.&lt;/p&gt;

&lt;p&gt;There&apos;s still more to do no doubt, to get rid of the fork. This might include seeing if Hive 1.2.x can provide an un-uberized artifact.&lt;/p&gt;</comment>
                            <comment id="15956879" author="stevel@apache.org" created="Wed, 5 Apr 2017 13:41:37 +0000"  >&lt;ol&gt;
	&lt;li&gt;the ugliness need to inset the spark thrift stuff under the hive thrift stuff is obsolete, can be cut entirely.&lt;/li&gt;
	&lt;li&gt;with the shading of kryo not needed, an unshaded hive &lt;b&gt;may&lt;/b&gt; work. I forget which troublespots there were last time, probably the usual suspects: jackson, guava, etc.&lt;/li&gt;
	&lt;li&gt;Hive 1.2.x refuses to work with Hadoop 3; it considers that an unsupported version. For basic client-side testing, you can build Hadoop 3 with a fake version (e..g &lt;tt&gt;mvn install -DskipShade -Ddeclared.hadoop.version=2.11&lt;/tt&gt;, but as hadoop version is something which NN/DNs care about, not something that&apos;s really going to work in real systems. Presumably later hive versions will address that.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;If hive take over ownership of the spark 1.2.1-spark branch, this could be done first simply by pulling the spark branch into the Hive repo as a branch, defining the artifact naming properly and releasing it. If that is done, before any release of that 1.2.x branch is done, there&apos;s a couple of outstanding PRs to pull in (groovy version for security reasons, ... ).. A quick import &amp;amp; re-release would be the fast way to get this out as an asf-approved binary&lt;/p&gt;</comment>
                            <comment id="15957377" author="rdblue" created="Wed, 5 Apr 2017 18:22:34 +0000"  >&lt;p&gt;+1 for a release of the Spark fork from the Hive community. While the reasons for the fork appear to be fixed in the latest version, there&apos;s a lot of work to do to get Spark on a newer Hive version. And for patch releases like 2.0.3 and 2.1.1, I don&apos;t think updating Hive is an option.&lt;/p&gt;

&lt;p&gt;I&apos;m also all for getting master on a real Hive release. A release of alternate Hive binaries was inappropriate. I think that if a third-party organization had done the same, it would be entirely reasonable to treat it as a trademark violation and ask them to stop.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.apache.org/foundation/marks/faq/#products&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/foundation/marks/faq/#products&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15957811" author="rxin" created="Wed, 5 Apr 2017 21:48:48 +0000"  >&lt;p&gt;Yes this is really important. The proper way to do this is to publish a proper version of Hive with the right dependency declared (rather than including all the dependencies in a uber jar). Looks like there are broad support to do this. I&apos;m going to create a JIRA ticket on Hive and add a dependency on this.&lt;/p&gt;

&lt;p&gt;This ticket will depend on that.&lt;/p&gt;</comment>
                            <comment id="15957843" author="rxin" created="Wed, 5 Apr 2017 22:05:09 +0000"  >&lt;p&gt;I&apos;ve created a ticket on the Hive side to publish 1.2.x: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-16391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-16391&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Until that is resolved, I also wonder if there are other things we should do. For example, vote on the current fork to rectify it?&lt;/p&gt;
</comment>
                            <comment id="15962903" author="stevel@apache.org" created="Mon, 10 Apr 2017 14:05:56 +0000"  >&lt;p&gt;One thing I do recall as trouble here was that ivy resolution was different from mvns, and fixing up all the transitives was a troublespot. Patches here need to be tested against SBT and maven &#8212;as jenkins only does SBT, the mvn builds will have to be manual. I don&apos;t remember which specific dependency was the problem.&lt;/p&gt;</comment>
                            <comment id="15965218" author="holdenk" created="Wed, 12 Apr 2017 00:54:09 +0000"  >&lt;p&gt;Would it possible make sense to untarget this from the maintenance releases (1.6.X, 2.0.X, 2.1.X) and instead focus on the future versions?&lt;/p&gt;</comment>
                            <comment id="15965220" author="rxin" created="Wed, 12 Apr 2017 00:56:02 +0000"  >&lt;p&gt;There are no currently targeted version, are there?&lt;/p&gt;</comment>
                            <comment id="15966201" author="holdenk" created="Wed, 12 Apr 2017 16:51:57 +0000"  >&lt;p&gt;Oh right, sorry I was misreading the intent of Affects Version/s.&lt;/p&gt;</comment>
                            <comment id="16386125" author="q79969786" created="Mon, 5 Mar 2018 14:15:47 +0000"  >&lt;p&gt;How about upgrade Hive directly to 2.3.2. In fact, I&apos;ve completed the initial work and have been running for a few days.&lt;br/&gt;
 &lt;a href=&quot;https://github.com/apache/spark/pull/20659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/20659&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16498213" author="felixcheung" created="Fri, 1 Jun 2018 16:46:20 +0000"  >&lt;p&gt;Prefer newer Hive also&lt;/p&gt;</comment>
                            <comment id="16499707" author="jerryshao" created="Mon, 4 Jun 2018 03:44:46 +0000"  >&lt;p&gt;What is our plan to to fix this issue, are we going to use new Hive version, or&#160;we are still stick to 1.2?&lt;/p&gt;

&lt;p&gt;If we&apos;re still stick to 1.2, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt; and I will take this issue and make the ball rolling in Hive community.&lt;/p&gt;</comment>
                            <comment id="16500560" author="stevel@apache.org" created="Mon, 4 Jun 2018 17:25:04 +0000"  >&lt;p&gt;I think you could split things into two&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;a modified hive 1.2.1.x for hadoop 3, with a new package name in the maven builds. (joy, profiles!) and some work with the hive team to get this officially published by them. Strength: easy for people to backport into shipping 2.2, 2.3 builds just by changing the POM&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;the bigger move to Hive 2. This will be the best for future, but is bound to have more surprises. There&apos;s even the possibility that the hive team might have to make some changes too, which isn&apos;t impossible if the timelines line up.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16501225" author="jerryshao" created="Tue, 5 Jun 2018 03:00:24 +0000"  >&lt;p&gt;OK, for the 1st, I&apos;ve already started working on it locally. Looks like it is not a big change, only some POM changes are enough, I will submit a patch to Hive community.&lt;/p&gt;</comment>
                            <comment id="16521203" author="gurwls223" created="Sat, 23 Jun 2018 15:52:51 +0000"  >&lt;p&gt;Hi all, what do you guys think about replacing it to Hive 2.3.x in the near future (like Spark 3.0.0) given &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-23710&quot; title=&quot;Upgrade the built-in Hive to 2.3.5 for hadoop-3.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-23710&quot;&gt;&lt;del&gt;SPARK-23710&lt;/del&gt;&lt;/a&gt;, and keeping the fork for now?&lt;/p&gt;

&lt;p&gt;Looks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=q79969786&quot; class=&quot;user-hover&quot; rel=&quot;q79969786&quot;&gt;q79969786&lt;/a&gt; completed the initial try at &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-23710&quot; title=&quot;Upgrade the built-in Hive to 2.3.5 for hadoop-3.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-23710&quot;&gt;&lt;del&gt;SPARK-23710&lt;/del&gt;&lt;/a&gt; and now it sounds pretty much feasible as an option now although it sounds there are still some investigations; however, I believe that we can focus on getting through if we have the explicit plan here. I think we are mostly all positive on this option as a final goal anyway but I felt like we need to make sure on this.&lt;br/&gt;
If the above can be set as the goal for this JIRA to get rid of the fork completely, &amp;#42;I personally think&amp;#42; Hive side also can focus on landing other fixes to the more resent versions without diverting the efforts to maintain an old branch.&lt;/p&gt;

&lt;p&gt;Until then, I think we could probably consider keeping the fork for now and landing some minor fixes if there&apos;re some strong reasons for it. For example, Hadoop 3 support is blocked by one liner fix in the fork. &amp;#42;I personally think&amp;#42; it is the easiest way to land this fix into the fork. I believe this is pretty reasonable.&lt;/p&gt;

&lt;p&gt;What do you guys think about this?&lt;/p&gt;
</comment>
                            <comment id="16521823" author="gurwls223" created="Mon, 25 Jun 2018 03:52:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;owen.omalley&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rxin&quot; class=&quot;user-hover&quot; rel=&quot;rxin&quot;&gt;rxin&lt;/a&gt;, what do you think about the suggestion above? I tried to check all other contexts hard at all my best and ^ was my current conclusion to get through this issue mostly smoothly and easily. &lt;/p&gt;</comment>
                            <comment id="16527291" author="gurwls223" created="Fri, 29 Jun 2018 07:45:21 +0000"  >&lt;p&gt;Would you guys please give some thought on this when you guys are available?&lt;/p&gt;</comment>
                            <comment id="16531706" author="gurwls223" created="Tue, 3 Jul 2018 17:19:20 +0000"  >&lt;p&gt;kindly ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;owen.omalley&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rxin&quot; class=&quot;user-hover&quot; rel=&quot;rxin&quot;&gt;rxin&lt;/a&gt;. I would like to make a progress further on this since it&apos;s blocked for a while but it&apos;s pretty important to make up for this affair. &lt;/p&gt;</comment>
                            <comment id="16539473" author="gurwls223" created="Wed, 11 Jul 2018 02:45:04 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;owen.omalley&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rxin&quot; class=&quot;user-hover&quot; rel=&quot;rxin&quot;&gt;rxin&lt;/a&gt;, I know I see many sensitive things for example the policy stuff frankly; however, this one needs some input from you guys before proceeding further ...&lt;/p&gt;</comment>
                            <comment id="16540454" author="rxin" created="Wed, 11 Jul 2018 17:46:56 +0000"  >&lt;p&gt;If you want to try and put together a PR that actually does it, that could work too. But note that it&apos;s a lot of work to upgrade execution Hive. Probably 10X more work than Hive publishing the exec jar.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16540467" author="gurwls223" created="Wed, 11 Jul 2018 17:59:58 +0000"  >&lt;p&gt;I was thinking we target it for 3.0.0 (otherwise 4.0.0 might make sense ... ). It might be a lot of work indeed but I believe this is what we should do as a final goal which we should do anyway sometime ...&lt;/p&gt;

&lt;p&gt;Untill then, I wanted to propose to keep the fork as a temporary solution until 3.0.0 and we target to upgrade it to 2.3.x in 3.0.0 as the goal and target version ... Branch-2.4 will be cut out soon and I think we would go for 3.0.0 for the next release if I am not mistaken.&lt;/p&gt;</comment>
                            <comment id="16540468" author="rxin" created="Wed, 11 Jul 2018 18:01:02 +0000"  >&lt;p&gt;Yea you can try and see how difficult it is.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16540483" author="gurwls223" created="Wed, 11 Jul 2018 18:16:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rxin&quot; class=&quot;user-hover&quot; rel=&quot;rxin&quot;&gt;rxin&lt;/a&gt;, there was an initial try above already though which at least made the regression tests we wrote so far passed. I talked with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=q79969786&quot; class=&quot;user-hover&quot; rel=&quot;q79969786&quot;&gt;q79969786&lt;/a&gt; before and she&apos;s willing to finish this. For this, I need more supports from you and other guys to go this way ..&lt;/p&gt;

&lt;p&gt;I get your point too on the other hand. So, do you think we should rather not explicitly target it since it&apos;s pretty difficult and we should better let Hive publish 1.2.x first rather then keeping the fork since it&apos;s unclear if we make it in 3.0.0?&lt;/p&gt;</comment>
                            <comment id="16541034" author="gurwls223" created="Thu, 12 Jul 2018 02:18:14 +0000"  >&lt;p&gt;I am asking this to set the goal for this JIRA as of the current status and make a progress on this. I left some comments here because to me it looked &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=q79969786&quot; class=&quot;user-hover&quot; rel=&quot;q79969786&quot;&gt;q79969786&lt;/a&gt;&apos;s try is kind of a new fact arrived here to be considered.&lt;/p&gt;

&lt;p&gt;If publishing Hive is still preferred to get through here for any reason, I will help go with Saisai&apos;s patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-16391&quot; title=&quot;Publish proper Hive 1.2 jars (without including all dependencies in uber jar)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-16391&quot;&gt;&lt;del&gt;HIVE-16391&lt;/del&gt;&lt;/a&gt;. If keeping the fork and upgrade could be set as a goal for now, I will try to help go with Yumming&apos;s way and make a fix to the fork.&lt;/p&gt;

&lt;p&gt;Which one do you prefer?&lt;/p&gt;</comment>
                            <comment id="16541191" author="felixcheung" created="Thu, 12 Jul 2018 06:04:57 +0000"  >&lt;p&gt;How like will there be a hive release?&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-16391&quot; title=&quot;Publish proper Hive 1.2 jars (without including all dependencies in uber jar)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-16391&quot;&gt;&lt;del&gt;HIVE-16391&lt;/del&gt;&lt;/a&gt; is still open?&lt;/p&gt;

&lt;p&gt;Stay with hive 1.2 will slowly become a big problem for us within a few months...&lt;/p&gt;</comment>
                            <comment id="16544398" author="gurwls223" created="Sun, 15 Jul 2018 04:29:21 +0000"  >&lt;p&gt;I think we are unclear about how we are going to deal with this and it&apos;s been left open for a while ..&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rxin&quot; class=&quot;user-hover&quot; rel=&quot;rxin&quot;&gt;rxin&lt;/a&gt;, do you maybe have some preference in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-20202?focusedCommentId=16541034&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-16541034&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;my comment above&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;1. Go with Saisai&apos;s patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-16391&quot; title=&quot;Publish proper Hive 1.2 jars (without including all dependencies in uber jar)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-16391&quot;&gt;&lt;del&gt;HIVE-16391&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Publishing Hive 1.2.x could be easier but will give some overhead to Hive side (e.g., maintaining the old branches, for example, backports).&lt;/li&gt;
	&lt;li&gt;If I understood correctly, we have less problems (e.g., policy stuff) if we go publishing Hive 1.2.x &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-16391&quot; title=&quot;Publish proper Hive 1.2 jars (without including all dependencies in uber jar)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-16391&quot;&gt;&lt;del&gt;HIVE-16391&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2. Target the upgrade with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=q79969786&quot; class=&quot;user-hover&quot; rel=&quot;q79969786&quot;&gt;q79969786&lt;/a&gt;&apos;s fix, and add some fixes to our current fork when there&apos;s strong reasons&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;It is difficult but &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=q79969786&quot; class=&quot;user-hover&quot; rel=&quot;q79969786&quot;&gt;q79969786&lt;/a&gt; made and completed an initial try about the upgrade. It still need some further investigation (e.g., see &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-23710&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SPARK-23710&lt;/a&gt;) but the try made the regression tests passed at least. She&apos;s willing to finish this.&lt;/li&gt;
	&lt;li&gt;If we miss the Hive upgrade to 2.3.x in Spark 3.0.0, we should probably target 4.0.0 with upper version of Hive, which I guess make this upgrade even harder.&lt;/li&gt;
	&lt;li&gt;Looks we implicitly agree upon this should be the final goal in the long term.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt;&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-20202?focusedCommentId=16500560&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-16500560&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;comment above&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I am re-raising and giving some refreshes here because I personally see:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Few facts arrived here since the JIRA was open. So, it looked to me it might be better we consider the possible options again.&lt;/li&gt;
	&lt;li&gt;Looks we are quite unclear on this about how we should get through this to me.&lt;/li&gt;
	&lt;li&gt;To me, I am sure we need to share and feel in the same way for this JIRA and, it looks I need some more supports from you guys before we go ahead because it&apos;d be a kind of not easily revertible changes.&lt;/li&gt;
	&lt;li&gt;Branch-2.4 will be cut out soon and we will go for Spark 3.0.0 if I am not mistaken.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I know there are many sensitive things going on here; however, please kindly consider and give some inputs. I am sure we all feel that we should resolve this.&lt;br/&gt;
Lastly, FWIW, I am doing this on my own rather individually if it matters to anyone in any case.&lt;/p&gt;</comment>
                            <comment id="16977904" author="dongjoon" created="Tue, 19 Nov 2019 22:55:46 +0000"  >&lt;p&gt;Hi, All.&lt;br/&gt;
I set the target version to `3.1.0`. Please join the discussion if you have any concerns.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://lists.apache.org/thread.html/eca4e55c717f35f41c029e227fa9be0a7ee2c8a6f378fcce8f9fd4ff@%3Cdev.spark.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/eca4e55c717f35f41c029e227fa9be0a7ee2c8a6f378fcce8f9fd4ff@%3Cdev.spark.apache.org%3E&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17206869" author="apachespark" created="Sat, 3 Oct 2020 22:24:33 +0000"  >&lt;p&gt;User &apos;dongjoon-hyun&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29936&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29936&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17206870" author="apachespark" created="Sat, 3 Oct 2020 22:25:02 +0000"  >&lt;p&gt;User &apos;dongjoon-hyun&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29936&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29936&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17208383" author="dongjoon" created="Mon, 5 Oct 2020 22:30:15 +0000"  >&lt;p&gt;Issue resolved by pull request 29936&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29936&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29936&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17209967" author="apachespark" created="Thu, 8 Oct 2020 03:00:53 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29973&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17209969" author="apachespark" created="Thu, 8 Oct 2020 03:00:55 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29973&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17209970" author="apachespark" created="Thu, 8 Oct 2020 03:01:46 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29973&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13270567">SPARK-30034</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13233595">SPARK-27733</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13334110">SPARK-33082</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13333813">SPARK-33072</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3d4in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12346518">3.1.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>