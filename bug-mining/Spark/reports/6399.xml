<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:04:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-26998] spark.ssl.keyStorePassword in plaintext on &apos;ps -ef&apos; output of executor processes in Standalone mode</title>
                <link>https://issues.apache.org/jira/browse/SPARK-26998</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Run spark standalone mode, then start a spark-submit requiring at least 1 executor. Do a &apos;ps -ef&apos; on linux (ie putty terminal) and you will be able to see&#160; spark.ssl.keyStorePassword value in plaintext!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;spark.ssl.keyStorePassword and&#160; spark.ssl.keyPassword don&apos;t need to be passed to&#160; CoarseGrainedExecutorBackend. Only&#160; spark.ssl.trustStorePassword is used.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Can be resolved if below PR is merged:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/pull/21514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;[Github] Pull Request #21514 (tooptoop4)&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13218193">SPARK-26998</key>
            <summary>spark.ssl.keyStorePassword in plaintext on &apos;ps -ef&apos; output of executor processes in Standalone mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsomogyi">Gabor Somogyi</assignee>
                                    <reporter username="toopt4">t oo</reporter>
                        <labels>
                            <label>SECURITY</label>
                            <label>Security</label>
                            <label>secur</label>
                            <label>security</label>
                            <label>security-issue</label>
                    </labels>
                <created>Tue, 26 Feb 2019 23:08:09 +0000</created>
                <updated>Mon, 12 Dec 2022 18:10:36 +0000</updated>
                            <resolved>Tue, 2 Apr 2019 16:26:58 +0000</resolved>
                                    <version>2.3.3</version>
                    <version>2.4.0</version>
                                    <fixVersion>2.3.4</fixVersion>
                    <fixVersion>2.4.2</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>Scheduler</component>
                    <component>Security</component>
                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16780118" author="gurwls223" created="Thu, 28 Feb 2019 05:27:10 +0000"  >&lt;p&gt;can you reopen the PR and proceed?&lt;/p&gt;</comment>
                            <comment id="16782135" author="gsomogyi" created="Fri, 1 Mar 2019 21:56:48 +0000"  >&lt;p&gt;How is this different from &lt;a href=&quot;https://github.com/apache/spark/pull/23820?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23820?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16782330" author="toopt4" created="Sat, 2 Mar 2019 10:05:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/pull/23820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23820&lt;/a&gt;&#160;is only about hiding password from log file,&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-26998&quot; title=&quot;spark.ssl.keyStorePassword in plaintext on &amp;#39;ps -ef&amp;#39; output of executor processes in Standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-26998&quot;&gt;&lt;del&gt;SPARK-26998&lt;/del&gt;&lt;/a&gt; is about hiding passwords from showing in &apos;ps -ef&apos; process list&lt;/p&gt;</comment>
                            <comment id="16784391" author="gsomogyi" created="Tue, 5 Mar 2019 12:51:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toopt4&quot; class=&quot;user-hover&quot; rel=&quot;toopt4&quot;&gt;toopt4&lt;/a&gt; thanks for the info. Are you working on this? If not I&apos;m happy to push the solution forward.&lt;/p&gt;</comment>
                            <comment id="16784406" author="gsomogyi" created="Tue, 5 Mar 2019 13:04:34 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Can be resolved if below PR is merged:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/pull/21514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;[Github] Pull Request #21514 (tooptoop4)&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think it&apos;s just not true. #21514 is solving a UI problem where an application &apos;name&apos; urls point to http instead of https (even when ssl enabled).&lt;br/&gt;
Have I missed something?&lt;/p&gt;</comment>
                            <comment id="16784410" author="gsomogyi" created="Tue, 5 Mar 2019 13:07:36 +0000"  >&lt;p&gt;Ahaaa, I see now. 2 problems tried to be solved in one PR.&lt;/p&gt;</comment>
                            <comment id="16784434" author="kabhwan" created="Tue, 5 Mar 2019 13:33:53 +0000"  >&lt;p&gt;If I understand correctly, the PR would mitigate the issue (remove some of unnecessary password parameters being passed) but not completely solve the issue, sine truststore password parameters will be still passed as it was.&lt;/p&gt;

&lt;p&gt;To handle issue correctly we need to have secured storage to share the security information.&lt;/p&gt;</comment>
                            <comment id="16784791" author="toopt4" created="Tue, 5 Mar 2019 19:03:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gsomogyi&quot; class=&quot;user-hover&quot; rel=&quot;gsomogyi&quot;&gt;gsomogyi&lt;/a&gt; please take it forward.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan&quot; class=&quot;user-hover&quot; rel=&quot;kabhwan&quot;&gt;kabhwan&lt;/a&gt; truststore password being shown is not much of a problem since truststore is often distributed to users anyway. But keystore password still being shown is the big no-no.&lt;/p&gt;</comment>
                            <comment id="16785277" author="kabhwan" created="Wed, 6 Mar 2019 06:49:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toopt4&quot; class=&quot;user-hover&quot; rel=&quot;toopt4&quot;&gt;toopt4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Yeah I tend to agree that&#160;hiding more credential things are better so supportive on the change. Maybe I thought about the description of Jira issue your patch was originally landed.&lt;/p&gt;

&lt;p&gt;Btw, are there any existing test or manual test to verify whether&#160;keystore password and key password are not used? Just curious, I honestly don&apos;t know about it.&lt;/p&gt;</comment>
                            <comment id="16786726" author="gsomogyi" created="Thu, 7 Mar 2019 12:47:45 +0000"  >&lt;p&gt;I&apos;ve tested the things through and see the issue. I think it&apos;s not only standalone mode problem but applies to all cases where sensitive information provided in command line.&lt;/p&gt;</comment>
                            <comment id="16789653" author="gsomogyi" created="Mon, 11 Mar 2019 14:46:35 +0000"  >&lt;p&gt;Since the first part of the PR solved (http URLs in case of secure mode) continuing with the second issue.&lt;br/&gt;
In my view the problem can be mitigated to ask users to provide configuration parameters in configuration file (several commercial products does this)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Either spark-defaults.conf&lt;/li&gt;
	&lt;li&gt;or --properties-file&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That way the command line options will show either nothing (spark-defaults.conf picked up by default) or something like &quot;... --properties-file my-secret-spark-properties.conf ...&quot;.&lt;br/&gt;
As a side note this workaround is available at the moment but I would like to warn users for such situations.&lt;/p&gt;

&lt;p&gt;The other approach what I&apos;ve considered (and abandoned) is to open a pipe and send the password through this channel but since this approach is not really conform with Spark&apos;s configuration system&lt;br/&gt;
it would imply heavy changes and don&apos;t see the return of investment.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt; what do you think since you have quite a bit experience with security?&lt;/p&gt;</comment>
                            <comment id="16789766" author="vanzin" created="Mon, 11 Mar 2019 17:05:23 +0000"  >&lt;p&gt;There are 3 ways to solve this: pipe, file, or env variable. Pick one.&lt;/p&gt;</comment>
                            <comment id="16789786" author="gsomogyi" created="Mon, 11 Mar 2019 17:19:21 +0000"  >&lt;p&gt;Same understanding, chosen the file approach.&lt;/p&gt;</comment>
                            <comment id="16807904" author="vanzin" created="Tue, 2 Apr 2019 16:26:58 +0000"  >&lt;p&gt;Issue resolved by pull request 24170&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/24170&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/24170&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13126584">SPARK-22860</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00434:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>