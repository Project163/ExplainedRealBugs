<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:05:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-27992] PySpark socket server should sync with JVM connection thread future</title>
                <link>https://issues.apache.org/jira/browse/SPARK-27992</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Both &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-27805&quot; title=&quot;toPandas does not propagate SparkExceptions with arrow enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-27805&quot;&gt;&lt;del&gt;SPARK-27805&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-27548&quot; title=&quot;PySpark toLocalIterator does not raise errors from worker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-27548&quot;&gt;&lt;del&gt;SPARK-27548&lt;/del&gt;&lt;/a&gt; identified an issue that errors in a Spark job are not propagated to Python. This is because toLocalIterator() and toPandas() with Arrow enabled run Spark jobs asynchronously in a background thread, after creating the socket connection info. The fix for these was to catch a SparkException if the job errored and then send the exception through the pyspark serializer.&lt;/p&gt;

&lt;p&gt;A better fix would be to allow Python to await on the serving thread future and join the thread. That way if the serving thread throws an exception, it will be propagated on the call to awaitResult.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13238638">SPARK-27992</key>
            <summary>PySpark socket server should sync with JVM connection thread future</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bryanc">Bryan Cutler</assignee>
                                    <reporter username="bryanc">Bryan Cutler</reporter>
                        <labels>
                            <label>correctness</label>
                    </labels>
                <created>Mon, 10 Jun 2019 21:46:19 +0000</created>
                <updated>Mon, 12 Dec 2022 18:10:50 +0000</updated>
                            <resolved>Wed, 26 Jun 2019 20:07:07 +0000</resolved>
                                    <version>2.4.0</version>
                    <version>2.4.1</version>
                    <version>2.4.2</version>
                    <version>2.4.3</version>
                    <version>3.0.0</version>
                                    <fixVersion>2.4.4</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16873643" author="bryanc" created="Wed, 26 Jun 2019 20:07:07 +0000"  >&lt;p&gt;Issue resolved by pull request 24834&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/24834&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/24834&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16916446" author="gurwls223" created="Tue, 27 Aug 2019 06:48:27 +0000"  >&lt;p&gt;I am increasing the priority to blocker per &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-28881&quot; title=&quot;toPandas with Arrow should not return a DataFrame when the result size exceeds `spark.driver.maxResultSize`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-28881&quot;&gt;&lt;del&gt;SPARK-28881&lt;/del&gt;&lt;/a&gt;. cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dongjoon&quot; class=&quot;user-hover&quot; rel=&quot;dongjoon&quot;&gt;dongjoon&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16916468" author="dongjoon" created="Tue, 27 Aug 2019 07:25:05 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="16916478" author="dongjoon" created="Tue, 27 Aug 2019 07:41:18 +0000"  >&lt;p&gt;I updated the issue type from `Improvement` to `Bug` since this is a blocker.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13229685">SPARK-27548</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13234925">SPARK-27805</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13253179">SPARK-28881</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z03li8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>