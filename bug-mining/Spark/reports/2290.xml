<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:31:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-9182] filter and groupBy on DataFrames are not passed through to jdbc source</title>
                <link>https://issues.apache.org/jira/browse/SPARK-9182</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When running all of these API calls, the only one that passes the filter through to the backend jdbc source is equality.  All filters in these commands should be able to be passed through to the jdbc database source.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;val url=&lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:postgresql:grahn&quot;&lt;/span&gt;
val prop = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; java.util.Properties
val emp = sqlContext.read.jdbc(url, &lt;span class=&quot;code-quote&quot;&gt;&quot;emp&quot;&lt;/span&gt;, prop)

emp.filter(emp(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;) === 5000).show()
emp.filter(emp(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;) &amp;lt; 5000).show()
emp.filter(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal = 3000&quot;&lt;/span&gt;).show()
emp.filter(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal &amp;gt; 2500&quot;&lt;/span&gt;).show()
emp.filter(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal &amp;gt;= 2500&quot;&lt;/span&gt;).show()
emp.filter(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal &amp;lt; 2500&quot;&lt;/span&gt;).show()
emp.filter(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal &amp;lt;= 2500&quot;&lt;/span&gt;).show()
emp.filter(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal != 3000&quot;&lt;/span&gt;).show()
emp.filter(&lt;span class=&quot;code-quote&quot;&gt;&quot;sal between 3000 and 5000&quot;&lt;/span&gt;).show()
emp.filter(&lt;span class=&quot;code-quote&quot;&gt;&quot;ename in (&lt;span class=&quot;code-quote&quot;&gt;&apos;SCOTT&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;BLAKE&apos;&lt;/span&gt;)&quot;&lt;/span&gt;).show()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We see from the PostgreSQL query log the following is run, and see that only equality predicates are passed through.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp WHERE sal = 5000
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp WHERE sal = 3000
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp
LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;empno&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;ename&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mgr&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;hiredate&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;sal&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;comm&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;deptno&quot;&lt;/span&gt; FROM emp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12846186">SPARK-9182</key>
            <summary>filter and groupBy on DataFrames are not passed through to jdbc source</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="grahn">Greg Rahn</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Jul 2015 21:22:42 +0000</created>
                <updated>Mon, 12 Dec 2022 18:11:04 +0000</updated>
                            <resolved>Mon, 4 Jan 2021 05:52:23 +0000</resolved>
                                    <version>1.4.1</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>22</watches>
                                                                                                                <comments>
                            <comment id="14632935" author="rxin" created="Sun, 19 Jul 2015 21:44:16 +0000"  >&lt;p&gt;They should all have been pushed down. If they are not, it&apos;s definitely a bug.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liancheng&quot; class=&quot;user-hover&quot; rel=&quot;liancheng&quot;&gt;liancheng&lt;/a&gt; can you take a look at this?&lt;/p&gt;</comment>
                            <comment id="14634163" author="grahn" created="Mon, 20 Jul 2015 22:18:34 +0000"  >&lt;p&gt;Also looks like groupBy is not being pushed either.&lt;br/&gt;
Running&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;emp.groupBy(&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;).agg(count(emp(&lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt;))).show()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Results in&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &lt;span class=&quot;code-quote&quot;&gt;&quot;job&quot;&lt;/span&gt; FROM emp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14636686" author="lian cheng" created="Wed, 22 Jul 2015 10:42:21 +0000"  >&lt;p&gt;I&apos;m looking into this.&lt;/p&gt;</comment>
                            <comment id="14638421" author="lian cheng" created="Thu, 23 Jul 2015 07:57:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=grahn&quot; class=&quot;user-hover&quot; rel=&quot;grahn&quot;&gt;grahn&lt;/a&gt; Could you please provide the schema of the table? Especially I&apos;d like to know the data types of involved columns.&lt;/p&gt;</comment>
                            <comment id="14638427" author="lian cheng" created="Thu, 23 Jul 2015 08:04:28 +0000"  >&lt;p&gt;I suspect that the type of column &lt;tt&gt;sal&lt;/tt&gt; is &lt;tt&gt;text&lt;/tt&gt; rather than any numeric type. Reproduced this issue with the following setup.&lt;/p&gt;

&lt;p&gt;Table DDL:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; t (&lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;, b &lt;span class=&quot;code-keyword&quot;&gt;real&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;precision&lt;/span&gt;, d &lt;span class=&quot;code-keyword&quot;&gt;text&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Test data:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;into&lt;/span&gt; t &lt;span class=&quot;code-keyword&quot;&gt;values&lt;/span&gt; (1, 1.1, 1.2, &lt;span class=&quot;code-quote&quot;&gt;&apos;1000&apos;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;into&lt;/span&gt; t &lt;span class=&quot;code-keyword&quot;&gt;values&lt;/span&gt; (2, 2.1, 2.2, &lt;span class=&quot;code-quote&quot;&gt;&apos;2000&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Spark shell snippet:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;val url = &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:postgresql:postgres&quot;&lt;/span&gt;
val props = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; java.util.Properties
val t = sqlContext.read.jdbc(url, &lt;span class=&quot;code-quote&quot;&gt;&quot;t&quot;&lt;/span&gt;, props)
t.filter(&apos;d &amp;gt; 1500).show()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Corresponding PostgreSQL log:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;LOG:  execute &amp;lt;unnamed&amp;gt;: SET extra_float_digits = 3
LOG:  execute &amp;lt;unnamed&amp;gt;: SELECT &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot; FROM t
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14639036" author="grahn" created="Thu, 23 Jul 2015 15:47:25 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;grahn=# \d emp
              Table &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;.emp&quot;&lt;/span&gt;
  Column  |         Type          | Modifiers
----------+-----------------------+-----------
 empno    | numeric(4,0)          |
 ename    | character varying(10) |
 job      | character varying(9)  |
 mgr      | numeric(4,0)          |
 hiredate | date                  |
 sal      | numeric(7,2)          |
 comm     | numeric(7,2)          |
 deptno   | numeric(2,0)          |

grahn=# select * from emp;
 empno | ename  |    job    | mgr  |  hiredate  |   sal   |  comm   | deptno
-------+--------+-----------+------+------------+---------+---------+--------
  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |         |     20
  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30
  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30
  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |         |     20
  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30
  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |         |     30
  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |         |     10
  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 | 3000.00 |         |     20
  7839 | KING   | PRESIDENT |      | 1981-11-17 | 5000.00 |         |     10
  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30
  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 | 1100.00 |         |     20
  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |         |     30
  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |         |     20
  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |         |     10
(14 rows)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14639065" author="grahn" created="Thu, 23 Jul 2015 16:13:54 +0000"  >&lt;p&gt;Looks like it&apos;s related to NUMERIC data types from a quick test.&lt;/p&gt;</comment>
                            <comment id="14660278" author="lian cheng" created="Thu, 6 Aug 2015 16:41:11 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=grahn&quot; class=&quot;user-hover&quot; rel=&quot;grahn&quot;&gt;grahn&lt;/a&gt;, sorry for the late reply, I somehow missed your last two comments.&lt;/p&gt;

&lt;p&gt;Thanks for the detailed information. I&apos;m able to reproduce this issue locally now. Confirmed that it&apos;s related to NUMERIC. Trying to deliver a fix for this.&lt;/p&gt;</comment>
                            <comment id="14662871" author="apachespark" created="Sat, 8 Aug 2015 08:05:09 +0000"  >&lt;p&gt;User &apos;yjshen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8049&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14693366" author="lian cheng" created="Wed, 12 Aug 2015 11:55:38 +0000"  >&lt;p&gt;Issue resolved by pull request 8049&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8049&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14694722" author="lian cheng" created="Thu, 13 Aug 2015 05:35:34 +0000"  >&lt;p&gt;Found a regression in &lt;a href=&quot;https://github.com/apache/spark/pull/8049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8049&lt;/a&gt; and reverted it via &lt;a href=&quot;https://github.com/apache/spark/pull/8049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8049&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14694727" author="yijieshen" created="Thu, 13 Aug 2015 05:39:18 +0000"  >&lt;p&gt;reverted it via &lt;a href=&quot;https://github.com/apache/spark/pull/8157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8157&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14694739" author="lian cheng" created="Thu, 13 Aug 2015 05:46:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=grahn&quot; class=&quot;user-hover&quot; rel=&quot;grahn&quot;&gt;grahn&lt;/a&gt; Unfortunately we found a regression in the previous fix and have to revert it. Before a proper fix is delivered, this issue can be worked around by explicit casting over the literal values in the filter. Namely, using&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;emp.filter(&quot;sal &amp;gt; cast(2500 as decimal(7, 2))&quot;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;instead of&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;emp.filter(&quot;sal &amp;gt; 2500&quot;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14740577" author="apachespark" created="Fri, 11 Sep 2015 11:05:03 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8718&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8718&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14955646" author="davies" created="Tue, 13 Oct 2015 20:49:49 +0000"  >&lt;p&gt;For JDBC, I think we could push more stuff (for example, a + b &amp;gt; 3) into remote database, which include casting. This is more useful for JDBC than other file based data sources, we may could spend more efforts on it.&lt;/p&gt;</comment>
                            <comment id="15031266" author="gurwls223" created="Mon, 30 Nov 2015 02:56:29 +0000"  >&lt;p&gt;Just a thought, Currently &lt;tt&gt;DataSourceStrategy.translateFilter&lt;/tt&gt; just converts &lt;tt&gt;expressions.Filter&lt;/tt&gt; to &lt;tt&gt;sources.Filter&lt;/tt&gt; which are commonly applicable for datasources.&lt;/p&gt;

&lt;p&gt;However, for other datasources, more or less filters could be processed. As far as I know, to exclude some filters, &lt;tt&gt;unhanldedFilters&lt;/tt&gt; interface is added by &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10978&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-10978&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To include some more filters for example for JDBC and others such as Elasticsearch or Solr,  should we better just convert all &lt;tt&gt;expressions.Filter&lt;/tt&gt; to &lt;tt&gt;sources.Filter&lt;/tt&gt; to hide the internals and then let the &lt;tt&gt;unhanldedFilters&lt;/tt&gt; select the filters that it can process?&lt;/p&gt;

&lt;p&gt;Even though adding this logic to the Spark internal datasources (namely correcting the Parquet or ORC datasources to get rid of duplicated filters) should also be done, this still would be advantageous as this would remove Spark-side filtering (currently, the internal datasources filter data twice at Spark side and also datasource side).&lt;/p&gt;</comment>
                            <comment id="15031526" author="lian cheng" created="Mon, 30 Nov 2015 09:15:28 +0000"  >&lt;p&gt;Converting all &lt;tt&gt;expressions.Filter&lt;/tt&gt; to &lt;tt&gt;sources.Filter&lt;/tt&gt; basically means that we need to write a new expression library, which might not worth the effort.&lt;/p&gt;

&lt;p&gt;This reminds me the experimental &lt;tt&gt;CatalystScan&lt;/tt&gt; trait, which had once been used for &lt;tt&gt;ParquetRelation&lt;/tt&gt; to handling partition pruning before &lt;tt&gt;HadoopFsRelation&lt;/tt&gt; was added. Since JDBC is a builtin data source, maybe we can use similar tricks to pass Catalyst expressions rather than &lt;tt&gt;sources.Filter&lt;/tt&gt; directly to it, so that it can make smarter decisions.&lt;/p&gt;</comment>
                            <comment id="15037670" author="gurwls223" created="Thu, 3 Dec 2015 11:09:14 +0000"  >&lt;p&gt;Filed here &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-12126&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-12126&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17177455" author="zdh" created="Fri, 14 Aug 2020 03:39:13 +0000"  >&lt;p&gt;Hello, it seems that the problem is that the &quot;Sal&quot; field is of numerical type, but in the actual SQL process, it is impossible to match the numeric value non equivalently. Try changing the &quot;Sal&quot; field to int or double.&lt;/p&gt;</comment>
                            <comment id="17257983" author="gurwls223" created="Mon, 4 Jan 2021 05:52:23 +0000"  >&lt;p&gt;I am going to resolve this as a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-22386&quot; title=&quot;Data Source V2 improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-22386&quot;&gt;SPARK-22386&lt;/a&gt;. This is being tracked with DSv2 support.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13112874">SPARK-22386</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12923416">SPARK-12449</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13176306">SPARK-24994</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12855861">SPARK-9938</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hfq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>