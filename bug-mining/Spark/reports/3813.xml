<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:45:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-3359] `sbt/sbt unidoc` doesn&apos;t work with Java 8</title>
                <link>https://issues.apache.org/jira/browse/SPARK-3359</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;It seems that Java 8 is stricter on JavaDoc. I got many error messages like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[error] /Users/meng/src/spark-mengxr/core/target/java/org/apache/hadoop/mapred/SparkHadoopMapRedUtil.java:2: error: modifier &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; not allowed here
[error] &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; SparkHadoopMapRedUtil {
[error]                  ^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is minor because we can always use Java 6/7 to generate the doc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12738665">SPARK-3359</key>
            <summary>`sbt/sbt unidoc` doesn&apos;t work with Java 8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gurwls223">Hyukjin Kwon</assignee>
                                    <reporter username="mengxr">Xiangrui Meng</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2014 01:04:40 +0000</created>
                <updated>Mon, 12 Dec 2022 18:10:57 +0000</updated>
                            <resolved>Tue, 29 Nov 2016 09:42:08 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14150778" author="srowen" created="Sat, 27 Sep 2014 21:18:14 +0000"  >&lt;p&gt;Yeah I noticed this. The problem is that &lt;tt&gt;sbt-unidoc&lt;/tt&gt; uses &lt;tt&gt;genjavadoc&lt;/tt&gt;, and it looks like it generates invalid Java like the snippet you quote (top-level classes can&apos;t be private). That&apos;s almost all of the extra warnings.&lt;/p&gt;

&lt;p&gt;It seems to have been fixed in &lt;tt&gt;genjavadoc&lt;/tt&gt; 0.8:&lt;br/&gt;
&lt;a href=&quot;https://github.com/typesafehub/genjavadoc/blob/v0.8/plugin/src/main/scala/com/typesafe/genjavadoc/AST.scala#L107&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/typesafehub/genjavadoc/blob/v0.8/plugin/src/main/scala/com/typesafe/genjavadoc/AST.scala#L107&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I can see how to update the plugin in the Maven build, but not yet in the SBT build. If someone who gets SBT can explain how to set &lt;tt&gt;unidocGenjavadocVersion&lt;/tt&gt; to &quot;0.8&quot; in the &lt;tt&gt;genjavadocSettings&lt;/tt&gt; that is inherited in &lt;tt&gt;project/SparkBuild.scala&lt;/tt&gt;, I bet that would fix it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/sbt/sbt-unidoc/blob/master/src/main/scala/sbtunidoc/Plugin.scala#L22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sbt/sbt-unidoc/blob/master/src/main/scala/sbtunidoc/Plugin.scala#L22&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14178316" author="prashant_" created="Tue, 21 Oct 2014 11:52:18 +0000"  >&lt;p&gt;I guess this will happen along with scala 2.11 upgrade. Since the old version does not work with scala 2.11. &lt;/p&gt;</comment>
                            <comment id="14178583" author="srowen" created="Tue, 21 Oct 2014 16:19:24 +0000"  >&lt;p&gt;Sure, but it can be fixed right now too. I tried to figure out how to set plugin properties in SBT and failed, although, I&apos;m sure it&apos;s not a bit hard to someone who knows how it works.&lt;/p&gt;</comment>
                            <comment id="14180104" author="holdenk" created="Wed, 22 Oct 2014 16:03:45 +0000"  >&lt;p&gt;I think I&apos;ve got a fix for it, I&apos;ll send a PR &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14181227" author="srowen" created="Thu, 23 Oct 2014 10:47:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=holdenk_amp&quot; class=&quot;user-hover&quot; rel=&quot;holdenk_amp&quot;&gt;holdenk_amp&lt;/a&gt;&apos;s PR &lt;a href=&quot;https://github.com/apache/spark/pull/2893&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/2893&lt;/a&gt; indeed fixes the immediate problem, thank you.&lt;/p&gt;

&lt;p&gt;I find that the generated Java source code&apos;s generated javadoc still doesn&apos;t parse as valid javadoc in Java 8. Some are directly fixable and I&apos;ll send another PR with those touch-ups.&lt;/p&gt;

&lt;p&gt;Some are just differences between scaladoc and javadoc that the plugin doesn&apos;t quite handle:&lt;/p&gt;

&lt;p&gt;@example / @note tags &amp;#8211; unrecognized, probably delete-able without much effect, but seems like something the plugin could just ignore and pass on the text as-is in generated Java code.&lt;/p&gt;

&lt;p&gt;@group tag &amp;#8211; unrecognized, and may have more value to keep?&lt;/p&gt;

&lt;p&gt;@param tag on class arguments &amp;#8211; end up as @param tags on the Java class which are not valid (well they are for generic types). Should ideally end up as constructor javadoc.&lt;/p&gt;

&lt;p&gt;[&lt;span class=&quot;error&quot;&gt;&amp;#91;link&amp;#93;&lt;/span&gt;] syntax for URLs and methods is not the same and the direct translation to javadoc doesn&apos;t work.&lt;/p&gt;

&lt;p&gt;I will request some changes in the plugin to maybe pass on these. But bottom line is this still won&apos;t work to make javadoc from Scala source code in Java 8. Do we need that? maybe find a way to just javadoc the Java source.&lt;/p&gt;</comment>
                            <comment id="14181494" author="apachespark" created="Thu, 23 Oct 2014 15:56:40 +0000"  >&lt;p&gt;User &apos;srowen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/2909&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/2909&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14181503" author="srowen" created="Thu, 23 Oct 2014 16:01:16 +0000"  >&lt;p&gt;I inquired about these with the plugin project: &lt;a href=&quot;https://github.com/typesafehub/genjavadoc/issues/43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/typesafehub/genjavadoc/issues/43&lt;/a&gt; &lt;a href=&quot;https://github.com/typesafehub/genjavadoc/issues/44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/typesafehub/genjavadoc/issues/44&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14290932" author="srowen" created="Sun, 25 Jan 2015 01:21:28 +0000"  >&lt;p&gt;I spent more time on this tonight, mostly looking at the &lt;tt&gt;genjavadoc&lt;/tt&gt; code, and I don&apos;t think this can be made to work, not without both touching up hundreds of scaladoc comments, and overhauling &lt;tt&gt;genjavadoc&lt;/tt&gt;. The rough translation it does works for javadoc 7, but not nearly for the stricter javadoc 8. It wouldn&apos;t be a matter of small fixes.&lt;/p&gt;

&lt;p&gt;Realistically I&apos;d suggest using javadoc 7, or, altering the doc generation to produce javadoc and scaladoc separately rather than try to get unidoc to work.&lt;/p&gt;

&lt;p&gt;In the meantime I can submit a PR with a number of small fixes that at least resolve more javadoc 8 errors.&lt;/p&gt;</comment>
                            <comment id="14290934" author="apachespark" created="Sun, 25 Jan 2015 01:34:48 +0000"  >&lt;p&gt;User &apos;srowen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/4193&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/4193&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15379259" author="apachespark" created="Fri, 15 Jul 2016 11:25:07 +0000"  >&lt;p&gt;User &apos;srowen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/14221&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/14221&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15673792" author="gurwls223" created="Thu, 17 Nov 2016 13:53:55 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt;, It seems I met this issue while trying to build Java API documentation which I eventually made it with a lower version. I just wonder if it might be better to note this in &lt;a href=&quot;https://github.com/apache/spark/tree/master/docs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/tree/master/docs&lt;/a&gt; to prevent the duplicated efforts I made. &lt;/p&gt;</comment>
                            <comment id="15679611" author="apachespark" created="Sat, 19 Nov 2016 17:46:07 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/15939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/15939&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15680887" author="srowen" created="Sun, 20 Nov 2016 09:53:00 +0000"  >&lt;p&gt;Current state: lots of PRs over time have removed most errors/warnings, but still some remain. Getting closer.&lt;/p&gt;</comment>
                            <comment id="15692147" author="apachespark" created="Thu, 24 Nov 2016 04:21:06 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/15999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/15999&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15696373" author="apachespark" created="Fri, 25 Nov 2016 17:41:03 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/16013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/16013&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15704815" author="srowen" created="Tue, 29 Nov 2016 09:42:08 +0000"  >&lt;p&gt;Issue resolved by pull request 16013&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/16013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/16013&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15730250" author="michalsenkyr" created="Wed, 7 Dec 2016 23:16:15 +0000"  >&lt;p&gt;Javadoc errors as of 2016-12-08 - see attachment&lt;/p&gt;</comment>
                            <comment id="15730258" author="srowen" created="Wed, 7 Dec 2016 23:18:29 +0000"  >&lt;p&gt;How are you building?&lt;/p&gt;</comment>
                            <comment id="15730264" author="gurwls223" created="Wed, 7 Dec 2016 23:20:52 +0000"  >&lt;p&gt;Yup, I noticed roughtly 6 errors intdocued in a PR related with &lt;tt&gt;&amp;lt;&lt;/tt&gt; and &lt;tt&gt;&amp;gt;&lt;/tt&gt;. Other errors do not break the build.&lt;/p&gt;</comment>
                            <comment id="15730279" author="michalsenkyr" created="Wed, 7 Dec 2016 23:26:10 +0000"  >&lt;p&gt;Exactly how it&apos;s stated in the readme:&lt;br/&gt;
cd docs&lt;br/&gt;
jekyll build&lt;/p&gt;</comment>
                            <comment id="15730294" author="gurwls223" created="Wed, 7 Dec 2016 23:32:58 +0000"  >&lt;p&gt;I believe you ran &lt;tt&gt;jekyll build&lt;/tt&gt; and &lt;tt&gt;grep error&lt;/tt&gt;. If you see the logs, it says actually only 6(ish) errors about &amp;lt; and &amp;gt; IIRC, which I guess was missed in the attched log file.&lt;/p&gt;

&lt;p&gt;I was not submiting a PR because it might be too minor (including java lint break).&lt;/p&gt;

&lt;p&gt;I can fix both in a single minor PR if it seems worth.&lt;/p&gt;</comment>
                            <comment id="15730311" author="michalsenkyr" created="Wed, 7 Dec 2016 23:39:09 +0000"  >&lt;p&gt;Yes, I did do a grep on `&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt;`. I am trying to build the docs now with those `&amp;gt;` replaced by `&amp;amp;gt;` to see if it completes.&lt;/p&gt;

&lt;p&gt;I believe it would be worth it to fix. As a newcomer to the Spark community, I had no idea it was Java 8 related.&lt;/p&gt;</comment>
                            <comment id="15730338" author="michalsenkyr" created="Wed, 7 Dec 2016 23:47:31 +0000"  >&lt;p&gt;The build passed. I can put it into a PR if you&apos;d like.&lt;/p&gt;</comment>
                            <comment id="15730387" author="apachespark" created="Thu, 8 Dec 2016 00:04:05 +0000"  >&lt;p&gt;User &apos;michalsenkyr&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/16201&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/16201&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12916936">SPARK-12047</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13025234">SPARK-18692</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12842238" name="errors.txt" size="39552" author="michalsenkyr" created="Wed, 7 Dec 2016 23:16:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zlsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>