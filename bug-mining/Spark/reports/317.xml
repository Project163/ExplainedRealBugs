<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:14:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-1817] RDD zip erroneous when partitions do not divide RDD count</title>
                <link>https://issues.apache.org/jira/browse/SPARK-1817</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;scala&amp;gt; sc.parallelize(1L to 2L,4).zip(sc.parallelize(11 to 12,4)).collect&lt;br/&gt;
res1: Array&lt;span class=&quot;error&quot;&gt;&amp;#91;(Long, Int)&amp;#93;&lt;/span&gt; = Array((2,11))&lt;/p&gt;

&lt;p&gt;But more generally, it&apos;s whenever the number of partitions does not evenly divide the total number of elements in the RDD.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://groups.google.com/forum/#!msg/spark-users/demrmjHFnoc/Ek3ijiXHr2MJ&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://groups.google.com/forum/#!msg/spark-users/demrmjHFnoc/Ek3ijiXHr2MJ&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12713827">SPARK-1817</key>
            <summary>RDD zip erroneous when partitions do not divide RDD count</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kzhang">Kan Zhang</assignee>
                                    <reporter username="michaelmalak">Michael Malak</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 May 2014 05:26:21 +0000</created>
                <updated>Wed, 4 Jun 2014 16:16:24 +0000</updated>
                            <resolved>Wed, 4 Jun 2014 05:47:43 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>1.0.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13998153" author="kzhang" created="Wed, 14 May 2014 22:30:58 +0000"  >&lt;p&gt;I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-1837&quot; title=&quot;NumericRange should be partitioned in the same way as other sequences&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-1837&quot;&gt;&lt;del&gt;SPARK-1837&lt;/del&gt;&lt;/a&gt; as a specific fix for the error reported in the description.&lt;/p&gt;</comment>
                            <comment id="14017812" author="kzhang" created="Wed, 4 Jun 2014 16:10:42 +0000"  >&lt;p&gt;There are 2 issues related to this bug. One is that we partition numeric ranges (e.g., Long and Double ranges) differently from other types of sequences (i.e, at different indexes). This causes elements to be dropped when zipping with numeric ranges since we zip by partition and partitions for numeric ranges may have different sizes from other sequences (even if the total length and the number of partitions are the same). This is fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-1837&quot; title=&quot;NumericRange should be partitioned in the same way as other sequences&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-1837&quot;&gt;&lt;del&gt;SPARK-1837&lt;/del&gt;&lt;/a&gt;. One caveat is currently partitioning Double ranges still doesn&apos;t work properly due to a Scala bug that breaks &lt;tt&gt;take&lt;/tt&gt; and &lt;tt&gt;drop&lt;/tt&gt; on Double ranges (&lt;a href=&quot;https://issues.scala-lang.org/browse/SI-8518&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.scala-lang.org/browse/SI-8518&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The other issue is instead of dropping elements silently, we should throw an error during zipping when we found out that partition sizes are not the same between 2 sequences. This is fixed by &lt;a href=&quot;https://github.com/apache/spark/pull/944&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/944&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12714309">SPARK-1837</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>392143</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vj7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>392337</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>