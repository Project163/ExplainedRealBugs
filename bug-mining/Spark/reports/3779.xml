<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:45:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-16415] [Spark][SQL] - Failed to create table due to catalog string error</title>
                <link>https://issues.apache.org/jira/browse/SPARK-16415</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When create  below table like below schema, Spark SQL error out for struct type&lt;/p&gt;

&lt;p&gt;SQL:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE EXTERNAL TABLE date_dim_temporary
  ( d_date_sk                 bigint              --not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
  , d_date_id                 string              --not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
  , d_date                    string
  , d_month_seq               &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_week_seq                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_quarter_seq             &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_year                    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_dow                     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_moy                     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_dom                     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_qoy                     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_fy_year                 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_fy_quarter_seq          &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_fy_week_seq             &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_day_name                string
  , d_quarter_name            string
  , d_holiday                 string
  , d_weekend                 string
  , d_following_holiday       string
  , d_first_dom               &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_last_dom                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_same_day_ly             &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_same_day_lq             &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
  , d_current_day             string
  , d_current_week            string
  , d_current_month           string
  , d_current_quarter         string
  , d_current_year            string
  )
  ROW FORMAT DELIMITED FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;|&apos;&lt;/span&gt;
  STORED AS TEXTFILE LOCATION &lt;span class=&quot;code-quote&quot;&gt;&apos;/user/root/benchmarks/test/data/date_dim&apos;&lt;/span&gt;

CREATE TABLE date_dim
STORED AS ORC
AS
SELECT * FROM date_dim_temporary
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Error Message:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;16/07/05 23:38:43 WARN scheduler.TaskSetManager: Lost task 0.0 in stage 198.0 (TID 677, hw-node5): java.lang.IllegalArgumentException: Error: : expected at the position 400 of &lt;span class=&quot;code-quote&quot;&gt;&apos;struct&amp;lt;d_date_sk:bigint,d_date_id:string,d_date:string,d_month_seq:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_week_seq:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_quarter_seq:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_year:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_dow:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_moy:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_dom:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_qoy:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_fy_year:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_fy_quarter_seq:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_fy_week_seq:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_day_name:string,d_quarter_name:string,d_holiday:string,d_weekend:string,d_following_holiday:string,d_first_dom:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_last_dom:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_same_day_ly:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_same_day_lq:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,d_current_day:string,... 4 more fields&amp;gt;&apos;&lt;/span&gt; but &lt;span class=&quot;code-quote&quot;&gt;&apos; &apos;&lt;/span&gt; is found.
	at org.apache.hadoop.hive.serde2.typeinfo.TypeInfoUtils$TypeInfoParser.expect(TypeInfoUtils.java:360)
	at org.apache.hadoop.hive.serde2.typeinfo.TypeInfoUtils$TypeInfoParser.expect(TypeInfoUtils.java:331)
	at org.apache.hadoop.hive.serde2.typeinfo.TypeInfoUtils$TypeInfoParser.parseType(TypeInfoUtils.java:483)
	at org.apache.hadoop.hive.serde2.typeinfo.TypeInfoUtils$TypeInfoParser.parseTypeInfos(TypeInfoUtils.java:305)
	at org.apache.hadoop.hive.serde2.typeinfo.TypeInfoUtils.getTypeInfoFromTypeString(TypeInfoUtils.java:770)
	at org.apache.spark.sql.hive.orc.OrcSerializer.&amp;lt;init&amp;gt;(OrcFileFormat.scala:184)
	at org.apache.spark.sql.hive.orc.OrcOutputWriter.&amp;lt;init&amp;gt;(OrcFileFormat.scala:220)
	at org.apache.spark.sql.hive.orc.OrcFileFormat$$anon$1.newInstance(OrcFileFormat.scala:93)
	at org.apache.spark.sql.execution.datasources.BaseWriterContainer.newOutputWriter(WriterContainer.scala:130)
	at org.apache.spark.sql.execution.datasources.DefaultWriterContainer.writeRows(WriterContainer.scala:246)
	at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand$$anonfun$run$1$$anonfun$apply$mcV$sp$1.apply(InsertIntoHadoopFsRelationCommand.scala:143)
	at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand$$anonfun$run$1$$anonfun$apply$mcV$sp$1.apply(InsertIntoHadoopFsRelationCommand.scala:143)
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:70)
	at org.apache.spark.scheduler.Task.run(Task.scala:85)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:274)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12987456">SPARK-16415</key>
            <summary>[Spark][SQL] - Failed to create table due to catalog string error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="adrian-wang">Adrian Wang</assignee>
                                    <reporter username="jameszhouyi">Yi Zhou</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2016 11:41:28 +0000</created>
                <updated>Thu, 7 Jul 2016 18:08:06 +0000</updated>
                            <resolved>Thu, 7 Jul 2016 18:08:06 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15365974" author="apachespark" created="Thu, 7 Jul 2016 11:47:05 +0000"  >&lt;p&gt;User &apos;adrian-wang&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/14089&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/14089&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30nbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>