<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:15:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-2601] py4j.Py4JException on sc.pickleFile</title>
                <link>https://issues.apache.org/jira/browse/SPARK-2601</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;test.py&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;from pyspark &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; SparkContext

text_filename = &lt;span class=&quot;code-quote&quot;&gt;&apos;README.md&apos;&lt;/span&gt;
pickled_filename = &lt;span class=&quot;code-quote&quot;&gt;&apos;pickled_file&apos;&lt;/span&gt;

sc = SparkContext(&lt;span class=&quot;code-quote&quot;&gt;&apos;local&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;Test Pipeline&apos;&lt;/span&gt;)

text_file = sc.textFile(text_filename)
text_file.saveAsPickleFile(pickled_filename)

pickled_file = sc.pickleFile(pickled_filename)
print pickled_file.first()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;bin/spark-submit test.py&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;14/07/20 13:29:21 INFO &lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;: Using Spark&apos;s &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; log4j profile: org/apache/spark/log4j-defaults.properties
14/07/20 13:29:21 INFO &lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;: Changing view acls to: kmatzen
14/07/20 13:29:21 INFO &lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;: &lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;: authentication disabled; ui acls disabled; users with view permissions: Set(kmatzen)
14/07/20 13:29:22 INFO Slf4jLogger: Slf4jLogger started
14/07/20 13:29:22 INFO Remoting: Starting remoting
14/07/20 13:29:22 INFO Remoting: Remoting started; listening on addresses :[akka.tcp:&lt;span class=&quot;code-comment&quot;&gt;//spark@en-cs-lr455-gr23.cs.cornell.edu:56405]
&lt;/span&gt;14/07/20 13:29:22 INFO Remoting: Remoting now listens on addresses: [akka.tcp:&lt;span class=&quot;code-comment&quot;&gt;//spark@en-cs-lr455-gr23.cs.cornell.edu:56405]
&lt;/span&gt;14/07/20 13:29:22 INFO SparkEnv: Registering MapOutputTracker
14/07/20 13:29:22 INFO SparkEnv: Registering BlockManagerMaster
14/07/20 13:29:22 INFO DiskBlockManager: Created local directory at /tmp/spark-local-20140720132922-85ff
14/07/20 13:29:22 INFO ConnectionManager: Bound socket to port 35372 with id = ConnectionManagerId(en-cs-lr455-gr23.cs.cornell.edu,35372)
14/07/20 13:29:22 INFO MemoryStore: MemoryStore started with capacity 294.9 MB
14/07/20 13:29:22 INFO BlockManagerMaster: Trying to register BlockManager
14/07/20 13:29:22 INFO BlockManagerMasterActor: Registering block manager en-cs-lr455-gr23.cs.cornell.edu:35372 with 294.9 MB RAM
14/07/20 13:29:22 INFO BlockManagerMaster: Registered BlockManager
14/07/20 13:29:22 INFO HttpFileServer: HTTP File server directory is /tmp/spark-4261985b-cefa-410b-913f-8e5eed6d4bb9
14/07/20 13:29:22 INFO HttpServer: Starting HTTP Server
14/07/20 13:29:27 INFO SparkUI: Started SparkUI at http:&lt;span class=&quot;code-comment&quot;&gt;//en-cs-lr455-gr23.cs.cornell.edu:4040
&lt;/span&gt;14/07/20 13:29:28 INFO Utils: Copying /home/kmatzen/spark/test.py to /tmp/spark-1f6dc228-f540-4824-b128-2d9b98a7ddcc/test.py
14/07/20 13:29:28 INFO SparkContext: Added file file:/home/kmatzen/spark/test.py at http:&lt;span class=&quot;code-comment&quot;&gt;//128.84.103.23:45332/files/test.py with timestamp 1405877368118
&lt;/span&gt;14/07/20 13:29:28 INFO MemoryStore: ensureFreeSpace(34134) called with curMem=0, maxMem=309225062
14/07/20 13:29:28 INFO MemoryStore: Block broadcast_0 stored as values in memory (estimated size 33.3 KB, free 294.9 MB)
14/07/20 13:29:28 INFO SequenceFileRDDFunctions: Saving as sequence file of type (NullWritable,BytesWritable)
14/07/20 13:29:28 WARN NativeCodeLoader: Unable to load &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;-hadoop library &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; your platform... using builtin-java classes where applicable
14/07/20 13:29:28 WARN LoadSnappy: Snappy &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; library not loaded
14/07/20 13:29:28 INFO FileInputFormat: Total input paths to process : 1
14/07/20 13:29:28 INFO SparkContext: Starting job: saveAsObjectFile at NativeMethodAccessorImpl.java:-2
14/07/20 13:29:28 INFO DAGScheduler: Got job 0 (saveAsObjectFile at NativeMethodAccessorImpl.java:-2) with 1 output partitions (allowLocal=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
14/07/20 13:29:28 INFO DAGScheduler: Final stage: Stage 0(saveAsObjectFile at NativeMethodAccessorImpl.java:-2)
14/07/20 13:29:28 INFO DAGScheduler: Parents of &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; stage: List()
14/07/20 13:29:28 INFO DAGScheduler: Missing parents: List()
14/07/20 13:29:28 INFO DAGScheduler: Submitting Stage 0 (MappedRDD[4] at saveAsObjectFile at NativeMethodAccessorImpl.java:-2), which has no missing parents
14/07/20 13:29:28 INFO DAGScheduler: Submitting 1 missing tasks from Stage 0 (MappedRDD[4] at saveAsObjectFile at NativeMethodAccessorImpl.java:-2)
14/07/20 13:29:28 INFO TaskSchedulerImpl: Adding task set 0.0 with 1 tasks
14/07/20 13:29:28 INFO TaskSetManager: Re-computing pending task lists.
14/07/20 13:29:28 INFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0, localhost, PROCESS_LOCAL, 5627 bytes)
14/07/20 13:29:28 INFO Executor: Running task 0.0 in stage 0.0 (TID 0)
14/07/20 13:29:28 INFO Executor: Fetching http:&lt;span class=&quot;code-comment&quot;&gt;//128.84.103.23:45332/files/test.py with timestamp 1405877368118
&lt;/span&gt;14/07/20 13:29:28 INFO Utils: Fetching http:&lt;span class=&quot;code-comment&quot;&gt;//128.84.103.23:45332/files/test.py to /tmp/fetchFileTemp7128156481344843652.tmp
&lt;/span&gt;14/07/20 13:29:28 INFO BlockManager: Found block broadcast_0 locally
14/07/20 13:29:28 INFO HadoopRDD: Input split: file:/home/kmatzen/spark/README.md:0+4506
14/07/20 13:29:28 INFO PythonRDD: Times: total = 218, boot = 196, init = 20, finish = 2
14/07/20 13:29:28 INFO FileOutputCommitter: Saved output of task &lt;span class=&quot;code-quote&quot;&gt;&apos;attempt_201407201329_0000_m_000000_0&apos;&lt;/span&gt; to file:/home/kmatzen/spark/pickled_file
14/07/20 13:29:28 INFO SparkHadoopWriter: attempt_201407201329_0000_m_000000_0: Committed
14/07/20 13:29:28 INFO Executor: Finished task 0.0 in stage 0.0 (TID 0). 1755 bytes result sent to driver
14/07/20 13:29:28 INFO TaskSetManager: Finished task 0.0 in stage 0.0 (TID 0) in 431 ms on localhost (1/1)
14/07/20 13:29:28 INFO TaskSchedulerImpl: Removed TaskSet 0.0, whose tasks have all completed, from pool
14/07/20 13:29:28 INFO DAGScheduler: Stage 0 (saveAsObjectFile at NativeMethodAccessorImpl.java:-2) finished in 0.454 s
14/07/20 13:29:28 INFO SparkContext: Job finished: saveAsObjectFile at NativeMethodAccessorImpl.java:-2, took 0.518879869 s
14/07/20 13:29:28 INFO MemoryStore: ensureFreeSpace(34158) called with curMem=34134, maxMem=309225062
14/07/20 13:29:28 INFO MemoryStore: Block broadcast_1 stored as values in memory (estimated size 33.4 KB, free 294.8 MB)
14/07/20 13:29:28 INFO FileInputFormat: Total input paths to process : 1
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/kmatzen/spark/test.py&quot;&lt;/span&gt;, line 12, in &amp;lt;module&amp;gt;
    print pickled_file.first()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/kmatzen/spark/python/pyspark/rdd.py&quot;&lt;/span&gt;, line 984, in first
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; self.take(1)[0]
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/kmatzen/spark/python/pyspark/rdd.py&quot;&lt;/span&gt;, line 970, in take
    res = self.context.runJob(self, takeUpToNumLeft, p, True)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/kmatzen/spark/python/pyspark/context.py&quot;&lt;/span&gt;, line 714, in runJob
    it = self._jvm.PythonRDD.runJob(self._jsc.sc(), mappedRDD._jrdd, javaPartitions, allowLocal)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/kmatzen/spark/python/pyspark/rdd.py&quot;&lt;/span&gt;, line 1600, in _jrdd
    class_tag)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/kmatzen/spark/python/lib/py4j-0.8.1-src.zip/py4j/java_gateway.py&quot;&lt;/span&gt;, line 669, in __call__
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/kmatzen/spark/python/lib/py4j-0.8.1-src.zip/py4j/protocol.py&quot;&lt;/span&gt;, line 304, in get_return_value
py4j.protocol.Py4JError: An error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; calling None.org.apache.spark.api.python.PythonRDD. Trace:
py4j.Py4JException: Constructor org.apache.spark.api.python.PythonRDD([&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.spark.rdd.FlatMappedRDD, class [B, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;java.util.HashMap, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;java.util.ArrayList, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;java.lang.&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;java.util.ArrayList, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.spark.Accumulator, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;scala.reflect.ManifestFactory$$anon$2]) does not exist
	at py4j.reflection.ReflectionEngine.getConstructor(ReflectionEngine.java:184)
	at py4j.reflection.ReflectionEngine.getConstructor(ReflectionEngine.java:202)
	at py4j.Gateway.invoke(Gateway.java:213)
	at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:79)
	at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:68)
	at py4j.GatewayConnection.run(GatewayConnection.java:207)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks like this is related:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-1034&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-1034&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12728437">SPARK-2601</key>
            <summary>py4j.Py4JException on sc.pickleFile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joshrosen">Josh Rosen</assignee>
                                    <reporter username="kmatzen">Kevin Matzen</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Jul 2014 17:33:53 +0000</created>
                <updated>Sun, 27 Jul 2014 00:37:21 +0000</updated>
                            <resolved>Sun, 27 Jul 2014 00:37:21 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14075498" author="apachespark" created="Sat, 26 Jul 2014 22:40:41 +0000"  >&lt;p&gt;User &apos;JoshRosen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/1605&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/1605&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12704777">SPARK-1034</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>406513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xyd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>406533</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>