<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:31:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-10219] Error when additional options provided as variable in write.df</title>
                <link>https://issues.apache.org/jira/browse/SPARK-10219</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Opened a SparkR shell&lt;/p&gt;

&lt;p&gt;Created a df using &lt;br/&gt;
&amp;gt; df &amp;lt;- jsonFile(sqlContext, &quot;examples/src/main/resources/people.json&quot;)&lt;/p&gt;

&lt;p&gt;Assigned a variable like below&lt;br/&gt;
&amp;gt; mode &amp;lt;- &quot;append&quot;&lt;/p&gt;

&lt;p&gt;When write.df called using below statement got the mentioned error&lt;br/&gt;
&amp;gt; write.df(df, source=&quot;org.apache.spark.sql.parquet&quot;, path=par_path, option=mode)&lt;/p&gt;

&lt;p&gt;Error in writeType(con, type) : Unsupported type for serialization name&lt;/p&gt;

&lt;p&gt;Whereas mode is passed as &quot;append&quot; itself, i.e. not via mode variable as below everything works fine&lt;/p&gt;

&lt;p&gt;&amp;gt; write.df(df, source=&quot;org.apache.spark.sql.parquet&quot;, path=par_path, option=&quot;append&quot;)&lt;/p&gt;

&lt;p&gt;Note: For parquet it is not needed to hanve option. But we are using Spark Salesforce package (&lt;a href=&quot;http://spark-packages.org/package/springml/spark-salesforce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://spark-packages.org/package/springml/spark-salesforce&lt;/a&gt;) which require additional options to be passed.  &lt;/p&gt;</description>
                <environment>&lt;p&gt;SparkR shell&lt;/p&gt;</environment>
        <key id="12858563">SPARK-10219</key>
            <summary>Error when additional options provided as variable in write.df</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shivaram">Shivaram Venkataraman</assignee>
                                    <reporter username="samalexg">Samuel Alexander</reporter>
                        <labels>
                            <label>spark-shell</label>
                            <label>sparkR</label>
                    </labels>
                <created>Tue, 25 Aug 2015 09:46:42 +0000</created>
                <updated>Tue, 29 Dec 2015 09:10:45 +0000</updated>
                            <resolved>Thu, 27 Aug 2015 05:27:56 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14711642" author="shivaram" created="Tue, 25 Aug 2015 17:11:52 +0000"  >&lt;p&gt;I think thats happening because `mode` is actually an argument name that is taken in by the write.df method &amp;#8211; So I am not sure you need option=mode, but just mode=mode or mode=&quot;append&quot; should work ?&lt;/p&gt;</comment>
                            <comment id="14713027" author="samalexg" created="Wed, 26 Aug 2015 12:27:10 +0000"  >&lt;p&gt;I just provided append as an example. My intention is not to set the mode. &lt;/p&gt;

&lt;p&gt;I just want to pass additional parameter to other datasource, like spark-csv or spark-salesforce. For example in spark-csv there is an option called header. When we use the below to read a csv it works&lt;/p&gt;

&lt;p&gt;header&lt;br/&gt;
&amp;gt; write.df(df, source=&quot;com.databricks.spark.csv&quot;, path=&quot;cars.csv&quot;, header=&quot;true&quot;)&lt;/p&gt;

&lt;p&gt;whereas when we define a variable called header and then use it in write.df like below, it didn&apos;t work&lt;br/&gt;
&amp;gt; header &amp;lt;- &quot;true&quot;&lt;br/&gt;
&amp;gt; write.df(df, source=&quot;com.databricks.spark.csv&quot;, path=&quot;cars.csv&quot;, header=header)&lt;/p&gt;</comment>
                            <comment id="14715186" author="shivaram" created="Wed, 26 Aug 2015 17:19:58 +0000"  >&lt;p&gt;Thanks I see the problem &amp;#8211; Not sure what is causing it yet, but I think its happening when we convert var-args to pass it to Scala side.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunrui&quot; class=&quot;user-hover&quot; rel=&quot;sunrui&quot;&gt;sunrui&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14715233" author="shivaram" created="Wed, 26 Aug 2015 17:56:49 +0000"  >&lt;p&gt;I think I tracked this down &amp;#8211; This is happening because of the way we are parsing varargs. I think we should just be using `pairs &amp;lt;- list(...)` instead of   `as.list(substitute(list(...)))&lt;span class=&quot;error&quot;&gt;&amp;#91;-1L&amp;#93;&lt;/span&gt;` in `varArgsToEnv` in utils.R &lt;/p&gt;</comment>
                            <comment id="14715852" author="apachespark" created="Thu, 27 Aug 2015 01:02:05 +0000"  >&lt;p&gt;User &apos;shivaram&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8475&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8475&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14716111" author="shivaram" created="Thu, 27 Aug 2015 05:27:56 +0000"  >&lt;p&gt;Issue resolved by pull request 8475&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8475&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8475&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jbxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>