<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:30:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-7726] Maven Install Breaks When Upgrading Scala 2.11.2--&gt;[2.11.3 or higher]</title>
                <link>https://issues.apache.org/jira/browse/SPARK-7726</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;This one took a long time to track down. The Maven install phase is part of our release process. It runs the &quot;scala:doc&quot; target to generate doc jars. Between Scala 2.11.2 and Scala 2.11.3, the behavior of this plugin changed in a way that breaks our build. In both cases, it returned an error (there has been a long running error here that we&apos;ve always ignored), however in 2.11.3 that error became fatal and failed the entire build process. The upgrade occurred in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-7092&quot; title=&quot;Update spark scala version to 2.11.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-7092&quot;&gt;&lt;del&gt;SPARK-7092&lt;/del&gt;&lt;/a&gt;. Here is a simple reproduction:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;./dev/change-version-to-2.11.sh
mvn clean install -pl network/common -pl network/shuffle -DskipTests -Dscala-2.11
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;This command exits success when Spark is at Scala 2.11.2 and fails with 2.11.3 or higher. In either case an error is printed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] 
[INFO] --- scala-maven-plugin:3.2.0:doc-jar (attach-scaladocs) @ spark-network-shuffle_2.11 ---
/Users/pwendell/Documents/spark/network/shuffle/src/main/java/org/apache/spark/network/shuffle/protocol/UploadBlock.java:56: error: not found: type Type
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; Type type() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Type.UPLOAD_BLOCK; }
            ^
/Users/pwendell/Documents/spark/network/shuffle/src/main/java/org/apache/spark/network/shuffle/protocol/StreamHandle.java:37: error: not found: type Type
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; Type type() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Type.STREAM_HANDLE; }
            ^
/Users/pwendell/Documents/spark/network/shuffle/src/main/java/org/apache/spark/network/shuffle/protocol/RegisterExecutor.java:44: error: not found: type Type
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; Type type() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Type.REGISTER_EXECUTOR; }
            ^
/Users/pwendell/Documents/spark/network/shuffle/src/main/java/org/apache/spark/network/shuffle/protocol/OpenBlocks.java:40: error: not found: type Type
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; Type type() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Type.OPEN_BLOCKS; }
            ^
model contains 22 documentable templates
four errors found
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ideally we&apos;d just dig in and fix this error. Unfortunately it&apos;s a very confusing error and I have no idea why it is appearing. I&apos;d propose reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-7092&quot; title=&quot;Update spark scala version to 2.11.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-7092&quot;&gt;&lt;del&gt;SPARK-7092&lt;/del&gt;&lt;/a&gt; in the mean time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830956">SPARK-7726</key>
            <summary>Maven Install Breaks When Upgrading Scala 2.11.2--&gt;[2.11.3 or higher]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dragos">Dragos Dascalita Haut</assignee>
                                    <reporter username="pwendell">Patrick Wendell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 09:21:29 +0000</created>
                <updated>Tue, 11 Aug 2015 05:39:04 +0000</updated>
                            <resolved>Tue, 19 May 2015 19:15:17 +0000</resolved>
                                                    <fixVersion>1.4.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14550142" author="dragos" created="Tue, 19 May 2015 09:50:06 +0000"  >&lt;p&gt;This fix in 2.11.3 looks like the culprit (meaning that the error was always there, but ignored): &lt;a href=&quot;https://issues.scala-lang.org/browse/SI-8885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.scala-lang.org/browse/SI-8885&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14550170" author="dragos" created="Tue, 19 May 2015 10:10:54 +0000"  >&lt;p&gt;The problem is different visibility rules in Scala and Java w.r.t to statics (and the fact that scaladoc is invoked on Java sources).&lt;/p&gt;

&lt;p&gt;In this particular case, `Type` is a static enumeration inherited from `BlockTransferMessage`. In Scala statics are part of the companion object, and not visible without an import. Since scaladoc needs to resolve all types it documents, this comes up as an error.&lt;/p&gt;

&lt;p&gt;I fixed this by adding a static import in all those files&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; org.apache.spark.network.shuffle.protocol.BlockTransferMessage.Type;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Spark Project Networking ........................... SUCCESS [ 11.395 s]
[INFO] Spark Project Shuffle Streaming Service ............ SUCCESS [  5.460 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 17.582 s
[INFO] Finished at: 2015-05-19T12:07:01+02:00
[INFO] Final Memory: 42M/456M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should I open a pull request reverting the reverting commit and add this fix? Or you&apos;d like to suppress scaladoc running on Java files (assuming that&apos;s not intentional...)&lt;/p&gt;</comment>
                            <comment id="14550193" author="apachespark" created="Tue, 19 May 2015 10:22:03 +0000"  >&lt;p&gt;User &apos;dragos&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6260&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6260&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14550780" author="srowen" created="Tue, 19 May 2015 17:07:11 +0000"  >&lt;p&gt;Hoping to get this back in for 1.4.0.&lt;/p&gt;</comment>
                            <comment id="14680885" author="pwendell" created="Mon, 10 Aug 2015 22:33:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragos&quot; class=&quot;user-hover&quot; rel=&quot;dragos&quot;&gt;dragos&lt;/a&gt; This is cropping up again when trying to create a release candidate for Spark 1.5:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://amplab.cs.berkeley.edu/jenkins/view/Spark-Packaging/job/Spark-Release-All-Java7/26/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://amplab.cs.berkeley.edu/jenkins/view/Spark-Packaging/job/Spark-Release-All-Java7/26/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14681277" author="apachespark" created="Tue, 11 Aug 2015 05:39:04 +0000"  >&lt;p&gt;User &apos;pwendell&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8095&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8095&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12830249">SPARK-7670</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12823406">SPARK-7092</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ex13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12329359">1.4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>