<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:04:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-27021] Leaking Netty event loop group for shuffle chunk fetch requests</title>
                <link>https://issues.apache.org/jira/browse/SPARK-27021</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The extra event loop group created for&#160;handling shuffle chunk fetch requests are never closed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13218893">SPARK-27021</key>
            <summary>Leaking Netty event loop group for shuffle chunk fetch requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="attilapiros">Attila Zsolt Piros</assignee>
                                    <reporter username="attilapiros">Attila Zsolt Piros</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Mar 2019 14:13:12 +0000</created>
                <updated>Fri, 20 Dec 2019 09:59:39 +0000</updated>
                            <resolved>Tue, 5 Mar 2019 20:31:28 +0000</resolved>
                                    <version>2.4.0</version>
                    <version>2.4.1</version>
                    <version>3.0.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16781707" author="attilapiros" created="Fri, 1 Mar 2019 14:13:57 +0000"  >&lt;p&gt;I am already working on it.&lt;/p&gt;</comment>
                            <comment id="16784875" author="vanzin" created="Tue, 5 Mar 2019 20:31:28 +0000"  >&lt;p&gt;Issue resolved by pull request 23930&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/23930&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/23930&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16995333" author="roncenzhao" created="Fri, 13 Dec 2019 03:49:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=attilapiros&quot; class=&quot;user-hover&quot; rel=&quot;attilapiros&quot;&gt;attilapiros&lt;/a&gt;&#160; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;I hava two problems:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;whether this bug also affect spark2.4.3 or not ?&#160;&lt;/li&gt;
	&lt;li&gt;whether this bug cause the NodeManager OOM?&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Look forward to your reply~&#160;&lt;/p&gt;</comment>
                            <comment id="16995538" author="attilapiros" created="Fri, 13 Dec 2019 10:48:19 +0000"  >
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roncenzhao&quot; class=&quot;user-hover&quot; rel=&quot;roncenzhao&quot;&gt;roncenzhao&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;yes&lt;/li&gt;
	&lt;li&gt;I do not think so. This bug mostly effects the test system as test execution is the place where multiple TransportContext, NettyRpcEnv, etc ... are created and not closed correctly.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16996445" author="roncenzhao" created="Sat, 14 Dec 2019 15:25:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=attilapiros&quot; class=&quot;user-hover&quot; rel=&quot;attilapiros&quot;&gt;attilapiros&lt;/a&gt;&#160;Thank you.&lt;/p&gt;

&lt;p&gt;We have one problem about the memory leak of `StreamState` in `OneForOneStreamManager` which cause the `NodeManager` OOM. Most of the memory in NM is used by `StreamState`, like this:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12988859/12988859_image-2019-12-14-23-23-50-384.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This may be caused by the shuffle service because we find the `StreamState` include some application which were already finished. Would you have any idea about this problem? Thanks~&lt;/p&gt;</comment>
                            <comment id="16996571" author="attilapiros" created="Sat, 14 Dec 2019 21:27:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roncenzhao&quot; class=&quot;user-hover&quot; rel=&quot;roncenzhao&quot;&gt;roncenzhao&lt;/a&gt;&#160;it seems to me you bumped into&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-26418&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-26418&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16997288" author="roncenzhao" created="Mon, 16 Dec 2019 13:31:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=attilapiros&quot; class=&quot;user-hover&quot; rel=&quot;attilapiros&quot;&gt;attilapiros&lt;/a&gt;&#160;Thanks. The issue is the same problem we have encountered.&lt;/p&gt;</comment>
                            <comment id="17000782" author="sandeep.katta2007" created="Fri, 20 Dec 2019 09:59:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hyukjin.kwon&quot; class=&quot;user-hover&quot; rel=&quot;hyukjin.kwon&quot;&gt;hyukjin.kwon&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dongjoon&quot; class=&quot;user-hover&quot; rel=&quot;dongjoon&quot;&gt;dongjoon&lt;/a&gt;&#160;this issue is not back ported to branch-2.4. Please check it is required or not&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12988859" name="image-2019-12-14-23-23-50-384.png" size="313384" author="roncenzhao" created="Sat, 14 Dec 2019 15:23:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z008ds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>