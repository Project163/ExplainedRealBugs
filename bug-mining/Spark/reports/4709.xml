<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:52:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-9002] KryoSerializer initialization does not include &apos;Array[Int]&apos;</title>
                <link>https://issues.apache.org/jira/browse/SPARK-9002</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The object KryoSerializer (inside KryoRegistrator.scala) contains a list of classes that are automatically registered with Kryo.  That list includes:&lt;br/&gt;
Array[Byte], Array[Long], and Array[Short].  Array[Int] is missing from that list.  Can&apos;t think of any good reason it shouldn&apos;t also be included.&lt;/p&gt;

&lt;p&gt;Note: This is first time creating an issue or contributing code to an apache project. Apologies if I&apos;m not following the process correct. Appreciate any guidance or assistance.&lt;/p&gt;</description>
                <environment>&lt;p&gt;MacBook Pro, OS X 10.10.4, Spark 1.4.0, master=local&lt;span class=&quot;error&quot;&gt;&amp;#91;*&amp;#93;&lt;/span&gt;, IntelliJ IDEA.&lt;/p&gt;</environment>
        <key id="12844388">SPARK-9002</key>
            <summary>KryoSerializer initialization does not include &apos;Array[Int]&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rake">Randy Kerber</reporter>
                        <labels>
                            <label>easyfix</label>
                            <label>newbie</label>
                    </labels>
                <created>Sat, 11 Jul 2015 19:33:50 +0000</created>
                <updated>Mon, 3 Apr 2017 09:16:19 +0000</updated>
                            <resolved>Mon, 3 Apr 2017 09:16:19 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="14623614" author="joshrosen" created="Sat, 11 Jul 2015 22:38:40 +0000"  >&lt;p&gt;Just curious, did you actually run into a case where this caused a crash / bug?&lt;/p&gt;</comment>
                            <comment id="14623635" author="rake" created="Sun, 12 Jul 2015 00:12:45 +0000"  >&lt;p&gt;Yes, I get this error message:&lt;/p&gt;

&lt;p&gt;com.esotericsoftware.kryo.KryoException: java.lang.IllegalArgumentException: Class is not registered: int[]&lt;/p&gt;


&lt;p&gt;When I add the following to config of my SparkConf, that error goes away:&lt;/p&gt;

&lt;p&gt;    sparkConf.registerKryoClasses( Array( classOf[Array&lt;span class=&quot;error&quot;&gt;&amp;#91;Int&amp;#93;&lt;/span&gt;] ) )&lt;/p&gt;
</comment>
                            <comment id="14636832" author="benfradet" created="Wed, 22 Jul 2015 12:34:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rake&quot; class=&quot;user-hover&quot; rel=&quot;rake&quot;&gt;rake&lt;/a&gt; are you planning on opening a PR?&lt;/p&gt;</comment>
                            <comment id="14639940" author="rake" created="Fri, 24 Jul 2015 05:14:05 +0000"  >&lt;p&gt;That&apos;s what I was thinking when I created the Issue.  Looking at KryoSerializer object&apos;s toRegister(.) method it looked like Array&lt;span class=&quot;error&quot;&gt;&amp;#91;Int&amp;#93;&lt;/span&gt; class was just inadvertently missed, so I thought this might be a perfect simple fix for a first contribution.&lt;/p&gt;

&lt;p&gt;But then as I continued my attempt to transition from Java serializer to Kryo, I kept hitting new &quot;Class is not registered&quot; errors, one after one.  First &quot;Array&lt;span class=&quot;error&quot;&gt;&amp;#91;String&amp;#93;&lt;/span&gt;&quot;.  Then &quot;Array&lt;span class=&quot;error&quot;&gt;&amp;#91;Map.empty&amp;#93;&lt;/span&gt;&quot;, then &quot;Array&lt;span class=&quot;error&quot;&gt;&amp;#91;Seq.empty&amp;#93;&lt;/span&gt;&quot;, then &quot;Array&lt;span class=&quot;error&quot;&gt;&amp;#91;TreeMap&amp;#93;&lt;/span&gt;&quot;, plus several other flavors of &quot;empty&quot; collection classes, &quot;Array&lt;span class=&quot;error&quot;&gt;&amp;#91;Tuple3&amp;#93;&lt;/span&gt;&quot;, DataFrame, Row, even Array&lt;span class=&quot;error&quot;&gt;&amp;#91;GenericRowWithSchema&amp;#93;&lt;/span&gt;.  Like swatting cockroaches &amp;#8211; no end to it.  Started to wonder if this was a futile process.&lt;/p&gt;

&lt;p&gt;I could use some  guidance here as to how it makes sense to proceed.  Is it worthwhile to add the 15-20 classes I&apos;ve found so far, knowing there will almost certainly be more?  Or drop it, because this route cannot possibly be a complete fix, and/or a more comprehensive solution for Kryo is already in the works?&lt;/p&gt;</comment>
                            <comment id="15949334" author="apachespark" created="Thu, 30 Mar 2017 16:23:03 +0000"  >&lt;p&gt;User &apos;dbolshak&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/17482&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/17482&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15949343" author="bolshakov.denis@gmail.com" created="Thu, 30 Mar 2017 16:26:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rake&quot; class=&quot;user-hover&quot; rel=&quot;rake&quot;&gt;rake&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=BenFradet&quot; class=&quot;user-hover&quot; rel=&quot;BenFradet&quot;&gt;BenFradet&lt;/a&gt; Folks, could you please review pull request?&lt;/p&gt;</comment>
                            <comment id="15953169" author="srowen" created="Mon, 3 Apr 2017 09:16:19 +0000"  >&lt;p&gt;Issue resolved by pull request 17482&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/17482&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/17482&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2h527:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>