<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:05:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-27872] Driver and executors use a different service account breaking pull secrets</title>
                <link>https://issues.apache.org/jira/browse/SPARK-27872</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Driver and executors use different service accounts in case the driver has one set up which is different than default: &lt;a href=&quot;https://gist.github.com/skonto/9beb5afa2ec4659ba563cbb0a8b9c4dd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/skonto/9beb5afa2ec4659ba563cbb0a8b9c4dd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This makes the executor pods fail when the user links the driver service account with a pull secret: &lt;a href=&quot;https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/#add-imagepullsecrets-to-a-service-account&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/#add-imagepullsecrets-to-a-service-account&lt;/a&gt;.&#160;Executors will not use the driver&apos;s service account and will not be able to get the secret in order to pull the related image.&#160;&lt;/p&gt;

&lt;p&gt;I am not sure what is the assumption here for using the default account for executors, probably&#160;because of the fact that this account is limited (btw executors dont create resources)? This is an inconsistency that could be&#160;worked around with the pod template feature in Spark 3.0.0 but it breaks pull secrets and in general I think its a bug to have it.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13236226">SPARK-27872</key>
            <summary>Driver and executors use a different service account breaking pull secrets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skonto">Stavros Kontopoulos</assignee>
                                    <reporter username="skonto">Stavros Kontopoulos</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 May 2019 12:19:23 +0000</created>
                <updated>Mon, 12 Oct 2020 03:38:40 +0000</updated>
                            <resolved>Sun, 9 Jun 2019 21:29:21 +0000</resolved>
                                    <version>2.4.3</version>
                    <version>3.0.0</version>
                                    <fixVersion>2.4.8</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>Kubernetes</component>
                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16850804" author="skonto" created="Wed, 29 May 2019 12:21:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eje&quot; class=&quot;user-hover&quot; rel=&quot;eje&quot;&gt;eje&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liyinan926&quot; class=&quot;user-hover&quot; rel=&quot;liyinan926&quot;&gt;liyinan926&lt;/a&gt; I can proceed with a PR to fix it if we agree, thoughts?&lt;/p&gt;</comment>
                            <comment id="16851026" author="eje" created="Wed, 29 May 2019 16:19:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=skonto&quot; class=&quot;user-hover&quot; rel=&quot;skonto&quot;&gt;skonto&lt;/a&gt;, executors were never given a service account (or, &quot;default&quot;) mostly on the principle of least permissions, however I see no problem with providing them the same service account as the driver if it is required for some purpose. Definitely feel free to submit a PR for review.&lt;/p&gt;</comment>
                            <comment id="16859576" author="srowen" created="Sun, 9 Jun 2019 21:29:21 +0000"  >&lt;p&gt;Issue resolved by pull request 24748&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/24748&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/24748&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17200438" author="apachespark" created="Wed, 23 Sep 2020 00:00:17 +0000"  >&lt;p&gt;User &apos;nssalian&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29844&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29844&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17200439" author="apachespark" created="Wed, 23 Sep 2020 00:00:43 +0000"  >&lt;p&gt;User &apos;nssalian&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29844&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29844&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17202440" author="apachespark" created="Fri, 25 Sep 2020 22:06:13 +0000"  >&lt;p&gt;User &apos;nssalian&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29876&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29876&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17202452" author="apachespark" created="Fri, 25 Sep 2020 23:06:29 +0000"  >&lt;p&gt;User &apos;nssalian&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29877&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29877&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17202453" author="apachespark" created="Fri, 25 Sep 2020 23:06:41 +0000"  >&lt;p&gt;User &apos;nssalian&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29877&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29877&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z036pc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>