<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:25:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-35392] Flaky Test: GaussianMixture at ml/clustering.py and Word2Vec at ml/feature.py</title>
                <link>https://issues.apache.org/jira/browse/SPARK-35392</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Some python tests should be updated/removed, because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-35295&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SPARK-35295&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/runs/2568540411&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/runs/2568540411&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
**********************************************************************
File &lt;span class=&quot;code-quote&quot;&gt;&quot;/__w/spark/spark/python/pyspark/ml/clustering.py&quot;&lt;/span&gt;, line 276, in __main__.GaussianMixture
Failed example:
    summary.logLikelihood
Expected:
    65.02945...
Got:
    93.36008975083433
**********************************************************************
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
**********************************************************************
File &lt;span class=&quot;code-quote&quot;&gt;&quot;/__w/spark/spark/python/pyspark/ml/feature.py&quot;&lt;/span&gt;, line 4681, in __main__.Word2Vec
Failed example:
    model.getVectors().show()
Expected:
    +----+--------------------+
    |word|              vector|
    +----+--------------------+
    |   a|[0.09511678665876...|
    |   b|[-1.2028766870498...|
    |   c|[0.30153277516365...|
    +----+--------------------+
    ...
Got:
    +----+--------------------+
    |word|              vector|
    +----+--------------------+
    |   a|[0.09511695802211...|
    |   b|[-1.2028766870498...|
    |   c|[0.30153274536132...|
    +----+--------------------+
    &amp;lt;BLANKLINE&amp;gt;
**********************************************************************
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13378229">SPARK-35392</key>
            <summary>Flaky Test: GaussianMixture at ml/clustering.py and Word2Vec at ml/feature.py</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="podongfeng">Ruifeng Zheng</assignee>
                                    <reporter username="gurwls223">Hyukjin Kwon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 May 2021 03:27:43 +0000</created>
                <updated>Mon, 12 Dec 2022 18:10:55 +0000</updated>
                            <resolved>Thu, 13 May 2021 13:24:55 +0000</resolved>
                                    <version>3.2.0</version>
                                    <fixVersion>3.2.0</fixVersion>
                                    <component>ML</component>
                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17343679" author="gurwls223" created="Thu, 13 May 2021 03:28:47 +0000"  >&lt;p&gt;cc  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ruifengz&quot; class=&quot;user-hover&quot; rel=&quot;ruifengz&quot;&gt;ruifengz&lt;/a&gt; per &lt;a href=&quot;https://github.com/apache/spark/commit/111e9038d88feef63806457796f3b633f41ef32b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/111e9038d88feef63806457796f3b633f41ef32b&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viirya&quot; class=&quot;user-hover&quot; rel=&quot;viirya&quot;&gt;viirya&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="17343680" author="gurwls223" created="Thu, 13 May 2021 03:31:43 +0000"  >&lt;p&gt;I see the first test failure at &lt;a href=&quot;https://github.com/apache/spark/commit/101b0cc313cb4a6fb0027d470f313314d77bea08&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/101b0cc313cb4a6fb0027d470f313314d77bea08&lt;/a&gt; .. but doesn&apos;t look related from a cursory look.&lt;/p&gt;</comment>
                            <comment id="17343684" author="podongfeng" created="Thu, 13 May 2021 03:52:12 +0000"  >&lt;p&gt;This GMM test is highly unstable, it tend to fail if: change number of partitions or just change the way to compute the sum of weights.&lt;/p&gt;

&lt;p&gt;I think we can just disable this check of &lt;tt&gt;summary.logLikelihood&lt;/tt&gt; for now, and use another test in the future.++&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;as to this failure, is it related to &lt;a href=&quot;https://github.com/apache/spark/pull/32415?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/32415?&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17343689" author="gurwls223" created="Thu, 13 May 2021 04:00:56 +0000"  >&lt;p&gt;I think disabling is fine for now if it&apos;s tricky to fix.&lt;/p&gt;</comment>
                            <comment id="17343691" author="srowen" created="Thu, 13 May 2021 04:02:51 +0000"  >&lt;p&gt;Yes disable it. Yes almost certainly because of that change; we found that during testing it but tests did pass&lt;/p&gt;</comment>
                            <comment id="17343695" author="dongjoon" created="Thu, 13 May 2021 04:13:02 +0000"  >&lt;p&gt;+1 for disabling, too.&lt;/p&gt;</comment>
                            <comment id="17343718" author="gurwls223" created="Thu, 13 May 2021 06:01:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=podongfeng&quot; class=&quot;user-hover&quot; rel=&quot;podongfeng&quot;&gt;podongfeng&lt;/a&gt; would you mind making a quick PR please?&lt;/p&gt;</comment>
                            <comment id="17343721" author="podongfeng" created="Thu, 13 May 2021 06:05:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hyukjin.kwon&quot; class=&quot;user-hover&quot; rel=&quot;hyukjin.kwon&quot;&gt;hyukjin.kwon&lt;/a&gt; OK, I will send a PR&lt;/p&gt;</comment>
                            <comment id="17343722" author="gurwls223" created="Thu, 13 May 2021 06:09:33 +0000"  >&lt;p&gt;Thanks man!&lt;/p&gt;</comment>
                            <comment id="17343724" author="apachespark" created="Thu, 13 May 2021 06:13:59 +0000"  >&lt;p&gt;User &apos;zhengruifeng&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/32533&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/32533&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17343856" author="gurwls223" created="Thu, 13 May 2021 13:24:55 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/spark/pull/32533&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/32533&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13376366">SPARK-35295</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qzu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>