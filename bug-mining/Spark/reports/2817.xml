<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:35:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-11859] Regex for master URL for Mesos accepts incorrect zk:// prefix</title>
                <link>https://issues.apache.org/jira/browse/SPARK-11859</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;&lt;tt&gt;val MESOS_REGEX = &quot;&quot;&quot;(mesos|zk)://.*&quot;&quot;&quot;.r&lt;/tt&gt; (see &lt;a href=&quot;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/SparkContext.scala#L2748&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/SparkContext.scala#L2748&lt;/a&gt;) accepts &quot;zk://...&quot; as the master URL for Mesos.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;scala&amp;gt; val MESOS_REGEX = &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;&quot;(mesos|zk):&lt;span class=&quot;code-comment&quot;&gt;//.*&quot;&lt;/span&gt;&quot;&quot;.r
&lt;/span&gt;MESOS_REGEX: scala.util.matching.Regex = (mesos|zk):&lt;span class=&quot;code-comment&quot;&gt;//.*
&lt;/span&gt;
scala&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;zk:&lt;span class=&quot;code-comment&quot;&gt;//aaa&quot;&lt;/span&gt; match { &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; mesosUrl @ MESOS_REGEX(_) =&amp;gt; println(mesosUrl) }
&lt;/span&gt;zk:&lt;span class=&quot;code-comment&quot;&gt;//aaa&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, &lt;tt&gt;zk://localhost:5050&lt;/tt&gt; master URL breaks spark-shell:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&#10140;  spark git:(master) &#10007; ./bin/spark-shell --master zk:&lt;span class=&quot;code-comment&quot;&gt;//localhost:5050
&lt;/span&gt;Error: Master must start with yarn, spark, mesos, or local
Run with --help &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; usage help or --verbose &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; debug output
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It should probably be &lt;tt&gt;mesos://zk://localhost:5050&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment>&lt;p&gt;the latest sources&lt;/p&gt;</environment>
        <key id="12914597">SPARK-11859</key>
            <summary>Regex for master URL for Mesos accepts incorrect zk:// prefix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tawan">tawan</assignee>
                                    <reporter username="jlaskowski">Jacek Laskowski</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Nov 2015 20:13:23 +0000</created>
                <updated>Mon, 30 Nov 2015 12:14:51 +0000</updated>
                            <resolved>Mon, 30 Nov 2015 09:26:55 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.6.0</fixVersion>
                                    <component>Mesos</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15016671" author="srowen" created="Fri, 20 Nov 2015 11:57:07 +0000"  >&lt;p&gt;Are you saying it accepts invalid master URLs, or fails to accept a valid one? what is the correct syntax and do you have a reference for it?&lt;/p&gt;</comment>
                            <comment id="15016705" author="jlaskowski" created="Fri, 20 Nov 2015 12:19:51 +0000"  >&lt;p&gt;Sorry for not being clear - the regex says &lt;tt&gt;zk://&lt;/tt&gt; is correct while &lt;tt&gt;spark-submit&lt;/tt&gt; doesn&apos;t accept it so I believe one is wrong or the other. I could also misread the regex &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15016715" author="srowen" created="Fri, 20 Nov 2015 12:26:21 +0000"  >&lt;p&gt;OK yeah here&apos;s the key bit from &lt;a href=&quot;http://spark.apache.org/docs/latest/running-on-mesos.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://spark.apache.org/docs/latest/running-on-mesos.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;The Master URLs &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Mesos are in the form mesos:&lt;span class=&quot;code-comment&quot;&gt;//host:5050 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a single-master Mesos cluster, or mesos://zk://host:2181 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a multi-master Mesos cluster using ZooKeeper.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks like the code and the docs indeed assume the URLs start with &lt;tt&gt;mesos://&lt;/tt&gt; so I think the regex is wrong yes.&lt;/p&gt;</comment>
                            <comment id="15020563" author="apachespark" created="Sat, 21 Nov 2015 16:40:02 +0000"  >&lt;p&gt;User &apos;toddwan&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/9886&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/9886&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15031540" author="srowen" created="Mon, 30 Nov 2015 09:26:55 +0000"  >&lt;p&gt;Issue resolved by pull request 9886&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/9886&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/9886&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ontz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>