<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:31:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-39203] Fix remote table location based on database location</title>
                <link>https://issues.apache.org/jira/browse/SPARK-39203</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;We have HDFS and Hive on cluster A. We have Spark on cluster B and need to read data from cluster A. The table location is incorrect:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;spark-sql&amp;gt; desc formatted  default.test_table;
fas_acct_id         	decimal(18,0)
fas_acct_cd         	string
cmpny_cd            	string
entity_id           	string
cre_date            	date
cre_user            	string
upd_date            	timestamp
upd_user            	string

# Detailed Table Information
Database             default
Table               	test_table
Type                	EXTERNAL
Provider            	parquet
Statistics          	25310025737 bytes
Location            	/user/hive/warehouse/test_table
Serde Library       	org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
InputFormat         	org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
OutputFormat        	org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
Storage Properties  	[compression=snappy]

spark-sql&amp;gt; desc database default;
Namespace Name	default
Comment
Location	viewfs://clusterA/user/hive/warehouse/
Owner     hive_dba
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The correct table location should be viewfs://clusterA/user/hive/warehouse/test_table.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13445307">SPARK-39203</key>
            <summary>Fix remote table location based on database location</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yumwang">Yuming Wang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 May 2022 03:25:04 +0000</created>
                <updated>Fri, 21 Apr 2023 01:30:10 +0000</updated>
                                            <version>2.2.0</version>
                    <version>2.3.0</version>
                    <version>2.4.0</version>
                    <version>3.0.0</version>
                    <version>3.1.0</version>
                    <version>3.1.1</version>
                    <version>3.2.0</version>
                    <version>3.3.0</version>
                    <version>3.4.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17540408" author="apachespark" created="Sat, 21 May 2022 10:23:34 +0000"  >&lt;p&gt;User &apos;wangyum&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/36625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/36625&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17544290" author="q79969786" created="Tue, 31 May 2022 10:09:55 +0000"  >&lt;p&gt;Issue resolved by pull request 36625&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/36625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/36625&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17621089" author="apachespark" created="Thu, 20 Oct 2022 12:48:21 +0000"  >&lt;p&gt;User &apos;cloud-fan&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/38321&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/38321&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17714499" author="githubbot" created="Thu, 20 Apr 2023 09:11:30 +0000"  >&lt;p&gt;User &apos;cloud-fan&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/40871&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/40871&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17714792" author="gurwls223" created="Fri, 21 Apr 2023 01:29:47 +0000"  >&lt;p&gt;Reverted in &lt;a href=&quot;https://github.com/apache/spark/pull/40871&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/40871&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17714793" author="gurwls223" created="Fri, 21 Apr 2023 01:30:10 +0000"  >&lt;p&gt;But to be clear, this change exists in Spark 3.4.0.&lt;br/&gt;
It was taken out from 3.4.1 and 3.5.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12f88:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>