<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:07:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-29213] Make it consistent when get notnull output and generate null checks in FilterExec</title>
                <link>https://issues.apache.org/jira/browse/SPARK-29213</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Currently the&#160;behavior of getting output and generating null checks in FilterExec is different. Thus some nullable attribute could be treated as not nullable by mistake.&lt;/p&gt;

&lt;p&gt;In FilterExec.ouput, an attribute is marked as nullable or not by finding its `exprId` in&#160;notNullAttributes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
a.nullable &amp;amp;&amp;amp; notNullAttributes.contains(a.exprId)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But in FilterExec.doConsume,&#160; a `nullCheck` is generated or not for an attribute is decided by whether there is semantic equal not null predicate:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
val nullChecks = c.references.map { r =&amp;gt; val idx = notNullPreds.indexWhere { n =&amp;gt; n.asInstanceOf[IsNotNull].child.semanticEquals(r)} &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (idx != -1 &amp;amp;&amp;amp; !generatedIsNotNullChecks(idx)) { generatedIsNotNullChecks(idx) = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// Use the child&apos;s output. The nullability is what the child produced. genPredicate(notNullPreds(idx), input, child.output) } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; { &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; } }.mkString(&quot;&lt;/span&gt;\n&quot;).trim&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;NPE will happen when run the SQL below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
sql(&lt;span class=&quot;code-quote&quot;&gt;&quot;create table table1(x string)&quot;&lt;/span&gt;)
sql(&lt;span class=&quot;code-quote&quot;&gt;&quot;create table table2(x bigint)&quot;&lt;/span&gt;)
sql(&lt;span class=&quot;code-quote&quot;&gt;&quot;create table table3(x string)&quot;&lt;/span&gt;)
sql(&lt;span class=&quot;code-quote&quot;&gt;&quot;insert into table2 select &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; as x&quot;&lt;/span&gt;)
sql(
  &quot;&quot;&quot;
    |select t1.x
    |from (
    |    select x from table1) t1
    |left join (
    |    select x from (
    |        select x from table2
    |        union all
    |        select substr(x,5) x from table3
    |    ) a
    |    where length(x)&amp;gt;0
    |) t3
    |on t1.x=t3.x
  &quot;&quot;&quot;.stripMargin).collect()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;NPE Exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NullPointerException
&#160;&#160;&#160;&#160;at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(generated.java:40)
&#160;&#160;&#160;&#160;at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
&#160;&#160;&#160;&#160;at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:726)
&#160;&#160;&#160;&#160;at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)
&#160;&#160;&#160;&#160;at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:135)
&#160;&#160;&#160;&#160;at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)
&#160;&#160;&#160;&#160;at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:94)
&#160;&#160;&#160;&#160;at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)
&#160;&#160;&#160;&#160;at org.apache.spark.scheduler.Task.run(Task.scala:127)
&#160;&#160;&#160;&#160;at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:449)
&#160;&#160;&#160;&#160;at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)
&#160;&#160;&#160;&#160;at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:452)
&#160;&#160;&#160;&#160;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
&#160;&#160;&#160;&#160;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
&#160;&#160;&#160;&#160;at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;the generated code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
== Subtree 4 / 5 ==
*(2) Project [&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(x#7L as string) AS x#9]
+- *(2) Filter ((length(&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(x#7L as string)) &amp;gt; 0) AND isnotnull(&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(x#7L as string)))
&#160;&#160;&#160;+- Scan hive &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.table2 [x#7L], HiveTableRelation `&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;`.`table2`, org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, [x#7L]


Generated code:
&lt;span class=&quot;code-comment&quot;&gt;/* 001 */&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; generate(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] references) {
&lt;span class=&quot;code-comment&quot;&gt;/* 002 */&lt;/span&gt;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GeneratedIteratorForCodegenStage2(references);
&lt;span class=&quot;code-comment&quot;&gt;/* 003 */&lt;/span&gt; }
&lt;span class=&quot;code-comment&quot;&gt;/* 004 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 005 */&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// codegenStageId=2
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;/* 006 */&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GeneratedIteratorForCodegenStage2 &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.spark.sql.execution.BufferedRowIterator {
&lt;span class=&quot;code-comment&quot;&gt;/* 007 */&lt;/span&gt;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] references;
&lt;span class=&quot;code-comment&quot;&gt;/* 008 */&lt;/span&gt;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; scala.collection.Iterator[] inputs;
&lt;span class=&quot;code-comment&quot;&gt;/* 009 */&lt;/span&gt;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; scala.collection.Iterator inputadapter_input_0;
&lt;span class=&quot;code-comment&quot;&gt;/* 010 */&lt;/span&gt;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter[] filter_mutableStateArray_0 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter[2];
&lt;span class=&quot;code-comment&quot;&gt;/* 011 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 012 */&lt;/span&gt;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; GeneratedIteratorForCodegenStage2(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] references) {
&lt;span class=&quot;code-comment&quot;&gt;/* 013 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.references = references;
&lt;span class=&quot;code-comment&quot;&gt;/* 014 */&lt;/span&gt;&#160;&#160;&#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 015 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 016 */&lt;/span&gt;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void init(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index, scala.collection.Iterator[] inputs) {
&lt;span class=&quot;code-comment&quot;&gt;/* 017 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;partitionIndex = index;
&lt;span class=&quot;code-comment&quot;&gt;/* 018 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.inputs = inputs;
&lt;span class=&quot;code-comment&quot;&gt;/* 019 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;inputadapter_input_0 = inputs[0];
&lt;span class=&quot;code-comment&quot;&gt;/* 020 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;filter_mutableStateArray_0[0] = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(1, 0);
&lt;span class=&quot;code-comment&quot;&gt;/* 021 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;filter_mutableStateArray_0[1] = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(1, 32);
&lt;span class=&quot;code-comment&quot;&gt;/* 022 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 023 */&lt;/span&gt;&#160;&#160;&#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 024 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 025 */&lt;/span&gt;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void processNext() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; java.io.IOException {
&lt;span class=&quot;code-comment&quot;&gt;/* 026 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ( inputadapter_input_0.hasNext()) {
&lt;span class=&quot;code-comment&quot;&gt;/* 027 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;InternalRow inputadapter_row_0 = (InternalRow) inputadapter_input_0.next();
&lt;span class=&quot;code-comment&quot;&gt;/* 028 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 029 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; {
&lt;span class=&quot;code-comment&quot;&gt;/* 030 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; inputadapter_isNull_0 = inputadapter_row_0.isNullAt(0);
&lt;span class=&quot;code-comment&quot;&gt;/* 031 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; inputadapter_value_0 = inputadapter_isNull_0 ?
&lt;span class=&quot;code-comment&quot;&gt;/* 032 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-1L : (inputadapter_row_0.getLong(0));
&lt;span class=&quot;code-comment&quot;&gt;/* 033 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 034 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; filter_isNull_2 = inputadapter_isNull_0;
&lt;span class=&quot;code-comment&quot;&gt;/* 035 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;UTF8String filter_value_2 = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 036 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!inputadapter_isNull_0) {
&lt;span class=&quot;code-comment&quot;&gt;/* 037 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;filter_value_2 = UTF8String.fromString(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(inputadapter_value_0));
&lt;span class=&quot;code-comment&quot;&gt;/* 038 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 039 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; filter_value_1 = -1;
&lt;span class=&quot;code-comment&quot;&gt;/* 040 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;filter_value_1 = (filter_value_2).numChars();
&lt;span class=&quot;code-comment&quot;&gt;/* 041 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 042 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; filter_value_0 = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 043 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;filter_value_0 = filter_value_1 &amp;gt; 0;
&lt;span class=&quot;code-comment&quot;&gt;/* 044 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!filter_value_0) &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 045 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 046 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; filter_isNull_6 = inputadapter_isNull_0;
&lt;span class=&quot;code-comment&quot;&gt;/* 047 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;UTF8String filter_value_6 = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 048 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!inputadapter_isNull_0) {
&lt;span class=&quot;code-comment&quot;&gt;/* 049 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;filter_value_6 = UTF8String.fromString(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(inputadapter_value_0));
&lt;span class=&quot;code-comment&quot;&gt;/* 050 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 051 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!(!filter_isNull_6)) &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 052 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 053 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;((org.apache.spark.sql.execution.metric.SQLMetric) references[0] &lt;span class=&quot;code-comment&quot;&gt;/* numOutputRows */&lt;/span&gt;).add(1);
&lt;span class=&quot;code-comment&quot;&gt;/* 054 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 055 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; project_isNull_0 = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 056 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;UTF8String project_value_0 = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 057 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;) {
&lt;span class=&quot;code-comment&quot;&gt;/* 058 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;project_value_0 = UTF8String.fromString(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(inputadapter_value_0));
&lt;span class=&quot;code-comment&quot;&gt;/* 059 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 060 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;filter_mutableStateArray_0[1].reset();
&lt;span class=&quot;code-comment&quot;&gt;/* 061 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 062 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;filter_mutableStateArray_0[1].zeroOutNullBytes();
&lt;span class=&quot;code-comment&quot;&gt;/* 063 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 064 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (project_isNull_0) {
&lt;span class=&quot;code-comment&quot;&gt;/* 065 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;filter_mutableStateArray_0[1].setNullAt(0);
&lt;span class=&quot;code-comment&quot;&gt;/* 066 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&lt;span class=&quot;code-comment&quot;&gt;/* 067 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;filter_mutableStateArray_0[1].write(0, project_value_0);
&lt;span class=&quot;code-comment&quot;&gt;/* 068 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 069 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;append((filter_mutableStateArray_0[1].getRow()));
&lt;span class=&quot;code-comment&quot;&gt;/* 070 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 071 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&lt;span class=&quot;code-comment&quot;&gt;/* 072 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (shouldStop()) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;/* 073 */&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 074 */&lt;/span&gt;&#160;&#160;&#160;}
&lt;span class=&quot;code-comment&quot;&gt;/* 075 */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* 076 */&lt;/span&gt; }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13258253">SPARK-29213</key>
            <summary>Make it consistent when get notnull output and generate null checks in FilterExec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wang-shuo">Wang Shuo</assignee>
                                    <reporter username="wang-shuo">Wang Shuo</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Sep 2019 09:32:06 +0000</created>
                <updated>Fri, 27 Sep 2019 07:40:42 +0000</updated>
                            <resolved>Fri, 27 Sep 2019 07:39:14 +0000</resolved>
                                    <version>2.4.4</version>
                                    <fixVersion>2.4.5</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16939190" author="cloud_fan" created="Fri, 27 Sep 2019 07:39:14 +0000"  >&lt;p&gt;Issue resolved by pull request 25902&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/25902&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/25902&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06wu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>