<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:33:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-11023] Error initializing SparkContext. java.net.URISyntaxException</title>
                <link>https://issues.apache.org/jira/browse/SPARK-11023</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Simliar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10326&quot; title=&quot;Cannot launch YARN job on Windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-10326&quot;&gt;&lt;del&gt;SPARK-10326&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10326?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=14949470#comment-14949470&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-10326?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=14949470#comment-14949470&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;C:\WINDOWS\system32&amp;gt;pyspark --master yarn-client&lt;br/&gt;
Python 2.7.10 |Anaconda 2.3.0 (64-bit)| (default, Sep 15 2015, 14:26:14) &lt;span class=&quot;error&quot;&gt;&amp;#91;MSC v.1500 64 bit (AMD64)&amp;#93;&lt;/span&gt;&lt;br/&gt;
Type &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.&lt;br/&gt;
IPython 4.0.0 &#8211; An enhanced Interactive Python.&lt;br/&gt;
? -&amp;gt; Introduction and overview of IPython&apos;s features.&lt;br/&gt;
%quickref -&amp;gt; Quick reference.&lt;br/&gt;
help -&amp;gt; Python&apos;s own help system.&lt;br/&gt;
object? -&amp;gt; Details about &apos;object&apos;, use &apos;object??&apos; for extra details.&lt;br/&gt;
15/10/08 09:28:05 WARN MetricsSystem: Using default name DAGScheduler for source because spark.app.id is not set.&lt;br/&gt;
15/10/08 09:28:06 WARN : Your hostname, PC-509512 resolves to a loopback/non-reachable address: fe80:0:0:0:0:5efe:a5f:c318%net3, but we couldn&apos;t find any external IP address!&lt;br/&gt;
15/10/08 09:28:08 WARN BlockReaderLocal: The short-circuit local reads feature cannot be used because UNIX Domain sockets are not available on Windows.&lt;br/&gt;
15/10/08 09:28:08 ERROR SparkContext: Error initializing SparkContext.&lt;br/&gt;
java.net.URISyntaxException: Illegal character in opaque part at index 2: C:\spark\bin\..\python\lib\pyspark.zip&lt;br/&gt;
at java.net.URI$Parser.fail(Unknown Source)&lt;br/&gt;
at java.net.URI$Parser.checkChars(Unknown Source)&lt;br/&gt;
at java.net.URI$Parser.parse(Unknown Source)&lt;br/&gt;
at java.net.URI.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client$$anonfun$setupLaunchEnv$7.apply(Client.scala:558)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client$$anonfun$setupLaunchEnv$7.apply(Client.scala:557)&lt;br/&gt;
at scala.collection.immutable.List.foreach(List.scala:318)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client.setupLaunchEnv(Client.scala:557)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client.createContainerLaunchContext(Client.scala:628)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client.submitApplication(Client.scala:119)&lt;br/&gt;
at org.apache.spark.scheduler.cluster.YarnClientSchedulerBackend.start(YarnClientSchedulerBackend.scala:56)&lt;br/&gt;
at org.apache.spark.scheduler.TaskSchedulerImpl.start(TaskSchedulerImpl.scala:144)&lt;br/&gt;
at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:523)&lt;br/&gt;
at org.apache.spark.api.java.JavaSparkContext.&amp;lt;init&amp;gt;(JavaSparkContext.scala:61)&lt;br/&gt;
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)&lt;br/&gt;
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)&lt;br/&gt;
at java.lang.reflect.Constructor.newInstance(Unknown Source)&lt;br/&gt;
at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:234)&lt;br/&gt;
at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:379)&lt;br/&gt;
at py4j.Gateway.invoke(Gateway.java:214)&lt;br/&gt;
at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:79)&lt;br/&gt;
at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:68)&lt;br/&gt;
at py4j.GatewayConnection.run(GatewayConnection.java:207)&lt;br/&gt;
at java.lang.Thread.run(Unknown Source)&lt;br/&gt;
15/10/08 09:28:08 ERROR Utils: Uncaught exception in thread Thread-2&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
at org.apache.spark.network.netty.NettyBlockTransferService.close(NettyBlockTransferService.scala:152)&lt;br/&gt;
at org.apache.spark.storage.BlockManager.stop(BlockManager.scala:1228)&lt;br/&gt;
at org.apache.spark.SparkEnv.stop(SparkEnv.scala:100)&lt;br/&gt;
at org.apache.spark.SparkContext$$anonfun$stop$12.apply$mcV$sp(SparkContext.scala:1749)&lt;br/&gt;
at org.apache.spark.util.Utils$.tryLogNonFatalError(Utils.scala:1185)&lt;br/&gt;
at org.apache.spark.SparkContext.stop(SparkContext.scala:1748)&lt;br/&gt;
at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:593)&lt;br/&gt;
at org.apache.spark.api.java.JavaSparkContext.&amp;lt;init&amp;gt;(JavaSparkContext.scala:61)&lt;br/&gt;
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)&lt;br/&gt;
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)&lt;br/&gt;
at java.lang.reflect.Constructor.newInstance(Unknown Source)&lt;br/&gt;
at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:234)&lt;br/&gt;
at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:379)&lt;br/&gt;
at py4j.Gateway.invoke(Gateway.java:214)&lt;br/&gt;
at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:79)&lt;br/&gt;
at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:68)&lt;br/&gt;
at py4j.GatewayConnection.run(GatewayConnection.java:207)&lt;br/&gt;
at java.lang.Thread.run(Unknown Source)&lt;br/&gt;
---------------------------------------------------------------------------&lt;br/&gt;
Py4JJavaError Traceback (most recent call last)&lt;br/&gt;
C:\spark\bin\..\python\pyspark\shell.py in &amp;lt;module&amp;gt;()&lt;br/&gt;
41 SparkContext.setSystemProperty(&quot;spark.executor.uri&quot;, os.environ&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;SPARK_EXECUTOR_URI&amp;quot;&amp;#93;&lt;/span&gt;)&lt;br/&gt;
42&lt;br/&gt;
---&amp;gt; 43 sc = SparkContext(pyFiles=add_files)&lt;br/&gt;
44 atexit.register(lambda: sc.stop())&lt;br/&gt;
45&lt;br/&gt;
C:\spark\python\pyspark\context.pyc in &lt;em&gt;init&lt;/em&gt;(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, gateway, jsc, profiler_cls)&lt;br/&gt;
111 try:&lt;br/&gt;
112 self._do_init(master, appName, sparkHome, pyFiles, environment, batchSize, serializer,&lt;br/&gt;
--&amp;gt; 113 conf, jsc, profiler_cls)&lt;br/&gt;
114 except:&lt;br/&gt;
115 # If an error occurs, clean up in order to allow future SparkContext creation:&lt;br/&gt;
C:\spark\python\pyspark\context.pyc in _do_init(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, jsc, profiler_cls)&lt;br/&gt;
168&lt;br/&gt;
169 # Create the Java SparkContext through Py4J&lt;br/&gt;
--&amp;gt; 170 self._jsc = jsc or self._initialize_context(self._conf._jconf)&lt;br/&gt;
171&lt;br/&gt;
172 # Create a single Accumulator in Java that we&apos;ll send all our updates through;&lt;br/&gt;
C:\spark\python\pyspark\context.pyc in _initialize_context(self, jconf)&lt;br/&gt;
222 Initialize SparkContext in function to allow subclass specific initialization&lt;br/&gt;
223 &quot;&quot;&quot;&lt;br/&gt;
--&amp;gt; 224 return self._jvm.JavaSparkContext(jconf)&lt;br/&gt;
225&lt;br/&gt;
226 @classmethod&lt;br/&gt;
C:\spark\python\lib\py4j-0.8.2.1-src.zip\py4j\java_gateway.py in &lt;em&gt;call&lt;/em&gt;(self, *args)&lt;br/&gt;
699 answer = self._gateway_client.send_command(command)&lt;br/&gt;
700 return_value = get_return_value(answer, self._gateway_client, None,&lt;br/&gt;
--&amp;gt; 701 self._fqn)&lt;br/&gt;
702&lt;br/&gt;
703 for temp_arg in temp_args:&lt;br/&gt;
C:\spark\python\lib\py4j-0.8.2.1-src.zip\py4j\protocol.py in get_return_value(answer, gateway_client, target_id, name)&lt;br/&gt;
298 raise Py4JJavaError(&lt;br/&gt;
299 &apos;An error occurred while calling&lt;/p&gt;
{0} {1} {2}
&lt;p&gt;.\n&apos;.&lt;br/&gt;
--&amp;gt; 300 format(target_id, &apos;.&apos;, name), value)&lt;br/&gt;
301 else:&lt;br/&gt;
302 raise Py4JError(&lt;br/&gt;
Py4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.&lt;br/&gt;
: java.net.URISyntaxException: Illegal character in opaque part at index 2: C:\spark\bin\..\python\lib\pyspark.zip&lt;br/&gt;
at java.net.URI$Parser.fail(Unknown Source)&lt;br/&gt;
at java.net.URI$Parser.checkChars(Unknown Source)&lt;br/&gt;
at java.net.URI$Parser.parse(Unknown Source)&lt;br/&gt;
at java.net.URI.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client$$anonfun$setupLaunchEnv$7.apply(Client.scala:558)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client$$anonfun$setupLaunchEnv$7.apply(Client.scala:557)&lt;br/&gt;
at scala.collection.immutable.List.foreach(List.scala:318)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client.setupLaunchEnv(Client.scala:557)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client.createContainerLaunchContext(Client.scala:628)&lt;br/&gt;
at org.apache.spark.deploy.yarn.Client.submitApplication(Client.scala:119)&lt;br/&gt;
at org.apache.spark.scheduler.cluster.YarnClientSchedulerBackend.start(YarnClientSchedulerBackend.scala:56)&lt;br/&gt;
at org.apache.spark.scheduler.TaskSchedulerImpl.start(TaskSchedulerImpl.scala:144)&lt;br/&gt;
at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:523)&lt;br/&gt;
at org.apache.spark.api.java.JavaSparkContext.&amp;lt;init&amp;gt;(JavaSparkContext.scala:61)&lt;br/&gt;
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)&lt;br/&gt;
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)&lt;br/&gt;
at java.lang.reflect.Constructor.newInstance(Unknown Source)&lt;br/&gt;
at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:234)&lt;br/&gt;
at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:379)&lt;br/&gt;
at py4j.Gateway.invoke(Gateway.java:214)&lt;br/&gt;
at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:79)&lt;br/&gt;
at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:68)&lt;br/&gt;
at py4j.GatewayConnection.run(GatewayConnection.java:207)&lt;br/&gt;
at java.lang.Thread.run(Unknown Source)&lt;br/&gt;
In &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;:&lt;br/&gt;
Reply&lt;/p&gt;

&lt;p&gt;Marcelo Vanzin added a comment - 10 hours ago&lt;br/&gt;
Ah, that&apos;s similar but not the same bug; it&apos;s a different part of the code that only affects pyspark. Could you file a separate bug for that? This is the &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    (pySparkArchives ++ pyArchives).foreach { path =&amp;gt;
      val uri = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(path)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment>&lt;p&gt;pyspark + windows &lt;/p&gt;</environment>
        <key id="12903661">SPARK-11023</key>
            <summary>Error initializing SparkContext. java.net.URISyntaxException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vanzin">Marcelo Masiero Vanzin</assignee>
                                    <reporter username="jamartinh">Jose Antonio</reporter>
                        <labels>
                            <label>windows</label>
                    </labels>
                <created>Fri, 9 Oct 2015 08:25:05 +0000</created>
                <updated>Tue, 13 Oct 2015 14:19:48 +0000</updated>
                            <resolved>Mon, 12 Oct 2015 17:55:35 +0000</resolved>
                                    <version>1.5.0</version>
                    <version>1.5.1</version>
                                    <fixVersion>1.5.2</fixVersion>
                    <fixVersion>1.6.0</fixVersion>
                                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="14951067" author="srowen" created="Fri, 9 Oct 2015 19:30:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jamartinh&quot; class=&quot;user-hover&quot; rel=&quot;jamartinh&quot;&gt;jamartinh&lt;/a&gt; tiny point of process: there is no 1.6.0 release that can be affected at this point.&lt;/p&gt;</comment>
                            <comment id="14951069" author="apachespark" created="Fri, 9 Oct 2015 19:32:02 +0000"  >&lt;p&gt;User &apos;vanzin&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/9049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/9049&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2msy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12333643">1.5.2</customfieldvalue>
    <customfieldvalue id="12333083">1.6.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>