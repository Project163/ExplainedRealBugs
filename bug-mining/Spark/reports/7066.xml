<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:15:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-28093] Built-in function trim/ltrim/rtrim has bug when using trimStr</title>
                <link>https://issues.apache.org/jira/browse/SPARK-28093</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;spark-sql&amp;gt; SELECT trim(&apos;yxTomxx&apos;, &apos;xyz&apos;), trim(&apos;xxxbarxxx&apos;, &apos;x&apos;);
z
spark-sql&amp;gt; SELECT ltrim(&apos;zzzytest&apos;, &apos;xyz&apos;), ltrim(&apos;xyxXxyLAST WORD&apos;, &apos;xy&apos;);
xyz
spark-sql&amp;gt; SELECT rtrim(&apos;testxxzx&apos;, &apos;xyz&apos;), rtrim(&apos;TURNERyxXxy&apos;, &apos;xy&apos;);
xy
spark-sql&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;postgres=# SELECT trim(&apos;yxTomxx&apos;, &apos;xyz&apos;), trim(&apos;xxxbarxxx&apos;, &apos;x&apos;);
 btrim | btrim
-------+-------
 Tom   | bar
(1 row)

postgres=# SELECT ltrim(&apos;zzzytest&apos;, &apos;xyz&apos;), ltrim(&apos;xyxXxyLAST WORD&apos;, &apos;xy&apos;);
 ltrim |    ltrim
-------+--------------
 test  | XxyLAST WORD
(1 row)

postgres=# SELECT rtrim(&apos;testxxzx&apos;, &apos;xyz&apos;), rtrim(&apos;TURNERyxXxy&apos;, &apos;xy&apos;);
 rtrim |   rtrim
-------+-----------
 test  | TURNERyxX
(1 row)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="13240155">SPARK-28093</key>
            <summary>Built-in function trim/ltrim/rtrim has bug when using trimStr</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yumwang">Yuming Wang</reporter>
                        <labels>
                            <label>release-notes</label>
                    </labels>
                <created>Tue, 18 Jun 2019 09:40:29 +0000</created>
                <updated>Fri, 13 Mar 2020 03:42:53 +0000</updated>
                            <resolved>Fri, 21 Feb 2020 05:12:28 +0000</resolved>
                                    <version>2.3.0</version>
                    <version>2.3.1</version>
                    <version>2.3.2</version>
                    <version>2.3.3</version>
                    <version>2.4.0</version>
                    <version>2.4.1</version>
                    <version>2.4.2</version>
                    <version>2.4.3</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16867621" author="srowen" created="Wed, 19 Jun 2019 13:32:04 +0000"  >&lt;p&gt;Should we even call it a correctness problem? Like is this mandated by a SQL standard or strongly expected as how other SQL engines work?&lt;/p&gt;</comment>
                            <comment id="16869209" author="dongjoon" created="Fri, 21 Jun 2019 06:02:33 +0000"  >&lt;p&gt;Yes. We can consider this as a correctness issue although this seems to be rarely used. I&apos;m also surprised that this was not detected for a long time.&lt;/p&gt;</comment>
                            <comment id="16870702" author="smilegator" created="Sun, 23 Jun 2019 23:56:18 +0000"  >&lt;p&gt;The parameter orders might be different in different vendors. This is common. We can change it in 3.x to make it more consistent with the other vendors. However, it could break the existing customers&apos; workloads if they already use trim.&#160;&lt;/p&gt;</comment>
                            <comment id="16870703" author="smilegator" created="Sun, 23 Jun 2019 23:58:07 +0000"  >&lt;p&gt;In 3.0, we also need to add an internal conf to ensure users can revert the behavior back.&#160;&lt;/p&gt;</comment>
                            <comment id="16899333" author="dongjoon" created="Sat, 3 Aug 2019 02:43:41 +0000"  >&lt;p&gt;I removed `2.4.4` from the fixed version since this is reverted in branch-2.4.&lt;/p&gt;</comment>
                            <comment id="17041556" author="cloud_fan" created="Fri, 21 Feb 2020 05:12:12 +0000"  >&lt;p&gt;This has been reverted in &lt;a href=&quot;https://api.github.com/repos/apache/spark/pulls/27540&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.github.com/repos/apache/spark/pulls/27540&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13240452">SPARK-28109</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13286392">SPARK-30886</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z03uts:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>