<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:00:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-23850] We should not redact username|user|url from UI by default</title>
                <link>https://issues.apache.org/jira/browse/SPARK-23850</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-22479&quot; title=&quot;SaveIntoDataSourceCommand logs jdbc credentials&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-22479&quot;&gt;&lt;del&gt;SPARK-22479&lt;/del&gt;&lt;/a&gt;&#160;was filed to not print the log jdbc credentials, but in there they also added&#160; the username and url to be redacted.&#160; I&apos;m not sure why these were added and to me by default these do not have security concerns.&#160; It makes it more usable by default to be able to see these things.&#160; Users with high security concerns can simply add them in their configs.&lt;/p&gt;

&lt;p&gt;Also on yarn just redacting url doesn&apos;t secure anything because if you go to the environment ui page you see all sorts of paths and really its just confusing that some of its redacted and other parts aren&apos;t.&#160; If this was specifically for jdbc I think it needs to be just applied there and not broadly.&lt;/p&gt;

&lt;p&gt;If we remove these we need to test what the jdbc driver is going to log from &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-22479&quot; title=&quot;SaveIntoDataSourceCommand logs jdbc credentials&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-22479&quot;&gt;&lt;del&gt;SPARK-22479&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13149549">SPARK-23850</key>
            <summary>We should not redact username|user|url from UI by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vanzin">Marcelo Masiero Vanzin</assignee>
                                    <reporter username="tgraves">Thomas Graves</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Apr 2018 18:47:59 +0000</created>
                <updated>Fri, 9 Aug 2019 07:23:40 +0000</updated>
                            <resolved>Fri, 18 May 2018 23:25:52 +0000</resolved>
                                    <version>2.2.1</version>
                                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>2.3.1</fixVersion>
                    <fixVersion>2.4.0</fixVersion>
                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16422965" author="tgraves" created="Mon, 2 Apr 2018 18:50:20 +0000"  >&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ash211%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;ash211@gmail.com&quot;&gt;ash211@gmail.com&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=onursatici&quot; class=&quot;user-hover&quot; rel=&quot;onursatici&quot;&gt;onursatici&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=LI%2CXiao&quot; class=&quot;user-hover&quot; rel=&quot;LI,Xiao&quot;&gt;LI,Xiao&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiangxb1987&quot; class=&quot;user-hover&quot; rel=&quot;jiangxb1987&quot;&gt;jiangxb1987&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cloud_fan&quot; class=&quot;user-hover&quot; rel=&quot;cloud_fan&quot;&gt;cloud_fan&lt;/a&gt;&#160; who were in code review, is there more background on why these were added?&lt;/p&gt;</comment>
                            <comment id="16449046" author="vanzin" created="Mon, 23 Apr 2018 23:37:49 +0000"  >&lt;p&gt;Unless I hear back from the&#160;people CC&apos;ed above, I&apos;m going to revert the offending part of the original change, which is this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;- &#160;&#160;&#160;&#160;&#160;.createWithDefault(&quot;(?i)secret|password&quot;.r) 
+ &#160;&#160;&#160;&#160;&#160;.createWithDefault(&quot;(?i)secret|password|url|user|username&quot;.r)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m a little inclined to keep redacting the URL since at least Oracle allows the password to be defined in the URL; it would be useful to see the rest of the URL for debugging purposes, but that would require extra code.&lt;/p&gt;

&lt;p&gt;But redacting the user name is pretty silly; if you look at the env page with this change, you see a lot of things like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;user.home	*********(redacted)
user.timezone	*********(redacted)
user.country	*********(redacted)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which is kinda pointless.&lt;/p&gt;
</comment>
                            <comment id="16449054" author="tgraves" created="Mon, 23 Apr 2018 23:47:17 +0000"  >&lt;p&gt;the url seems somewhat silly to me to,&#160;look at the environment page on yarn, at least in our environment it has redacted in a bunch of places that don&apos;t make sense.&#160; If its an issue with the thriftserver and&#160;certain urls we should fix those separately.&lt;/p&gt;</comment>
                            <comment id="16449072" author="vanzin" created="Tue, 24 Apr 2018 00:12:41 +0000"  >&lt;p&gt;Yeah, things like &lt;tt&gt;java.vendor.url&lt;/tt&gt; end up redacted too...&lt;/p&gt;

&lt;p&gt;But there&apos;s the issue of JDBC drivers allowing passwords in their URL. Though they generally allow the password to be provided separately in a properties object too, which is preferable.&lt;/p&gt;

&lt;p&gt;Also, it turns out other parts of SQL use a different way of redacting things added in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-22791&quot; title=&quot;Redact Output of Explain&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-22791&quot;&gt;&lt;del&gt;SPARK-22791&lt;/del&gt;&lt;/a&gt;. The way I read that, the code added to &lt;tt&gt;SaveIntoDataSourceCommand&lt;/tt&gt; is now redundant, since paths that print plans will be automatically redacted by the code in &lt;tt&gt;QueryExecution&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;That change added a separate config that defaults to the value of the config in core. If we change that to be a separate config instead of falling back to the code config, we could have different defaults (leaving the URL alone on the core side), but that changes behavior slightly.&lt;/p&gt;</comment>
                            <comment id="16449073" author="vanzin" created="Tue, 24 Apr 2018 00:13:12 +0000"  >&lt;p&gt;Anyway, I&apos;ll take a stab at cleaning this up tomorrow if I find the time.&lt;/p&gt;</comment>
                            <comment id="16452729" author="apachespark" created="Wed, 25 Apr 2018 17:37:04 +0000"  >&lt;p&gt;User &apos;vanzin&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21158&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16481065" author="apachespark" created="Fri, 18 May 2018 19:05:05 +0000"  >&lt;p&gt;User &apos;vanzin&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21365&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21365&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16481334" author="vanzin" created="Fri, 18 May 2018 23:25:52 +0000"  >&lt;p&gt;Issue resolved by pull request 21365&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/21365&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/21365&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13142127">SPARK-23567</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13249835">SPARK-28675</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13117270">SPARK-22479</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3s247:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>