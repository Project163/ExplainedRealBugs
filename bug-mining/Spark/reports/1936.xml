<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:28:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-7899] PySpark sql/tests breaks pylint validation</title>
                <link>https://issues.apache.org/jira/browse/SPARK-7899</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The pyspark.sql.types module is dynamically named &lt;tt&gt;types&lt;/tt&gt; from &lt;tt&gt;_types&lt;/tt&gt; which messes up pylint validation&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justin.uang&quot; class=&quot;user-hover&quot; rel=&quot;justin.uang&quot;&gt;justin.uang&lt;/a&gt; below:&lt;/p&gt;

&lt;p&gt;In commit 04e44b37, the migration to Python 3, &lt;tt&gt;pyspark/sql/types.py&lt;/tt&gt; was renamed to &lt;tt&gt;pyspark/sql/&amp;#95;types.py&lt;/tt&gt; and then some magic in &lt;tt&gt;pyspark/sql/&amp;#95;&amp;#95;init&amp;#95;&amp;#95;.py&lt;/tt&gt; dynamically renamed the module back to &lt;tt&gt;types&lt;/tt&gt;. I imagine that this is some naming conflict with Python 3, but what was the error that showed up?&lt;/p&gt;

&lt;p&gt;The reason why I&apos;m asking about this is because it&apos;s messing with pylint, since pylint cannot now statically find the module. I tried also importing the package so that &lt;tt&gt;&amp;#95;&amp;#95;init&amp;#95;&amp;#95;&lt;/tt&gt; would be run in a init-hook, but that isn&apos;t what the discovery mechanism is using. I imagine it&apos;s probably just crawling the directory structure.&lt;/p&gt;

&lt;p&gt;One way to work around this would be something akin to this (&lt;a href=&quot;http://stackoverflow.com/questions/9602811/how-to-tell-pylint-to-ignore-certain-imports&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/9602811/how-to-tell-pylint-to-ignore-certain-imports&lt;/a&gt;), where I would have to create a fake module, but I would probably be missing a ton of pylint features on users of that module, and it&apos;s pretty hacky.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12833078">SPARK-7899</key>
            <summary>PySpark sql/tests breaks pylint validation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mnazario">Michael Nazario</assignee>
                                    <reporter username="mnazario">Michael Nazario</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 May 2015 15:34:56 +0000</created>
                <updated>Tue, 2 Jun 2015 17:24:39 +0000</updated>
                            <resolved>Fri, 29 May 2015 21:13:55 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>PySpark</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14561164" author="mnazario" created="Wed, 27 May 2015 15:41:56 +0000"  >&lt;p&gt;The problem is that pyspark/sql/types conflicts with the built-in Python 3 types module which causes tests to fail.&lt;/p&gt;

&lt;p&gt;The Python documentation (&lt;a href=&quot;https://docs.python.org/3/using/cmdline.html#interface-options&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.python.org/3/using/cmdline.html#interface-options&lt;/a&gt;) says that by calling &quot;python path/to/script.py&quot;, the path of the script is automatically added to sys.path. This causes the conflict with the built-in Python 3 types module.&lt;/p&gt;

&lt;p&gt;You can fix this by using &quot;-m&quot; in running pyspark tests instead since this will run by a module name on sys.path and not add the directory of the script to the python path.&lt;/p&gt;</comment>
                            <comment id="14561466" author="apachespark" created="Wed, 27 May 2015 18:41:04 +0000"  >&lt;p&gt;User &apos;mnazario&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6439&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6439&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14561709" author="justin.uang" created="Wed, 27 May 2015 20:54:57 +0000"  >&lt;p&gt;Building upon michael&apos;s comment, the reason it fails is because if we run&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;run-test pyspark/sql/types.py
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which runs&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;python pyspark/sql/types.py
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then the directory containing the script is adding to the front of the PYTHONPATH, so now types.py is actually absolutely overriding the built-in python3 types module&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.python.org/2/using/cmdline.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.python.org/2/using/cmdline.html&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If the script name refers directly to a Python file, the directory containing that file is added to the start of sys.path, and the file is executed as the _&lt;em&gt;main&lt;/em&gt;_ module.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14561732" author="justin.uang" created="Wed, 27 May 2015 21:03:42 +0000"  >&lt;p&gt;Building upon michael&apos;s comment, the reason it fails is because if we run&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;run-test pyspark/sql/types.py
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which runs&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;python pyspark/sql/types.py
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then the directory containing the script is adding to the front of the PYTHONPATH, so now types.py is actually absolutely overriding the built-in python3 types module&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.python.org/2/using/cmdline.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.python.org/2/using/cmdline.html&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If the script name refers directly to a Python file, the directory containing that file is added to the start of sys.path, and the file is executed as the _&lt;em&gt;main&lt;/em&gt;_ module.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14565424" author="davies" created="Fri, 29 May 2015 21:13:55 +0000"  >&lt;p&gt;Issue resolved by pull request 6439&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6439&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6439&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14566089" author="justin.uang" created="Sat, 30 May 2015 16:35:40 +0000"  >&lt;p&gt;Can we get this back ported into spark 1.4 or is it too late for that.&lt;/p&gt;</comment>
                            <comment id="14569208" author="mnazario" created="Tue, 2 Jun 2015 14:55:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davies&quot; class=&quot;user-hover&quot; rel=&quot;davies&quot;&gt;davies&lt;/a&gt; Could we get this backported to Spark 1.4?&lt;/p&gt;</comment>
                            <comment id="14569458" author="davies" created="Tue, 2 Jun 2015 17:24:28 +0000"  >&lt;p&gt;I had done it yesterday.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f9f3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>