<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:27:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-7063] Update lz4 for Java 7 to avoid: when lz4 compression is used, it causes core dump</title>
                <link>https://issues.apache.org/jira/browse/SPARK-7063</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;this issue is initially noticed by using IBM JDK, below please find the stack track of this issue, caused by violating the rule in critical section. &lt;/p&gt;

&lt;p&gt;#0 0x000000314340f3cb in raise () from /service/pmrs/45638/20/lib64/libpthread.so.0&lt;br/&gt;
#1 0x00007f795b0323be in j9dump_create () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9prt27.so&lt;br/&gt;
#2 0x00007f795a88ba2a in doSystemDump () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9dmp27.so&lt;br/&gt;
#3 0x00007f795b0405d5 in j9sig_protect () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9prt27.so&lt;br/&gt;
#4 0x00007f795a88a1fd in runDumpFunction () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9dmp27.so&lt;br/&gt;
#5 0x00007f795a88dbab in runDumpAgent () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9dmp27.so&lt;br/&gt;
#6 0x00007f795a8a1c49 in triggerDumpAgents () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9dmp27.so&lt;br/&gt;
#7 0x00007f795a4518fe in doTracePoint () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9trc27.so&lt;br/&gt;
#8 0x00007f795a45210e in j9Trace () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9trc27.so&lt;br/&gt;
#9 0x00007f79590e46e1 in MM_StandardAccessBarrier::jniReleasePrimitiveArrayCritical(J9VMThread*, _jarray*, void*, int) ()&lt;br/&gt;
from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9gc27.so&lt;br/&gt;
#10 0x00007f7938bc397c in Java_net_jpountz_lz4_LZ4JNI_LZ4_1compress_1limitedOutput () from /service/pmrs/45638/20/tmp/liblz4-java7155003924599399415.so&lt;br/&gt;
#11 0x00007f795b707149 in VMprJavaSendNative () from /service/pmrs/45638/20/opt/ibm/biginsights/jdk/jre/lib/amd64/compressedrefs/libj9vm27.so&lt;br/&gt;
#12 0x0000000000000000 in ?? ()&lt;/p&gt;

&lt;p&gt;this is an issue introduced by a bug in net.jpountz.lz4.lz4-1.2.0.jar, and fixed in 1.3.0 version.  Sun JDK /Open JDK doesn&apos;t complain this issue, but this issue will trigger assertion failure when IBM JDK is used. here is the link to the fix &lt;br/&gt;
&lt;a href=&quot;https://github.com/jpountz/lz4-java/commit/07229aa2f788229ab4f50379308297f428e3d2d2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jpountz/lz4-java/commit/07229aa2f788229ab4f50379308297f428e3d2d2&lt;/a&gt; &lt;/p&gt;

</description>
                <environment>&lt;p&gt;IBM JDK&lt;/p&gt;</environment>
        <key id="12823270">SPARK-7063</key>
            <summary>Update lz4 for Java 7 to avoid: when lz4 compression is used, it causes core dump</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jennyma">Jenny MA</assignee>
                                    <reporter username="jennyma">Jenny MA</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Apr 2015 01:55:49 +0000</created>
                <updated>Mon, 18 May 2015 21:48:21 +0000</updated>
                            <resolved>Mon, 18 May 2015 21:48:02 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14508297" author="jennyma" created="Thu, 23 Apr 2015 01:57:23 +0000"  >&lt;p&gt;we should bump the version to net.jpountz.lz4.lz4-1.3.0.jar in Spark parent pom file. &lt;/p&gt;</comment>
                            <comment id="14508299" author="jennyma" created="Thu, 23 Apr 2015 01:57:56 +0000"  >&lt;p&gt;will send out a pull request shortly. &lt;/p&gt;</comment>
                            <comment id="14508323" author="apachespark" created="Thu, 23 Apr 2015 02:24:02 +0000"  >&lt;p&gt;User &apos;linlin200605&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/5641&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5641&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14514725" author="srowen" created="Mon, 27 Apr 2015 19:04:56 +0000"  >&lt;p&gt;Targeting this for later when we can take a Java 7 dependency.&lt;/p&gt;</comment>
                            <comment id="14544359" author="pwendell" created="Thu, 14 May 2015 21:03:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt; so I think maybe we can pull this into master now, given that we&apos;ll drop 1.6 in Spark 1.5 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14544487" author="srowen" created="Thu, 14 May 2015 22:29:04 +0000"  >&lt;p&gt;Yes, this is OK to merge for master / 1.5, but not 1.4 or before.&lt;/p&gt;</comment>
                            <comment id="14545368" author="t.p.ellison@gmail.com" created="Fri, 15 May 2015 11:43:09 +0000"  >&lt;p&gt;I can confirm that this failure is no longer seen using LZ4 1.3.0 with IBM Java 7+.&lt;/p&gt;</comment>
                            <comment id="14547479" author="apachespark" created="Mon, 18 May 2015 02:55:06 +0000"  >&lt;p&gt;User &apos;JihongMA&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6226&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6226&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14549297" author="srowen" created="Mon, 18 May 2015 21:48:02 +0000"  >&lt;p&gt;Issue resolved by pull request 6226&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6226&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6226&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dmx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332078">1.5.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>