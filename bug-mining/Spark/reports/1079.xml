<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:20:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-4471]  blockManagerIdFromJson function throws exception while BlockManagerId be null in MetadataFetchFailedException</title>
                <link>https://issues.apache.org/jira/browse/SPARK-4471</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;1. when throws MetadataFetchFailedException, it will create a FetchFailedException, which BlockManagerId is null.&lt;br/&gt;
  FetchFailedException(null, shuffleId, -1, reduceId) &lt;/p&gt;

&lt;p&gt;2. JsonProtocol.TaskEndReasonToJson, mark BlockManagerId as JNothing&lt;/p&gt;

&lt;p&gt;3. while use JsonProtocol.TaskEndReasonFromJson, it didn&apos;t take  JNothing into account, so BlockManagerIdFromJson will throw exception&lt;/p&gt;

&lt;p&gt;error log belows:&lt;/p&gt;

&lt;p&gt;org.json4s.package$MappingException: Did not find value which can be converted into java.lang.String&lt;br/&gt;
        at org.json4s.reflect.package$.fail(package.scala:96)&lt;br/&gt;
        at org.json4s.Extraction$.convert(Extraction.scala:554)&lt;br/&gt;
        at org.json4s.Extraction$.extract(Extraction.scala:331)&lt;br/&gt;
        at org.json4s.Extraction$.extract(Extraction.scala:42)&lt;br/&gt;
        at org.json4s.ExtractableJsonAstNode.extract(ExtractableJsonAstNode.scala:21)&lt;br/&gt;
        at org.apache.spark.util.JsonProtocol$.blockManagerIdFromJson(JsonProtocol.scala:662)&lt;br/&gt;
        at org.apache.spark.util.JsonProtocol$.taskEndReasonFromJson(JsonProtocol.scala:643)&lt;br/&gt;
        at org.apache.spark.util.JsonProtocol$.taskEndFromJson(JsonProtocol.scala:450)&lt;br/&gt;
        at org.apache.spark.util.JsonProtocol$.sparkEventFromJson(JsonProtocol.scala:410)&lt;br/&gt;
        at org.apache.spark.scheduler.ReplayListenerBus$$anonfun$replay$2$$anonfun$apply$1.apply(ReplayListenerBus.scala:71)&lt;br/&gt;
        at org.apache.spark.scheduler.ReplayListenerBus$$anonfun$replay$2$$anonfun$apply$1.apply(ReplayListenerBus.scala:69)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12756060">SPARK-4471</key>
            <summary> blockManagerIdFromJson function throws exception while BlockManagerId be null in MetadataFetchFailedException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="SuYan">SuYan</assignee>
                                    <reporter username="SuYan">SuYan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Nov 2014 09:21:28 +0000</created>
                <updated>Tue, 25 Nov 2014 23:51:41 +0000</updated>
                            <resolved>Tue, 25 Nov 2014 23:51:41 +0000</resolved>
                                    <version>1.1.0</version>
                    <version>1.1.1</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14215972" author="apachespark" created="Tue, 18 Nov 2014 09:25:22 +0000"  >&lt;p&gt;User &apos;suyanNone&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/3340&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3340&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22hzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327369">1.2.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>