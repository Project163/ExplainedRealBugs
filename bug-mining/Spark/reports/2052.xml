<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:29:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-8558] Script /dev/run-tests fails when _JAVA_OPTIONS env var set</title>
                <link>https://issues.apache.org/jira/browse/SPARK-8558</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Script /dev/run-tests.py fails when _JAVA_OPTIONS env. var set.&lt;/p&gt;

&lt;p&gt;Steps to reproduce in linux:&lt;br/&gt;
1. export _JAVA_OPTIONS=&quot;-Xmx2048M&lt;br/&gt;
2. ./dev/run-tests&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;pivot@fe2s spark&amp;#93;&lt;/span&gt;$ ./dev/run-tests&lt;br/&gt;
Traceback (most recent call last):&lt;br/&gt;
  File &quot;./dev/run-tests.py&quot;, line 793, in &amp;lt;module&amp;gt;&lt;br/&gt;
    main()&lt;br/&gt;
  File &quot;./dev/run-tests.py&quot;, line 722, in main&lt;br/&gt;
    java_version = determine_java_version(java_exe)&lt;br/&gt;
  File &quot;./dev/run-tests.py&quot;, line 484, in determine_java_version&lt;br/&gt;
    version, update = version_str.split(&apos;_&apos;)  # eg &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;1.8.0&amp;#39;, &amp;#39;25&amp;#39;&amp;#93;&lt;/span&gt;&lt;br/&gt;
ValueError: need more than 1 value to unpack&lt;/p&gt;

&lt;p&gt;The problem is in &apos;determine_java_version&apos; function in run-tests.py.&lt;br/&gt;
It runs &apos;java&apos; and extracts version from output. However when _JAVA_OPTIONS set the output of &apos;java&apos; command is different and it breaks parser. See the first line&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;pivot@fe2s spark&amp;#93;&lt;/span&gt;$ java -version&lt;br/&gt;
Picked up _JAVA_OPTIONS: -Xmx2048M&lt;br/&gt;
java version &quot;1.8.0_31&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Centos 6&lt;/p&gt;</environment>
        <key id="12839776">SPARK-8558</key>
            <summary>Script /dev/run-tests fails when _JAVA_OPTIONS env var set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fe2s">Oleksiy Dyagilev</assignee>
                                    <reporter username="fe2s">Oleksiy Dyagilev</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jun 2015 08:09:40 +0000</created>
                <updated>Wed, 24 Jun 2015 22:13:08 +0000</updated>
                            <resolved>Wed, 24 Jun 2015 22:12:48 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Build</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14597401" author="srowen" created="Tue, 23 Jun 2015 09:28:38 +0000"  >&lt;p&gt;Yeah, although you probably should not set _JAVA_OPTIONS here it seems like it should just ignore this line of output if present. Go for a PR if you can.&lt;/p&gt;</comment>
                            <comment id="14597919" author="apachespark" created="Tue, 23 Jun 2015 16:42:06 +0000"  >&lt;p&gt;User &apos;fe2s&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6956&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6956&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14600259" author="joshrosen" created="Wed, 24 Jun 2015 22:12:48 +0000"  >&lt;p&gt;Issue resolved by pull request 6956&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6956&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6956&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gdhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>