<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:02:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-25803] The -n option to docker-image-tool.sh causes other options to be ignored</title>
                <link>https://issues.apache.org/jira/browse/SPARK-25803</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;To reproduce:-&lt;/p&gt;

&lt;p&gt;1. Build spark&lt;br/&gt;
 $ ./build/mvn -Pkubernetes -DskipTests clean package&lt;/p&gt;

&lt;p&gt;2. Create a Dockerfile (a simple one, just for demonstration)&lt;br/&gt;
 $ cat &amp;gt; hello-world.dockerfile &amp;lt;&amp;lt;EOF&lt;br/&gt;
 &amp;gt; FROM hello-world&lt;br/&gt;
 &amp;gt; EOF&lt;/p&gt;

&lt;p&gt;3. Build container images with our Dockerfile&lt;br/&gt;
 $ ./bin/docker-image-tool.sh -R hello-world.dockerfile -r docker.io/myrepo -t myversion build&lt;/p&gt;

&lt;p&gt;The result is that the -R option is honoured and the hello-world image is built for spark-r, as expected.&lt;/p&gt;

&lt;p&gt;4. Build container images with our Dockerfile and the -n option&lt;br/&gt;
 $ ./bin/docker-image-tool.sh -n -R hello-world.dockerfile -r docker.io/myrepo -t myversion build&lt;/p&gt;

&lt;p&gt;The result is that the -R option is ignored and the default container image for R is built&lt;/p&gt;

&lt;p&gt;docker-image-tool.sh, uses &lt;a href=&quot;http://pubs.opengroup.org/onlinepubs/9699919799/utilities/getopts.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;getopts&lt;/a&gt; in which a colon, &apos;:&apos;, signifies that an option takes an argument.&#160; Since -n does not take an argument it should not have a colon.&lt;/p&gt;</description>
                <environment>&lt;ul&gt;
	&lt;li&gt;OS X 10.14&lt;/li&gt;
	&lt;li&gt;iTerm2&lt;/li&gt;
	&lt;li&gt;bash3&lt;/li&gt;
	&lt;li&gt;Docker 2.0.0.0-beta1-mac75 (27117)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(NB: I don&apos;t believe the above has a bearing; I imagine this issue is present also on linux and can confirm if needed.)&lt;/p&gt;</environment>
        <key id="13193365">SPARK-25803</key>
            <summary>The -n option to docker-image-tool.sh causes other options to be ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slarkin">Steve Larkin</assignee>
                                    <reporter username="slarkin">Steve Larkin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Oct 2018 21:13:42 +0000</created>
                <updated>Sun, 17 May 2020 18:23:52 +0000</updated>
                            <resolved>Thu, 25 Oct 2018 20:03:35 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.4.0</fixVersion>
                                    <component>Kubernetes</component>
                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16659693" author="apachespark" created="Mon, 22 Oct 2018 21:25:37 +0000"  >&lt;p&gt;User &apos;sel&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/22798&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/22798&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16659694" author="slarkin" created="Mon, 22 Oct 2018 21:25:52 +0000"  >&lt;p&gt;Created a PR:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/pull/22798&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/22798&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3zi2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>