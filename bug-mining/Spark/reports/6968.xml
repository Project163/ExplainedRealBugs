<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:09:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-30036] REPARTITION hint dose not work with order by</title>
                <link>https://issues.apache.org/jira/browse/SPARK-30036</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Example SQL:&#160;select /*+ REPARTITION(2) */ * from test order by a&lt;/p&gt;

&lt;p&gt;== Physical Plan ==&lt;br/&gt;
*(1) Sort &lt;a href=&quot;#0 ASC NULLS FIRST&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;a#0 ASC NULLS FIRST&lt;/a&gt;, true, 0&lt;br/&gt;
+- Exchange rangepartitioning(a#0 ASC NULLS FIRST, 2), true, &lt;a href=&quot;#11&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;id=#11&lt;/a&gt;&lt;br/&gt;
&#160; &#160; &#160;+- Exchange RoundRobinPartitioning(3)&lt;br/&gt;
&#160; &#160; &#160; &#160; &#160; +- Scan hive default.test &lt;a href=&quot;#0, b#1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;a#0, b#1&lt;/a&gt;, HiveTableRelation `default`.`test`, org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, &lt;a href=&quot;#0, b#1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;a#0, b#1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;EnsureRequirements adds ShuffleExchangeExec (RangePartitioning) after Sort if RoundRobinPartitioning behinds it. This will cause 2 shuffles, and the number of partitions in the final stage is not the number specified by RoundRobinPartitioning.&lt;/p&gt;

&lt;p&gt;This patch will add a new rule to change RoundRobinPartitioning to RangePartitioning rather than add new ShuffleExchangeExec.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270617">SPARK-30036</key>
            <summary>REPARTITION hint dose not work with order by</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Jackey Lee">Jackey Lee</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2019 05:07:15 +0000</created>
                <updated>Fri, 31 Jan 2020 19:44:34 +0000</updated>
                                            <version>3.0.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17003866" author="cloud_fan" created="Fri, 27 Dec 2019 03:54:02 +0000"  >&lt;p&gt;Issue resolved by pull request 26946&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/26946&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/26946&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17027779" author="dongjoon" created="Fri, 31 Jan 2020 19:44:18 +0000"  >&lt;p&gt;This is reverted via &lt;a href=&quot;https://github.com/apache/spark/commit/a2de20c0e6857653de63f46052935784be87d34f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/a2de20c0e6857653de63f46052935784be87d34f&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0909k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>