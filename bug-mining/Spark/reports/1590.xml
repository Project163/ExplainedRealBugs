<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:25:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-6250] Types are now reserved words in DDL parser.</title>
                <link>https://issues.apache.org/jira/browse/SPARK-6250</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12780997">SPARK-6250</key>
            <summary>Types are now reserved words in DDL parser.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2015 21:42:41 +0000</created>
                <updated>Sat, 21 Mar 2015 20:28:17 +0000</updated>
                            <resolved>Sat, 21 Mar 2015 20:28:17 +0000</resolved>
                                                    <fixVersion>1.3.1</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14364353" author="marmbrus" created="Tue, 17 Mar 2015 01:09:20 +0000"  >&lt;p&gt;We have confirmed that this does work if you escape the field names using backticks.  Since this is pretty standard, I&apos;m going to close this &quot;wont fix&quot;.  If there is some case where this is not possible, please reopen with details.&lt;/p&gt;</comment>
                            <comment id="14364367" author="nitay" created="Tue, 17 Mar 2015 01:18:42 +0000"  >&lt;p&gt;Is it hard to fix this? Seems to me it would be a pretty straightforward thing to do? It&apos;s not always easy to change the underlying data model, for example working with existing hive metastore not under your control.&lt;/p&gt;</comment>
                            <comment id="14364373" author="marmbrus" created="Tue, 17 Mar 2015 01:25:42 +0000"  >&lt;p&gt;I&apos;m not suggesting you change your datamodel.  Just that if you are going to name your columns after datatypes you escape them with backticks (as you must do when using any reserved word or non-standard characters).  When interacting with the Hive metastore I would expect all required escaping to happen automatically.  Please let me know if you have a counter example.&lt;/p&gt;</comment>
                            <comment id="14364375" author="nitay" created="Tue, 17 Mar 2015 01:26:35 +0000"  >&lt;p&gt;How would I do a select * from an existing hive metastores which have types in their names?&lt;/p&gt;</comment>
                            <comment id="14364382" author="yhuai" created="Tue, 17 Mar 2015 01:30:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nitay&quot; class=&quot;user-hover&quot; rel=&quot;nitay&quot;&gt;nitay&lt;/a&gt; Have you tried backticks? Does it work?&lt;/p&gt;</comment>
                            <comment id="14364414" author="nitay" created="Tue, 17 Mar 2015 01:59:48 +0000"  >&lt;p&gt;Backticks doesn&apos;t work for me on existing data. For example I work with a table that is structured like:&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
foo: struct&amp;lt;timestamp:bigint,timezone:string&amp;gt;&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Selecting *, `foo`, `foo.timestamp`, foo.`timestamp` all don&apos;t work.&lt;br/&gt;
What am I doing wrong?&lt;/p&gt;

</comment>
                            <comment id="14364417" author="nitay" created="Tue, 17 Mar 2015 02:01:03 +0000"  >&lt;p&gt;The error is always the same: &lt;a href=&quot;https://gist.github.com/nitay/8ba0efd739cf2e22ad23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/nitay/8ba0efd739cf2e22ad23&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14364427" author="marmbrus" created="Tue, 17 Mar 2015 02:12:31 +0000"  >&lt;p&gt;Okay, thanks for explaining the problem!&lt;/p&gt;</comment>
                            <comment id="14364429" author="nitay" created="Tue, 17 Mar 2015 02:13:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marmbrus&quot; class=&quot;user-hover&quot; rel=&quot;marmbrus&quot;&gt;marmbrus&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;yhuai&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14364603" author="yhuai" created="Tue, 17 Mar 2015 05:23:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nitay&quot; class=&quot;user-hover&quot; rel=&quot;nitay&quot;&gt;nitay&lt;/a&gt; Just a quick update. I tried&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;HiveMetastoreTypes.toDataType(&lt;span class=&quot;code-quote&quot;&gt;&quot;struct&amp;lt;`timestamp`:bigint,timezone:string&amp;gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and I got&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;res1: org.apache.spark.sql.types.DataType = StructType(StructField(timestamp,LongType,&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;), StructField(timezone,StringType,&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can you post the query and the exception you got after you submitted the query?&lt;/p&gt;

&lt;p&gt;I will also take a look at it.&lt;/p&gt;</comment>
                            <comment id="14365248" author="nitay" created="Tue, 17 Mar 2015 14:49:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;yhuai&lt;/a&gt; that query works, but that&apos;s because there is no underlying table. What fails is if you have a table you&apos;re querying with that schema. Then no matter how you specify it in the SQL it will fail when it reads the schema.&lt;/p&gt;</comment>
                            <comment id="14365307" author="yhuai" created="Tue, 17 Mar 2015 15:20:14 +0000"  >&lt;p&gt;I see. The problem is that the data type string returned by Hive does not have backticks. Will take care it soon.&lt;/p&gt;</comment>
                            <comment id="14365735" author="yhuai" created="Tue, 17 Mar 2015 18:36:39 +0000"  >&lt;p&gt;Update: Seems this problem affects struct fields when a field name is using a reserved type keyword as the name. For top level column, it is fine.&lt;/p&gt;</comment>
                            <comment id="14366269" author="apachespark" created="Tue, 17 Mar 2015 23:05:25 +0000"  >&lt;p&gt;User &apos;yhuai&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/5078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5078&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14366284" author="yhuai" created="Tue, 17 Mar 2015 23:12:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nitay&quot; class=&quot;user-hover&quot; rel=&quot;nitay&quot;&gt;nitay&lt;/a&gt; Can you try &lt;a href=&quot;https://github.com/apache/spark/pull/5078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5078&lt;/a&gt; and see if it works for your case?&lt;/p&gt;</comment>
                            <comment id="14370240" author="nitay" created="Thu, 19 Mar 2015 22:19:26 +0000"  >&lt;p&gt;Sorry for delay I&apos;ll try it out asap, hopefully by eod tmrw.&lt;/p&gt;</comment>
                            <comment id="14372995" author="marmbrus" created="Sat, 21 Mar 2015 20:28:17 +0000"  >&lt;p&gt;Issue resolved by pull request 5078&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/5078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5078&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26lqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12329486">1.3.1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>