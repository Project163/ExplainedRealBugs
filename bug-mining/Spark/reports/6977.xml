<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:10:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-30612] can&apos;t resolve qualified column name with v2 tables</title>
                <link>https://issues.apache.org/jira/browse/SPARK-30612</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When running queries with qualified columns like `SELECT t.a FROM t`, it fails to resolve for v2 tables.&lt;/p&gt;

&lt;p&gt;v1 table is fine as we always wrap the v1 relation with a `SubqueryAlias`. We should do the same for v2 tables.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13281107">SPARK-30612</key>
            <summary>can&apos;t resolve qualified column name with v2 tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="imback82">Terry Kim</assignee>
                                    <reporter username="cloud_fan">Wenchen Fan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2020 03:42:51 +0000</created>
                <updated>Mon, 24 Feb 2020 05:38:27 +0000</updated>
                            <resolved>Thu, 6 Feb 2020 06:33:00 +0000</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17021729" author="cloud_fan" created="Thu, 23 Jan 2020 03:43:20 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=imback82&quot; class=&quot;user-hover&quot; rel=&quot;imback82&quot;&gt;imback82&lt;/a&gt; do you have time to work on it? Thanks&lt;/p&gt;</comment>
                            <comment id="17021752" author="imback82" created="Thu, 23 Jan 2020 04:00:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cloud_fan&quot; class=&quot;user-hover&quot; rel=&quot;cloud_fan&quot;&gt;cloud_fan&lt;/a&gt; Yes, I will work on this.&lt;/p&gt;</comment>
                            <comment id="17022343" author="brkyvz" created="Thu, 23 Jan 2020 18:14:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-30314&quot; title=&quot;Add identifier and catalog information to DataSourceV2Relation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-30314&quot;&gt;&lt;del&gt;SPARK-30314&lt;/del&gt;&lt;/a&gt; should help make this work easier&lt;/p&gt;</comment>
                            <comment id="17022675" author="imback82" created="Fri, 24 Jan 2020 04:16:06 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brkyvz&quot; class=&quot;user-hover&quot; rel=&quot;brkyvz&quot;&gt;brkyvz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There are two approaches we can take. One is to wrap v2 table with `SubqueryAlias`. Another is to update `DataSourceV2Relation`&apos;s output (Seq&lt;span class=&quot;error&quot;&gt;&amp;#91;AttributeReference&amp;#93;&lt;/span&gt;) to have qualifier directly (after &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-30314&quot; title=&quot;Add identifier and catalog information to DataSourceV2Relation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-30314&quot;&gt;&lt;del&gt;SPARK-30314&lt;/del&gt;&lt;/a&gt;). Which route should I take?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17022678" author="brkyvz" created="Fri, 24 Jan 2020 04:34:00 +0000"  >&lt;p&gt;I prefer SubqueryAlias. We need to support all degrees of the user provided&lt;br/&gt;
identifier I believe:&lt;/p&gt;

&lt;p&gt;SELECT testcat.ns1.ns2.tbl.foo FROM testcat.ns1.ns2.tbl&lt;/p&gt;

&lt;p&gt;SELECT ns1.ns2.tbl.foo FROM testcat.ns1.ns2.tbl&lt;/p&gt;

&lt;p&gt;SELECT ns2.tbl.foo FROM testcat.ns1.ns2.tbl&lt;/p&gt;

&lt;p&gt;SELECT tbl.foo FROM testcat.ns1.ns2.tbl&lt;/p&gt;

&lt;p&gt;should all work.&lt;/p&gt;

&lt;p&gt;However I&apos;m not sure if&lt;/p&gt;

&lt;p&gt;SELECT spark_catalog.default.tbl.foo FROM tbl&lt;/p&gt;

&lt;p&gt;should work. Are my assumptions correct?&lt;/p&gt;

</comment>
                            <comment id="17023036" author="cloud_fan" created="Fri, 24 Jan 2020 15:46:21 +0000"  >&lt;p&gt;I think the example from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brkyvz&quot; class=&quot;user-hover&quot; rel=&quot;brkyvz&quot;&gt;brkyvz&lt;/a&gt; is right. The column name qualifier should only refer to what specified in the table name.&lt;/p&gt;</comment>
                            <comment id="17031308" author="cloud_fan" created="Thu, 6 Feb 2020 06:33:00 +0000"  >&lt;p&gt;Issue resolved by pull request 27391&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/27391&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/27391&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0as9k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>