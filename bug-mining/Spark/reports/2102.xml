<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:29:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-8781] Published POMs are no longer effective POMs</title>
                <link>https://issues.apache.org/jira/browse/SPARK-8781</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Published to maven repository POMs are no longer effective POMs. E.g. &lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/spark/spark-core_2.11/1.4.2-SNAPSHOT/spark-core_2.11-1.4.2-20150702.043114-52.pom:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/spark/spark-core_2.11/1.4.2-SNAPSHOT/spark-core_2.11-1.4.2-20150702.043114-52.pom:&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;...
&amp;lt;dependency&amp;gt;
&amp;lt;groupId&amp;gt;org.apache.spark&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;spark-launcher_${scala.binary.version}&amp;lt;/artifactId&amp;gt;
&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;while it should be&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;...
&amp;lt;dependency&amp;gt;
&amp;lt;groupId&amp;gt;org.apache.spark&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;spark-launcher_2.11&amp;lt;/artifactId&amp;gt;
&amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The following commits are most likely the cause of it:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for branch-1.3: &lt;a href=&quot;https://github.com/apache/spark/commit/ce137b8ed3b240b7516046699ac96daa55ddc129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/ce137b8ed3b240b7516046699ac96daa55ddc129&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;for branch-1.4: &lt;a href=&quot;https://github.com/apache/spark/commit/84da653192a2d9edb82d0dbe50f577c4dc6a0c78&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/84da653192a2d9edb82d0dbe50f577c4dc6a0c78&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;for master: &lt;a href=&quot;https://github.com/apache/spark/commit/984ad60147c933f2d5a2040c87ae687c14eb1724&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/984ad60147c933f2d5a2040c87ae687c14eb1724&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;On branch-1.4 reverting the commit fixed the issue.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-3812&quot; title=&quot;Adapt maven build to publish effective pom.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-3812&quot;&gt;&lt;del&gt;SPARK-3812&lt;/del&gt;&lt;/a&gt; for additional details&lt;/p&gt;</description>
                <environment></environment>
        <key id="12842205">SPARK-8781</key>
            <summary>Published POMs are no longer effective POMs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrewor14">Andrew Or</assignee>
                                    <reporter username="k.shaposhnikov@gmail.com">Konstantin Shaposhnikov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jul 2015 05:28:08 +0000</created>
                <updated>Tue, 7 Jul 2015 02:30:04 +0000</updated>
                            <resolved>Thu, 2 Jul 2015 20:54:01 +0000</resolved>
                                    <version>1.3.2</version>
                    <version>1.4.0</version>
                    <version>1.5.0</version>
                                    <fixVersion>1.3.2</fixVersion>
                    <fixVersion>1.4.1</fixVersion>
                    <fixVersion>1.5.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14611571" author="srowen" created="Thu, 2 Jul 2015 06:57:05 +0000"  >&lt;p&gt;Does this affect release artifacts or just the snapshot?&lt;br/&gt;
That commit doesn&apos;t look related since it doesn&apos;t touch the lines you reference here. Are you sure? &lt;br/&gt;
If it&apos;s &apos;fixed&apos; by changing it is maybe something else at work?&lt;/p&gt;</comment>
                            <comment id="14611600" author="k.shaposhnikov@gmail.com" created="Thu, 2 Jul 2015 07:27:05 +0000"  >&lt;p&gt;I believe this will affect both released and SNAPSHOT artefacts. &lt;/p&gt;

&lt;p&gt;Basically, as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-3812&quot; title=&quot;Adapt maven build to publish effective pom.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-3812&quot;&gt;&lt;del&gt;SPARK-3812&lt;/del&gt;&lt;/a&gt; the build was changed to deploy an effective POMs into maven repository. E.g. in &lt;a href=&quot;https://repo1.maven.org/maven2/org/apache/spark/spark-core_2.11/1.4.0/spark-core_2.11-1.4.0.pom&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/org/apache/spark/spark-core_2.11/1.4.0/spark-core_2.11-1.4.0.pom&lt;/a&gt; you won&apos;t find &lt;tt&gt;${scala.binary.version&lt;/tt&gt;, it was resolved to 2.11 by the maven during the build. This is required for Scala 2.11 build to make sure that jars that are built with Scala 2.11 reference Scala 2.11 jars (e.g. spark-core_2.11 should depend on spark-launcher_2.11, not on spark-launcher_2.10). By default &lt;tt&gt;${scala.binary.version&lt;/tt&gt; will be resolved to 2.10 because scala-2.10 maven profile is the active by default.&lt;/p&gt;

&lt;p&gt;Publishing of effective POMs is implemented using maven-shade-plugin. To be honest I am not sure how exactly it works. However when I removed the following line from the parent POM &lt;tt&gt;&amp;lt;createDependencyReducedPom&amp;gt;false&amp;lt;/createDependencyReducedPom&amp;gt;&lt;/tt&gt; the build started to deploy effective POMs again.&lt;/p&gt;

&lt;p&gt;I hope my explanation helps.&lt;/p&gt;</comment>
                            <comment id="14611606" author="k.shaposhnikov@gmail.com" created="Thu, 2 Jul 2015 07:32:12 +0000"  >&lt;p&gt;The original commit that adds effective POM publishing: &lt;a href=&quot;https://github.com/apache/spark/commit/6e09c98b5d7ad92cf01a3b415008f48782f2f1a3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/6e09c98b5d7ad92cf01a3b415008f48782f2f1a3&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14611618" author="srowen" created="Thu, 2 Jul 2015 07:46:23 +0000"  >&lt;p&gt;Right, I get all that. Yes that makes it clear what the connection is to &lt;a href=&quot;https://github.com/apache/spark/commit/984ad60147c933f2d5a2040c87ae687c14eb1724&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/984ad60147c933f2d5a2040c87ae687c14eb1724&lt;/a&gt; &amp;#8211; it&apos;s the createDependencyReducedPom issue, maybe.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrewor14&quot; class=&quot;user-hover&quot; rel=&quot;andrewor14&quot;&gt;andrewor14&lt;/a&gt; do you have more color on why that bit was needed?&lt;/p&gt;</comment>
                            <comment id="14612220" author="andrewor14" created="Thu, 2 Jul 2015 17:11:27 +0000"  >&lt;p&gt;It was needed because of a bug in the maven shade plugin &lt;a href=&quot;https://issues.apache.org/jira/browse/MSHADE-148&quot; title=&quot;Shade Plugin gets stuck in infinite loop building dependency reduced POM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHADE-148&quot;&gt;&lt;del&gt;MSHADE-148&lt;/del&gt;&lt;/a&gt;. There was no way to get Spark to build on maven with the kinesis profile without disabling this. Simply removing that line is not sufficient. It seems that we&apos;ll need to do a slightly broader scale revert.&lt;/p&gt;

&lt;p&gt;The original intention of the offending commit is to fix a build problem caused by test improvements, which are of strictly lower priority than having correct poms in releases. I&apos;ll submit a fix.&lt;/p&gt;</comment>
                            <comment id="14612300" author="apachespark" created="Thu, 2 Jul 2015 18:03:02 +0000"  >&lt;p&gt;User &apos;andrewor14&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/7193&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/7193&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14612313" author="andrewor14" created="Thu, 2 Jul 2015 18:12:18 +0000"  >&lt;p&gt;Thanks for catching this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=k.shaposhnikov%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;k.shaposhnikov@gmail.com&quot;&gt;k.shaposhnikov@gmail.com&lt;/a&gt;. I&apos;m glad we caught this before the 1.4.1 release.&lt;/p&gt;</comment>
                            <comment id="14616076" author="andrewor14" created="Tue, 7 Jul 2015 02:30:04 +0000"  >&lt;p&gt;This was later reverted in master, branch-1.4 and branch-1.3. Instead, the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-8819&quot; title=&quot;Spark doesn&amp;#39;t compile with maven 3.3.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-8819&quot;&gt;&lt;del&gt;SPARK-8819&lt;/del&gt;&lt;/a&gt; (#7219) is used.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2grv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12329871">1.3.2</customfieldvalue>
    <customfieldvalue id="12332153">1.4.1</customfieldvalue>
    <customfieldvalue id="12332078">1.5.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>