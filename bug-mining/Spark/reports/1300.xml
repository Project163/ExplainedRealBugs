<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:22:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-5466] Build Error caused by Guava shading in Spark</title>
                <link>https://issues.apache.org/jira/browse/SPARK-5466</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Guava is shaded inside spark-core itself.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/commit/37a5e272f898e946c09c2e7de5d1bda6f27a8f39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/37a5e272f898e946c09c2e7de5d1bda6f27a8f39&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This causes build error in multiple components, including Graph/MLLib/SQL, when package com.google.common on the classpath incompatible with the version used when compiling Utils.class&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; bad symbolic reference. A signature in Utils.class refers to term util&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; in package com.google.common which is not available.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; It may be completely missing from the current classpath, or the version on&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; the classpath might be incompatible with the version used when compiling Utils.class.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt;      while compiling: /spark/graphx/src/main/scala/org/apache/spark/graphx/util/BytecodeUtils.scala&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt;         during phase: erasure&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt;      library version: version 2.10.4&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt;     compiler version: version 2.10.4&lt;/p&gt;</description>
                <environment></environment>
        <key id="12770845">SPARK-5466</key>
            <summary>Build Error caused by Guava shading in Spark</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vanzin">Marcelo Masiero Vanzin</assignee>
                                    <reporter username="janzhou">Jian Zhou</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jan 2015 23:06:27 +0000</created>
                <updated>Thu, 29 Jan 2015 21:01:21 +0000</updated>
                            <resolved>Thu, 29 Jan 2015 21:01:20 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14296031" author="srowen" created="Wed, 28 Jan 2015 23:18:49 +0000"  >&lt;p&gt;I see this too from a completely clean build.&lt;/p&gt;</comment>
                            <comment id="14296482" author="pwendell" created="Thu, 29 Jan 2015 07:01:04 +0000"  >&lt;p&gt;I sent &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt; and e-mail today about this. Guess I&apos;m not the only one seeing it. I was using zinc on OSX... are you guys using that too? I set up a zinc maven build on Jenkins and it worked just fine.&lt;/p&gt;</comment>
                            <comment id="14296483" author="pwendell" created="Thu, 29 Jan 2015 07:02:38 +0000"  >&lt;p&gt;Also - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt; can you reproduce this if you do not use Zinc?&lt;/p&gt;</comment>
                            <comment id="14296573" author="pwendell" created="Thu, 29 Jan 2015 08:31:12 +0000"  >&lt;p&gt;Okay Maven is reproducing this now even without zinc: &lt;a href=&quot;https://amplab.cs.berkeley.edu/jenkins/job/Spark-Master-Maven-pre-YARN/1393/hadoop.version=1.0.4,label=centos/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://amplab.cs.berkeley.edu/jenkins/job/Spark-Master-Maven-pre-YARN/1393/hadoop.version=1.0.4,label=centos/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It appears that it might only be happening with certain parameterizations of the build:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] bad symbolic reference. A signature in Utils.&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;refers to term util
in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.google.common which is not available.
It may be completely missing from the current classpath, or the version on
the classpath might be incompatible with the version used when compiling Utils.class.
[ERROR] 
     &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; compiling: /home/jenkins/workspace/Spark-Master-Maven-pre-YARN/hadoop.version/1.0.4/label/centos/graphx/src/main/scala/org/apache/spark/graphx/util/BytecodeUtils.scala
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14296630" author="srowen" created="Thu, 29 Jan 2015 09:22:43 +0000"  >&lt;p&gt;I saw the same error without zinc. I was doing a plain build with &lt;tt&gt;mvn -DskipTests clean package&lt;/tt&gt;. I tried &lt;tt&gt;mvn -DskipTests clean install&lt;/tt&gt; for kicks and got the same problem.&lt;/p&gt;</comment>
                            <comment id="14296674" author="bilna" created="Thu, 29 Jan 2015 10:32:36 +0000"  >&lt;p&gt;I too had the same exception while doing build with &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; mvn -DskipTests clean package &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14297198" author="vanzin" created="Thu, 29 Jan 2015 17:36:12 +0000"  >&lt;p&gt;Let me try that and see if I figure what&apos;s going on.&lt;/p&gt;</comment>
                            <comment id="14297210" author="vanzin" created="Thu, 29 Jan 2015 17:42:15 +0000"  >&lt;p&gt;Ok, I can reproduce it locally with the default parameters. I have a pretty good idea of what&apos;s going on, so stay tuned for a patch.&lt;/p&gt;</comment>
                            <comment id="14297277" author="apachespark" created="Thu, 29 Jan 2015 18:20:09 +0000"  >&lt;p&gt;User &apos;vanzin&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/4272&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/4272&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14297662" author="pwendell" created="Thu, 29 Jan 2015 21:01:20 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt; for quickly fixing this!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12760620">SPARK-4809</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24xd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327642">1.3.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>