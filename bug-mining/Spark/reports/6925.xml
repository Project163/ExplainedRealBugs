<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:09:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-28152] Mapped ShortType to SMALLINT and FloatType to REAL for MsSqlServerDialect</title>
                <link>https://issues.apache.org/jira/browse/SPARK-28152</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt; ShortType and FloatTypes are not correctly mapped to right JDBC types when using JDBC connector. This results in tables and spark data frame being created with unintended types. The issue was observed when validating against SQLServer.&lt;/p&gt;

&lt;p&gt;Some example issue&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Write from df with column type results in a SQL table of with column type as INTEGER as opposed to SMALLINT. Thus a larger table that expected.&lt;/li&gt;
	&lt;li&gt;read results in a dataframe with type INTEGER as opposed to ShortType&#160;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;FloatTypes have a issue with read path. In the write path Spark data type &apos;FloatType&apos; is correctly mapped to JDBC equivalent data type &apos;Real&apos;. But in the read path when JDBC data types need to be converted to Catalyst data types ( getCatalystType) &apos;Real&apos; gets incorrectly gets mapped to &apos;DoubleType&apos; rather than &apos;FloatType&apos;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13241349">SPARK-28152</key>
            <summary>Mapped ShortType to SMALLINT and FloatType to REAL for MsSqlServerDialect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shivsood">Shiv Prashant Sood</assignee>
                                    <reporter username="shivsood">Shiv Prashant Sood</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Jun 2019 22:08:31 +0000</created>
                <updated>Mon, 12 Dec 2022 18:10:58 +0000</updated>
                            <resolved>Mon, 15 Jul 2019 19:17:26 +0000</resolved>
                                    <version>2.4.3</version>
                    <version>3.0.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16872739" author="shivsood" created="Tue, 25 Jun 2019 21:42:31 +0000"  >&lt;p&gt;Resolved as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-28151&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-28151&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16884453" author="shivsood" created="Sat, 13 Jul 2019 19:03:42 +0000"  >&lt;p&gt;Reopening this issue to submit this change as a separate PR for clarity. Earlier this change for made part of the ByteType PR ( 28151)&lt;/p&gt;</comment>
                            <comment id="16884460" author="shivsood" created="Sat, 13 Jul 2019 19:28:43 +0000"  >&lt;p&gt;Pull request for fix created. &lt;a href=&quot;https://github.com/apache/spark/pull/25146&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/25146&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16885488" author="dongjoon" created="Mon, 15 Jul 2019 18:30:25 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shivsood&quot; class=&quot;user-hover&quot; rel=&quot;shivsood&quot;&gt;shivsood&lt;/a&gt;. Could you check `2.3.3` please, too?&lt;/p&gt;</comment>
                            <comment id="16885542" author="dongjoon" created="Mon, 15 Jul 2019 19:17:26 +0000"  >&lt;p&gt;This is resolved via &lt;a href=&quot;https://github.com/apache/spark/pull/25146&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/25146&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16892362" author="dongjoon" created="Thu, 25 Jul 2019 02:36:36 +0000"  >&lt;p&gt;This is merged to `branch-2.4` via &lt;a href=&quot;https://github.com/apache/spark/pull/25248&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/25248&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16984705" author="gurwls223" created="Fri, 29 Nov 2019 01:46:00 +0000"  >&lt;p&gt;it was reverted in branch-2.4 at &lt;a href=&quot;https://github.com/apache/spark/commit/00b61e36958118e98c6dbfa0515c11c8672a62ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/00b61e36958118e98c6dbfa0515c11c8672a62ac&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="13241340">SPARK-28151</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z04268:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>