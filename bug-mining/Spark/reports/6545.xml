<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:05:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-28015] Check stringToDate() consumes entire input for the yyyy and yyyy-[m]m formats</title>
                <link>https://issues.apache.org/jira/browse/SPARK-28015</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Invalid date formats should throw an exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;1999 08 01&apos;&lt;/span&gt;
1999-01-01
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Supported date formats:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/blob/ab8710b57916a129fcb89464209361120d224535/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/DateTimeUtils.scala#L365-L374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/ab8710b57916a129fcb89464209361120d224535/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/DateTimeUtils.scala#L365-L374&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Since Spark 1.6.3 ~ 2.4.3, the behavior is the same.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
spark-sql&amp;gt; SELECT CAST(&lt;span class=&quot;code-quote&quot;&gt;&apos;1999 08 01&apos;&lt;/span&gt; AS DATE);
1999-01-01
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hive returns NULL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13238956">SPARK-28015</key>
            <summary>Check stringToDate() consumes entire input for the yyyy and yyyy-[m]m formats</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="maxgekk">Max Gekk</assignee>
                                    <reporter username="yumwang">Yuming Wang</reporter>
                        <labels>
                            <label>correctness</label>
                    </labels>
                <created>Wed, 12 Jun 2019 07:07:05 +0000</created>
                <updated>Thu, 11 Jul 2019 08:48:58 +0000</updated>
                            <resolved>Thu, 11 Jul 2019 01:13:31 +0000</resolved>
                                    <version>1.6.3</version>
                    <version>2.0.2</version>
                    <version>2.1.3</version>
                    <version>2.2.3</version>
                    <version>2.3.3</version>
                    <version>2.4.3</version>
                                    <fixVersion>2.4.4</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16877275" author="iskenderunlu804" created="Tue, 2 Jul 2019 19:51:21 +0000"  >&lt;p&gt;I will try to work on this issue as my first contribution trial.&lt;/p&gt;</comment>
                            <comment id="16879062" author="dongjoon" created="Fri, 5 Jul 2019 08:22:09 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iskenderunlu804&quot; class=&quot;user-hover&quot; rel=&quot;iskenderunlu804&quot;&gt;iskenderunlu804&lt;/a&gt;. Please file a PR on Apache Spark repo.&lt;/p&gt;</comment>
                            <comment id="16881884" author="maxgekk" created="Wed, 10 Jul 2019 09:24:17 +0000"  >&lt;p&gt;I don&apos;t think the stringToDate() function should throw an exception in that case. Its return type is Option&lt;span class=&quot;error&quot;&gt;&amp;#91;SQLDate&amp;#93;&lt;/span&gt;, so, it should just return None.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iskenderunlu804&quot; class=&quot;user-hover&quot; rel=&quot;iskenderunlu804&quot;&gt;iskenderunlu804&lt;/a&gt; Are you working on the issue? Please, let us know, if not I will prepare a PR.&lt;/p&gt;</comment>
                            <comment id="16881887" author="iskenderunlu804" created="Wed, 10 Jul 2019 09:27:40 +0000"  >&lt;p&gt;Maxim Gekk, you might prepare a PR.&lt;/p&gt;</comment>
                            <comment id="16882275" author="dongjoon" created="Wed, 10 Jul 2019 17:07:53 +0000"  >&lt;p&gt;I added `1.6~2.3` as `Affected Versions`, too.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
scala&amp;gt; sql(&lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT CAST(&lt;span class=&quot;code-quote&quot;&gt;&apos;1999 08 01&apos;&lt;/span&gt; AS DATE)&quot;&lt;/span&gt;).show
+------------------------+
|CAST(1999 08 01 AS DATE)|
+------------------------+
|              1999-01-01|
+------------------------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16882280" author="dongjoon" created="Wed, 10 Jul 2019 17:19:18 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yumwang&quot; class=&quot;user-hover&quot; rel=&quot;yumwang&quot;&gt;yumwang&lt;/a&gt;. I updated the JIRA title according to the PR.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;We will throw exceptions for `date` prefix&lt;/li&gt;
	&lt;li&gt;We will return NULL for CASTING.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16882524" author="q79969786" created="Thu, 11 Jul 2019 00:17:42 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dongjoon&quot; class=&quot;user-hover&quot; rel=&quot;dongjoon&quot;&gt;dongjoon&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16882567" author="dongjoon" created="Thu, 11 Jul 2019 01:13:31 +0000"  >&lt;p&gt;This is resolved via &lt;a href=&quot;https://github.com/apache/spark/pull/25097&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/25097&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z03ngw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>