<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:49:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-18374] Incorrect words in StopWords/english.txt</title>
                <link>https://issues.apache.org/jira/browse/SPARK-18374</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;I was just double checking english.txt for list of stopwords as I felt it was taking out valid tokens like &apos;won&apos;. I think issue is english.txt list is missing apostrophe character and all character after apostrophe. So &quot;won&apos;t&quot; becam &quot;won&quot; in that list; &quot;wouldn&apos;t&quot; is &quot;wouldn&quot; .&lt;/p&gt;

&lt;p&gt;Here are some incorrect tokens in this list:&lt;/p&gt;

&lt;p&gt;won&lt;br/&gt;
wouldn&lt;br/&gt;
ma&lt;br/&gt;
mightn&lt;br/&gt;
mustn&lt;br/&gt;
needn&lt;br/&gt;
shan&lt;br/&gt;
shouldn&lt;br/&gt;
wasn&lt;br/&gt;
weren&lt;/p&gt;

&lt;p&gt;I think ideal list should have both style. i.e. won&apos;t and wont both should be part of english.txt as some tokenizer might remove special characters. But &apos;won&apos; is obviously shouldn&apos;t be in this list.&lt;/p&gt;

&lt;p&gt;Here&apos;s list of snowball english stop words:&lt;br/&gt;
&lt;a href=&quot;http://snowball.tartarus.org/algorithms/english/stop.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://snowball.tartarus.org/algorithms/english/stop.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13019439">SPARK-18374</key>
            <summary>Incorrect words in StopWords/english.txt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuhaoyan">yuhao yang</assignee>
                                    <reporter username="tenstriker">nirav patel</reporter>
                        <labels>
                            <label>releasenotes</label>
                    </labels>
                <created>Wed, 9 Nov 2016 02:08:02 +0000</created>
                <updated>Thu, 15 Dec 2016 01:31:19 +0000</updated>
                            <resolved>Tue, 6 Dec 2016 21:12:40 +0000</resolved>
                                    <version>2.0.1</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>ML</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15649953" author="yuhaoyan" created="Wed, 9 Nov 2016 06:32:50 +0000"  >&lt;p&gt;Just to provide some history info for the issue: &lt;a href=&quot;https://github.com/apache/spark/pull/11871#issuecomment-199832509&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/11871#issuecomment-199832509&lt;/a&gt;, according to which english stopwords were argumented.&lt;/p&gt;</comment>
                            <comment id="15650799" author="srowen" created="Wed, 9 Nov 2016 12:27:48 +0000"  >&lt;p&gt;I think the idea is that it&apos;s applied post-tokenization, after which &quot;won&apos;t&quot; becomes &quot;won&quot; and &quot;t&quot;. Removing them would cause a different perhaps bigger problem. It does seem more ideal to not split &quot;won&apos;t&quot; of course and maybe that&apos;s a way forward, but I&apos;m not sure how to do that reliably in a language-agnostic way without implementing a lot more sophisticated logic.&lt;/p&gt;</comment>
                            <comment id="15651793" author="tenstriker" created="Wed, 9 Nov 2016 19:17:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srowen&quot; class=&quot;user-hover&quot; rel=&quot;srowen&quot;&gt;srowen&lt;/a&gt; Do you mean how to tokenize words in language agnostic way? means there are some language where it make sense to break &quot;won&apos;t&quot; into &quot;won&quot; and &quot;t&quot; ? &lt;br/&gt;
At least other tokenizer like lucene families doesn&apos;t do this. Seems plainly incorrect . Other language where it make sense to tokenize on &quot;&apos;&quot; instead of removing it there should be different tokenizer and they can then follow their stopwords list correctly in that regards. Tokenizer in that regards should not be generic same as stopwrods.&lt;/p&gt;</comment>
                            <comment id="15652076" author="srowen" created="Wed, 9 Nov 2016 21:25:04 +0000"  >&lt;p&gt;It&apos;s a fair point indeed, because it would be much better to omit &quot;won&apos;t&quot; than incorrectly omit &quot;won&quot;, rare as that might be. Right now, simply removing those words causes a different problem because, I presume, you&apos;d find &quot;won&quot; and &quot;t&quot; in your tokens. (Worth testing?) If you can see an easy way to improve the tokenization, that could become the topic of this issue.&lt;/p&gt;</comment>
                            <comment id="15662015" author="yuhaoyan" created="Sun, 13 Nov 2016 20:10:38 +0000"  >&lt;p&gt;With the default behavior of the &lt;em&gt;Tokenizer&lt;/em&gt; and &lt;em&gt;RegexTokenizer&lt;/em&gt;, I think it&apos;s more reasonable to directly include words like &lt;em&gt;won&apos;t&lt;/em&gt;, &lt;em&gt;haven&apos;t&lt;/em&gt; in the stop words lists, as shown in the list on &lt;a href=&quot;http://www.ranks.nl/stopwords&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ranks.nl/stopwords&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;More specifically, if a user is using the default &lt;em&gt;Tokenizer&lt;/em&gt; and &lt;em&gt;RegexTokenizer&lt;/em&gt; in spark.ml without customization, then &lt;em&gt;weren&lt;/em&gt;, &lt;em&gt;wasn&lt;/em&gt; in current stop words list are useless&#65292;whereas &lt;em&gt;weren&apos;t&lt;/em&gt; and &lt;em&gt;wasn&apos;t&lt;/em&gt; can be helpful. The default behavior of ml transformers should be consistent and effective.&lt;/p&gt;</comment>
                            <comment id="15663273" author="srowen" created="Mon, 14 Nov 2016 09:27:03 +0000"  >&lt;p&gt;Adding the stop-words is fine, however, if the upstream transformers are splitting on a single quote, it won&apos;t have the desired effect. I haven&apos;t looked into it, sounds like you have &amp;#8211; they &lt;em&gt;don&apos;t&lt;/em&gt; split on quote? then sure, this should be fixed. A simple test to show it would be great to verify the change.&lt;/p&gt;</comment>
                            <comment id="15664503" author="yuhaoyan" created="Mon, 14 Nov 2016 17:40:29 +0000"  >&lt;p&gt;Thanks for the response. By default, &lt;em&gt;Tokenizer&lt;/em&gt; equals to &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;split(&quot;\\s&quot;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; and &lt;em&gt;RegexTokenizer&lt;/em&gt; equals to &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;split(&quot;\\s+&quot;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;, which means no split on apostrophes or quotes. &lt;em&gt;RegexTokenizer&lt;/em&gt; can surely support customized regex pattern for split.&lt;/p&gt;</comment>
                            <comment id="15664807" author="srowen" created="Mon, 14 Nov 2016 19:40:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=whisper&quot; class=&quot;user-hover&quot; rel=&quot;whisper&quot;&gt;whisper&lt;/a&gt; do you have a comment here? it does seem like stopwords like &quot;wouldn&quot; should be &quot;wouldn&apos;t&quot; for example. Does that seem right to you, given your change in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-14050&quot; title=&quot;Add multiple languages support for Stop Words Remover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-14050&quot;&gt;&lt;del&gt;SPARK-14050&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15707560" author="yuhaoyan" created="Wed, 30 Nov 2016 05:04:25 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mengxr&quot; class=&quot;user-hover&quot; rel=&quot;mengxr&quot;&gt;mengxr&lt;/a&gt; to see if he recalls any specific reason.&lt;/p&gt;</comment>
                            <comment id="15707642" author="mengxr" created="Wed, 30 Nov 2016 05:59:11 +0000"  >&lt;p&gt;See the discussion here: &lt;a href=&quot;https://github.com/nltk/nltk_data/issues/22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nltk/nltk_data/issues/22&lt;/a&gt;. Including `won` is apparently a mistake.&lt;/p&gt;</comment>
                            <comment id="15707659" author="yuhaoyan" created="Wed, 30 Nov 2016 06:04:30 +0000"  >&lt;p&gt;Yes. Currently we&apos;re discussing if we should put &quot;wouldn&apos;t&quot; (rather than &quot;wonldnt&quot;) directly into MLlib&apos;s stop words list, because by default Tokenizer in Spark does not split on apostrophes or quotes.&lt;/p&gt;</comment>
                            <comment id="15708181" author="srowen" created="Wed, 30 Nov 2016 10:32:34 +0000"  >&lt;p&gt;I think you can proceed to remove things like &quot;won&quot; but also &quot;wouldn&quot;&lt;/p&gt;</comment>
                            <comment id="15710198" author="yuhaoyan" created="Wed, 30 Nov 2016 23:32:58 +0000"  >&lt;p&gt;I checked with some other lists of stopwords and got a list to add, but it&apos;s longer than I thought:&lt;br/&gt;
i&apos;ll&lt;br/&gt;
you&apos;ll&lt;br/&gt;
he&apos;ll&lt;br/&gt;
she&apos;ll&lt;br/&gt;
we&apos;ll&lt;br/&gt;
they&apos;ll&lt;br/&gt;
i&apos;d&lt;br/&gt;
you&apos;d&lt;br/&gt;
he&apos;d&lt;br/&gt;
she&apos;d&lt;br/&gt;
we&apos;d&lt;br/&gt;
they&apos;d&lt;br/&gt;
i&apos;m&lt;br/&gt;
you&apos;re&lt;br/&gt;
he&apos;s&lt;br/&gt;
she&apos;s&lt;br/&gt;
it&apos;s&lt;br/&gt;
we&apos;re&lt;br/&gt;
they&apos;re&lt;br/&gt;
i&apos;ve&lt;br/&gt;
we&apos;ve&lt;br/&gt;
you&apos;ve&lt;br/&gt;
they&apos;ve&lt;br/&gt;
isn&apos;t&lt;br/&gt;
aren&apos;t&lt;br/&gt;
wasn&apos;t&lt;br/&gt;
weren&apos;t&lt;br/&gt;
haven&apos;t&lt;br/&gt;
hasn&apos;t&lt;br/&gt;
hadn&apos;t&lt;br/&gt;
don&apos;t&lt;br/&gt;
doesn&apos;t&lt;br/&gt;
didn&apos;t&lt;br/&gt;
won&apos;t&lt;br/&gt;
wouldn&apos;t&lt;br/&gt;
shan&apos;t&lt;br/&gt;
shouldn&apos;t&lt;br/&gt;
mustn&apos;t&lt;br/&gt;
can&apos;t&lt;br/&gt;
couldn&apos;t&lt;/p&gt;

&lt;p&gt;any concern?&lt;/p&gt;</comment>
                            <comment id="15711645" author="srowen" created="Thu, 1 Dec 2016 10:55:26 +0000"  >&lt;p&gt;Seems OK to me and to remove the stems like won.&lt;/p&gt;</comment>
                            <comment id="15712533" author="apachespark" created="Thu, 1 Dec 2016 17:22:06 +0000"  >&lt;p&gt;User &apos;hhbyyh&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/16103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/16103&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15726725" author="srowen" created="Tue, 6 Dec 2016 21:12:41 +0000"  >&lt;p&gt;Issue resolved by pull request 16103&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/16103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/16103&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15749114" author="josephkb" created="Wed, 14 Dec 2016 18:49:31 +0000"  >&lt;p&gt;I noted this change of behavior in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-18864&quot; title=&quot;Changes of MLlib and SparkR behavior for 2.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-18864&quot;&gt;&lt;del&gt;SPARK-18864&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15749138" author="srowen" created="Wed, 14 Dec 2016 18:56:03 +0000"  >&lt;p&gt;Yeah I tagged as &apos;releasenotes&apos; for that reason &amp;#8211; not sure how official that is as our mechanism. You might look at anything recent tagged that way as a possible candidate.&lt;/p&gt;</comment>
                            <comment id="15750041" author="josephkb" created="Thu, 15 Dec 2016 01:31:19 +0000"  >&lt;p&gt;Oh nice, I didn&apos;t realize that was in use.  I&apos;ll start doing that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i363w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>