<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:18:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-31525] Inconsistent result of df.head(1) and df.head()</title>
                <link>https://issues.apache.org/jira/browse/SPARK-31525</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In this line &lt;a href=&quot;https://github.com/apache/spark/blob/master/python/pyspark/sql/dataframe.py#L1339&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/python/pyspark/sql/dataframe.py#L1339&lt;/a&gt;, if you are calling `df.head()` and dataframe is empty, it will return &lt;b&gt;None&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;but if you are calling `df.head(1)` and dataframe is empty, it will return &lt;b&gt;empty list&lt;/b&gt; instead.&lt;/p&gt;

&lt;p&gt;This particular behaviour is not consistent and can create confusion. Especially when you are calling `len(df.head())` which will throw an exception for empty dataframe&lt;/p&gt;</description>
                <environment></environment>
        <key id="13300420">SPARK-31525</key>
            <summary>Inconsistent result of df.head(1) and df.head()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joshuahendinata">Joshua Hendinata</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Apr 2020 03:46:23 +0000</created>
                <updated>Mon, 12 Dec 2022 18:11:02 +0000</updated>
                                            <version>2.4.6</version>
                    <version>3.0.0</version>
                                                    <component>PySpark</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="17094028" author="holdenk" created="Mon, 27 Apr 2020 23:53:01 +0000"  >&lt;p&gt;I agree it&apos;s inconsistent, also the docs are a little misleading. I think the root cause is we&apos;re using head as both `peek` and `take` which is why we&apos;ve got mixed metaphores. cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davies&quot; class=&quot;user-hover&quot; rel=&quot;davies&quot;&gt;davies&lt;/a&gt;&#160;who worked on this code most recently (2015) for his thoughts.&lt;/p&gt;</comment>
                            <comment id="17146026" author="smilegator" created="Fri, 26 Jun 2020 06:06:52 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hyukjin.kwon&quot; class=&quot;user-hover&quot; rel=&quot;hyukjin.kwon&quot;&gt;hyukjin.kwon&lt;/a&gt;&#160;and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ueshin&quot; class=&quot;user-hover&quot; rel=&quot;ueshin&quot;&gt;ueshin&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17146029" author="gurwls223" created="Fri, 26 Jun 2020 06:14:53 +0000"  >&lt;p&gt;Yeah, I think it should return an empty list instead of None.&lt;/p&gt;</comment>
                            <comment id="17146030" author="gurwls223" created="Fri, 26 Jun 2020 06:15:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joshuahendinata&quot; class=&quot;user-hover&quot; rel=&quot;joshuahendinata&quot;&gt;joshuahendinata&lt;/a&gt; are you interested in submitting a PR?&lt;/p&gt;</comment>
                            <comment id="17164084" author="apachespark" created="Fri, 24 Jul 2020 02:19:16 +0000"  >&lt;p&gt;User &apos;tianshizz&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29214&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29214&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17164086" author="apachespark" created="Fri, 24 Jul 2020 02:20:36 +0000"  >&lt;p&gt;User &apos;tianshizz&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29214&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29214&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17166124" author="gurwls223" created="Tue, 28 Jul 2020 03:33:58 +0000"  >&lt;p&gt;Issue resolved by pull request 29214&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/29214&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/29214&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17166831" author="gurwls223" created="Wed, 29 Jul 2020 03:08:58 +0000"  >&lt;p&gt;Sorry I was confused. Let&apos;s keep it consistent with Scala side. Reverted at &lt;a href=&quot;https://github.com/apache/spark/commit/5491c08bf1d3472e712c0dd88c2881d6496108c0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/commit/5491c08bf1d3472e712c0dd88c2881d6496108c0&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0dz1k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>