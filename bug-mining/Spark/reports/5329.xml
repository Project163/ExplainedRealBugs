<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:57:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-18935] Use Mesos &quot;Dynamic Reservation&quot; resource for Spark</title>
                <link>https://issues.apache.org/jira/browse/SPARK-18935</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;I&apos;m running spark on Apache Mesos&lt;/p&gt;

&lt;p&gt;Please follow these steps to reproduce the issue:&lt;/p&gt;

&lt;p&gt;1. First, run Mesos resource reserve:&lt;/p&gt;

&lt;p&gt;curl -i -d slaveId=c24d1cfb-79f3-4b07-9f8b-c7b19543a333-S0 -d resources=&apos;[{&quot;name&quot;:&quot;cpus&quot;,&quot;type&quot;:&quot;SCALAR&quot;,&quot;scalar&quot;:&lt;/p&gt;
{&quot;value&quot;:20}
&lt;p&gt;,&quot;role&quot;:&quot;spark&quot;,&quot;reservation&quot;:{&quot;principal&quot;:&quot;&quot;}},{&quot;name&quot;:&quot;mem&quot;,&quot;type&quot;:&quot;SCALAR&quot;,&quot;scalar&quot;:&lt;/p&gt;
{&quot;value&quot;:4096}
&lt;p&gt;,&quot;role&quot;:&quot;spark&quot;,&quot;reservation&quot;:{&quot;principal&quot;:&quot;&quot;}}]&apos; -X POST &lt;a href=&quot;http://192.168.1.118:5050/master/reserve&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://192.168.1.118:5050/master/reserve&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;2. Then run spark-submit command:&lt;/p&gt;

&lt;p&gt;./spark-submit --class org.apache.spark.examples.SparkPi --master mesos://192.168.1.118:5050 --conf spark.mesos.role=spark  ../examples/jars/spark-examples_2.11-2.0.2.jar 10000&lt;/p&gt;


&lt;p&gt;And the console will keep loging same warning message as shown below: &lt;/p&gt;

&lt;p&gt;16/12/19 22:33:28 WARN TaskSchedulerImpl: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029341">SPARK-18935</key>
            <summary>Use Mesos &quot;Dynamic Reservation&quot; resource for Spark</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skonto">Stavros Kontopoulos</assignee>
                                    <reporter username="jackyoh">jackyoh</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 04:05:45 +0000</created>
                <updated>Wed, 29 Nov 2017 22:16:43 +0000</updated>
                            <resolved>Wed, 29 Nov 2017 22:16:43 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>2.0.1</version>
                    <version>2.0.2</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Mesos</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="16100016" author="arand" created="Tue, 25 Jul 2017 13:17:20 +0000"  >&lt;p&gt;Are people still interested in this being fixed? I&apos;m going to try and reproduce the problem and scope out the effort to fix it. &lt;/p&gt;</comment>
                            <comment id="16100863" author="ameenakel" created="Tue, 25 Jul 2017 22:16:14 +0000"  >&lt;p&gt;Although I&apos;m only one data point: I&apos;m interested in this being fixed.&lt;/p&gt;</comment>
                            <comment id="16184025" author="skonto" created="Thu, 28 Sep 2017 11:22:04 +0000"  >&lt;p&gt;I can reproduce it locally in client mode according to the example, I am looking into this.&lt;/p&gt;

&lt;p&gt;Btw I tested this a while ago with spark latest version (master) and cluster mode (if I recall correctly) and stuck here:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;I0829 14:05:56.342872 21756 master.cpp:6532] Sending status update TASK_ERROR for task 1 of framework f0a1a46a-e404-4faa-87f7-29479f30b57e-0009 &apos;Total resources cpus(spark-prive)(allocated: spark-prive):1; cpus(*)(allocated: spark-prive):1; mem(spark-prive)(allocated: spark-prive):1024; mem(*)(allocated: spark-prive):384 required by task and its executor is more than available disk(spark-prive, )(allocated: spark-prive):1000; ports(spark-prive, )(allocated: spark-prive):[31000-32000]; cpus(spark-prive, )(allocated: spark-prive):1; mem(spark-prive, )(allocated: spark-prive):1024; cpus(*)(allocated: spark-prive):1; mem(*)(allocated: spark-prive):976; disk(*)(allocated: spark-prive):9000&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;To reserve resources I used:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl -i -d slaveId=cf885682-8a28-4e82-b5db-a01277edfafc-S0 -d resources=&lt;span class=&quot;code-quote&quot;&gt;&apos;[{&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;disk&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;SCALAR&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;scalar&quot;&lt;/span&gt;: {&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:1000} ,&lt;span class=&quot;code-quote&quot;&gt;&quot;role&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;spark-prive&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;reservation&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;principal&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;}},{&quot;&lt;/span&gt;name&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;ports&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;type&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;RANGES&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;ranges&lt;span class=&quot;code-quote&quot;&gt;&quot;: { &quot;&lt;/span&gt;range&lt;span class=&quot;code-quote&quot;&gt;&quot;: [{&quot;&lt;/span&gt;begin&lt;span class=&quot;code-quote&quot;&gt;&quot;: 31000, &quot;&lt;/span&gt;end&lt;span class=&quot;code-quote&quot;&gt;&quot;: 32000}] },&quot;&lt;/span&gt;role&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;spark-prive&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;reservation&lt;span class=&quot;code-quote&quot;&gt;&quot;:{&quot;&lt;/span&gt;principal&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;}}, {&quot;&lt;/span&gt;name&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;cpus&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;type&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;SCALAR&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;scalar&lt;span class=&quot;code-quote&quot;&gt;&quot;: {&quot;&lt;/span&gt;value&lt;span class=&quot;code-quote&quot;&gt;&quot;:1} ,&quot;&lt;/span&gt;role&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;spark-prive&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;reservation&lt;span class=&quot;code-quote&quot;&gt;&quot;:{&quot;&lt;/span&gt;principal&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;}},{&quot;&lt;/span&gt;name&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;mem&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;type&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;SCALAR&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;scalar&lt;span class=&quot;code-quote&quot;&gt;&quot;: {&quot;&lt;/span&gt;value&lt;span class=&quot;code-quote&quot;&gt;&quot;:1024},&quot;&lt;/span&gt;role&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;spark-prive&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;reservation&lt;span class=&quot;code-quote&quot;&gt;&quot;:{&quot;&lt;/span&gt;principal&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;&quot;}}]&apos;&lt;/span&gt; -X POST http:&lt;span class=&quot;code-comment&quot;&gt;//172.17.0.1:5050/master/reserve
&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error comes from here: &lt;a href=&quot;https://github.com/apache/mesos/blob/11ee081ee578ea12e85799e00c5fe8b89eb6ea5f/src/master/validation.cpp#L1339&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/mesos/blob/11ee081ee578ea12e85799e00c5fe8b89eb6ea5f/src/master/validation.cpp#L1339&lt;/a&gt;.&lt;br/&gt;
I havent checked with a principal yet, but seems optional if you have no authorization (&lt;a href=&quot;https://github.com/apache/mesos/commit/efbdef8dfd96ff08c1342b171ef89dcb266bdce7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/mesos/commit/efbdef8dfd96ff08c1342b171ef89dcb266bdce7&lt;/a&gt;.&lt;br/&gt;
However the comments here require it: &lt;a href=&quot;https://github.com/apache/mesos/blob/master/include/mesos/mesos.proto#L274-L278&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/mesos/blob/master/include/mesos/mesos.proto#L274-L278&lt;/a&gt;&lt;br/&gt;
The error itself indicates that for some reason the task resources requested are less than the available on the slave. I checked the numbers does not make sense unless there is a mismatch for the principal empty vs &quot;&quot; or something. I will test. Since numbers are fine it seems the failure is somewhere here where the resources are compared: &lt;a href=&quot;https://github.com/apache/mesos/blob/d47641039f5e2dd18af007250ef7ae2a34258a2d/src/common/resources.cpp#L438&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/mesos/blob/d47641039f5e2dd18af007250ef7ae2a34258a2d/src/common/resources.cpp#L438&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16184588" author="skonto" created="Thu, 28 Sep 2017 18:15:42 +0000"  >&lt;p&gt;I verified the example and error is the same yet the reason is as in the cluster mode case:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
17/09/28 21:07:34 INFO MesosCoarseGrainedSchedulerBackend: Mesos task 1 is now TASK_ERROR
17/09/28 21:07:34 INFO MesosCoarseGrainedSchedulerBackend: Blacklisting Mesos slave 433038b9-80aa-43ef-b6eb-0075f5028d37-S0 due to too many failures; is Spark installed on it?
17/09/28 21:07:34 DEBUG CoarseGrainedSchedulerBackend$DriverEndpoint: Asked to remove executor 1 with reason Executor finished with state LOST
17/09/28 21:07:34 INFO BlockManagerMaster: Removal of executor 1 requested
17/09/28 21:07:34 INFO CoarseGrainedSchedulerBackend$DriverEndpoint: Asked to remove non-existent executor 1
17/09/28 21:07:34 INFO BlockManagerMasterEndpoint: Trying to remove executor 1 from BlockManagerMaster.

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The task is failing and the agent is blacklisted which leads to starvation. &lt;br/&gt;
In the scheduler we check for task failures for a slave in order to avoid feature launches there:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;slaves.get(slaveId).map(_.taskFailures).getOrElse(0) &amp;lt; MAX_SLAVE_FAILURES 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The task is failing due to:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;I0928 21:07:34.621839  5559 master.cpp:6532] Sending status update TASK_ERROR for task 0 of framework e46985fe-1392-4d39-a3d5-e7ec77810695-0004 &apos;Total resources cpus(spark-prive)(allocated: spark-prive):8; mem(spark-prive)(allocated: spark-prive):1408 required by task and its executor is more than available ports(spark-prive, )(allocated: spark-prive):[31000-32000]; disk(spark-prive, )(allocated: spark-prive):1000; cpus(spark-prive, )(allocated: spark-prive):8; mem(spark-prive, )(allocated: spark-prive):10024; mem(*)(allocated: spark-prive):4590; disk(*)(allocated: spark-prive):103216&apos;
I0928 21:07:34.622593  5559 hierarchical.cpp:850] Updated allocation of framework e46985fe-1392-4d39-a3d5-e7ec77810695-0004 on agent 433038b9-80aa-43ef-b6eb-0075f5028d37-S0 from ports(spark-prive, )(allocated: spark-prive):[31000-32000]; disk(spark-prive, )(allocated: spark-prive):1000; cpus(spark-prive, )(allocated: spark-prive):8; mem(spark-prive, )(allocated: spark-prive):10024; mem(*)(allocated: spark-prive):4590; disk(*)(allocated: spark-prive):103216 to ports(spark-prive, )(allocated: spark-prive):[31000-32000]; disk(spark-prive, )(allocated: spark-prive):1000; cpus(spark-prive, )(allocated: spark-prive):8; mem(spark-prive, )(allocated: spark-prive):10024; mem(*)(allocated: spark-prive):4590; disk(*)(allocated: spark-prive):103216
I0928 21:07:34.647950  5559 master.cpp:4941] Processing REVIVE call for framework e46985fe-1392-4d39-a3d5-e7ec77810695-0004 (Spark Pi) at scheduler-df433215-b87c-4b9b-993c-a3253c5f11a8@127.0.1.1:34775

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So again its the same reason as I have seen before.&lt;/p&gt;

&lt;p&gt;If I try to set a principle to spark mesos framework will not be able to register because even if I set a secret the driver will be aborted:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;I0928 21:19:54.793844  7363 sched.cpp:232] Version: 1.3.0
I0928 21:19:54.795897  7355 sched.cpp:336] New master detected at master@127.0.1.1:5050
I0928 21:19:54.796042  7355 sched.cpp:407] Authenticating with master master@127.0.1.1:5050
I0928 21:19:54.796052  7355 sched.cpp:414] Using default CRAM-MD5 authenticatee
I0928 21:19:54.796152  7361 authenticatee.cpp:97] Initializing client SASL
I0928 21:19:54.814299  7361 authenticatee.cpp:121] Creating new client SASL connection
I0928 21:19:54.815407  7357 authenticatee.cpp:213] Received SASL authentication mechanisms: CRAM-MD5
I0928 21:19:54.815421  7357 authenticatee.cpp:239] Attempting to authenticate with mechanism &apos;CRAM-MD5&apos;
I0928 21:19:54.815757  7360 authenticatee.cpp:259] Received SASL authentication step
E0928 21:19:54.816179  7355 sched.cpp:507] Master master@127.0.1.1:5050 refused authentication
I0928 21:19:54.816193  7355 sched.cpp:1187] Got error &apos;Master refused authentication&apos;
I0928 21:19:54.816200  7355 sched.cpp:2055] Asked to abort the driver
17/09/28 21:19:54 ERROR MesosCoarseGrainedSchedulerBackend: Mesos error: Master refused authentication
Exception in thread &quot;Thread-12&quot; org.apache.spark.SparkException: Exiting due to error from cluster scheduler: Master refused authentication
	at org.apache.spark.scheduler.TaskSchedulerImpl.error(TaskSchedulerImpl.scala:500)
	at org.apache.spark.scheduler.cluster.mesos.MesosCoarseGrainedSchedulerBackend.error(MesosCoarseGrainedSchedulerBackend.scala:599)
I0928 21:19:54.817343  7355 sched.cpp:2055] Asked to abort the driver
I0928 21:19:54.817355  7355 sched.cpp:1233] Aborting framework 

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="16184979" author="skonto" created="Thu, 28 Sep 2017 22:05:25 +0000"  >&lt;p&gt;Using a principal does not make any difference:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;I0928 22:39:34.785213 11269 master.cpp:6532] Sending status update TASK_ERROR for task 0 of framework f20de49b-dee3-45dd-a3c1-73418b7de891-0000 &apos;Total resources cpus(spark-prive)(allocated: spark-prive):8; mem(spark-prive)(allocated: spark-prive):1408 required by task and its executor is more than available ports(spark-prive, test)(allocated: spark-prive):[31000-32000]; disk(spark-prive, test)(allocated: spark-prive):1000; cpus(spark-prive, test)(allocated: spark-prive):8; mem(spark-prive, test)(allocated: spark-prive):10024; mem(*)(allocated: spark-prive):4590; disk(*)(allocated: spark-prive):103216&apos;
I0928 22:39:34.785848 11270 hierarchical.cpp:850] Updated allocation of framework f20de49b-dee3-45dd-a3c1-73418b7de891-0000 on agent 433038b9-80aa-43ef-b6eb-0075f5028d37-S0 from ports(spark-prive, test)(allocated: spark-prive):[31000-32000]; disk(spark-prive, test)(allocated: spark-prive):1000; cpus(spark-prive, test)(allocated: spark-prive):8; mem(spark-prive, test)(allocated: spark-prive):10024; mem(*)(allocated: spark-prive):4590; disk(*)(allocated: spark-prive):103216 to ports(spark-prive, test)(allocated: spark-prive):[31000-32000]; disk(spark-prive, test)(allocated: spark-prive):1000; cpus(spark-prive, test)(allocated: spark-prive):8; mem(spark-prive, test)(allocated: spark-prive):10024; mem(*)(allocated: spark-prive):4590; disk(*)(allocated: spark-prive):103216
./spark-submit --verbose --class org.apache.spark.examples.SparkPi --master mesos://universe:5050 --conf spark.mesos.role=spark-prive  --conf spark.mesos.principal=test --conf spark.mesos.secret=test ../examples/jars/spark-examples_2.11-2.3.0-SNAPSHOT.jar 100000```
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem was at the scheduler side because we dont propagate the reservationInfo to the used resources.&lt;br/&gt;
We received resources of the form:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;name: &quot;disk&quot;
type: SCALAR
scalar {
  value: 1000.0
}
role: &quot;spark-prive&quot;
reservation {
  principal: &quot;test&quot;
}
allocation_info {
  role: &quot;spark-prive&quot;
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;And when we launch the task we pass resources of the form:
type: SCALAR
scalar {
  value: 8.0
}
role: &quot;spark-prive&quot;
,name: &quot;mem&quot;
type: SCALAR
scalar {
  value: 1408.0
}
role: &quot;spark-prive&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I made a fix and verified it works with and without an explicit principal. The method here: &lt;a href=&quot;https://github.com/apache/spark/blob/d74dee1336e7152cc0fb7d2b3bf1a44f4f452025/resource-managers/mesos/src/main/scala/org/apache/spark/scheduler/cluster/mesos/MesosSchedulerUtils.scala#L178&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/d74dee1336e7152cc0fb7d2b3bf1a44f4f452025/resource-managers/mesos/src/main/scala/org/apache/spark/scheduler/cluster/mesos/MesosSchedulerUtils.scala#L178&lt;/a&gt; just needs to preserve reservation and allocation info.&lt;br/&gt;
I will have a PR shortly.&lt;/p&gt;</comment>
                            <comment id="16185307" author="jackyoh" created="Fri, 29 Sep 2017 03:39:50 +0000"  >&lt;p&gt;It&apos;s clear to me now.&lt;/p&gt;

&lt;p&gt;Thank you for your kind assistance.&lt;/p&gt;</comment>
                            <comment id="16185735" author="apachespark" created="Fri, 29 Sep 2017 11:56:04 +0000"  >&lt;p&gt;User &apos;skonto&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/19390&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/19390&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37t0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>