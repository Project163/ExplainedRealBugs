<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:51:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-19373] Mesos implementation of spark.scheduler.minRegisteredResourcesRatio looks at acquired cores rather than registerd cores</title>
                <link>https://issues.apache.org/jira/browse/SPARK-19373</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;We&apos;re currently using `totalCoresAcquired` to account for registered resources, which is incorrect.  That variable measures the number of cores the scheduler has accepted.  We should be using `totalCoreCount` like the other schedulers do.&lt;/p&gt;

&lt;p&gt;Fixing this is important for locality, since users often want to wait for all executors to come up before scheduling tasks to ensure they get a node-local placement. &lt;/p&gt;

&lt;p&gt;original PR to add support: &lt;a href=&quot;https://github.com/apache/spark/pull/8672/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8672/files&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13038223">SPARK-19373</key>
            <summary>Mesos implementation of spark.scheduler.minRegisteredResourcesRatio looks at acquired cores rather than registerd cores</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgummelt">Michael Gummelt</assignee>
                                    <reporter username="mgummelt">Michael Gummelt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2017 18:38:20 +0000</created>
                <updated>Wed, 1 Mar 2017 23:54:59 +0000</updated>
                            <resolved>Tue, 28 Feb 2017 23:13:48 +0000</resolved>
                                    <version>1.6.3</version>
                    <version>2.0.2</version>
                    <version>2.1.0</version>
                                    <fixVersion>2.1.1</fixVersion>
                    <fixVersion>2.2.0</fixVersion>
                                    <component>Mesos</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15881572" author="apachespark" created="Thu, 23 Feb 2017 23:52:03 +0000"  >&lt;p&gt;User &apos;mgummelt&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/17045&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/17045&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15887673" author="skonto" created="Tue, 28 Feb 2017 09:43:57 +0000"  >&lt;p&gt;How spark leverages the node-local placement with this change? &lt;/p&gt;</comment>
                            <comment id="15888692" author="mgummelt" created="Tue, 28 Feb 2017 19:10:17 +0000"  >&lt;p&gt;This change makes it so that the user can instruct the driver to wait for all executors to register before scheduling tasks.  The TaskSchedulerImpl understand locality, so it can then make the optimal placement. Otherwise, tasks are scheduled as soon as the first executor is registered, which of course might not be node-local for the first task.&lt;/p&gt;

&lt;p&gt;However, this is still assuming that executors will be scheduled on the correct nodes, which isn&apos;t guaranteed unless you&apos;re launching executors on every node in your cluster.  For the best locality functionality, we need to integrate task locality information with dynamic allocation, so that the driver can dynamically spin up executors on the needed nodes.  That is outside the scope of this JIRA, though.&lt;/p&gt;</comment>
                            <comment id="15889084" author="srowen" created="Tue, 28 Feb 2017 23:14:00 +0000"  >&lt;p&gt;Resolved by &lt;a href=&quot;https://github.com/apache/spark/pull/17045&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/17045&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15889719" author="skonto" created="Wed, 1 Mar 2017 08:05:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgummelt&quot; class=&quot;user-hover&quot; rel=&quot;mgummelt&quot;&gt;mgummelt&lt;/a&gt;  +1 for task locality + dynamic allocation. That would mean also decline offers if locality is not satisfied, until you get the appropriate nodes? In other words, it means trying to optimize locality, while getting random offers I guess...&lt;/p&gt;</comment>
                            <comment id="15891244" author="apachespark" created="Wed, 1 Mar 2017 22:54:03 +0000"  >&lt;p&gt;User &apos;mgummelt&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/17129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/17129&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15891332" author="mgummelt" created="Wed, 1 Mar 2017 23:54:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=skonto&quot; class=&quot;user-hover&quot; rel=&quot;skonto&quot;&gt;skonto&lt;/a&gt; Either decline or hoard.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i399fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>