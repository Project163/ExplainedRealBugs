<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:29:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-7944] Spark-Shell 2.11 1.4.0-RC-03 does not add jars to class path</title>
                <link>https://issues.apache.org/jira/browse/SPARK-7944</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When I run the spark-shell with the --jars argument and supply a path to a single jar file, none of the classes in the jar are available in the REPL.&lt;/p&gt;

&lt;p&gt;I have encountered this same behaviour in both 1.3.1 and 1.4.0_RC-03 builds for scala 2.11. I have yet to do a 1.4.0 RC-03 build for scala 2.10, but the contents of the jar are available in the 1.3.1_2.10 REPL.&lt;/p&gt;</description>
                <environment>&lt;p&gt;scala 2.11&lt;/p&gt;</environment>
        <key id="12833742">SPARK-7944</key>
            <summary>Spark-Shell 2.11 1.4.0-RC-03 does not add jars to class path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dragos">Dragos Dascalita Haut</assignee>
                                    <reporter username="anakos@gmail.com">Alexander Nakos</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 May 2015 10:30:10 +0000</created>
                <updated>Fri, 10 Jul 2015 15:22:46 +0000</updated>
                            <resolved>Fri, 10 Jul 2015 15:22:34 +0000</resolved>
                                    <version>1.3.1</version>
                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Spark Shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14564643" author="srowen" created="Fri, 29 May 2015 11:55:49 +0000"  >&lt;p&gt;Can you give more detail, like what you tried to run and what the error is?&lt;/p&gt;</comment>
                            <comment id="14564696" author="anakos@gmail.com" created="Fri, 29 May 2015 12:21:10 +0000"  >&lt;p&gt;Surely - sorry about that.  I started up the shell as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bin/spark-shell --master yarn-client --jars /Users/alex/.m2/repository/com/twitter/algebird-core_2.11/0.9.0/algebird-core_2.11-0.9.0.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There was no obvious error present in the shell output. When I got the scala prompt from the console, I tried to import some classes and got the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;scala&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.twitter.algebird._
&amp;lt;console&amp;gt;:20: error: object algebird is not a member of &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.twitter
       &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.twitter.algebird._
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trying to manually add the jar to the class path also proved to be fruitless:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;scala&amp;gt; :cp /Users/alex/.m2/repository/com/twitter/algebird-core_2.11/0.9.0/algebird-core_2.11-0.9.0.jar
Added &lt;span class=&quot;code-quote&quot;&gt;&apos;/Users/alex/.m2/repository/com/twitter/algebird-core_2.11/0.9.0/algebird-core_2.11-0.9.0.jar&apos;&lt;/span&gt;.  Your &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; classpath is:
&lt;span class=&quot;code-quote&quot;&gt;&quot;.:/opt/spark/spark-1.4.0-RC3-hadoop2.3:/Users/alex/.m2/repository/com/twitter/algebird-core_2.11/0.9.0/algebird-core_2.11-0.9.0.jar&quot;&lt;/span&gt;
Nothing to replay.

scala&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.twitter.algebird._
&amp;lt;console&amp;gt;:8: error: object algebird is not a member of &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.twitter
       &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.twitter.algebird._
                          ^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve attached the output on shell startup to the issue as well.&lt;/p&gt;</comment>
                            <comment id="14564709" author="srowen" created="Fri, 29 May 2015 12:30:11 +0000"  >&lt;p&gt;I assume the file does exist locally. I think --jars should make it available to the driver, yeah. How about 2.10?&lt;/p&gt;</comment>
                            <comment id="14564723" author="anakos@gmail.com" created="Fri, 29 May 2015 12:46:01 +0000"  >&lt;p&gt;Yes, the file definitely exists locally. I have not built the 1.4.0-RC for 2.10 since 2.11 is our target scala version&lt;/p&gt;

&lt;p&gt;In the past few months, I have built the 1.3.0 and 1.3.1 releases for both scala 2.10 and 2.11 and can confirm that I was able to load jars in the 2.10 REPL but encountered the same problems I&apos;m citing here with the 2.11 REPL.&lt;/p&gt;

&lt;p&gt;If you want I can try to build 1.4.0-RC03, target 2.10 and report back in a few hours.&lt;/p&gt;</comment>
                            <comment id="14565062" author="anakos@gmail.com" created="Fri, 29 May 2015 17:02:36 +0000"  >&lt;p&gt;I have built 1.4.0-RC03 for scala 2.10 and can confirm that the contents of the jar file are available in the REPL when supplied the same way on the command line. I&apos;ve attached the console output to this issue.&lt;/p&gt;</comment>
                            <comment id="14566697" author="tdas" created="Sun, 31 May 2015 19:39:06 +0000"  >&lt;p&gt;Tagging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brkyvz&quot; class=&quot;user-hover&quot; rel=&quot;brkyvz&quot;&gt;brkyvz&lt;/a&gt; as he is familiar with these --jar stuff. This would be good to fix.&lt;/p&gt;</comment>
                            <comment id="14566700" author="brkyvz" created="Sun, 31 May 2015 19:46:07 +0000"  >&lt;p&gt;I saw this issue with Yarn when using Scala 2.11 for Spark CSV as well. For some reason, the combinations of Yarn, Scala 2.11, and either the flag `&amp;#45;&amp;#45;jars` or `&amp;#45;&amp;#45;packages` doesn&apos;t work. It seems to add the JAR to the classpath &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;15/05/29 17:58:12 INFO spark.SparkContext: Added JAR file:/Users/alex/.m2/repository/com/twitter/algebird-core_2.10/0.9.0/algebird-core_2.10-0.9.0.jar at http:&lt;span class=&quot;code-comment&quot;&gt;//192.168.0.11:49198/jars/algebird-core_2.10-0.9.0.jar with timestamp 1432918692788&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For some reason, it&apos;s not there though.&lt;/p&gt;</comment>
                            <comment id="14588506" author="alexbaretta" created="Tue, 16 Jun 2015 18:21:52 +0000"  >&lt;p&gt;Bug confirmed on Spark 1.4.0 with Scala 2.11.6. The --jars option to spark-shell is properly passed on to the SparkSubmit class, and the jars seem to be loaded, but the classes are not available in the REPL.&lt;/p&gt;

&lt;p&gt;spark-shell --jars commons-csv-1.0.jar&lt;br/&gt;
...&lt;br/&gt;
15/06/16 17:57:32 INFO SparkContext: Added JAR &lt;a href=&quot;file:/home/alex/commons-csv-1.0.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/alex/commons-csv-1.0.jar&lt;/a&gt; at &lt;a href=&quot;http://10.240.57.53:38821/jars/commons-csv-1.0.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://10.240.57.53:38821/jars/commons-csv-1.0.jar&lt;/a&gt; with timestamp 1434477452978&lt;br/&gt;
...&lt;br/&gt;
scala&amp;gt; org.apache.commons.csv.CSVFormat.DEFAULT&lt;br/&gt;
&amp;lt;console&amp;gt;:21: error: object csv is not a member of package org.apache.commons&lt;br/&gt;
              org.apache.commons.csv.CSVFormat.DEFAULT&lt;br/&gt;
                                 ^&lt;/p&gt;</comment>
                            <comment id="14588588" author="vohprecio" created="Tue, 16 Jun 2015 19:10:37 +0000"  >&lt;p&gt;just compiled version 1.5.0-SNAPSHOT Using Scala version 2.10.4 from github.&lt;br/&gt;
~/dev/spark(master) $build/mvn -DskipTests clean package&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS ...&lt;/p&gt;

&lt;p&gt;~/dev/spark(master) $bin/spark-shell --jars /Users/antigen/Downloads/algebird-core_2.10-0.10.2.jar&lt;/p&gt;

&lt;p&gt;Using Scala version 2.10.4 (Java HotSpot(TM) 64-Bit Server VM, Java 1.7.0_67)&lt;br/&gt;
Type in expressions to have them evaluated.&lt;br/&gt;
Type :help for more information.&lt;br/&gt;
Spark context available as sc.&lt;br/&gt;
SQL context available as sqlContext.&lt;/p&gt;

&lt;p&gt;scala&amp;gt; import com.twitter.algebird._&lt;br/&gt;
import com.twitter.algebird._&lt;/p&gt;</comment>
                            <comment id="14588740" author="dragos" created="Tue, 16 Jun 2015 20:41:05 +0000"  >&lt;p&gt;I&apos;ll have a look tomorrow, I vaguely remember a bug in the Scala REPL that was fixed. Since the code is forked, the fix may not be in there...&lt;/p&gt;</comment>
                            <comment id="14592101" author="dragos" created="Thu, 18 Jun 2015 16:59:33 +0000"  >&lt;p&gt;I can confirm this is working if the Spark REPL is based on a more recent version of the Scala REPL. I already have a branch that does away with 99% of the code, basically keeping only the &quot;initializeSpark&quot; and &quot;printWelcome&quot; calls.&lt;/p&gt;

&lt;p&gt;You can assign this to me.&lt;/p&gt;</comment>
                            <comment id="14592144" author="srowen" created="Thu, 18 Jun 2015 17:25:32 +0000"  >&lt;p&gt;I think you can just go ahead with a PR&lt;/p&gt;</comment>
                            <comment id="14593434" author="apachespark" created="Fri, 19 Jun 2015 13:54:06 +0000"  >&lt;p&gt;User &apos;dragos&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6903&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14599626" author="irashid" created="Wed, 24 Jun 2015 16:01:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragos&quot; class=&quot;user-hover&quot; rel=&quot;dragos&quot;&gt;dragos&lt;/a&gt; just for reference for anyone else that runs into this, and can&apos;t wait to upgrade spark and / or scala &amp;#8211; do you know of any workaround without your patch?&lt;/p&gt;</comment>
                            <comment id="14599689" author="dragos" created="Wed, 24 Jun 2015 16:31:43 +0000"  >&lt;p&gt;Unfortunately I don&apos;t think there&apos;s can be any workaround. The classpath is simply ignored in the current version.&lt;/p&gt;</comment>
                            <comment id="14616480" author="srowen" created="Tue, 7 Jul 2015 10:27:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brkyvz&quot; class=&quot;user-hover&quot; rel=&quot;brkyvz&quot;&gt;brkyvz&lt;/a&gt; Can you comment on the PR? &lt;a href=&quot;https://github.com/apache/spark/pull/6903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6903&lt;/a&gt;&lt;br/&gt;
This seems to be blocked on making a new plugin.&lt;/p&gt;</comment>
                            <comment id="14622455" author="srowen" created="Fri, 10 Jul 2015 15:22:34 +0000"  >&lt;p&gt;Issue resolved by pull request 6903&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6903&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12736125" name="spark_shell_output.txt" size="11905" author="anakos@gmail.com" created="Fri, 29 May 2015 12:24:37 +0000"/>
                            <attachment id="12736187" name="spark_shell_output_2.10.txt" size="11739" author="anakos@gmail.com" created="Fri, 29 May 2015 17:03:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fdfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>