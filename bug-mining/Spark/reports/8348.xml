<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:28:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-38056] Structured streaming not working in history server when using LevelDB</title>
                <link>https://issues.apache.org/jira/browse/SPARK-38056</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/spark/commit/4f9667035886a67e6c9a4e8fad2efa390e87ca68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SPARK-31953&lt;/a&gt;, structured streaming support is added to history server. However this does not work when spark.history.store.path is set to save app info using LevelDB.&lt;/p&gt;

&lt;p&gt;This is because one of the keys of StreamingQueryData, runId,&#160; is UUID type, which is not supported by LevelDB. When replaying event log file in history server, StreamingQueryStatusListener will throw an exception when writing info to the store, saying &quot;java.lang.IllegalArgumentException: Type java.util.UUID not allowed as key.&quot;.&lt;/p&gt;

&lt;p&gt;Example event log is provided in attachments. When opening it in history server with spark.history.store.path set to somewhere, no structured streaming info is available.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13425399">SPARK-38056</key>
            <summary>Structured streaming not working in history server when using LevelDB</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wekoms">wy</assignee>
                                    <reporter username="wekoms">wy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Jan 2022 12:43:04 +0000</created>
                <updated>Mon, 27 Jun 2022 15:21:43 +0000</updated>
                            <resolved>Wed, 9 Feb 2022 08:01:22 +0000</resolved>
                                    <version>3.1.2</version>
                    <version>3.2.0</version>
                                    <fixVersion>3.3.0</fixVersion>
                    <fixVersion>3.1.4</fixVersion>
                    <fixVersion>3.2.2</fixVersion>
                                    <component>Structured Streaming</component>
                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17483779" author="apachespark" created="Fri, 28 Jan 2022 13:37:08 +0000"  >&lt;p&gt;User &apos;kuwii&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35356&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35356&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17483781" author="apachespark" created="Fri, 28 Jan 2022 13:37:48 +0000"  >&lt;p&gt;User &apos;kuwii&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35356&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35356&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17489331" author="kabhwan" created="Wed, 9 Feb 2022 08:01:22 +0000"  >&lt;p&gt;Issue resolved by pull request 35356&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35356&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35356&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17489588" author="apachespark" created="Wed, 9 Feb 2022 14:37:06 +0000"  >&lt;p&gt;User &apos;kuwii&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35463&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17489589" author="apachespark" created="Wed, 9 Feb 2022 14:37:45 +0000"  >&lt;p&gt;User &apos;kuwii&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35463&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17489591" author="apachespark" created="Wed, 9 Feb 2022 14:38:39 +0000"  >&lt;p&gt;User &apos;kuwii&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35464&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35464&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17559223" author="apachespark" created="Mon, 27 Jun 2022 15:21:43 +0000"  >&lt;p&gt;User &apos;kuwii&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/37007&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/37007&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13039471" name="local-1643373518829" size="1232485" author="wekoms" created="Fri, 28 Jan 2022 12:43:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0z1ww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>