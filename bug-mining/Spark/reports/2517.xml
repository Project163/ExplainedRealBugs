<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:33:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-10904]   select(df, c(&quot;col1&quot;, &quot;col2&quot;)) fails</title>
                <link>https://issues.apache.org/jira/browse/SPARK-10904</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The help page for &apos;select&apos; gives an example of &lt;br/&gt;
  select(df, c(&quot;col1&quot;, &quot;col2&quot;))&lt;/p&gt;

&lt;p&gt;However, this fails with assertion:&lt;/p&gt;

&lt;p&gt;java.lang.AssertionError: assertion failed&lt;br/&gt;
	at scala.Predef$.assert(Predef.scala:165)&lt;br/&gt;
	at org.apache.spark.api.r.SerDe$.readStringBytes(SerDe.scala:92)&lt;br/&gt;
	at org.apache.spark.api.r.SerDe$.readString(SerDe.scala:99)&lt;br/&gt;
	at org.apache.spark.api.r.SerDe$.readTypedObject(SerDe.scala:63)&lt;br/&gt;
	at org.apache.spark.api.r.SerDe$.readObject(SerDe.scala:52)&lt;br/&gt;
	at org.apache.spark.api.r.RBackendHandler$$anonfun$readArgs$1.apply(RBackendHandler.scala:182)&lt;br/&gt;
	at org.apache.spark.api.r.RBackendHandler$$anonfun$readArgs$1.apply(RBackendHandler.scala:181)&lt;/p&gt;

&lt;p&gt;And then none of the functions will work with following error:&lt;br/&gt;
&amp;gt; head(df)&lt;br/&gt;
 Error in if (returnStatus != 0) { : argument is of length zero &lt;/p&gt;</description>
                <environment></environment>
        <key id="12901954">SPARK-10904</key>
            <summary>  select(df, c(&quot;col1&quot;, &quot;col2&quot;)) fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="felixcheung">Felix Cheung</assignee>
                                    <reporter username="adrian555">Weiqiang Zhuang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Oct 2015 17:43:03 +0000</created>
                <updated>Sun, 4 Oct 2015 05:51:48 +0000</updated>
                            <resolved>Sun, 4 Oct 2015 05:50:37 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.5.2</fixVersion>
                    <fixVersion>1.6.0</fixVersion>
                                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14940239" author="felixcheung" created="Thu, 1 Oct 2015 19:03:38 +0000"  >&lt;p&gt;Do you have the repo steps/code?&lt;/p&gt;</comment>
                            <comment id="14940263" author="adrian555" created="Thu, 1 Oct 2015 19:16:51 +0000"  >&lt;p&gt;Here you go:&lt;/p&gt;

&lt;p&gt;sc &amp;lt;- sparkR.init()&lt;br/&gt;
sqlContext &amp;lt;- sparkRSQL.init(sc)&lt;br/&gt;
df &amp;lt;- createDataFrame(sqlContext, iris) &lt;br/&gt;
select(df, c(&quot;Sepal_Width&quot;,&quot;Sepal_Length&quot;))&lt;/p&gt;</comment>
                            <comment id="14940310" author="shivaram" created="Thu, 1 Oct 2015 19:56:09 +0000"  >&lt;p&gt;I don&apos;t think we support passing in `c` for a list of things in SparkR because the serialization, deserialization was not supported for it. Changing it to `list(&quot;col1&quot;, &quot;col2&quot;)` should work here&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunrui&quot; class=&quot;user-hover&quot; rel=&quot;sunrui&quot;&gt;sunrui&lt;/a&gt;  Some of the recent serializer fixes may help here ?&lt;/p&gt;</comment>
                            <comment id="14940368" author="adrian555" created="Thu, 1 Oct 2015 20:28:56 +0000"  >&lt;p&gt;Yes, list() works. Question is whether or not the c() will be supported. If not, the document for select should be updated.&lt;/p&gt;

&lt;p&gt;There are a couple of errors in the following given example. 1) select(df, c(&quot;col1&quot;, &quot;col2&quot;)) does not work; 2) the claim of using &quot;$&quot; as a similar method to select is false, because df$age returns a &apos;Column&apos; class while select(df, &apos;age&apos;) returns a &apos;DataFrame&apos; class.&lt;/p&gt;

&lt;p&gt;Examples&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Not run:&lt;br/&gt;
  select(df, &quot;*&quot;)&lt;br/&gt;
  select(df, &quot;col1&quot;, &quot;col2&quot;)&lt;br/&gt;
  select(df, df$name, df$age + 1)&lt;br/&gt;
  select(df, c(&quot;col1&quot;, &quot;col2&quot;))&lt;br/&gt;
  select(df, list(df$name, df$age + 1))&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
	&lt;li&gt;Similar to R data frames columns can also be selected using `$`&lt;br/&gt;
  df$age&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14940416" author="felixcheung" created="Thu, 1 Oct 2015 21:06:12 +0000"  >&lt;p&gt;I added that line of comment on &quot;df$age&quot;  I could clarify that.&lt;/p&gt;

&lt;p&gt;I think we should make `select(df, c(&quot;col1&quot;, &quot;col2&quot;))` work&lt;/p&gt;</comment>
                            <comment id="14940429" author="felixcheung" created="Thu, 1 Oct 2015 21:18:24 +0000"  >&lt;p&gt;`head(df&lt;span class=&quot;error&quot;&gt;&amp;#91;,c(&amp;quot;Sepal_Width&amp;quot;, &amp;quot;Sepal_Length&amp;quot;)&amp;#93;&lt;/span&gt;)` this works, I guess that&apos;s why I&apos;m surprised.&lt;/p&gt;

&lt;p&gt;I think I know how to fix this. I will take this.&lt;/p&gt;</comment>
                            <comment id="14940444" author="adrian555" created="Thu, 1 Oct 2015 21:29:57 +0000"  >&lt;p&gt;That works because it invokes select with list().&lt;/p&gt;</comment>
                            <comment id="14940691" author="apachespark" created="Fri, 2 Oct 2015 01:43:05 +0000"  >&lt;p&gt;User &apos;felixcheung&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8961&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8961&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14942564" author="shivaram" created="Sun, 4 Oct 2015 05:50:37 +0000"  >&lt;p&gt;Issue resolved by pull request 8961&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/8961&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/8961&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mif3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>