<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:50:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-19012] CreateOrReplaceTempView throws org.apache.spark.sql.catalyst.parser.ParseException when viewName first char is numerical</title>
                <link>https://issues.apache.org/jira/browse/SPARK-19012</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Using a viewName where the the fist char is a numerical value on dataframe.createOrReplaceTempView(viewName: String) causes:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.spark.sql.catalyst.parser.ParseException: 
mismatched input &lt;span class=&quot;code-quote&quot;&gt;&apos;1468079114&apos;&lt;/span&gt; expecting {&lt;span class=&quot;code-quote&quot;&gt;&apos;SELECT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FROM&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ADD&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;AS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ALL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DISTINCT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;WHERE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;GROUP&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;BY&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;GROUPING&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SETS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CUBE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ROLLUP&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ORDER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;HAVING&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LIMIT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;AT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;OR&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;AND&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;IN&apos;&lt;/span&gt;, NOT, &lt;span class=&quot;code-quote&quot;&gt;&apos;NO&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;EXISTS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;BETWEEN&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LIKE&apos;&lt;/span&gt;, RLIKE, &lt;span class=&quot;code-quote&quot;&gt;&apos;IS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;NULL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TRUE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FALSE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;NULLS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ASC&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DESC&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FOR&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INTERVAL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CASE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;WHEN&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;THEN&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ELSE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;END&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;JOIN&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CROSS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;OUTER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INNER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LEFT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SEMI&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;RIGHT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FULL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;NATURAL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ON&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LATERAL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;WINDOW&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;OVER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;PARTITION&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;RANGE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ROWS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;UNBOUNDED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;PRECEDING&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FOLLOWING&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CURRENT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ROW&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;WITH&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;VALUES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CREATE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TABLE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;VIEW&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;REPLACE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INSERT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DELETE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INTO&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DESCRIBE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;EXPLAIN&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FORMAT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LOGICAL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CODEGEN&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CAST&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SHOW&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TABLES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;COLUMNS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;COLUMN&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;USE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;PARTITIONS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FUNCTIONS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DROP&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;UNION&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;EXCEPT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INTERSECT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TO&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TABLESAMPLE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;STRATIFY&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ALTER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;RENAME&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ARRAY&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;MAP&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;STRUCT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;COMMENT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SET&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;RESET&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DATA&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;START&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TRANSACTION&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;COMMIT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ROLLBACK&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;MACRO&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;IF&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DIV&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;PERCENT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;BUCKET&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;OUT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;OF&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SORT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CLUSTER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DISTRIBUTE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;OVERWRITE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TRANSFORM&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;REDUCE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;USING&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SERDE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SERDEPROPERTIES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;RECORDREADER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;RECORDWRITER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DELIMITED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FIELDS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TERMINATED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;COLLECTION&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ITEMS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;KEYS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ESCAPED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LINES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SEPARATED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FUNCTION&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;EXTENDED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;REFRESH&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CLEAR&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CACHE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;UNCACHE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LAZY&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FORMATTED&apos;&lt;/span&gt;, TEMPORARY, &lt;span class=&quot;code-quote&quot;&gt;&apos;OPTIONS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;UNSET&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TBLPROPERTIES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DBPROPERTIES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;BUCKETS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SKEWED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;STORED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DIRECTORIES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LOCATION&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;EXCHANGE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ARCHIVE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;UNARCHIVE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;FILEFORMAT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TOUCH&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;COMPACT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CONCATENATE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CHANGE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CASCADE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;RESTRICT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CLUSTERED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SORTED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;PURGE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INPUTFORMAT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;OUTPUTFORMAT&apos;&lt;/span&gt;, DATABASE, DATABASES, &lt;span class=&quot;code-quote&quot;&gt;&apos;DFS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TRUNCATE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ANALYZE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;COMPUTE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LIST&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;STATISTICS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;PARTITIONED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;EXTERNAL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DEFINED&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;REVOKE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;GRANT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LOCK&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;UNLOCK&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;MSCK&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;REPAIR&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;RECOVER&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;EXPORT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;IMPORT&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LOAD&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ROLE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ROLES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;COMPACTIONS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;PRINCIPALS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;TRANSACTIONS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INDEX&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INDEXES&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LOCKS&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;OPTION&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ANTI&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LOCAL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;INPATH&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CURRENT_DATE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;CURRENT_TIMESTAMP&apos;&lt;/span&gt;, IDENTIFIER, BACKQUOTED_IDENTIFIER}(line 1, pos 0)

== SQL ==
11111
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;val tableOrViewName = &lt;span class=&quot;code-quote&quot;&gt;&quot;11111&quot;&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;//fails
&lt;/span&gt;val tableOrViewName = &lt;span class=&quot;code-quote&quot;&gt;&quot;a1111&quot;&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;//works
&lt;/span&gt;sparkSession.read.orc(path).createOrReplaceTempView(tableOrViewName)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="13030695">SPARK-19012</key>
            <summary>CreateOrReplaceTempView throws org.apache.spark.sql.catalyst.parser.ParseException when viewName first char is numerical</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dongjoon">Dongjoon Hyun</assignee>
                                    <reporter username="jzijlstra">Jork Zijlstra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Dec 2016 12:58:48 +0000</created>
                <updated>Fri, 30 Dec 2016 08:19:43 +0000</updated>
                            <resolved>Thu, 29 Dec 2016 20:22:48 +0000</resolved>
                                    <version>2.0.1</version>
                    <version>2.0.2</version>
                    <version>2.1.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15780429" author="hvanhovell" created="Tue, 27 Dec 2016 13:45:20 +0000"  >&lt;p&gt;&lt;tt&gt;&quot;11111&quot;&lt;/tt&gt; fails because it is a numeric literal. Either add a letter to the name, or place the name between backticks, e.g.: &lt;tt&gt;&quot;`11111`&quot;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This is not a bug per se, we could however improve the name parsing.&lt;/p&gt;</comment>
                            <comment id="15780545" author="jzijlstra" created="Tue, 27 Dec 2016 14:51:39 +0000"  >&lt;p&gt;The type is viewName: String so you would expect any string to work. &lt;/p&gt;

&lt;p&gt;When executing createOrReplaceTempView(tableOrViewName: String) an ParseException of &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;== SQL ==
{tableOrViewName}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is thrown. You might not see that these are related, because it goes on about an SQL ParseException and you just defined a tempView&lt;/p&gt;

&lt;p&gt;You might not expect that the tableOrViewName trigger some SQL parsing. A slighter more clearer exception message (viewName not supported) could be more helpful or add the identifier rules set to the documentation.&lt;/p&gt;

&lt;p&gt;As you said prefixing the tableOrViewName with a non-numerical value does the trick (although for me this feels more like a workaround)&lt;/p&gt;</comment>
                            <comment id="15783958" author="dongjoon" created="Wed, 28 Dec 2016 23:20:27 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hvanhovell&quot; class=&quot;user-hover&quot; rel=&quot;hvanhovell&quot;&gt;hvanhovell&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jzijlstra&quot; class=&quot;user-hover&quot; rel=&quot;jzijlstra&quot;&gt;jzijlstra&lt;/a&gt;.&lt;br/&gt;
I&apos;ll make a PR to raise `AnalysisException` instead.&lt;/p&gt;</comment>
                            <comment id="15783966" author="hvanhovell" created="Wed, 28 Dec 2016 23:22:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dongjoon&quot; class=&quot;user-hover&quot; rel=&quot;dongjoon&quot;&gt;dongjoon&lt;/a&gt; Could make a PR that puts the name in backticks instead? That is a bit more friendly to the end user. Or do you think we will break stuff, if we do?&lt;/p&gt;</comment>
                            <comment id="15783983" author="dongjoon" created="Wed, 28 Dec 2016 23:31:17 +0000"  >&lt;p&gt;Oh, you mean always wrap the name with backticks right?&lt;/p&gt;</comment>
                            <comment id="15783988" author="hvanhovell" created="Wed, 28 Dec 2016 23:32:49 +0000"  >&lt;p&gt;Yeah, maybe a bit more subtle than that (we need to escape backticks in the name).&lt;/p&gt;</comment>
                            <comment id="15783990" author="dongjoon" created="Wed, 28 Dec 2016 23:33:06 +0000"  >&lt;p&gt;No problem. However, we need to raise AnalysisException on empty table table still, ``.&lt;/p&gt;</comment>
                            <comment id="15783992" author="dongjoon" created="Wed, 28 Dec 2016 23:33:27 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15784056" author="dongjoon" created="Thu, 29 Dec 2016 00:10:22 +0000"  >&lt;p&gt;BTW, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hvanhovell&quot; class=&quot;user-hover&quot; rel=&quot;hvanhovell&quot;&gt;hvanhovell&lt;/a&gt;. I found the existing related issue and testcases.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;test(&lt;span class=&quot;code-quote&quot;&gt;&quot;SPARK-12982: Add table name validation in temp table registration&quot;&lt;/span&gt;) {
    val df = Seq(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;).map(Tuple1.apply).toDF(&lt;span class=&quot;code-quote&quot;&gt;&quot;col&quot;&lt;/span&gt;)
    &lt;span class=&quot;code-comment&quot;&gt;// invalid table name test as below
&lt;/span&gt;    intercept[AnalysisException](df.createOrReplaceTempView(&lt;span class=&quot;code-quote&quot;&gt;&quot;t~&quot;&lt;/span&gt;))
    &lt;span class=&quot;code-comment&quot;&gt;// valid table name test as below
&lt;/span&gt;    df.createOrReplaceTempView(&lt;span class=&quot;code-quote&quot;&gt;&quot;table1&quot;&lt;/span&gt;)
    &lt;span class=&quot;code-comment&quot;&gt;// another invalid table name test as below
&lt;/span&gt;    intercept[AnalysisException](df.createOrReplaceTempView(&lt;span class=&quot;code-quote&quot;&gt;&quot;#$@sum&quot;&lt;/span&gt;))
    &lt;span class=&quot;code-comment&quot;&gt;// another invalid table name test as below
&lt;/span&gt;    intercept[AnalysisException](df.createOrReplaceTempView(&lt;span class=&quot;code-quote&quot;&gt;&quot;table!#&quot;&lt;/span&gt;))
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To be consistent with this, we should throw AnalysisException on `createOrReplaceTempView(&quot;11111&quot;)`.&lt;/p&gt;

&lt;p&gt;So, what we want here is to support `createOrReplaceTempView(&quot;`11111`&quot;)`. Did I understand clearly?&lt;/p&gt;</comment>
                            <comment id="15784062" author="dongjoon" created="Thu, 29 Dec 2016 00:13:18 +0000"  >&lt;p&gt;Ur, actually, we already support `createOrReplaceTempView(&quot;`11111`&quot;)`.&lt;/p&gt;</comment>
                            <comment id="15784074" author="hvanhovell" created="Thu, 29 Dec 2016 00:21:27 +0000"  >&lt;p&gt;Yeah, you have a point there. I was wondering if we would hit an issue here.&lt;/p&gt;

&lt;p&gt;The question what we want to support:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;SQL compatibility. This would be one of the more common use cases. In that case it really does not make sense to support an identifier like &apos;11111&apos;, because that would fail in SQL.&lt;/li&gt;
	&lt;li&gt;As much flexibility as you want.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jzijlstra&quot; class=&quot;user-hover&quot; rel=&quot;jzijlstra&quot;&gt;jzijlstra&lt;/a&gt; could you explain how you are using this?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dongjoon&quot; class=&quot;user-hover&quot; rel=&quot;dongjoon&quot;&gt;dongjoon&lt;/a&gt; lets just make the exception better for now.&lt;/p&gt;</comment>
                            <comment id="15784083" author="dongjoon" created="Thu, 29 Dec 2016 00:27:08 +0000"  >&lt;p&gt;Thank you for decision. Yep. I&apos;ll make the PR like that.&lt;/p&gt;</comment>
                            <comment id="15784169" author="dongjoon" created="Thu, 29 Dec 2016 01:13:58 +0000"  >&lt;p&gt;In API docs and many places, `createOrReplaceTempView` was assumed not to throw any Exceptions.&lt;br/&gt;
It seems we need to discuss on my PR.&lt;/p&gt;</comment>
                            <comment id="15784174" author="apachespark" created="Thu, 29 Dec 2016 01:17:04 +0000"  >&lt;p&gt;User &apos;dongjoon-hyun&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/16427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/16427&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15784796" author="jzijlstra" created="Thu, 29 Dec 2016 07:55:07 +0000"  >&lt;p&gt;Good to see that its already being discussed. &lt;/p&gt;

&lt;p&gt;MSSQL also has some limitation in tableOrViewNames which is described in the documentation. Maybe updating the annotation of the method would also be enough. Having an Exception with a clear reason would definitely already a fix.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hvanhovell&quot; class=&quot;user-hover&quot; rel=&quot;hvanhovell&quot;&gt;hvanhovell&lt;/a&gt;&lt;br/&gt;
We specify our queries inside a configuration not the code. So we have this in our config:&lt;br/&gt;
dataPath = &quot;hdfs://&quot;&lt;br/&gt;
dataQuery: &quot;SELECT column1, column2 FROM [TABLE] WHERE 1 = 1&quot;&lt;/p&gt;

&lt;p&gt;Since we have one SparkSession for the application and the tableOrViewName is coupled to that and we don&apos;t want to specify an extra config option for the tableOrViewname, I though I&apos;d just use the hashcode from the dataquery as the tableOrViewName. Use that in the createOrReplaceTempView and replace [TABLE] inside the query with that. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;val path = &lt;span class=&quot;code-quote&quot;&gt;&quot;hdfs:&lt;span class=&quot;code-comment&quot;&gt;//....{path}&quot;&lt;/span&gt;
&lt;/span&gt;val dataQuery = &lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT * FROM [TABLE] LIMIT 1&quot;&lt;/span&gt;

val tableOrViewName = &lt;span class=&quot;code-quote&quot;&gt;&quot;_&quot;&lt;/span&gt; + &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs(path.hashCode).toString + &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs(qry.hashCode).toString

val df = sparkSession.read.orc(path)
df.createOrReplaceTempView(tableOrViewName)

val result = sparkSession.sqlContext.sql(qry.replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;[TABLE]&quot;&lt;/span&gt;, tableOrViewName)).collect
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Later I want to check If the tableOrViewName has already been created and not call createOrReplaceTempView everytime, but this is just performance improvement.&lt;/p&gt;</comment>
                            <comment id="15786015" author="dongjoon" created="Thu, 29 Dec 2016 20:05:19 +0000"  >&lt;p&gt;Yep. I tried to update the annotation but unfortunately it was reverted that now. (You can see that in my PR.)&lt;/p&gt;

&lt;p&gt;&amp;gt; Maybe updating the annotation of the method would also be enough. Having an Exception with a clear reason would definitely already a fix.&lt;/p&gt;

&lt;p&gt;Changing annotation on `public` API seems to be handled in a different issue with some more discussion because it affects many other codes (e.g. examples).&lt;/p&gt;</comment>
                            <comment id="15786052" author="hvanhovell" created="Thu, 29 Dec 2016 20:24:38 +0000"  >&lt;p&gt;Ok, you could also start a table name with &lt;tt&gt;tbl_&lt;/tt&gt; and that would also make the problem go away.&lt;/p&gt;</comment>
                            <comment id="15787194" author="jzijlstra" created="Fri, 30 Dec 2016 08:19:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hvanhovell&quot; class=&quot;user-hover&quot; rel=&quot;hvanhovell&quot;&gt;hvanhovell&lt;/a&gt; Its already working for me, I was already prefixing the tableOrViewName. &lt;br/&gt;
I thought you needed an example on how a developers mind work in (mis)using other peoples code.&lt;/p&gt;

&lt;p&gt;Its nice to see that its been resolved in just 2 days. &lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i381d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>