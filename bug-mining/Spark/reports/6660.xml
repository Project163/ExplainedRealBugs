<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:06:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-28906] `bin/spark-submit --version` shows incorrect info</title>
                <link>https://issues.apache.org/jira/browse/SPARK-28906</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Since Spark 2.3.1, `spark-submit` shows a wrong information.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ bin/spark-submit --version
Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  &apos;_/
   /___/ .__/\_,_/_/ /_/\_\   version 2.3.3
      /_/

Using Scala version 2.11.8, OpenJDK 64-Bit Server VM, 1.8.0_222
Branch
Compiled by user  on 2019-02-04T13:00:46Z
Revision
Url
Type --help &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; more information.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13253587">SPARK-28906</key>
            <summary>`bin/spark-submit --version` shows incorrect info</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kiszk">Kazuaki Ishizaki</assignee>
                                    <reporter username="vanzin">Marcelo Masiero Vanzin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Aug 2019 23:25:25 +0000</created>
                <updated>Mon, 12 Dec 2022 18:10:58 +0000</updated>
                            <resolved>Wed, 11 Sep 2019 13:13:43 +0000</resolved>
                                    <version>2.3.1</version>
                    <version>2.3.2</version>
                    <version>2.3.3</version>
                    <version>2.3.4</version>
                    <version>2.4.0</version>
                    <version>2.4.1</version>
                    <version>2.4.2</version>
                    <version>2.4.3</version>
                    <version>2.4.4</version>
                    <version>3.0.0</version>
                                    <fixVersion>2.4.5</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>Project Infra</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16918178" author="shivusondur@gmail.com" created="Wed, 28 Aug 2019 23:43:18 +0000"  >&lt;p&gt;i am checking this issue&lt;/p&gt;</comment>
                            <comment id="16918191" author="shivusondur@gmail.com" created="Thu, 29 Aug 2019 00:21:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;vanzin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I verified in the master branch,&#160; i got below results&lt;/p&gt;

&lt;p&gt;Please let me know what information is wrong&#160; in the below snap?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12978830/12978830_image-2019-08-29-05-50-13-526.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16918204" author="vanzin" created="Thu, 29 Aug 2019 01:27:24 +0000"  >&lt;p&gt;The code is fine. This is a problem in the release scripts.&lt;/p&gt;</comment>
                            <comment id="16919190" author="gurwls223" created="Fri, 30 Aug 2019 04:38:03 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kiszk&quot; class=&quot;user-hover&quot; rel=&quot;kiszk&quot;&gt;kiszk&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="16919330" author="kiszk" created="Fri, 30 Aug 2019 08:32:02 +0000"  >&lt;p&gt;I attached output of 2.3.0 and 2.3.4 in one comment as below. Let me see the script, too.&lt;/p&gt;

&lt;p&gt;```&lt;br/&gt;
$ spark-2.3.0-bin-hadoop2.6/bin/spark-submit --version&lt;br/&gt;
Welcome to&lt;br/&gt;
____ __&lt;br/&gt;
/ _&lt;em&gt;/&lt;/em&gt;_ ___ ____&lt;em&gt;/ /&lt;/em&gt;_&lt;br/&gt;
&lt;em&gt;\ \/ _ \/ _ `/ __/ &apos;&lt;/em&gt;/&lt;br/&gt;
/__&lt;em&gt;/ .&lt;/em&gt;&lt;em&gt;/&amp;#95;,&lt;/em&gt;/&lt;em&gt;/ /&lt;/em&gt;/&amp;#95;\ version 2.3.0&lt;br/&gt;
/_/&lt;/p&gt;

&lt;p&gt;Using Scala version 2.11.8, OpenJDK 64-Bit Server VM, 1.8.0_212&lt;br/&gt;
Branch master&lt;br/&gt;
Compiled by user sameera on 2018-02-22T19:24:38Z&lt;br/&gt;
Revision a0d7949896e70f427e7f3942ff340c9484ff0aab&lt;br/&gt;
Url git@github.com:sameeragarwal/spark.git&lt;br/&gt;
Type --help for more information.&lt;br/&gt;
$ spark-2.3.4-bin-hadoop2.6/bin/spark-submit --version&lt;br/&gt;
Welcome to&lt;br/&gt;
____ __&lt;br/&gt;
/ _&lt;em&gt;/&lt;/em&gt;_ ___ ____&lt;em&gt;/ /&lt;/em&gt;_&lt;br/&gt;
&lt;em&gt;\ \/ _ \/ _ `/ __/ &apos;&lt;/em&gt;/&lt;br/&gt;
/__&lt;em&gt;/ .&lt;/em&gt;&lt;em&gt;/&amp;#95;,&lt;/em&gt;/&lt;em&gt;/ /&lt;/em&gt;/&amp;#95;\ version 2.3.4&lt;br/&gt;
/_/&lt;/p&gt;

&lt;p&gt;Using Scala version 2.11.8, OpenJDK 64-Bit Server VM, 1.8.0_212&lt;br/&gt;
Branch &lt;br/&gt;
Compiled by user on 2019-08-26T08:29:39Z&lt;br/&gt;
Revision &lt;br/&gt;
Url &lt;br/&gt;
Type --help for more information.&lt;br/&gt;
```&lt;/p&gt;</comment>
                            <comment id="16919420" author="kiszk" created="Fri, 30 Aug 2019 10:47:46 +0000"  >&lt;p&gt;In &lt;tt&gt;jars/spark-core_2.11-2.3.*.jar&lt;/tt&gt;, &lt;tt&gt;spark-version-info.properties&lt;/tt&gt; exists. This file is different between 2.3.0 and 2.3.4.&lt;br/&gt;
This file is generated by `build/spark-build-info`.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ cat spark-version-info.properties.230
version=2.3.0
user=sameera
revision=a0d7949896e70f427e7f3942ff340c9484ff0aab
branch=master
date=2018-02-22T19:24:38Z
url=git@github.com:sameeragarwal/spark.git
$ cat spark-version-info.properties.234
version=2.3.4
user=
revision=
branch=
date=2019-08-26T08:29:39Z
url=
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16919893" author="kiszk" created="Fri, 30 Aug 2019 21:16:58 +0000"  >&lt;p&gt;For user name, we have to pass &lt;tt&gt;USER&lt;/tt&gt; environment variable to the docker container at the end of &lt;tt&gt;do-release-docker.sh&lt;/tt&gt;. I created a patch to fix this.&lt;/p&gt;

&lt;p&gt;For other information to be got by &lt;tt&gt;git&lt;/tt&gt; command, &lt;tt&gt;spark-build-info&lt;/tt&gt; script is not executed at the wrong directory (i.e. out of the cloned directory). My guess is the command is executed under the work directory. I did not creat a patch yet.&lt;/p&gt;</comment>
                            <comment id="16920594" author="kiszk" created="Mon, 2 Sep 2019 03:31:18 +0000"  >&lt;p&gt;For the information on &lt;tt&gt;git&lt;/tt&gt; comand, &lt;tt&gt;.git&lt;/tt&gt; directory is deleted after &lt;tt&gt;git clone&lt;/tt&gt; is executed. As a result, we cannot get infomration on &lt;tt&gt;git&lt;/tt&gt; command. When I tentatively stop deleting &lt;tt&gt;.git&lt;/tt&gt; directory, &lt;tt&gt;spark-version-info.properties&lt;/tt&gt; can include the correct information like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
version=2.3.4
user=ishizaki
revision=8c6f8150f3c6298ff4e1c7e06028f12d7eaf0210
branch=HEAD
date=2019-09-02T02:31:25Z
url=https:&lt;span class=&quot;code-comment&quot;&gt;//gitbox.apache.org/repos/asf/spark.git&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16927547" author="srowen" created="Wed, 11 Sep 2019 13:13:43 +0000"  >&lt;p&gt;Issue resolved by pull request 25655&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/25655&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/25655&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12978830" name="image-2019-08-29-05-50-13-526.png" size="70405" author="shivusondur@gmail.com" created="Thu, 29 Aug 2019 00:20:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z064xk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>