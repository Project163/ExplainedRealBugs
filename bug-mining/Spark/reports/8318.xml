<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 19:28:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-8582] Optimize checkpointing to avoid computing an RDD twice</title>
                <link>https://issues.apache.org/jira/browse/SPARK-8582</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In Spark, checkpointing allows the user to truncate the lineage of his RDD and save the intermediate contents to HDFS for fault tolerance. However, this is not currently implemented super efficiently:&lt;/p&gt;

&lt;p&gt;Every time we checkpoint an RDD, we actually compute it twice: once during the action that triggered the checkpointing in the first place, and once while we checkpoint (we iterate through an RDD&apos;s partitions and write them to disk). See this line for more detail: &lt;a href=&quot;https://github.com/apache/spark/blob/0401cbaa8ee51c71f43604f338b65022a479da0a/core/src/main/scala/org/apache/spark/rdd/RDDCheckpointData.scala#L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/0401cbaa8ee51c71f43604f338b65022a479da0a/core/src/main/scala/org/apache/spark/rdd/RDDCheckpointData.scala#L102&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Instead, we should have a `CheckpointingInterator` that writes checkpoint data to HDFS while we run the action. This will speed up many usages of `RDD#checkpoint` by 2X.&lt;/p&gt;

&lt;p&gt;(Alternatively, the user can just cache the RDD before checkpointing it, but this is not always viable for very large input data. It&apos;s also not a great API to use in general.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12840009">SPARK-8582</key>
            <summary>Optimize checkpointing to avoid computing an RDD twice</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zsxwing">Shixiong Zhu</assignee>
                                    <reporter username="andrewor14">Andrew Or</reporter>
                        <labels>
                            <label>bulk-closed</label>
                    </labels>
                <created>Wed, 24 Jun 2015 01:23:14 +0000</created>
                <updated>Wed, 5 Jan 2022 07:58:59 +0000</updated>
                            <resolved>Wed, 5 Jan 2022 07:58:59 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>3.3.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>16</votes>
                                    <watches>31</watches>
                                                                                                                <comments>
                            <comment id="14598692" author="andrewor14" created="Wed, 24 Jun 2015 01:24:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tdas&quot; class=&quot;user-hover&quot; rel=&quot;tdas&quot;&gt;tdas&lt;/a&gt; also wants this.&lt;/p&gt;</comment>
                            <comment id="14601526" author="apachespark" created="Thu, 25 Jun 2015 16:54:05 +0000"  >&lt;p&gt;User &apos;viirya&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/7021&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/7021&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14603195" author="glenn.strycker@gmail.com" created="Fri, 26 Jun 2015 17:00:58 +0000"  >&lt;p&gt;I didn&apos;t see this ticket and made a duplicate, &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-8666&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-8666&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See that ticket for a code example of what is going on.&lt;/p&gt;

&lt;p&gt;There is also a stackoverflow question on this topic:  &lt;a href=&quot;http://stackoverflow.com/questions/31078350/spark-rdd-checkpoint-on-persisted-cached-rdds-are-performing-the-dag-twice&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/31078350/spark-rdd-checkpoint-on-persisted-cached-rdds-are-performing-the-dag-twice&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14603986" author="srowen" created="Sat, 27 Jun 2015 05:29:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=glenn.strycker%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;glenn.strycker@gmail.com&quot;&gt;glenn.strycker@gmail.com&lt;/a&gt; in these cases please close your JIRA then.&lt;/p&gt;</comment>
                            <comment id="14738587" author="byungjin.kim" created="Thu, 10 Sep 2015 11:07:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrewor14&quot; class=&quot;user-hover&quot; rel=&quot;andrewor14&quot;&gt;andrewor14&lt;/a&gt;&lt;br/&gt;
Because of this bug, we suffer from performance degradation in large stated streaming app. and looking forward to fixing it.&lt;br/&gt;
Is there any update or any plan ? &lt;/p&gt;</comment>
                            <comment id="14972228" author="apachespark" created="Sat, 24 Oct 2015 01:04:03 +0000"  >&lt;p&gt;User &apos;zsxwing&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/9258&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/9258&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14986474" author="apachespark" created="Tue, 3 Nov 2015 01:40:03 +0000"  >&lt;p&gt;User &apos;zsxwing&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/9428&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/9428&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15004874" author="andrewor14" created="Fri, 13 Nov 2015 23:09:07 +0000"  >&lt;p&gt;Hi everyone, I have bumped this to 1.7.0 because of the potential performance regressions a fix could introduce. If you are affected by this and would like to solve this earlier, then you can workaround this by calling `persist` first before you call `checkpoint`. This ensures that the second time you compute the RDD reads from the cache instead, which is much faster for many workloads.&lt;/p&gt;</comment>
                            <comment id="16584726" author="mbalearnstocode" created="Sat, 18 Aug 2018 09:45:35 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zsxwing&quot; class=&quot;user-hover&quot; rel=&quot;zsxwing&quot;&gt;zsxwing&lt;/a&gt;, may I check if we&apos;re working on resolving this issue? I&apos;m currently experiencing this multiple-DAG-execution issue in Spark 2.3.1, and for huge data sets the repeated materialization takes a long time.&lt;/p&gt;</comment>
                            <comment id="16590733" author="bergun" created="Thu, 23 Aug 2018 19:46:39 +0000"  >&lt;p&gt;+1 When is this issue is planned to be resolved?&lt;/p&gt;

&lt;p&gt;I am facing it on Spark 2.3.1 when using with Dataset Api. It has been long time and old version since it has been reported? Is this maybe more complex than it seems? Thanks for the help&lt;/p&gt;</comment>
                            <comment id="17124891" author="calleo" created="Wed, 3 Jun 2020 12:02:10 +0000"  >&lt;p&gt;Given this comment: &lt;a href=&quot;https://github.com/apache/spark/blob/e5b9b862e6011f37dfc0f646d6c3ae8e545e2cd6/core/src/main/scala/org/apache/spark/rdd/ReliableCheckpointRDD.scala#L165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/e5b9b862e6011f37dfc0f646d6c3ae8e545e2cd6/core/src/main/scala/org/apache/spark/rdd/ReliableCheckpointRDD.scala#L165&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;How come this issue has been closed? I&apos;ve looked at the linked issues/PR&apos;s but can&apos;t really make out if this has been solved or if there is a work around. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hyukjin.kwon&quot; class=&quot;user-hover&quot; rel=&quot;hyukjin.kwon&quot;&gt;hyukjin.kwon&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zsxwing&quot; class=&quot;user-hover&quot; rel=&quot;zsxwing&quot;&gt;zsxwing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Would like some clarification, thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17246294" author="godliness" created="Wed, 9 Dec 2020 05:41:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/rdd/ReliableCheckpointRDD.scala#L164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/rdd/ReliableCheckpointRDD.scala#L164&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Looks like we still have this problem right now?&lt;/p&gt;</comment>
                            <comment id="17285663" author="igreenfi" created="Wed, 17 Feb 2021 07:18:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zsxwing&quot; class=&quot;user-hover&quot; rel=&quot;zsxwing&quot;&gt;zsxwing&lt;/a&gt; Why that Jira closed? I still see that as an issue on the code...&lt;/p&gt;</comment>
                            <comment id="17464790" author="apachespark" created="Thu, 23 Dec 2021 20:38:13 +0000"  >&lt;p&gt;User &apos;agrawaldevesh&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35005&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35005&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17464792" author="dagrawal3409" created="Thu, 23 Dec 2021 20:38:21 +0000"  >&lt;p&gt;This issue hasn&apos;t been fixed satisfactorily and I am making one more attempt at it: &lt;a href=&quot;https://github.com/apache/spark/pull/35005&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35005&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17464794" author="apachespark" created="Thu, 23 Dec 2021 20:39:38 +0000"  >&lt;p&gt;User &apos;agrawaldevesh&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35005&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35005&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17469097" author="cloud_fan" created="Wed, 5 Jan 2022 07:58:59 +0000"  >&lt;p&gt;Issue resolved by pull request 35005&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/35005&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/35005&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12840912">SPARK-8666</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gevr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>