<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:53:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-20244] Incorrect input size in UI with pyspark</title>
                <link>https://issues.apache.org/jira/browse/SPARK-20244</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In Spark UI (Details for Stage) Input Size is  64.0 KB when running in PySparkShell. &lt;br/&gt;
Also it is incorrect in Tasks table:&lt;br/&gt;
64.0 KB / 132120575 in pyspark&lt;br/&gt;
252.0 MB / 132120575 in spark-shell&lt;/p&gt;

&lt;p&gt;I will attach screenshots.&lt;/p&gt;

&lt;p&gt;Reproduce steps:&lt;br/&gt;
Run this  to generate big file (press Ctrl+C after 5-6 seconds)&lt;br/&gt;
$ yes &amp;gt; /tmp/yes.txt&lt;br/&gt;
$ hadoop fs -copyFromLocal /tmp/yes.txt /tmp/&lt;br/&gt;
$ ./bin/pyspark&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Python 2.7.5 (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, Nov  6 2016, 00:28:07) 
[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux2
Type &lt;span class=&quot;code-quote&quot;&gt;&quot;help&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;copyright&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;credits&quot;&lt;/span&gt; or &lt;span class=&quot;code-quote&quot;&gt;&quot;license&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; more information.
Setting &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; log level to &lt;span class=&quot;code-quote&quot;&gt;&quot;WARN&quot;&lt;/span&gt;.
To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).
Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  &apos;_/
   /__ / .__/\_,_/_/ /_/\_\   version 2.1.0
      /_/

Using Python version 2.7.5 (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, Nov  6 2016 00:28:07)
SparkSession available as &lt;span class=&quot;code-quote&quot;&gt;&apos;spark&apos;&lt;/span&gt;.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; a = sc.textFile(&quot;/tmp/yes.txt&quot;)&lt;br/&gt;
&amp;gt;&amp;gt;&amp;gt; a.count()&lt;/p&gt;


&lt;p&gt;Open Spark UI and check Stage 0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13062134">SPARK-20244</key>
            <summary>Incorrect input size in UI with pyspark</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jerryshao">Saisai Shao</assignee>
                                    <reporter username="asukhenko">Artur Sukhenko</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Apr 2017 15:06:32 +0000</created>
                <updated>Thu, 1 Jun 2017 05:37:15 +0000</updated>
                            <resolved>Thu, 1 Jun 2017 05:37:15 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>2.1.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15959069" author="asukhenko" created="Thu, 6 Apr 2017 15:13:30 +0000"  >&lt;p&gt;Spark-shell and pyspark UI screenshots.&lt;/p&gt;</comment>
                            <comment id="15964422" author="jerryshao" created="Tue, 11 Apr 2017 14:09:45 +0000"  >&lt;p&gt;This actually is not a UI problem, it is FileSystem thread local statistics problem, because PythonRDD will create another thread to read data, so the readBytes getting from another thread will be error. But there&apos;s no problem if using spark-shell, since everything is processed in one thread.&lt;/p&gt;

&lt;p&gt;This is a general problem if the child RDD&apos;s computation creates another thread to handle parent&apos;s RDD (HadoopRDD)&apos;s iterator. I tried several different ways to handle this problem, but still have some small issues. The multi-thread processing inside the RDD make the fix quite complex. &lt;/p&gt;</comment>
                            <comment id="15965455" author="apachespark" created="Wed, 12 Apr 2017 06:34:03 +0000"  >&lt;p&gt;User &apos;jerryshao&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/17617&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/17617&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12862302" name="pyspark_incorrect_inputsize.png" size="102215" author="asukhenko" created="Thu, 6 Apr 2017 15:13:30 +0000"/>
                            <attachment id="12862301" name="sparkshell_correct_inputsize.png" size="103017" author="asukhenko" created="Thu, 6 Apr 2017 15:13:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3db07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>