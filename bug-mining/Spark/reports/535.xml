<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:15:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-2797] SchemaRDDs don&apos;t support unpersist()</title>
                <link>https://issues.apache.org/jira/browse/SPARK-2797</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Looks like something simple got missed in the Java layer?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt;&amp;gt;&amp;gt; from pyspark.sql &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; SQLContext
&amp;gt;&amp;gt;&amp;gt; sqlContext = SQLContext(sc)
&amp;gt;&amp;gt;&amp;gt; raw = sc.parallelize([&lt;span class=&quot;code-quote&quot;&gt;&apos;{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;: 5}&apos;&lt;/span&gt;])
&amp;gt;&amp;gt;&amp;gt; events = sqlContext.jsonRDD(raw)
&amp;gt;&amp;gt;&amp;gt; events.printSchema()
root
 |-- a: IntegerType

&amp;gt;&amp;gt;&amp;gt; events.cache()
PythonRDD[45] at RDD at PythonRDD.scala:37
&amp;gt;&amp;gt;&amp;gt; events.unpersist()
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;stdin&amp;gt;&quot;&lt;/span&gt;, line 1, in &amp;lt;module&amp;gt;
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/root/spark/python/pyspark/sql.py&quot;&lt;/span&gt;, line 440, in unpersist
    self._jschema_rdd.unpersist()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/root/spark/python/lib/py4j-0.8.1-src.zip/py4j/java_gateway.py&quot;&lt;/span&gt;, line 537, in __call__
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/root/spark/python/lib/py4j-0.8.1-src.zip/py4j/protocol.py&quot;&lt;/span&gt;, line 304, in get_return_value
py4j.protocol.Py4JError: An error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; calling o108.unpersist. Trace:
py4j.Py4JException: Method unpersist([]) does not exist
	at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:333)
	at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:342)
	at py4j.Gateway.invoke(Gateway.java:251)
	at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)
	at py4j.commands.CallCommand.execute(CallCommand.java:79)
	at py4j.GatewayConnection.run(GatewayConnection.java:207)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&amp;gt;&amp;gt;&amp;gt; events.unpersist
&amp;lt;bound method SchemaRDD.unpersist of PythonRDD[45] at RDD at PythonRDD.scala:37&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that the &lt;tt&gt;unpersist&lt;/tt&gt; method exists but cannot be called without raising the shown error.&lt;/p&gt;

&lt;p&gt;This is on &lt;tt&gt;1.0.2-rc1&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12731429">SPARK-2797</key>
            <summary>SchemaRDDs don&apos;t support unpersist()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="nchammas">Nicholas Chammas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Aug 2014 21:56:02 +0000</created>
                <updated>Fri, 12 Sep 2014 17:08:00 +0000</updated>
                            <resolved>Sun, 3 Aug 2014 00:56:22 +0000</resolved>
                                    <version>1.0.2</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>PySpark</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14083042" author="nchammas" created="Fri, 1 Aug 2014 22:11:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marmbrus&quot; class=&quot;user-hover&quot; rel=&quot;marmbrus&quot;&gt;marmbrus&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;yhuai&lt;/a&gt;: I don&apos;t know if this affects all SchemaRDDs, or just those created via &lt;tt&gt;jsonRDD()&lt;/tt&gt;. I also didn&apos;t check if this affects Scala. Gotta run now, but just wanted to pop in this ticket real quick.&lt;/p&gt;</comment>
                            <comment id="14083775" author="yhuai" created="Sat, 2 Aug 2014 22:49:22 +0000"  >&lt;p&gt;I guess the problem is that when we create a Python SchemaRDD, we use a Scala SchemaRDD as the base SchemaRDD. When I look at the context.py, we are using a JavaRDD as the base RDD of a Python RDD. &lt;/p&gt;</comment>
                            <comment id="14083776" author="yhuai" created="Sat, 2 Aug 2014 22:51:04 +0000"  >&lt;p&gt;But, I do not understand why cache works but unpersist fails...&lt;/p&gt;</comment>
                            <comment id="14083788" author="yhuai" created="Sat, 2 Aug 2014 23:24:46 +0000"  >&lt;p&gt;Oh. I see the problem. In Scala RDD, we are using default parameter for the unpersist method. Seems we will not be able to call it without an input parameter.&lt;/p&gt;</comment>
                            <comment id="14083791" author="yhuai" created="Sat, 2 Aug 2014 23:31:46 +0000"  >&lt;p&gt;I think we also need to refactoring the sql.py later. Some variable names are misleading (For example, _jschema_rdd is a Scala SchemaRDD instead of a JavaSchemaRDD).&lt;/p&gt;</comment>
                            <comment id="14083796" author="apachespark" created="Sat, 2 Aug 2014 23:36:35 +0000"  >&lt;p&gt;User &apos;yhuai&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/1745&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/1745&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14083857" author="nchammas" created="Sun, 3 Aug 2014 03:49:19 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I think we also need to refactoring the sql.py later. Some variable names are misleading (For example, _jschema_rdd is a Scala SchemaRDD instead of a JavaSchemaRDD).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yin, is there a JIRA to track that? (Do we need one?)&lt;/p&gt;

&lt;p&gt;By the way, thank you for resolving this so quickly.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12740950">SPARK-3500</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yghj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326686">1.1.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>