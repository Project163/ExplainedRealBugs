<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:49:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-18810] SparkR install.spark does not work for RCs, snapshots</title>
                <link>https://issues.apache.org/jira/browse/SPARK-18810</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;We publish source archives of the SparkR package now in RCs and in nightly snapshot builds. One of the problems that still remains is that `install.spark` does not work for these as it looks for the final Spark version to be present in the apache download mirrors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13027079">SPARK-18810</key>
            <summary>SparkR install.spark does not work for RCs, snapshots</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="felixcheung">Felix Cheung</assignee>
                                    <reporter username="shivaram">Shivaram Venkataraman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Dec 2016 19:47:55 +0000</created>
                <updated>Thu, 15 Dec 2016 05:05:53 +0000</updated>
                            <resolved>Mon, 12 Dec 2016 22:41:15 +0000</resolved>
                                    <version>2.0.2</version>
                    <version>2.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15736161" author="felixcheung" created="Fri, 9 Dec 2016 19:53:33 +0000"  >&lt;p&gt;I&apos;ve found the same issue while testing as well, and was going to propose a change to support this.&lt;/p&gt;

&lt;p&gt;Essentially for snapshot and RC build, since the jar is not on the Apache mirror, install.spark is unable to download it. We need to have a way to override the url (details: as it is constructing the url from a base url and a version path, it is expecting the source as a certain directory structure - currently this structure does not match how the snapshot and RC build are published, so we need a way to override the entire url)&lt;/p&gt;

&lt;p&gt;I propose we have an environment variable instead of a parameter since we want to be able to run everything the same way without having to make code changes.&lt;/p&gt;</comment>
                            <comment id="15736182" author="shivaram" created="Fri, 9 Dec 2016 19:58:36 +0000"  >&lt;p&gt;I think the snapshot case and the RC case are probably a bit different.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In the case of RCs the artifact name matches what would be the final release (for example &lt;a href=&quot;http://people.apache.org/~pwendell/spark-releases/spark-2.1.0-rc2-bin/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~pwendell/spark-releases/spark-2.1.0-rc2-bin/&lt;/a&gt;) so we only need to change the base url (environment variable could work for this)&lt;/li&gt;
	&lt;li&gt;For nightly builds the artifact name also changes and this probably needs some more thought. I guess having a way to override the entire URL would solve both the cases ?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15736217" author="felixcheung" created="Fri, 9 Dec 2016 20:06:00 +0000"  >&lt;p&gt;For RC, it actually expects to have a subdirectory `spark-2.1.0` (==version) so it doesn&apos;t exactly match `spark-2.1.0-rc2-bin` in &lt;a href=&quot;http://people.apache.org/~pwendell/spark-releases/spark-2.1.0-rc2-bin/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~pwendell/spark-releases/spark-2.1.0-rc2-bin/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/blob/39e2bad6a866d27c3ca594d15e574a1da3ee84cc/R/pkg/R/install.R#L71&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/39e2bad6a866d27c3ca594d15e574a1da3ee84cc/R/pkg/R/install.R#L71&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15736230" author="felixcheung" created="Fri, 9 Dec 2016 20:11:38 +0000"  >&lt;p&gt;Also to expand on the earlier note above, I think the main thing to be able to run existing tests, build vignettes and so on&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;without having to change any code&lt;br/&gt;
or&lt;/li&gt;
	&lt;li&gt;without having to manually call install.spark in a separate session first to cache the spark jar&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;this is why I think it makes sense to have an environment override instead of an API parameter switch.&lt;/p&gt;</comment>
                            <comment id="15736233" author="shivaram" created="Fri, 9 Dec 2016 20:13:04 +0000"  >&lt;p&gt;Yeah I think that sounds good. This need not be an advertised feature that we tell users about but more of a flag we use for testing&lt;/p&gt;</comment>
                            <comment id="15739257" author="apachespark" created="Sun, 11 Dec 2016 07:16:11 +0000"  >&lt;p&gt;User &apos;felixcheung&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/16248&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/16248&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15743393" author="shivaram" created="Mon, 12 Dec 2016 22:41:15 +0000"  >&lt;p&gt;Issue resolved by pull request 16248&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/16248&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/16248&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37f1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>