<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:21:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-4989] wrong application configuration cause cluster down in standalone mode</title>
                <link>https://issues.apache.org/jira/browse/SPARK-4989</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;when enabling eventlog in standalone mode, if give the wrong configuration, the standalone cluster will down (cause master restart, lose connection with workers). &lt;/p&gt;

&lt;p&gt;How to reproduce: just give an invalid value to &quot;spark.eventLog.dir&quot;, for example: &lt;b&gt;spark.eventLog.dir=hdfs://tmp/logdir1, hdfs://tmp/logdir2&lt;/b&gt;. This will throw illegalArgumentException, which will cause the &lt;b&gt;Master&lt;/b&gt; restart. And the whole cluster is not available.&lt;/p&gt;

&lt;p&gt;This is not acceptable that cluster is crashed by one application&apos;s wrong setting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12763993">SPARK-4989</key>
            <summary>wrong application configuration cause cluster down in standalone mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyezhang556520">Zhang, Liye</assignee>
                                    <reporter username="liyezhang556520">Zhang, Liye</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Dec 2014 08:04:13 +0000</created>
                <updated>Thu, 30 Apr 2015 12:51:29 +0000</updated>
                            <resolved>Thu, 30 Apr 2015 12:51:16 +0000</resolved>
                                    <version>1.0.0</version>
                    <version>1.1.0</version>
                    <version>1.2.0</version>
                                    <fixVersion>1.1.2</fixVersion>
                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>Deploy</component>
                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14259933" author="apachespark" created="Mon, 29 Dec 2014 08:24:18 +0000"  >&lt;p&gt;User &apos;liyezhang556520&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/3824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3824&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14259938" author="liyezhang556520" created="Mon, 29 Dec 2014 08:33:41 +0000"  >&lt;p&gt;A following up JIRA is opened for resolving the Cluster&apos;s resume. Please see &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-4991&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SPARK-4891&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14260323" author="joshrosen" created="Mon, 29 Dec 2014 19:00:34 +0000"  >&lt;p&gt;If you have a full stacktrace, can you past it into this issue&apos;s description?  This makes it easier to search for issues if users have seen that particular exception.&lt;/p&gt;</comment>
                            <comment id="14260667" author="liyezhang556520" created="Tue, 30 Dec 2014 02:02:18 +0000"  >&lt;p&gt;Assume that we set &lt;b&gt;spark.eventLog.dir=hdfs://host:port/user/username/eventLog0, hdfs://host:port/user/username/eventLog1&lt;/b&gt;, when starting the application, application will fail due to the exception, like following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.net.URISyntaxException: Illegal character in path at index 41: hdfs&lt;span class=&quot;code-comment&quot;&gt;//host:port/user/username/eventLog0, hdfs://host:port/user/username/eventLog1
&lt;/span&gt;        at java.net.URI$Parser.fail(URI.java:2829)
        at java.net.URI$Parser.checkChars(URI.java:3002)
        at java.net.URI$Parser.parseHierarchical(URI.java:3086)
        at java.net.URI$Parser.parse(URI.java:3034)
        at java.net.URI.&amp;lt;init&amp;gt;(URI.java:595)
        at org.apache.spark.scheduler.EventLoggingListener.&amp;lt;init&amp;gt;(EventLoggingListener.scala:64)
        at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:357)
        at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:136)
        at com.intel.benchmark.wordcount.Driver$.main(Driver.scala:44)
        at com.intel.benchmark.wordcount.Driver.main(Driver.scala)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will cause the &lt;b&gt;Master&lt;/b&gt; to remove the application and rebuild the sparkUI. In which will also throw the exception to &lt;b&gt;Master Actor&lt;/b&gt;, which will lead to &lt;b&gt;Master&lt;/b&gt;&apos;s restart. The exception will be like the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;14/12/30 09:48:18 ERROR OneForOneStrategy: Illegal character in path at index 41: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//sr148:9000/user/liyezhan/eventLog, hdfs://sr148:9000/user/liyezhan/eventLog1
&lt;/span&gt;java.net.URISyntaxException: Illegal character in path at index 41: hdfs&lt;span class=&quot;code-comment&quot;&gt;//host:port/user/username/eventLog0, hdfs://host:port/user/username/eventLog1
&lt;/span&gt;  at java.net.URI$Parser.fail(URI.java:2829)
  at java.net.URI$Parser.checkChars(URI.java:3002)
  at java.net.URI$Parser.parseHierarchical(URI.java:3086)
  at java.net.URI$Parser.parse(URI.java:3034)
  at java.net.URI.&amp;lt;init&amp;gt;(URI.java:595)
  at org.apache.spark.util.Utils$.resolveURI(Utils.scala:1561)
  at org.apache.spark.scheduler.EventLoggingListener$.getLogPath(EventLoggingListener.scala:262)
  at org.apache.spark.deploy.master.Master$$anonfun$11.apply(Master.scala:724)
  at org.apache.spark.deploy.master.Master$$anonfun$11.apply(Master.scala:724)
  at scala.Option.map(Option.scala:145)
  at org.apache.spark.deploy.master.Master.rebuildSparkUI(Master.scala:724)
  at org.apache.spark.deploy.master.Master.removeApplication(Master.scala:695)
  at org.apache.spark.deploy.master.Master.finishApplication(Master.scala:673)
  at org.apache.spark.deploy.master.Master$$anonfun$receiveWithLogging$1$$anonfun$applyOrElse$29.apply(Master.scala:419)
  at org.apache.spark.deploy.master.Master$$anonfun$receiveWithLogging$1$$anonfun$applyOrElse$29.apply(Master.scala:419)
  at scala.Option.foreach(Option.scala:236)
  at org.apache.spark.deploy.master.Master$$anonfun$receiveWithLogging$1.applyOrElse(Master.scala:419)
  at scala.runtime.AbstractPartialFunction$mcVL$sp.apply$mcVL$sp(AbstractPartialFunction.scala:33)
  at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:33)
  at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:25)
  at org.apache.spark.util.ActorLogReceive$$anon$1.apply(ActorLogReceive.scala:53)
  at org.apache.spark.util.ActorLogReceive$$anon$1.apply(ActorLogReceive.scala:42)
  at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:118)
  at org.apache.spark.util.ActorLogReceive$$anon$1.applyOrElse(ActorLogReceive.scala:42)
  at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:465)
  at org.apache.spark.deploy.master.Master.aroundReceive(Master.scala:51)
  at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)
  at akka.actor.ActorCell.invoke(ActorCell.scala:487)
  at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:238)
  at akka.dispatch.Mailbox.run(Mailbox.scala:220)
  at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:393)
  at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
  at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
  at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
  at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14270630" author="apachespark" created="Fri, 9 Jan 2015 06:34:55 +0000"  >&lt;p&gt;User &apos;liyezhang556520&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/3969&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3969&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14270634" author="apachespark" created="Fri, 9 Jan 2015 06:37:03 +0000"  >&lt;p&gt;User &apos;liyezhang556520&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/3970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3970&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14270678" author="apachespark" created="Fri, 9 Jan 2015 07:10:16 +0000"  >&lt;p&gt;User &apos;liyezhang556520&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/3971&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3971&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14380191" author="srowen" created="Wed, 25 Mar 2015 16:39:56 +0000"  >&lt;p&gt;Just keeping score: this has been merged all the way back to 1.1.x; open question now is whether to merge the 1.0 edition: &lt;a href=&quot;https://github.com/apache/spark/pull/3971&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/3971&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I bring it up again just because of the recent conversation on dev@ about back-porting, to maybe up to 2 minor versions ago. I am guessing 1.0.3 will not be released at this point, so this could be closed, but I don&apos;t feel strongly about it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23tbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>