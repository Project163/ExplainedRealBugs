<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:55:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-21642] Use FQDN for DRIVER_HOST_ADDRESS instead of ip address</title>
                <link>https://issues.apache.org/jira/browse/SPARK-21642</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In current implementation, ip address of a driver host is set to DRIVER_HOST_ADDRESS &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. This becomes a problem when we enable SSL using &quot;spark.ssl.enabled&quot;, &quot;spark.ssl.trustStore&quot; and &quot;spark.ssl.keyStore&quot; properties. When we configure these properties, spark web ui is launched with SSL enabled and the HTTPS server is configured with the custom SSL certificate you configured in these properties.&lt;/p&gt;

&lt;p&gt;In this case, client gets javax.net.ssl.SSLPeerUnverifiedException exception when the client accesses the spark web ui because the client fails to verify the SSL certificate (Common Name of the SSL cert does not match with DRIVER_HOST_ADDRESS).&lt;br/&gt;
To avoid the exception, we should use FQDN of the driver host for DRIVER_HOST_ADDRESS.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;  &lt;a href=&quot;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/internal/config/package.scala#L222&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/internal/config/package.scala#L222&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/util/Utils.scala#L942&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/util/Utils.scala#L942&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Error message that client gets when the client accesses spark web ui:&lt;br/&gt;
javax.net.ssl.SSLPeerUnverifiedException: Certificate for &amp;lt;10.102.138.239&amp;gt; doesn&apos;t match any of the subject alternative names: []&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ spark-submit /path/to/jar
..
17/08/04 14:48:07 INFO Utils: Successfully started service &lt;span class=&quot;code-quote&quot;&gt;&apos;SparkUI&apos;&lt;/span&gt; on port 4040.
17/08/04 14:48:07 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http:&lt;span class=&quot;code-comment&quot;&gt;//10.43.3.8:4040
&lt;/span&gt;
$ curl -I http:&lt;span class=&quot;code-comment&quot;&gt;//10.43.3.8:4040
&lt;/span&gt;HTTP/1.1 302 Found
Date: Fri, 04 Aug 2017 14:48:20 GMT
Location: https:&lt;span class=&quot;code-comment&quot;&gt;//10.43.3.8:4440/
&lt;/span&gt;Content-Length: 0
Server: Jetty(9.2.z-SNAPSHOT)

$ curl -v https:&lt;span class=&quot;code-comment&quot;&gt;//10.43.3.8:4440
&lt;/span&gt;* Rebuilt URL to: https:&lt;span class=&quot;code-comment&quot;&gt;//10.43.3.8:4440/
&lt;/span&gt;*   Trying 10.43.3.8...
* TCP_NODELAY set
* Connected to 10.43.3.8 (10.43.3.8) port 4440 (#0)
* Initializing NSS with certpath: sql:/etc/pki/nssdb
*   CAfile: /etc/pki/tls/certs/ca-bundle.crt
  CApath: none
* Server certificate:
* 	subject: CN=*.example.com,OU=MyDept,O=MyOrg,L=Area,C=US
* 	start date: Jun 12 00:05:02 2017 GMT
* 	expire date: Jun 12 00:05:02 2018 GMT
* 	common name: *.example.com
* 	issuer: CN=*.example.com,OU=MyDept,O=MyOrg,L=Area,C=US
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="13092499">SPARK-21642</key>
            <summary>Use FQDN for DRIVER_HOST_ADDRESS instead of ip address</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tanakahda">Aki Tanaka</assignee>
                                    <reporter username="tanakahda">Aki Tanaka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Aug 2017 15:00:23 +0000</created>
                <updated>Mon, 14 Dec 2020 08:18:41 +0000</updated>
                            <resolved>Thu, 17 Aug 2017 14:02:47 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16130438" author="cloud_fan" created="Thu, 17 Aug 2017 14:02:47 +0000"  >&lt;p&gt;Issue resolved by pull request 18846&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/18846&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/18846&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16399376" author="jzhuge" created="Wed, 14 Mar 2018 20:47:30 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tanakahda&quot; class=&quot;user-hover&quot; rel=&quot;tanakahda&quot;&gt;tanakahda&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cloud_fan&quot; class=&quot;user-hover&quot; rel=&quot;cloud_fan&quot;&gt;cloud_fan&lt;/a&gt; for&#160;adding this feature to support SSL. Unfortunately&#160;it breaks&#160;my environment where SSL is not used and FQDN can not be set up easily. What do you recommend? Is it possible to switch to the old behavior when SSL is not enabled? If this is feasible, I can create an PR.&lt;/p&gt;</comment>
                            <comment id="16477315" author="jniebuhr" created="Wed, 16 May 2018 12:14:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jzhuge&quot; class=&quot;user-hover&quot; rel=&quot;jzhuge&quot;&gt;jzhuge&lt;/a&gt; I ran into the same problem. I simply put&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
export SPARK_LOCAL_HOSTNAME=$(ip route get 1 | awk &lt;span class=&quot;code-quote&quot;&gt;&apos;{print $NF;exit}&apos;&lt;/span&gt;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;into my launch script to solve the issue. This forces spark to use your IP as hostname. It should work on any debian based system.&lt;/p&gt;</comment>
                            <comment id="16477625" author="jzhuge" created="Wed, 16 May 2018 16:01:59 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jniebuhr&quot; class=&quot;user-hover&quot; rel=&quot;jniebuhr&quot;&gt;jniebuhr&lt;/a&gt; for the tip! Let me try it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13345794">SPARK-33774</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ifen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>