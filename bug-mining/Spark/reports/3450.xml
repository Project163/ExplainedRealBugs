<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:41:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-12479]  sparkR collect on GroupedData  throws R error &quot;missing value where TRUE/FALSE needed&quot;</title>
                <link>https://issues.apache.org/jira/browse/SPARK-12479</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;sparkR collect on GroupedData  throws &quot;missing value where TRUE/FALSE needed&quot;&lt;/p&gt;

&lt;p&gt;Spark Version: 1.5.1&lt;br/&gt;
R Version: 3.2.2&lt;/p&gt;

&lt;p&gt;I tracked down the root cause of this exception to an specific key for which the hashCode could not be calculated.&lt;/p&gt;

&lt;p&gt;The following code recreates the problem when ran in sparkR:&lt;/p&gt;

&lt;p&gt;hashCode &amp;lt;- getFromNamespace(&quot;hashCode&quot;,&quot;SparkR&quot;)&lt;br/&gt;
hashCode(&quot;bc53d3605e8a5b7de1e8e271c2317645&quot;)&lt;br/&gt;
Error in if (value &amp;gt; .Machine$integer.max) { :&lt;br/&gt;
  missing value where TRUE/FALSE needed&lt;/p&gt;

&lt;p&gt;I went one step further and relaised the the problem happens because of the  bit wise shift below returning NA.&lt;/p&gt;

&lt;p&gt;bitwShiftL(-1073741824,1)&lt;/p&gt;

&lt;p&gt;where bitwShiftL is an R function. &lt;br/&gt;
I believe the bitwShiftL function is working as it is supposed to. Therefore, this PR fixes it in the SparkR package: &lt;a href=&quot;https://github.com/apache/spark/pull/10436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/10436&lt;/a&gt;&lt;br/&gt;
.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12923774">SPARK-12479</key>
            <summary> sparkR collect on GroupedData  throws R error &quot;missing value where TRUE/FALSE needed&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sunrui">Sun Rui</assignee>
                                    <reporter username="paulo.magalhaes">Paulo Magalhaes</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Dec 2015 15:20:02 +0000</created>
                <updated>Sun, 8 May 2016 07:18:22 +0000</updated>
                            <resolved>Sun, 8 May 2016 07:17:57 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15069092" author="apachespark" created="Wed, 23 Dec 2015 03:34:03 +0000"  >&lt;p&gt;User &apos;paulomagalhaes&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/10436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/10436&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15275229" author="apachespark" created="Sat, 7 May 2016 13:15:04 +0000"  >&lt;p&gt;User &apos;sun-rui&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/12976&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/12976&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15275504" author="shivaram" created="Sun, 8 May 2016 07:17:57 +0000"  >&lt;p&gt;Issue resolved by pull request 12976&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/12976&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/12976&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12965829">SPARK-15201</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2q7vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>