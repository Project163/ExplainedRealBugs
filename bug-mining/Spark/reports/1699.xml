<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:26:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-6880] Spark Shutdowns with NoSuchElementException when running parallel collect on cachedRDD</title>
                <link>https://issues.apache.org/jira/browse/SPARK-6880</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Spark Shutdowns with NoSuchElementException when running parallel collect on cachedRDDs&lt;/p&gt;

&lt;p&gt;Below is the stack trace&lt;/p&gt;

&lt;p&gt;15/03/27 11:12:43 ERROR DAGSchedulerActorSupervisor: eventProcesserActor failed; shutting down SparkContext&lt;br/&gt;
java.util.NoSuchElementException: key not found: 28&lt;br/&gt;
        at scala.collection.MapLike$class.default(MapLike.scala:228)&lt;br/&gt;
        at scala.collection.AbstractMap.default(Map.scala:58)&lt;br/&gt;
        at scala.collection.mutable.HashMap.apply(HashMap.scala:64)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$submitMissingTasks(DAGScheduler.scala:808)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$submitStage(DAGScheduler.scala:778)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler$$anonfun$org$apache$spark$scheduler$DAGScheduler$$submitStage$4.apply(DAGScheduler.scala:781)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler$$anonfun$org$apache$spark$scheduler$DAGScheduler$$submitStage$4.apply(DAGScheduler.scala:780)&lt;br/&gt;
        at scala.collection.immutable.List.foreach(List.scala:318)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$submitStage(DAGScheduler.scala:780)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler$$anonfun$org$apache$spark$scheduler$DAGScheduler$$submitStage$4.apply(DAGScheduler.scala:781)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler$$anonfun$org$apache$spark$scheduler$DAGScheduler$$submitStage$4.apply(DAGScheduler.scala:780)&lt;br/&gt;
        at scala.collection.immutable.List.foreach(List.scala:318)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$submitStage(DAGScheduler.scala:780)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler$$anonfun$org$apache$spark$scheduler$DAGScheduler$$submitStage$4.apply(DAGScheduler.scala:781)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler$$anonfun$org$apache$spark$scheduler$DAGScheduler$$submitStage$4.apply(DAGScheduler.scala:780)&lt;br/&gt;
        at scala.collection.immutable.List.foreach(List.scala:318)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$submitStage(DAGScheduler.scala:780)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler.handleJobSubmitted(DAGScheduler.scala:762)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGSchedulerEventProcessActor$$anonfun$receive$2.applyOrElse(DAGScheduler.scala:1389)&lt;br/&gt;
        at akka.actor.Actor$class.aroundReceive(Actor.scala:465)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGSchedulerEventProcessActor.aroundReceive(DAGScheduler.scala:1375)&lt;br/&gt;
        at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)&lt;br/&gt;
        at akka.actor.ActorCell.invoke(ActorCell.scala:487)&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOs6.0, java7&lt;/p&gt;</environment>
        <key id="12820563">SPARK-6880</key>
            <summary>Spark Shutdowns with NoSuchElementException when running parallel collect on cachedRDD</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pankajarora12">pankaj arora</assignee>
                                    <reporter username="pankajarora12">pankaj arora</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2015 15:51:52 +0000</created>
                <updated>Thu, 17 Sep 2015 17:21:37 +0000</updated>
                            <resolved>Tue, 14 Apr 2015 19:08:14 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14492552" author="srowen" created="Mon, 13 Apr 2015 16:06:30 +0000"  >&lt;p&gt;(Don&apos;t assign Target / Fix Version)&lt;/p&gt;

&lt;p&gt;This is not a valid JIRA, as there is no detail. If you intend to add detail later, OK, but please next time wait until you have all of that information ready before opening a JIRA. Otherwise I&apos;m going to close this.&lt;/p&gt;</comment>
                            <comment id="14492622" author="apachespark" created="Mon, 13 Apr 2015 16:44:45 +0000"  >&lt;p&gt;User &apos;pankajarora12&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/5494&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/5494&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14492642" author="pankajarora12" created="Mon, 13 Apr 2015 16:50:19 +0000"  >&lt;p&gt;Sean,&lt;br/&gt;
Sorry for missing stack trace. Added that in description.&lt;/p&gt;</comment>
                            <comment id="14551647" author="markhamstra" created="Wed, 20 May 2015 02:00:29 +0000"  >&lt;p&gt;This fix should also be applied as far back as we care to go in the maintenance branches, since the bug also exists in branch-1.0, branch-1.1, branch-1.2 and branch-1.3.&lt;/p&gt;</comment>
                            <comment id="14553008" author="apachespark" created="Wed, 20 May 2015 20:02:03 +0000"  >&lt;p&gt;User &apos;markhamstra&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/6291&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/6291&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14727617" author="irashid" created="Wed, 2 Sep 2015 16:50:09 +0000"  >&lt;p&gt;Explanation of the remaining issue from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markhamstra&quot; class=&quot;user-hover&quot; rel=&quot;markhamstra&quot;&gt;markhamstra&lt;/a&gt; on why the previous fix was an improvement, and did completely remove the NPE, but wasn&apos;t quite the right fix, because it left some minor issues:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Tasks for a Stage that was previously part of a Job that is no longer active would be re-submitted as though they were part of the prior Job and with no properties set. Since properties are what are used to set an other-than-default scheduling pool, this would affect FAIR scheduler usage, but it would also affect anything else that depends on the settings of the properties (which would be just user code at this point, since Spark itself doesn&apos;t really use the properties for anything else other than Job Group and Description, which end up in the WebUI, can be used to kill by JobGroup, etc.) Even the default, FIFO scheduling would be affected, however, since the resubmission of the Tasks under the earlier jobId would effectively give them a higher priority/greater urgency than the ActiveJob that now actually needs them.  In any event, the Tasks would generate correct results.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14803261" author="markhamstra" created="Thu, 17 Sep 2015 17:21:37 +0000"  >&lt;p&gt;see &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10666&quot; title=&quot;Use properties from ActiveJob associated with a Stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-10666&quot;&gt;&lt;del&gt;SPARK-10666&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d6on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12329359">1.4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>