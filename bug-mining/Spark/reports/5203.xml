<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 18:56:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SPARK-22167] Spark Packaging w/R distro issues</title>
                <link>https://issues.apache.org/jira/browse/SPARK-22167</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The Spark packaging for Spark R in 2.1.2 did not work as expected, namely the R directory was missing from the hadoop-2.7 bin distro. This is the version we build the PySpark package for so it&apos;s possible this is related.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13106068">SPARK-22167</key>
            <summary>Spark Packaging w/R distro issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="holden">Holden Karau</assignee>
                                    <reporter username="holden">Holden Karau</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Sep 2017 15:09:50 +0000</created>
                <updated>Tue, 3 Oct 2017 16:49:08 +0000</updated>
                            <resolved>Mon, 2 Oct 2017 18:57:00 +0000</resolved>
                                    <version>2.1.2</version>
                                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>2.2.1</fixVersion>
                    <fixVersion>2.3.0</fixVersion>
                                    <component>Build</component>
                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16185959" author="holdenk" created="Fri, 29 Sep 2017 15:13:13 +0000"  >&lt;p&gt;Here is the build log &lt;a href=&quot;https://gist.github.com/holdenk/8d8bf00a0fc2186bdcf46e2c8748d365&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/holdenk/8d8bf00a0fc2186bdcf46e2c8748d365&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16186008" author="holdenk" created="Fri, 29 Sep 2017 15:43:47 +0000"  >&lt;p&gt;So for some reason the R directory in the hadoop 2.7 build looks like:&lt;br/&gt;
holden@holden:~/repos/spark/spark-2.1.2-bin-hadoop2.7$ ls R&lt;br/&gt;
check-cran.sh  CRAN_RELEASE.md  create-docs.sh  DOCUMENTATION.md  install-dev.bat  install-dev.sh  log4j.properties  pkg  README.md  run-tests.sh  WINDOWS.md&lt;br/&gt;
holden@holden:~/repos/spark/spark-2.1.2-bin-hadoop2.7$ &lt;/p&gt;

&lt;p&gt;I think there is a race condition which only shows up on my laptop where the Spark directory is modified in one of the previous build steps before copying into the hadoop-2.7 version.&lt;/p&gt;</comment>
                            <comment id="16187124" author="holdenk" created="Sat, 30 Sep 2017 15:11:31 +0000"  >&lt;p&gt;So some more debugging, it does not appear to be a race condition. Rather during the normal build ../R/install-dev.sh is called from an execute step inside of core/pom.xml, however since we&apos;re in release mode we&apos;re running with zinc in the pwd of the spark release dir, not under core/, so the execute step triggers a level up.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=felixcheung&quot; class=&quot;user-hover&quot; rel=&quot;felixcheung&quot;&gt;felixcheung&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16187128" author="apachespark" created="Sat, 30 Sep 2017 15:17:04 +0000"  >&lt;p&gt;User &apos;holdenk&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/19402&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/pull/19402&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16187156" author="felixcheung" created="Sat, 30 Sep 2017 17:26:18 +0000"  >&lt;p&gt;I think I&apos;d propose a change on this part of the release build to depends on (a subset of) check-cran output instead, but thinking more about this the -Psparkr is more for developer and should be left as-is.&lt;/p&gt;

&lt;p&gt;The issue is the output of install-dev is not really a release format, and I guess this has been the de facto release form we have for a very long time.&lt;/p&gt;

&lt;p&gt;But this could be a separate follow up for 2.2.1/2.3.&lt;/p&gt;
</comment>
                            <comment id="16189309" author="holdenk" created="Tue, 3 Oct 2017 06:15:18 +0000"  >&lt;p&gt;I agree we could improve this, I think though that swapping install-dev for check-cran subset probably belongs in 2.3 instead of a minor patch release (and also if that&apos;s going to be the case check-cran should probably be renamed).&lt;/p&gt;</comment>
                            <comment id="16189954" author="felixcheung" created="Tue, 3 Oct 2017 16:49:08 +0000"  >&lt;p&gt;There are likely 2 stages to this.&lt;br/&gt;
More pressing might be the fact that hadoop-2.6 and hadoop-2.7 release tgz have fairly different content because of how the make-release script is structured.&lt;br/&gt;
I will open a new JIRA on this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kpvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12340295">2.1.2</customfieldvalue>
    <customfieldvalue id="12340470">2.2.1</customfieldvalue>
    <customfieldvalue id="12339551">2.3.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>