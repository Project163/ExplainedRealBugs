diff --git a/core/query/pom.xml b/core/query/pom.xml
deleted file mode 100644
index d8d8a3ee1e..0000000000
--- a/core/query/pom.xml
+++ /dev/null
@@ -1,42 +0,0 @@
-<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
-
-	<modelVersion>4.0.0</modelVersion>
-
-	<parent>
-		<groupId>org.eclipse.rdf4j</groupId>
-		<artifactId>rdf4j-core</artifactId>
-		<version>2.3-SNAPSHOT</version>
-	</parent>
-
-	<artifactId>rdf4j-query</artifactId>
-
-	<name>RDF4J: Query</name>
-	<description>Query interfaces and implementations</description>
-
-	<dependencies>
-		<dependency>
-			<groupId>${project.groupId}</groupId>
-			<artifactId>rdf4j-model</artifactId>
-			<version>${project.version}</version>
-		</dependency>
-		<dependency>
-			<groupId>${project.groupId}</groupId>
-			<artifactId>rdf4j-rio-api</artifactId>
-			<version>${project.version}</version>
-		</dependency>
-
-		<dependency>
-			<groupId>junit</groupId>
-			<artifactId>junit</artifactId>
-		</dependency>
-		
-	</dependencies>
-        <build>
-                <plugins>
-                        <plugin>
-                                <groupId>com.github.siom79.japicmp</groupId>
-                                <artifactId>japicmp-maven-plugin</artifactId>
-                        </plugin>
-		</plugins>
-	</build>
-</project>
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/AbstractBindingSet.java b/core/query/src/main/java/org/eclipse/rdf4j/query/AbstractBindingSet.java
deleted file mode 100644
index be5b328d91..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/AbstractBindingSet.java
+++ /dev/null
@@ -1,82 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.util.Iterator;
-
-import org.eclipse.rdf4j.model.Value;
-
-/**
- * Abstract base class for {@link BindingSet} implementations, providing a.o. consistent implementations of
- * {@link BindingSet#equals(Object)} and {@link BindingSet#hashCode()}.
- *
- * @author Jeen Broekstra
- */
-public abstract class AbstractBindingSet implements BindingSet {
-
-	private static final long serialVersionUID = -2594123329154106048L;
-
-	@Override
-	public boolean equals(Object other) {
-		if (this == other) {
-			return true;
-		}
-
-		if (other == null || !(other instanceof BindingSet)) {
-			return false;
-		}
-
-		BindingSet that = (BindingSet)other;
-
-		if (this.size() != that.size()) {
-			return false;
-		}
-
-		// Compare other's bindings to own
-		for (Binding binding : that) {
-			Value ownValue = getValue(binding.getName());
-
-			if (!binding.getValue().equals(ownValue)) {
-				// Unequal bindings for this name
-				return false;
-			}
-		}
-
-		return true;
-	}
-
-	@Override
-	public final int hashCode() {
-		int hashCode = 0;
-
-		for (Binding binding : this) {
-			hashCode ^= binding.getName().hashCode() ^ binding.getValue().hashCode();
-		}
-		return hashCode;
-	}
-
-	@Override
-	public String toString() {
-		StringBuilder sb = new StringBuilder(32 * size());
-
-		sb.append('[');
-
-		Iterator<Binding> iter = iterator();
-		while (iter.hasNext()) {
-			sb.append(iter.next().toString());
-			if (iter.hasNext()) {
-				sb.append(';');
-			}
-		}
-
-		sb.append(']');
-
-		return sb.toString();
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/AbstractTupleQueryResultHandler.java b/core/query/src/main/java/org/eclipse/rdf4j/query/AbstractTupleQueryResultHandler.java
deleted file mode 100644
index 03edc8d952..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/AbstractTupleQueryResultHandler.java
+++ /dev/null
@@ -1,46 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.util.List;
-
-/**
- * Base class for {@link TupleQueryResultHandler}s with dummy implementations of all methods. This class is a
- * useful superclass for classes that implement only one or two TupleQueryResultHandler methods.
- */
-public abstract class AbstractTupleQueryResultHandler implements TupleQueryResultHandler {
-
-	public void startQueryResult(List<String> bindingNames)
-		throws TupleQueryResultHandlerException
-	{
-	}
-
-	public void endQueryResult()
-		throws TupleQueryResultHandlerException
-	{
-	}
-
-	public void handleSolution(BindingSet bindingSet)
-		throws TupleQueryResultHandlerException
-	{
-	}
-
-	@Override
-	public void handleBoolean(boolean value)
-		throws QueryResultHandlerException
-	{
-		// This is a base class for handling tuple results
-		throw new UnsupportedOperationException("Cannot handle boolean results");
-	}
-
-	@Override
-	public void handleLinks(List<String> linkUrls)
-		throws QueryResultHandlerException
-	{
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/Binding.java b/core/query/src/main/java/org/eclipse/rdf4j/query/Binding.java
deleted file mode 100644
index 47ee4ddd5a..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/Binding.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.io.Serializable;
-
-import org.eclipse.rdf4j.model.Value;
-
-/**
- * A named value binding.
- */
-public interface Binding extends Serializable {
-
-	/**
-	 * Gets the name of the binding (e.g. the variable name).
-	 * 
-	 * @return The name of the binding.
-	 */
-	public String getName();
-
-	/**
-	 * Gets the value of the binding. The returned value is never equal to <tt>null</tt>, such a "binding" is
-	 * considered to be unbound.
-	 * 
-	 * @return The value of the binding, never <tt>null</tt>.
-	 */
-	public Value getValue();
-
-	/**
-	 * Compares a binding object to another object.
-	 * 
-	 * @param o
-	 *        The object to compare this binding to.
-	 * @return <tt>true</tt> if the other object is an instance of {@link Binding} and both their names and
-	 *         values are equal, <tt>false</tt> otherwise.
-	 */
-	public boolean equals(Object o);
-
-	/**
-	 * The hash code of a binding is defined as the bit-wise XOR of the hash codes of its name and value:
-	 * 
-	 * <pre>
-	 * name.hashCode() &circ; value.hashCode()
-	 * </pre>
-	 * 
-	 * .
-	 * 
-	 * @return A hash code for the binding.
-	 */
-	public int hashCode();
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/BindingSet.java b/core/query/src/main/java/org/eclipse/rdf4j/query/BindingSet.java
deleted file mode 100644
index 0cd3b0c584..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/BindingSet.java
+++ /dev/null
@@ -1,100 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.io.Serializable;
-import java.util.Iterator;
-import java.util.Set;
-
-import org.eclipse.rdf4j.model.Value;
-
-/**
- * A BindingSet is a set of named value bindings, which is used a.o. to represent a single query solution.
- * Values are indexed by name of the binding which typically corresponds to the names of the variables used in
- * the projection of the orginal query.
- */
-public interface BindingSet extends Iterable<Binding>, Serializable {
-
-	/**
-	 * Creates an iterator over the bindings in this BindingSet. This only returns bindings with non-null
-	 * values. An implementation is free to return the bindings in arbitrary order.
-	 */
-	public Iterator<Binding> iterator();
-
-	/**
-	 * Gets the names of the bindings in this BindingSet.
-	 * 
-	 * @return A set of binding names.
-	 */
-	public Set<String> getBindingNames();
-
-	/**
-	 * Gets the binding with the specified name from this BindingSet.
-	 * 
-	 * @param bindingName
-	 *        The name of the binding.
-	 * @return The binding with the specified name, or <tt>null</tt> if there is no such binding in this
-	 *         BindingSet.
-	 */
-	public Binding getBinding(String bindingName);
-
-	/**
-	 * Checks whether this BindingSet has a binding with the specified name.
-	 * 
-	 * @param bindingName
-	 *        The name of the binding.
-	 * @return <tt>true</tt> if this BindingSet has a binding with the specified name, <tt>false</tt>
-	 *         otherwise.
-	 */
-	public boolean hasBinding(String bindingName);
-
-	/**
-	 * Gets the value of the binding with the specified name from this BindingSet.
-	 * 
-	 * @param bindingName
-	 *        The name of the binding.
-	 * @return The value of the binding with the specified name, or <tt>null</tt> if there is no such binding
-	 *         in this BindingSet.
-	 */
-	public Value getValue(String bindingName);
-
-	/**
-	 * Returns the number of bindings in this BindingSet.
-	 * 
-	 * @return The number of bindings in this BindingSet.
-	 */
-	public int size();
-
-	/**
-	 * Compares a BindingSet object to another object.
-	 * 
-	 * @param o
-	 *        The object to compare this binding to.
-	 * @return <tt>true</tt> if the other object is an instance of {@link BindingSet} and it contains the same
-	 *         set of bindings (disregarding order), <tt>false</tt> otherwise.
-	 */
-	public boolean equals(Object o);
-
-	/**
-	 * The hash code of a binding is defined as the bit-wise XOR of the hash codes of its bindings:
-	 * 
-	 * <pre>
-	 * int hashCode = 0;
-	 *
-	 * for (Binding binding : this) {
-	 * 	hashCode &circ;= binding.getName().hashCode() &circ; binding.getValue().hashCode();
-	 * }
-	 * </pre>
-	 * 
-	 * Note: the calculated hash code intentionally does not depend on the order in which the bindings are
-	 * iterated over.
-	 * 
-	 * @return A hash code for the BindingSet.
-	 */
-	public int hashCode();
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQuery.java b/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQuery.java
deleted file mode 100644
index 74f5f485b9..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQuery.java
+++ /dev/null
@@ -1,17 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * @author Arjohn Kampman
- */
-public interface BooleanQuery extends Query {
-
-	public boolean evaluate()
-		throws QueryEvaluationException;
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQueryResultHandler.java b/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQueryResultHandler.java
deleted file mode 100644
index 81fa41fa94..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQueryResultHandler.java
+++ /dev/null
@@ -1,18 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * An interface that indicates that this QueryResultHandler is capable of handling boolean results using the
- * {@link #handleBoolean(boolean)} method.
- * 
- * @author Peter Ansell
- */
-public interface BooleanQueryResultHandler extends QueryResultHandler {
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQueryResultHandlerException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQueryResultHandlerException.java
deleted file mode 100644
index 55f5201cbb..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/BooleanQueryResultHandlerException.java
+++ /dev/null
@@ -1,50 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * An exception that can be thrown by an BooleanQueryResultHandler when it encounters an unrecoverable error.
- * 
- * @author Peter Ansell
- */
-public class BooleanQueryResultHandlerException extends QueryResultHandlerException {
-
-	private static final long serialVersionUID = 8530574857852836665L;
-
-	/**
-	 * Creates a new BooleanQueryResultHandlerException.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 */
-	public BooleanQueryResultHandlerException(String msg) {
-		super(msg);
-	}
-
-	/**
-	 * Creates a new BooleanQueryResultHandlerException wrapping another exception.
-	 * 
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public BooleanQueryResultHandlerException(Throwable cause) {
-		super(cause);
-	}
-
-	/**
-	 * Creates a new BooleanQueryResultHandlerException wrapping another exception.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public BooleanQueryResultHandlerException(String msg, Throwable cause) {
-		super(msg, cause);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/Dataset.java b/core/query/src/main/java/org/eclipse/rdf4j/query/Dataset.java
deleted file mode 100644
index 2410524c59..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/Dataset.java
+++ /dev/null
@@ -1,52 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.util.Set;
-
-import org.eclipse.rdf4j.model.IRI;
-
-/**
- * Represents a dataset against which operations can be evaluated. A dataset consists of a default graph for
- * read and using operations, which is the <a href="http://www.w3.org/TR/rdf-mt/#defmerge">RDF merge</a> of
- * one or more graphs, a set of named graphs, and a single update graph for INSERT and DELETE. See
- * <a href="http://www.w3.org/TR/rdf-sparql-query/#rdfDataset">SPARQL Query Language for RDF</a> for more
- * info.
- * 
- * @author Simon Schenk
- * @author Arjohn Kampman
- * @author James Leigh
- */
-public interface Dataset {
-
-	/**
-	 * Gets the default remove graph URIs of this dataset. An empty set indicates the the store's default
-	 * behaviour should be used, if not otherwise indicated in the operation.
-	 */
-	public Set<IRI> getDefaultRemoveGraphs();
-
-	/**
-	 * Gets the default insert graph URI of this dataset. An null value indicates that the store's default
-	 * behaviour should be used, if not otherwise indicated in the operation.
-	 */
-	public IRI getDefaultInsertGraph();
-
-	/**
-	 * Gets the default graph URIs of this dataset. An empty default graph set and a non-empty named graph set
-	 * indicates that the default graph is an empty graph. However, if both the default graph set and the
-	 * named graph set are empty, that indicates that the store's default behaviour should be used.
-	 */
-	public Set<IRI> getDefaultGraphs();
-
-	/**
-	 * Gets the named graph URIs of this dataset. An empty named graph set and a non-empty default graph set
-	 * indicates that there are no named graphs. However, if both the default graph set and the named graph
-	 * set are empty, that indicates that the store's default behaviour should be used.
-	 */
-	public Set<IRI> getNamedGraphs();
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/GraphQuery.java b/core/query/src/main/java/org/eclipse/rdf4j/query/GraphQuery.java
deleted file mode 100644
index 34c6905c85..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/GraphQuery.java
+++ /dev/null
@@ -1,20 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import org.eclipse.rdf4j.rio.RDFHandler;
-import org.eclipse.rdf4j.rio.RDFHandlerException;
-
-public interface GraphQuery extends Query {
-
-	public GraphQueryResult evaluate()
-		throws QueryEvaluationException;
-
-	public void evaluate(RDFHandler handler)
-		throws QueryEvaluationException, RDFHandlerException;
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/GraphQueryResult.java b/core/query/src/main/java/org/eclipse/rdf4j/query/GraphQueryResult.java
deleted file mode 100644
index ab23421aba..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/GraphQueryResult.java
+++ /dev/null
@@ -1,34 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.util.Map;
-
-import org.eclipse.rdf4j.model.Statement;
-
-/**
- * A representation of a query result as a sequence of {@link Statement} objects. Each query result consists
- * of zero or more Statements and additionaly carries information about relevant namespace declarations. Note:
- * take care to always close a GraphQueryResult after use to free any resources it keeps hold of.
- * 
- * @author Jeen Broekstra
- */
-public interface GraphQueryResult extends QueryResult<Statement> {
-
-	/**
-	 * Retrieves relevant namespaces from the query result. <br/>
-	 * The contents of the Map may be modified after it is returned, as the initial return may be performed
-	 * when the first RDF Statement is encountered.
-	 * 
-	 * @return a Map<String, String> object containing (prefix, namespace) pairs.
-	 * @throws QueryEvaluationException
-	 */
-	public Map<String, String> getNamespaces()
-		throws QueryEvaluationException;
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/IncompatibleOperationException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/IncompatibleOperationException.java
deleted file mode 100644
index 826a37031c..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/IncompatibleOperationException.java
+++ /dev/null
@@ -1,38 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * An exception indicating that a string could not be parsed into an operation of the expected type by the
- * parser.
- * 
- * @author jeen
- */
-public class IncompatibleOperationException extends MalformedQueryException {
-
-	/**
-	 * 
-	 */
-	private static final long serialVersionUID = -4926665776729656410L;
-
-	public IncompatibleOperationException() {
-		super();
-	}
-
-	public IncompatibleOperationException(String message) {
-		super(message);
-	}
-
-	public IncompatibleOperationException(Throwable t) {
-		super(t);
-	}
-
-	public IncompatibleOperationException(String message, Throwable t) {
-		super(message, t);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/MalformedQueryException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/MalformedQueryException.java
deleted file mode 100644
index 05e5b8349f..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/MalformedQueryException.java
+++ /dev/null
@@ -1,38 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import org.eclipse.rdf4j.RDF4JException;
-
-/**
- * An exception indicating that a query could not be processed by the query parser, typically due to syntax
- * errors.
- * 
- * @author jeen
- * @author Herko ter Horst
- */
-public class MalformedQueryException extends RDF4JException {
-
-	private static final long serialVersionUID = 1210214405486786142L;
-
-	public MalformedQueryException() {
-		super();
-	}
-
-	public MalformedQueryException(String message) {
-		super(message);
-	}
-
-	public MalformedQueryException(Throwable t) {
-		super(t);
-	}
-
-	public MalformedQueryException(String message, Throwable t) {
-		super(message, t);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/Operation.java b/core/query/src/main/java/org/eclipse/rdf4j/query/Operation.java
deleted file mode 100644
index 5927ae2c61..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/Operation.java
+++ /dev/null
@@ -1,102 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import org.eclipse.rdf4j.model.Value;
-
-/**
- * An operation (e.g. a query or an update) on a repository that can be formulated in one of the supported
- * query languages (for example SeRQL or SPARQL). It allows one to predefine bindings in the operation to be
- * able to reuse the same operation with different bindings.
- * 
- * @author Jeen
- */
-public interface Operation {
-
-	/**
-	 * Binds the specified variable to the supplied value. Any value that was previously bound to the
-	 * specified value will be overwritten.
-	 * 
-	 * @param name
-	 *        The name of the variable that should be bound.
-	 * @param value
-	 *        The (new) value for the specified variable.
-	 */
-	public void setBinding(String name, Value value);
-
-	/**
-	 * Removes a previously set binding on the supplied variable. Calling this method with an unbound variable
-	 * name has no effect.
-	 * 
-	 * @param name
-	 *        The name of the variable from which the binding is to be removed.
-	 */
-	public void removeBinding(String name);
-
-	/**
-	 * Removes all previously set bindings.
-	 */
-	public void clearBindings();
-
-	/**
-	 * Retrieves the bindings that have been set on this operation.
-	 * 
-	 * @return A (possibly empty) set of operation variable bindings.
-	 * @see #setBinding(String, Value)
-	 */
-	public BindingSet getBindings();
-
-	/**
-	 * Specifies the dataset against which to execute an operation, overriding any dataset that is specified
-	 * in the operation itself.
-	 */
-	public void setDataset(Dataset dataset);
-
-	/**
-	 * Gets the dataset that has been set using {@link #setDataset(Dataset)}, if any.
-	 */
-	public Dataset getDataset();
-
-	/**
-	 * Determine whether evaluation results of this operation should include inferred statements (if any
-	 * inferred statements are present in the repository). The default setting is 'true'.
-	 * 
-	 * @param includeInferred
-	 *        indicates whether inferred statements should be included in the result.
-	 */
-	public void setIncludeInferred(boolean includeInferred);
-
-	/**
-	 * Returns whether or not this operation will return inferred statements (if any are present in the
-	 * repository).
-	 * 
-	 * @return <tt>true</tt> if inferred statements will be returned, <tt>false</tt> otherwise.
-	 */
-	public boolean getIncludeInferred();
-
-	/**
-	 * Specifies the maximum time that an operation is allowed to run. The operation will be interrupted when
-	 * it exceeds the time limit. Any consecutive requests to fetch query results will result in
-	 * {@link QueryInterruptedException}s or {@link UpdateInterruptedException}s (depending on whether the
-	 * operation is a query or an update).
-	 * 
-	 * @param maxQueryTime
-	 *        The maximum query time, measured in seconds. A negative or zero value indicates an unlimited
-	 *        execution time (which is the default).
-	 */
-	public void setMaxExecutionTime(int maxExecTime);
-
-	/**
-	 * Returns the maximum operation execution time.
-	 * 
-	 * @return The maximum operation execution time, measured in seconds.
-	 * @see #setMaxExecutionTime(int)
-	 */
-	public int getMaxExecutionTime();
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/Query.java b/core/query/src/main/java/org/eclipse/rdf4j/query/Query.java
deleted file mode 100644
index 158473abe9..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/Query.java
+++ /dev/null
@@ -1,42 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * A query on a repository that can be formulated in one of the supported query languages (for example SeRQL
- * or SPARQL). It allows one to predefine bindings in the query to be able to reuse the same query with
- * different bindings.
- * 
- * @author Arjohn Kampman
- * @author jeen
- */
-public interface Query extends Operation {
-
-	/**
-	 * Specifies the maximum time that a query is allowed to run. The query will be interrupted when it
-	 * exceeds the time limit. Any consecutive requests to fetch query results will result in
-	 * {@link QueryInterruptedException}s.
-	 * 
-	 * @param maxQueryTime
-	 *        The maximum query time, measured in seconds. A negative or zero value indicates an unlimited
-	 *        query time (which is the default).
-	 * @deprecated since 2.8.0. Use {@link Operation#setMaxExecutionTime(int)} instead.
-	 */
-	@Deprecated
-	public void setMaxQueryTime(int maxQueryTime);
-
-	/**
-	 * Returns the maximum query evaluation time.
-	 * 
-	 * @return The maximum query evaluation time, measured in seconds.
-	 * @see #setMaxQueryTime(int)
-	 * @deprecated since 2.8.0. Use {@link Operation#getMaxExecutionTime()} instead.
-	 */
-	@Deprecated
-	public int getMaxQueryTime();
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryEvaluationException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/QueryEvaluationException.java
deleted file mode 100644
index cf3a8bc8cc..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryEvaluationException.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import org.eclipse.rdf4j.RDF4JException;
-
-/**
- * An exception indicating that the evaluation of a query failed.
- * 
- * @author Arjohn Kampman
- */
-public class QueryEvaluationException extends RDF4JException {
-
-	private static final long serialVersionUID = 602749602257031631L;
-
-	public QueryEvaluationException() {
-		super();
-	}
-
-	/**
-	 * Creates a new TupleQueryResultHandlerException.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 */
-	public QueryEvaluationException(String msg) {
-		super(msg);
-	}
-
-	/**
-	 * Creates a new TupleQueryResultHandlerException wrapping another exception.
-	 * 
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public QueryEvaluationException(Throwable cause) {
-		super(cause);
-	}
-
-	/**
-	 * Creates a new TupleQueryResultHandlerException wrapping another exception.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public QueryEvaluationException(String msg, Throwable cause) {
-		super(msg, cause);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryInterruptedException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/QueryInterruptedException.java
deleted file mode 100644
index b8ef0ed83b..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryInterruptedException.java
+++ /dev/null
@@ -1,35 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * An exception indicating that the evaluation of a query has been interrupted, for example because it took
- * too long to complete.
- * 
- * @author Arjohn Kampman
- */
-public class QueryInterruptedException extends QueryEvaluationException {
-
-	private static final long serialVersionUID = -1261311645990563247L;
-
-	public QueryInterruptedException() {
-		super();
-	}
-
-	public QueryInterruptedException(String message) {
-		super(message);
-	}
-
-	public QueryInterruptedException(String message, Throwable t) {
-		super(message, t);
-	}
-
-	public QueryInterruptedException(Throwable t) {
-		super(t);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryLanguage.java b/core/query/src/main/java/org/eclipse/rdf4j/query/QueryLanguage.java
deleted file mode 100644
index 304c181338..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryLanguage.java
+++ /dev/null
@@ -1,178 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.util.ArrayList;
-import java.util.Collection;
-import java.util.Collections;
-import java.util.List;
-import java.util.Locale;
-
-/**
- * A type-safe enumeration for RDF query languages such as {@link #SPARQL} and {@link #SERQL SeRQL}.
- * QueryLanguage objects are identified by their name, which is treated in as case-insensitive way.
- */
-public class QueryLanguage {
-
-	/*-----------*
-	 * Constants *
-	 *-----------*/
-
-	/**
-	 * SeRQL (Sesame RDF Query Language) is a Sesame-specific query language for RDF, which predates SPARQL.
-	 * 
-	 * @see <a href="http://rdf4j.org/doc/serql">The SeRQL user manual</a>
-	 */
-	public static final QueryLanguage SERQL = new QueryLanguage("SeRQL");
-
-	/**
-	 * SPARQL (Simple Protocol and RDF Query Language) is a W3C Recommendation for querying and updating RDF
-	 * data.
-	 * 
-	 * @see <a href="http://www.w3.org/TR/sparql11-overview/">SPARQL 1.1 Overview</a>
-	 */
-	public static final QueryLanguage SPARQL = new QueryLanguage("SPARQL");
-
-	/**
-	 * SeRQO (Sesame RDF Query Language - Objects) is a Sesame-specific query language using a syntax suited
-	 * less for human editing but for easy transfer over the wire.
-	 * 
-	 * @deprecated since 4.0. This language is no longer actively supported.
-	 */
-	@Deprecated
-	public static final QueryLanguage SERQO = new QueryLanguage("SeRQO");
-
-	/*------------------*
-	 * Static variables *
-	 *------------------*/
-
-	/**
-	 * List of known query languages.
-	 */
-	private static List<QueryLanguage> QUERY_LANGUAGES = new ArrayList<QueryLanguage>(4);
-
-	/*--------------------*
-	 * Static initializer *
-	 *--------------------*/
-
-	static {
-		register(SERQL);
-		register(SPARQL);
-		register(SERQO);
-	}
-
-	/*----------------*
-	 * Static methods *
-	 *----------------*/
-
-	/**
-	 * Returns all known/registered query languages.
-	 */
-	public static Collection<QueryLanguage> values() {
-		return Collections.unmodifiableList(QUERY_LANGUAGES);
-	}
-
-	/**
-	 * Registers the specified query language.
-	 * 
-	 * @param name
-	 *        The name of the query language, e.g. "SPARQL".
-	 */
-	public static QueryLanguage register(String name) {
-		QueryLanguage ql = new QueryLanguage(name);
-		register(ql);
-		return ql;
-	}
-
-	/**
-	 * Registers the specified query language.
-	 */
-	public static void register(QueryLanguage ql) {
-		QUERY_LANGUAGES.add(ql);
-	}
-
-	/**
-	 * Returns the query language whose name matches the specified name.
-	 * 
-	 * @param qlName
-	 *        A query language name.
-	 * @return The query language whose name matches the specified name, or <tt>null</tt> if there is no such
-	 *         query language.
-	 */
-	public static QueryLanguage valueOf(String qlName) {
-		for (QueryLanguage ql : QUERY_LANGUAGES) {
-			if (ql.getName().equalsIgnoreCase(qlName)) {
-				return ql;
-			}
-		}
-
-		return null;
-	}
-
-	/*-----------*
-	 * Variables *
-	 *-----------*/
-
-	/**
-	 * The query language's name.
-	 */
-	private String name;
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	/**
-	 * Creates a new QueryLanguage object.
-	 * 
-	 * @param name
-	 *        The (case-insensitive) name of the query language, e.g. "SPARQL".
-	 */
-	public QueryLanguage(String name) {
-		assert name != null : "name must not be null";
-
-		this.name = name;
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	/**
-	 * Gets the name of this query language.
-	 * 
-	 * @return A human-readable format name, e.g. "SPARQL".
-	 */
-	public String getName() {
-		return name;
-	}
-
-	public boolean hasName(String name) {
-		return this.name.equalsIgnoreCase(name);
-	}
-
-	@Override
-	public boolean equals(Object other) {
-		if (other instanceof QueryLanguage) {
-			QueryLanguage o = (QueryLanguage)other;
-			return this.hasName(o.getName());
-		}
-
-		return false;
-	}
-
-	@Override
-	public int hashCode() {
-		return getName().toUpperCase(Locale.ENGLISH).hashCode();
-	}
-
-	@Override
-	public String toString() {
-		return getName();
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResult.java b/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResult.java
deleted file mode 100644
index cdbc2ea22c..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResult.java
+++ /dev/null
@@ -1,20 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import org.eclipse.rdf4j.common.iteration.CloseableIteration;
-
-/**
- * Super type of all query result types (TupleQueryResult, GraphQueryResult, etc.).
- * 
- * @author Jeen Broekstra
- * @author Arjohn Kampman
- */
-public interface QueryResult<T> extends CloseableIteration<T, QueryEvaluationException> {
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultHandler.java b/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultHandler.java
deleted file mode 100644
index 630de6852a..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultHandler.java
+++ /dev/null
@@ -1,121 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.util.List;
-
-/**
- * The super class of all handlers for processing query results.
- * <p>
- * This interface contains methods for optionally processing both boolean and tuple results sets
- * simultaneously, but there are no guarantees that an implementation will be able to process these values
- * together. If a method is not supported then an {@link UnsupportedOperationException} will be thrown to
- * indicate this failure. This failure may be prevented by checking for whether the class implements
- * {@link BooleanQueryResultHandler} or {@link TupleQueryResultHandler}, for boolean and tuple results support
- * respectively.
- * <p>
- * If both boolean and tuple results are supported but they are not able to to be processed simultaneously,
- * then a checked exception, either {@link BooleanQueryResultHandlerException} or
- * {@link TupleQueryResultHandlerException}, will be thrown to indicate this failure when the relevant methods
- * are called.
- * 
- * @author Peter Ansell
- */
-public interface QueryResultHandler {
-
-	/**
-	 * Handles the specified boolean value.
-	 * 
-	 * @param value
-	 *        The boolean value to handle.
-	 * @throws QueryResultHandlerException
-	 *         If there was an error during the handling of this value. This exception may be thrown if the
-	 *         {@link #startQueryResult(List)}, {@link #handleSolution(BindingSet)} or
-	 *         {@link #endQueryResult()} methods were called before this method was called, and the handler
-	 *         cannot process both boolean and tuple results simultaneously.
-	 * @throws UnsupportedOperationException
-	 *         If this method is not supported
-	 */
-	void handleBoolean(boolean value)
-		throws QueryResultHandlerException;
-
-	/**
-	 * Handles the links elements which are present in SPARQL Results JSON and SPARQL Results XML documents in
-	 * the header.
-	 * <p>
-	 * NOTE: If the format does not support links, it must silently ignore a call to this method.
-	 * <p>
-	 * An accumulating handler should accumulate these links.
-	 * 
-	 * @see <a href="http://www.w3.org/TR/sparql11-results-json/#select-link">"link"</a>
-	 * @param linkUrls
-	 *        The URLs of the links to handle.
-	 * @throws QueryResultHandlerException
-	 *         If there was an error handling the set of link URLs. This error is not thrown in cases where
-	 *         links are not supported.
-	 */
-	void handleLinks(List<String> linkUrls)
-		throws QueryResultHandlerException;
-
-	/**
-	 * Indicates the start of a sequence of Solutions. The supplied bindingNames are an indication of the
-	 * values that are in the Solutions. For example, a SeRQL query like <tt>select X, Y from {X} P {Y} </tt>
-	 * will have binding names <tt>X</tt> and <tt>Y</tt>.
-	 * 
-	 * @param bindingNames
-	 *        An ordered set of binding names.
-	 * @throws TupleQueryResultHandlerException
-	 *         If there was an error during the starting of the query result handler. This exception may be
-	 *         thrown if the {@link #handleBoolean(boolean)} method was called before this method and the
-	 *         handler cannot process both boolean and tuple results simultaneously.
-	 * @throws UnsupportedOperationException
-	 *         If this method is not supported
-	 * @throws IllegalStateException
-	 *         If the {@link #handleSolution(BindingSet)} or {@link #endQueryResult()} methods were called
-	 *         before this method and the handler cannot process multiple sets of tuple results
-	 *         simultaneously.
-	 */
-	public void startQueryResult(List<String> bindingNames)
-		throws TupleQueryResultHandlerException;
-
-	/**
-	 * Indicates the end of a sequence of solutions.
-	 * 
-	 * @throws TupleQueryResultHandlerException
-	 *         If there was an error during the ending of the query result handler. This exception may be
-	 *         thrown if the {@link #handleBoolean(boolean)} method was called before this method and the
-	 *         handler cannot process both boolean and tuple results simultaneously.
-	 * @throws UnsupportedOperationException
-	 *         If this method is not supported
-	 * @throws IllegalStateException
-	 *         If the {@link #endQueryResult()} was previously called for this handler or
-	 *         {@link #startQueryResult(List)} was NOT called before this method.
-	 */
-	public void endQueryResult()
-		throws TupleQueryResultHandlerException;
-
-	/**
-	 * Handles a solution.
-	 * 
-	 * @param bindingSet
-	 *        A single set of tuple results, with binding names bound to values. Each of the binding names in
-	 *        the solution must have previously been registered with the {@link #startQueryResult(List)}
-	 *        method.
-	 * @throws TupleQueryResultHandlerException
-	 *         If there was an error during the handling of the query solution. This exception may be thrown
-	 *         if the {@link #handleBoolean(boolean)} method was called before this method and the handler
-	 *         cannot process both boolean and tuple results simultaneously.
-	 * @throws UnsupportedOperationException
-	 *         If this method is not supported
-	 * @throws IllegalStateException
-	 *         If the {@link #endQueryResult()} method was called before this method or
-	 *         {@link #startQueryResult(List)} was NOT called before this method.
-	 */
-	public void handleSolution(BindingSet bindingSet)
-		throws TupleQueryResultHandlerException;
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultHandlerException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultHandlerException.java
deleted file mode 100644
index ff2a7e2ead..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultHandlerException.java
+++ /dev/null
@@ -1,53 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import org.eclipse.rdf4j.RDF4JException;
-
-/**
- * The super class of exceptions originating from {@link QueryResultHandler} implementations.
- * 
- * @author Peter Ansell
- */
-public class QueryResultHandlerException extends RDF4JException {
-
-	private static final long serialVersionUID = 5096811224670124398L;
-
-	/**
-	 * Creates a new QueryResultHandlerException.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 */
-	public QueryResultHandlerException(String msg) {
-		super(msg);
-	}
-
-	/**
-	 * Creates a new QueryResultHandlerException wrapping another exception.
-	 * 
-	 * @param t
-	 *        The cause of the exception.
-	 */
-	public QueryResultHandlerException(Throwable t) {
-		super(t);
-	}
-
-	/**
-	 * Creates a new QueryResultHandlerException wrapping another exception.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 * @param t
-	 *        The cause of the exception.
-	 */
-	public QueryResultHandlerException(String msg, Throwable t) {
-		super(msg, t);
-	}
-
-}
\ No newline at end of file
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultUtil.java b/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultUtil.java
deleted file mode 100644
index f05d8a5089..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResultUtil.java
+++ /dev/null
@@ -1,17 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * @deprecated since 2.7.0. Use {@link QueryResults} instead.
- * @author Jeen Broekstra
- */
-@Deprecated
-public class QueryResultUtil extends QueryResults {
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResults.java b/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResults.java
deleted file mode 100644
index 248518ff63..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/QueryResults.java
+++ /dev/null
@@ -1,710 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.io.InputStream;
-import java.util.ArrayList;
-import java.util.HashMap;
-import java.util.HashSet;
-import java.util.List;
-import java.util.Map;
-import java.util.NoSuchElementException;
-import java.util.Set;
-import java.util.concurrent.ForkJoinPool;
-import java.util.concurrent.LinkedBlockingQueue;
-
-import javax.xml.datatype.XMLGregorianCalendar;
-
-import org.eclipse.rdf4j.RDF4JException;
-import org.eclipse.rdf4j.common.iteration.AbstractCloseableIteration;
-import org.eclipse.rdf4j.common.iteration.CloseableIteration;
-import org.eclipse.rdf4j.common.iteration.DistinctIteration;
-import org.eclipse.rdf4j.common.iteration.Iterations;
-import org.eclipse.rdf4j.common.iteration.LimitIteration;
-import org.eclipse.rdf4j.common.iteration.OffsetIteration;
-import org.eclipse.rdf4j.model.BNode;
-import org.eclipse.rdf4j.model.IRI;
-import org.eclipse.rdf4j.model.Literal;
-import org.eclipse.rdf4j.model.Model;
-import org.eclipse.rdf4j.model.Statement;
-import org.eclipse.rdf4j.model.Value;
-import org.eclipse.rdf4j.model.datatypes.XMLDatatypeUtil;
-import org.eclipse.rdf4j.model.impl.LinkedHashModel;
-import org.eclipse.rdf4j.model.util.Models;
-import org.eclipse.rdf4j.model.vocabulary.XMLSchema;
-import org.eclipse.rdf4j.query.impl.BackgroundGraphResult;
-import org.eclipse.rdf4j.query.impl.IteratingGraphQueryResult;
-import org.eclipse.rdf4j.query.impl.IteratingTupleQueryResult;
-import org.eclipse.rdf4j.query.impl.QueueCursor;
-import org.eclipse.rdf4j.rio.RDFFormat;
-import org.eclipse.rdf4j.rio.RDFHandler;
-import org.eclipse.rdf4j.rio.RDFHandlerException;
-import org.eclipse.rdf4j.rio.RDFParser;
-import org.eclipse.rdf4j.rio.Rio;
-import org.eclipse.rdf4j.rio.UnsupportedRDFormatException;
-
-/**
- * Utility methods related to query results.
- * 
- * @author Jeen Broekstra
- */
-public class QueryResults extends Iterations {
-
-	/**
-	 * Get a {@link Model} containing all elements obtained from the specified query result.
-	 * 
-	 * @param iteration
-	 *        the source iteration to get the statements from. This can be a {@link GraphQueryResult}, a
-	 *        {@link RepositoryResult<Statement>}, or any other instance of {@link CloseableIteration
-	 *        <Statement>}
-	 * @return a {@link Model} containing all statements obtained from the specified source iteration.
-	 */
-	public static Model asModel(CloseableIteration<? extends Statement, ? extends RDF4JException> iteration)
-		throws QueryEvaluationException
-	{
-		Model model = new LinkedHashModel();
-		addAll(iteration, model);
-		return model;
-	}
-
-	/**
-	 * Returns a single element from the query result. The QueryResult is automatically closed by this method.
-	 * 
-	 * @return a single query result element.
-	 * @throws QueryEvaluationException
-	 */
-	public static Statement singleResult(GraphQueryResult result)
-		throws QueryEvaluationException
-	{
-		Statement singleResult = null;
-		try {
-			if (result.hasNext()) {
-				singleResult = result.next();
-			}
-		}
-		finally {
-			result.close();
-		}
-		return singleResult;
-	}
-
-	/**
-	 * Returns a single element from the query result. The QueryResult is automatically closed by this method.
-	 * 
-	 * @return a single query result element.
-	 * @throws QueryEvaluationException
-	 */
-	public static BindingSet singleResult(TupleQueryResult result)
-		throws QueryEvaluationException
-	{
-		BindingSet singleResult = null;
-		try {
-			if (result.hasNext()) {
-				singleResult = result.next();
-			}
-		}
-		finally {
-			result.close();
-		}
-		return singleResult;
-	}
-
-	/**
-	 * Returns a {@link GraphQueryResult} that filters out any duplicate solutions from the supplied
-	 * queryResult.
-	 * 
-	 * @param queryResult
-	 *        a queryResult containing possible duplicate statements.
-	 * @return a {@link GraphQueryResult} with any duplicates filtered out.
-	 */
-	public static GraphQueryResult distinctResults(GraphQueryResult queryResult) {
-		return new GraphQueryResultFilter(queryResult);
-	}
-
-	/**
-	 * Returns a {@link TupleQueryResult} that filters out any duplicate solutions from the supplied
-	 * queryResult.
-	 * 
-	 * @param queryResult
-	 *        a queryResult containing possible duplicate solutions.
-	 * @return a {@link TupleQueryResult} with any duplicates filtered out.
-	 */
-	public static TupleQueryResult distinctResults(TupleQueryResult queryResult) {
-		return new TupleQueryResultFilter(queryResult);
-	}
-
-	/**
-	 * Returns a {@link TupleQueryResult} that returns at most the specified maximum number of solutions,
-	 * starting at the supplied offset.
-	 * 
-	 * @param queryResult
-	 *        a query result possibly containing more solutions than the specified maximum.
-	 * @param limit
-	 *        the maximum number of solutions to return. If set to 0 or lower, no limit will be applied.
-	 * @param offset
-	 *        the number of solutions to skip at the beginning. If set to 0 or lower, no offset will be
-	 *        applied.
-	 * @return A {@link TupleQueryResult} that will at return at most the specified maximum number of
-	 *         solutions. If neither {@code limit} nor {@code offset} are applied, this returns the original
-	 *         {@code queryResult}.
-	 */
-	public static TupleQueryResult limitResults(TupleQueryResult queryResult, long limit, long offset) {
-		CloseableIteration<BindingSet, QueryEvaluationException> iter = queryResult;
-		if (offset > 0) {
-			iter = new OffsetIteration<>(iter, offset);
-		}
-		if (limit > 0) {
-			iter = new LimitIteration<>(iter, limit);
-		}
-
-		if (!(iter instanceof TupleQueryResult)) {
-			return new IteratingTupleQueryResult(queryResult.getBindingNames(), iter);
-		}
-		return (TupleQueryResult)iter;
-	}
-
-	/**
-	 * Returns a {@link GraphQueryResult} that returns at most the specified maximum number of solutions,
-	 * starting at the supplied offset.
-	 * 
-	 * @param queryResult
-	 *        a query result possibly containing more solutions than the specified maximum.
-	 * @param limit
-	 *        the maximum number of solutions to return. If set to 0 or lower, no limit will be applied.
-	 * @param offset
-	 *        the number of solutions to skip at the beginning. If set to 0 or lower, no offset will be
-	 *        applied.
-	 * @return A {@link GraphQueryResult} that will at return at most the specified maximum number of
-	 *         solutions. If neither {@code limit} nor {@code offset} are applied, this returns the original
-	 *         {@code queryResult}.
-	 */
-	public static GraphQueryResult limitResults(GraphQueryResult queryResult, long limit, long offset) {
-		CloseableIteration<Statement, QueryEvaluationException> iter = queryResult;
-		if (offset > 0) {
-			iter = new OffsetIteration<>(iter, offset);
-		}
-		if (limit > 0) {
-			iter = new LimitIteration<>(iter, limit);
-		}
-
-		if (!(iter instanceof GraphQueryResult)) {
-			return new IteratingGraphQueryResult(queryResult.getNamespaces(), iter);
-		}
-		return (GraphQueryResult)iter;
-	}
-
-	/**
-	 * Parses an RDF document and returns it as a GraphQueryResult object, with parsing done on a separate
-	 * thread in the background.<br>
-	 * IMPORTANT: As this method will spawn a new thread in the background, it is vitally important that the
-	 * resulting GraphQueryResult be closed consistently when it is no longer required, to prevent resource
-	 * leaks.
-	 * 
-	 * @param in
-	 *        The {@link InputStream} containing the RDF document.
-	 * @param baseURI
-	 *        The base URI for the RDF document.
-	 * @param format
-	 *        The {@link RDFFormat} of the RDF document.
-	 * @return A {@link GraphQueryResult} that parses in the background, and must be closed to prevent
-	 *         resource leaks.
-	 */
-	public static GraphQueryResult parseGraphBackground(InputStream in, String baseURI, RDFFormat format)
-		throws UnsupportedRDFormatException
-	{
-		RDFParser parser = Rio.createParser(format);
-
-		BackgroundGraphResult result = new BackgroundGraphResult(
-				new QueueCursor<>(new LinkedBlockingQueue<>(1)), parser, in, format.getCharset(), baseURI);
-		boolean allGood = false;
-		try {
-			ForkJoinPool.commonPool().submit(result);
-			allGood = true;
-		}
-		finally {
-			if (!allGood) {
-				result.close();
-			}
-		}
-		return result;
-	}
-
-	/**
-	 * Reports a tuple query result to a {@link TupleQueryResultHandler}. <br>
-	 * The {@link TupleQueryResult#close()} method will always be called before this method returns. <br>
-	 * If there is an exception generated by the TupleQueryResult, {@link QueryResultHandler#endQueryResult()}
-	 * will not be called.
-	 * 
-	 * @param tqr
-	 *        The query result to report.
-	 * @param handler
-	 *        The handler to report the query result to.
-	 * @throws TupleQueryResultHandlerException
-	 *         If such an exception is thrown by the used query result writer.
-	 */
-	public static void report(TupleQueryResult tqr, QueryResultHandler handler)
-		throws TupleQueryResultHandlerException, QueryEvaluationException
-	{
-		try {
-			handler.startQueryResult(tqr.getBindingNames());
-
-			while (tqr.hasNext()) {
-				BindingSet bindingSet = tqr.next();
-				handler.handleSolution(bindingSet);
-			}
-		}
-		finally {
-			tqr.close();
-		}
-		handler.endQueryResult();
-	}
-
-	/**
-	 * Reports a graph query result to an {@link RDFHandler}. <br>
-	 * The {@link GraphQueryResult#close()} method will always be called before this method returns.<br>
-	 * If there is an exception generated by the GraphQueryResult, {@link RDFHandler#endRDF()} will not be
-	 * called.
-	 * 
-	 * @param gqr
-	 *        The query result to report.
-	 * @param rdfHandler
-	 *        The handler to report the query result to.
-	 * @throws RDFHandlerException
-	 *         If such an exception is thrown by the used RDF writer.
-	 * @throws QueryEvaluationException
-	 */
-	public static void report(GraphQueryResult gqr, RDFHandler rdfHandler)
-		throws RDFHandlerException, QueryEvaluationException
-	{
-		try {
-			rdfHandler.startRDF();
-
-			for (Map.Entry<String, String> entry : gqr.getNamespaces().entrySet()) {
-				String prefix = entry.getKey();
-				String namespace = entry.getValue();
-				rdfHandler.handleNamespace(prefix, namespace);
-			}
-
-			while (gqr.hasNext()) {
-				Statement st = gqr.next();
-				rdfHandler.handleStatement(st);
-			}
-		}
-		finally {
-			gqr.close();
-		}
-		rdfHandler.endRDF();
-	}
-
-	/**
-	 * Compares two tuple query results and returns {@code true} if they are equal. Tuple query results are
-	 * equal if they contain the same set of {@link BindingSet}s and have the same headers. Blank nodes
-	 * identifiers are not relevant for equality, they are matched by trying to find compatible mappings
-	 * between BindingSets. Note that the method consumes both query results fully.
-	 * 
-	 * @param tqr1
-	 *        the first {@link TupleQueryResult} to compare.
-	 * @param tqr2
-	 *        the second {@link TupleQueryResult} to compare.
-	 * @throws QueryEvaluationException
-	 */
-	public static boolean equals(TupleQueryResult tqr1, TupleQueryResult tqr2)
-		throws QueryEvaluationException
-	{
-		List<BindingSet> list1 = Iterations.asList(tqr1);
-		List<BindingSet> list2 = Iterations.asList(tqr2);
-
-		// Compare the number of statements in both sets
-		if (list1.size() != list2.size()) {
-			return false;
-		}
-
-		return matchBindingSets(list1, list2);
-	}
-
-	public static boolean isSubset(TupleQueryResult tqr1, TupleQueryResult tqr2)
-		throws QueryEvaluationException
-	{
-		List<BindingSet> list1 = Iterations.asList(tqr1);
-		List<BindingSet> list2 = Iterations.asList(tqr2);
-
-		// Compare the number of statements in both sets
-		if (list1.size() > list2.size()) {
-			return false;
-		}
-
-		return matchBindingSets(list1, list2);
-	}
-
-	/**
-	 * Compares two graph query results and returns {@code true} if they are equal. Two graph query results
-	 * are considered equal if they are isomorphic graphs. Note that the method consumes both query results
-	 * fully.
-	 * 
-	 * @param result1
-	 *        the first query result to compare
-	 * @param result2
-	 *        the second query result to compare.
-	 * @return {@code true} iff the supplied graph query results are isomorphic graphs, {@code false}
-	 *         otherwise.
-	 * @throws QueryEvaluationException
-	 * @see {@link Models#isomorphic(Iterable, Iterable)}
-	 */
-	public static boolean equals(GraphQueryResult result1, GraphQueryResult result2)
-		throws QueryEvaluationException
-	{
-		Set<? extends Statement> graph1 = Iterations.asSet(result1);
-		Set<? extends Statement> graph2 = Iterations.asSet(result2);
-
-		return Models.isomorphic(graph1, graph2);
-	}
-
-	private static boolean matchBindingSets(List<? extends BindingSet> queryResult1,
-			Iterable<? extends BindingSet> queryResult2)
-	{
-		return matchBindingSets(queryResult1, queryResult2, new HashMap<BNode, BNode>(), 0);
-	}
-
-	/**
-	 * A recursive method for finding a complete mapping between blank nodes in queryResult1 and blank nodes
-	 * in queryResult2. The algorithm does a depth-first search trying to establish a mapping for each blank
-	 * node occurring in queryResult1.
-	 * 
-	 * @return true if a complete mapping has been found, false otherwise.
-	 */
-	private static boolean matchBindingSets(List<? extends BindingSet> queryResult1,
-			Iterable<? extends BindingSet> queryResult2, Map<BNode, BNode> bNodeMapping, int idx)
-	{
-		boolean result = false;
-
-		if (idx < queryResult1.size()) {
-			BindingSet bs1 = queryResult1.get(idx);
-
-			List<BindingSet> matchingBindingSets = findMatchingBindingSets(bs1, queryResult2, bNodeMapping);
-
-			for (BindingSet bs2 : matchingBindingSets) {
-				// Map bNodes in bs1 to bNodes in bs2
-				Map<BNode, BNode> newBNodeMapping = new HashMap<BNode, BNode>(bNodeMapping);
-
-				for (Binding binding : bs1) {
-					if (binding.getValue() instanceof BNode) {
-						newBNodeMapping.put((BNode)binding.getValue(),
-								(BNode)bs2.getValue(binding.getName()));
-					}
-				}
-
-				// FIXME: this recursive implementation has a high risk of
-				// triggering a stack overflow
-
-				// Enter recursion
-				result = matchBindingSets(queryResult1, queryResult2, newBNodeMapping, idx + 1);
-
-				if (result == true) {
-					// models match, look no further
-					break;
-				}
-			}
-		}
-		else {
-			// All statements have been mapped successfully
-			result = true;
-		}
-
-		return result;
-	}
-
-	private static List<BindingSet> findMatchingBindingSets(BindingSet st,
-			Iterable<? extends BindingSet> model, Map<BNode, BNode> bNodeMapping)
-	{
-		List<BindingSet> result = new ArrayList<BindingSet>();
-
-		for (BindingSet modelSt : model) {
-			if (bindingSetsMatch(st, modelSt, bNodeMapping)) {
-				// All components possibly match
-				result.add(modelSt);
-			}
-		}
-
-		return result;
-	}
-
-	private static boolean bindingSetsMatch(BindingSet bs1, BindingSet bs2, Map<BNode, BNode> bNodeMapping) {
-
-		if (bs1.size() != bs2.size()) {
-			return false;
-		}
-
-		for (Binding binding1 : bs1) {
-			Value value1 = binding1.getValue();
-			Value value2 = bs2.getValue(binding1.getName());
-
-			if (value1 instanceof BNode && value2 instanceof BNode) {
-				BNode mappedBNode = bNodeMapping.get(value1);
-
-				if (mappedBNode != null) {
-					// bNode 'value1' was already mapped to some other bNode
-					if (!value2.equals(mappedBNode)) {
-						// 'value1' and 'value2' do not match
-						return false;
-					}
-				}
-				else {
-					// 'value1' was not yet mapped, we need to check if 'value2' is a
-					// possible mapping candidate
-					if (bNodeMapping.containsValue(value2)) {
-						// 'value2' is already mapped to some other value.
-						return false;
-					}
-				}
-			}
-			else {
-				// values are not (both) bNodes
-				if (value1 instanceof Literal && value2 instanceof Literal) {
-					// do literal value-based comparison for supported datatypes
-					Literal leftLit = (Literal)value1;
-					Literal rightLit = (Literal)value2;
-
-					IRI dt1 = leftLit.getDatatype();
-					IRI dt2 = rightLit.getDatatype();
-
-					if (dt1 != null && dt2 != null && dt1.equals(dt2)
-							&& XMLDatatypeUtil.isValidValue(leftLit.getLabel(), dt1)
-							&& XMLDatatypeUtil.isValidValue(rightLit.getLabel(), dt2))
-					{
-						Integer compareResult = null;
-						if (dt1.equals(XMLSchema.DOUBLE)) {
-							compareResult = Double.compare(leftLit.doubleValue(), rightLit.doubleValue());
-						}
-						else if (dt1.equals(XMLSchema.FLOAT)) {
-							compareResult = Float.compare(leftLit.floatValue(), rightLit.floatValue());
-						}
-						else if (dt1.equals(XMLSchema.DECIMAL)) {
-							compareResult = leftLit.decimalValue().compareTo(rightLit.decimalValue());
-						}
-						else if (XMLDatatypeUtil.isIntegerDatatype(dt1)) {
-							compareResult = leftLit.integerValue().compareTo(rightLit.integerValue());
-						}
-						else if (dt1.equals(XMLSchema.BOOLEAN)) {
-							Boolean leftBool = Boolean.valueOf(leftLit.booleanValue());
-							Boolean rightBool = Boolean.valueOf(rightLit.booleanValue());
-							compareResult = leftBool.compareTo(rightBool);
-						}
-						else if (XMLDatatypeUtil.isCalendarDatatype(dt1)) {
-							XMLGregorianCalendar left = leftLit.calendarValue();
-							XMLGregorianCalendar right = rightLit.calendarValue();
-
-							compareResult = left.compare(right);
-						}
-
-						if (compareResult != null) {
-							if (compareResult.intValue() != 0) {
-								return false;
-							}
-						}
-						else if (!value1.equals(value2)) {
-							return false;
-						}
-					}
-					else if (!value1.equals(value2)) {
-						return false;
-					}
-				}
-				else if (!value1.equals(value2)) {
-					return false;
-				}
-			}
-		}
-
-		return true;
-	}
-
-	/**
-	 * Check whether two {@link BindingSet}s are compatible. Two binding sets are compatible if they have
-	 * equal values for each binding name that occurs in both binding sets.
-	 */
-	public static boolean bindingSetsCompatible(BindingSet bs1, BindingSet bs2) {
-		Set<String> sharedBindings = new HashSet<String>(bs1.getBindingNames());
-		sharedBindings.retainAll(bs2.getBindingNames());
-
-		for (String bindingName : sharedBindings) {
-			Value value1 = bs1.getValue(bindingName);
-			Value value2 = bs2.getValue(bindingName);
-
-			if (!value1.equals(value2)) {
-				return false;
-			}
-		}
-
-		return true;
-	}
-
-	private static class GraphQueryResultFilter extends
-			AbstractCloseableIteration<Statement, QueryEvaluationException> implements GraphQueryResult
-	{
-
-		private final DistinctIteration<Statement, QueryEvaluationException> filter;
-
-		private final GraphQueryResult unfiltered;
-
-		public GraphQueryResultFilter(GraphQueryResult wrappedResult) {
-			this.filter = new DistinctIteration<Statement, QueryEvaluationException>(wrappedResult);
-			this.unfiltered = wrappedResult;
-		}
-
-		@Override
-		public boolean hasNext()
-			throws QueryEvaluationException
-		{
-			if (isClosed()) {
-				return false;
-			}
-
-			boolean result = filter.hasNext();
-			if (!result) {
-				close();
-			}
-			return result;
-		}
-
-		@Override
-		public Statement next()
-			throws QueryEvaluationException
-		{
-			if (isClosed()) {
-				throw new NoSuchElementException("The iteration has been closed.");
-			}
-
-			try {
-				return filter.next();
-			}
-			catch (NoSuchElementException e) {
-				close();
-				throw e;
-			}
-		}
-
-		@Override
-		public void remove()
-			throws QueryEvaluationException
-		{
-			if (isClosed()) {
-				throw new IllegalStateException("The iteration has been closed.");
-			}
-
-			try {
-				filter.remove();
-			}
-			catch (IllegalStateException e) {
-				close();
-				throw e;
-			}
-		}
-
-		@Override
-		public void handleClose()
-			throws QueryEvaluationException
-		{
-			try {
-				super.handleClose();
-			}
-			finally {
-				filter.close();
-			}
-		}
-
-		@Override
-		public Map<String, String> getNamespaces()
-			throws QueryEvaluationException
-		{
-			return unfiltered.getNamespaces();
-		}
-	}
-
-	private static class TupleQueryResultFilter extends
-			AbstractCloseableIteration<BindingSet, QueryEvaluationException> implements TupleQueryResult
-	{
-
-		private final DistinctIteration<BindingSet, QueryEvaluationException> filter;
-
-		private final TupleQueryResult unfiltered;
-
-		public TupleQueryResultFilter(TupleQueryResult wrappedResult) {
-			this.filter = new DistinctIteration<BindingSet, QueryEvaluationException>(wrappedResult);
-			this.unfiltered = wrappedResult;
-		}
-
-		@Override
-		public boolean hasNext()
-			throws QueryEvaluationException
-		{
-			if (isClosed()) {
-				return false;
-			}
-
-			boolean result = filter.hasNext();
-			if (!result) {
-				close();
-			}
-			return result;
-		}
-
-		@Override
-		public BindingSet next()
-			throws QueryEvaluationException
-		{
-			if (isClosed()) {
-				throw new NoSuchElementException("The iteration has been closed.");
-			}
-
-			try {
-				return filter.next();
-			}
-			catch (NoSuchElementException e) {
-				close();
-				throw e;
-			}
-		}
-
-		@Override
-		public void remove()
-			throws QueryEvaluationException
-		{
-			if (isClosed()) {
-				throw new IllegalStateException("The iteration has been closed.");
-			}
-
-			try {
-				filter.remove();
-			}
-			catch (IllegalStateException e) {
-				close();
-				throw e;
-			}
-		}
-
-		@Override
-		public void handleClose()
-			throws QueryEvaluationException
-		{
-			try {
-				super.handleClose();
-			}
-			finally {
-				filter.close();
-			}
-		}
-
-		@Override
-		public List<String> getBindingNames()
-			throws QueryEvaluationException
-		{
-			return unfiltered.getBindingNames();
-		}
-
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQuery.java b/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQuery.java
deleted file mode 100644
index 2a17f01716..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQuery.java
+++ /dev/null
@@ -1,17 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-public interface TupleQuery extends Query {
-
-	public TupleQueryResult evaluate()
-		throws QueryEvaluationException;
-
-	public void evaluate(TupleQueryResultHandler handler)
-		throws QueryEvaluationException, TupleQueryResultHandlerException;
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResult.java b/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResult.java
deleted file mode 100644
index 99e764e7b6..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResult.java
+++ /dev/null
@@ -1,30 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.util.List;
-
-/**
- * A representation of a variable-binding query result as a sequence of {@link BindingSet} objects. Each query
- * result consists of zero or more solutions, each of which represents a single query solution as a set of
- * bindings. Note: take care to always close a TupleQueryResult after use to free any resources it keeps hold
- * of.
- * 
- * @author jeen
- */
-public interface TupleQueryResult extends QueryResult<BindingSet> {
-
-	/**
-	 * Gets the names of the bindings, in order of projection.
-	 * 
-	 * @return The binding names, in order of projection.
-	 * @throws QueryEvaluationException
-	 */
-	public List<String> getBindingNames()
-		throws QueryEvaluationException;
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandler.java b/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandler.java
deleted file mode 100644
index cc69f95a3d..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandler.java
+++ /dev/null
@@ -1,20 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import java.util.List;
-
-/**
- * An interface defining methods related to handling sequences of Solutions.
- * <p>
- * Instances of this interface are capable of handling tuple results using the {@link #startQueryResult(List)}
- * , {@link #handleSolution(BindingSet)} and {@link #endQueryResult()} methods.
- */
-public interface TupleQueryResultHandler extends QueryResultHandler {
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandlerBase.java b/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandlerBase.java
deleted file mode 100644
index 56aa9ed652..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandlerBase.java
+++ /dev/null
@@ -1,17 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * @deprecated since 4.0. Use {@link AbstractTupleQueryResultHandler} instead.
- * @author Jeen Broekstra
- */
-@Deprecated
-public class TupleQueryResultHandlerBase extends AbstractTupleQueryResultHandler {
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandlerException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandlerException.java
deleted file mode 100644
index 74ec6ef1ef..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/TupleQueryResultHandlerException.java
+++ /dev/null
@@ -1,50 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * An exception that can be thrown by an TupleQueryResultHandler when it encounters an unrecoverable error. If
- * an exception is associated with the error then this exception can be wrapped in a TupleHandlerException and
- * can later be retrieved from it when the TupleHandlerException is caught using the <tt>getCause()</tt>.
- */
-public class TupleQueryResultHandlerException extends QueryResultHandlerException {
-
-	private static final long serialVersionUID = 8530574857852836665L;
-
-	/**
-	 * Creates a new TupleQueryResultHandlerException.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 */
-	public TupleQueryResultHandlerException(String msg) {
-		super(msg);
-	}
-
-	/**
-	 * Creates a new TupleQueryResultHandlerException wrapping another exception.
-	 * 
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public TupleQueryResultHandlerException(Throwable cause) {
-		super(cause);
-	}
-
-	/**
-	 * Creates a new TupleQueryResultHandlerException wrapping another exception.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public TupleQueryResultHandlerException(String msg, Throwable cause) {
-		super(msg, cause);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/UnsupportedQueryLanguageException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/UnsupportedQueryLanguageException.java
deleted file mode 100644
index df0fd88603..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/UnsupportedQueryLanguageException.java
+++ /dev/null
@@ -1,49 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * A RuntimeException indicating that a specific query language is not supported. A typical cause of this
- * exception is that the class library for the specified query language is not present in the classpath.
- */
-public class UnsupportedQueryLanguageException extends RuntimeException {
-
-	private static final long serialVersionUID = -2709196386078518696L;
-
-	/**
-	 * Creates a new UnsupportedRDFormatException.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 */
-	public UnsupportedQueryLanguageException(String msg) {
-		super(msg);
-	}
-
-	/**
-	 * Creates a new UnsupportedRDFormatException.
-	 * 
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public UnsupportedQueryLanguageException(Throwable cause) {
-		super(cause);
-	}
-
-	/**
-	 * Creates a new UnsupportedRDFormatException wrapping another exception.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public UnsupportedQueryLanguageException(String msg, Throwable cause) {
-		super(msg, cause);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/Update.java b/core/query/src/main/java/org/eclipse/rdf4j/query/Update.java
deleted file mode 100644
index 2d1b35504b..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/Update.java
+++ /dev/null
@@ -1,27 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-/**
- * An update operation on a repository that can be formulated in one of the supported query languages (for
- * example SPARQL).
- * 
- * @author Jeen
- */
-public interface Update extends Operation {
-
-	/**
-	 * Execute this update on the repository.
-	 * 
-	 * @throws UpdateExecutionException
-	 *         if the update could not be successfully completed.
-	 */
-	void execute()
-		throws UpdateExecutionException;
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/UpdateExecutionException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/UpdateExecutionException.java
deleted file mode 100644
index 7b3dbecedc..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/UpdateExecutionException.java
+++ /dev/null
@@ -1,60 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import org.eclipse.rdf4j.RDF4JException;
-
-/**
- * An exception indicating that the execution of an update failed.
- * 
- * @author Jeen
- */
-public class UpdateExecutionException extends RDF4JException {
-
-	/**
-	 * 
-	 */
-	private static final long serialVersionUID = 7969399526232927434L;
-
-	public UpdateExecutionException() {
-		super();
-	}
-
-	/**
-	 * Creates a new UpdateExecutionException.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 */
-	public UpdateExecutionException(String msg) {
-		super(msg);
-	}
-
-	/**
-	 * Creates a new {@link UpdateExecutionException} wrapping another exception.
-	 * 
-	 * @param cause
-	 *        the cause of the exception
-	 */
-	public UpdateExecutionException(Throwable cause) {
-		super(cause);
-	}
-
-	/**
-	 * Creates a new {@link UpdateExecutionException} wrapping another exception.
-	 * 
-	 * @param msg
-	 *        and error message.
-	 * @param cause
-	 *        the cause of the exception
-	 */
-	public UpdateExecutionException(String msg, Throwable cause) {
-		super(msg, cause);
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestBooleanParser.java b/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestBooleanParser.java
deleted file mode 100644
index 61553b4660..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestBooleanParser.java
+++ /dev/null
@@ -1,88 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.dawg;
-
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.BOOLEAN;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.RESULTSET;
-
-import org.eclipse.rdf4j.model.Graph;
-import org.eclipse.rdf4j.model.Literal;
-import org.eclipse.rdf4j.model.Resource;
-import org.eclipse.rdf4j.model.Statement;
-import org.eclipse.rdf4j.model.impl.GraphImpl;
-import org.eclipse.rdf4j.model.util.GraphUtil;
-import org.eclipse.rdf4j.model.util.GraphUtilException;
-import org.eclipse.rdf4j.model.vocabulary.RDF;
-import org.eclipse.rdf4j.rio.RDFHandlerException;
-import org.eclipse.rdf4j.rio.helpers.AbstractRDFHandler;
-
-/**
- * @author Arjohn Kampman
- */
-public class DAWGTestBooleanParser extends AbstractRDFHandler {
-
-	/*-----------*
-	 * Variables *
-	 *-----------*/
-
-	private Graph graph = new GraphImpl();
-
-	private boolean value;
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	public DAWGTestBooleanParser() {
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	public boolean getValue() {
-		return value;
-	}
-
-	@Override
-	public void startRDF()
-		throws RDFHandlerException
-	{
-		graph.clear();
-	}
-
-	@Override
-	public void handleStatement(Statement st)
-		throws RDFHandlerException
-	{
-		graph.add(st);
-	}
-
-	@Override
-	public void endRDF()
-		throws RDFHandlerException
-	{
-		try {
-			Resource resultSetNode = GraphUtil.getUniqueSubject(graph, RDF.TYPE, RESULTSET);
-			Literal booleanLit = GraphUtil.getUniqueObjectLiteral(graph, resultSetNode, BOOLEAN);
-
-			if (booleanLit.equals(DAWGTestResultSetSchema.TRUE)) {
-				value = true;
-			}
-			else if (booleanLit.equals(DAWGTestResultSetSchema.FALSE)) {
-				value = false;
-			}
-			else {
-				throw new RDFHandlerException("Invalid boolean value: " + booleanLit);
-			}
-		}
-		catch (GraphUtilException e) {
-			throw new RDFHandlerException(e.getMessage(), e);
-		}
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetParseException.java b/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetParseException.java
deleted file mode 100644
index db1dddd9f5..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetParseException.java
+++ /dev/null
@@ -1,51 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.dawg;
-
-import org.eclipse.rdf4j.RDF4JException;
-
-/**
- * An exception that is thrown to indicate that the parsing of a DAWG Test Result Set graph failed due to an
- * incompatible or incomplete graph.
- */
-public class DAWGTestResultSetParseException extends RDF4JException {
-
-	private static final long serialVersionUID = -8655777672973690037L;
-
-	/**
-	 * Creates a new DAWGTestResultSetParseException.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 */
-	public DAWGTestResultSetParseException(String msg) {
-		super(msg);
-	}
-
-	/**
-	 * Creates a new DAWGTestResultSetParseException wrapping another exception.
-	 * 
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public DAWGTestResultSetParseException(Throwable cause) {
-		super(cause);
-	}
-
-	/**
-	 * Creates a new DAWGTestResultSetParseException wrapping another exception.
-	 * 
-	 * @param msg
-	 *        An error message.
-	 * @param cause
-	 *        The cause of the exception.
-	 */
-	public DAWGTestResultSetParseException(String msg, Throwable cause) {
-		super(msg, cause);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetParser.java b/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetParser.java
deleted file mode 100644
index 79dd7d1af6..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetParser.java
+++ /dev/null
@@ -1,172 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.dawg;
-
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.BINDING;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.RESULTSET;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.RESULTVARIABLE;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.SOLUTION;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.VALUE;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.VARIABLE;
-
-import java.util.ArrayList;
-import java.util.Iterator;
-import java.util.List;
-
-import org.eclipse.rdf4j.model.Graph;
-import org.eclipse.rdf4j.model.Literal;
-import org.eclipse.rdf4j.model.Resource;
-import org.eclipse.rdf4j.model.Statement;
-import org.eclipse.rdf4j.model.Value;
-import org.eclipse.rdf4j.model.impl.GraphImpl;
-import org.eclipse.rdf4j.model.util.GraphUtil;
-import org.eclipse.rdf4j.model.util.GraphUtilException;
-import org.eclipse.rdf4j.model.vocabulary.RDF;
-import org.eclipse.rdf4j.query.Binding;
-import org.eclipse.rdf4j.query.TupleQueryResultHandler;
-import org.eclipse.rdf4j.query.TupleQueryResultHandlerException;
-import org.eclipse.rdf4j.query.impl.MapBindingSet;
-import org.eclipse.rdf4j.query.impl.SimpleBinding;
-import org.eclipse.rdf4j.rio.RDFHandlerException;
-import org.eclipse.rdf4j.rio.helpers.AbstractRDFHandler;
-
-/**
- * @author Arjohn Kampman
- */
-public class DAWGTestResultSetParser extends AbstractRDFHandler {
-
-	/*-----------*
-	 * Constants *
-	 *-----------*/
-
-	/**
-	 * RDFHandler to report the generated statements to.
-	 */
-	private final TupleQueryResultHandler tqrHandler;
-
-	/*-----------*
-	 * Variables *
-	 *-----------*/
-
-	private Graph graph = new GraphImpl();
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	public DAWGTestResultSetParser(TupleQueryResultHandler tqrHandler) {
-		this.tqrHandler = tqrHandler;
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	@Override
-	public void startRDF()
-		throws RDFHandlerException
-	{
-		graph.clear();
-	}
-
-	@Override
-	public void handleStatement(Statement st)
-		throws RDFHandlerException
-	{
-		graph.add(st);
-	}
-
-	@Override
-	public void endRDF()
-		throws RDFHandlerException
-	{
-		try {
-			Resource resultSetNode = GraphUtil.getUniqueSubject(graph, RDF.TYPE, RESULTSET);
-
-			List<String> bindingNames = getBindingNames(resultSetNode);
-			tqrHandler.startQueryResult(bindingNames);
-
-			Iterator<Value> solIter = GraphUtil.getObjectIterator(graph, resultSetNode, SOLUTION);
-			while (solIter.hasNext()) {
-				Value solutionNode = solIter.next();
-
-				if (solutionNode instanceof Resource) {
-					reportSolution((Resource)solutionNode, bindingNames);
-				}
-				else {
-					throw new RDFHandlerException(
-							"Value for " + SOLUTION + " is not a resource: " + solutionNode);
-				}
-			}
-
-			tqrHandler.endQueryResult();
-		}
-		catch (GraphUtilException e) {
-			throw new RDFHandlerException(e.getMessage(), e);
-		}
-		catch (TupleQueryResultHandlerException e) {
-			throw new RDFHandlerException(e.getMessage(), e);
-		}
-	}
-
-	private List<String> getBindingNames(Resource resultSetNode)
-		throws RDFHandlerException
-	{
-		List<String> bindingNames = new ArrayList<String>(16);
-
-		Iterator<Value> varIter = GraphUtil.getObjectIterator(graph, resultSetNode, RESULTVARIABLE);
-
-		while (varIter.hasNext()) {
-			Value varName = varIter.next();
-
-			if (varName instanceof Literal) {
-				bindingNames.add(((Literal)varName).getLabel());
-			}
-			else {
-				throw new RDFHandlerException(
-						"Value for " + RESULTVARIABLE + " is not a literal: " + varName);
-			}
-		}
-
-		return bindingNames;
-	}
-
-	private void reportSolution(Resource solutionNode, List<String> bindingNames)
-		throws RDFHandlerException, GraphUtilException
-	{
-		MapBindingSet bindingSet = new MapBindingSet(bindingNames.size());
-
-		Iterator<Value> bindingIter = GraphUtil.getObjectIterator(graph, solutionNode, BINDING);
-		while (bindingIter.hasNext()) {
-			Value bindingNode = bindingIter.next();
-
-			if (bindingNode instanceof Resource) {
-				Binding binding = getBinding((Resource)bindingNode);
-				bindingSet.addBinding(binding);
-			}
-			else {
-				throw new RDFHandlerException("Value for " + BINDING + " is not a resource: " + bindingNode);
-			}
-		}
-
-		try {
-			tqrHandler.handleSolution(bindingSet);
-		}
-		catch (TupleQueryResultHandlerException e) {
-			throw new RDFHandlerException(e.getMessage(), e);
-		}
-	}
-
-	private Binding getBinding(Resource bindingNode)
-		throws GraphUtilException
-	{
-		Literal name = GraphUtil.getUniqueObjectLiteral(graph, bindingNode, VARIABLE);
-		Value value = GraphUtil.getUniqueObject(graph, bindingNode, VALUE);
-		return new SimpleBinding(name.getLabel(), value);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetSchema.java b/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetSchema.java
deleted file mode 100644
index 9d33a28a76..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetSchema.java
+++ /dev/null
@@ -1,52 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.dawg;
-
-import org.eclipse.rdf4j.model.IRI;
-import org.eclipse.rdf4j.model.Literal;
-import org.eclipse.rdf4j.model.ValueFactory;
-import org.eclipse.rdf4j.model.impl.SimpleValueFactory;
-
-/**
- * @author Arjohn Kampman
- */
-public class DAWGTestResultSetSchema {
-
-	public static final String NAMESPACE = "http://www.w3.org/2001/sw/DataAccess/tests/result-set#";
-
-	public static final IRI RESULTSET;
-
-	public static final IRI RESULTVARIABLE;
-
-	public static final IRI SOLUTION;
-
-	public static final IRI BINDING;
-
-	public static final IRI VALUE;
-
-	public static final IRI VARIABLE;
-
-	public static final IRI BOOLEAN;
-
-	public static final Literal TRUE;
-
-	public static final Literal FALSE;
-
-	static {
-		ValueFactory vf = SimpleValueFactory.getInstance();
-		RESULTSET = vf.createIRI(NAMESPACE, "ResultSet");
-		RESULTVARIABLE = vf.createIRI(NAMESPACE, "resultVariable");
-		SOLUTION = vf.createIRI(NAMESPACE, "solution");
-		BINDING = vf.createIRI(NAMESPACE, "binding");
-		VALUE = vf.createIRI(NAMESPACE, "value");
-		VARIABLE = vf.createIRI(NAMESPACE, "variable");
-		BOOLEAN = vf.createIRI(NAMESPACE, "boolean");
-		TRUE = vf.createLiteral(true);
-		FALSE = vf.createLiteral(false);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetUtil.java b/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetUtil.java
deleted file mode 100644
index 9ccc851558..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetUtil.java
+++ /dev/null
@@ -1,85 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.dawg;
-
-import org.eclipse.rdf4j.model.Graph;
-import org.eclipse.rdf4j.model.Statement;
-import org.eclipse.rdf4j.model.impl.GraphImpl;
-import org.eclipse.rdf4j.query.QueryEvaluationException;
-import org.eclipse.rdf4j.query.TupleQueryResult;
-import org.eclipse.rdf4j.query.TupleQueryResultHandlerException;
-import org.eclipse.rdf4j.query.impl.TupleQueryResultBuilder;
-import org.eclipse.rdf4j.rio.RDFHandlerException;
-import org.eclipse.rdf4j.rio.helpers.StatementCollector;
-
-/**
- * @author Arjohn Kampman
- */
-public class DAWGTestResultSetUtil {
-
-	public static TupleQueryResult toTupleQueryResult(Iterable<? extends Statement> dawgGraph)
-		throws DAWGTestResultSetParseException
-	{
-		TupleQueryResultBuilder tqrBuilder = new TupleQueryResultBuilder();
-		DAWGTestResultSetParser parser = new DAWGTestResultSetParser(tqrBuilder);
-
-		try {
-			parser.startRDF();
-			for (Statement st : dawgGraph) {
-				parser.handleStatement(st);
-			}
-			parser.endRDF();
-
-			return tqrBuilder.getQueryResult();
-		}
-		catch (RDFHandlerException e) {
-			throw new DAWGTestResultSetParseException(e.getMessage(), e);
-		}
-	}
-
-	public static Graph toGraph(TupleQueryResult tqr)
-		throws QueryEvaluationException
-	{
-		Graph graph = new GraphImpl();
-		DAWGTestResultSetWriter writer = new DAWGTestResultSetWriter(new StatementCollector(graph));
-
-		try {
-			writer.startQueryResult(tqr.getBindingNames());
-			while (tqr.hasNext()) {
-				writer.handleSolution(tqr.next());
-			}
-			writer.endQueryResult();
-		}
-		catch (TupleQueryResultHandlerException e) {
-			// No exceptions expected from DAWGTestResultSetWriter or
-			// StatementCollector, foud a bug?
-			throw new RuntimeException(e);
-		}
-
-		return graph;
-	}
-
-	public static boolean toBooleanQueryResult(Iterable<? extends Statement> dawgGraph)
-		throws DAWGTestResultSetParseException
-	{
-		DAWGTestBooleanParser parser = new DAWGTestBooleanParser();
-
-		try {
-			parser.startRDF();
-			for (Statement st : dawgGraph) {
-				parser.handleStatement(st);
-			}
-			parser.endRDF();
-
-			return parser.getValue();
-		}
-		catch (RDFHandlerException e) {
-			throw new DAWGTestResultSetParseException(e.getMessage(), e);
-		}
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetWriter.java b/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetWriter.java
deleted file mode 100644
index 4d51f213e3..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/DAWGTestResultSetWriter.java
+++ /dev/null
@@ -1,172 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.dawg;
-
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.BINDING;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.RESULTSET;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.RESULTVARIABLE;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.SOLUTION;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.VALUE;
-import static org.eclipse.rdf4j.query.dawg.DAWGTestResultSetSchema.VARIABLE;
-
-import java.util.HashMap;
-import java.util.List;
-import java.util.Map;
-
-import org.eclipse.rdf4j.model.BNode;
-import org.eclipse.rdf4j.model.IRI;
-import org.eclipse.rdf4j.model.Literal;
-import org.eclipse.rdf4j.model.Resource;
-import org.eclipse.rdf4j.model.Value;
-import org.eclipse.rdf4j.model.ValueFactory;
-import org.eclipse.rdf4j.model.impl.SimpleValueFactory;
-import org.eclipse.rdf4j.model.vocabulary.RDF;
-import org.eclipse.rdf4j.query.Binding;
-import org.eclipse.rdf4j.query.BindingSet;
-import org.eclipse.rdf4j.query.QueryResultHandlerException;
-import org.eclipse.rdf4j.query.TupleQueryResultHandler;
-import org.eclipse.rdf4j.query.TupleQueryResultHandlerException;
-import org.eclipse.rdf4j.rio.RDFHandler;
-import org.eclipse.rdf4j.rio.RDFHandlerException;
-
-/**
- * A {@link TupleQueryResultHandler} that converts query results to an RDF graph using the Data Access Working
- * Group Test Result Set RDF Vocabulary (http://www.w3.org/2001/sw/DataAccess/tests/result-set#).
- */
-public class DAWGTestResultSetWriter implements TupleQueryResultHandler {
-
-	/*-----------*
-	 * Constants *
-	 *-----------*/
-
-	/**
-	 * RDFHandler to report the generated statements to.
-	 */
-	private final RDFHandler rdfHandler;
-
-	private final ValueFactory vf;
-
-	/*-----------*
-	 * Variables *
-	 *-----------*/
-
-	private BNode resultSetNode;
-
-	private Map<BNode, BNode> bnodeMap = new HashMap<BNode, BNode>();
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	public DAWGTestResultSetWriter(RDFHandler rdfHandler) {
-		this(rdfHandler, SimpleValueFactory.getInstance());
-	}
-
-	public DAWGTestResultSetWriter(RDFHandler rdfHandler, ValueFactory vf) {
-		this.rdfHandler = rdfHandler;
-		this.vf = vf;
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	@Override
-	public void startQueryResult(List<String> bindingNames)
-		throws TupleQueryResultHandlerException
-	{
-		try {
-			rdfHandler.startRDF();
-
-			resultSetNode = vf.createBNode();
-			bnodeMap.clear();
-
-			reportStatement(resultSetNode, RDF.TYPE, RESULTSET);
-
-			for (String bindingName : bindingNames) {
-				Literal bindingNameLit = vf.createLiteral(bindingName);
-				reportStatement(resultSetNode, RESULTVARIABLE, bindingNameLit);
-			}
-		}
-		catch (RDFHandlerException e) {
-			throw new TupleQueryResultHandlerException(e);
-		}
-	}
-
-	@Override
-	public void endQueryResult()
-		throws TupleQueryResultHandlerException
-	{
-		resultSetNode = null;
-
-		try {
-			rdfHandler.endRDF();
-		}
-		catch (RDFHandlerException e) {
-			throw new TupleQueryResultHandlerException(e);
-		}
-	}
-
-	@Override
-	public void handleSolution(BindingSet bindingSet)
-		throws TupleQueryResultHandlerException
-	{
-		try {
-			BNode solutionNode = vf.createBNode();
-
-			reportStatement(resultSetNode, SOLUTION, solutionNode);
-
-			for (Binding binding : bindingSet) {
-				BNode bindingNode = vf.createBNode();
-
-				reportStatement(solutionNode, BINDING, bindingNode);
-				reportStatement(bindingNode, VARIABLE, vf.createLiteral(binding.getName()));
-
-				Value value = binding.getValue();
-
-				// Map bnodes to new bnodes to prevent collisions with the bnodes
-				// generated for the result format
-				if (value instanceof BNode) {
-					BNode mappedBNode = bnodeMap.get(value);
-
-					if (mappedBNode == null) {
-						mappedBNode = vf.createBNode();
-						bnodeMap.put((BNode)value, mappedBNode);
-					}
-
-					value = mappedBNode;
-				}
-
-				reportStatement(bindingNode, VALUE, value);
-			}
-		}
-		catch (RDFHandlerException e) {
-			throw new TupleQueryResultHandlerException(e);
-		}
-	}
-
-	private void reportStatement(Resource subject, IRI predicate, Value object)
-		throws RDFHandlerException
-	{
-		rdfHandler.handleStatement(vf.createStatement(subject, predicate, object));
-	}
-
-	@Override
-	public void handleBoolean(boolean value)
-		throws QueryResultHandlerException
-	{
-		throw new UnsupportedOperationException("Cannot handle boolean results");
-	}
-
-	@Override
-	public void handleLinks(List<String> linkUrls)
-		throws QueryResultHandlerException
-	{
-		// We do not support links, so do nothing
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/package.html b/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/package.html
deleted file mode 100644
index 57d545ef48..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/dawg/package.html
+++ /dev/null
@@ -1,6 +0,0 @@
-<html>
-<body>
-Functionality to convert tuple query results to and from the
-<a href="http://www.w3.org/2001/sw/DataAccess/tests/result-set#">Data Access Working Group Test Result Set RDF Vocabulary</a>
-</body>
-</html>
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractOperation.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractOperation.java
deleted file mode 100644
index 454aa90024..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractOperation.java
+++ /dev/null
@@ -1,89 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import org.eclipse.rdf4j.model.Value;
-import org.eclipse.rdf4j.query.BindingSet;
-import org.eclipse.rdf4j.query.Dataset;
-import org.eclipse.rdf4j.query.Operation;
-
-/**
- * Abstract super class of all operation types.
- * 
- * @author Jeen Broekstra
- */
-public abstract class AbstractOperation implements Operation {
-
-	/*------------*
-	 * Attributes *
-	 *------------*/
-
-	protected final MapBindingSet bindings = new MapBindingSet();
-
-	protected Dataset dataset = null;
-
-	protected boolean includeInferred = true;
-
-	private int maxExecutionTime = 0;
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	/**
-	 * Creates a new operation object.
-	 */
-	protected AbstractOperation() {
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	public void setBinding(String name, Value value) {
-		bindings.addBinding(name, value);
-	}
-
-	public void removeBinding(String name) {
-		bindings.removeBinding(name);
-	}
-
-	public void clearBindings() {
-		bindings.clear();
-	}
-
-	public BindingSet getBindings() {
-		return bindings;
-	}
-
-	public void setDataset(Dataset dataset) {
-		this.dataset = dataset;
-	}
-
-	public Dataset getDataset() {
-		return dataset;
-	}
-
-	public void setIncludeInferred(boolean includeInferred) {
-		this.includeInferred = includeInferred;
-	}
-
-	public boolean getIncludeInferred() {
-		return includeInferred;
-	}
-
-	@Override
-	public void setMaxExecutionTime(int maxExecutionTime) {
-		this.maxExecutionTime = maxExecutionTime;
-	}
-
-	@Override
-	public int getMaxExecutionTime() {
-		return maxExecutionTime;
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractQuery.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractQuery.java
deleted file mode 100644
index cefafea855..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractQuery.java
+++ /dev/null
@@ -1,42 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import org.eclipse.rdf4j.query.Query;
-
-/**
- * Abstract super class of all query types.
- */
-public abstract class AbstractQuery extends AbstractOperation implements Query {
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	/**
-	 * Creates a new query object.
-	 */
-	protected AbstractQuery() {
-		super();
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	@Deprecated
-	public void setMaxQueryTime(int maxQueryTime) {
-		setMaxExecutionTime(maxQueryTime);
-
-	}
-
-	@Deprecated
-	public int getMaxQueryTime() {
-		return getMaxExecutionTime();
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractUpdate.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractUpdate.java
deleted file mode 100644
index b87702d8c7..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/AbstractUpdate.java
+++ /dev/null
@@ -1,32 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import org.eclipse.rdf4j.query.Update;
-
-/**
- * Abstract super class of all update types.
- */
-public abstract class AbstractUpdate extends AbstractOperation implements Update {
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	/**
-	 * Creates a new query object.
-	 */
-	protected AbstractUpdate() {
-		super();
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/BackgroundGraphResult.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/BackgroundGraphResult.java
deleted file mode 100644
index 28a1192f92..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/BackgroundGraphResult.java
+++ /dev/null
@@ -1,170 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.io.InputStream;
-import java.io.InputStreamReader;
-import java.nio.charset.Charset;
-import java.util.Collections;
-import java.util.Map;
-import java.util.concurrent.ConcurrentHashMap;
-import java.util.concurrent.CountDownLatch;
-
-import org.eclipse.rdf4j.common.iteration.IterationWrapper;
-import org.eclipse.rdf4j.model.Statement;
-import org.eclipse.rdf4j.query.GraphQueryResult;
-import org.eclipse.rdf4j.query.QueryEvaluationException;
-import org.eclipse.rdf4j.rio.RDFHandler;
-import org.eclipse.rdf4j.rio.RDFHandlerException;
-import org.eclipse.rdf4j.rio.RDFParser;
-
-/**
- * Provides concurrent access to statements as they are being parsed when instances of this class are run as
- * Threads.
- * 
- * @author James Leigh
- */
-public class BackgroundGraphResult extends IterationWrapper<Statement, QueryEvaluationException>
-		implements GraphQueryResult, Runnable, RDFHandler
-{
-
-	private final RDFParser parser;
-
-	private final Charset charset;
-
-	private final InputStream in;
-
-	private final String baseURI;
-
-	private final CountDownLatch namespacesReady = new CountDownLatch(1);
-
-	private final CountDownLatch finishedParsing = new CountDownLatch(1);
-
-	private final Map<String, String> namespaces = new ConcurrentHashMap<String, String>();
-
-	private final QueueCursor<Statement> queue;
-
-	public BackgroundGraphResult(RDFParser parser, InputStream in, Charset charset, String baseURI) {
-		this(new QueueCursor<Statement>(10), parser, in, charset, baseURI);
-	}
-
-	public BackgroundGraphResult(QueueCursor<Statement> queue, RDFParser parser, InputStream in,
-			Charset charset, String baseURI)
-	{
-		super(queue);
-		this.queue = queue;
-		this.parser = parser;
-		this.in = in;
-		this.charset = charset;
-		this.baseURI = baseURI;
-	}
-
-	@Override
-	protected void handleClose()
-		throws QueryEvaluationException
-	{
-		try {
-			super.handleClose();
-		}
-		finally {
-			queue.done();
-		}
-		try {
-			finishedParsing.await();
-		}
-		catch (InterruptedException e) {
-			Thread.currentThread().interrupt();
-		} finally {
-			queue.checkException();
-		}
-	}
-
-	@Override
-	public void run() {
-		try {
-			try {
-				parser.setRDFHandler(this);
-				if (charset == null) {
-					parser.parse(in, baseURI);
-				}
-				else {
-					parser.parse(new InputStreamReader(in, charset), baseURI);
-				}
-			} finally {
-				in.close();
-			}
-		}
-		catch (Exception e) {
-			queue.toss(e);
-		}
-		finally {
-			queue.done();
-			namespacesReady.countDown();
-			finishedParsing.countDown();
-		}
-	}
-
-	@Override
-	public void startRDF()
-		throws RDFHandlerException
-	{
-		// no-op
-	}
-
-	@Override
-	public Map<String, String> getNamespaces() {
-		try {
-			namespacesReady.await();
-			// Show the user an unmodifiable view on the map but we can still change it here
-			return Collections.unmodifiableMap(namespaces);
-		}
-		catch (InterruptedException e) {
-			Thread.currentThread().interrupt();
-			return Collections.emptyMap();
-		} finally {
-			queue.checkException();
-		}
-	}
-
-	@Override
-	public void handleComment(String comment)
-		throws RDFHandlerException
-	{
-		// ignore
-	}
-
-	@Override
-	public void handleNamespace(String prefix, String uri)
-		throws RDFHandlerException
-	{
-		namespaces.put(prefix, uri);
-	}
-
-	@Override
-	public void handleStatement(Statement st)
-		throws RDFHandlerException
-	{
-		namespacesReady.countDown();
-		try {
-			queue.put(st);
-		}
-		catch (InterruptedException e) {
-			Thread.currentThread().interrupt();
-			queue.toss(e);
-			queue.done();
-		}
-	}
-
-	@Override
-	public void endRDF()
-		throws RDFHandlerException
-	{
-		namespacesReady.countDown();
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/BindingImpl.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/BindingImpl.java
deleted file mode 100644
index cf72c0d154..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/BindingImpl.java
+++ /dev/null
@@ -1,25 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import org.eclipse.rdf4j.model.Value;
-
-/**
- * @deprecated since 4.0. Use {@link SimpleBinding} instead.
- * @author Jeen Broekstra
- */
-@Deprecated
-public class BindingImpl extends SimpleBinding {
-
-	private static final long serialVersionUID = 1L;
-
-	public BindingImpl(String name, Value value) {
-		super(name, value);
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/DatasetImpl.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/DatasetImpl.java
deleted file mode 100644
index 5630ddc7cc..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/DatasetImpl.java
+++ /dev/null
@@ -1,19 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-/**
- * @deprecated since 4.0. Use {@link SimpleDataset} instead.
- * @author Jeen Broekstra
- */
-@Deprecated
-public class DatasetImpl extends SimpleDataset {
-
-	private static final long serialVersionUID = 1L;
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/EmptyBindingSet.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/EmptyBindingSet.java
deleted file mode 100644
index db5b3af82b..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/EmptyBindingSet.java
+++ /dev/null
@@ -1,97 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.Collections;
-import java.util.Iterator;
-import java.util.NoSuchElementException;
-import java.util.Set;
-
-import org.eclipse.rdf4j.model.Value;
-import org.eclipse.rdf4j.query.Binding;
-import org.eclipse.rdf4j.query.BindingSet;
-
-/**
- * An immutable empty BindingSet.
- * 
- * @author Arjohn Kampman
- */
-public class EmptyBindingSet implements BindingSet {
-
-	private static final long serialVersionUID = -6010968140688315954L;
-
-	private static final EmptyBindingSet singleton = new EmptyBindingSet();
-
-	public static BindingSet getInstance() {
-		return singleton;
-	}
-
-	private EmptyBindingIterator iter = new EmptyBindingIterator();
-
-	public Iterator<Binding> iterator() {
-		return iter;
-	}
-
-	public Set<String> getBindingNames() {
-		return Collections.emptySet();
-	}
-
-	public Binding getBinding(String bindingName) {
-		return null;
-	}
-
-	public boolean hasBinding(String bindingName) {
-		return false;
-	}
-
-	public Value getValue(String bindingName) {
-		return null;
-	}
-
-	public int size() {
-		return 0;
-	}
-
-	@Override
-	public boolean equals(Object o) {
-		if (o instanceof BindingSet) {
-			return ((BindingSet)o).size() == 0;
-		}
-
-		return false;
-	}
-
-	@Override
-	public int hashCode() {
-		return 0;
-	}
-
-	@Override
-	public String toString() {
-		return "[]";
-	}
-
-	/*----------------------------------*
-	 * Inner class EmptyBindingIterator *
-	 *----------------------------------*/
-
-	private static class EmptyBindingIterator implements Iterator<Binding> {
-
-		public boolean hasNext() {
-			return false;
-		}
-
-		public Binding next() {
-			throw new NoSuchElementException();
-		}
-
-		public void remove() {
-			throw new IllegalStateException();
-		}
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/FallbackDataset.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/FallbackDataset.java
deleted file mode 100644
index 87127c6576..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/FallbackDataset.java
+++ /dev/null
@@ -1,104 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.io.Serializable;
-import java.util.Set;
-
-import org.eclipse.rdf4j.model.IRI;
-import org.eclipse.rdf4j.query.Dataset;
-
-/**
- * @author james
- */
-public class FallbackDataset implements Dataset, Serializable {
-
-	/**
-	 * 
-	 */
-	private static final long serialVersionUID = 5866540736738270376L;
-
-	public static Dataset fallback(Dataset primary, Dataset fallback) {
-		if (primary == null)
-			return fallback;
-		if (fallback == null)
-			return primary;
-		return new FallbackDataset(primary, fallback);
-	}
-
-	private Dataset primary;
-
-	private Dataset fallback;
-
-	private FallbackDataset(Dataset primary, Dataset secondary) {
-		assert primary != null;
-		assert secondary != null;
-		this.primary = primary;
-		this.fallback = secondary;
-	}
-
-	public Set<IRI> getDefaultGraphs() {
-		Set<IRI> set = primary.getDefaultGraphs();
-		if (set == null || set.isEmpty())
-			return fallback.getDefaultGraphs();
-		return set;
-	}
-
-	public Set<IRI> getNamedGraphs() {
-		Set<IRI> set = primary.getNamedGraphs();
-		if (set == null || set.isEmpty())
-			return fallback.getNamedGraphs();
-		return set;
-	}
-
-	public IRI getDefaultInsertGraph() {
-		IRI graph = primary.getDefaultInsertGraph();
-		if (graph == null)
-			return fallback.getDefaultInsertGraph();
-		return graph;
-	}
-
-	public Set<IRI> getDefaultRemoveGraphs() {
-		Set<IRI> set = primary.getDefaultRemoveGraphs();
-		if (set == null || set.isEmpty())
-			return fallback.getDefaultRemoveGraphs();
-		return set;
-	}
-
-	@Override
-	public String toString() {
-		StringBuilder sb = new StringBuilder();
-		for (IRI uri : getDefaultRemoveGraphs()) {
-			sb.append("DELETE FROM ");
-			appendURI(sb, uri);
-		}
-		sb.append("INSERT INTO ");
-		appendURI(sb, getDefaultInsertGraph());
-		for (IRI uri : getDefaultGraphs()) {
-			sb.append("USING ");
-			appendURI(sb, uri);
-		}
-		for (IRI uri : getNamedGraphs()) {
-			sb.append("USING NAMED ");
-			appendURI(sb, uri);
-		}
-		return sb.toString();
-	}
-
-	private void appendURI(StringBuilder sb, IRI uri) {
-		String str = uri.toString();
-		if (str.length() > 50) {
-			sb.append("<").append(str, 0, 19).append("..");
-			sb.append(str, str.length() - 29, str.length()).append(">\n");
-		}
-		else {
-			sb.append("<").append(uri).append(">\n");
-		}
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/GraphQueryResultImpl.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/GraphQueryResultImpl.java
deleted file mode 100644
index 7b6e935b9c..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/GraphQueryResultImpl.java
+++ /dev/null
@@ -1,29 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.Map;
-
-import org.eclipse.rdf4j.common.iteration.CloseableIteration;
-import org.eclipse.rdf4j.model.Statement;
-import org.eclipse.rdf4j.query.QueryEvaluationException;
-
-/**
- * @deprecated since 4.0. Use {@link IteratingGraphQueryResult} instead.
- * @author Jeen Broekstra
- */
-@Deprecated
-public class GraphQueryResultImpl extends IteratingGraphQueryResult {
-
-	public GraphQueryResultImpl(Map<String, String> namespaces,
-			CloseableIteration<? extends Statement, ? extends QueryEvaluationException> statementIter)
-	{
-		super(namespaces, statementIter);
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/IteratingGraphQueryResult.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/IteratingGraphQueryResult.java
deleted file mode 100644
index 2868b857a4..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/IteratingGraphQueryResult.java
+++ /dev/null
@@ -1,68 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.Collections;
-import java.util.Iterator;
-import java.util.Map;
-
-import org.eclipse.rdf4j.common.iteration.CloseableIteration;
-import org.eclipse.rdf4j.common.iteration.CloseableIteratorIteration;
-import org.eclipse.rdf4j.common.iteration.IterationWrapper;
-import org.eclipse.rdf4j.model.Statement;
-import org.eclipse.rdf4j.query.GraphQueryResult;
-import org.eclipse.rdf4j.query.QueryEvaluationException;
-
-/**
- * An iterating implementation of the {@link GraphQueryResult} interface.
- * 
- * @author Arjohn Kampman
- * @author Jeen Broekstra
- */
-public class IteratingGraphQueryResult extends IterationWrapper<Statement, QueryEvaluationException>
-		implements GraphQueryResult
-{
-
-	/*-----------*
-	 * Variables *
-	 *-----------*/
-
-	private final Map<String, String> namespaces;
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	public IteratingGraphQueryResult(Map<String, String> namespaces,
-			Iterable<? extends Statement> statements)
-	{
-		this(namespaces, statements.iterator());
-	}
-
-	public IteratingGraphQueryResult(Map<String, String> namespaces,
-			Iterator<? extends Statement> statementIter)
-	{
-		this(namespaces, new CloseableIteratorIteration<Statement, QueryEvaluationException>(statementIter));
-	}
-
-	public IteratingGraphQueryResult(Map<String, String> namespaces,
-			CloseableIteration<? extends Statement, ? extends QueryEvaluationException> statementIter)
-	{
-		super(statementIter);
-		this.namespaces = Collections.unmodifiableMap(namespaces);
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	@Override
-	public Map<String, String> getNamespaces() {
-		return namespaces;
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/IteratingTupleQueryResult.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/IteratingTupleQueryResult.java
deleted file mode 100644
index 9c1a8b8786..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/IteratingTupleQueryResult.java
+++ /dev/null
@@ -1,85 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.Collections;
-import java.util.Iterator;
-import java.util.List;
-
-import org.eclipse.rdf4j.common.iteration.CloseableIteration;
-import org.eclipse.rdf4j.common.iteration.CloseableIteratorIteration;
-import org.eclipse.rdf4j.common.iteration.IterationWrapper;
-import org.eclipse.rdf4j.query.BindingSet;
-import org.eclipse.rdf4j.query.QueryEvaluationException;
-import org.eclipse.rdf4j.query.TupleQueryResult;
-
-/**
- * An iterating implementation of the {@link TupleQueryResult} interface.
- */
-public class IteratingTupleQueryResult extends IterationWrapper<BindingSet, QueryEvaluationException>
-		implements TupleQueryResult
-{
-
-	/*-----------*
-	 * Variables *
-	 *-----------*/
-
-	private final List<String> bindingNames;
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	/**
-	 * Creates a query result object with the supplied binding names.
-	 * <em>The supplied list of binding names is assumed to be constant</em>; care should be taken that the
-	 * contents of this list doesn't change after supplying it to this solution.
-	 * 
-	 * @param bindingNames
-	 *        The binding names, in order of projection.
-	 */
-	public IteratingTupleQueryResult(List<String> bindingNames, Iterable<? extends BindingSet> bindingSets) {
-		this(bindingNames, bindingSets.iterator());
-	}
-
-	public IteratingTupleQueryResult(List<String> bindingNames,
-			Iterator<? extends BindingSet> bindingSetIter)
-	{
-		this(bindingNames,
-				new CloseableIteratorIteration<BindingSet, QueryEvaluationException>(bindingSetIter));
-	}
-
-	/**
-	 * Creates a query result object with the supplied binding names.
-	 * <em>The supplied list of binding names is assumed to be constant</em>; care should be taken that the
-	 * contents of this list doesn't change after supplying it to this solution.
-	 * 
-	 * @param bindingNames
-	 *        The binding names, in order of projection.
-	 */
-	public IteratingTupleQueryResult(List<String> bindingNames,
-			CloseableIteration<? extends BindingSet, QueryEvaluationException> bindingSetIter)
-	{
-		super(bindingSetIter);
-		// Don't allow modifications to the binding names when it is accessed
-		// through getBindingNames:
-		this.bindingNames = Collections.unmodifiableList(bindingNames);
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	@Override
-	public List<String> getBindingNames()
-		throws QueryEvaluationException
-	{
-		return bindingNames;
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/ListBindingSet.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/ListBindingSet.java
deleted file mode 100644
index d916ce8d87..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/ListBindingSet.java
+++ /dev/null
@@ -1,145 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.Arrays;
-import java.util.Iterator;
-import java.util.LinkedHashSet;
-import java.util.List;
-import java.util.Set;
-
-import org.eclipse.rdf4j.model.Value;
-import org.eclipse.rdf4j.query.AbstractBindingSet;
-import org.eclipse.rdf4j.query.Binding;
-import org.eclipse.rdf4j.query.BindingSet;
-
-/**
- * A List-based implementation of the {@link BindingSet} interface.
- * 
- * @author Arjohn Kampman
- */
-public class ListBindingSet extends AbstractBindingSet {
-
-	private static final long serialVersionUID = -2907809218835403743L;
-
-	private final List<String> bindingNames;
-
-	private final List<? extends Value> values;
-
-	/**
-	 * Creates a new List-based BindingSet containing the supplied bindings.
-	 * <em>The supplied list of binding names is assumed to be constant</em>; care should be taken that the
-	 * contents of this list doesn't change after supplying it to this solution. The number of supplied values
-	 * must be equal to the number of the binding names.
-	 * 
-	 * @param names
-	 *        The binding names.
-	 * @param values
-	 *        The binding values.
-	 */
-	public ListBindingSet(List<String> names, Value... values) {
-		this(names, Arrays.asList(values));
-	}
-
-	/**
-	 * Creates a new List-based BindingSet containing the supplied bindings.
-	 * <em>The supplied lists are assumed to be constant</em>; care should be taken that the contents of these
-	 * lists don't change after supplying them to this solution. The number of supplied values must be equal
-	 * to the number of the binding names.
-	 * 
-	 * @param bindingNames
-	 *        The binding names.
-	 * @param values
-	 *        The binding values.
-	 */
-	public ListBindingSet(List<String> bindingNames, List<? extends Value> values) {
-		assert bindingNames.size() == values.size() : "number of binding names and values not equal";
-
-		this.bindingNames = bindingNames;
-		this.values = values;
-	}
-
-	public Set<String> getBindingNames() {
-		return new LinkedHashSet<String>(bindingNames);
-	}
-
-	public Value getValue(String bindingName) {
-		int idx = bindingNames.indexOf(bindingName);
-
-		if (idx != -1) {
-			return values.get(idx);
-		}
-
-		return null;
-	}
-
-	public Binding getBinding(String bindingName) {
-		Value value = getValue(bindingName);
-
-		if (value != null) {
-			return new SimpleBinding(bindingName, value);
-		}
-
-		return null;
-	}
-
-	public boolean hasBinding(String bindingName) {
-		return getValue(bindingName) != null;
-	}
-
-	public Iterator<Binding> iterator() {
-		return new ListBindingSetIterator();
-	}
-
-	public int size() {
-		int size = 0;
-
-		for (Value value : values) {
-			if (value != null) {
-				size++;
-			}
-		}
-
-		return size;
-	}
-
-	/*------------------------------------*
-	 * Inner class ListBindingSetIterator *
-	 *------------------------------------*/
-
-	private class ListBindingSetIterator implements Iterator<Binding> {
-
-		private int index = -1;
-
-		public ListBindingSetIterator() {
-			findNextElement();
-		}
-
-		private void findNextElement() {
-			for (index++; index < values.size(); index++) {
-				if (values.get(index) != null) {
-					break;
-				}
-			}
-		}
-
-		public boolean hasNext() {
-			return index < values.size();
-		}
-
-		public Binding next() {
-			Binding result = new SimpleBinding(bindingNames.get(index), values.get(index));
-			findNextElement();
-			return result;
-		}
-
-		public void remove() {
-			throw new UnsupportedOperationException();
-		}
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/MapBindingSet.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/MapBindingSet.java
deleted file mode 100644
index a20a7a9070..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/MapBindingSet.java
+++ /dev/null
@@ -1,114 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.Iterator;
-import java.util.LinkedHashMap;
-import java.util.Map;
-import java.util.Set;
-
-import org.eclipse.rdf4j.model.Value;
-import org.eclipse.rdf4j.query.AbstractBindingSet;
-import org.eclipse.rdf4j.query.Binding;
-import org.eclipse.rdf4j.query.BindingSet;
-
-/**
- * A Map-based implementation of the {@link BindingSet} interface.
- */
-public class MapBindingSet extends AbstractBindingSet {
-
-	private static final long serialVersionUID = -8857324525220429607L;
-
-	private final Map<String, Binding> bindings;
-
-	public MapBindingSet() {
-		this(8);
-	}
-
-	/**
-	 * Creates a new Map-based BindingSet with the specified initial capacity. Bindings can be added to this
-	 * binding set using the {@link #addBinding} methods.
-	 * 
-	 * @param capacity
-	 *        The initial capacity of the created BindingSet object.
-	 */
-	public MapBindingSet(int capacity) {
-		// Create bindings map, compensating for HashMap's load factor
-		bindings = new LinkedHashMap<String, Binding>(capacity * 2);
-	}
-
-	/**
-	 * Adds a binding to the binding set.
-	 * 
-	 * @param name
-	 *        The binding's name.
-	 * @param value
-	 *        The binding's value.
-	 */
-	public void addBinding(String name, Value value) {
-		addBinding(new SimpleBinding(name, value));
-	}
-
-	/**
-	 * Adds a binding to the binding set.
-	 * 
-	 * @param binding
-	 *        The binding to add to the binding set.
-	 */
-	public void addBinding(Binding binding) {
-		bindings.put(binding.getName(), binding);
-	}
-
-	/**
-	 * Removes a binding from the binding set.
-	 * 
-	 * @param name
-	 *        The binding's name.
-	 */
-	public void removeBinding(String name) {
-		bindings.remove(name);
-	}
-
-	/**
-	 * Removes all bindings from the binding set.
-	 */
-	public void clear() {
-		bindings.clear();
-	}
-
-	public Iterator<Binding> iterator() {
-		return bindings.values().iterator();
-	}
-
-	public Set<String> getBindingNames() {
-		return bindings.keySet();
-	}
-
-	public Binding getBinding(String bindingName) {
-		return bindings.get(bindingName);
-	}
-
-	public boolean hasBinding(String bindingName) {
-		return bindings.containsKey(bindingName);
-	}
-
-	public Value getValue(String bindingName) {
-		Binding binding = getBinding(bindingName);
-
-		if (binding != null) {
-			return binding.getValue();
-		}
-
-		return null;
-	}
-
-	public int size() {
-		return bindings.size();
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/MutableTupleQueryResult.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/MutableTupleQueryResult.java
deleted file mode 100644
index d95a6f72f6..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/MutableTupleQueryResult.java
+++ /dev/null
@@ -1,257 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.ArrayList;
-import java.util.Arrays;
-import java.util.Collection;
-import java.util.LinkedHashSet;
-import java.util.List;
-import java.util.NoSuchElementException;
-import java.util.Set;
-
-import org.eclipse.rdf4j.common.iteration.Iteration;
-import org.eclipse.rdf4j.common.iteration.Iterations;
-import org.eclipse.rdf4j.query.BindingSet;
-import org.eclipse.rdf4j.query.QueryEvaluationException;
-import org.eclipse.rdf4j.query.TupleQueryResult;
-
-/**
- * An implementation of the {@link TupleQueryResult} interface that stores the complete query result in
- * memory. The query results in a MutableTupleQueryResult can be iterated over multiple times and can also be
- * iterated over in reverse order.
- * 
- * @author Arjohn Kampman
- */
-public class MutableTupleQueryResult implements TupleQueryResult, Cloneable {
-
-	/*-----------*
-	 * Variables *
-	 *-----------*/
-
-	private final Set<String> bindingNames = new LinkedHashSet<String>();
-
-	private final List<BindingSet> bindingSets = new ArrayList<BindingSet>();
-
-	/**
-	 * The index of the next element that will be returned by a call to {@link #next()}.
-	 */
-	private volatile int currentIndex = 0;
-
-	/**
-	 * The index of the last element that was returned by a call to {@link #next()} or {@link #previous()}.
-	 * Equal to -1 if there is no such element.
-	 */
-	private volatile int lastReturned = -1;
-
-	/*--------------*
-	 * Constructors *
-	 *--------------*/
-
-	public <E extends Exception> MutableTupleQueryResult(Collection<String> bindingNames,
-			BindingSet... bindingSets)
-	{
-		this(bindingNames, Arrays.asList(bindingSets));
-	}
-
-	/**
-	 * Creates a query result table with the supplied binding names.
-	 * <em>The supplied list of binding names is assumed to be constant</em>; care should be taken that the
-	 * contents of this list doesn't change after supplying it to this solution.
-	 * 
-	 * @param bindingNames
-	 *        The binding names, in order of projection.
-	 */
-	public MutableTupleQueryResult(Collection<String> bindingNames,
-			Collection<? extends BindingSet> bindingSets)
-	{
-		this.bindingNames.addAll(bindingNames);
-		this.bindingSets.addAll(bindingSets);
-	}
-
-	public <E extends Exception> MutableTupleQueryResult(Collection<String> bindingNames,
-			Iteration<? extends BindingSet, E> bindingSetIter)
-		throws E
-	{
-		this.bindingNames.addAll(bindingNames);
-		Iterations.addAll(bindingSetIter, this.bindingSets);
-	}
-
-	public MutableTupleQueryResult(TupleQueryResult tqr)
-		throws QueryEvaluationException
-	{
-		this(tqr.getBindingNames(), tqr);
-	}
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	@Override
-	public List<String> getBindingNames() {
-		return new ArrayList<String>(bindingNames);
-	}
-
-	public int size() {
-		return bindingSets.size();
-	}
-
-	public BindingSet get(int index) {
-		return bindingSets.get(index);
-	}
-
-	public int getIndex() {
-		return currentIndex;
-	}
-
-	public void setIndex(int index) {
-		if (index < 0 || index > bindingSets.size() + 1) {
-			throw new IllegalArgumentException("Index out of range: " + index);
-		}
-
-		this.currentIndex = index;
-	}
-
-	@Override
-	public boolean hasNext() {
-		return currentIndex < bindingSets.size();
-	}
-
-	@Override
-	public BindingSet next() {
-		if (hasNext()) {
-			BindingSet result = get(currentIndex);
-			lastReturned = currentIndex;
-			currentIndex++;
-			return result;
-		}
-
-		throw new NoSuchElementException();
-	}
-
-	public boolean hasPrevious() {
-		return currentIndex > 0;
-	}
-
-	public BindingSet previous() {
-		if (hasPrevious()) {
-			BindingSet result = bindingSets.get(currentIndex - 1);
-			currentIndex--;
-			lastReturned = currentIndex;
-			return result;
-		}
-
-		throw new NoSuchElementException();
-	}
-
-	/**
-	 * Moves the cursor to the start of the query result, just before the first binding set. After calling
-	 * this method, the result can be iterated over from scratch.
-	 */
-	public void beforeFirst() {
-		currentIndex = 0;
-	}
-
-	/**
-	 * Moves the cursor to the end of the query result, just after the last binding set.
-	 */
-	public void afterLast() {
-		currentIndex = bindingSets.size() + 1;
-	}
-
-	/**
-	 * Inserts the specified binding set into the list. The binding set is inserted immediately before the
-	 * next element that would be returned by {@link #next()}, if any, and after the next element that would
-	 * be returned by {@link #previous}, if any. (If the table contains no binding sets, the new element
-	 * becomes the sole element on the table.) The new element is inserted before the implicit cursor: a
-	 * subsequent call to <tt>next()</tt> would be unaffected, and a subsequent call to <tt>previous()</tt>
-	 * would return the new binding set.
-	 * 
-	 * @param bindingSet
-	 *        The binding set to insert.
-	 */
-	public void insert(BindingSet bindingSet) {
-		insert(currentIndex, bindingSet);
-	}
-
-	public void insert(int index, BindingSet bindingSet) {
-		bindingSets.add(index, bindingSet);
-
-		if (currentIndex > index) {
-			currentIndex++;
-		}
-
-		lastReturned = -1;
-	}
-
-	public void append(BindingSet bindingSet) {
-		bindingSets.add(bindingSet);
-		lastReturned = -1;
-	}
-
-	public void set(BindingSet bindingSet) {
-		if (lastReturned == -1) {
-			throw new IllegalStateException();
-		}
-
-		set(lastReturned, bindingSet);
-	}
-
-	public BindingSet set(int index, BindingSet bindingSet) {
-		return bindingSets.set(index, bindingSet);
-	}
-
-	public void remove() {
-		if (lastReturned == -1) {
-			throw new IllegalStateException();
-		}
-
-		remove(lastReturned);
-
-		if (currentIndex > lastReturned) {
-			currentIndex--;
-		}
-
-		lastReturned = -1;
-	}
-
-	public BindingSet remove(int index) {
-		BindingSet result = bindingSets.remove(index);
-
-		if (currentIndex > index) {
-			currentIndex--;
-		}
-
-		lastReturned = -1;
-
-		return result;
-	}
-
-	public void clear() {
-		bindingNames.clear();
-		bindingSets.clear();
-		currentIndex = 0;
-		lastReturned = -1;
-	}
-
-	@Override
-	public void close() {
-		// no-op because we support multiple iterations
-	}
-
-	@Override
-	public MutableTupleQueryResult clone()
-		throws CloneNotSupportedException
-	{
-		MutableTupleQueryResult clone = (MutableTupleQueryResult)super.clone();
-		clone.bindingNames.addAll(bindingNames);
-		clone.bindingSets.addAll(bindingSets);
-		return clone;
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/QueueCursor.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/QueueCursor.java
deleted file mode 100644
index 3f0894e2ea..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/QueueCursor.java
+++ /dev/null
@@ -1,65 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.concurrent.ArrayBlockingQueue;
-import java.util.concurrent.BlockingQueue;
-
-import org.eclipse.rdf4j.common.iteration.QueueIteration;
-import org.eclipse.rdf4j.query.QueryEvaluationException;
-
-/**
- * Makes working with a queue easier by adding the methods {@link #done()} and {@link #toss(Exception)} and
- * automatically converting the exception into a QueryEvaluationException with an appropriate stack trace.
- * 
- * @author James Leigh
- */
-public class QueueCursor<E> extends QueueIteration<E, QueryEvaluationException> {
-
-	/**
-	 * Creates an <tt>QueueCursor</tt> with the given (fixed) capacity and default access policy.
-	 * 
-	 * @param capacity
-	 *        the capacity of this queue
-	 */
-	public QueueCursor(int capacity) {
-		this(capacity, false);
-	}
-
-	/**
-	 * Creates an <tt>QueueCursor</tt> with the given (fixed) capacity and the specified access policy.
-	 * 
-	 * @param capacity
-	 *        the capacity of this queue
-	 * @param fair
-	 *        if <tt>true</tt> then queue accesses for threads blocked on insertion or removal, are processed
-	 *        in FIFO order; if <tt>false</tt> the access order is unspecified.
-	 */
-	public QueueCursor(int capacity, boolean fair) {
-		super(capacity, fair);
-	}
-
-	/**
-	 * Creates an <tt>QueueCursor</tt> with the given {@link BlockingQueue} as its backing queue.<br>
-	 * It may not be threadsafe to modify or access the given {@link BlockingQueue} from other locations. This
-	 * method only enables the default {@link ArrayBlockingQueue} to be overridden.
-	 * 
-	 * @param queue
-	 *        A BlockingQueue that is not used in other locations, but will be used as the backing Queue
-	 *        implementation for this cursor.
-	 */
-	public QueueCursor(BlockingQueue<E> queue) {
-		super(queue);
-	}
-
-	@Override
-	protected QueryEvaluationException convert(Exception e) {
-		throw new QueryEvaluationException(e);
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/SimpleBinding.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/SimpleBinding.java
deleted file mode 100644
index ae49e524ef..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/SimpleBinding.java
+++ /dev/null
@@ -1,70 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import org.eclipse.rdf4j.model.Value;
-import org.eclipse.rdf4j.query.Binding;
-
-/**
- * An implementation of the {@link Binding} interface.
- * 
- * @author Jeen Broekstra
- */
-public class SimpleBinding implements Binding {
-
-	private static final long serialVersionUID = -8257244838478873298L;
-
-	private final String name;
-
-	private final Value value;
-
-	/**
-	 * Creates a binding object with the supplied name and value.
-	 * 
-	 * @param name
-	 *        The binding's name.
-	 * @param value
-	 *        The binding's value.
-	 */
-	public SimpleBinding(String name, Value value) {
-		assert name != null : "name must not be null";
-		assert value != null : "value must not be null";
-
-		this.name = name;
-		this.value = value;
-	}
-
-	public String getName() {
-		return name;
-	}
-
-	public Value getValue() {
-		return value;
-	}
-
-	@Override
-	public boolean equals(Object o) {
-		if (o instanceof Binding) {
-			Binding other = (Binding)o;
-
-			return name.equals(other.getName()) && value.equals(other.getValue());
-		}
-
-		return false;
-	}
-
-	@Override
-	public int hashCode() {
-		return name.hashCode() ^ value.hashCode();
-	}
-
-	@Override
-	public String toString() {
-		return name + "=" + value.toString();
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/SimpleDataset.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/SimpleDataset.java
deleted file mode 100644
index e1b3985b9d..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/SimpleDataset.java
+++ /dev/null
@@ -1,165 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.io.Serializable;
-import java.util.Collections;
-import java.util.LinkedHashSet;
-import java.util.Set;
-
-import org.eclipse.rdf4j.model.IRI;
-import org.eclipse.rdf4j.query.Dataset;
-
-/**
- * A simple implementation of the {@link Dataset} interface.
- * 
- * @author Arjohn Kampman
- * @author James Leigh
- */
-public class SimpleDataset implements Dataset, Serializable {
-
-	private static final long serialVersionUID = 7841576172053060417L;
-
-	private Set<IRI> defaultRemoveGraphs = new LinkedHashSet<IRI>();
-
-	private IRI defaultInsertGraph;
-
-	private Set<IRI> defaultGraphs = new LinkedHashSet<IRI>();
-
-	private Set<IRI> namedGraphs = new LinkedHashSet<IRI>();
-
-	public SimpleDataset() {
-	}
-
-	public Set<IRI> getDefaultRemoveGraphs() {
-		return Collections.unmodifiableSet(defaultRemoveGraphs);
-	}
-
-	/**
-	 * Adds a graph URI to the set of default remove graph URIs.
-	 */
-	public void addDefaultRemoveGraph(IRI graphURI) {
-		defaultRemoveGraphs.add(graphURI);
-	}
-
-	/**
-	 * Removes a graph URI from the set of default remove graph URIs.
-	 * 
-	 * @return <tt>true</tt> if the URI was removed from the set, <tt>false</tt> if the set did not contain
-	 *         the URI.
-	 */
-	public boolean removeDefaultRemoveGraph(IRI graphURI) {
-		return defaultRemoveGraphs.remove(graphURI);
-	}
-
-	/**
-	 * @return Returns the default insert graph.
-	 */
-	public IRI getDefaultInsertGraph() {
-		return defaultInsertGraph;
-	}
-
-	/**
-	 * @param defaultInsertGraph
-	 *        The default insert graph to used.
-	 */
-	public void setDefaultInsertGraph(IRI defaultInsertGraph) {
-		this.defaultInsertGraph = defaultInsertGraph;
-	}
-
-	public Set<IRI> getDefaultGraphs() {
-		return Collections.unmodifiableSet(defaultGraphs);
-	}
-
-	/**
-	 * Adds a graph URI to the set of default graph URIs.
-	 */
-	public void addDefaultGraph(IRI graphURI) {
-		defaultGraphs.add(graphURI);
-	}
-
-	/**
-	 * Removes a graph URI from the set of default graph URIs.
-	 * 
-	 * @return <tt>true</tt> if the URI was removed from the set, <tt>false</tt> if the set did not contain
-	 *         the URI.
-	 */
-	public boolean removeDefaultGraph(IRI graphURI) {
-		return defaultGraphs.remove(graphURI);
-	}
-
-	/**
-	 * Gets the (unmodifiable) set of named graph URIs.
-	 */
-	public Set<IRI> getNamedGraphs() {
-		return Collections.unmodifiableSet(namedGraphs);
-	}
-
-	/**
-	 * Adds a graph URI to the set of named graph URIs.
-	 */
-	public void addNamedGraph(IRI graphURI) {
-		namedGraphs.add(graphURI);
-	}
-
-	/**
-	 * Removes a graph URI from the set of named graph URIs.
-	 * 
-	 * @return <tt>true</tt> if the URI was removed from the set, <tt>false</tt> if the set did not contain
-	 *         the URI.
-	 */
-	public boolean removeNamedGraph(IRI graphURI) {
-		return namedGraphs.remove(graphURI);
-	}
-
-	/**
-	 * Removes all graph URIs (both default and named) from this dataset.
-	 */
-	public void clear() {
-		defaultRemoveGraphs.clear();
-		defaultInsertGraph = null;
-		defaultGraphs.clear();
-		namedGraphs.clear();
-	}
-
-	@Override
-	public String toString() {
-		StringBuilder sb = new StringBuilder();
-		for (IRI uri : getDefaultRemoveGraphs()) {
-			sb.append("DELETE FROM ");
-			appendURI(sb, uri);
-		}
-		if (getDefaultInsertGraph() != null) {
-			sb.append("INSERT INTO ");
-			appendURI(sb, getDefaultInsertGraph());
-		}
-		for (IRI uri : getDefaultGraphs()) {
-			sb.append("USING ");
-			appendURI(sb, uri);
-		}
-		for (IRI uri : getNamedGraphs()) {
-			sb.append("USING NAMED ");
-			appendURI(sb, uri);
-		}
-		if (getDefaultGraphs().isEmpty() && getNamedGraphs().isEmpty()) {
-			sb.append("## empty dataset ##");
-		}
-		return sb.toString();
-	}
-
-	private void appendURI(StringBuilder sb, IRI uri) {
-		String str = uri.toString();
-		if (str.length() > 50) {
-			sb.append("<").append(str, 0, 19).append("..");
-			sb.append(str, str.length() - 29, str.length()).append(">\n");
-		}
-		else {
-			sb.append("<").append(uri).append(">\n");
-		}
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/TupleQueryResultBuilder.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/TupleQueryResultBuilder.java
deleted file mode 100644
index 59a2e68b5a..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/TupleQueryResultBuilder.java
+++ /dev/null
@@ -1,53 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.ArrayList;
-import java.util.List;
-
-import org.eclipse.rdf4j.query.AbstractTupleQueryResultHandler;
-import org.eclipse.rdf4j.query.BindingSet;
-import org.eclipse.rdf4j.query.TupleQueryResult;
-import org.eclipse.rdf4j.query.TupleQueryResultHandlerException;
-
-/**
- * A TupleQueryResultHandler that can be used to create a TupleQueryResult object.
- */
-public class TupleQueryResultBuilder extends AbstractTupleQueryResultHandler {
-
-	/*-----------*
-	 * Variables *
-	 *-----------*/
-
-	private List<String> bindingNames;
-
-	private List<BindingSet> bindingSetList = new ArrayList<BindingSet>();
-
-	/*---------*
-	 * Methods *
-	 *---------*/
-
-	@Override
-	public void startQueryResult(List<String> bindingNames)
-		throws TupleQueryResultHandlerException
-	{
-		this.bindingNames = bindingNames;
-		bindingSetList = new ArrayList<BindingSet>();
-	}
-
-	@Override
-	public void handleSolution(BindingSet bindingSet)
-		throws TupleQueryResultHandlerException
-	{
-		bindingSetList.add(bindingSet);
-	}
-
-	public TupleQueryResult getQueryResult() {
-		return new IteratingTupleQueryResult(bindingNames, bindingSetList);
-	}
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/TupleQueryResultImpl.java b/core/query/src/main/java/org/eclipse/rdf4j/query/impl/TupleQueryResultImpl.java
deleted file mode 100644
index eab2732b90..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/impl/TupleQueryResultImpl.java
+++ /dev/null
@@ -1,29 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.List;
-
-import org.eclipse.rdf4j.common.iteration.CloseableIteration;
-import org.eclipse.rdf4j.query.BindingSet;
-import org.eclipse.rdf4j.query.QueryEvaluationException;
-
-/**
- * @deprecated since 4.0. Use {@link IteratingTupleQueryResult} instead.
- * @author Jeen Broekstra
- */
-@Deprecated
-public class TupleQueryResultImpl extends IteratingTupleQueryResult {
-
-	public TupleQueryResultImpl(List<String> bindingNames,
-			CloseableIteration<? extends BindingSet, QueryEvaluationException> bindingSetIter)
-	{
-		super(bindingNames, bindingSetIter);
-	}
-
-}
diff --git a/core/query/src/main/java/org/eclipse/rdf4j/query/package.html b/core/query/src/main/java/org/eclipse/rdf4j/query/package.html
deleted file mode 100644
index 74c2e4b99c..0000000000
--- a/core/query/src/main/java/org/eclipse/rdf4j/query/package.html
+++ /dev/null
@@ -1,5 +0,0 @@
-<html>
-<body>
-Interfaces and classes for handling queries and query results.
-</body>
-</html>
\ No newline at end of file
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/AllTests.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/AllTests.java
deleted file mode 100644
index a3c2b9de21..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/AllTests.java
+++ /dev/null
@@ -1,37 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import org.junit.runner.RunWith;
-import org.junit.runners.Suite;
-import org.junit.runners.Suite.SuiteClasses;
-
-/**
- * @author akam
- */
-@RunWith(Suite.class)
-@SuiteClasses({
-		LimitIterationTest.class,
-		EmptyIterationTest.class,
-		OffsetIterationTest.class,
-		ConvertingIterationTest.class,
-		CloseableIteratorIterationTest.class,
-		DelayedIterationTest.class,
-		DistinctIterationTest.class,
-		ExceptionConvertingIterationTest.class,
-		FilterIterationTest.class,
-		IntersectionIterationTest.class,
-		DistinctIntersectionIterationTest.class,
-		IteratorIterationTest.class,
-		LookAheadIterationTest.class,
-		MinusIterationTest.class,
-		DistinctMinusIterationTest.class,
-		SingletonIterationTest.class,
-		UnionIterationTest.class, })
-public class AllTests {
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/CloseableIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/CloseableIterationTest.java
deleted file mode 100644
index 1a8466fdc8..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/CloseableIterationTest.java
+++ /dev/null
@@ -1,53 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import static org.junit.Assert.assertFalse;
-import static org.junit.Assert.fail;
-
-import java.util.NoSuchElementException;
-
-import org.junit.Test;
-
-/**
- *
- */
-public abstract class CloseableIterationTest extends IterationTest {
-
-	protected abstract CloseableIteration<String, Exception> createTestIteration()
-		throws Exception;
-
-	@Test
-	public void testClosedIteration()
-		throws Exception
-	{
-		for (int n = 0; n < getTestIterationSize(); n++) {
-			CloseableIteration<String, Exception> iter = createTestIteration();
-
-			// Close after n iterations
-			for (int i = 0; i < n; i++) {
-				iter.next();
-			}
-
-			iter.close();
-
-			assertFalse("closed iteration should not contain any more elements", iter.hasNext());
-
-			try {
-				iter.next();
-				fail("next() called on a closed iteration should throw a NoSuchElementException");
-			}
-			catch (NoSuchElementException e) {
-				// expected exception
-			}
-			catch (Exception e) {
-				fail("next() called on a closed iteration should throw a NoSuchElementException");
-			}
-		}
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/CloseableIteratorIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/CloseableIteratorIterationTest.java
deleted file mode 100644
index d22aa5b9d7..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/CloseableIteratorIterationTest.java
+++ /dev/null
@@ -1,21 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-public class CloseableIteratorIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new CloseableIteratorIteration<String, Exception>(stringList1.iterator());
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return stringList1.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/ConvertingIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/ConvertingIterationTest.java
deleted file mode 100644
index 20ea9b5770..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/ConvertingIterationTest.java
+++ /dev/null
@@ -1,37 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import java.util.Arrays;
-import java.util.List;
-
-public class ConvertingIterationTest extends CloseableIterationTest {
-
-	private static final List<Integer> intList = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
-
-	protected static CloseableIteration<String, Exception> createConvertingIteration() {
-		Iteration<Integer, Exception> intIteration = new CloseableIteratorIteration<Integer, Exception>(
-				intList.iterator());
-		return new ConvertingIteration<Integer, String, Exception>(intIteration) {
-
-			protected String convert(Integer integer) {
-				return integer.toString();
-			}
-		};
-	}
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return createConvertingIteration();
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return 10;
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DelayedIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DelayedIterationTest.java
deleted file mode 100644
index 5ad1f99848..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DelayedIterationTest.java
+++ /dev/null
@@ -1,27 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-public class DelayedIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new DelayedIteration<String, Exception>() {
-
-			@Override
-			protected Iteration<? extends String, Exception> createIteration() {
-				return createStringList1Iteration();
-			}
-		};
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return stringList1.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctIntersectionIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctIntersectionIterationTest.java
deleted file mode 100644
index 0e1028c6ea..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctIntersectionIterationTest.java
+++ /dev/null
@@ -1,27 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import java.util.HashSet;
-import java.util.Set;
-
-public class DistinctIntersectionIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new IntersectIteration<String, Exception>(createStringList1Iteration(),
-				createStringList2Iteration(), true);
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		Set<String> intersection = new HashSet<String>(stringList1);
-		intersection.retainAll(stringList2);
-		return intersection.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctIterationTest.java
deleted file mode 100644
index cb896ff37f..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctIterationTest.java
+++ /dev/null
@@ -1,23 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import java.util.HashSet;
-
-public class DistinctIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new DistinctIteration<String, Exception>(createStringList1Iteration());
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return new HashSet<String>(stringList1).size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctMinusIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctMinusIterationTest.java
deleted file mode 100644
index 970b6d03cf..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/DistinctMinusIterationTest.java
+++ /dev/null
@@ -1,27 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import java.util.HashSet;
-import java.util.Set;
-
-public class DistinctMinusIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new MinusIteration<String, Exception>(createStringList1Iteration(),
-				createStringList2Iteration(), true);
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		Set<String> difference = new HashSet<String>(stringList1);
-		difference.removeAll(stringList2);
-		return difference.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/EmptyIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/EmptyIterationTest.java
deleted file mode 100644
index 5a060a69ec..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/EmptyIterationTest.java
+++ /dev/null
@@ -1,25 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-public class EmptyIterationTest extends CloseableIterationTest {
-
-	protected static EmptyIteration<String, Exception> createEmptyIteration() {
-		return new EmptyIteration<String, Exception>();
-	}
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return createEmptyIteration();
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return 0;
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/ExceptionConvertingIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/ExceptionConvertingIterationTest.java
deleted file mode 100644
index 6cee142035..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/ExceptionConvertingIterationTest.java
+++ /dev/null
@@ -1,28 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-public class ExceptionConvertingIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new ExceptionConvertingIteration<String, Exception>(createStringList1Iteration()) {
-
-			@Override
-			protected Exception convert(Exception e) {
-				return e;
-			}
-
-		};
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return stringList1.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/FilterIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/FilterIterationTest.java
deleted file mode 100644
index 69c1ae726a..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/FilterIterationTest.java
+++ /dev/null
@@ -1,32 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import java.util.Collections;
-
-public class FilterIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new FilterIteration<String, Exception>(createStringList1Iteration()) {
-
-			@Override
-			protected boolean accept(String object)
-				throws Exception
-			{
-				return "3".equals(object);
-			}
-
-		};
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return Collections.frequency(stringList1, "3");
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IntersectionIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IntersectionIterationTest.java
deleted file mode 100644
index 74960e1534..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IntersectionIterationTest.java
+++ /dev/null
@@ -1,27 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import java.util.ArrayList;
-import java.util.List;
-
-public class IntersectionIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new IntersectIteration<String, Exception>(createStringList1Iteration(),
-				createStringList2Iteration());
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		List<String> intersection = new ArrayList<String>(stringList1);
-		intersection.retainAll(stringList2);
-		return intersection.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IterationTest.java
deleted file mode 100644
index b07c1126db..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IterationTest.java
+++ /dev/null
@@ -1,51 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import static org.junit.Assert.assertEquals;
-
-import java.util.Arrays;
-import java.util.List;
-
-import org.junit.Test;
-
-public abstract class IterationTest {
-
-	protected static final List<String> stringList1 = Arrays.asList("1", "2", "3", "4", "5", "1", "2", "3",
-			"4", "5");
-
-	protected static final List<String> stringList2 = Arrays.asList("4", "5", "6", "7", "8");
-
-	protected static CloseableIteration<String, Exception> createStringList1Iteration() {
-		return new CloseableIteratorIteration<String, Exception>(stringList1.iterator());
-	}
-
-	protected static CloseableIteration<String, Exception> createStringList2Iteration() {
-		return new CloseableIteratorIteration<String, Exception>(stringList2.iterator());
-	}
-
-	protected abstract Iteration<String, Exception> createTestIteration()
-		throws Exception;
-
-	protected abstract int getTestIterationSize();
-
-	@Test
-	public void testFullIteration()
-		throws Exception
-	{
-		Iteration<String, Exception> iter = createTestIteration();
-		int count = 0;
-
-		while (iter.hasNext()) {
-			iter.next();
-			count++;
-		}
-
-		assertEquals("test iteration contains incorrect number of elements", getTestIterationSize(), count);
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IteratorIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IteratorIterationTest.java
deleted file mode 100644
index 5bec50ada3..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/IteratorIterationTest.java
+++ /dev/null
@@ -1,21 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-public class IteratorIterationTest extends IterationTest {
-
-	@Override
-	protected Iteration<String, Exception> createTestIteration() {
-		return new IteratorIteration<String, Exception>(stringList1.iterator());
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return stringList1.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/LimitIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/LimitIterationTest.java
deleted file mode 100644
index aeb7af0245..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/LimitIterationTest.java
+++ /dev/null
@@ -1,52 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import static org.junit.Assert.assertEquals;
-
-import java.util.List;
-
-import org.junit.Test;
-
-public class LimitIterationTest extends CloseableIterationTest {
-
-	protected static LimitIteration<String, Exception> createLimitIteration(int limit) {
-		return new LimitIteration<String, Exception>(createStringList1Iteration(), limit);
-	}
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return createLimitIteration(5);
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return 5;
-	}
-
-	@Test
-	public void testInRangeOffset()
-		throws Exception
-	{
-		for (int limit = 0; limit < stringList1.size(); limit++) {
-			Iteration<String, Exception> iter = createLimitIteration(limit);
-			List<String> resultList = Iterations.asList(iter);
-			List<String> expectedList = stringList1.subList(0, limit);
-			assertEquals("testInRangeOffset failed for limit: " + limit, expectedList, resultList);
-		}
-	}
-
-	@Test
-	public void testOutOfRangeOffset()
-		throws Exception
-	{
-		Iteration<String, Exception> iter = createLimitIteration(2 * stringList1.size());
-		List<String> resultList = Iterations.asList(iter);
-		assertEquals(stringList1, resultList);
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/LookAheadIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/LookAheadIterationTest.java
deleted file mode 100644
index ba506cd7f2..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/LookAheadIterationTest.java
+++ /dev/null
@@ -1,39 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import java.util.Iterator;
-
-public class LookAheadIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		final Iterator<String> iter = stringList1.iterator();
-
-		return new LookAheadIteration<String, Exception>() {
-
-			@Override
-			protected String getNextElement()
-				throws Exception
-			{
-				if (iter.hasNext()) {
-					return iter.next();
-				}
-				else {
-					return null;
-				}
-			}
-
-		};
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return stringList1.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/MinusIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/MinusIterationTest.java
deleted file mode 100644
index d2f11fdee9..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/MinusIterationTest.java
+++ /dev/null
@@ -1,27 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import java.util.ArrayList;
-import java.util.List;
-
-public class MinusIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new MinusIteration<String, Exception>(createStringList1Iteration(),
-				createStringList2Iteration());
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		List<String> difference = new ArrayList<String>(stringList1);
-		difference.removeAll(stringList2);
-		return difference.size();
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/OffsetIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/OffsetIterationTest.java
deleted file mode 100644
index cd899f0aaa..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/OffsetIterationTest.java
+++ /dev/null
@@ -1,53 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import static org.junit.Assert.assertEquals;
-
-import java.util.Collections;
-import java.util.List;
-
-import org.junit.Test;
-
-public class OffsetIterationTest extends CloseableIterationTest {
-
-	protected static OffsetIteration<String, Exception> createOffsetIteration(int offset) {
-		return new OffsetIteration<String, Exception>(createStringList1Iteration(), offset);
-	}
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return createOffsetIteration(5);
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return 5;
-	}
-
-	@Test
-	public void testInRangeOffset()
-		throws Exception
-	{
-		for (int offset = 0; offset < stringList1.size(); offset++) {
-			Iteration<String, Exception> iter = createOffsetIteration(offset);
-			List<String> resultList = Iterations.asList(iter);
-			List<String> expectedList = stringList1.subList(offset, stringList1.size());
-			assertEquals("test failed for offset: " + offset, expectedList, resultList);
-		}
-	}
-
-	@Test
-	public void testOutOfRangeOffset()
-		throws Exception
-	{
-		Iteration<String, Exception> iter = createOffsetIteration(2 * stringList1.size());
-		List<String> resultList = Iterations.asList(iter);
-		assertEquals(Collections.emptyList(), resultList);
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/SingletonIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/SingletonIterationTest.java
deleted file mode 100644
index 457fd0ecfe..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/SingletonIterationTest.java
+++ /dev/null
@@ -1,21 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-public class SingletonIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new SingletonIteration<String, Exception>("3");
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return 1;
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/UnionIterationTest.java b/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/UnionIterationTest.java
deleted file mode 100644
index 6ccdf37e79..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/common/iteration/UnionIterationTest.java
+++ /dev/null
@@ -1,44 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.common.iteration;
-
-import static org.junit.Assert.assertTrue;
-
-import org.junit.Test;
-
-public class UnionIterationTest extends CloseableIterationTest {
-
-	@Override
-	protected CloseableIteration<String, Exception> createTestIteration() {
-		return new UnionIteration<String, Exception>(createStringList1Iteration(),
-				createStringList2Iteration());
-	}
-
-	@Override
-	protected int getTestIterationSize() {
-		return stringList1.size() + stringList2.size();
-	}
-
-	@Test
-	public void testArgumentsClosed()
-		throws Exception
-	{
-		SingletonIteration<String, Exception> iter1 = new SingletonIteration<String, Exception>("1");
-		SingletonIteration<String, Exception> iter2 = new SingletonIteration<String, Exception>("2");
-		SingletonIteration<String, Exception> iter3 = new SingletonIteration<String, Exception>("3");
-		UnionIteration<String, Exception> unionIter = new UnionIteration<String, Exception>(iter1, iter2,
-				iter3);
-
-		unionIter.next();
-		unionIter.close();
-
-		assertTrue("iter1 should have been closed", iter1.isClosed());
-		assertTrue("iter2 should have been closed", iter2.isClosed());
-		assertTrue("iter3 should have been closed", iter3.isClosed());
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/query/BindingSetTest.java b/core/query/src/test/java/org/eclipse/rdf4j/query/BindingSetTest.java
deleted file mode 100644
index 9d4a362bd9..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/query/BindingSetTest.java
+++ /dev/null
@@ -1,44 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2016 Eclipse RDF4J contributors.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import static org.junit.Assert.assertEquals;
-
-import org.junit.Test;
-
-/**
- * Unit tests for BindingSet implementations.
- * 
- * @author jeen
- */
-public abstract class BindingSetTest<T extends BindingSet> {
-
-	/**
-	 * Verifies that the BindingSet implementation honors the API spec for {@link BindingSet#equals(Object)}
-	 * and {@link BindingSet#hashCode()}.
-	 */
-	@Test
-	public void testEqualsHashcode() {
-
-		T[] bindingSets = createTwoEqualReorderedBindingSets();
-
-		T bs1 = bindingSets[0];
-		T bs2 = bindingSets[1];
-
-		assertEquals(bs1, bs2);
-
-		assertEquals(bs1.hashCode(), bs2.hashCode());
-	}
-
-	/**
-	 * Creates two equal, but differently ordered, BindingSet objects.
-	 * 
-	 * @return an array of two equal but differently ordered BindingSets.
-	 */
-	protected abstract T[] createTwoEqualReorderedBindingSets();
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/query/QueryResultsTest.java b/core/query/src/test/java/org/eclipse/rdf4j/query/QueryResultsTest.java
deleted file mode 100644
index 9c0adbcdc6..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/query/QueryResultsTest.java
+++ /dev/null
@@ -1,401 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query;
-
-import static org.junit.Assert.assertFalse;
-import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertTrue;
-
-import java.util.ArrayList;
-import java.util.Arrays;
-import java.util.List;
-import java.util.Map;
-import java.util.stream.Collectors;
-
-import org.eclipse.rdf4j.common.iteration.AbstractCloseableIteration;
-import org.eclipse.rdf4j.model.BNode;
-import org.eclipse.rdf4j.model.IRI;
-import org.eclipse.rdf4j.model.Literal;
-import org.eclipse.rdf4j.model.Model;
-import org.eclipse.rdf4j.model.Statement;
-import org.eclipse.rdf4j.model.ValueFactory;
-import org.eclipse.rdf4j.model.impl.SimpleValueFactory;
-import org.eclipse.rdf4j.model.vocabulary.RDF;
-import org.eclipse.rdf4j.query.impl.EmptyBindingSet;
-import org.eclipse.rdf4j.query.impl.ListBindingSet;
-import org.eclipse.rdf4j.query.impl.MutableTupleQueryResult;
-import org.junit.Before;
-import org.junit.Test;
-
-/**
- * @author Arjohn Kampman
- */
-public class QueryResultsTest {
-
-	private MutableTupleQueryResult tqr1;
-
-	private MutableTupleQueryResult tqr2;
-
-	private MutableTupleQueryResult tqr3;
-
-	/** a stub GraphQueryResult, containing a number of duplicate statements */
-	private GraphQueryResult gqr;
-
-	private static ValueFactory VF = SimpleValueFactory.getInstance();
-
-	private List<String> twoBindingNames = Arrays.asList("a", "b");
-
-	private List<String> threeBindingNames = Arrays.asList("a", "b", "c");
-
-	private IRI foo;
-
-	private IRI bar;
-
-	private BNode bnode1;
-
-	private BNode bnode2;
-
-	private Literal lit1;
-
-	private Literal lit2;
-
-	private IRI a = VF.createIRI("urn:a");
-
-	private IRI b = VF.createIRI("urn:b");
-
-	private IRI c = VF.createIRI("urn:c");
-
-	private IRI p = VF.createIRI("urn:p");
-
-	private IRI q = VF.createIRI("urn:q");
-
-	@Before
-	public void setUp() {
-		tqr1 = new MutableTupleQueryResult(twoBindingNames);
-		tqr2 = new MutableTupleQueryResult(twoBindingNames);
-		tqr3 = new MutableTupleQueryResult(threeBindingNames);
-
-		gqr = new StubGraphQueryResult();
-
-		foo = VF.createIRI("http://example.org/foo");
-		bar = VF.createIRI("http://example.org/bar");
-
-		bnode1 = VF.createBNode();
-		bnode2 = VF.createBNode();
-
-		lit1 = VF.createLiteral(1);
-		lit2 = VF.createLiteral("test", "en");
-	}
-
-	@Test
-	public void testAsModel()
-		throws QueryEvaluationException
-	{
-		Model model = QueryResults.asModel(gqr);
-
-		assertFalse(gqr.hasNext());
-		assertNotNull(model);
-		assertTrue(model.contains(VF.createStatement(a, p, b)));
-	}
-
-	@Test
-	public void testStreamGraphResult() {
-		List<Statement> aboutA = QueryResults.stream(gqr).filter(s -> s.getSubject().equals(a)).collect(
-				Collectors.toList());
-
-		assertFalse(aboutA.isEmpty());
-
-		for (Statement st : aboutA) {
-			assertTrue(st.getSubject().equals(a));
-		}
-	}
-
-	@Test
-	public void testStreamTupleResult() {
-		BindingSet a = new ListBindingSet(twoBindingNames, foo, lit1);
-		BindingSet b = new ListBindingSet(twoBindingNames, bar, lit2);
-		tqr1.append(a);
-		tqr1.append(b);
-		tqr1.append(a);
-		tqr1.append(b);
-		tqr1.append(b);
-
-		List<BindingSet> list = QueryResults.stream(tqr1).filter(bs -> bs.getValue("a").equals(foo)).collect(
-				Collectors.toList());
-
-		assertNotNull(list);
-		assertFalse(list.isEmpty());
-		for (BindingSet bs : list) {
-			assertTrue(bs.getValue("a").equals(foo));
-		}
-	}
-
-	@Test
-	public void testGraphQueryResultEquals()
-		throws QueryEvaluationException
-	{
-
-		StubGraphQueryResult toCompare = new StubGraphQueryResult();
-
-		assertTrue(QueryResults.equals(gqr, toCompare));
-		gqr = new StubGraphQueryResult();
-		toCompare = new StubGraphQueryResult();
-		toCompare.statements.add(
-				VF.createStatement(VF.createURI("urn:test-gqr-equals"), RDF.TYPE, RDF.PROPERTY));
-
-		assertFalse(QueryResults.equals(gqr, toCompare));
-	}
-
-	@Test
-	public void testDistinctGraphQueryResults()
-		throws QueryEvaluationException
-	{
-
-		GraphQueryResult filtered = QueryResults.distinctResults(gqr);
-
-		List<Statement> processed = new ArrayList<Statement>();
-		while (filtered.hasNext()) {
-			Statement result = filtered.next();
-			assertFalse(processed.contains(result));
-			processed.add(result);
-		}
-	}
-
-	@Test
-	public void testDistinctTupleQueryResults()
-		throws QueryEvaluationException
-	{
-
-		BindingSet a = new ListBindingSet(twoBindingNames, foo, lit1);
-		BindingSet b = new ListBindingSet(twoBindingNames, bar, lit2);
-		tqr1.append(a);
-		tqr1.append(b);
-		tqr1.append(a);
-		tqr1.append(b);
-		tqr1.append(b);
-
-		TupleQueryResult filtered = QueryResults.distinctResults(tqr1);
-
-		List<BindingSet> processed = new ArrayList<BindingSet>();
-		while (filtered.hasNext()) {
-			BindingSet result = filtered.next();
-			assertFalse(processed.contains(result));
-			processed.add(result);
-		}
-	}
-
-	private class StubGraphQueryResult extends AbstractCloseableIteration<Statement, QueryEvaluationException>
-			implements GraphQueryResult
-	{
-
-		private List<Statement> statements = new ArrayList<Statement>();
-
-		public StubGraphQueryResult() {
-			statements.add(VF.createStatement(a, p, b));
-			statements.add(VF.createStatement(b, q, c));
-			statements.add(VF.createStatement(c, q, a));
-			statements.add(VF.createStatement(c, q, a));
-			statements.add(VF.createStatement(a, p, b));
-		}
-
-		@Override
-		public boolean hasNext()
-			throws QueryEvaluationException
-		{
-			return !statements.isEmpty();
-		}
-
-		@Override
-		public Statement next()
-			throws QueryEvaluationException
-		{
-			return statements.remove(0);
-		}
-
-		@Override
-		public void remove()
-			throws QueryEvaluationException
-		{
-			statements.remove(0);
-		}
-
-		@Override
-		public Map<String, String> getNamespaces()
-			throws QueryEvaluationException
-		{
-			// TODO Auto-generated method stub
-			return null;
-		}
-
-	}
-
-	@Test
-	public void testEmptyQueryResult()
-		throws QueryEvaluationException
-	{
-		tqr1.append(EmptyBindingSet.getInstance());
-		tqr2.append(EmptyBindingSet.getInstance());
-		tqr3.append(EmptyBindingSet.getInstance());
-
-		assertTrue(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testEmptyQueryResult2()
-		throws QueryEvaluationException
-	{
-		tqr1.append(EmptyBindingSet.getInstance());
-		tqr3.append(EmptyBindingSet.getInstance());
-
-		assertTrue(QueryResults.equals(tqr1, tqr3));
-	}
-
-	@Test
-	public void testEmptyQueryResult3()
-		throws QueryEvaluationException
-	{
-		tqr1.append(EmptyBindingSet.getInstance());
-		tqr3.append(EmptyBindingSet.getInstance());
-
-		assertTrue(QueryResults.equals(tqr3, tqr1));
-	}
-
-	@Test
-	public void testEmptyBindingSet()
-		throws QueryEvaluationException
-	{
-		tqr1.append(EmptyBindingSet.getInstance());
-		tqr2.append(EmptyBindingSet.getInstance());
-		assertTrue(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testNonBNodeBindingSet1()
-		throws QueryEvaluationException
-	{
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, lit1));
-		tqr1.append(new ListBindingSet(twoBindingNames, bar, lit2));
-
-		tqr2.append(new ListBindingSet(twoBindingNames, bar, lit2));
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, lit1));
-
-		assertTrue(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testNonBNodeBindingSet2()
-		throws QueryEvaluationException
-	{
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, lit1));
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, lit2));
-
-		assertFalse(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testNonBNodeBindingSet3()
-		throws QueryEvaluationException
-	{
-		tqr3.append(new ListBindingSet(threeBindingNames, foo, lit1, bar));
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, lit1));
-
-		assertFalse(QueryResults.equals(tqr3, tqr2));
-	}
-
-	@Test
-	public void testNonBNodeBindingSet()
-		throws QueryEvaluationException
-	{
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, lit1));
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, lit2));
-
-		assertFalse(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testBNodeBindingSet1()
-		throws QueryEvaluationException
-	{
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, bnode1));
-		tqr1.append(new ListBindingSet(twoBindingNames, bar, bnode2));
-
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, bnode2));
-		tqr2.append(new ListBindingSet(twoBindingNames, bar, bnode1));
-
-		assertTrue(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testBNodeBindingSet2()
-		throws QueryEvaluationException
-	{
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, bnode1));
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, lit1));
-
-		assertFalse(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testBNodeBindingSet3()
-		throws QueryEvaluationException
-	{
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, bnode1));
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, bnode2));
-
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, bnode1));
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, bnode1));
-
-		assertFalse(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testBNodeBindingSet4()
-		throws QueryEvaluationException
-	{
-		tqr1.append(new ListBindingSet(twoBindingNames, bnode1, bnode2));
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, bnode2));
-
-		tqr2.append(new ListBindingSet(twoBindingNames, bnode2, bnode1));
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, bnode1));
-
-		assertTrue(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testBNodeBindingSet5()
-		throws QueryEvaluationException
-	{
-		tqr1.append(new ListBindingSet(twoBindingNames, bnode1, bnode2));
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, bnode2));
-
-		tqr2.append(new ListBindingSet(twoBindingNames, bnode2, bnode1));
-		tqr2.append(new ListBindingSet(twoBindingNames, foo, bnode2));
-
-		assertFalse(QueryResults.equals(tqr1, tqr2));
-	}
-
-	@Test
-	public void testBNodeBindingSet6()
-		throws QueryEvaluationException
-	{
-		tqr3.append(new ListBindingSet(threeBindingNames, foo, bnode2, bnode1));
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, bnode2));
-
-		assertFalse(QueryResults.equals(tqr3, tqr1));
-	}
-
-	@Test
-	public void testBNodeBindingSet7()
-		throws QueryEvaluationException
-	{
-		tqr3.append(new ListBindingSet(threeBindingNames, foo, bnode2, bnode1));
-		tqr1.append(new ListBindingSet(twoBindingNames, foo, bnode2));
-
-		assertFalse(QueryResults.equals(tqr1, tqr3));
-	}
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/query/impl/ListBindingSetTest.java b/core/query/src/test/java/org/eclipse/rdf4j/query/impl/ListBindingSetTest.java
deleted file mode 100644
index ddad783bc6..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/query/impl/ListBindingSetTest.java
+++ /dev/null
@@ -1,34 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2016 Eclipse RDF4J contributors.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import java.util.Arrays;
-import java.util.List;
-
-import org.eclipse.rdf4j.model.vocabulary.RDF;
-import org.eclipse.rdf4j.query.BindingSetTest;
-
-/**
- * Unit tests for {@link ListBindingSet}
- * 
- * @author Jeen Broekstra
- */
-public class ListBindingSetTest extends BindingSetTest<ListBindingSet> {
-
-	@Override
-	protected ListBindingSet[] createTwoEqualReorderedBindingSets() {
-
-		List<String> names1 = Arrays.asList(new String[] { "x", "y", "z" });
-		List<String> names2 = Arrays.asList(new String[] { "y", "z", "x" });
-
-		ListBindingSet bindingSet1 = new ListBindingSet(names1, RDF.ALT, RDF.BAG, RDF.FIRST);
-		ListBindingSet bindingSet2 = new ListBindingSet(names2, RDF.BAG, RDF.FIRST, RDF.ALT);
-		return new ListBindingSet[] { bindingSet1, bindingSet2 };
-	}
-
-}
diff --git a/core/query/src/test/java/org/eclipse/rdf4j/query/impl/MapBindingSetTest.java b/core/query/src/test/java/org/eclipse/rdf4j/query/impl/MapBindingSetTest.java
deleted file mode 100644
index fda9530c22..0000000000
--- a/core/query/src/test/java/org/eclipse/rdf4j/query/impl/MapBindingSetTest.java
+++ /dev/null
@@ -1,37 +0,0 @@
-/*******************************************************************************
- * Copyright (c) 2016 Eclipse RDF4J contributors.
- * All rights reserved. This program and the accompanying materials
- * are made available under the terms of the Eclipse Distribution License v1.0
- * which accompanies this distribution, and is available at
- * http://www.eclipse.org/org/documents/edl-v10.php.
- *******************************************************************************/
-package org.eclipse.rdf4j.query.impl;
-
-import org.eclipse.rdf4j.model.vocabulary.RDF;
-import org.eclipse.rdf4j.query.BindingSetTest;
-
-/**
- * Unit tests for {@link MapBindingSet}
- * 
- * @author Jeen Broekstra
- */
-public class MapBindingSetTest extends BindingSetTest<MapBindingSet> {
-
-	@Override
-	protected MapBindingSet[] createTwoEqualReorderedBindingSets() {
-
-		MapBindingSet bindingSet1 = new MapBindingSet();
-		MapBindingSet bindingSet2 = new MapBindingSet();
-
-		bindingSet1.addBinding("x", RDF.ALT);
-		bindingSet1.addBinding("y", RDF.BAG);
-		bindingSet1.addBinding("z", RDF.FIRST);
-
-		bindingSet2.addBinding("y", RDF.BAG);
-		bindingSet2.addBinding("x", RDF.ALT);
-		bindingSet2.addBinding("z", RDF.FIRST);
-
-		return new MapBindingSet[] { bindingSet1, bindingSet2 };
-	}
-
-}
