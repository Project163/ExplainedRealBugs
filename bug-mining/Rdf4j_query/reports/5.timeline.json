[{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments/240277627","html_url":"https://github.com/eclipse-rdf4j/rdf4j/issues/293#issuecomment-240277627","issue_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/293","id":240277627,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDI3NzYyNw==","user":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-17T00:10:39Z","updated_at":"2016-08-17T00:10:39Z","body":"Breaking down the stack trace gives the likely cause as being in EofSensorInputStream or ResponseEntityProxy because it allows multiple calls to close, which should be legitimate given the contract of java.io.Closeable.close that says that \"If the stream is already closed then invoking this method has no effect.\"\n\nFirst line is an NPE where the wrappedStream is accessed without a null-guard, although given it is an input parameter to the method, one could argue that the issue is with EofSensorInputStream for not checking before sending it up the chain.\n\n```\njava.lang.NullPointerException: null\n    at org.apache.http.impl.execchain.ResponseEntityProxy.streamClosed(ResponseEntityProxy.java:140)\n```\n\nThe next two calls, include methods that contain a finally to switch the wrappedStream to null (amongst other methods in the class, and the general contract, that sets it to null without synchronisation in any of the locations).\n\n```\n    at org.apache.http.conn.EofSensorInputStream.checkClose(EofSensorInputStream.java:228)\n    at org.apache.http.conn.EofSensorInputStream.close(EofSensorInputStream.java:174)\n```\n\nThere is an annotation on EofSensorInputStream that says \"@NotThreadSafe\", so it would be worthless to report a threading bug on such a class.\n\nHence, we need to do explicit synchronisation before every call down into Apache HTTPClient, given that they declare internally, and use broken null checking/setting patterns themselves.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments/240277627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-17T00:43:23Z","updated_at":"2016-08-17T00:43:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/294","repository_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/294/labels{/name}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/294/comments","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/294/events","html_url":"https://github.com/eclipse-rdf4j/rdf4j/pull/294","id":171550240,"node_id":"MDExOlB1bGxSZXF1ZXN0ODE1NjgzNTE=","number":294,"title":"Issue #293: Attempt to avoid nested NPE in BackgroundTupleResult","user":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2016-08-17T00:43:23Z","updated_at":"2016-09-27T01:00:12Z","closed_at":"2016-09-27T01:00:12Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":49670957,"node_id":"MDEwOlJlcG9zaXRvcnk0OTY3MDk1Nw==","name":"rdf4j","full_name":"eclipse-rdf4j/rdf4j","private":false,"owner":{"login":"eclipse-rdf4j","id":141718810,"node_id":"O_kgDOCHJ1Gg","avatar_url":"https://avatars.githubusercontent.com/u/141718810?v=4","gravatar_id":"","url":"https://api.github.com/users/eclipse-rdf4j","html_url":"https://github.com/eclipse-rdf4j","followers_url":"https://api.github.com/users/eclipse-rdf4j/followers","following_url":"https://api.github.com/users/eclipse-rdf4j/following{/other_user}","gists_url":"https://api.github.com/users/eclipse-rdf4j/gists{/gist_id}","starred_url":"https://api.github.com/users/eclipse-rdf4j/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eclipse-rdf4j/subscriptions","organizations_url":"https://api.github.com/users/eclipse-rdf4j/orgs","repos_url":"https://api.github.com/users/eclipse-rdf4j/repos","events_url":"https://api.github.com/users/eclipse-rdf4j/events{/privacy}","received_events_url":"https://api.github.com/users/eclipse-rdf4j/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eclipse-rdf4j/rdf4j","description":"Eclipse RDF4J: scalable RDF for Java","fork":false,"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","forks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/forks","keys_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/teams","hooks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/hooks","issue_events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events{/number}","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/events","assignees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/assignees{/user}","branches_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/branches{/branch}","tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/tags","blobs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/refs{/sha}","trees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/statuses/{sha}","languages_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/languages","stargazers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/stargazers","contributors_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contributors","subscribers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscribers","subscription_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscription","commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/commits{/sha}","git_commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/commits{/sha}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/comments{/number}","issue_comment_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments{/number}","contents_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contents/{+path}","compare_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/merges","archive_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/downloads","issues_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues{/number}","pulls_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/pulls{/number}","milestones_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones{/number}","notifications_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/labels{/name}","releases_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/releases{/id}","deployments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/deployments","created_at":"2016-01-14T19:47:32Z","updated_at":"2025-11-08T14:12:22Z","pushed_at":"2025-11-08T14:12:19Z","git_url":"git://github.com/eclipse-rdf4j/rdf4j.git","ssh_url":"git@github.com:eclipse-rdf4j/rdf4j.git","clone_url":"https://github.com/eclipse-rdf4j/rdf4j.git","svn_url":"https://github.com/eclipse-rdf4j/rdf4j","homepage":"https://rdf4j.org/","size":1284569,"stargazers_count":390,"watchers_count":390,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":175,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":365,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","java","linked-data","rdf","semantic-web","shacl","sparql"],"visibility":"public","forks":175,"open_issues":365,"watchers":390,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/pulls/294","html_url":"https://github.com/eclipse-rdf4j/rdf4j/pull/294","diff_url":"https://github.com/eclipse-rdf4j/rdf4j/pull/294.diff","patch_url":"https://github.com/eclipse-rdf4j/rdf4j/pull/294.patch","merged_at":"2016-09-27T01:00:12Z"},"body":"This PR addresses GitHub issue: #293 \n\nBriefly describe the changes proposed in this PR:\n- Avoid NPE from Apache HTTPClient InputStream's that occur very intermittently being propagated through the stack. Not clear why the input streams are being closed twice, but the core reason is that HTTPClient is not attempting to be threadsafe and is using a set-to-null pattern that will always be vulnerable to issues without threadsafety wrappers\n- Move almost all internal CloseableIteration implementations to subclasses of AbstractCloseableIteration to standardise the way closure occurs and attempt to prevent multiple calls to close getting anywhere near HTTPClient in future from our control\n- Standardise on the handleClose pattern using try-finally to ensure all resource closures occur properly\n- Add proactive calls to AbstractCloseableIteration.isClosed to exit earlier in cases where we have already called close on objects\n- Adds active closure just before hasNext is about to return false or next is about to throw NoSuchElementException. This has been rebutted with anecdotal arguments in the past, but unless a minimal test case fails due to the changes then I will still be pushing for active closure on exhaustion. The main reason for pushing for it is that the behaviour looks correct. Ie, after-close behaviour is that hasNext returns false and next throws NoSuchElementException the same as just before the close-on-exhaust occurs.\n\nMake sure you've followed the [Contributor Guidelines](https://github.com/eclipse/rdf4j/blob/master/.github/CONTRIBUTING.md). In particular (please tick to indicate you've taken care of it):\n- [x] RDF4J code formatting has been applied\n- [x] tests are included\n- [x] all tests succeed\n\nThe volatile closed variable requires double-checked locking to properly operate.\n\nIn particular, we are required by non-threadsafe Apache HTTPClient implementations to not call close multiple times in close succession.\n\nIe, they don't fully comply with the standard java.io.Closeable.close contract but try to release their obligation by declaring their implementations as \"NotThreadSafe\".\n\nThe underlying issue is possibly that the InputStream is having .close called on it directly from another location (thread/connection-pooling cleanup inside of HttpClient is the most likely place), but volatile variables require double-checked locking to operate safely, so there are no downsides to this change, even though I can't see how handleClose could be called twice given the use of AtomicBoolean.compareAndSet to isolate them, assuming there are no bugs with AtomicBoolean.compareAndSet...\n\nThe vast majority of classes with close methods have been audited and their implementations fixed so that all components of the close operations are attempted in a threadsafe manner as far as practical.\n\nSigned-off-by: Peter Ansell p_ansell@yahoo.com\n","reactions":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/294/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":772925608,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc3MjkyNTYwOA==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/772925608","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2df3b1ac2c0e43c86d8615b527268b36678a9f2a","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/2df3b1ac2c0e43c86d8615b527268b36678a9f2a","created_at":"2016-08-30T23:20:51Z","performed_via_github_app":null},{"id":774406321,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc3NDQwNjMyMQ==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/774406321","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8de4dd71c68f47f6eaddb7d2f5086dfa4387a599","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/8de4dd71c68f47f6eaddb7d2f5086dfa4387a599","created_at":"2016-08-31T23:07:32Z","performed_via_github_app":null},{"id":774406322,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc3NDQwNjMyMg==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/774406322","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"70b18fb54883ff6849b40a9d0d83b8f82edf8f7b","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/70b18fb54883ff6849b40a9d0d83b8f82edf8f7b","created_at":"2016-08-31T23:07:32Z","performed_via_github_app":null},{"id":775747568,"node_id":"MDEyOkxhYmVsZWRFdmVudDc3NTc0NzU2OA==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/775747568","actor":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-09-01T20:41:58Z","label":{"name":"in progress","color":"fbca04"},"performed_via_github_app":null},{"id":777777248,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc3Nzc3NzI0OA==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/777777248","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4e49be2b38072b5de97bece9254245f2b5cc3b6e","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/4e49be2b38072b5de97bece9254245f2b5cc3b6e","created_at":"2016-09-04T23:15:01Z","performed_via_github_app":null},{"id":780151368,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc4MDE1MTM2OA==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/780151368","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3831f88d748d2ff789b6c7e44574d8c8fdd1002f","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/3831f88d748d2ff789b6c7e44574d8c8fdd1002f","created_at":"2016-09-06T23:16:41Z","performed_via_github_app":null},{"id":780151741,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc4MDE1MTc0MQ==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/780151741","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"61e8672353c6da34e3ee43cee4f7476215d9fc09","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/61e8672353c6da34e3ee43cee4f7476215d9fc09","created_at":"2016-09-06T23:17:06Z","performed_via_github_app":null},{"id":781856602,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc4MTg1NjYwMg==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/781856602","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"68cbf1e3c30861c028b7d03b8fc57b3972211507","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/68cbf1e3c30861c028b7d03b8fc57b3972211507","created_at":"2016-09-08T04:14:05Z","performed_via_github_app":null},{"id":781856770,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc4MTg1Njc3MA==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/781856770","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c4d208c222332435bfe84846886c36a9baa84984","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/c4d208c222332435bfe84846886c36a9baa84984","created_at":"2016-09-08T04:14:24Z","performed_via_github_app":null},{"id":781967646,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc4MTk2NzY0Ng==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/781967646","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7fed7493888bedc199dcc36e3201abc68cbe4c90","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/7fed7493888bedc199dcc36e3201abc68cbe4c90","created_at":"2016-09-08T07:10:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments/246550188","html_url":"https://github.com/eclipse-rdf4j/rdf4j/issues/293#issuecomment-246550188","issue_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/293","id":246550188,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjU1MDE4OA==","user":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-13T01:53:48Z","updated_at":"2016-09-13T01:53:48Z","body":"I have opened an issue and sent a patch upstream for the core issue that triggered the audit here. If it doesn't miss deadlines, the fix may be present in httpclient-4.5.3:\n\nhttps://issues.apache.org/jira/browse/HTTPCLIENT-1767\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments/246550188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":790023289,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc5MDAyMzI4OQ==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/790023289","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"cedf7d68f3fa953a7618d5ce6c894a090054d80d","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/cedf7d68f3fa953a7618d5ce6c894a090054d80d","created_at":"2016-09-15T00:06:27Z","performed_via_github_app":null},{"id":790027314,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc5MDAyNzMxNA==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/790027314","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8959eacfcd2d7dcd7fcb5fe92bf363d2e9040d0b","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/8959eacfcd2d7dcd7fcb5fe92bf363d2e9040d0b","created_at":"2016-09-15T00:12:16Z","performed_via_github_app":null},{"id":790047556,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc5MDA0NzU1Ng==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/790047556","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e8aba52620bc73665a017930aea28809c5c72105","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/e8aba52620bc73665a017930aea28809c5c72105","created_at":"2016-09-15T00:40:20Z","performed_via_github_app":null},{"id":803103043,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDgwMzEwMzA0Mw==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/803103043","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2154a71401e99c4f51a6ab479d7e8d5c673c4dcb","commit_url":"https://api.github.com/repos/ansell/rdf4j/commits/2154a71401e99c4f51a6ab479d7e8d5c673c4dcb","created_at":"2016-09-27T00:05:36Z","performed_via_github_app":null},{"id":803115933,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDgwMzExNTkzMw==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/803115933","actor":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-09-27T00:24:10Z","milestone":{"title":"2.1"},"performed_via_github_app":null},{"id":803116005,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ4MDMxMTYwMDU=","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/803116005","actor":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2016-09-27T00:24:18Z","assignee":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":803138122,"node_id":"MDExOkNsb3NlZEV2ZW50ODAzMTM4MTIy","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/803138122","actor":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"2154a71401e99c4f51a6ab479d7e8d5c673c4dcb","commit_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/commits/2154a71401e99c4f51a6ab479d7e8d5c673c4dcb","created_at":"2016-09-27T01:00:12Z","state_reason":null,"performed_via_github_app":null},{"id":803138123,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDgwMzEzODEyMw==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/803138123","actor":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7dc561150e863a851bc129e66afa13e97aa9c1e9","commit_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/commits/7dc561150e863a851bc129e66afa13e97aa9c1e9","created_at":"2016-09-27T01:00:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments/249739847","html_url":"https://github.com/eclipse-rdf4j/rdf4j/issues/293#issuecomment-249739847","issue_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/293","id":249739847,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTczOTg0Nw==","user":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T01:00:48Z","updated_at":"2016-09-27T01:00:48Z","body":"Fixing this issue included an audit of the cases where the handleClose method implementations did not follow the basic assumption that each layered iteration would consistently (using try-finally) call the handleClose method from any super-classes during execution of its handleClose method.\n\nAs part of that audit, there were many cases in the RDF4J codebase where the handleClose and close methods were found not to be null-safe in cases where non-final variables were dereferenced after null-guards. As this was the cause of the underlying issue with the upstream Apache HttpClient library, it seemed reasonable to fix those issues by dereferencing variables consistently before null-guards, and adding null-guards before uses of both mutable variables and nullable final variables.\n\nThe audit also revealed many cases where CloseableIteration.close was not being consistently called, resulting in AbstractCloseableIteration.handleClose not being consistently called and a fully consistent try-finally pattern was added for those cases.\n\nIn verifying the changes above, and given that we have a Java-7 base version for code patterns (until we abandon the version 1 series), try-with-resources was also used to simplify resource closures where possible. There were also many cases where @Override annotations, that help signal compiler failures after incompatible changes, were not consistently used, which has been allowed for interfaces since Java-6 but has not been updated since creation. There were also some cases where a close method that is compatible with AutoCloseable was present, but the class did not implement AutoCloseable so IDEs and other tools would not automatically find resource closure issues relating to it. In these cases, the relevant classes were modified to implement either AutoCloseable or Closeable and @Override annotations were added to verify the close method signature is maintained in future.\n\nIn some cases try-with-resources was not able to be used because the iteration needed to persist beyond the current method. In those cases, a pattern was implemented that closed only when failures occurred, and ensured that in the failure cases all of the resources were released by calling each of their close methods in try-finally blocks within an overall finally block.\n\nThere were also some redundant close instance variables in AbstractCloseableIteration subclasses that have now been converted to all use a common method from AbtractCloseableIteration.\n\nIn order to consistently trigger the close process to prevent resource leaks, the close-on-exhaust pattern was also implemented for subclasses of AbstractCloseableIteration for hasNext and next when the iteration received enough information to signal that future calls were not going to be successful given the contract for the Iteration interface. \n\nAlthough there are some anecdotal arguments that close-on-exhaust may cause separate programming errors to be obscured, resource leaks are a more common occurrence in general and they should be consistently handled wherever possible. Major IDE's and code evaluation tools are able to signal resource closure issues for developers who wish to use them, as CloseableIteration now extends from java.util.AutoCloseable that was introduced in Java-7 and is required for the try-with-resources pattern. \n\nThe only known remaining case where an implementation of CloseableIteration does not actively and fully close its resources is the MutableTupleQueryResult class. Although it is not compatible in general with the CloseableIteration contract, it has a particular purpose that needed to be maintained. It relies on the JVM garbage collector to detect when all in-memory references to it have gone out of scope, and does not keep references to disk or network resources.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments/249739847/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":803138503,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODAzMTM4NTAz","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/803138503","actor":{"login":"override-xx","id":6036868,"node_id":"MDQ6VXNlcjYwMzY4Njg=","avatar_url":"https://avatars.githubusercontent.com/u/6036868?v=4","gravatar_id":"","url":"https://api.github.com/users/override-xx","html_url":"https://github.com/override-xx","followers_url":"https://api.github.com/users/override-xx/followers","following_url":"https://api.github.com/users/override-xx/following{/other_user}","gists_url":"https://api.github.com/users/override-xx/gists{/gist_id}","starred_url":"https://api.github.com/users/override-xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/override-xx/subscriptions","organizations_url":"https://api.github.com/users/override-xx/orgs","repos_url":"https://api.github.com/users/override-xx/repos","events_url":"https://api.github.com/users/override-xx/events{/privacy}","received_events_url":"https://api.github.com/users/override-xx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-09-27T01:00:48Z","performed_via_github_app":null},{"id":803138504,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgwMzEzODUwNA==","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/803138504","actor":{"login":"override-xx","id":6036868,"node_id":"MDQ6VXNlcjYwMzY4Njg=","avatar_url":"https://avatars.githubusercontent.com/u/6036868?v=4","gravatar_id":"","url":"https://api.github.com/users/override-xx","html_url":"https://github.com/override-xx","followers_url":"https://api.github.com/users/override-xx/followers","following_url":"https://api.github.com/users/override-xx/following{/other_user}","gists_url":"https://api.github.com/users/override-xx/gists{/gist_id}","starred_url":"https://api.github.com/users/override-xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/override-xx/subscriptions","organizations_url":"https://api.github.com/users/override-xx/orgs","repos_url":"https://api.github.com/users/override-xx/repos","events_url":"https://api.github.com/users/override-xx/events{/privacy}","received_events_url":"https://api.github.com/users/override-xx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-09-27T01:00:48Z","performed_via_github_app":null},{"id":803199279,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50ODAzMTk5Mjc5","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events/803199279","actor":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2016-09-27T02:48:01Z","label":{"name":"in progress","color":"fbca04"},"performed_via_github_app":null},{"actor":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-26T02:02:18Z","updated_at":"2016-10-26T02:02:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/630","repository_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/630/labels{/name}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/630/comments","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/630/events","html_url":"https://github.com/eclipse-rdf4j/rdf4j/issues/630","id":185278541,"node_id":"MDU6SXNzdWUxODUyNzg1NDE=","number":630,"title":"IllegalMonitorStateException in Transaction handling over HTTP","user":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":311477734,"node_id":"MDU6TGFiZWwzMTE0Nzc3MzQ=","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/labels/%F0%9F%90%9E%20bug","name":" bug","color":"ff0000","default":false,"description":"issue is a bug"}],"state":"closed","locked":false,"assignee":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones/12","html_url":"https://github.com/eclipse-rdf4j/rdf4j/milestone/12","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones/12/labels","id":2090725,"node_id":"MDk6TWlsZXN0b25lMjA5MDcyNQ==","number":12,"title":"2.1.1","description":"patch release","creator":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":5,"state":"closed","created_at":"2016-10-24T21:50:49Z","updated_at":"2016-10-31T03:23:10Z","due_on":"2016-10-31T07:00:00Z","closed_at":"2016-10-31T03:23:10Z"},"comments":7,"created_at":"2016-10-26T02:02:18Z","updated_at":"2016-10-31T01:10:38Z","closed_at":"2016-10-31T01:10:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":49670957,"node_id":"MDEwOlJlcG9zaXRvcnk0OTY3MDk1Nw==","name":"rdf4j","full_name":"eclipse-rdf4j/rdf4j","private":false,"owner":{"login":"eclipse-rdf4j","id":141718810,"node_id":"O_kgDOCHJ1Gg","avatar_url":"https://avatars.githubusercontent.com/u/141718810?v=4","gravatar_id":"","url":"https://api.github.com/users/eclipse-rdf4j","html_url":"https://github.com/eclipse-rdf4j","followers_url":"https://api.github.com/users/eclipse-rdf4j/followers","following_url":"https://api.github.com/users/eclipse-rdf4j/following{/other_user}","gists_url":"https://api.github.com/users/eclipse-rdf4j/gists{/gist_id}","starred_url":"https://api.github.com/users/eclipse-rdf4j/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eclipse-rdf4j/subscriptions","organizations_url":"https://api.github.com/users/eclipse-rdf4j/orgs","repos_url":"https://api.github.com/users/eclipse-rdf4j/repos","events_url":"https://api.github.com/users/eclipse-rdf4j/events{/privacy}","received_events_url":"https://api.github.com/users/eclipse-rdf4j/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eclipse-rdf4j/rdf4j","description":"Eclipse RDF4J: scalable RDF for Java","fork":false,"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","forks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/forks","keys_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/teams","hooks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/hooks","issue_events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events{/number}","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/events","assignees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/assignees{/user}","branches_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/branches{/branch}","tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/tags","blobs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/refs{/sha}","trees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/statuses/{sha}","languages_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/languages","stargazers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/stargazers","contributors_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contributors","subscribers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscribers","subscription_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscription","commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/commits{/sha}","git_commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/commits{/sha}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/comments{/number}","issue_comment_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments{/number}","contents_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contents/{+path}","compare_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/merges","archive_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/downloads","issues_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues{/number}","pulls_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/pulls{/number}","milestones_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones{/number}","notifications_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/labels{/name}","releases_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/releases{/id}","deployments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/deployments","created_at":"2016-01-14T19:47:32Z","updated_at":"2025-11-08T14:12:22Z","pushed_at":"2025-11-08T14:12:19Z","git_url":"git://github.com/eclipse-rdf4j/rdf4j.git","ssh_url":"git@github.com:eclipse-rdf4j/rdf4j.git","clone_url":"https://github.com/eclipse-rdf4j/rdf4j.git","svn_url":"https://github.com/eclipse-rdf4j/rdf4j","homepage":"https://rdf4j.org/","size":1284569,"stargazers_count":390,"watchers_count":390,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":175,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":365,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","java","linked-data","rdf","semantic-web","shacl","sparql"],"visibility":"public","forks":175,"open_issues":365,"watchers":390,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"During transactions executed over HTTP an exception can occur when commit is invoked.\n\nStacktrace:\n\n```\norg.eclipse.rdf4j.http.server.ServerHTTPException: Transaction handling error: null\n        at org.eclipse.rdf4j.http.server.repository.transaction.TransactionController.processModific\nationOperation(TransactionController.java:311)\n        at org.eclipse.rdf4j.http.server.repository.transaction.TransactionController.handleRequestI\nnternal(TransactionController.java:194)\n        at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.j\nava:147)\n        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControlle\nrHandlerAdapter.java:50)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970\n)\n        at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:651)\n\n....\n\nCaused by: java.lang.IllegalMonitorStateException: null\n        at java.util.concurrent.locks.ReentrantLock$Sync.tryRelease(ReentrantLock.java:151)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1261)\n        at java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:457)\n        at org.eclipse.rdf4j.sail.nativerdf.NativeSailStore$NativeSailSink.close(NativeSailStore.java:341)\n        at org.eclipse.rdf4j.sail.nativerdf.SailSourceModel.dataset(SailSourceModel.java:397)\n        at org.eclipse.rdf4j.sail.nativerdf.SailSourceModel.iterator(SailSourceModel.java:299)\n        at org.eclipse.rdf4j.sail.nativerdf.MemoryOverflowModel.iterator(MemoryOverflowModel.java:128)\n        at org.eclipse.rdf4j.sail.base.SailSourceBranch.flush(SailSourceBranch.java:536)\n        at org.eclipse.rdf4j.sail.base.SailSourceBranch.flush(SailSourceBranch.java:492)\n        at org.eclipse.rdf4j.sail.base.SailSourceBranch.flush(SailSourceBranch.java:275)\n        at org.eclipse.rdf4j.sail.base.SailSourceBranch.autoFlush(SailSourceBranch.java:359)\n        at org.eclipse.rdf4j.sail.base.SailSourceBranch$2.close(SailSourceBranch.java:221)\n        at org.eclipse.rdf4j.sail.base.SailSourceConnection.endUpdateInternal(SailSourceConnection.java:611)\n        at org.eclipse.rdf4j.sail.helpers.AbstractSailConnection.endUpdate(AbstractSailConnection.java:573)\n        at org.eclipse.rdf4j.sail.helpers.AbstractSailConnection.flush(AbstractSailConnection.java:374)\n        at org.eclipse.rdf4j.sail.helpers.SailConnectionWrapper.flush(SailConnectionWrapper.java:247)\n        at org.eclipse.rdf4j.repository.sail.SailRepositoryConnection.commit(SailRepositoryConnection.java:167)\n        at org.eclipse.rdf4j.http.server.repository.transaction.TransactionController.processModificationOperation(TransactionController.java:293)\n```\n\nThe problem is caused bythe fact that `NativeSailStore` keeps an internal `ReentrantLock`, and that (due to the way the `T ransactionController` is set up), this lock may try to be released by a different thread than the thread that originally locked it.\n\nThis bug was likely introduced by fixes for issue #293 and associated cleanup.\n","reactions":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/630/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"ansell","id":82365,"node_id":"MDQ6VXNlcjgyMzY1","avatar_url":"https://avatars.githubusercontent.com/u/82365?v=4","gravatar_id":"","url":"https://api.github.com/users/ansell","html_url":"https://github.com/ansell","followers_url":"https://api.github.com/users/ansell/followers","following_url":"https://api.github.com/users/ansell/following{/other_user}","gists_url":"https://api.github.com/users/ansell/gists{/gist_id}","starred_url":"https://api.github.com/users/ansell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansell/subscriptions","organizations_url":"https://api.github.com/users/ansell/orgs","repos_url":"https://api.github.com/users/ansell/repos","events_url":"https://api.github.com/users/ansell/events{/privacy}","received_events_url":"https://api.github.com/users/ansell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-26T22:06:44Z","updated_at":"2016-10-26T22:06:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/631","repository_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/631/labels{/name}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/631/comments","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/631/events","html_url":"https://github.com/eclipse-rdf4j/rdf4j/pull/631","id":185306810,"node_id":"MDExOlB1bGxSZXF1ZXN0OTA5NDI5MzE=","number":631,"title":"Issue #630 simplified concurrent locking code","user":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-10-26T06:21:40Z","updated_at":"2016-10-27T04:11:18Z","closed_at":"2016-10-27T04:11:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":49670957,"node_id":"MDEwOlJlcG9zaXRvcnk0OTY3MDk1Nw==","name":"rdf4j","full_name":"eclipse-rdf4j/rdf4j","private":false,"owner":{"login":"eclipse-rdf4j","id":141718810,"node_id":"O_kgDOCHJ1Gg","avatar_url":"https://avatars.githubusercontent.com/u/141718810?v=4","gravatar_id":"","url":"https://api.github.com/users/eclipse-rdf4j","html_url":"https://github.com/eclipse-rdf4j","followers_url":"https://api.github.com/users/eclipse-rdf4j/followers","following_url":"https://api.github.com/users/eclipse-rdf4j/following{/other_user}","gists_url":"https://api.github.com/users/eclipse-rdf4j/gists{/gist_id}","starred_url":"https://api.github.com/users/eclipse-rdf4j/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eclipse-rdf4j/subscriptions","organizations_url":"https://api.github.com/users/eclipse-rdf4j/orgs","repos_url":"https://api.github.com/users/eclipse-rdf4j/repos","events_url":"https://api.github.com/users/eclipse-rdf4j/events{/privacy}","received_events_url":"https://api.github.com/users/eclipse-rdf4j/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eclipse-rdf4j/rdf4j","description":"Eclipse RDF4J: scalable RDF for Java","fork":false,"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","forks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/forks","keys_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/teams","hooks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/hooks","issue_events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events{/number}","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/events","assignees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/assignees{/user}","branches_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/branches{/branch}","tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/tags","blobs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/refs{/sha}","trees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/statuses/{sha}","languages_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/languages","stargazers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/stargazers","contributors_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contributors","subscribers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscribers","subscription_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscription","commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/commits{/sha}","git_commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/commits{/sha}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/comments{/number}","issue_comment_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments{/number}","contents_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contents/{+path}","compare_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/merges","archive_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/downloads","issues_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues{/number}","pulls_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/pulls{/number}","milestones_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones{/number}","notifications_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/labels{/name}","releases_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/releases{/id}","deployments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/deployments","created_at":"2016-01-14T19:47:32Z","updated_at":"2025-11-08T14:12:22Z","pushed_at":"2025-11-08T14:12:19Z","git_url":"git://github.com/eclipse-rdf4j/rdf4j.git","ssh_url":"git@github.com:eclipse-rdf4j/rdf4j.git","clone_url":"https://github.com/eclipse-rdf4j/rdf4j.git","svn_url":"https://github.com/eclipse-rdf4j/rdf4j","homepage":"https://rdf4j.org/","size":1284569,"stargazers_count":390,"watchers_count":390,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":175,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":365,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","java","linked-data","rdf","semantic-web","shacl","sparql"],"visibility":"public","forks":175,"open_issues":365,"watchers":390,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/pulls/631","html_url":"https://github.com/eclipse-rdf4j/rdf4j/pull/631","diff_url":"https://github.com/eclipse-rdf4j/rdf4j/pull/631.diff","patch_url":"https://github.com/eclipse-rdf4j/rdf4j/pull/631.patch","merged_at":null},"body":"This PR addresses GitHub issue: #630 .\n\nBriefly describe the changes proposed in this PR:\n- simplified locking code in NativeSailStore and MemorySailStore: eliminated use of separate boolean value to track locking state \n\nThis is not yet ready for merging, as I need to run further tests to confirm that this is consistent and that it indeed addresses the observed issue in #630. Nevertheless, reviews welcome. \n","reactions":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/631/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"rune66","id":4689878,"node_id":"MDQ6VXNlcjQ2ODk4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4689878?v=4","gravatar_id":"","url":"https://api.github.com/users/rune66","html_url":"https://github.com/rune66","followers_url":"https://api.github.com/users/rune66/followers","following_url":"https://api.github.com/users/rune66/following{/other_user}","gists_url":"https://api.github.com/users/rune66/gists{/gist_id}","starred_url":"https://api.github.com/users/rune66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rune66/subscriptions","organizations_url":"https://api.github.com/users/rune66/orgs","repos_url":"https://api.github.com/users/rune66/repos","events_url":"https://api.github.com/users/rune66/events{/privacy}","received_events_url":"https://api.github.com/users/rune66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T13:21:22Z","updated_at":"2016-12-02T13:21:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/684","repository_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/684/labels{/name}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/684/comments","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/684/events","html_url":"https://github.com/eclipse-rdf4j/rdf4j/issues/684","id":193064767,"node_id":"MDU6SXNzdWUxOTMwNjQ3Njc=","number":684,"title":"Improved handling of thread closure in Background query results [RDF4J Server]","user":{"login":"rune66","id":4689878,"node_id":"MDQ6VXNlcjQ2ODk4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4689878?v=4","gravatar_id":"","url":"https://api.github.com/users/rune66","html_url":"https://github.com/rune66","followers_url":"https://api.github.com/users/rune66/followers","following_url":"https://api.github.com/users/rune66/following{/other_user}","gists_url":"https://api.github.com/users/rune66/gists{/gist_id}","starred_url":"https://api.github.com/users/rune66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rune66/subscriptions","organizations_url":"https://api.github.com/users/rune66/orgs","repos_url":"https://api.github.com/users/rune66/repos","events_url":"https://api.github.com/users/rune66/events{/privacy}","received_events_url":"https://api.github.com/users/rune66/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":311477736,"node_id":"MDU6TGFiZWwzMTE0Nzc3MzY=","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/labels/%F0%9F%93%B6%20enhancement","name":" enhancement","color":"84b6eb","default":false,"description":"issue is a new feature or improvement"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones/10","html_url":"https://github.com/eclipse-rdf4j/rdf4j/milestone/10","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones/10/labels","id":1979280,"node_id":"MDk6TWlsZXN0b25lMTk3OTI4MA==","number":10,"title":"2.2","description":"Next minor release. Feature cutoff date: Thu January 19","creator":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":16,"state":"closed","created_at":"2016-09-02T04:18:24Z","updated_at":"2017-05-11T15:03:44Z","due_on":"2017-02-02T08:00:00Z","closed_at":"2017-02-02T00:09:47Z"},"comments":14,"created_at":"2016-12-02T08:57:03Z","updated_at":"2017-02-20T09:43:52Z","closed_at":"2017-02-01T23:03:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":49670957,"node_id":"MDEwOlJlcG9zaXRvcnk0OTY3MDk1Nw==","name":"rdf4j","full_name":"eclipse-rdf4j/rdf4j","private":false,"owner":{"login":"eclipse-rdf4j","id":141718810,"node_id":"O_kgDOCHJ1Gg","avatar_url":"https://avatars.githubusercontent.com/u/141718810?v=4","gravatar_id":"","url":"https://api.github.com/users/eclipse-rdf4j","html_url":"https://github.com/eclipse-rdf4j","followers_url":"https://api.github.com/users/eclipse-rdf4j/followers","following_url":"https://api.github.com/users/eclipse-rdf4j/following{/other_user}","gists_url":"https://api.github.com/users/eclipse-rdf4j/gists{/gist_id}","starred_url":"https://api.github.com/users/eclipse-rdf4j/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eclipse-rdf4j/subscriptions","organizations_url":"https://api.github.com/users/eclipse-rdf4j/orgs","repos_url":"https://api.github.com/users/eclipse-rdf4j/repos","events_url":"https://api.github.com/users/eclipse-rdf4j/events{/privacy}","received_events_url":"https://api.github.com/users/eclipse-rdf4j/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eclipse-rdf4j/rdf4j","description":"Eclipse RDF4J: scalable RDF for Java","fork":false,"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","forks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/forks","keys_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/teams","hooks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/hooks","issue_events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events{/number}","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/events","assignees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/assignees{/user}","branches_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/branches{/branch}","tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/tags","blobs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/refs{/sha}","trees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/statuses/{sha}","languages_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/languages","stargazers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/stargazers","contributors_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contributors","subscribers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscribers","subscription_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscription","commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/commits{/sha}","git_commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/commits{/sha}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/comments{/number}","issue_comment_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments{/number}","contents_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contents/{+path}","compare_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/merges","archive_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/downloads","issues_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues{/number}","pulls_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/pulls{/number}","milestones_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones{/number}","notifications_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/labels{/name}","releases_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/releases{/id}","deployments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/deployments","created_at":"2016-01-14T19:47:32Z","updated_at":"2025-11-08T14:12:22Z","pushed_at":"2025-11-08T14:12:19Z","git_url":"git://github.com/eclipse-rdf4j/rdf4j.git","ssh_url":"git@github.com:eclipse-rdf4j/rdf4j.git","clone_url":"https://github.com/eclipse-rdf4j/rdf4j.git","svn_url":"https://github.com/eclipse-rdf4j/rdf4j","homepage":"https://rdf4j.org/","size":1284569,"stargazers_count":390,"watchers_count":390,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":175,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":365,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","java","linked-data","rdf","semantic-web","shacl","sparql"],"visibility":"public","forks":175,"open_issues":365,"watchers":390,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm running rdf4j in a Tomcat 8.5 container. From another web app I use the rdf4j-api to access the repositories hosted in rdf4j. I don't know weather it's a problem or not, but when stopping the web app I get a ton of \"failed to stop it\"-exceptions that seems to originate from rdf4j.\r\n\r\nIs this recognizable to anyone, and how to avoid it?\r\n\r\nWARNING: The web application [REST] appears to have started a thread named [pool-28-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n sun.misc.Unsafe.park(Native Method)\r\n java.util.concurrent.locks.LockSupport.park(Unknown Source)\r\n java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(Unknown Source)\r\n java.util.concurrent.ArrayBlockingQueue.put(Unknown Source)\r\n org.eclipse.rdf4j.http.client.QueueCursor.put(QueueCursor.java:80)\r\n org.eclipse.rdf4j.http.client.BackgroundTupleResult.handleSolution(BackgroundTupleResult.java:139)\r\n org.eclipse.rdf4j.query.resultio.sparqlxml.SPARQLResultsSAXParser.endTag(SPARQLResultsSAXParser.java:187)\r\n org.eclipse.rdf4j.common.xml.SimpleSAXParser$SimpleSAXDefaultHandler.endElement(SimpleSAXParser.java:337)\r\n com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown Source)\r\n com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)\r\n com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\r\n com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\r\n com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\r\n com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\r\n com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\r\n com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n org.eclipse.rdf4j.common.xml.SimpleSAXParser.parse(SimpleSAXParser.java:221)\r\n org.eclipse.rdf4j.common.xml.SimpleSAXParser.parse(SimpleSAXParser.java:196)\r\n org.eclipse.rdf4j.query.resultio.sparqlxml.AbstractSPARQLXMLParser.parseQueryResultInternal(AbstractSPARQLXMLParser.java:211)\r\n org.eclipse.rdf4j.query.resultio.sparqlxml.SPARQLResultsXMLParser.parseQueryResult(SPARQLResultsXMLParser.java:74)\r\n org.eclipse.rdf4j.http.client.BackgroundTupleResult.run(BackgroundTupleResult.java:109)\r\n java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n java.lang.Thread.run(Unknown Source)","reactions":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/684/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T09:37:33Z","updated_at":"2019-06-11T09:37:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/96","repository_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/96/labels{/name}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/96/comments","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/96/events","html_url":"https://github.com/eclipse-rdf4j/rdf4j/issues/96","id":154175452,"node_id":"MDU6SXNzdWUxNTQxNzU0NTI=","number":96,"title":"Make Iteration classes extends java.util.Iterator / java.lang.Iterable","user":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":311477736,"node_id":"MDU6TGFiZWwzMTE0Nzc3MzY=","url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/labels/%F0%9F%93%B6%20enhancement","name":" enhancement","color":"84b6eb","default":false,"description":"issue is a new feature or improvement"}],"state":"closed","locked":false,"assignee":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones/39","html_url":"https://github.com/eclipse-rdf4j/rdf4j/milestone/39","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones/39/labels","id":4526864,"node_id":"MDk6TWlsZXN0b25lNDUyNjg2NA==","number":39,"title":"3.1.0","description":"New minor release","creator":{"login":"abrokenjester","id":728776,"node_id":"MDQ6VXNlcjcyODc3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/728776?v=4","gravatar_id":"","url":"https://api.github.com/users/abrokenjester","html_url":"https://github.com/abrokenjester","followers_url":"https://api.github.com/users/abrokenjester/followers","following_url":"https://api.github.com/users/abrokenjester/following{/other_user}","gists_url":"https://api.github.com/users/abrokenjester/gists{/gist_id}","starred_url":"https://api.github.com/users/abrokenjester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrokenjester/subscriptions","organizations_url":"https://api.github.com/users/abrokenjester/orgs","repos_url":"https://api.github.com/users/abrokenjester/repos","events_url":"https://api.github.com/users/abrokenjester/events{/privacy}","received_events_url":"https://api.github.com/users/abrokenjester/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":65,"state":"closed","created_at":"2019-07-28T03:55:27Z","updated_at":"2020-02-27T22:55:00Z","due_on":"2020-02-06T08:00:00Z","closed_at":"2020-02-06T21:33:31Z"},"comments":30,"created_at":"2016-05-11T07:15:13Z","updated_at":"2020-02-27T22:55:00Z","closed_at":"2020-02-10T23:46:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":49670957,"node_id":"MDEwOlJlcG9zaXRvcnk0OTY3MDk1Nw==","name":"rdf4j","full_name":"eclipse-rdf4j/rdf4j","private":false,"owner":{"login":"eclipse-rdf4j","id":141718810,"node_id":"O_kgDOCHJ1Gg","avatar_url":"https://avatars.githubusercontent.com/u/141718810?v=4","gravatar_id":"","url":"https://api.github.com/users/eclipse-rdf4j","html_url":"https://github.com/eclipse-rdf4j","followers_url":"https://api.github.com/users/eclipse-rdf4j/followers","following_url":"https://api.github.com/users/eclipse-rdf4j/following{/other_user}","gists_url":"https://api.github.com/users/eclipse-rdf4j/gists{/gist_id}","starred_url":"https://api.github.com/users/eclipse-rdf4j/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eclipse-rdf4j/subscriptions","organizations_url":"https://api.github.com/users/eclipse-rdf4j/orgs","repos_url":"https://api.github.com/users/eclipse-rdf4j/repos","events_url":"https://api.github.com/users/eclipse-rdf4j/events{/privacy}","received_events_url":"https://api.github.com/users/eclipse-rdf4j/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eclipse-rdf4j/rdf4j","description":"Eclipse RDF4J: scalable RDF for Java","fork":false,"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j","forks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/forks","keys_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/teams","hooks_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/hooks","issue_events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/events{/number}","events_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/events","assignees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/assignees{/user}","branches_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/branches{/branch}","tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/tags","blobs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/refs{/sha}","trees_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/statuses/{sha}","languages_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/languages","stargazers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/stargazers","contributors_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contributors","subscribers_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscribers","subscription_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/subscription","commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/commits{/sha}","git_commits_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/git/commits{/sha}","comments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/comments{/number}","issue_comment_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/comments{/number}","contents_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/contents/{+path}","compare_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/merges","archive_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/downloads","issues_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues{/number}","pulls_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/pulls{/number}","milestones_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/milestones{/number}","notifications_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/labels{/name}","releases_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/releases{/id}","deployments_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/deployments","created_at":"2016-01-14T19:47:32Z","updated_at":"2025-11-08T14:12:22Z","pushed_at":"2025-11-08T14:12:19Z","git_url":"git://github.com/eclipse-rdf4j/rdf4j.git","ssh_url":"git@github.com:eclipse-rdf4j/rdf4j.git","clone_url":"https://github.com/eclipse-rdf4j/rdf4j.git","svn_url":"https://github.com/eclipse-rdf4j/rdf4j","homepage":"https://rdf4j.org/","size":1284569,"stargazers_count":390,"watchers_count":390,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":175,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":365,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","java","linked-data","rdf","semantic-web","shacl","sparql"],"visibility":"public","forks":175,"open_issues":365,"watchers":390,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"(Migrated from https://openrdf.atlassian.net/browse/SES-2353 )\n\nThe original motivation for the \"Iterator-like\" Iteration interfaces in RDF4J was that we needed something that could throw checked exceptions while iterating. \n\nSince RDF4J has now switched to using runtime exceptions for almost all cases, it would be possible to switch to using proper iterators, or alternatively let interfaces like QueryResult extend java.lang.Iterable.\n","reactions":{"url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/96/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eclipse-rdf4j/rdf4j/issues/96/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]