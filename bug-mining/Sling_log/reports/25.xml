<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:37:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SLING-3341] [logback] Race condition in configuring Logback</title>
                <link>https://issues.apache.org/jira/browse/SLING-3341</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Current way to configure Logback works like as below&lt;/p&gt;

&lt;p&gt;1. Any change in config finally leads a call to org.apache.sling.commons.log.logback.internal.LogbackManager#configChanged&lt;/p&gt;

&lt;p&gt;2. The config change is not done in concurrent way. A thread must acquire the &lt;tt&gt;resetLock&lt;/tt&gt; to trigger  Logback reset. If this lock cannot be acquired then it just sets a flag &lt;tt&gt;configChanged&lt;/tt&gt; to true. The Logback reset job upon completion checks &lt;tt&gt;configChanged&lt;/tt&gt; . if found to be true then it reschedules the job to load Logback again&lt;/p&gt;

&lt;p&gt;In current impl there is a small race condition where its possible that Logback reset job does not see the &lt;tt&gt;configChanged&lt;/tt&gt; flag and hence Logback does not get reinitialized and is configured with stale config&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691368">SLING-3341</key>
            <summary>[logback] Race condition in configuring Logback</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 13:00:20 +0000</created>
                <updated>Mon, 3 Feb 2014 08:35:26 +0000</updated>
                            <resolved>Mon, 3 Feb 2014 08:35:26 +0000</resolved>
                                    <version>Commons Log 4.0.0</version>
                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13882801" author="chetanm" created="Mon, 27 Jan 2014 13:24:58 +0000"  >&lt;p&gt;Refactored the logic in &lt;a href=&quot;http://svn.apache.org/r1561666&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1561666&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13883913" author="chetanm" created="Tue, 28 Jan 2014 08:46:00 +0000"  >&lt;p&gt;Fixed another race condition in &lt;a href=&quot;http://svn.apache.org/r1562003&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1562003&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In this case there was a race condition when logbackManager is initialized. It can happen that OSGi config events are received while the started flag is set to false and config has been invoked&lt;/p&gt;</comment>
                            <comment id="13889315" author="chetanm" created="Mon, 3 Feb 2014 08:35:26 +0000"  >&lt;p&gt;issue has not surfaced/reported again post this fix. Current fixes looks sufficient. Closing it for now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370113</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rsg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>