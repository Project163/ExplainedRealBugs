diff --git a/hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java b/hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java
index cb111d29cd..0bc8a1400f 100644
--- a/hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java
+++ b/hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java
@@ -62,6 +62,11 @@ public class HBaseConfiguration extends Configuration {
    * HBASE-24667: This config hbase.regionserver.hostname.disable.master.reversedns will be
    * replaced by hbase.unsafe.regionserver.hostname.disable.master.reversedns. Keep the old config
    * keys here for backward compatibility.
+   * <br>
+   * Note: Before Hadoop-3.3, we must call the addDeprecations method before creating the
+   * Configuration object to work correctly. After this bug is fixed in hadoop-3.3, there will be
+   * no order problem.
+   * @see <a href="https://issues.apache.org/jira/browse/HADOOP-15708">HADOOP-15708</a>
    */
   private static void addDeprecatedKeys() {
     Configuration.addDeprecations(new DeprecationDelta[]{
diff --git a/hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java b/hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java
index 3b98c50a4f..3f0f3462e0 100644
--- a/hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java
+++ b/hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java
@@ -137,17 +137,13 @@ public class TestHBaseConfiguration {
   public void testDeprecatedConfigurations() {
     // Configuration.addDeprecations before create Configuration object
     Configuration.addDeprecations(new Configuration.DeprecationDelta[]{
-      new Configuration.DeprecationDelta("hbase.deprecated.conf", "hbase.new.conf")
+      new Configuration.DeprecationDelta("hbase.deprecated.conf", "hbase.new.conf"),
+      new Configuration.DeprecationDelta("hbase.deprecated.conf2", "hbase.new.conf2")
     });
     Configuration conf = HBaseConfiguration.create();
     conf.addResource("hbase-deprecated-conf.xml");
     assertEquals("1000", conf.get("hbase.new.conf"));
-
-    // Configuration.addDeprecations after create Configuration object
-    Configuration.addDeprecations(new Configuration.DeprecationDelta[]{
-      new Configuration.DeprecationDelta("hbase.deprecated.conf2", "hbase.new.conf2")
-    });
-    assertNull(conf.get("hbase.new.conf2"));
+    assertEquals("1000", conf.get("hbase.new.conf2"));
   }
 
   private static class ReflectiveCredentialProviderClient {
