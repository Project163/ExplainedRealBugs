diff --git a/hbase-common/pom.xml b/hbase-common/pom.xml
index e000265658..fe1562239a 100644
--- a/hbase-common/pom.xml
+++ b/hbase-common/pom.xml
@@ -84,7 +84,7 @@
                         <target>
                             <property name="generated.sources" location="${project.build.directory}/generated-sources"/>
 
-                            <exec executable="sh">
+                            <exec executable="bash">
                                 <arg line="${basedir}/src/saveVersion.sh ${project.version} ${generated.sources}/java"/>
                             </exec>
                         </target>
diff --git a/hbase-common/src/saveVersion.sh b/hbase-common/src/saveVersion.sh
index 45d6ce34ac..30c368271c 100644
--- a/hbase-common/src/saveVersion.sh
+++ b/hbase-common/src/saveVersion.sh
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/usr/bin/env bash
 
 # This file is used to generate the annotation of package info that
 # records the user, url, revision and timestamp.
@@ -20,10 +20,11 @@
 
 unset LANG
 unset LC_CTYPE
+
 version=$1
 outputDirectory=$2
 
-pushd
+pushd .
 cd ..
 
 user=`whoami`
