diff --git a/hbase-common/src/main/java/org/apache/hadoop/hbase/util/CoprocessorClassLoader.java b/hbase-common/src/main/java/org/apache/hadoop/hbase/util/CoprocessorClassLoader.java
index 78ecc7e2cf..11016c367d 100644
--- a/hbase-common/src/main/java/org/apache/hadoop/hbase/util/CoprocessorClassLoader.java
+++ b/hbase-common/src/main/java/org/apache/hadoop/hbase/util/CoprocessorClassLoader.java
@@ -177,8 +177,10 @@ public class CoprocessorClassLoader extends ClassLoaderBase {
         if (m.matches()) {
           File file = new File(parentDirStr, "." + pathPrefix + "."
             + path.getName() + "." + System.currentTimeMillis() + "." + m.group(1));
-          IOUtils.copyBytes(jarFile.getInputStream(entry),
-            new FileOutputStream(file), conf, true);
+          try (FileOutputStream outStream = new FileOutputStream(file)) {
+            IOUtils.copyBytes(jarFile.getInputStream(entry),
+              outStream, conf, true);
+          }
           file.deleteOnExit();
           addURL(file.toURI().toURL());
         }
