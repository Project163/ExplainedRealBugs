diff --git a/websockets/websockets.go b/websockets/websockets.go
index af24426b6..359f70c28 100644
--- a/websockets/websockets.go
+++ b/websockets/websockets.go
@@ -187,8 +187,8 @@ func defineWebsocket(rt *sobek.Runtime, w *webSocket) {
 	must(rt, w.obj.DefineDataProperty(
 		"url", rt.ToValue(w.url.String()), sobek.FLAG_FALSE, sobek.FLAG_FALSE, sobek.FLAG_TRUE))
 	must(rt, w.obj.DefineAccessorProperty( // this needs to be with an accessor as we change the value
-		"readyState", rt.ToValue(func() ReadyState {
-			return w.readyState
+		"readyState", rt.ToValue(func() sobek.Value {
+			return rt.ToValue((uint)(w.readyState))
 		}), nil, sobek.FLAG_FALSE, sobek.FLAG_TRUE))
 	must(rt, w.obj.DefineAccessorProperty(
 		"bufferedAmount", rt.ToValue(func() sobek.Value { return rt.ToValue(w.bufferedAmount) }), nil,
diff --git a/websockets/websockets_test.go b/websockets/websockets_test.go
index 9b653dc50..bac0e8dc2 100644
--- a/websockets/websockets_test.go
+++ b/websockets/websockets_test.go
@@ -1527,3 +1527,26 @@ func testArrayBufferViewSupport(t *testing.T, viewName string) {
 	logs := hook.Drain()
 	require.Len(t, logs, 0)
 }
+
+func TestReadyStateSwitch(t *testing.T) {
+	t.Parallel()
+	ts := newTestState(t)
+	logger, hook := testutils.NewLoggerWithHook(t, logrus.WarnLevel)
+	ts.runtime.VU.StateField.Logger = logger
+	_, err := ts.runtime.RunOnEventLoop(ts.tb.Replacer.Replace(`
+		var ws = new WebSocket("WSBIN_URL/ws-echo")
+		try {
+			switch (ws.readyState) {
+				case 0:
+					break;
+				default:
+					throw "ws.readyState doesn't get correct value in switch"
+			}
+		} finally {
+			ws.close()
+		}
+	`))
+	require.NoError(t, err)
+	logs := hook.Drain()
+	require.Len(t, logs, 0)
+}
