diff --git a/Gopkg.lock b/Gopkg.lock
index e90fa5a83..e366fd19a 100644
--- a/Gopkg.lock
+++ b/Gopkg.lock
@@ -97,7 +97,7 @@
 
 [[projects]]
   branch = "master"
-  digest = "1:dd49b520ab3ef9766f486a5771c1aef117e77b4d09bd8e2690df02cfc8e607b9"
+  digest = "1:263512bb603cd6b834354bbafaa32fd03b3efed71ddfcd1997c2e4a1655434e4"
   name = "github.com/dop251/goja"
   packages = [
     ".",
@@ -107,7 +107,7 @@
     "token",
   ]
   pruneopts = "NUT"
-  revision = "bfd59704b500581bf75771f79cc2579741cf3d2c"
+  revision = "1f8a2ffe986ff105e41a12cc8b82857c3e1c2d44"
 
 [[projects]]
   branch = "master"
diff --git a/release notes/v0.27.0.md b/release notes/v0.27.0.md
index 1a13636fd..1d5f5fe80 100644
--- a/release notes/v0.27.0.md	
+++ b/release notes/v0.27.0.md	
@@ -125,7 +125,7 @@ We've also introduced new `--execution-segment` and `--execution-segment-sequenc
 - CLI: k6 doesn't exit when using `iterations` with `stages` ([#812](https://github.com/loadimpact/k6/issues/812)).
 - CLI: Mismatch in check counts in the end-of-test summary ([#1033](https://github.com/loadimpact/k6/issues/1033)).
 - Config: Better validation of `stages` ([#875](https://github.com/loadimpact/k6/issues/875)).
-- JS: Rare panics in goja ([#867](https://github.com/loadimpact/k6/issues/867)).
+- JS: Rare panics in goja ([#867](https://github.com/loadimpact/k6/issues/867),[#1552](https://github.com/loadimpact/k6/issues/1552)).
 - HTTP: Fix request timeout and wrong context used for pushing metrics ([#1260](https://github.com/loadimpact/k6/issues/1260)).
 - Execution: Fix sometimes skipping iterations with a `context cancelled` error when rapidly ramping up and down ([#1283](https://github.com/loadimpact/k6/issues/1283)).
 - WebSockets: Fix possible connection hanging when the main context is cancelled ([#1260](https://github.com/loadimpact/k6/issues/1542)).
diff --git a/vendor/github.com/dop251/goja/builtin_json.go b/vendor/github.com/dop251/goja/builtin_json.go
index bfa93811b..a17e37669 100644
--- a/vendor/github.com/dop251/goja/builtin_json.go
+++ b/vendor/github.com/dop251/goja/builtin_json.go
@@ -153,7 +153,7 @@ func (r *Runtime) builtinJSON_reviveWalk(reviver func(FunctionCall) Value, holde
 		value = _undefined
 	}
 
-	if object := value.(*Object); object != nil {
+	if object, ok := value.(*Object); ok {
 		if isArray(object) {
 			length := object.self.getStr("length").ToInteger()
 			for index := int64(0); index < length; index++ {
@@ -167,7 +167,7 @@ func (r *Runtime) builtinJSON_reviveWalk(reviver func(FunctionCall) Value, holde
 			}
 		} else {
 			for item, f := object.self.enumerate(false, false)(); f != nil; item, f = f() {
-				value := r.builtinJSON_reviveWalk(reviver, object, name)
+				value := r.builtinJSON_reviveWalk(reviver, object, newStringValue(item.name))
 				if value == _undefined {
 					object.self.deleteStr(item.name, false)
 				} else {
