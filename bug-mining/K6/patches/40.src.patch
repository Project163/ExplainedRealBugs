diff --git a/js/modules/k6/http/http.go b/js/modules/k6/http/http.go
index 31acbb236..50d20adca 100644
--- a/js/modules/k6/http/http.go
+++ b/js/modules/k6/http/http.go
@@ -191,7 +191,6 @@ func (*HTTP) Request(ctx context.Context, method, url string, args ...goja.Value
 		Timings: HTTPResponseTimings{
 			Duration:   stats.D(trail.Duration),
 			Blocked:    stats.D(trail.Blocked),
-			LookingUp:  stats.D(trail.LookingUp),
 			Connecting: stats.D(trail.Connecting),
 			Sending:    stats.D(trail.Sending),
 			Waiting:    stats.D(trail.Waiting),
diff --git a/js/runner.go b/js/runner.go
index 0be2ef0d3..35d8539ee 100644
--- a/js/runner.go
+++ b/js/runner.go
@@ -37,6 +37,8 @@ import (
 type Runner struct {
 	Bundle       *Bundle
 	defaultGroup *lib.Group
+
+	Dialer *netext.Dialer
 }
 
 func New(src *lib.SourceData, fs afero.Fs) (*Runner, error) {
@@ -53,6 +55,11 @@ func New(src *lib.SourceData, fs afero.Fs) (*Runner, error) {
 	return &Runner{
 		Bundle:       bundle,
 		defaultGroup: defaultGroup,
+		Dialer: netext.NewDialer(net.Dialer{
+			Timeout:   30 * time.Second,
+			KeepAlive: 30 * time.Second,
+			DualStack: true,
+		}),
 	}, nil
 }
 
@@ -75,16 +82,8 @@ func (r *Runner) newVU() (*VU, error) {
 	vu := &VU{
 		BundleInstance: *bi,
 		Runner:         r,
-		HTTPTransport: &http.Transport{
-			DialContext: (netext.Dialer{
-				Dialer: net.Dialer{
-					Timeout:   30 * time.Second,
-					KeepAlive: 30 * time.Second,
-					DualStack: true,
-				},
-			}).DialContext,
-		},
-		VUContext: NewVUContext(),
+		HTTPTransport:  &http.Transport{DialContext: r.Dialer.DialContext},
+		VUContext:      NewVUContext(),
 	}
 	common.BindToGlobal(vu.Runtime, common.Bind(vu.Runtime, vu.VUContext, vu.Context))
 
diff --git a/lib/metrics/metrics.go b/lib/metrics/metrics.go
index 5e385ffb8..def6f38fc 100644
--- a/lib/metrics/metrics.go
+++ b/lib/metrics/metrics.go
@@ -18,7 +18,6 @@ var (
 	HTTPReqs          = stats.New("http_reqs", stats.Counter)
 	HTTPReqDuration   = stats.New("http_req_duration", stats.Trend, stats.Time)
 	HTTPReqBlocked    = stats.New("http_req_blocked", stats.Trend, stats.Time)
-	HTTPReqLookingUp  = stats.New("http_req_looking_up", stats.Trend, stats.Time)
 	HTTPReqConnecting = stats.New("http_req_connecting", stats.Trend, stats.Time)
 	HTTPReqSending    = stats.New("http_req_sending", stats.Trend, stats.Time)
 	HTTPReqWaiting    = stats.New("http_req_waiting", stats.Trend, stats.Time)
diff --git a/lib/netext/dialer.go b/lib/netext/dialer.go
index 442b35278..30f893a94 100644
--- a/lib/netext/dialer.go
+++ b/lib/netext/dialer.go
@@ -24,14 +24,33 @@ import (
 	"context"
 	"net"
 	"sync/atomic"
+
+	"github.com/viki-org/dnscache"
 )
 
 type Dialer struct {
 	net.Dialer
+
+	Resolver *dnscache.Resolver
+}
+
+func NewDialer(dialer net.Dialer) *Dialer {
+	return &Dialer{
+		Dialer:   dialer,
+		Resolver: dnscache.New(0),
+	}
 }
 
 func (d Dialer) DialContext(ctx context.Context, proto, addr string) (net.Conn, error) {
-	conn, err := d.Dialer.DialContext(ctx, proto, addr)
+	host, port, err := net.SplitHostPort(addr)
+	if err != nil {
+		return nil, err
+	}
+	ip, err := d.Resolver.FetchOne(host)
+	if err != nil {
+		return nil, err
+	}
+	conn, err := d.Dialer.DialContext(ctx, proto, ip.String()+":"+port)
 	if err != nil {
 		return nil, err
 	}
diff --git a/lib/netext/tracer.go b/lib/netext/tracer.go
index ee4b8efd3..b21811fe3 100644
--- a/lib/netext/tracer.go
+++ b/lib/netext/tracer.go
@@ -39,7 +39,6 @@ type Trail struct {
 	Duration time.Duration
 
 	Blocked    time.Duration // Waiting to acquire a connection.
-	LookingUp  time.Duration // Looking up DNS records.
 	Connecting time.Duration // Connecting to remote host.
 	Sending    time.Duration // Writing request.
 	Waiting    time.Duration // Waiting for first byte.
@@ -58,7 +57,6 @@ func (tr Trail) Samples(tags map[string]string) []stats.Sample {
 		{Metric: metrics.HTTPReqs, Time: tr.EndTime, Tags: tags, Value: 1},
 		{Metric: metrics.HTTPReqDuration, Time: tr.EndTime, Tags: tags, Value: stats.D(tr.Duration)},
 		{Metric: metrics.HTTPReqBlocked, Time: tr.EndTime, Tags: tags, Value: stats.D(tr.Blocked)},
-		{Metric: metrics.HTTPReqLookingUp, Time: tr.EndTime, Tags: tags, Value: stats.D(tr.LookingUp)},
 		{Metric: metrics.HTTPReqConnecting, Time: tr.EndTime, Tags: tags, Value: stats.D(tr.Connecting)},
 		{Metric: metrics.HTTPReqSending, Time: tr.EndTime, Tags: tags, Value: stats.D(tr.Sending)},
 		{Metric: metrics.HTTPReqWaiting, Time: tr.EndTime, Tags: tags, Value: stats.D(tr.Waiting)},
@@ -77,8 +75,6 @@ type Tracer struct {
 	getConn              time.Time
 	gotConn              time.Time
 	gotFirstResponseByte time.Time
-	dnsStart             time.Time
-	dnsDone              time.Time
 	connectStart         time.Time
 	connectDone          time.Time
 	wroteRequest         time.Time
@@ -97,8 +93,6 @@ func (t *Tracer) Trace() *httptrace.ClientTrace {
 		GetConn:              t.GetConn,
 		GotConn:              t.GotConn,
 		GotFirstResponseByte: t.GotFirstResponseByte,
-		DNSStart:             t.DNSStart,
-		DNSDone:              t.DNSDone,
 		ConnectStart:         t.ConnectStart,
 		ConnectDone:          t.ConnectDone,
 		WroteRequest:         t.WroteRequest,
@@ -121,7 +115,6 @@ func (t *Tracer) Done() Trail {
 
 	trail := Trail{
 		Blocked:    t.gotConn.Sub(t.getConn),
-		LookingUp:  t.dnsDone.Sub(t.dnsStart),
 		Connecting: t.connectDone.Sub(t.connectStart),
 		Sending:    t.wroteRequest.Sub(t.connectDone),
 		Waiting:    t.gotFirstResponseByte.Sub(t.wroteRequest),
@@ -137,7 +130,6 @@ func (t *Tracer) Done() Trail {
 	// If the connection was reused, it never blocked.
 	if t.connReused {
 		trail.Blocked = 0
-		trail.LookingUp = 0
 		trail.Connecting = 0
 	}
 
@@ -155,7 +147,7 @@ func (t *Tracer) Done() Trail {
 
 	// Calculate total times using adjusted values.
 	trail.EndTime = done
-	trail.Duration = trail.Blocked + trail.LookingUp + trail.Connecting + trail.Sending + trail.Waiting + trail.Receiving
+	trail.Duration = trail.Sending + trail.Waiting + trail.Receiving
 	trail.StartTime = trail.EndTime.Add(-trail.Duration)
 
 	*t = Tracer{}
@@ -190,23 +182,6 @@ func (t *Tracer) GotFirstResponseByte() {
 	t.gotFirstResponseByte = time.Now()
 }
 
-// DNSStart hook.
-func (t *Tracer) DNSStart(info httptrace.DNSStartInfo) {
-	t.dnsStart = time.Now()
-	t.dnsDone = t.dnsStart
-}
-
-// DNSDone hook.
-func (t *Tracer) DNSDone(info httptrace.DNSDoneInfo) {
-	t.dnsDone = time.Now()
-	if t.dnsStart.IsZero() {
-		t.dnsStart = t.dnsDone
-	}
-	if info.Err != nil {
-		t.protoError = info.Err
-	}
-}
-
 // ConnectStart hook.
 func (t *Tracer) ConnectStart(network, addr string) {
 	// If using dual-stack dialing, it's possible to get this multiple times.
diff --git a/simple/runner.go b/simple/runner.go
index d597b82a4..52fefc485 100644
--- a/simple/runner.go
+++ b/simple/runner.go
@@ -50,11 +50,11 @@ func New(u *url.URL) (*Runner, error) {
 		URL: u,
 		Transport: &http.Transport{
 			Proxy: http.ProxyFromEnvironment,
-			DialContext: (netext.Dialer{Dialer: net.Dialer{
+			DialContext: netext.NewDialer(net.Dialer{
 				Timeout:   10 * time.Second,
 				KeepAlive: 60 * time.Second,
 				DualStack: true,
-			}}).DialContext,
+			}).DialContext,
 			TLSClientConfig:     &tls.Config{},
 			MaxIdleConns:        math.MaxInt32,
 			MaxIdleConnsPerHost: math.MaxInt32,
