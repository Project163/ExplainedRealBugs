diff --git a/internal/cmd/launcher.go b/internal/cmd/launcher.go
index 975a8cc29..74da02d4b 100644
--- a/internal/cmd/launcher.go
+++ b/internal/cmd/launcher.go
@@ -333,8 +333,21 @@ func analyze(gs *state.GlobalState, args []string) (k6deps.Dependencies, error)
 // isAnalysisRequired returns a boolean indicating if dependency analysis is required for the command
 func isAnalysisRequired(cmd *cobra.Command) bool {
 	switch cmd.Name() {
-	case "run", "archive", "inspect", "upload", "cloud":
-		return true
+	case "run":
+		if parent := cmd.Parent(); parent != nil {
+			switch parent.Name() {
+			case "k6", "cloud":
+				return true
+			}
+		}
+	case "upload":
+		if parent := cmd.Parent(); parent != nil {
+			return parent.Name() == "cloud"
+		}
+	case "cloud", "archive", "inspect":
+		if parent := cmd.Parent(); parent != nil {
+			return parent.Name() == "k6"
+		}
 	}
 
 	return false
diff --git a/internal/cmd/tests/tests_test.go b/internal/cmd/tests/tests_test.go
index b5fb83dc0..39aca03a4 100644
--- a/internal/cmd/tests/tests_test.go
+++ b/internal/cmd/tests/tests_test.go
@@ -5,6 +5,7 @@ import (
 	"testing"
 
 	"github.com/stretchr/testify/assert"
+
 	"go.k6.io/k6/internal/cmd"
 )
 
@@ -32,3 +33,13 @@ func TestRootCommand(t *testing.T) {
 		})
 	}
 }
+
+func TestLoginCloudNotPanicking(t *testing.T) {
+	t.Parallel()
+
+	ts := NewGlobalTestState(t)
+	ts.CmdArgs = []string{"k6", "login", "cloud"}
+	ts.ExpectedExitCode = -1
+	cmd.ExecuteWithGlobalState(ts.GlobalState)
+	assert.Contains(t, ts.Stderr.String(), "Stdin is not a terminal, falling back to plain text input")
+}
