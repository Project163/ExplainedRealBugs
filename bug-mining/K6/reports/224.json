{"url":"https://api.github.com/repos/grafana/k6/issues/232","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/232/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/232/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/232/events","html_url":"https://github.com/grafana/k6/issues/232","id":231025445,"node_id":"MDU6SXNzdWUyMzEwMjU0NDU=","number":232,"title":"Add option to disable automatic redirects","user":{"login":"ragnarlonn","id":6524809,"node_id":"MDQ6VXNlcjY1MjQ4MDk=","avatar_url":"https://avatars.githubusercontent.com/u/6524809?v=4","gravatar_id":"","url":"https://api.github.com/users/ragnarlonn","html_url":"https://github.com/ragnarlonn","followers_url":"https://api.github.com/users/ragnarlonn/followers","following_url":"https://api.github.com/users/ragnarlonn/following{/other_user}","gists_url":"https://api.github.com/users/ragnarlonn/gists{/gist_id}","starred_url":"https://api.github.com/users/ragnarlonn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ragnarlonn/subscriptions","organizations_url":"https://api.github.com/users/ragnarlonn/orgs","repos_url":"https://api.github.com/users/ragnarlonn/repos","events_url":"https://api.github.com/users/ragnarlonn/events{/privacy}","received_events_url":"https://api.github.com/users/ragnarlonn/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-05-24T12:37:51Z","updated_at":"2020-08-06T04:06:25Z","closed_at":"2017-08-01T13:56:44Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When redirects happen, information about intermediate requests gets lost. This could perhaps be solved by making the http.Response object more similar to how the Python Requests response object works, but it can also be useful to be able to control redirect behaviour - e.g. for server debugging purposes. \r\n\r\nA feature that allows the user to turn off automatic redirects would enable a user to both control redirect behaviour and also allow them to gather information about intermediate requests. \r\n\r\n@liclac thinks the best solution is to add a per-request flag that turns off automatic redirects for that particular request, so that is the suggestion:\r\n\r\n```\r\n// This check() should pass\r\ncheck(http.get(\"http://loadimpact.com\", { autoRedirect: false }),\r\n    { \"Got redirect\": (r) => r.status == 301 }\r\n);\r\n```\r\n","closed_by":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/232/timeline","performed_via_github_app":null,"state_reason":"completed"}