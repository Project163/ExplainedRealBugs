{"url":"https://api.github.com/repos/grafana/k6/issues/1037","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1037/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1037/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1037/events","html_url":"https://github.com/grafana/k6/issues/1037","id":450795113,"node_id":"MDU6SXNzdWU0NTA3OTUxMTM=","number":1037,"title":"Make require work with HTTPS scheme","user":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":345191760,"node_id":"MDU6TGFiZWwzNDUxOTE3NjA=","url":"https://api.github.com/repos/grafana/k6/labels/enhancement","name":"enhancement","color":"5319E7","default":true,"description":""},{"id":865562676,"node_id":"MDU6TGFiZWw4NjU1NjI2NzY=","url":"https://api.github.com/repos/grafana/k6/labels/ux","name":"ux","color":"5319e7","default":false,"description":""},{"id":874564661,"node_id":"MDU6TGFiZWw4NzQ1NjQ2NjE=","url":"https://api.github.com/repos/grafana/k6/labels/refactor","name":"refactor","color":"fbca04","default":false,"description":""},{"id":949381702,"node_id":"MDU6TGFiZWw5NDkzODE3MDI=","url":"https://api.github.com/repos/grafana/k6/labels/js-compat","name":"js-compat","color":"ea8394","default":false,"description":""},{"id":1079102926,"node_id":"MDU6TGFiZWwxMDc5MTAyOTI2","url":"https://api.github.com/repos/grafana/k6/labels/evaluation%20needed","name":"evaluation needed","color":"006B75","default":false,"description":"proposal needs to be validated or tested before fully implementing it in k6"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-05-31T13:17:51Z","updated_at":"2019-07-31T10:05:21Z","closed_at":"2019-07-31T10:05:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently require() works with urls but ... it is very strange and IMO confusing and error prone. \r\n1. we specifically [don't want any scheme provided](https://github.com/loadimpact/k6/blob/master/loader/loader.go#L85-L87) which is IMO absurd\r\n2. we specifically try things that don't start with `k6` or `/` or `./` as urls which leads to confusing messages if you decide that `file.js` should get you `./file.js`. Funilly the messages says that it tried, but as far as I can see it doesn't and if you change it to `./file.js` it does work so ...  yeah buggy. \r\n\r\nMy proposal is \r\n1. make it possible to use `https` as scheme (possibly file:// as well) \r\n2. print warnings if we resolve (successfully) a url that wasn't prefaced with `https://` - explaining that this will be deprecated. We should also probably change the error message if we try and weren't able to something that also points out that they should probably not do it like this. \r\n3. wait a few versions/6 months \r\n4. remove it .\r\n5. (or 2.5) make it try to resolve local files as if they had `./` in front in case . Dunno if we actually want this or should we just reserve non scheme non `./`|`/` prefaced imports just for k6. ","closed_by":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1037/timeline","performed_via_github_app":null,"state_reason":"completed"}