{"url":"https://api.github.com/repos/grafana/k6/issues/1602","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1602/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1602/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1602/events","html_url":"https://github.com/grafana/k6/issues/1602","id":683722752,"node_id":"MDU6SXNzdWU2ODM3MjI3NTI=","number":1602,"title":"K6_DATADOG_TAG_BLACKLIST not functional","user":{"login":"guongle-ssense","id":48691526,"node_id":"MDQ6VXNlcjQ4NjkxNTI2","avatar_url":"https://avatars.githubusercontent.com/u/48691526?v=4","gravatar_id":"","url":"https://api.github.com/users/guongle-ssense","html_url":"https://github.com/guongle-ssense","followers_url":"https://api.github.com/users/guongle-ssense/followers","following_url":"https://api.github.com/users/guongle-ssense/following{/other_user}","gists_url":"https://api.github.com/users/guongle-ssense/gists{/gist_id}","starred_url":"https://api.github.com/users/guongle-ssense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guongle-ssense/subscriptions","organizations_url":"https://api.github.com/users/guongle-ssense/orgs","repos_url":"https://api.github.com/users/guongle-ssense/repos","events_url":"https://api.github.com/users/guongle-ssense/events{/privacy}","received_events_url":"https://api.github.com/users/guongle-ssense/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":345191758,"node_id":"MDU6TGFiZWwzNDUxOTE3NTg=","url":"https://api.github.com/repos/grafana/k6/labels/bug","name":"bug","color":"b60205","default":true,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/grafana/k6/milestones/9","html_url":"https://github.com/grafana/k6/milestone/9","labels_url":"https://api.github.com/repos/grafana/k6/milestones/9/labels","id":5367435,"node_id":"MDk6TWlsZXN0b25lNTM2NzQzNQ==","number":9,"title":"v0.28.0","description":"First major release after #1007 ","creator":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":38,"state":"closed","created_at":"2020-04-30T12:11:28Z","updated_at":"2020-10-12T14:48:12Z","due_on":null,"closed_at":"2020-10-12T14:48:12Z"},"comments":3,"created_at":"2020-08-21T17:58:31Z","updated_at":"2020-11-18T08:36:58Z","closed_at":"2020-09-02T09:53:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--- Provide a general summary of the issue in the Title above -->\r\n\r\n## Environment\r\n\r\n- k6 version: 0.27.1\r\n- OS and version: macOS Catalina\r\n- Docker version and image, if applicable: 2.3.4.0 (469980)\r\n\r\n\r\n## Expected Behavior\r\n<!--- Tell us what should happen -->\r\nI am unsure how K6_DATADOG_TAG_BLACKLIST suppose to behave, but from several of the PRs I've checked within the repo, it is supposed to remove metrics that I would like the process to not send. However, I am getting an error regardless of what I do.\r\n\r\n## Actual Behavior\r\n<!--- Tell us what happens instead of the expected behavior -->\r\nERRO[0002] envconfig.Process: assigning K6_DATADOG_TAG_BLACKLIST to TagBlacklist: converting 'name,url,endpoint' to type stats.TagSet. details: invalid map item: \"name\"\r\n\r\n## Steps to Reproduce the Problem\r\n<!--- Provide the exact commands, environment variables and relevant script(s) to reproduce this bug. -->\r\n\r\n1. `export K6_DATADOG_TAG_BLACKLIST=\"name,url,endpoint\"`\r\n2.\r\n```bash\r\nK6_DATADOG_ADDR=\"dogstatsd:8125\" k6 run -e HOST='jsonplaceholder.typicode.com' -e ENV= -e TEST_BUILD=3 --vus 1 --duration 10s --summary-trend-stats \"min,avg,med,max,p(25),p(75),p(95),p(99)\" --out datadog scripts/benchmark/browsing.js\r\n```\r\n3.\r\n```bash\r\nERRO[0002] envconfig.Process: assigning K6_DATADOG_TAG_BLACKLIST to TagBlacklist: converting 'endpoint' to type stats.TagSet. details: invalid map item: \"endpoint\"\r\nmake: *** [Makefile:65: dd-benchmark] Error 255\r\n```\r\nif I do this `export K6_DATADOG_TAG_BLACKLIST=\"\"` which is the default, all is well, however since Datadog charges per uniqueness, I would like to reduce certain metrics such as:\r\n- tls_version\r\n- name / URL (they are basically the same metrics)\r\n- http\r\n\r\netc.","closed_by":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1602/timeline","performed_via_github_app":null,"state_reason":"completed"}