[{"id":2199968102,"node_id":"MDEyOkxhYmVsZWRFdmVudDIxOTk5NjgxMDI=","url":"https://api.github.com/repos/grafana/k6/issues/events/2199968102","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-03-13T11:40:41Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":2199968103,"node_id":"MDEyOkxhYmVsZWRFdmVudDIxOTk5NjgxMDM=","url":"https://api.github.com/repos/grafana/k6/issues/events/2199968103","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-03-13T11:40:41Z","label":{"name":"ux","color":"5319e7"},"performed_via_github_app":null},{"id":2199968104,"node_id":"MDEyOkxhYmVsZWRFdmVudDIxOTk5NjgxMDQ=","url":"https://api.github.com/repos/grafana/k6/issues/events/2199968104","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-03-13T11:40:41Z","label":{"name":"evaluation needed","color":"eda27d"},"performed_via_github_app":null},{"actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T11:42:23Z","updated_at":"2019-03-13T11:42:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/950","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/950/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/950/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/950/events","html_url":"https://github.com/grafana/k6/issues/950","id":420404010,"node_id":"MDU6SXNzdWU0MjA0MDQwMTA=","number":950,"title":"Need for-loop to work in init context","user":{"login":"kkeranen","id":4619674,"node_id":"MDQ6VXNlcjQ2MTk2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4619674?v=4","gravatar_id":"","url":"https://api.github.com/users/kkeranen","html_url":"https://github.com/kkeranen","followers_url":"https://api.github.com/users/kkeranen/followers","following_url":"https://api.github.com/users/kkeranen/following{/other_user}","gists_url":"https://api.github.com/users/kkeranen/gists{/gist_id}","starred_url":"https://api.github.com/users/kkeranen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkeranen/subscriptions","organizations_url":"https://api.github.com/users/kkeranen/orgs","repos_url":"https://api.github.com/users/kkeranen/repos","events_url":"https://api.github.com/users/kkeranen/events{/privacy}","received_events_url":"https://api.github.com/users/kkeranen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-03-13T09:46:27Z","updated_at":"2019-03-13T11:42:24Z","closed_at":"2019-03-13T11:10:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm initializing dozens (if not hundreds) of custom metrics (which have to be initialized in init context). Because there are so many custom metrics, I'm trying using this kind of code with nested for-loops (called in init context):\r\n\r\n```js\r\nfunction initAllMetrics() {    \r\n    for (var kilosOfNodes = 1; kilosOfNodes <= MaxKilosOfNodes; kilosOfNodes *= 2) {\r\n\r\n        initMetric(\"APIMethod1-\" + kilosOfNodes.toString() + \"k\");\r\n        initMetric(\"APIMethod2-\" + kilosOfNodes.toString() + \"k\");\r\n        \r\n        for (var links = 100; links <= 6400; kilosOfNodes *= 2) {\r\n            initMetric(\"APIMethod3-\" + links.toString() + \"links-\" + kilosOfNodes.toString() + \"k\");\r\n            initMetric(\"APIMethod4-\" + links.toString() + \"links-\" + kilosOfNodes.toString() + \"k\");\r\n            initMetric(\"APIMethod5-\" + links.toString() + \"links-\" + kilosOfNodes.toString() + \"k\");\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the for-loop seems to be the only thing in this code not working in the init context.\r\n\r\nThe reason for so many custom metrics is stress testing of API, which takes some time to build up. So, during building up tests are run in different phases, and for each phase there are dozen or so tests with different parameters. From all the metrics we finally build up a 2D result report table, each cell showing median response time.","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/950/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"kkeranen","id":4619674,"node_id":"MDQ6VXNlcjQ2MTk2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4619674?v=4","gravatar_id":"","url":"https://api.github.com/users/kkeranen","html_url":"https://github.com/kkeranen","followers_url":"https://api.github.com/users/kkeranen/followers","following_url":"https://api.github.com/users/kkeranen/following{/other_user}","gists_url":"https://api.github.com/users/kkeranen/gists{/gist_id}","starred_url":"https://api.github.com/users/kkeranen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkeranen/subscriptions","organizations_url":"https://api.github.com/users/kkeranen/orgs","repos_url":"https://api.github.com/users/kkeranen/repos","events_url":"https://api.github.com/users/kkeranen/events{/privacy}","received_events_url":"https://api.github.com/users/kkeranen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T08:40:53Z","updated_at":"2019-03-21T08:40:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/969","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/969/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/969/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/969/events","html_url":"https://github.com/grafana/k6/issues/969","id":423618764,"node_id":"MDU6SXNzdWU0MjM2MTg3NjQ=","number":969,"title":"Init context creates multiple instances of global variable","user":{"login":"kkeranen","id":4619674,"node_id":"MDQ6VXNlcjQ2MTk2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4619674?v=4","gravatar_id":"","url":"https://api.github.com/users/kkeranen","html_url":"https://github.com/kkeranen","followers_url":"https://api.github.com/users/kkeranen/followers","following_url":"https://api.github.com/users/kkeranen/following{/other_user}","gists_url":"https://api.github.com/users/kkeranen/gists{/gist_id}","starred_url":"https://api.github.com/users/kkeranen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkeranen/subscriptions","organizations_url":"https://api.github.com/users/kkeranen/orgs","repos_url":"https://api.github.com/users/kkeranen/repos","events_url":"https://api.github.com/users/kkeranen/events{/privacy}","received_events_url":"https://api.github.com/users/kkeranen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":345191758,"node_id":"MDU6TGFiZWwzNDUxOTE3NTg=","url":"https://api.github.com/repos/grafana/k6/labels/bug","name":"bug","color":"b60205","default":true,"description":""},{"id":874927263,"node_id":"MDU6TGFiZWw4NzQ5MjcyNjM=","url":"https://api.github.com/repos/grafana/k6/labels/high%20prio","name":"high prio","color":"D93F0B","default":false,"description":""},{"id":949381702,"node_id":"MDU6TGFiZWw5NDkzODE3MDI=","url":"https://api.github.com/repos/grafana/k6/labels/js-compat","name":"js-compat","color":"ea8394","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-03-21T08:39:23Z","updated_at":"2019-03-28T08:56:41Z","closed_at":"2019-03-28T08:56:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I've run into a nasty issue (k6 V0.23.1) which can demonstrated by using 3 js files. The main test file (test.js) refers to two other files: engine.js and common.js. engine.js also refers to common.js.\r\n\r\nThe problem in brief is that common.js has a global variable, but there are actually two instances of it: One created and accessible from test.js and one created and accessible from engine.js. I have added these 3 code files (and a support file to create UUIDs) that are as simple as possible for demonstration purposes.\r\n\r\nThe code of common.js is\r\n\r\n```\r\nimport { uuidV4 } from \"./uuid-v4.js\";\r\n\r\nvar globalId;\r\n\r\nexport function initMetric(metricName) {\r\n    if (!globalId) { \r\n        globalId = uuidV4();\r\n    }    \r\n}\r\n\r\ninitMetric(\"Common\");\r\n\r\nexport function listMetrics() {\r\n    console.log(\"globalId: \" + globalId);\r\n}\r\n```\r\nNow, the globalId is not unique. It's one if listMetrics is called from test.js and another if called from engine.js. Actual output:\r\n\r\nINFO[0000] globalId: edd33b60-c51e-4e6a-bef3-20654b09d469\r\nINFO[0000] globalId: 489d0e75-5bde-4a07-9d84-b96186c14df3\r\n\r\n[init-test.zip](https://github.com/loadimpact/k6/files/2991270/init-test.zip)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/969/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/475148925","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-475148925","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":475148925,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTE0ODkyNQ==","user":{"login":"kkeranen","id":4619674,"node_id":"MDQ6VXNlcjQ2MTk2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4619674?v=4","gravatar_id":"","url":"https://api.github.com/users/kkeranen","html_url":"https://github.com/kkeranen","followers_url":"https://api.github.com/users/kkeranen/followers","following_url":"https://api.github.com/users/kkeranen/following{/other_user}","gists_url":"https://api.github.com/users/kkeranen/gists{/gist_id}","starred_url":"https://api.github.com/users/kkeranen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkeranen/subscriptions","organizations_url":"https://api.github.com/users/kkeranen/orgs","repos_url":"https://api.github.com/users/kkeranen/repos","events_url":"https://api.github.com/users/kkeranen/events{/privacy}","received_events_url":"https://api.github.com/users/kkeranen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T08:43:24Z","updated_at":"2019-03-21T08:43:24Z","body":"Description of this issue helped me in finding out a problem I have been struggling with for hours: #969","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/475148925/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kkeranen","id":4619674,"node_id":"MDQ6VXNlcjQ2MTk2NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4619674?v=4","gravatar_id":"","url":"https://api.github.com/users/kkeranen","html_url":"https://github.com/kkeranen","followers_url":"https://api.github.com/users/kkeranen/followers","following_url":"https://api.github.com/users/kkeranen/following{/other_user}","gists_url":"https://api.github.com/users/kkeranen/gists{/gist_id}","starred_url":"https://api.github.com/users/kkeranen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkeranen/subscriptions","organizations_url":"https://api.github.com/users/kkeranen/orgs","repos_url":"https://api.github.com/users/kkeranen/repos","events_url":"https://api.github.com/users/kkeranen/events{/privacy}","received_events_url":"https://api.github.com/users/kkeranen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/477635916","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-477635916","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":477635916,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzYzNTkxNg==","user":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T15:07:33Z","updated_at":"2019-03-28T15:33:58Z","body":"For me the whole noisiness is not an issue ... if you want to log something in the init context I suppose you are debugging something. Making you jump through hoops and one of them being making the whole output even more noisy by enabling verbose is seems unreasonable.\r\n\r\nOn the second(first) issue of Logger being in `lib.State`, [console.log doesn't use it](https://github.com/loadimpact/k6/blob/cf8bccc76f1d3f7095a767b5bf71488200db340c/js/console.go#L55-L80) . Maybe it should but I see no point atm as everything just copies the runner's Logger which is [the standard](https://github.com/loadimpact/k6/blob/cf8bccc76f1d3f7095a767b5bf71488200db340c/js/runner.go#L89) , but by default the console also [uses the standard](https://github.com/loadimpact/k6/blob/cf8bccc76f1d3f7095a767b5bf71488200db340c/js/console.go#L38-L40).\r\n\r\n\r\nSo technically adding: \r\n```\r\nrt.Set(\"console\", common.Bind(rt, newConsole(), init.ctxPtr))\r\n```\r\nsomewhere in [here](https://github.com/loadimpact/k6/blob/cf8bccc76f1d3f7095a767b5bf71488200db340c/js/bundle.go#L254-L256) fixes it ... \r\nIn the case the console is not redirected to file :(. In that case I need the whole options which are not calculated at this time... The bad thing is that I don't even have the not full options at that time I only have access to the env through `lib.RuntimeOptions`. The redirect can't be set through the `options` in the script so I only need the cli flags as well but I will need some way to transport them from something in `cmd/run.go` to Bundle >.<. \r\n\r\nAt this point I wonder if the `Bundle.Options` shouldn't be the options as calculated upto this point and we again hit #883 ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/477635916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/477652919","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-477652919","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":477652919,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzY1MjkxOQ==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T15:45:52Z","updated_at":"2019-03-28T15:45:52Z","body":"> making the whole output even more noisy by enabling verbose is seems unreasonable.\r\n\r\nYou're absolutely right, sorry for disagreeing earlier! I didn't consider the extra noisiness `-v` would bring to a debugging situation... It might be useful in some situations, but definitely not in all of them. And telling users to enable a flag just so they can use the `console` is not exactly ideal from an UX perspective either... Both combined definitely outweigh any UX issues stemming from multiple identical messages on the console. \r\n\r\nAnd if we can fix the configuration challenges you describe (:sob:), have proper loggers per-VU, and actually implement https://github.com/loadimpact/k6/issues/889 and attach (via `log.WithFields()`) the VU ID to each log message, any user confusion from multiple identical messages will likely disappear. \r\n\r\nBut yeah, I don't have a good solution for the redirection to file at this point, sorry. The massive refactoring I'm  currently doing will somewhat improve the passing of a logger from `cmd/run.go` down the engine->executor->VU pipeline, but that won't help very much with the file logging, it will just clean up the code so that a global singleton-like logger isn't used... \r\n\r\nI propose that we either wait until we fix some of the configuration for this, or we just implement this in a hacky way where the first init context execution always logs to stdout, regardless if a file was specified. I don't like either of those options, but I don't see many alternatives...","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/477652919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2238515382,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMzg1MTUzODI=","url":"https://api.github.com/repos/grafana/k6/issues/events/2238515382","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b4ba7b2153b89ea5e214ede51babd8e320400b70","commit_url":"https://api.github.com/repos/grafana/k6/commits/b4ba7b2153b89ea5e214ede51babd8e320400b70","created_at":"2019-03-29T08:20:18Z","performed_via_github_app":null},{"id":2238525449,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMzg1MjU0NDk=","url":"https://api.github.com/repos/grafana/k6/issues/events/2238525449","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"802f61539b54ff9c584d5559d6fd9847c1a98d47","commit_url":"https://api.github.com/repos/grafana/k6/commits/802f61539b54ff9c584d5559d6fd9847c1a98d47","created_at":"2019-03-29T08:25:55Z","performed_via_github_app":null},{"actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T09:59:12Z","updated_at":"2019-04-10T09:59:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/982","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/982/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/982/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/982/events","html_url":"https://github.com/grafana/k6/pull/982","id":426871479,"node_id":"MDExOlB1bGxSZXF1ZXN0MjY1NjI1MzA0","number":982,"title":"Enable console in the init context","user":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/grafana/k6/milestones/7","html_url":"https://github.com/grafana/k6/milestone/7","labels_url":"https://api.github.com/repos/grafana/k6/milestones/7/labels","id":4536026,"node_id":"MDk6TWlsZXN0b25lNDUzNjAyNg==","number":7,"title":"v0.26.0","description":"","creator":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":109,"state":"closed","created_at":"2019-07-31T08:43:47Z","updated_at":"2022-10-03T09:45:50Z","due_on":null,"closed_at":"2020-04-22T12:31:51Z"},"comments":2,"created_at":"2019-03-29T08:27:48Z","updated_at":"2019-08-29T11:08:52Z","closed_at":"2019-08-29T11:08:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/grafana/k6/pulls/982","html_url":"https://github.com/grafana/k6/pull/982","diff_url":"https://github.com/grafana/k6/pull/982.diff","patch_url":"https://github.com/grafana/k6/pull/982.patch","merged_at":"2019-08-29T11:08:33Z"},"body":"This commit does the bare minimal to enable useage of console init\r\ncontext. Unfortunetely this means that redirection to file is currently\r\nnot supported in init context.\r\n\r\nThis fixes #951\r\n\r\nMessage for the release notes:\r\n\r\n> bugfix: `console` is now usable inside the init context. Unfortunately this doesn't respect `--console-output` (#1131) , and will be fixed in the future.  \r\n","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/982/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2583324177,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI1ODMzMjQxNzc=","url":"https://api.github.com/repos/grafana/k6/issues/events/2583324177","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"570fc363e0e992cd02256498298380537e9bea51","commit_url":"https://api.github.com/repos/grafana/k6/commits/570fc363e0e992cd02256498298380537e9bea51","created_at":"2019-08-26T11:02:48Z","performed_via_github_app":null},{"id":2587377327,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDI1ODczNzczMjc=","url":"https://api.github.com/repos/grafana/k6/issues/events/2587377327","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-08-27T14:48:14Z","milestone":{"title":"v0.26.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526113088","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-526113088","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":526113088,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjExMzA4OA==","user":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T09:51:01Z","updated_at":"2019-08-29T09:51:14Z","body":"Any update on when this can be fixed? It would sometimes be very helpful to log info during development of init scripts (for auth for example).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526113088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526114690","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-526114690","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":526114690,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjExNDY5MA==","user":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T09:55:23Z","updated_at":"2019-08-29T09:55:23Z","body":"Even more problematic with not having `console.log` support in init is that some dependencies may use it, which makes it a total blocker for using those in init phases.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526114690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526117204","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-526117204","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":526117204,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjExNzIwNA==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T10:02:04Z","updated_at":"2019-08-29T10:02:04Z","body":"@maxekman, you are right. We have an open PR that fixes this (https://github.com/loadimpact/k6/pull/982), but we haven't merged it yet, because it's incompatible with the `--console-output` flag :disappointed: With the simple fix in #982, if that flag is enabled, `console.log()` statements in the init context won't respect it and would just be emitted to `stdout`. \r\n\r\nUnfortunately, to properly fix this would require significant refactoring. So it's likely we'll soon merge the fix as it is, even even with that known bug, and we'll come back at some point in the future to properly fix everything...","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526117204/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2593413120,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU5MzQxMzEyMA==","url":"https://api.github.com/repos/grafana/k6/issues/events/2593413120","actor":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-29T10:02:05Z","performed_via_github_app":null},{"id":2593413123,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1OTM0MTMxMjM=","url":"https://api.github.com/repos/grafana/k6/issues/events/2593413123","actor":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-29T10:02:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526118835","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-526118835","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":526118835,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjExODgzNQ==","user":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T10:06:49Z","updated_at":"2019-08-29T10:06:49Z","body":"It would be very welcome to get that merged! In my current situation I can't even import a lib for VUs (auth0-js) as it depends on console.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526118835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T10:17:55Z","updated_at":"2019-08-29T10:17:55Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/1131","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1131/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1131/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1131/events","html_url":"https://github.com/grafana/k6/issues/1131","id":486869875,"node_id":"MDU6SXNzdWU0ODY4Njk4NzU=","number":1131,"title":"console.log in the init context doesn't respect --console-output","user":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":345191758,"node_id":"MDU6TGFiZWwzNDUxOTE3NTg=","url":"https://api.github.com/repos/grafana/k6/labels/bug","name":"bug","color":"b60205","default":true,"description":""},{"id":345191760,"node_id":"MDU6TGFiZWwzNDUxOTE3NjA=","url":"https://api.github.com/repos/grafana/k6/labels/enhancement","name":"enhancement","color":"5319E7","default":true,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-08-29T10:17:55Z","updated_at":"2020-03-26T09:21:59Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"After #982 the console will be usable inside the init context, closing #951.\r\n\r\n Unfortunately because of many shortcomings in the design respecting `--console-output` turned out to require a quite a big refactoring to make it work which is why it's currently not working. ","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1131/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526127713","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-526127713","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":526127713,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjEyNzcxMw==","user":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T10:33:09Z","updated_at":"2019-08-29T10:33:09Z","body":"As a workaround for anyone blocked by imports requiring the console I managed to define the missing console using console-browserify inside the generated UMD file: `var console = require(\"./console-browserify.js\")`. A bit tedious to edit the generated files, but at least it allows k6 to run for now.  ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526127713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2593594033,"node_id":"MDExOkNsb3NlZEV2ZW50MjU5MzU5NDAzMw==","url":"https://api.github.com/repos/grafana/k6/issues/events/2593594033","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-08-29T11:08:33Z","state_reason":null,"performed_via_github_app":null},{"id":2593594077,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI1OTM1OTQwNzc=","url":"https://api.github.com/repos/grafana/k6/issues/events/2593594077","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2326f048e94159d4ec83a0d08be10003e3e13250","commit_url":"https://api.github.com/repos/grafana/k6/commits/2326f048e94159d4ec83a0d08be10003e3e13250","created_at":"2019-08-29T11:08:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526157045","html_url":"https://github.com/grafana/k6/issues/951#issuecomment-526157045","issue_url":"https://api.github.com/repos/grafana/k6/issues/951","id":526157045,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjE1NzA0NQ==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T12:11:41Z","updated_at":"2019-08-29T12:11:41Z","body":"@maxekman, you should now be able to use the [`master` docker image tag](https://hub.docker.com/r/loadimpact/k6/tags) to have `console` in the init context, or you can [build your own](https://github.com/loadimpact/k6/#build-from-source) k6 binary from the current `master` source.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/526157045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2593752315,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU5Mzc1MjMxNQ==","url":"https://api.github.com/repos/grafana/k6/issues/events/2593752315","actor":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-29T12:11:41Z","performed_via_github_app":null},{"id":2593752316,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1OTM3NTIzMTY=","url":"https://api.github.com/repos/grafana/k6/issues/events/2593752316","actor":{"login":"maxekman","id":821518,"node_id":"MDQ6VXNlcjgyMTUxOA==","avatar_url":"https://avatars.githubusercontent.com/u/821518?v=4","gravatar_id":"","url":"https://api.github.com/users/maxekman","html_url":"https://github.com/maxekman","followers_url":"https://api.github.com/users/maxekman/followers","following_url":"https://api.github.com/users/maxekman/following{/other_user}","gists_url":"https://api.github.com/users/maxekman/gists{/gist_id}","starred_url":"https://api.github.com/users/maxekman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxekman/subscriptions","organizations_url":"https://api.github.com/users/maxekman/orgs","repos_url":"https://api.github.com/users/maxekman/repos","events_url":"https://api.github.com/users/maxekman/events{/privacy}","received_events_url":"https://api.github.com/users/maxekman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-29T12:11:41Z","performed_via_github_app":null},{"actor":{"login":"codebien","id":2103732,"node_id":"MDQ6VXNlcjIxMDM3MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2103732?v=4","gravatar_id":"","url":"https://api.github.com/users/codebien","html_url":"https://github.com/codebien","followers_url":"https://api.github.com/users/codebien/followers","following_url":"https://api.github.com/users/codebien/following{/other_user}","gists_url":"https://api.github.com/users/codebien/gists{/gist_id}","starred_url":"https://api.github.com/users/codebien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codebien/subscriptions","organizations_url":"https://api.github.com/users/codebien/orgs","repos_url":"https://api.github.com/users/codebien/repos","events_url":"https://api.github.com/users/codebien/events{/privacy}","received_events_url":"https://api.github.com/users/codebien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T14:44:04Z","updated_at":"2022-01-28T14:44:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/2361","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/2361/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/2361/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/2361/events","html_url":"https://github.com/grafana/k6/issues/2361","id":1117486023,"node_id":"I_kwDOAz4Wr85Cm3vH","number":2361,"title":"Log field for the VU's ID","user":{"login":"codebien","id":2103732,"node_id":"MDQ6VXNlcjIxMDM3MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2103732?v=4","gravatar_id":"","url":"https://api.github.com/users/codebien","html_url":"https://github.com/codebien","followers_url":"https://api.github.com/users/codebien/followers","following_url":"https://api.github.com/users/codebien/following{/other_user}","gists_url":"https://api.github.com/users/codebien/gists{/gist_id}","starred_url":"https://api.github.com/users/codebien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codebien/subscriptions","organizations_url":"https://api.github.com/users/codebien/orgs","repos_url":"https://api.github.com/users/codebien/repos","events_url":"https://api.github.com/users/codebien/events{/privacy}","received_events_url":"https://api.github.com/users/codebien/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869282130,"node_id":"MDU6TGFiZWw4NjkyODIxMzA=","url":"https://api.github.com/repos/grafana/k6/labels/feature","name":"feature","color":"5319E7","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-01-28T14:44:04Z","updated_at":"2024-07-08T08:16:50Z","closed_at":"2024-07-08T08:16:50Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Feature Description\n\nIn some cases, like this [forum question](https://community.k6.io/t/execution-order-question/2793), can be helpful to know which specific VU is executing the code or just know that the logs are generated by one of the `VUID == 0` (options resolution, babel transpiler, setup, teardown, handle summary).\r\n\r\nThis was originally [proposed](https://github.com/grafana/k6/issues/951#issuecomment-477652919) during the Init Context's implementation of the `console.log`.\n\n### Suggested Solution (optional)\n\n>And if we can fix the configuration challenges you describe (sob), have proper loggers per-VU, and actually implement #889 and attach (via log.WithFields()) the VU ID to each log message, any user confusion from multiple identical messages will likely disappear.\r\n\r\nThis suggested solution from the original issue is still a valid option.\n\n### Already existing or connected issues / PRs (optional)\n\nhttps://github.com/grafana/k6/issues/951\r\nhttps://github.com/grafana/k6/issues/2344 - We want to deprecate `common.Bind` that is how the `console.log` is defined. A refactor on that side will be for sure beneficial also for the current issue.","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/2361/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/2361/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"}]