{"url":"https://api.github.com/repos/grafana/k6/issues/769","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/769/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/769/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/769/events","html_url":"https://github.com/grafana/k6/issues/769","id":360288537,"node_id":"MDU6SXNzdWUzNjAyODg1Mzc=","number":769,"title":"Fix inter issues in `master` branch","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":759076521,"node_id":"MDU6TGFiZWw3NTkwNzY1MjE=","url":"https://api.github.com/repos/grafana/k6/labels/docs","name":"docs","color":"1AE598","default":false,"description":""},{"id":874929364,"node_id":"MDU6TGFiZWw4NzQ5MjkzNjQ=","url":"https://api.github.com/repos/grafana/k6/labels/lower%20prio","name":"lower prio","color":"fef2c0","default":false,"description":""},{"id":1056840879,"node_id":"MDU6TGFiZWwxMDU2ODQwODc5","url":"https://api.github.com/repos/grafana/k6/labels/ci","name":"ci","color":"8a8ad8","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-09-14T12:41:39Z","updated_at":"2024-04-25T13:09:37Z","closed_at":"2024-04-25T13:09:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# What?\r\n\r\nWe should fix the linter issues that exist in our master branch.\r\n\r\n\r\n```[tasklist]\r\n### Tasks\r\n- [ ] https://github.com/grafana/k6/pull/3701\r\n- [ ] https://github.com/grafana/k6/pull/3566\r\n- [x] [Fix 51 issues in lib](https://github.com/grafana/k6/pull/3561)\r\n- [x] Fix 22 issues in cloudapi\r\n- [x] Fix 39 issues in metrics\r\n- [x] Fix rest of the packages\r\n- [ ] https://github.com/grafana/k6/pull/3495\r\n- [ ] https://github.com/grafana/k6/pull/3484\r\n- [ ] https://github.com/grafana/k6/pull/3482\r\n- [ ] https://github.com/grafana/k6/pull/3460\r\n- [ ] https://github.com/grafana/k6/pull/3463\r\n- [ ] https://github.com/grafana/k6/pull/3479\r\n- [ ] https://github.com/grafana/k6/pull/3481\r\n- [ ] https://github.com/grafana/k6/pull/3462\r\n- [ ] https://github.com/grafana/k6/pull/3480\r\n- [ ] https://github.com/grafana/k6/pull/3485\r\n- [ ] https://github.com/grafana/k6/pull/3483\r\n- [ ] https://github.com/grafana/k6/pull/3478\r\n```\r\n\r\nRight now we use the `golangci-lint` as the main tool for linting. The latest report:\r\n\r\n```bash\r\ngolangci-lint run --out-format=tab | awk 'NF { print $1 }' | sed -E 's|/[^/]*(:[0-9]+){0,2}$||' | uniq -c | sort -rn\r\n 233 js/modules/k6/html\r\n    112 js/modules/k6/http\r\n     48 lib\r\n     38 metrics\r\n     32 lib/executor\r\n     28 lib/netext/httpext\r\n     26 lib/netext\r\n     22 cloudapi\r\n      5 lib/fsext\r\n      5 lib\r\n      3 output/statsd\r\n      3 output/json\r\n      3 js/modules/k6/grpc\r\n      2 lib/types\r\n      2 lib/netext/grpcext\r\n      2 lib/consts\r\n      2 js/modules/k6/metrics\r\n      2 js/common\r\n      2 cmd\r\n```\r\n\r\n# Why?\r\n\r\nMost of those are about undocumented methods or using underscores or ALL_CAPS in variables, but it's still worth it to spend some time and eliminate, or at least substantially reduce, the number of linter complaints. \r\n\r\nFixing linter issues would significantly help any potential contributors because:\r\n- it forces best practices\r\n- it would force us to improve the in-code documentation, tremendously helping new people who are unfamiliar with the codebase\r\n- it would make the code more idiomatic\r\n- a lot of Go editors have `golint/golangci-lint` automatically enabled, and when you open some files with them, there are dozens of issues reported\r\n- we can improve our [Go report card score](https://goreportcard.com/report/github.com/grafana/k6), after all we've added it in the top of the README...\r\n- and many more","closed_by":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/769/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/769/timeline","performed_via_github_app":null,"state_reason":"completed"}