[{"id":3115932371,"node_id":"MDEyOkxhYmVsZWRFdmVudDMxMTU5MzIzNzE=","url":"https://api.github.com/repos/grafana/k6/issues/events/3115932371","actor":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-10T18:27:00Z","label":{"name":"feature","color":"d93f0b"},"performed_via_github_app":null},{"id":3115932382,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzExNTkzMjM4Mg==","url":"https://api.github.com/repos/grafana/k6/issues/events/3115932382","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-10T18:27:00Z","performed_via_github_app":null},{"id":3115932385,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMTU5MzIzODU=","url":"https://api.github.com/repos/grafana/k6/issues/events/3115932385","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-10T18:27:00Z","performed_via_github_app":null},{"id":3115932390,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzExNTkzMjM5MA==","url":"https://api.github.com/repos/grafana/k6/issues/events/3115932390","actor":{"login":"imiric","id":1009277,"node_id":"MDQ6VXNlcjEwMDkyNzc=","avatar_url":"https://avatars.githubusercontent.com/u/1009277?v=4","gravatar_id":"","url":"https://api.github.com/users/imiric","html_url":"https://github.com/imiric","followers_url":"https://api.github.com/users/imiric/followers","following_url":"https://api.github.com/users/imiric/following{/other_user}","gists_url":"https://api.github.com/users/imiric/gists{/gist_id}","starred_url":"https://api.github.com/users/imiric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imiric/subscriptions","organizations_url":"https://api.github.com/users/imiric/orgs","repos_url":"https://api.github.com/users/imiric/repos","events_url":"https://api.github.com/users/imiric/events{/privacy}","received_events_url":"https://api.github.com/users/imiric/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-10T18:27:00Z","performed_via_github_app":null},{"id":3115932393,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMTU5MzIzOTM=","url":"https://api.github.com/repos/grafana/k6/issues/events/3115932393","actor":{"login":"imiric","id":1009277,"node_id":"MDQ6VXNlcjEwMDkyNzc=","avatar_url":"https://avatars.githubusercontent.com/u/1009277?v=4","gravatar_id":"","url":"https://api.github.com/users/imiric","html_url":"https://github.com/imiric","followers_url":"https://api.github.com/users/imiric/followers","following_url":"https://api.github.com/users/imiric/following{/other_user}","gists_url":"https://api.github.com/users/imiric/gists{/gist_id}","starred_url":"https://api.github.com/users/imiric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imiric/subscriptions","organizations_url":"https://api.github.com/users/imiric/orgs","repos_url":"https://api.github.com/users/imiric/repos","events_url":"https://api.github.com/users/imiric/events{/privacy}","received_events_url":"https://api.github.com/users/imiric/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-10T18:27:00Z","performed_via_github_app":null},{"id":3115932398,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzExNTkzMjM5OA==","url":"https://api.github.com/repos/grafana/k6/issues/events/3115932398","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-10T18:27:00Z","performed_via_github_app":null},{"id":3115932402,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMTU5MzI0MDI=","url":"https://api.github.com/repos/grafana/k6/issues/events/3115932402","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-10T18:27:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/597261102","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-597261102","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":597261102,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzI2MTEwMg==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T19:07:16Z","updated_at":"2020-03-10T19:12:49Z","body":"Thank you for creating this issue! As I said in Slack, we've discussed plugins a few times internally, but the lack of cross-platform support has always stopped us. Docker is an acceptable workaround for Windows though, and if a public plugin ever becomes very popular, we can always work on upstreaming it or having similar functionality in core k6, so I think this should be fine.\r\n\r\nA few comments about the proposal itself. Even though this is a v1, and we likely won't be making any API stability guarantees, we probably should think a bit about supporting other things besides new JS modules. Not actually implement anything else, just figure out a mechanism by which a plugin can declare its capabilities. The only capability currently available and supported by k6 would be extra modules exported to the JS runtime, but in the near future we'll probably want to include outputs in the mix. \r\n   \r\nThe reason for this is that I'd like the CLI plugin flag to one, `--plugin`. You should be able to just execute `k6 run --plugin extra-js-functions.so --plugin timescale-db-output.so --plugin mix-new-js-objects-and-output.so --plugin whatever.so my-cool-but-demaning-script.js`.\r\n\r\nSo, I'd like k6 to be able to dynamically determine what a plugin adds. Maybe type assertions with a bunch of pre-defined `interface` plugin types would be enough, one per type of plugin? Not sure if plugins restrict that in any way, but maybe the generic k6 plugin and the JS plugin interface can look somewhat like this:\r\n```go\r\n    type K6Plugin interface {\r\n        Name() string\r\n        Preflight() error  // though maybe Setup() or Init() would be a bit better?\r\n        Postflight() error  // Teardown()?\r\n    }\r\n    type JavaScriptPlugin interface{\r\n        K6Plugin\r\n        GetModules() map[string]interface{}\r\n    }\r\n```\r\n\r\nWe'll discuss this internally again tomorrow, and if we think of any other potential issues, we'll mention them here.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/597261102/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/597734860","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-597734860","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":597734860,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzczNDg2MA==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T16:29:38Z","updated_at":"2020-03-11T16:29:38Z","body":"Hey, @andremedeiros, we discussed this internally again and we didn't see any obstacles, so k6 plugins are a go! :confetti_ball: So, if you're interested in working on this, don't hesitate to ask any questions. \r\n\r\nAs a practical matter, the actual configuration handling of `--plugin foo.so --plugin bar.so` (and probably  `K6_PLUGINS=\"foo.so,bar.so\"` would also be useful) should be done as part of the `RuntimeOptions` in https://github.com/loadimpact/k6/blob/master/cmd/runtime_options.go. Then, somewhere around here you could probably inject the new JS modules in the current map: https://github.com/loadimpact/k6/blob/567e5a0e225e3bb8f2d5dec00c36fd4fdd9a5d7a/cmd/run.go#L115-L119\r\n\r\nAlso, we'd like the initial PR to k6 that adds the JS plugins to also feature a very simple demo plugin, and a small integration test in CI that the plugin actually works. The plugin can be dead simple though, a function that reverses a string or a `leftpad()` implementation would suffice :sweat_smile: . Or something more useful as long as it's not too complex.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/597734860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3119588530,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzExOTU4ODUzMA==","url":"https://api.github.com/repos/grafana/k6/issues/events/3119588530","actor":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-11T16:29:39Z","performed_via_github_app":null},{"id":3119588533,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMTk1ODg1MzM=","url":"https://api.github.com/repos/grafana/k6/issues/events/3119588533","actor":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-11T16:29:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/597820914","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-597820914","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":597820914,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzgyMDkxNA==","user":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T19:19:47Z","updated_at":"2020-03-11T19:19:47Z","body":"Sounds great to me! I'll get to work on it!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/597820914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T00:59:22Z","updated_at":"2020-04-16T00:59:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/1396","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1396/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1396/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1396/events","html_url":"https://github.com/grafana/k6/pull/1396","id":600674829,"node_id":"MDExOlB1bGxSZXF1ZXN0NDA0MDYwNDg1","number":1396,"title":"Plugin support","user":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2020-04-16T00:59:22Z","updated_at":"2020-11-04T17:19:23Z","closed_at":"2020-11-04T17:19:22Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/grafana/k6/pulls/1396","html_url":"https://github.com/grafana/k6/pull/1396","diff_url":"https://github.com/grafana/k6/pull/1396.diff","patch_url":"https://github.com/grafana/k6/pull/1396.patch","merged_at":null},"body":"Fixes #1353 \r\n\r\nTo do:\r\n\r\n- [x] Load plugin path\r\n- [x] Setup\r\n- [x] Teardown\r\n- [x] Expose plugin API in JavaScript\r\n- [x] Figure out the plugin writing UX and design\r\n- [x] Tests, tests, tests\r\n- [x] UI for plugins â“ \r\n\r\nNot fixing (see rationale below):\r\n\r\n- [ ] Load plugins list from environment variable\r\n- [ ] Improve plugin loading error messages\r\n","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1396/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":2,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1396/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/614367460","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-614367460","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":614367460,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM2NzQ2MA==","user":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T01:48:46Z","updated_at":"2020-04-16T01:48:46Z","body":"Friends, I've pushed a preliminary PR (#1396) that loads plugins, exposes them, and does the setup/teardown lifecycle.\r\n\r\nI don't have tests yet, and I'm not 100% happy with how clunky writing plugins feels right now, but it's doing what it's supposed to.\r\n\r\nI'd love to have a more involved chat with the team re: types and how things \"feel.\" Basically, with the way that Go's `plugin` package works, plugins are only useful if they export variables or functions. \r\n\r\nWe have two options:\r\n\r\n1. Be implicit in what is exported, as in, loading a plugin will try a series of variables that are defined by conventions (ie. if the plugin exports a `JavaScriptPlugin` variable we know what to expect.) This will result in `n` lookups, but less boilerplate.\r\n2. Be explicit in what is exported, as in, a function that is called `JavaScriptPlugin` and that returns `nil` when it doesn't expose anything of that type. This allows for a bit of logic but is also easier to break in the long run if we expect all functions for plugin types to be present (although we could also ignore the things we don't find.)\r\n\r\nCurious to hear your thoughts on the approach.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/614367460/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/614629311","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-614629311","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":614629311,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDYyOTMxMQ==","user":{"login":"simskij","id":1596025,"node_id":"MDQ6VXNlcjE1OTYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1596025?v=4","gravatar_id":"","url":"https://api.github.com/users/simskij","html_url":"https://github.com/simskij","followers_url":"https://api.github.com/users/simskij/followers","following_url":"https://api.github.com/users/simskij/following{/other_user}","gists_url":"https://api.github.com/users/simskij/gists{/gist_id}","starred_url":"https://api.github.com/users/simskij/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simskij/subscriptions","organizations_url":"https://api.github.com/users/simskij/orgs","repos_url":"https://api.github.com/users/simskij/repos","events_url":"https://api.github.com/users/simskij/events{/privacy}","received_events_url":"https://api.github.com/users/simskij/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T12:44:13Z","updated_at":"2020-04-16T12:44:31Z","body":"> Curious to hear your thoughts on the approach.\r\n\r\nðŸ¥³\r\n\r\nI've submitted some initial feedback. While this looks great so far, I think it will be easier to reason about once a runnable proof of concept (the previously mentioned demo) has been added to it. \r\n\r\nRegarding the options:\r\nGiven that we load and execute external code at runtime, the `n` additional lookups added by option 1 instinctively feel like a diminishing overhead. At the same time option 2, in my opinion, adds more issues than it solves. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/614629311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"simskij","id":1596025,"node_id":"MDQ6VXNlcjE1OTYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1596025?v=4","gravatar_id":"","url":"https://api.github.com/users/simskij","html_url":"https://github.com/simskij","followers_url":"https://api.github.com/users/simskij/followers","following_url":"https://api.github.com/users/simskij/following{/other_user}","gists_url":"https://api.github.com/users/simskij/gists{/gist_id}","starred_url":"https://api.github.com/users/simskij/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simskij/subscriptions","organizations_url":"https://api.github.com/users/simskij/orgs","repos_url":"https://api.github.com/users/simskij/repos","events_url":"https://api.github.com/users/simskij/events{/privacy}","received_events_url":"https://api.github.com/users/simskij/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/614630857","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-614630857","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":614630857,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDYzMDg1Nw==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T12:47:19Z","updated_at":"2020-04-16T12:47:19Z","body":"Sorry, I'm probably not going to be able to review the PR until next week - I'm swamped by other things today, and after that I'm off until next Tuesday.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/614630857/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/614981173","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-614981173","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":614981173,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDk4MTE3Mw==","user":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T01:17:03Z","updated_at":"2020-04-17T01:17:03Z","body":"Had another pass today, and I'm pretty happy with the way it turned out. Addressed some of the concerns, and decided to push a couple of things for future me to handle.\r\n\r\nWith regards to what I mentioned above, and after digesting @simskij's feedback, I decided to go with option 1. It's negligible in the broader context of running a load test, so `n` lookups for the sake of compatibility is a good thing.\r\n\r\nAt this point, baring an issue in the tests where the plugin is being built in the exact same container as the tests are being run, but somehow golang thinks it's built with a different runtime, I think we have a solid v1 implementation of plugins. It's useful (at least for the use case I originally had) and it sort of builds... which leads me to...\r\n\r\nCan one of you look at the tests? \r\n\r\nI'm not quite sure why they're failing right now, and it seems to be pretty happy On My Machine (tm). \r\n\r\nAlso, as a way to have a plugin that can be loaded in tests, I pushed a repo to  [andremedeiros/leftpad](https://github.com/andremedeiros/leftpad) that contains a very minimal plugin example. This gets loaded in tests and we run assertions on the output too. Part of me feels that this should be done inside the test code, in some dynamically created test directory, but I can't for the life of me find an acceptable pattern for this use case in golang. I'm willing to hear what other people think and adapt.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/614981173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andremedeiros","id":9689,"node_id":"MDQ6VXNlcjk2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9689?v=4","gravatar_id":"","url":"https://api.github.com/users/andremedeiros","html_url":"https://github.com/andremedeiros","followers_url":"https://api.github.com/users/andremedeiros/followers","following_url":"https://api.github.com/users/andremedeiros/following{/other_user}","gists_url":"https://api.github.com/users/andremedeiros/gists{/gist_id}","starred_url":"https://api.github.com/users/andremedeiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andremedeiros/subscriptions","organizations_url":"https://api.github.com/users/andremedeiros/orgs","repos_url":"https://api.github.com/users/andremedeiros/repos","events_url":"https://api.github.com/users/andremedeiros/events{/privacy}","received_events_url":"https://api.github.com/users/andremedeiros/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3242455859,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI0MjQ1NTg1OQ==","url":"https://api.github.com/repos/grafana/k6/issues/events/3242455859","actor":{"login":"simskij","id":1596025,"node_id":"MDQ6VXNlcjE1OTYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1596025?v=4","gravatar_id":"","url":"https://api.github.com/users/simskij","html_url":"https://github.com/simskij","followers_url":"https://api.github.com/users/simskij/followers","following_url":"https://api.github.com/users/simskij/following{/other_user}","gists_url":"https://api.github.com/users/simskij/gists{/gist_id}","starred_url":"https://api.github.com/users/simskij/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simskij/subscriptions","organizations_url":"https://api.github.com/users/simskij/orgs","repos_url":"https://api.github.com/users/simskij/repos","events_url":"https://api.github.com/users/simskij/events{/privacy}","received_events_url":"https://api.github.com/users/simskij/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-17T01:17:04Z","performed_via_github_app":null},{"id":3242455863,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyNDI0NTU4NjM=","url":"https://api.github.com/repos/grafana/k6/issues/events/3242455863","actor":{"login":"simskij","id":1596025,"node_id":"MDQ6VXNlcjE1OTYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1596025?v=4","gravatar_id":"","url":"https://api.github.com/users/simskij","html_url":"https://github.com/simskij","followers_url":"https://api.github.com/users/simskij/followers","following_url":"https://api.github.com/users/simskij/following{/other_user}","gists_url":"https://api.github.com/users/simskij/gists{/gist_id}","starred_url":"https://api.github.com/users/simskij/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simskij/subscriptions","organizations_url":"https://api.github.com/users/simskij/orgs","repos_url":"https://api.github.com/users/simskij/repos","events_url":"https://api.github.com/users/simskij/events{/privacy}","received_events_url":"https://api.github.com/users/simskij/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-17T01:17:04Z","performed_via_github_app":null},{"actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T20:41:54Z","updated_at":"2020-05-11T20:41:54Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/1445","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1445/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1445/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1445/events","html_url":"https://github.com/grafana/k6/issues/1445","id":616113387,"node_id":"MDU6SXNzdWU2MTYxMTMzODc=","number":1445,"title":"Support for writing tests in directly in Go.","user":{"login":"damnhandy","id":415094,"node_id":"MDQ6VXNlcjQxNTA5NA==","avatar_url":"https://avatars.githubusercontent.com/u/415094?v=4","gravatar_id":"","url":"https://api.github.com/users/damnhandy","html_url":"https://github.com/damnhandy","followers_url":"https://api.github.com/users/damnhandy/followers","following_url":"https://api.github.com/users/damnhandy/following{/other_user}","gists_url":"https://api.github.com/users/damnhandy/gists{/gist_id}","starred_url":"https://api.github.com/users/damnhandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/damnhandy/subscriptions","organizations_url":"https://api.github.com/users/damnhandy/orgs","repos_url":"https://api.github.com/users/damnhandy/repos","events_url":"https://api.github.com/users/damnhandy/events{/privacy}","received_events_url":"https://api.github.com/users/damnhandy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869282130,"node_id":"MDU6TGFiZWw4NjkyODIxMzA=","url":"https://api.github.com/repos/grafana/k6/labels/feature","name":"feature","color":"5319E7","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-05-11T19:06:57Z","updated_at":"2020-11-06T09:05:19Z","closed_at":"2020-11-06T09:05:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"\r\n\r\n## Feature Description\r\nI was really excited by K6 due to the fact that it's one of the few test platforms that actually allow me to define my tests in code rather than YAML or XML. While being able to write scripts in ES6 seemed cool at first, it's become a bit of a disappointment for the following reasons:\r\n\r\n* [K6 Modules](https://k6.io/docs/using-k6/modules) do work, and to a certain degree allow you use existing NPM modules to get work done. The caveat is being aware of the fact that some NPM modules have either dependencies on Node or browser capabilities that are not present in the K6 runtime. \r\n* Bundling adds a build step in order to bundle everything together. \r\n* Core-JS is still missing a lot of functionality\r\n\r\n\r\n## Suggested Solution (optional)\r\nWhy not consider allowing tests to be written directly in Go? This still requires a build steps just as bundling would, but also permits users to take full advantage of the Go ecosystem rather than a watered down version of ES6. \r\n\r\nI would image this would follow a similar model as K6 Modules where one would still define a default function and pre-compile the code. Yes, it's another runtime model to support, but one that is less limiting than building ES6 modules or creating a plugin model for K6. \r\n","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1445/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1445/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"imiric","id":1009277,"node_id":"MDQ6VXNlcjEwMDkyNzc=","avatar_url":"https://avatars.githubusercontent.com/u/1009277?v=4","gravatar_id":"","url":"https://api.github.com/users/imiric","html_url":"https://github.com/imiric","followers_url":"https://api.github.com/users/imiric/followers","following_url":"https://api.github.com/users/imiric/following{/other_user}","gists_url":"https://api.github.com/users/imiric/gists{/gist_id}","starred_url":"https://api.github.com/users/imiric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imiric/subscriptions","organizations_url":"https://api.github.com/users/imiric/orgs","repos_url":"https://api.github.com/users/imiric/repos","events_url":"https://api.github.com/users/imiric/events{/privacy}","received_events_url":"https://api.github.com/users/imiric/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T08:02:26Z","updated_at":"2020-05-15T08:02:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/1306","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1306/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1306/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1306/events","html_url":"https://github.com/grafana/k6/issues/1306","id":547842766,"node_id":"MDU6SXNzdWU1NDc4NDI3NjY=","number":1306,"title":"Add support for socket.io ","user":{"login":"peixin","id":1221523,"node_id":"MDQ6VXNlcjEyMjE1MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1221523?v=4","gravatar_id":"","url":"https://api.github.com/users/peixin","html_url":"https://github.com/peixin","followers_url":"https://api.github.com/users/peixin/followers","following_url":"https://api.github.com/users/peixin/following{/other_user}","gists_url":"https://api.github.com/users/peixin/gists{/gist_id}","starred_url":"https://api.github.com/users/peixin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peixin/subscriptions","organizations_url":"https://api.github.com/users/peixin/orgs","repos_url":"https://api.github.com/users/peixin/repos","events_url":"https://api.github.com/users/peixin/events{/privacy}","received_events_url":"https://api.github.com/users/peixin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":345191760,"node_id":"MDU6TGFiZWwzNDUxOTE3NjA=","url":"https://api.github.com/repos/grafana/k6/labels/enhancement","name":"enhancement","color":"5319E7","default":true,"description":""},{"id":345191761,"node_id":"MDU6TGFiZWwzNDUxOTE3NjE=","url":"https://api.github.com/repos/grafana/k6/labels/help%20wanted","name":"help wanted","color":"159818","default":true,"description":null},{"id":869282130,"node_id":"MDU6TGFiZWw4NjkyODIxMzA=","url":"https://api.github.com/repos/grafana/k6/labels/feature","name":"feature","color":"5319E7","default":false,"description":""},{"id":5881916984,"node_id":"LA_kwDOAz4Wr88AAAABXpbuOA","url":"https://api.github.com/repos/grafana/k6/labels/triage","name":"triage","color":"2ee8ff","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2020-01-10T03:24:34Z","updated_at":"2025-01-06T16:56:15Z","closed_at":"2024-02-12T15:48:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Server using [Socket.IO](https://github.com/socketio/socket.io)\r\n\r\n> Socket.IO is not a WebSocket implementation. Although Socket.IO indeed uses WebSocket as a transport when possible, it adds some metadata to each packet: the packet type, the namespace and the ack id when a message acknowledgement is needed. That is why a WebSocket client will not be able to successfully connect to a Socket.IO server, and a Socket.IO client will not be able to connect to a WebSocket server (like ws://echo.websocket.org) either. Please see the protocol specification [here](https://github.com/socketio/socket.io-protocol).\r\n\r\nUseing  k6  ws module  connect will throw an error:\r\n\r\n> ERRO[0000] GoError: websocket: bad handshake\r\n","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1306/reactions","total_count":31,"+1":21,"-1":0,"laugh":1,"hooray":3,"confused":0,"heart":1,"rocket":2,"eyes":3},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1306/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T13:13:43Z","updated_at":"2020-07-13T13:13:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/1493","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1493/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1493/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1493/events","html_url":"https://github.com/grafana/k6/issues/1493","id":635245860,"node_id":"MDU6SXNzdWU2MzUyNDU4NjA=","number":1493,"title":"Can k6 support socket protocol ? not websocket.","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869282130,"node_id":"MDU6TGFiZWw4NjkyODIxMzA=","url":"https://api.github.com/repos/grafana/k6/labels/feature","name":"feature","color":"5319E7","default":false,"description":""},{"id":1079102926,"node_id":"MDU6TGFiZWwxMDc5MTAyOTI2","url":"https://api.github.com/repos/grafana/k6/labels/evaluation%20needed","name":"evaluation needed","color":"006B75","default":false,"description":"proposal needs to be validated or tested before fully implementing it in k6"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-06-09T09:00:07Z","updated_at":"2024-03-06T13:38:42Z","closed_at":"2024-03-06T13:38:42Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"\r\n\r\n## Feature Description\r\nDoes k6 support socket protocol? If not, how could I extend this function based on k6? Is there any examplesï¼Ÿ\r\n\r\n\r\n## Suggested Solution (optional)\r\n<!--- Any implementation suggestions you might have: technical details, design tradeoffs, API proposals, etc. -->\r\n","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1493/reactions","total_count":8,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1493/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/661031628","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-661031628","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":661031628,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTAzMTYyOA==","user":{"login":"mostafa","id":54546,"node_id":"MDQ6VXNlcjU0NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/54546?v=4","gravatar_id":"","url":"https://api.github.com/users/mostafa","html_url":"https://github.com/mostafa","followers_url":"https://api.github.com/users/mostafa/followers","following_url":"https://api.github.com/users/mostafa/following{/other_user}","gists_url":"https://api.github.com/users/mostafa/gists{/gist_id}","starred_url":"https://api.github.com/users/mostafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mostafa/subscriptions","organizations_url":"https://api.github.com/users/mostafa/orgs","repos_url":"https://api.github.com/users/mostafa/repos","events_url":"https://api.github.com/users/mostafa/events{/privacy}","received_events_url":"https://api.github.com/users/mostafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T13:14:17Z","updated_at":"2020-07-24T22:02:05Z","body":"# My evaluation of the plug-in system for k6\r\n\r\nThe plug-in system will soon be the quintessential part of the k6 tooling ecosystem. The benefits of such a system are not hidden to anyone, with the most significant being that load testing various protocols become easy, in addition to various useful plugins that can help with current issues with JavaScript external modules (NodeJavaScript APIs, browser APIs and ...). These are my observations:\r\n\r\n## The Good\r\n\r\nI was able to quickly create three plugins:\r\n\r\n1. A plugin for load testing Apache Kafka with custom messages: [k6-plugin-kafka](https://github.com/mostafa/k6-plugin-kafka)\r\n2. An ICMP plugin (ping4 and ping6): [k6-plugin-icmp](https://github.com/mostafa/k6-plugin-icmp)\r\n3. A SQL plugin to load test SQL servers, supporting PostgreSQL, MySQL and SQLite: [k6-plugin-sql](https://github.com/mostafa/k6-plugin-sql)\r\n\r\nIt took me a long time to create the first plugin because I was learning Golang and dealing with various parts of the language and the k6 APIs. But the second plugin was created in an afternoon. Before creating the third plugin, I started to think that a pattern is emerging, so I created a [template](https://github.com/mostafa/k6-plugin-template) repository on GitHub and started forking it for the third plugin. The template is not perfect and it also includes the hacky parts for getting state and pushing metrics. Thus, once the plugin system is merged, the template repo should be updated.\r\n\r\n## The Bad\r\n\r\nIt was really difficult to understand how k6 and the plugin system works behind the scenes, mostly because of the lack of documentation and examples. This was significantly more difficult in the first plugin, but became easier over time. The hardest part was figuring out that there's a magic `Context` passed as the first argument to each function. The second hardest was the conversion (reflection) of types between JavaScript and Golang. These should be documented extensively. Another annoying issue was the API differences between JavaScript and Golang and it was mostly due to the error handling of Golang. We should (maybe) have a documented convention for writing functions and exposing plugin APIs, so that we don't end up dealing with a multitude of API differences in terms of UX and DX.\r\n\r\n## The Ugly\r\n\r\nUsing a hacky solution to get (current) state from the `Context` was the ugliest part of the experience. The `lib.GetState` didn't work on v0.26.2 and v0.27.0, which forced me to write a workaround for it. I have modified `Context` printing function to retrieve the state (instead of printing).\r\nAlso, porting the plugin system to v0.27.0 caused the k6 to not stop sometimes, especially with higher VUs, even with duration and `gracefulStop` and other related configs set. Then, I must kill it manually, which made it not to return any results.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/661031628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mostafa","id":54546,"node_id":"MDQ6VXNlcjU0NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/54546?v=4","gravatar_id":"","url":"https://api.github.com/users/mostafa","html_url":"https://github.com/mostafa","followers_url":"https://api.github.com/users/mostafa/followers","following_url":"https://api.github.com/users/mostafa/following{/other_user}","gists_url":"https://api.github.com/users/mostafa/gists{/gist_id}","starred_url":"https://api.github.com/users/mostafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mostafa/subscriptions","organizations_url":"https://api.github.com/users/mostafa/orgs","repos_url":"https://api.github.com/users/mostafa/repos","events_url":"https://api.github.com/users/mostafa/events{/privacy}","received_events_url":"https://api.github.com/users/mostafa/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"mostafa","id":54546,"node_id":"MDQ6VXNlcjU0NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/54546?v=4","gravatar_id":"","url":"https://api.github.com/users/mostafa","html_url":"https://github.com/mostafa","followers_url":"https://api.github.com/users/mostafa/followers","following_url":"https://api.github.com/users/mostafa/following{/other_user}","gists_url":"https://api.github.com/users/mostafa/gists{/gist_id}","starred_url":"https://api.github.com/users/mostafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mostafa/subscriptions","organizations_url":"https://api.github.com/users/mostafa/orgs","repos_url":"https://api.github.com/users/mostafa/repos","events_url":"https://api.github.com/users/mostafa/events{/privacy}","received_events_url":"https://api.github.com/users/mostafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T15:35:22Z","updated_at":"2020-07-21T15:35:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/1019","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1019/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1019/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1019/events","html_url":"https://github.com/grafana/k6/issues/1019","id":443966567,"node_id":"MDU6SXNzdWU0NDM5NjY1Njc=","number":1019,"title":"Add database support","user":{"login":"ayaka209","id":4350801,"node_id":"MDQ6VXNlcjQzNTA4MDE=","avatar_url":"https://avatars.githubusercontent.com/u/4350801?v=4","gravatar_id":"","url":"https://api.github.com/users/ayaka209","html_url":"https://github.com/ayaka209","followers_url":"https://api.github.com/users/ayaka209/followers","following_url":"https://api.github.com/users/ayaka209/following{/other_user}","gists_url":"https://api.github.com/users/ayaka209/gists{/gist_id}","starred_url":"https://api.github.com/users/ayaka209/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ayaka209/subscriptions","organizations_url":"https://api.github.com/users/ayaka209/orgs","repos_url":"https://api.github.com/users/ayaka209/repos","events_url":"https://api.github.com/users/ayaka209/events{/privacy}","received_events_url":"https://api.github.com/users/ayaka209/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":345191761,"node_id":"MDU6TGFiZWwzNDUxOTE3NjE=","url":"https://api.github.com/repos/grafana/k6/labels/help%20wanted","name":"help wanted","color":"159818","default":true,"description":null},{"id":869282130,"node_id":"MDU6TGFiZWw4NjkyODIxMzA=","url":"https://api.github.com/repos/grafana/k6/labels/feature","name":"feature","color":"5319E7","default":false,"description":""},{"id":1079102926,"node_id":"MDU6TGFiZWwxMDc5MTAyOTI2","url":"https://api.github.com/repos/grafana/k6/labels/evaluation%20needed","name":"evaluation needed","color":"006B75","default":false,"description":"proposal needs to be validated or tested before fully implementing it in k6"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-05-14T15:00:03Z","updated_at":"2023-12-04T10:07:31Z","closed_at":"2023-12-04T10:07:31Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"There are many npm database client but they can't be browserified, some used tcp, some used binaries. so we can't use sqlite, mysql, ... in k6.\r\n\r\nplease add support for database, or add more support for these npm package","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1019/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T08:04:17Z","updated_at":"2020-08-10T08:04:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/441","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/441/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/441/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/441/events","html_url":"https://github.com/grafana/k6/issues/441","id":286331238,"node_id":"MDU6SXNzdWUyODYzMzEyMzg=","number":441,"title":"Support for gRPC protocol","user":{"login":"robingustafsson","id":1792533,"node_id":"MDQ6VXNlcjE3OTI1MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1792533?v=4","gravatar_id":"","url":"https://api.github.com/users/robingustafsson","html_url":"https://github.com/robingustafsson","followers_url":"https://api.github.com/users/robingustafsson/followers","following_url":"https://api.github.com/users/robingustafsson/following{/other_user}","gists_url":"https://api.github.com/users/robingustafsson/gists{/gist_id}","starred_url":"https://api.github.com/users/robingustafsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robingustafsson/subscriptions","organizations_url":"https://api.github.com/users/robingustafsson/orgs","repos_url":"https://api.github.com/users/robingustafsson/repos","events_url":"https://api.github.com/users/robingustafsson/events{/privacy}","received_events_url":"https://api.github.com/users/robingustafsson/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869282130,"node_id":"MDU6TGFiZWw4NjkyODIxMzA=","url":"https://api.github.com/repos/grafana/k6/labels/feature","name":"feature","color":"5319E7","default":false,"description":""},{"id":874927263,"node_id":"MDU6TGFiZWw4NzQ5MjcyNjM=","url":"https://api.github.com/repos/grafana/k6/labels/high%20prio","name":"high prio","color":"D93F0B","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/grafana/k6/milestones/11","html_url":"https://github.com/grafana/k6/milestone/11","labels_url":"https://api.github.com/repos/grafana/k6/milestones/11/labels","id":5853332,"node_id":"MDk6TWlsZXN0b25lNTg1MzMzMg==","number":11,"title":"v0.29.0","description":"","creator":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":47,"state":"closed","created_at":"2020-09-08T07:26:34Z","updated_at":"2021-01-19T11:53:02Z","due_on":"2020-11-09T08:00:00Z","closed_at":"2020-11-11T14:39:15Z"},"comments":34,"created_at":"2018-01-05T16:08:04Z","updated_at":"2020-10-21T08:42:33Z","closed_at":"2020-10-21T08:42:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Will happily take suggestions for what a gRPC JS API should look like. I guess https://grpc.io/docs/tutorials/basic/node.html and https://github.com/grpc/grpc-node would be good starting points.\r\n\r\n----\r\n\r\n[Added on May 29th, 2019]\r\n\r\nTo enable testing of more parts of modern software systems, microservices to be more specific, k6 needs to support gRPC. The implementation should support both simple RPC (request/response calls, \"part/iteration 1\") as well as streaming (client-side, server-side and bi-directional, \"part/iteration 2\").\r\n\r\n## Authentication\r\nThe implementation should implement the following authentication mechanisms:\r\n\r\n*Transport*:\r\n- Insecure: no authentication\r\n- TLS: make use of the APIs implemented as part of the PKI crypto issue for loading keys.\r\n\r\n*Per-RPC*:\r\n- Google OAuth2\r\n\r\n## Request/Response RPC\r\nThe expected JS API would look something like this for the request/response RPC part:\r\n\r\n```js\r\nimport grpc from â€œk6/grpcâ€;\r\n\r\nlet proto = open(\"EchoService.proto\");\r\nlet client = new grpc.Client(proto, {server: \"localhost:50051\", credentials: {...}});\r\n\r\nexport default function() {\r\n    let res = client.ping({ message: \"Hello gRPC World!\" });\r\n    check(res, {\r\n        \"is successful\": (r) => r.status === grpc.STATUS_OK\r\n    });\r\n}\r\n```\r\n\r\n## Additional changes\r\nThis would require the following changes to k6:\r\n- Add support for a new protocol â€œgrpcâ€ as a JS module â€œk6/grpcâ€\r\n- Add support for metrics tracking of key gRPC statistics:\r\n    - DNS lookup, Connect, TLS Handshake, Latency & Response time: Trend\r\n        - Tags:\r\n            - \"service\": the name of the service called\r\n            - \"method\": the service method called\r\n            - \"rpc_type\": the type of RPC call (one of \"simple\", \"server-streaming\", \"client-streaming\" or \"bi-streaming\")\r\n            - \"status\": the response status code of a RPC call\r\n            - \"request_message\": the name of the request message\r\n            - \"response_message\": the name of the response message\r\n    - Requests/second: Rate\r\n    - Active streams: Gauge\r\n- The response object of a RPC call should contain the following properties:\r\n    - \"service\": the name of the service called\r\n    - \"method\": the service method called\r\n    - \"rpc_type\": the type of RPC call (one of \"simple\", \"server-streaming\", \"client-streaming\" or \"bi-streaming\")\r\n    - \"status\": the response status code of a RPC call\r\n    - \"message\": the response message as a JS Object\r\n    - \"request.message\": the request message as a JS Object\r\n\r\n## Resources\r\n- [gRPC docs](https://grpc.io/)\r\n- Go library for reflecting Protocol Buffer files (.proto) and creating bindings dynamically: https://github.com/jhump/protoreflect","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/441/reactions","total_count":38,"+1":34,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":4,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/441/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T05:46:08Z","updated_at":"2020-08-18T05:46:08Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6-docs/issues/85","repository_url":"https://api.github.com/repos/grafana/k6-docs","labels_url":"https://api.github.com/repos/grafana/k6-docs/issues/85/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6-docs/issues/85/comments","events_url":"https://api.github.com/repos/grafana/k6-docs/issues/85/events","html_url":"https://github.com/grafana/k6-docs/issues/85","id":680712401,"node_id":"MDU6SXNzdWU2ODA3MTI0MDE=","number":85,"title":"Document plugins","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-08-18T05:46:08Z","updated_at":"2020-12-17T12:56:36Z","closed_at":"2020-12-17T12:56:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":256490317,"node_id":"MDEwOlJlcG9zaXRvcnkyNTY0OTAzMTc=","name":"k6-docs","full_name":"grafana/k6-docs","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6-docs","description":"The k6 documentation website.","fork":false,"url":"https://api.github.com/repos/grafana/k6-docs","forks_url":"https://api.github.com/repos/grafana/k6-docs/forks","keys_url":"https://api.github.com/repos/grafana/k6-docs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6-docs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6-docs/teams","hooks_url":"https://api.github.com/repos/grafana/k6-docs/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6-docs/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6-docs/events","assignees_url":"https://api.github.com/repos/grafana/k6-docs/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6-docs/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6-docs/tags","blobs_url":"https://api.github.com/repos/grafana/k6-docs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6-docs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6-docs/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6-docs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6-docs/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6-docs/languages","stargazers_url":"https://api.github.com/repos/grafana/k6-docs/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6-docs/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6-docs/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6-docs/subscription","commits_url":"https://api.github.com/repos/grafana/k6-docs/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6-docs/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6-docs/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6-docs/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6-docs/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6-docs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6-docs/merges","archive_url":"https://api.github.com/repos/grafana/k6-docs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6-docs/downloads","issues_url":"https://api.github.com/repos/grafana/k6-docs/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6-docs/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6-docs/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6-docs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6-docs/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6-docs/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6-docs/deployments","created_at":"2020-04-17T11:58:42Z","updated_at":"2025-11-07T19:15:07Z","pushed_at":"2025-11-07T22:19:53Z","git_url":"git://github.com/grafana/k6-docs.git","ssh_url":"git@github.com:grafana/k6-docs.git","clone_url":"https://github.com/grafana/k6-docs.git","svn_url":"https://github.com/grafana/k6-docs","homepage":"https://grafana.com/docs/k6/latest/","size":82376,"stargazers_count":106,"watchers_count":106,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":247,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":233,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["devops","docs","hacktoberfest","k6","performance-testing","reliability-engineering"],"visibility":"public","forks":247,"open_issues":233,"watchers":106,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"After we merge this k6 WIP PR: https://github.com/loadimpact/k6/pull/1396 (https://github.com/loadimpact/k6/issues/1353), but before we release k6 v0.28.0, someone has to write a docs page that explains plugins, and maybe has a very short and simple tutorial on how to write one. We should then link to that page from the v0.28.0 release notes. \r\n\r\nAlso prompted by https://github.com/loadimpact/k6/issues/1595\r\n\r\nEdit: as I've said many times, it's very important to stress in that docs page that this is a beta-quality feature. The current plugin API (and k6 APIs they will depend on) are not guaranteed to be stable, and plugins may need changes when we update k6.","reactions":{"url":"https://api.github.com/repos/grafana/k6-docs/issues/85/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6-docs/issues/85/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T05:51:36Z","updated_at":"2020-08-18T05:51:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/1595","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1595/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1595/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1595/events","html_url":"https://github.com/grafana/k6/issues/1595","id":680492709,"node_id":"MDU6SXNzdWU2ODA0OTI3MDk=","number":1595,"title":"Explain how to add a Go package to k6","user":{"login":"mardukbp","id":1140106,"node_id":"MDQ6VXNlcjExNDAxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/1140106?v=4","gravatar_id":"","url":"https://api.github.com/users/mardukbp","html_url":"https://github.com/mardukbp","followers_url":"https://api.github.com/users/mardukbp/followers","following_url":"https://api.github.com/users/mardukbp/following{/other_user}","gists_url":"https://api.github.com/users/mardukbp/gists{/gist_id}","starred_url":"https://api.github.com/users/mardukbp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mardukbp/subscriptions","organizations_url":"https://api.github.com/users/mardukbp/orgs","repos_url":"https://api.github.com/users/mardukbp/repos","events_url":"https://api.github.com/users/mardukbp/events{/privacy}","received_events_url":"https://api.github.com/users/mardukbp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869282130,"node_id":"MDU6TGFiZWw4NjkyODIxMzA=","url":"https://api.github.com/repos/grafana/k6/labels/feature","name":"feature","color":"5319E7","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-17T20:03:00Z","updated_at":"2020-08-18T05:51:40Z","closed_at":"2020-08-18T05:51:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--- Provide a general summary of the feature in the Title above -->\r\n\r\n## Feature Description\r\n\r\nk6 comes with some Go packages, but it may happen that one needs a Go package that is not included.\r\nIn my case I needed to generate a CMAC and I had to learn by myself how to do it. This information \r\nshould be readily available in the documentation, thus saving users a lot of time and making k6 even\r\nmore awesome!\r\n\r\n## Suggested Solution\r\n\r\nA Go package template and instructions for adding it to k6 are provided in my [k6gopackage](https://github.com/mardukbp/k6gopackage) repository. \r\nIt should be a good starting point for writing the missing documentation.","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1595/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/675323734","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-675323734","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":675323734,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTMyMzczNA==","user":{"login":"mardukbp","id":1140106,"node_id":"MDQ6VXNlcjExNDAxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/1140106?v=4","gravatar_id":"","url":"https://api.github.com/users/mardukbp","html_url":"https://github.com/mardukbp","followers_url":"https://api.github.com/users/mardukbp/followers","following_url":"https://api.github.com/users/mardukbp/following{/other_user}","gists_url":"https://api.github.com/users/mardukbp/gists{/gist_id}","starred_url":"https://api.github.com/users/mardukbp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mardukbp/subscriptions","organizations_url":"https://api.github.com/users/mardukbp/orgs","repos_url":"https://api.github.com/users/mardukbp/repos","events_url":"https://api.github.com/users/mardukbp/events{/privacy}","received_events_url":"https://api.github.com/users/mardukbp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T07:59:47Z","updated_at":"2020-08-18T08:01:56Z","body":"In my opinion, using Go plugins is not the way to go. \r\n\r\nFacts:\r\n\r\n* [Using plugins in a project with vendored dependencies (like k6) is a mess](https://github.com/golang/go/issues/20481)\r\n* [Windows support is not coming any time soon](https://github.com/golang/go/issues/19282) \r\n* Requiring to install Docker, which consumes gigabytes of hard disk and RAM, to run a 1 KB plugin is absurd\r\n\r\nAs the 5th top contributor to the go repo [put it](https://github.com/golang/go/issues/19282#issuecomment-643690379):\r\n\r\n> It is really indisputable that plugins are a half baked feature. They have significant problems even on platforms where they (mostly) work. It was perhaps a mistake to add them at all. I think I approved the change to add plugins myself; I'm sorry for the trouble they are causing.\r\n\r\nI think the k6 team has to consider a cross-platform solution, built on a more solid foundation. One possibility is to use [yaegi](https://github.com/containous/yaegi), a Go interpreter implemented in Go and designed to add plugins to Go applications.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/675323734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mardukbp","id":1140106,"node_id":"MDQ6VXNlcjExNDAxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/1140106?v=4","gravatar_id":"","url":"https://api.github.com/users/mardukbp","html_url":"https://github.com/mardukbp","followers_url":"https://api.github.com/users/mardukbp/followers","following_url":"https://api.github.com/users/mardukbp/following{/other_user}","gists_url":"https://api.github.com/users/mardukbp/gists{/gist_id}","starred_url":"https://api.github.com/users/mardukbp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mardukbp/subscriptions","organizations_url":"https://api.github.com/users/mardukbp/orgs","repos_url":"https://api.github.com/users/mardukbp/repos","events_url":"https://api.github.com/users/mardukbp/events{/privacy}","received_events_url":"https://api.github.com/users/mardukbp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/675345316","html_url":"https://github.com/grafana/k6/issues/1353#issuecomment-675345316","issue_url":"https://api.github.com/repos/grafana/k6/issues/1353","id":675345316,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTM0NTMxNg==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T08:40:43Z","updated_at":"2020-08-18T08:40:43Z","body":"@mardukbp, I hear you. We're not blind about the issues with Go plugins, though I have to admit I hadn't considered the potential problems of vendored dependencies. Another issue you don't mention, which we recently found out about, is the requirement to use `CGO_ENABLED=1` in the k6 builds, which we currently don't do ([1](https://github.com/loadimpact/k6/blob/4c39bcccf606aa3b4324ec5d4f3adfdfcf7d2fa5/Dockerfile#L5), [2](https://github.com/loadimpact/k6/blob/c5f6881d37c44b90b999ac2db4081d5614ab7aaa/build-release.sh#L83-L84), [3](https://github.com/loadimpact/k6/blob/5a8cee5cd7352fe6d6708f3dcb3cef015940dfab/appveyor.yml#L15), [4](https://github.com/loadimpact/k6/blob/783f118e5e64d6e73340b2d1e360cfbd7808de4b/.circleci/config.yml#L160)). \r\n\r\nRegarding the vendor issue - I don't think it'd be a huge problem in the case of k6. The likely use case of a k6 JS plugin would be to expose some new functionality to k6 scripts (DB queries, DNS, raw TCP, queue messages, some SDK for something, etc.) and maybe measure the things it does and emit metrics. So, in the unlikely event it shares a dependency with k6, it's not going to be an issue if it has its own copy of it. The architecture of how VUs are executed and how they emit metrics is reasonably decoupled and shouldn't require any specific dependency beyond k6.\r\n\r\nAlso, k6 is meant to be a batteries-included sort of tool. If a particular well-written plugin becomes very popular, it's very likely we'll try to bring it into the k6 core. And, your original suggestion (https://github.com/loadimpact/k6/issues/1595) is never going to not be an option for anyone who knows Go. Compiling a k6 version with a plugin bundled in is probably going to be very easy, possibly also automate-able. @MStoykov actually suggested that instead of plugins, we should have a \"k6 bundler\" which builds a unique k6 binary, for any platform, allowing you to just select which things out of a list of features/plugins you want. Sort of like these JS library builders - for example, [babel](https://babeljs.io/en/setup). I don't think that would offer better UX, but it's not completely out of the question that we pivot in that direction, if the current version of plugins proves to be too problematic for us. We'd be very explicit that we don't offer _any_ guarantees about backwards compatibility _yet_, when it comes to plugins.\r\n\r\nLack of Windows support for Go plugins isn't ideal either, but having Docker as a workaround is mostly OK, in my mind. The [k6 docker image](https://hub.docker.com/r/loadimpact/k6/tags/) sits at ~10MB, which seems reasonable to me. And, I'm not certain, but the Linux k6 binary _should_ work on the the Windows Subsystem for Linux (WSL), which means you _should_ be able to use k6 plugins that way also...\r\n\r\nyaegi deserves some investigation - we've previously only considered it as a way to allow non-JS scripts to be executed by k6. As I explained in https://github.com/loadimpact/k6/issues/751, there are some issues with that use case, mostly refactoring that needs to happen in k6 before we can try it. We haven't considered how suitable it would be for plugins though, and my biggest worry is performance. \r\n\r\nIt's not out of the question for a single Go dependency to be tens of thousands of lines of Go code. For example, the https://github.com/Shopify/sarama/ dependency, which is currently used only for the [Kafka output in k6](https://k6.io/docs/results-visualization/apache-kafka). Our [vendored copy of it](https://github.com/loadimpact/k6/tree/master/vendor/github.com/Shopify/sarama) sits at 10k lines of Go code, and that's not including any of the dependencies it itself has. Judging by the https://github.com/loadimpact/k6/pull/617 PR that added the Kafka output, it might be closer to 25k. So, a kafka plugin is going to pull in anywhere from 10k to 25k lines of Go code, and there are probably much larger things (e.g. AWS SDK or some crypto library?). It seems to me like we'd want them to be compiled instead of interpreted, especially in a load testing tool. We already have issues with huge JS scripts. [goja](https://github.com/dop251/goja), the JS runtime we use, is reasonably performant with most scripts, but we're hitting performance issues when dealing with huge ones. I don't want to also have to deal with performance issues because we're interpreting huge Go files...","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/675345316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3665249233,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzY2NTI0OTIzMw==","url":"https://api.github.com/repos/grafana/k6/issues/events/3665249233","actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-18T08:40:43Z","performed_via_github_app":null}]