[{"id":1374748862,"node_id":"MDEyOkxhYmVsZWRFdmVudDEzNzQ3NDg4NjI=","url":"https://api.github.com/repos/grafana/k6/issues/events/1374748862","actor":{"login":"robingustafsson","id":1792533,"node_id":"MDQ6VXNlcjE3OTI1MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1792533?v=4","gravatar_id":"","url":"https://api.github.com/users/robingustafsson","html_url":"https://github.com/robingustafsson","followers_url":"https://api.github.com/users/robingustafsson/followers","following_url":"https://api.github.com/users/robingustafsson/following{/other_user}","gists_url":"https://api.github.com/users/robingustafsson/gists{/gist_id}","starred_url":"https://api.github.com/users/robingustafsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robingustafsson/subscriptions","organizations_url":"https://api.github.com/users/robingustafsson/orgs","repos_url":"https://api.github.com/users/robingustafsson/repos","events_url":"https://api.github.com/users/robingustafsson/events{/privacy}","received_events_url":"https://api.github.com/users/robingustafsson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-12-06T13:12:53Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/349735263","html_url":"https://github.com/grafana/k6/issues/397#issuecomment-349735263","issue_url":"https://api.github.com/repos/grafana/k6/issues/397","id":349735263,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTczNTI2Mw==","user":{"login":"borjacampina","id":514025,"node_id":"MDQ6VXNlcjUxNDAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/514025?v=4","gravatar_id":"","url":"https://api.github.com/users/borjacampina","html_url":"https://github.com/borjacampina","followers_url":"https://api.github.com/users/borjacampina/followers","following_url":"https://api.github.com/users/borjacampina/following{/other_user}","gists_url":"https://api.github.com/users/borjacampina/gists{/gist_id}","starred_url":"https://api.github.com/users/borjacampina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/borjacampina/subscriptions","organizations_url":"https://api.github.com/users/borjacampina/orgs","repos_url":"https://api.github.com/users/borjacampina/repos","events_url":"https://api.github.com/users/borjacampina/events{/privacy}","received_events_url":"https://api.github.com/users/borjacampina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T18:42:41Z","updated_at":"2017-12-06T18:42:41Z","body":"What about using `colorable.NewNonColorable` as stdout/stderr writer instead of evaluating the value of the noColor flag in every part of the code?\r\n\r\n```\r\nstdout    = consoleWriter{colorable.NewNonColorable(os.Stdout), stdoutTTY, outMutex}\r\nstderr    = consoleWriter{colorable.NewNonColorable(os.Stderr), stderrTTY, outMutex}\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/349735263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"borjacampina","id":514025,"node_id":"MDQ6VXNlcjUxNDAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/514025?v=4","gravatar_id":"","url":"https://api.github.com/users/borjacampina","html_url":"https://github.com/borjacampina","followers_url":"https://api.github.com/users/borjacampina/followers","following_url":"https://api.github.com/users/borjacampina/following{/other_user}","gists_url":"https://api.github.com/users/borjacampina/gists{/gist_id}","starred_url":"https://api.github.com/users/borjacampina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/borjacampina/subscriptions","organizations_url":"https://api.github.com/users/borjacampina/orgs","repos_url":"https://api.github.com/users/borjacampina/repos","events_url":"https://api.github.com/users/borjacampina/events{/privacy}","received_events_url":"https://api.github.com/users/borjacampina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/350178816","html_url":"https://github.com/grafana/k6/issues/397#issuecomment-350178816","issue_url":"https://api.github.com/repos/grafana/k6/issues/397","id":350178816,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDE3ODgxNg==","user":{"login":"ppcano","id":825430,"node_id":"MDQ6VXNlcjgyNTQzMA==","avatar_url":"https://avatars.githubusercontent.com/u/825430?v=4","gravatar_id":"","url":"https://api.github.com/users/ppcano","html_url":"https://github.com/ppcano","followers_url":"https://api.github.com/users/ppcano/followers","following_url":"https://api.github.com/users/ppcano/following{/other_user}","gists_url":"https://api.github.com/users/ppcano/gists{/gist_id}","starred_url":"https://api.github.com/users/ppcano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppcano/subscriptions","organizations_url":"https://api.github.com/users/ppcano/orgs","repos_url":"https://api.github.com/users/ppcano/repos","events_url":"https://api.github.com/users/ppcano/events{/privacy}","received_events_url":"https://api.github.com/users/ppcano/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T05:46:56Z","updated_at":"2017-12-08T05:46:56Z","body":"a8265cb1b20feeda9bf6d00e75d36dcbeeb36d9c closes this issue. Re-open if necessary.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/350178816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ppcano","id":825430,"node_id":"MDQ6VXNlcjgyNTQzMA==","avatar_url":"https://avatars.githubusercontent.com/u/825430?v=4","gravatar_id":"","url":"https://api.github.com/users/ppcano","html_url":"https://github.com/ppcano","followers_url":"https://api.github.com/users/ppcano/followers","following_url":"https://api.github.com/users/ppcano/following{/other_user}","gists_url":"https://api.github.com/users/ppcano/gists{/gist_id}","starred_url":"https://api.github.com/users/ppcano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppcano/subscriptions","organizations_url":"https://api.github.com/users/ppcano/orgs","repos_url":"https://api.github.com/users/ppcano/repos","events_url":"https://api.github.com/users/ppcano/events{/privacy}","received_events_url":"https://api.github.com/users/ppcano/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1378255220,"node_id":"MDExOkNsb3NlZEV2ZW50MTM3ODI1NTIyMA==","url":"https://api.github.com/repos/grafana/k6/issues/events/1378255220","actor":{"login":"ppcano","id":825430,"node_id":"MDQ6VXNlcjgyNTQzMA==","avatar_url":"https://avatars.githubusercontent.com/u/825430?v=4","gravatar_id":"","url":"https://api.github.com/users/ppcano","html_url":"https://github.com/ppcano","followers_url":"https://api.github.com/users/ppcano/followers","following_url":"https://api.github.com/users/ppcano/following{/other_user}","gists_url":"https://api.github.com/users/ppcano/gists{/gist_id}","starred_url":"https://api.github.com/users/ppcano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppcano/subscriptions","organizations_url":"https://api.github.com/users/ppcano/orgs","repos_url":"https://api.github.com/users/ppcano/repos","events_url":"https://api.github.com/users/ppcano/events{/privacy}","received_events_url":"https://api.github.com/users/ppcano/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2017-12-08T05:46:56Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/350411846","html_url":"https://github.com/grafana/k6/issues/397#issuecomment-350411846","issue_url":"https://api.github.com/repos/grafana/k6/issues/397","id":350411846,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDQxMTg0Ng==","user":{"login":"ppcano","id":825430,"node_id":"MDQ6VXNlcjgyNTQzMA==","avatar_url":"https://avatars.githubusercontent.com/u/825430?v=4","gravatar_id":"","url":"https://api.github.com/users/ppcano","html_url":"https://github.com/ppcano","followers_url":"https://api.github.com/users/ppcano/followers","following_url":"https://api.github.com/users/ppcano/following{/other_user}","gists_url":"https://api.github.com/users/ppcano/gists{/gist_id}","starred_url":"https://api.github.com/users/ppcano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppcano/subscriptions","organizations_url":"https://api.github.com/users/ppcano/orgs","repos_url":"https://api.github.com/users/ppcano/repos","events_url":"https://api.github.com/users/ppcano/events{/privacy}","received_events_url":"https://api.github.com/users/ppcano/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-09T01:15:46Z","updated_at":"2017-12-09T01:15:46Z","body":"Re-open.\r\n\r\n@martinfijal says that `--no-color` is necessary for `cloud execution`.\r\n\r\nThe [Options doc](https://docs.k6.io/docs/options) does not mention `--no-color`.  May you share why this is necessary so we can add it to the `docs`.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/350411846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ppcano","id":825430,"node_id":"MDQ6VXNlcjgyNTQzMA==","avatar_url":"https://avatars.githubusercontent.com/u/825430?v=4","gravatar_id":"","url":"https://api.github.com/users/ppcano","html_url":"https://github.com/ppcano","followers_url":"https://api.github.com/users/ppcano/followers","following_url":"https://api.github.com/users/ppcano/following{/other_user}","gists_url":"https://api.github.com/users/ppcano/gists{/gist_id}","starred_url":"https://api.github.com/users/ppcano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppcano/subscriptions","organizations_url":"https://api.github.com/users/ppcano/orgs","repos_url":"https://api.github.com/users/ppcano/repos","events_url":"https://api.github.com/users/ppcano/events{/privacy}","received_events_url":"https://api.github.com/users/ppcano/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1379817138,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTM3OTgxNzEzOA==","url":"https://api.github.com/repos/grafana/k6/issues/events/1379817138","actor":{"login":"martinfijal","id":221871,"node_id":"MDQ6VXNlcjIyMTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/221871?v=4","gravatar_id":"","url":"https://api.github.com/users/martinfijal","html_url":"https://github.com/martinfijal","followers_url":"https://api.github.com/users/martinfijal/followers","following_url":"https://api.github.com/users/martinfijal/following{/other_user}","gists_url":"https://api.github.com/users/martinfijal/gists{/gist_id}","starred_url":"https://api.github.com/users/martinfijal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinfijal/subscriptions","organizations_url":"https://api.github.com/users/martinfijal/orgs","repos_url":"https://api.github.com/users/martinfijal/repos","events_url":"https://api.github.com/users/martinfijal/events{/privacy}","received_events_url":"https://api.github.com/users/martinfijal/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-12-09T01:15:46Z","performed_via_github_app":null},{"id":1379817139,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEzNzk4MTcxMzk=","url":"https://api.github.com/repos/grafana/k6/issues/events/1379817139","actor":{"login":"martinfijal","id":221871,"node_id":"MDQ6VXNlcjIyMTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/221871?v=4","gravatar_id":"","url":"https://api.github.com/users/martinfijal","html_url":"https://github.com/martinfijal","followers_url":"https://api.github.com/users/martinfijal/followers","following_url":"https://api.github.com/users/martinfijal/following{/other_user}","gists_url":"https://api.github.com/users/martinfijal/gists{/gist_id}","starred_url":"https://api.github.com/users/martinfijal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinfijal/subscriptions","organizations_url":"https://api.github.com/users/martinfijal/orgs","repos_url":"https://api.github.com/users/martinfijal/repos","events_url":"https://api.github.com/users/martinfijal/events{/privacy}","received_events_url":"https://api.github.com/users/martinfijal/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-12-09T01:15:46Z","performed_via_github_app":null},{"id":1379817142,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQxMzc5ODE3MTQy","url":"https://api.github.com/repos/grafana/k6/issues/events/1379817142","actor":{"login":"ppcano","id":825430,"node_id":"MDQ6VXNlcjgyNTQzMA==","avatar_url":"https://avatars.githubusercontent.com/u/825430?v=4","gravatar_id":"","url":"https://api.github.com/users/ppcano","html_url":"https://github.com/ppcano","followers_url":"https://api.github.com/users/ppcano/followers","following_url":"https://api.github.com/users/ppcano/following{/other_user}","gists_url":"https://api.github.com/users/ppcano/gists{/gist_id}","starred_url":"https://api.github.com/users/ppcano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppcano/subscriptions","organizations_url":"https://api.github.com/users/ppcano/orgs","repos_url":"https://api.github.com/users/ppcano/repos","events_url":"https://api.github.com/users/ppcano/events{/privacy}","received_events_url":"https://api.github.com/users/ppcano/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2017-12-09T01:15:46Z","state_reason":null,"performed_via_github_app":null},{"id":1380112731,"node_id":"MDExOkNsb3NlZEV2ZW50MTM4MDExMjczMQ==","url":"https://api.github.com/repos/grafana/k6/issues/events/1380112731","actor":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"acd0c4af8345be82fde0a96a536b10867c06901a","commit_url":"https://api.github.com/repos/grafana/k6/commits/acd0c4af8345be82fde0a96a536b10867c06901a","created_at":"2017-12-09T19:08:21Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/350498725","html_url":"https://github.com/grafana/k6/issues/397#issuecomment-350498725","issue_url":"https://api.github.com/repos/grafana/k6/issues/397","id":350498725,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDQ5ODcyNQ==","user":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-09T19:10:12Z","updated_at":"2017-12-09T19:10:12Z","body":"`--no-color` is back, not aliasing it to -n this time bc it's such a sparsely used option and global/command options are no longer positional.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/350498725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/350502979","html_url":"https://github.com/grafana/k6/issues/397#issuecomment-350502979","issue_url":"https://api.github.com/repos/grafana/k6/issues/397","id":350502979,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDUwMjk3OQ==","user":{"login":"borjacampina","id":514025,"node_id":"MDQ6VXNlcjUxNDAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/514025?v=4","gravatar_id":"","url":"https://api.github.com/users/borjacampina","html_url":"https://github.com/borjacampina","followers_url":"https://api.github.com/users/borjacampina/followers","following_url":"https://api.github.com/users/borjacampina/following{/other_user}","gists_url":"https://api.github.com/users/borjacampina/gists{/gist_id}","starred_url":"https://api.github.com/users/borjacampina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/borjacampina/subscriptions","organizations_url":"https://api.github.com/users/borjacampina/orgs","repos_url":"https://api.github.com/users/borjacampina/repos","events_url":"https://api.github.com/users/borjacampina/events{/privacy}","received_events_url":"https://api.github.com/users/borjacampina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-09T20:21:31Z","updated_at":"2017-12-09T20:21:31Z","body":"I was trying to implement this when I commented about using \"colorable.NewNonColorable\" and I found two new issues.\r\n\r\n1. PersistentPreRun doesn't work with the root command (help/usage info, no parameters): so `k6 --no-color`is shown with colors. For now the only thing that comes to mind is implementing the \"Run\" call in RootCmd command to show help/usage info directly.\r\n\r\n2. Clear screen/buffer appropriately on TTY consoles. I think is the ui/progress_bar.go\r\n\r\n```\r\n$ k6 run --no-color script.js\r\n          /\\      |‾‾|  /‾‾/  /‾/\r\n     /\\  /  \\     |  |_/  /  / /\r\n    /  \\/    \\    |      |  /  ‾‾\\\r\n   /          \\   |  |‾\\  \\ | (_) |\r\n  / __________ \\  |__|  \\__\\ \\___/ .io\r\n\r\n  execution: local--------------------------------------------------]   servertor <- garbage\r\n     output: -\r\n     script: script.js\r\n\r\n    duration: -,  iterations: 1\r\n         vus: 1, max: 1\r\n\r\n    done [==========================================================] 1 / 1ing <- garbage\r\n```\r\n \r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/350502979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"borjacampina","id":514025,"node_id":"MDQ6VXNlcjUxNDAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/514025?v=4","gravatar_id":"","url":"https://api.github.com/users/borjacampina","html_url":"https://github.com/borjacampina","followers_url":"https://api.github.com/users/borjacampina/followers","following_url":"https://api.github.com/users/borjacampina/following{/other_user}","gists_url":"https://api.github.com/users/borjacampina/gists{/gist_id}","starred_url":"https://api.github.com/users/borjacampina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/borjacampina/subscriptions","organizations_url":"https://api.github.com/users/borjacampina/orgs","repos_url":"https://api.github.com/users/borjacampina/repos","events_url":"https://api.github.com/users/borjacampina/events{/privacy}","received_events_url":"https://api.github.com/users/borjacampina/received_events","type":"User","user_view_type":"public","site_admin":false}}]