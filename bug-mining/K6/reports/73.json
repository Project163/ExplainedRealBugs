{"url":"https://api.github.com/repos/grafana/k6/issues/318","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/318/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/318/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/318/events","html_url":"https://github.com/grafana/k6/issues/318","id":258425448,"node_id":"MDU6SXNzdWUyNTg0MjU0NDg=","number":318,"title":"Check for 200 status pass - but site is actually timing out","user":{"login":"Griatch","id":294267,"node_id":"MDQ6VXNlcjI5NDI2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/294267?v=4","gravatar_id":"","url":"https://api.github.com/users/Griatch","html_url":"https://github.com/Griatch","followers_url":"https://api.github.com/users/Griatch/followers","following_url":"https://api.github.com/users/Griatch/following{/other_user}","gists_url":"https://api.github.com/users/Griatch/gists{/gist_id}","starred_url":"https://api.github.com/users/Griatch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Griatch/subscriptions","organizations_url":"https://api.github.com/users/Griatch/orgs","repos_url":"https://api.github.com/users/Griatch/repos","events_url":"https://api.github.com/users/Griatch/events{/privacy}","received_events_url":"https://api.github.com/users/Griatch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-09-18T10:01:13Z","updated_at":"2017-12-10T17:36:13Z","closed_at":"2017-12-10T17:36:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have a simple script `test.js`\r\n\r\n```javascript\r\n import { check, sleep } from \"k6\";\r\n import http from \"k6/http\";\r\n\r\n export default function() {\r\n      check(http.get(\"http://demo.k6.io\"), {\r\n               \"status is 200\": (res) => res.status == 200\r\n      });\r\n      sleep(1);\r\n}\r\n```\r\n\r\nI get the following result:\r\n\r\n```bash\r\nRunning k6 with script 'test.js' ...\r\n\r\n          /\\      |‾‾|  /‾‾/  /‾/   \r\n     /\\  /  \\     |  |_/  /  / /   \r\n    /  \\/    \\    |      |  /  ‾‾\\  \r\n   /          \\   |  |‾\\  \\ | (_) | \r\n  / __________ \\  |__|  \\__\\ \\___/  Welcome to k6 v0.17.1!\r\n\r\n  execution: local\r\n     output: Load Impact (https://app.loadimpact.com/k6/runs/70)\r\n     script: /scripts/test.js (js)\r\n\r\n   duration: 30s, iterations: 0\r\n        vus: 10, max: 10\r\n\r\n    web ui: http://0.0.0.0:6565/\r\n\r\n      done [==========================================================]        30s / 30s\r\n\r\n    ✓ status is 200\r\n\r\n    vus.......: 10\r\n    vus_max...: 10\r\n... done.\r\n```\r\n\r\nThing is though that `http://demo.k6.io` is (at least at the time of this writing) times out if trying to go to it with a browser/curl. So I'm confused as to why the `k6` reports a pass for `200` status here. Also the report overall does not make it clear a timeout has happened (you just don't get any of the normal metrics).\r\n\r\nThis was tested with the latest dockerized `k6` (v0.17.1).","closed_by":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/318/timeline","performed_via_github_app":null,"state_reason":"completed"}