[{"url":"https://api.github.com/repos/grafana/k6/issues/comments/307526406","html_url":"https://github.com/grafana/k6/issues/239#issuecomment-307526406","issue_url":"https://api.github.com/repos/grafana/k6/issues/239","id":307526406,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzUyNjQwNg==","user":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-09T23:54:00Z","updated_at":"2017-06-09T23:54:00Z","body":"After thinking about it, I feel like a modulo on the VU ID (`__VU % 10 == 1`, etc. for every 10th VU) may be the best way to do this. It won't give you precise control in all cases, but I'm not sure there is a much cleaner method than that.\r\n\r\nYou could do something rather overblown where some VUs get certain variables assigned, but honestly, it'd accomplish the exact same thing.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/307526406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ppcano","id":825430,"node_id":"MDQ6VXNlcjgyNTQzMA==","avatar_url":"https://avatars.githubusercontent.com/u/825430?v=4","gravatar_id":"","url":"https://api.github.com/users/ppcano","html_url":"https://github.com/ppcano","followers_url":"https://api.github.com/users/ppcano/followers","following_url":"https://api.github.com/users/ppcano/following{/other_user}","gists_url":"https://api.github.com/users/ppcano/gists{/gist_id}","starred_url":"https://api.github.com/users/ppcano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppcano/subscriptions","organizations_url":"https://api.github.com/users/ppcano/orgs","repos_url":"https://api.github.com/users/ppcano/repos","events_url":"https://api.github.com/users/ppcano/events{/privacy}","received_events_url":"https://api.github.com/users/ppcano/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-25T21:10:34Z","updated_at":"2017-08-25T21:10:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/299","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/299/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/299/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/299/events","html_url":"https://github.com/grafana/k6/issues/299","id":252993410,"node_id":"MDU6SXNzdWUyNTI5OTM0MTA=","number":299,"title":"[Enhancement] Support for A/B Tests","user":{"login":"geekdave","id":1438478,"node_id":"MDQ6VXNlcjE0Mzg0Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1438478?v=4","gravatar_id":"","url":"https://api.github.com/users/geekdave","html_url":"https://github.com/geekdave","followers_url":"https://api.github.com/users/geekdave/followers","following_url":"https://api.github.com/users/geekdave/following{/other_user}","gists_url":"https://api.github.com/users/geekdave/gists{/gist_id}","starred_url":"https://api.github.com/users/geekdave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekdave/subscriptions","organizations_url":"https://api.github.com/users/geekdave/orgs","repos_url":"https://api.github.com/users/geekdave/repos","events_url":"https://api.github.com/users/geekdave/events{/privacy}","received_events_url":"https://api.github.com/users/geekdave/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":345191761,"node_id":"MDU6TGFiZWwzNDUxOTE3NjE=","url":"https://api.github.com/repos/grafana/k6/labels/help%20wanted","name":"help wanted","color":"159818","default":true,"description":null},{"id":1079102926,"node_id":"MDU6TGFiZWwxMDc5MTAyOTI2","url":"https://api.github.com/repos/grafana/k6/labels/evaluation%20needed","name":"evaluation needed","color":"006B75","default":false,"description":"proposal needs to be validated or tested before fully implementing it in k6"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2017-08-25T19:11:23Z","updated_at":"2021-01-21T14:06:03Z","closed_at":"2021-01-21T14:06:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm using k6 to conduct some A/B tests, and I thought it would be nice to have built-in support for this.\r\n\r\nHere's what I'm thinking...\r\n\r\n1) Define variants in the script like so:\r\n\r\n```js\r\nexport let variants = { \r\n    uncompressed: {\r\n        TARGET_HOST: \"old-clunky-server.mycompany.com\"\r\n    },\r\n    gzipped: {\r\n        TARGET_HOST: \"new-shiny-server.mycompany.com\"\r\n    }\r\n}\r\n```\r\n\r\nk6 would perform a separate run for each variant, and inject the env variables from each variant into `__ENV`.\r\n\r\n2) Set up your test to consume the variant ENV variables to modify test behavior like so:\r\n\r\n```js\r\nconst baseURL = \"https://\" + __ENV.TARGET_HOST;\r\n```\r\n\r\n3) Generate a side-by-side comparison in the output:  (made up numbers & math here)\r\n\r\n```\r\nhttp_req_duration.....: \r\n  uncompressed.... avg=55.83ms max=606.29ms med=30.45ms min=4ms p(90)=135.75ms p(95)=197.82ms\r\n  gzipped......... avg=54.65ms max=371.28ms med=22.4ms min=3.83ms p(90)=122.38ms p(95)=186.39ms\r\n\r\n              gzipped | uncompressed\r\n  avg     2.3% faster |\r\n  p(90)   4.2% faster |\r\n  p(95)   6.2% faster |\r\n\r\nhttp_req_connecting...: \r\n  uncompressed.... avg=13.45µs max=3.35ms med=0s min=0s p(90)=0s p(95)=0s\r\n  gzipped......... avg=17.23µs max=9.35ms med=0s min=0s p(90)=0s p(95)=0s\r\n\r\n              gzipped | uncompressed\r\n  avg                 | 0.4% faster\r\n  p(90)               | 0.1% faster\r\n  p(95)               | 0.2% faster\r\n```\r\n\r\nThat way, you could quickly see at-a-glance which variant performed better in which categories.\r\n\r\nI'd be happy to take a stab at implementing this, if it seems useful.\r\n\r\ncc @liclac ","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/299/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1380444993,"node_id":"MDEyOkxhYmVsZWRFdmVudDEzODA0NDQ5OTM=","url":"https://api.github.com/repos/grafana/k6/issues/events/1380444993","actor":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-12-10T18:02:23Z","label":{"name":"good first issue","color":"bfd4f2"},"performed_via_github_app":null},{"id":1380444994,"node_id":"MDEyOkxhYmVsZWRFdmVudDEzODA0NDQ5OTQ=","url":"https://api.github.com/repos/grafana/k6/issues/events/1380444994","actor":{"login":"liclac","id":428026,"node_id":"MDQ6VXNlcjQyODAyNg==","avatar_url":"https://avatars.githubusercontent.com/u/428026?v=4","gravatar_id":"","url":"https://api.github.com/users/liclac","html_url":"https://github.com/liclac","followers_url":"https://api.github.com/users/liclac/followers","following_url":"https://api.github.com/users/liclac/following{/other_user}","gists_url":"https://api.github.com/users/liclac/gists{/gist_id}","starred_url":"https://api.github.com/users/liclac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liclac/subscriptions","organizations_url":"https://api.github.com/users/liclac/orgs","repos_url":"https://api.github.com/users/liclac/repos","events_url":"https://api.github.com/users/liclac/events{/privacy}","received_events_url":"https://api.github.com/users/liclac/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-12-10T18:02:23Z","label":{"name":"help wanted","color":"159818"},"performed_via_github_app":null},{"id":1882061480,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTg4MjA2MTQ4MA==","url":"https://api.github.com/repos/grafana/k6/issues/events/1882061480","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2018-10-03T14:27:44Z","label":{"name":"good first issue","color":"bfd4f2"},"performed_via_github_app":null},{"id":1882061488,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTg4MjA2MTQ4OA==","url":"https://api.github.com/repos/grafana/k6/issues/events/1882061488","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2018-10-03T14:27:44Z","label":{"name":"help wanted","color":"159818"},"performed_via_github_app":null},{"actor":{"login":"mstoykov","id":312246,"node_id":"MDQ6VXNlcjMxMjI0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/312246?v=4","gravatar_id":"","url":"https://api.github.com/users/mstoykov","html_url":"https://github.com/mstoykov","followers_url":"https://api.github.com/users/mstoykov/followers","following_url":"https://api.github.com/users/mstoykov/following{/other_user}","gists_url":"https://api.github.com/users/mstoykov/gists{/gist_id}","starred_url":"https://api.github.com/users/mstoykov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstoykov/subscriptions","organizations_url":"https://api.github.com/users/mstoykov/orgs","repos_url":"https://api.github.com/users/mstoykov/repos","events_url":"https://api.github.com/users/mstoykov/events{/privacy}","received_events_url":"https://api.github.com/users/mstoykov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-22T15:46:43Z","updated_at":"2019-03-22T15:46:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/974","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/974/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/974/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/974/events","html_url":"https://github.com/grafana/k6/issues/974","id":423920300,"node_id":"MDU6SXNzdWU0MjM5MjAzMDA=","number":974,"title":"Provide JS modules for making the configuration easier","user":{"login":"ppcano","id":825430,"node_id":"MDQ6VXNlcjgyNTQzMA==","avatar_url":"https://avatars.githubusercontent.com/u/825430?v=4","gravatar_id":"","url":"https://api.github.com/users/ppcano","html_url":"https://github.com/ppcano","followers_url":"https://api.github.com/users/ppcano/followers","following_url":"https://api.github.com/users/ppcano/following{/other_user}","gists_url":"https://api.github.com/users/ppcano/gists{/gist_id}","starred_url":"https://api.github.com/users/ppcano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppcano/subscriptions","organizations_url":"https://api.github.com/users/ppcano/orgs","repos_url":"https://api.github.com/users/ppcano/repos","events_url":"https://api.github.com/users/ppcano/events{/privacy}","received_events_url":"https://api.github.com/users/ppcano/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":865562676,"node_id":"MDU6TGFiZWw4NjU1NjI2NzY=","url":"https://api.github.com/repos/grafana/k6/labels/ux","name":"ux","color":"5319e7","default":false,"description":""},{"id":865579792,"node_id":"MDU6TGFiZWw4NjU1Nzk3OTI=","url":"https://api.github.com/repos/grafana/k6/labels/cloud","name":"cloud","color":"7face2","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-03-21T20:11:35Z","updated_at":"2023-12-04T09:47:12Z","closed_at":"2023-12-04T09:47:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"From Slack:\r\n\r\n> can anyone point me at some useful examples of changing the region(load_zone) the cloud instances created in?  I'm running a k6 script and have tried the option detailed without any luck.\r\n\r\nA few ideas came after reading the comment. Draft ideas:\r\n\r\n\r\n1) I think it could be available a JS module to facilitate the load zone configuration. \r\nThe list of options are https://docs.k6.io/docs/cloud-execution#section-cloud-execution-options\r\n\r\n```js\r\nimport { loadZones } from 'k6/cloud';\r\n\r\nexport let options = {\r\n    ext: {\r\n        loadimpact: {\r\n            name: \"Hello k6 cloud!\",\r\n            distribution: {\r\n                scenarioLabel1: { loadZone: loadZones.ashburn, percent: 50 },\r\n                scenarioLabel2: { loadZone: loadZones.dublin, percent: 50 }\r\n            }\r\n        }\r\n    }\r\n};\r\n```\r\n\r\nThis particular module could make the info available like:\r\n\r\n```js\r\nconsole.log(loadZones)\r\n```\r\n\r\nI reviewed the `options` API and  I found other two possible ideas: \r\n\r\n2) Provide the list of [`tlsCipherSuites`](https://golang.org/pkg/crypto/tls/#pkg-constants) options.\r\n\r\n```js\r\nimport { tlsCipherSuites } from 'k6';\r\n```\r\n\r\n\r\n3) Provide a function to facilitate the `stages` configuration for common type of load tests:\r\n```js\r\nimport { soak, spike, stress } from 'k6/stages';\r\n\r\n// for soak tests \r\nexport let options = {\r\n    stages: spike(100, '5m')\r\n};\r\n\r\n// for spike tests \r\nexport let options = {\r\n    stages: spike(100, '5m')\r\n};\r\n\r\n// for stress tests \r\nexport let options = {\r\n    stages: stress(100, '5m')\r\n};\r\n```\r\n\r\nNote: I was considering these to be pure JS modules.\r\n\r\nThoughts?\r\n ","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/974/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/974/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-02T10:12:34Z","updated_at":"2019-07-02T10:12:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/grafana/k6/issues/1007","repository_url":"https://api.github.com/repos/grafana/k6","labels_url":"https://api.github.com/repos/grafana/k6/issues/1007/labels{/name}","comments_url":"https://api.github.com/repos/grafana/k6/issues/1007/comments","events_url":"https://api.github.com/repos/grafana/k6/issues/1007/events","html_url":"https://github.com/grafana/k6/pull/1007","id":436239763,"node_id":"MDExOlB1bGxSZXF1ZXN0MjcyNzcyNjYx","number":1007,"title":"New executors","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/grafana/k6/milestones/8","html_url":"https://github.com/grafana/k6/milestone/8","labels_url":"https://api.github.com/repos/grafana/k6/milestones/8/labels","id":4738802,"node_id":"MDk6TWlsZXN0b25lNDczODgwMg==","number":8,"title":"v0.27.0","description":"","creator":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":76,"state":"closed","created_at":"2019-10-10T07:45:28Z","updated_at":"2021-01-19T11:52:02Z","due_on":null,"closed_at":"2020-07-15T13:58:19Z"},"comments":18,"created_at":"2019-04-23T15:05:10Z","updated_at":"2020-07-13T10:39:36Z","closed_at":"2020-07-06T14:38:46Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":54400687,"node_id":"MDEwOlJlcG9zaXRvcnk1NDQwMDY4Nw==","name":"k6","full_name":"grafana/k6","private":false,"owner":{"login":"grafana","id":7195757,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/7195757?v=4","gravatar_id":"","url":"https://api.github.com/users/grafana","html_url":"https://github.com/grafana","followers_url":"https://api.github.com/users/grafana/followers","following_url":"https://api.github.com/users/grafana/following{/other_user}","gists_url":"https://api.github.com/users/grafana/gists{/gist_id}","starred_url":"https://api.github.com/users/grafana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grafana/subscriptions","organizations_url":"https://api.github.com/users/grafana/orgs","repos_url":"https://api.github.com/users/grafana/repos","events_url":"https://api.github.com/users/grafana/events{/privacy}","received_events_url":"https://api.github.com/users/grafana/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/grafana/k6","description":"A modern load testing tool, using Go and JavaScript","fork":false,"url":"https://api.github.com/repos/grafana/k6","forks_url":"https://api.github.com/repos/grafana/k6/forks","keys_url":"https://api.github.com/repos/grafana/k6/keys{/key_id}","collaborators_url":"https://api.github.com/repos/grafana/k6/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/grafana/k6/teams","hooks_url":"https://api.github.com/repos/grafana/k6/hooks","issue_events_url":"https://api.github.com/repos/grafana/k6/issues/events{/number}","events_url":"https://api.github.com/repos/grafana/k6/events","assignees_url":"https://api.github.com/repos/grafana/k6/assignees{/user}","branches_url":"https://api.github.com/repos/grafana/k6/branches{/branch}","tags_url":"https://api.github.com/repos/grafana/k6/tags","blobs_url":"https://api.github.com/repos/grafana/k6/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/grafana/k6/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/grafana/k6/git/refs{/sha}","trees_url":"https://api.github.com/repos/grafana/k6/git/trees{/sha}","statuses_url":"https://api.github.com/repos/grafana/k6/statuses/{sha}","languages_url":"https://api.github.com/repos/grafana/k6/languages","stargazers_url":"https://api.github.com/repos/grafana/k6/stargazers","contributors_url":"https://api.github.com/repos/grafana/k6/contributors","subscribers_url":"https://api.github.com/repos/grafana/k6/subscribers","subscription_url":"https://api.github.com/repos/grafana/k6/subscription","commits_url":"https://api.github.com/repos/grafana/k6/commits{/sha}","git_commits_url":"https://api.github.com/repos/grafana/k6/git/commits{/sha}","comments_url":"https://api.github.com/repos/grafana/k6/comments{/number}","issue_comment_url":"https://api.github.com/repos/grafana/k6/issues/comments{/number}","contents_url":"https://api.github.com/repos/grafana/k6/contents/{+path}","compare_url":"https://api.github.com/repos/grafana/k6/compare/{base}...{head}","merges_url":"https://api.github.com/repos/grafana/k6/merges","archive_url":"https://api.github.com/repos/grafana/k6/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/grafana/k6/downloads","issues_url":"https://api.github.com/repos/grafana/k6/issues{/number}","pulls_url":"https://api.github.com/repos/grafana/k6/pulls{/number}","milestones_url":"https://api.github.com/repos/grafana/k6/milestones{/number}","notifications_url":"https://api.github.com/repos/grafana/k6/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/grafana/k6/labels{/name}","releases_url":"https://api.github.com/repos/grafana/k6/releases{/id}","deployments_url":"https://api.github.com/repos/grafana/k6/deployments","created_at":"2016-03-21T15:30:24Z","updated_at":"2025-11-09T22:33:24Z","pushed_at":"2025-11-09T15:40:01Z","git_url":"git://github.com/grafana/k6.git","ssh_url":"git@github.com:grafana/k6.git","clone_url":"https://github.com/grafana/k6.git","svn_url":"https://github.com/grafana/k6","homepage":"https://grafana.com/oss/k6/","size":68631,"stargazers_count":29152,"watchers_count":29152,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1447,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":760,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["es6","go","golang","hacktoberfest","javascript","k6","load-generator","load-testing","performance"],"visibility":"public","forks":1447,"open_issues":760,"watchers":29152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/grafana/k6/pulls/1007","html_url":"https://github.com/grafana/k6/pull/1007","diff_url":"https://github.com/grafana/k6/pull/1007.diff","patch_url":"https://github.com/grafana/k6/pull/1007.patch","merged_at":"2020-07-06T14:38:44Z"},"body":"This pull request totally rewrites the old local executor and a bunch of other things. It builds on https://github.com/loadimpact/k6/pull/913 and introduces quite a lot of new functionality, but it also has some minor breaking changes.\r\n\r\n### New features and changes\r\n\r\n#### New executors\r\n\r\nThe biggest change in this PR is the introduction of 7 distinct new VU executors:\r\n- [x] `shared-iterations`, a.k.a. `iterations` + `vus`.\r\n- [x] `constant-vus`, a.k.a. `duration` + `vus`.\r\n- [x] `ramping-vus`, a.k.a. `stages` + `vus`.\r\n- [x] `externally-controlled` is similar to `ramping-vus`, but the number of initialized and active VUs at any given time can be controlled by the k6 REST API - it's the only executor that could be paused or controlled while it's running (closes https://github.com/loadimpact/k6/issues/867, closes https://github.com/loadimpact/k6/issues/1028).\r\n- [x] `per-vu-iterations` is а new feature that allows each configured VU to execute an exact number of iterations; the shared iterations have caused confusion before and there are legitimate reasons people want an equal number of iterations for each VU (closes https://github.com/loadimpact/k6/issues/381, https://github.com/loadimpact/k6/issues/663, https://github.com/loadimpact/k6/issues/627, https://github.com/loadimpact/k6/issues/378, and probably others).\r\n- [x] `constant-arrival-rate` executes a constant number of iterations per second (closes https://github.com/loadimpact/k6/issues/550).\r\n- [x] `ramping-arrival-rate` executes a variable number of iterations per second, specified as ramp-ups or ramp-downs `stages`, similar to how the `ramping-vus` is configured.\r\n\r\nThese executors can be configured via the new `execution` JS/JSON option. For now, they aren't directly configurable via CLI flags or environment variables.\r\n\r\nHowever, most of the old simple k6 uses where `stages`, or `iterations` or `duration` are specified in any way, including via CLI flags and env vars, are still supported. They are just transparently converted to their respective new `execution` executor configurations. There are some breaking changes here, described in detail in the *Breaking Changes* section below, but generally only when there is a conflict or ambiguity in the specified configuration.\r\n\r\n#### Other new features\r\n\r\n- [x] Multiple different executors can be configured in a single test run, both sequentially and in parallel (closes https://github.com/loadimpact/k6/issues/239).\r\n- [x] Each executor has a `startTime` property, which defines at what time relative to the test run start it will start executing.\r\n- [x] VUs are reused between the different configured executors when that's possible.\r\n- [x] Executors have new `gracefulStop` property that allows for iterations to complete gracefully for some amount of time after the normal executor duration is over (closes https://github.com/loadimpact/k6/issues/879); even with `gracefulStop=0`, i.e. the old behavior, metrics are emitted and processed in a much saner way (closes https://github.com/loadimpact/k6/issues/1033)\r\n- [x] Validation of the supplied execution configuration is very strict (closes https://github.com/loadimpact/k6/issues/875 and slightly helps with https://github.com/loadimpact/k6/issues/883)\r\n- [x] There is a new feature called execution segments that allows tests to be easily partitioned between multiple k6 instances (implements the execution parts of https://github.com/loadimpact/k6/issues/997 and helps towards https://github.com/loadimpact/k6/issues/140 and https://github.com/loadimpact/k6/issues/864)\r\n- [x] There are separate descriptions and real-time thread-safe progress bars for each individual executor.\r\n- [x] Different executors can execute different functions than the `default` exported one.\r\n- [x] Different executors can have different environment variables.\r\n\r\n### Example of the new config\r\n\r\n```js\r\nexport let options = {\r\n  scenarios: {\r\n    stages_up_down: {\r\n      executor: \"ramping-vus\",\r\n      startVUs: 0,\r\n      stages: [\r\n        { duration: \"10s\", target: 20 },\r\n        { duration: \"10s\", target: 0 },\r\n      ],\r\n      gracefulRampDown: \"0s\",\r\n      gracefulStop: \"0s\",\r\n    },\r\n    stages_down_up: {\r\n      executor: \"ramping-vus\",\r\n      startVUs: 20,\r\n      stages: [\r\n        { duration: \"10s\", target: 0 },\r\n        { duration: \"10s\", target: 20 },\r\n      ],\r\n      gracefulRampDown: \"0s\",\r\n      gracefulStop: \"0s\",\r\n    },\r\n    const_loop_vus: {\r\n      executor: \"constant-vus\",\r\n      vus: 20,\r\n      duration: \"20s\",\r\n      gracefulStop: \"0s\",\r\n    },\r\n    constant_arr_rate: {\r\n      executor: \"constant-arrival-rate\",\r\n      rate: 20,\r\n      timeUnit: \"1s\",\r\n      duration: \"10s\",\r\n      preAllocatedVUs: 10,\r\n      maxVUs: 20,\r\n      startTime: \"20s\",\r\n      gracefulStop: \"0s\",\r\n    },\r\n    variable_arr_rate: {\r\n      executor: \"ramping-arrival-rate\",\r\n      startRate: 20,\r\n      timeUnit: \"1s\",\r\n      preAllocatedVUs: 10,\r\n      maxVUs: 20,\r\n      startTime: \"20s\",\r\n      stages: [\r\n        { target: 0, duration: \"5s\" },\r\n        { target: 20, duration: \"5s\" },\r\n      ],\r\n      gracefulStop: \"0s\",\r\n    },\r\n    per_vu_iters: {\r\n      executor: \"per-vu-iterations\",\r\n      vus: 20,\r\n      iterations: 10,\r\n      startTime: \"30s\",\r\n      maxDuration: \"10s\",\r\n      gracefulStop: \"10s\",\r\n    },\r\n    shared_iters: {\r\n      executor: \"shared-iterations\",\r\n      vus: 20,\r\n      iterations: 200,\r\n      startTime: \"30s\",\r\n      maxDuration: \"10s\",\r\n      gracefulStop: \"10s\",\r\n    },\r\n    adjustable_at_will: {\r\n      executor: \"externally-controlled\",\r\n      vus: 5,\r\n      maxVUs: 10,\r\n      duration: \"40s\",\r\n    },\r\n  },\r\n};\r\n\r\nexport default function () {\r\n  console.log(`Start VU ${__VU} ITER ${__ITER}`);\r\n  sleep(0.5 + Math.random() * 0.5);\r\n  console.log(`Done VU ${__VU} ITER ${__ITER}`);\r\n}\r\n```\r\n\r\n### Breaking changes\r\n\r\nThere are a few breaking changes caused by this PR:\r\n- Execution config options (`execution`, `stages`, `iterations`, `duration`) from \"upper\" config layers overwrite execution options from \"lower\" (i.e. CLI flags > environment variables > JS options > JSON options) config layers. For example, the `--iterations` CLI flag will overwrite any execution options set as environment variables (e.g. `K6_DURATION`, `K6_STAGES`, etc.) or script options (`stages: [ /* ... */]`, `execution: { /* ... */ }`, etc. ).\r\n- Using different execution config options on the same level is now a configuration conflict error and will abort the script. For example, executing `k6 run --duration 10s --stages 5s:20 script.js` won't work (closes https://github.com/loadimpact/k6/issues/812). The only exception is combining `duration` and `iterations`, which will result in a `shared-iterations` executor with the specified non-default `maxDuration` (https://github.com/loadimpact/k6/issues/1058).\r\n- The k6 REST API for controlling script execution (i.e. the `k6 pause`, `k6 scale` commands) now only works when a `externally-controlled` executor is configured in the `execution` config. The initial pausing of a test (i.e. `k6 run --paused script.js`) still works with all executor types, but once the test is started with `k6 resume` (or the corresponding REST API call), it can't be paused again unless only the `externally-controlled` executor is used.\r\n- Previously, running a script with `k6 run --paused script.js` would have still executed the script's `setup()` function (if it was present and wasn't explicitly disabled with `--no-setup`) and paused immediately after. Now, k6 will pause before it executes `setup()`.\r\n- The `vusMax` / `K6_VUS_MAX` / ` -m` / `--max` option is deprecated - it was previously used for the control of the initialized VUs by the REST API. Since that has now been restricted to the `externally-controlled` executor, the equivalent option there is called `maxVUs`.\r\n- Tests with infinite duration are now only possible via the `externally-controlled` executor.\r\n- Previously, all iterations were interruptible - as soon as the specified `duration` expired, or when VUs were ramped down in a stage, any running iterations were interrupted. Now all executors besides the `externally-controlled` one have a `gracefulStop` period of `30s` by default (closes https://github.com/loadimpact/k6/issues/898). Additionally, `ramping-vus` executor has a `gracefulRampDown` parameter that configures the ramp-down grace period. For those periods, no new iterations will be started by the executors, but any currently running iterations will be allowed up to the specified periods to finish their execution.\r\n\r\n### Broken things and TODOs that remain be fixed in this PR:\r\n- [x] updating the `externally-controlled` executor's parameters via the REST API\r\n- [x] update the description of this pull request :smile:\r\n- [x] forward-port the fixes in https://github.com/loadimpact/k6/pull/1057 and https://github.com/loadimpact/k6/pull/1076\r\n- [x] rename things according to https://github.com/loadimpact/k6/pull/1007#issuecomment-497319205\r\n- [x] support for cloud execution\r\n- [x] the usage report\r\n- [x] writing a lot more tests... this PR should hopefully significantly increase the code coverage of k6\r\n- [x] improving the multi-progressbar alignments and sizing\r\n- [x] fix the `arrival-rate` distribution bugs, especially when there are execution segments: https://github.com/loadimpact/k6/pull/1007#issuecomment-522883821\r\n- [x] fix a bug where Ctrl+C doesn't work while the `k6 scale` command to the `externally-controlled` executor is running\r\n- [x] `ramping-arrival-rate` bug that @MStoykov found\r\n- [x] remove the `ERRO context cancelled` message error message that's sometimes shown when an iteration is interrupted\r\n- [ ] (evaluation needed) fix that `k6 inspect` doesn't fail when there are validation errors in options\r\n- [ ] update the release notes and the `README`\r\n- [ ] move the execution packages out of lib, refactor core (needs further discussion, previous discussion was in https://github.com/loadimpact/k6/pull/1007#discussion_r332447323)\r\n- [ ] update the [k6 architecture wiki page](https://github.com/loadimpact/k6/wiki/Architecture)\r\n\r\n### `TODO`s in the code that will be handled in future pull requests, i.e. for now only issues will be created:\r\n- [x] handle Ctrl+C graceful shutdown + teardown execution\r\n- [x] have a special error code for Ctrl+C interrupts\r\n- [x] ~tag metrics from different executors differently~ (already described in https://github.com/loadimpact/k6/issues/796)\r\n- [ ] JavaScript helper functions that could be used to build this new complicated `execution` configuration, but with a better user experience than manually writing it as a JSON\r\n- [ ] changes and additions to the metrics and tags k6 emits, given the new executors - this includes tagging metrics with the executor ID by default, maybe split the vus metric by executor, a new metric for insufficient VUs by the arrival-rate executors\r\n\r\nThings that need to be done shortly before or after this PR is merged in `master`:\r\n- [ ] a lot of manual testing, especially on different OSes\r\n- [ ] update the documentation (https://github.com/loadimpact/k6/issues/551)\r\n","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/1007/reactions","total_count":28,"+1":2,"-1":0,"laugh":0,"hooray":12,"confused":0,"heart":9,"rocket":5,"eyes":0},"timeline_url":"https://api.github.com/repos/grafana/k6/issues/1007/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/507613197","html_url":"https://github.com/grafana/k6/issues/239#issuecomment-507613197","issue_url":"https://api.github.com/repos/grafana/k6/issues/239","id":507613197,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzYxMzE5Nw==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-02T10:14:05Z","updated_at":"2019-07-02T10:14:05Z","body":"This proposal will mostly be covered by the changes in https://github.com/loadimpact/k6/pull/1007","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/507613197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3360451195,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDMzNjA0NTExOTU=","url":"https://api.github.com/repos/grafana/k6/issues/events/3360451195","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-05-21T12:19:06Z","milestone":{"title":"v0.27.0"},"performed_via_github_app":null},{"id":3360473028,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQzMzYwNDczMDI4","url":"https://api.github.com/repos/grafana/k6/issues/events/3360473028","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-05-21T12:26:28Z","assignee":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/654280746","html_url":"https://github.com/grafana/k6/issues/239#issuecomment-654280746","issue_url":"https://api.github.com/repos/grafana/k6/issues/239","id":654280746,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDI4MDc0Ng==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T14:41:53Z","updated_at":"2020-07-06T14:41:53Z","body":"Closing this, since the just-merged #1007 implements native support for multi-scenario tests, just in another way","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/654280746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3516279401,"node_id":"MDExOkNsb3NlZEV2ZW50MzUxNjI3OTQwMQ==","url":"https://api.github.com/repos/grafana/k6/issues/events/3516279401","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-07-06T14:41:53Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/738056378","html_url":"https://github.com/grafana/k6/issues/239#issuecomment-738056378","issue_url":"https://api.github.com/repos/grafana/k6/issues/239","id":738056378,"node_id":"MDEyOklzc3VlQ29tbWVudDczODA1NjM3OA==","user":{"login":"schrufygroovy","id":50398024,"node_id":"MDQ6VXNlcjUwMzk4MDI0","avatar_url":"https://avatars.githubusercontent.com/u/50398024?v=4","gravatar_id":"","url":"https://api.github.com/users/schrufygroovy","html_url":"https://github.com/schrufygroovy","followers_url":"https://api.github.com/users/schrufygroovy/followers","following_url":"https://api.github.com/users/schrufygroovy/following{/other_user}","gists_url":"https://api.github.com/users/schrufygroovy/gists{/gist_id}","starred_url":"https://api.github.com/users/schrufygroovy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schrufygroovy/subscriptions","organizations_url":"https://api.github.com/users/schrufygroovy/orgs","repos_url":"https://api.github.com/users/schrufygroovy/repos","events_url":"https://api.github.com/users/schrufygroovy/events{/privacy}","received_events_url":"https://api.github.com/users/schrufygroovy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T15:04:33Z","updated_at":"2020-12-03T15:10:57Z","body":"@na-- \r\nCan you please explain to me, how https://github.com/loadimpact/k6/pull/1007 is covering this?\r\n\r\n```\r\nrandomSwitch( () =>{\r\n  this.case('0.132',() => {\r\n\r\n  });\r\n  this.case('0.423', () => {\r\n\r\n  });\r\n  this.case('1.924', () => {\r\n\r\n  });\r\n  this.case('21.83', () => {\r\n\r\n  });\r\n  // and so on for > 50 scenarios\r\n});\r\n```\r\nwith let's say only 2 VUs (or scaling up or ramping up number of VUs) and an nonfixed number of total requests? Or is this ones of the things that isn't covered (as you wrote `will mostly be covered`)?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/738056378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"schrufygroovy","id":50398024,"node_id":"MDQ6VXNlcjUwMzk4MDI0","avatar_url":"https://avatars.githubusercontent.com/u/50398024?v=4","gravatar_id":"","url":"https://api.github.com/users/schrufygroovy","html_url":"https://github.com/schrufygroovy","followers_url":"https://api.github.com/users/schrufygroovy/followers","following_url":"https://api.github.com/users/schrufygroovy/following{/other_user}","gists_url":"https://api.github.com/users/schrufygroovy/gists{/gist_id}","starred_url":"https://api.github.com/users/schrufygroovy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schrufygroovy/subscriptions","organizations_url":"https://api.github.com/users/schrufygroovy/orgs","repos_url":"https://api.github.com/users/schrufygroovy/repos","events_url":"https://api.github.com/users/schrufygroovy/events{/privacy}","received_events_url":"https://api.github.com/users/schrufygroovy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4067983677,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2Nzk4MzY3Nw==","url":"https://api.github.com/repos/grafana/k6/issues/events/4067983677","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-03T15:04:33Z","performed_via_github_app":null},{"id":4067983686,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjc5ODM2ODY=","url":"https://api.github.com/repos/grafana/k6/issues/events/4067983686","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-03T15:04:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/grafana/k6/issues/comments/738687727","html_url":"https://github.com/grafana/k6/issues/239#issuecomment-738687727","issue_url":"https://api.github.com/repos/grafana/k6/issues/239","id":738687727,"node_id":"MDEyOklzc3VlQ29tbWVudDczODY4NzcyNw==","user":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T09:53:20Z","updated_at":"2020-12-04T09:54:28Z","body":"As I [explained](https://community.k6.io/t/how-to-distribute-vus-across-different-scenarios-with-k6/49/16) in the community forum, VUs can't be shared between scenarios. But in a single scenario, you can easily implement a random weighted distribution of its iteration. Posting the same example implementation of a \"randomSwitch\" function here as well, in case someone stumbles on this issue and not the forum thread:\r\n```js\r\nimport { sleep } from 'k6';\r\n\r\nfunction weightedSwitch(weightedFuncs) {\r\n    var funcIntervals = new Array(weightedFuncs.length)\r\n\r\n    var weightSum = 0;\r\n    for (var i = 0; i < weightedFuncs.length; i++) {\r\n        funcIntervals[i] = {\r\n            start: weightSum,\r\n            end: weightSum + weightedFuncs[i][0],\r\n            func: weightedFuncs[i][1],\r\n        }\r\n        weightSum += weightedFuncs[i][0];\r\n    }\r\n\r\n    if (Math.abs(weightSum - 1) > 0.0001) {\r\n        throw new Error('the sum of function weights should be 1 (100%), but is ' + weightSum);\r\n    }\r\n\r\n    return function (val) {\r\n        var guess, min = 0, max = funcIntervals.length - 1;;\r\n        while (min <= max) {\r\n            guess = Math.floor((max + min) / 2);\r\n\r\n            if (val >= funcIntervals[guess].end) {\r\n                min = guess + 1;\r\n            } else if (val < funcIntervals[guess].start) {\r\n                max = guess - 1;\r\n            } else {\r\n                return funcIntervals[guess].func;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport let options = {\r\n    duration: '1m',\r\n    vus: 2,\r\n};\r\n\r\nvar getFunction = weightedSwitch([\r\n    [0.1, () => \"scenario 0 (10%)\"],\r\n    [0.1, () => \"scenario 1 (10%)\"],\r\n    [0.21, () => \"scenario 2 (21%)\"],\r\n    [0.39, () => \"scenario 3 (39%)\"],\r\n    [0.199, () => \"scenario 4 (19.9%)\"],\r\n    [0.001, () => \"scenario 5 (0.1%)\"],\r\n])\r\n\r\n\r\nexport default function () {\r\n    var rand = Math.random();\r\n    var f = getFunction(rand);\r\n    console.log(`VU ${__VU}, iter ${__ITER}, rand ${rand.toFixed(4)} executed ${f()}`);\r\n    sleep(1);\r\n}\r\n```\r\n\r\nI don’t make any guarantees that I don’t have an off-by-one error in the binary search code or something like that, I haven’t tested this code much, but it seems to work well enough… Running it should result in something like this:\r\n```\r\nINFO[0000] VU 2, iter 0, rand 0.3661 executed scenario 2 (21%)  source=console\r\nINFO[0000] VU 1, iter 0, rand 0.4241 executed scenario 3 (39%)  source=console\r\nINFO[0001] VU 2, iter 1, rand 0.3712 executed scenario 2 (21%)  source=console\r\nINFO[0001] VU 1, iter 1, rand 0.1931 executed scenario 1 (10%)  source=console\r\nINFO[0002] VU 1, iter 2, rand 0.3077 executed scenario 2 (21%)  source=console\r\nINFO[0002] VU 2, iter 2, rand 0.7144 executed scenario 3 (39%)  source=console\r\nINFO[0003] VU 1, iter 3, rand 0.6757 executed scenario 3 (39%)  source=console\r\nINFO[0003] VU 2, iter 3, rand 0.1091 executed scenario 1 (10%)  source=console\r\nINFO[0004] VU 1, iter 4, rand 0.9282 executed scenario 4 (19.9%)  source=console\r\nINFO[0004] VU 2, iter 4, rand 0.5826 executed scenario 3 (39%)  source=console\r\n...\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/grafana/k6/issues/comments/738687727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"na--","id":3336773,"node_id":"MDQ6VXNlcjMzMzY3NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3336773?v=4","gravatar_id":"","url":"https://api.github.com/users/na--","html_url":"https://github.com/na--","followers_url":"https://api.github.com/users/na--/followers","following_url":"https://api.github.com/users/na--/following{/other_user}","gists_url":"https://api.github.com/users/na--/gists{/gist_id}","starred_url":"https://api.github.com/users/na--/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na--/subscriptions","organizations_url":"https://api.github.com/users/na--/orgs","repos_url":"https://api.github.com/users/na--/repos","events_url":"https://api.github.com/users/na--/events{/privacy}","received_events_url":"https://api.github.com/users/na--/received_events","type":"User","user_view_type":"public","site_admin":false}}]