diff --git a/documentation/src/docs/asciidoc/release-notes-5.0.0-M4.adoc b/documentation/src/docs/asciidoc/release-notes-5.0.0-M4.adoc
index 684e747a5..86e48b279 100644
--- a/documentation/src/docs/asciidoc/release-notes-5.0.0-M4.adoc
+++ b/documentation/src/docs/asciidoc/release-notes-5.0.0-M4.adoc
@@ -22,9 +22,9 @@ on GitHub.
 * All `findMethods()` implementations in `ReflectionUtils` no longer return synthetic methods.
   Shadowed https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2[override-equal]
   methods are also no longer included in the result collection.
-* Introduced `getLegacyName()` in `TestIdentifier`.
-  This allows the JUnit Platform Surefire provider to resolve the class and method names
-  through `getLegacyName()` instead of using the source location.
+* Introduced `getLegacyName()` in `TestIdentifier` and `TestDescriptor`.
+  This allows the JUnit Platform Gradle Plugin and the Surefire Provider to resolve the class and
+  method names through `getLegacyName()` instead of using the source location.
 
 ===== Deprecations and Breaking Changes
 
diff --git a/junit-platform-console/src/main/java/org/junit/platform/console/tasks/XmlReportWriter.java b/junit-platform-console/src/main/java/org/junit/platform/console/tasks/XmlReportWriter.java
index 31a1c251c..32971754f 100644
--- a/junit-platform-console/src/main/java/org/junit/platform/console/tasks/XmlReportWriter.java
+++ b/junit-platform-console/src/main/java/org/junit/platform/console/tasks/XmlReportWriter.java
@@ -34,10 +34,7 @@ import javax.xml.stream.XMLStreamException;
 import javax.xml.stream.XMLStreamWriter;
 
 import org.junit.platform.engine.TestExecutionResult;
-import org.junit.platform.engine.TestSource;
 import org.junit.platform.engine.reporting.ReportEntry;
-import org.junit.platform.engine.support.descriptor.ClassSource;
-import org.junit.platform.engine.support.descriptor.MethodSource;
 import org.junit.platform.launcher.TestIdentifier;
 
 /**
@@ -147,38 +144,13 @@ class XmlReportWriter {
 	}
 
 	private String getName(TestIdentifier testIdentifier) {
-		Optional<TestSource> optionalSource = testIdentifier.getSource();
-		if (optionalSource.isPresent()) {
-			TestSource source = optionalSource.get();
-			if (source instanceof ClassSource) {
-				return ((ClassSource) source).getJavaClass().getName();
-			}
-			else if (source instanceof MethodSource) {
-				MethodSource methodSource = (MethodSource) source;
-				return String.format("%s(%s)", methodSource.getMethodName(), methodSource.getMethodParameterTypes());
-			}
-		}
-
-		// Else fall back to display name
-		return testIdentifier.getDisplayName();
+		return testIdentifier.getLegacyReportingName();
 	}
 
 	private String getClassName(TestIdentifier testIdentifier) {
-		Optional<TestSource> optionalSource = testIdentifier.getSource();
-		if (optionalSource.isPresent()) {
-			TestSource source = optionalSource.get();
-			if (source instanceof ClassSource) {
-				return ((ClassSource) source).getClassName();
-			}
-			else if (source instanceof MethodSource) {
-				return ((MethodSource) source).getClassName();
-			}
-		}
-
-		// Else fall back to display name of parent
 		// @formatter:off
 		return reportData.getTestPlan().getParent(testIdentifier)
-				.map(TestIdentifier::getDisplayName)
+				.map(TestIdentifier::getLegacyReportingName)
 				.orElse("<unrooted>");
 		// @formatter:on
 	}
diff --git a/platform-tests/src/test/java/org/junit/platform/console/tasks/XmlReportWriterTests.java b/platform-tests/src/test/java/org/junit/platform/console/tasks/XmlReportWriterTests.java
index 7eed9c49d..d2ee4ca4e 100644
--- a/platform-tests/src/test/java/org/junit/platform/console/tasks/XmlReportWriterTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/console/tasks/XmlReportWriterTests.java
@@ -104,12 +104,23 @@ class XmlReportWriterTests {
 
 	@Test
 	void writesEmptyErrorElementForFailedTestWithoutCause() throws Exception {
-		EngineDescriptor engineDescriptor = new EngineDescriptor(UniqueId.forEngine("engine"), "Engine");
-		engineDescriptor.addChild(new TestDescriptorStub(UniqueId.root("test", "failedTest"), "failedTest"));
+		UniqueId uniqueId = UniqueId.forEngine("myEngineId");
+		EngineDescriptor engineDescriptor = new EngineDescriptor(uniqueId, "Fancy Engine") {
+			@Override
+			public String getLegacyReportingName() {
+				return "myEngine";
+			}
+		};
+		engineDescriptor.addChild(new TestDescriptorStub(uniqueId.append("test", "failedTest"), "some fancy name") {
+			@Override
+			public String getLegacyReportingName() {
+				return "failedTest";
+			}
+		});
 
 		TestPlan testPlan = TestPlan.from(singleton(engineDescriptor));
 		XmlReportData reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
-		reportData.markFinished(testPlan.getTestIdentifier("[test:failedTest]"), failed(null));
+		reportData.markFinished(testPlan.getTestIdentifier("[engine:myEngineId]/[test:failedTest]"), failed(null));
 
 		StringWriter out = new StringWriter();
 		new XmlReportWriter(reportData).writeXmlReport(getOnlyElement(testPlan.getRoots()), out);
@@ -118,7 +129,7 @@ class XmlReportWriterTests {
 		//@formatter:off
 		assertThat(content)
 			.containsSequence(
-				"<testcase name=\"failedTest\"",
+				"<testcase name=\"failedTest\" classname=\"myEngine\"",
 				"<error/>",
 				"</testcase>");
 		//@formatter:on
