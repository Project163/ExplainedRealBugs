diff --git a/junit-jupiter-params/src/main/java/org/junit/jupiter/params/provider/CsvArgumentsProvider.java b/junit-jupiter-params/src/main/java/org/junit/jupiter/params/provider/CsvArgumentsProvider.java
index 7f475a230..7a2999eaa 100644
--- a/junit-jupiter-params/src/main/java/org/junit/jupiter/params/provider/CsvArgumentsProvider.java
+++ b/junit-jupiter-params/src/main/java/org/junit/jupiter/params/provider/CsvArgumentsProvider.java
@@ -95,6 +95,7 @@ class CsvArgumentsProvider implements ArgumentsProvider, AnnotationConsumer<CsvS
 				// Lazily retrieve headers if necessary.
 				if (useHeadersInDisplayName && headers == null) {
 					headers = getHeaders(this.csvParser);
+					continue;
 				}
 				Preconditions.notNull(csvRecord,
 					() -> "Record at index " + index + " contains invalid CSV: \"" + input + "\"");
diff --git a/junit-jupiter-params/src/test/java/org/junit/jupiter/params/provider/CsvArgumentsProviderTests.java b/junit-jupiter-params/src/test/java/org/junit/jupiter/params/provider/CsvArgumentsProviderTests.java
index 872ff2839..a62a3c713 100644
--- a/junit-jupiter-params/src/test/java/org/junit/jupiter/params/provider/CsvArgumentsProviderTests.java
+++ b/junit-jupiter-params/src/test/java/org/junit/jupiter/params/provider/CsvArgumentsProviderTests.java
@@ -353,6 +353,24 @@ class CsvArgumentsProviderTests {
 			array("FRUIT = banana", "RANK = 2"));
 	}
 
+	@Test
+	void supportsCsvHeadersWhenUsingValueAttribute() {
+		var annotation = csvSource().useHeadersInDisplayName(true).lines("FRUIT, RANK", "apple, 1",
+			"banana, 2").build();
+
+		var arguments = provideArguments(annotation);
+		Stream<String[]> argumentsAsStrings = arguments.map(array -> {
+			String[] strings = new String[array.length];
+			for (int i = 0; i < array.length; i++) {
+				strings[i] = String.valueOf(array[i]);
+			}
+			return strings;
+		});
+
+		assertThat(argumentsAsStrings).containsExactly(array("FRUIT = apple", "RANK = 1"),
+			array("FRUIT = banana", "RANK = 2"));
+	}
+
 	@Test
 	void throwsExceptionIfColumnCountExceedsHeaderCount() {
 		var annotation = csvSource().useHeadersInDisplayName(true).textBlock("""
