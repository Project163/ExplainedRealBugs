diff --git a/documentation/src/docs/asciidoc/release-notes/release-notes-5.8.0-M2.adoc b/documentation/src/docs/asciidoc/release-notes/release-notes-5.8.0-M2.adoc
index 8ba703254..bd7d93c2b 100644
--- a/documentation/src/docs/asciidoc/release-notes/release-notes-5.8.0-M2.adoc
+++ b/documentation/src/docs/asciidoc/release-notes/release-notes-5.8.0-M2.adoc
@@ -23,6 +23,11 @@ on GitHub.
 
 ==== New Features and Improvements
 
+* New `getConfigurationParameters()` method in the `TestPlan` which allows a
+  `TestExecutionListener` to access
+  <<../user-guide/index.adoc#running-tests-config-params, configuration parameters>>. See
+  <<../user-guide/index.adoc#launcher-api-listeners-config, Configuring an Execution
+  Listener>> for details.
 * New `UniqueIdTrackingListener` which is a `TestExecutionListener` that tracks the unique
   IDs of all tests that were executed during the `TestPlan` and generates a file
   containing the unique IDs. The generated file can be used to rerun those tests -- for
diff --git a/documentation/src/docs/asciidoc/user-guide/launcher-api.adoc b/documentation/src/docs/asciidoc/user-guide/launcher-api.adoc
index 04a1566bd..164541c5c 100644
--- a/documentation/src/docs/asciidoc/user-guide/launcher-api.adoc
+++ b/documentation/src/docs/asciidoc/user-guide/launcher-api.adoc
@@ -120,7 +120,7 @@ declared within the `/META-INF/services/org.junit.platform.launcher.PostDiscover
 file is loaded and applied automatically.
 
 [[launcher-api-launcher-session-listeners-custom]]
-==== Plugging in your own Launcher Sessions Listeners
+==== Plugging in your own Launcher Session Listeners
 
 Registered implementations of `{LauncherSessionListener}` are notified when a
 `{LauncherSession}` is opened, i.e. before a `{Launcher}` first discovers and executes
@@ -161,6 +161,20 @@ For example, an `example.CustomTestExecutionListener` class implementing
 `/META-INF/services/org.junit.platform.launcher.TestExecutionListener` file is loaded and
 registered automatically.
 
+[[launcher-api-listeners-config]]
+==== Configuring an Execution Listener
+
+When a `{TestExecutionListener}` is registered programmatically via the `{Launcher}` API,
+the listener may provide programmatic ways for it to be configured -- for example, via its
+constructor, setter methods, etc. However, when a `TestExecutionListener` is registered
+automatically via Java's `ServiceLoader` mechanism (see
+<<launcher-api-listeners-custom>>), there is no way for the user to directly configure the
+listener. In such cases, the author of a `TestExecutionListener` may choose to make the
+listener configurable via <<running-tests-config-params, configuration parameters>>. The
+listener can then access the configuration parameters via the `TestPlan` supplied to the
+`testPlanExecutionStarted(TestPlan)` and `testPlanExecutionFinished(TestPlan)` callback
+methods. See the `{UniqueIdTrackingListener}` for an example.
+
 [[launcher-api-listeners-custom-deactivation]]
 ==== Deactivating Execution Listeners
 
diff --git a/documentation/src/docs/asciidoc/user-guide/running-tests.adoc b/documentation/src/docs/asciidoc/user-guide/running-tests.adoc
index 9adaf6895..c38660559 100644
--- a/documentation/src/docs/asciidoc/user-guide/running-tests.adoc
+++ b/documentation/src/docs/asciidoc/user-guide/running-tests.adoc
@@ -699,8 +699,8 @@ infrastructure.
 
 In addition to instructing the platform which test classes and test engines to include,
 which packages to scan, etc., it is sometimes necessary to provide additional custom
-configuration parameters that are specific to a particular test engine or registered
-extension. For example, the JUnit Jupiter `TestEngine` supports _configuration
+configuration parameters that are specific to a particular test engine, listener, or
+registered extension. For example, the JUnit Jupiter `TestEngine` supports _configuration
 parameters_ for the following use cases.
 
 - <<writing-tests-test-instance-lifecycle-changing-default>>
diff --git a/junit-platform-engine/src/main/java/org/junit/platform/engine/ConfigurationParameters.java b/junit-platform-engine/src/main/java/org/junit/platform/engine/ConfigurationParameters.java
index 5110f4536..e7fa8419a 100644
--- a/junit-platform-engine/src/main/java/org/junit/platform/engine/ConfigurationParameters.java
+++ b/junit-platform-engine/src/main/java/org/junit/platform/engine/ConfigurationParameters.java
@@ -26,6 +26,10 @@ import org.junit.platform.commons.util.Preconditions;
  * <p>For example, the JUnit Jupiter engine uses a configuration parameter to
  * enable IDEs and build tools to deactivate conditional test execution.
  *
+ * <p>As of JUnit Platform 1.8, configuration parameters are also made available to
+ * implementations of the {@link org.junit.platform.launcher.TestExecutionListener}
+ * API via the {@link org.junit.platform.launcher.TestPlan}.
+ *
  * @see TestEngine
  * @see EngineDiscoveryRequest
  * @see ExecutionRequest
diff --git a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestExecutionListener.java b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestExecutionListener.java
index b0505e9e2..e502dd3f4 100644
--- a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestExecutionListener.java
+++ b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestExecutionListener.java
@@ -39,6 +39,13 @@ import org.junit.platform.engine.reporting.ReportEntry;
  * Jupiter engines comply with this contract, there is no way to guarantee this for
  * third-party engines.
  *
+ * <p>As of JUnit Platform 1.8, a {@code TestExecutionListener} can access
+ * {@linkplain org.junit.platform.engine.ConfigurationParameters configuration
+ * parameters} via the {@link TestPlan#getConfigurationParameters()
+ * getConfigurationParameters()} method in the {@code TestPlan} supplied to
+ * {@link #testPlanExecutionStarted(TestPlan)} and
+ * {@link #testPlanExecutionFinished(TestPlan)}.
+ *
  * @since 1.0
  * @see Launcher
  * @see TestPlan
diff --git a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestPlan.java b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestPlan.java
index 9e268224b..617bdf6a2 100644
--- a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestPlan.java
+++ b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/TestPlan.java
@@ -15,6 +15,7 @@ import static java.util.Collections.synchronizedSet;
 import static java.util.Collections.unmodifiableSet;
 import static org.apiguardian.api.API.Status.DEPRECATED;
 import static org.apiguardian.api.API.Status.INTERNAL;
+import static org.apiguardian.api.API.Status.MAINTAINED;
 import static org.apiguardian.api.API.Status.STABLE;
 
 import java.util.Collection;
@@ -28,6 +29,7 @@ import java.util.function.Predicate;
 import org.apiguardian.api.API;
 import org.junit.platform.commons.PreconditionViolationException;
 import org.junit.platform.commons.util.Preconditions;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.TestDescriptor;
 import org.junit.platform.engine.TestDescriptor.Visitor;
 import org.junit.platform.engine.UniqueId;
@@ -66,6 +68,8 @@ public class TestPlan {
 
 	private final boolean containsTests;
 
+	private final ConfigurationParameters configurationParameters;
+
 	/**
 	 * Construct a new {@code TestPlan} from the supplied collection of
 	 * {@link TestDescriptor TestDescriptors}.
@@ -75,20 +79,26 @@ public class TestPlan {
 	 *
 	 * @param engineDescriptors the engine test descriptors from which the test
 	 * plan should be created; never {@code null}
+	 * @param configurationParameters the {@code ConfigurationParameters} for
+	 * this test plan; never {@code null}
 	 * @return a new test plan
 	 */
 	@API(status = INTERNAL, since = "1.0")
-	public static TestPlan from(Collection<TestDescriptor> engineDescriptors) {
+	public static TestPlan from(Collection<TestDescriptor> engineDescriptors,
+			ConfigurationParameters configurationParameters) {
 		Preconditions.notNull(engineDescriptors, "Cannot create TestPlan from a null collection of TestDescriptors");
-		TestPlan testPlan = new TestPlan(engineDescriptors.stream().anyMatch(TestDescriptor::containsTests));
+		Preconditions.notNull(configurationParameters, "Cannot create TestPlan from null ConfigurationParameters");
+		TestPlan testPlan = new TestPlan(engineDescriptors.stream().anyMatch(TestDescriptor::containsTests),
+			configurationParameters);
 		Visitor visitor = descriptor -> testPlan.add(TestIdentifier.from(descriptor));
 		engineDescriptors.forEach(engineDescriptor -> engineDescriptor.accept(visitor));
 		return testPlan;
 	}
 
 	@API(status = INTERNAL, since = "1.4")
-	protected TestPlan(boolean containsTests) {
+	protected TestPlan(boolean containsTests, ConfigurationParameters configurationParameters) {
 		this.containsTests = containsTests;
+		this.configurationParameters = configurationParameters;
 	}
 
 	/**
@@ -222,4 +232,15 @@ public class TestPlan {
 		return containsTests;
 	}
 
+	/**
+	 * Get the {@link ConfigurationParameters} for this test plan.
+	 *
+	 * @return the configuration parameters; never {@code null}
+	 * @since 1.8
+	 */
+	@API(status = MAINTAINED, since = "1.8")
+	public ConfigurationParameters getConfigurationParameters() {
+		return this.configurationParameters;
+	}
+
 }
diff --git a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/InternalTestPlan.java b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/InternalTestPlan.java
index 559d603e8..5f9c6a574 100644
--- a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/InternalTestPlan.java
+++ b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/InternalTestPlan.java
@@ -34,12 +34,13 @@ class InternalTestPlan extends TestPlan {
 	private final TestPlan delegate;
 
 	static InternalTestPlan from(LauncherDiscoveryResult discoveryResult) {
-		TestPlan delegate = TestPlan.from(discoveryResult.getEngineTestDescriptors());
+		TestPlan delegate = TestPlan.from(discoveryResult.getEngineTestDescriptors(),
+			discoveryResult.getConfigurationParameters());
 		return new InternalTestPlan(discoveryResult, delegate);
 	}
 
 	private InternalTestPlan(LauncherDiscoveryResult discoveryResult, TestPlan delegate) {
-		super(delegate.containsTests());
+		super(delegate.containsTests(), delegate.getConfigurationParameters());
 		this.discoveryResult = discoveryResult;
 		this.delegate = delegate;
 	}
diff --git a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListener.java b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListener.java
index 7e6a921b5..81afea40a 100644
--- a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListener.java
+++ b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListener.java
@@ -25,6 +25,7 @@ import org.apiguardian.api.API;
 import org.junit.platform.commons.logging.Logger;
 import org.junit.platform.commons.logging.LoggerFactory;
 import org.junit.platform.commons.util.StringUtils;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.TestExecutionResult;
 import org.junit.platform.launcher.TestExecutionListener;
 import org.junit.platform.launcher.TestIdentifier;
@@ -56,11 +57,11 @@ import org.junit.platform.launcher.TestPlan;
  * is {@code OUTPUT_DIR}/{@code OUTPUT_FILE}.
  *
  * <p>The name of the {@code OUTPUT_FILE} defaults to {@link #DEFAULT_FILE_NAME},
- * but a custom file name can be configured via the {@link #OUTPUT_FILE_PROPERTY_NAME}
- * JVM system property.
+ * but a custom file name can be set via the {@link #OUTPUT_FILE_PROPERTY_NAME}
+ * configuration property.
  *
  * <p>The {@code OUTPUT_DIR} can be set to a custom directory via the
- * {@link #OUTPUT_DIR_PROPERTY_NAME} JVM system property. Otherwise the following
+ * {@link #OUTPUT_DIR_PROPERTY_NAME} configuration property. Otherwise the following
  * algorithm is used to select a default output directory.
  *
  * <ul>
@@ -78,6 +79,10 @@ import org.junit.platform.launcher.TestPlan;
  * by this listener would be {@code ./build/junit-platform-unique-test-ids.txt}
  * by default.
  *
+ * <p>Configuration properties can be set via JVM system properties, via a
+ * {@code junit-platform.properties} file in the root of the classpath, or as
+ * JUnit Platform {@linkplain ConfigurationParameters configuration parameters}.
+ *
  * @since 1.8
  */
 @API(status = EXPERIMENTAL, since = "1.8")
@@ -121,10 +126,11 @@ public class UniqueIdTrackingListener implements TestExecutionListener {
 
 	private final List<String> uniqueIds = new ArrayList<>();
 
-	private final boolean enabled;
+	private boolean enabled;
 
-	public UniqueIdTrackingListener() {
-		this.enabled = Boolean.getBoolean(LISTENER_ENABLED_PROPERTY_NAME);
+	@Override
+	public void testPlanExecutionStarted(TestPlan testPlan) {
+		this.enabled = testPlan.getConfigurationParameters().getBoolean(LISTENER_ENABLED_PROPERTY_NAME).orElse(false);
 	}
 
 	@Override
@@ -139,7 +145,7 @@ public class UniqueIdTrackingListener implements TestExecutionListener {
 		if (this.enabled) {
 			Path outputFile;
 			try {
-				outputFile = getOutputFile();
+				outputFile = getOutputFile(testPlan.getConfigurationParameters());
 			}
 			catch (IOException ex) {
 				logger.error(ex, () -> "Failed to create output file");
@@ -158,9 +164,9 @@ public class UniqueIdTrackingListener implements TestExecutionListener {
 		}
 	}
 
-	private Path getOutputFile() throws IOException {
-		String filename = System.getProperty(OUTPUT_FILE_PROPERTY_NAME, DEFAULT_FILE_NAME);
-		Path outputFile = getOutputDir().resolve(filename);
+	private Path getOutputFile(ConfigurationParameters configurationParameters) throws IOException {
+		String filename = configurationParameters.get(OUTPUT_FILE_PROPERTY_NAME).orElse(DEFAULT_FILE_NAME);
+		Path outputFile = getOutputDir(configurationParameters).resolve(filename);
 
 		if (Files.exists(outputFile)) {
 			Files.delete(outputFile);
@@ -171,11 +177,11 @@ public class UniqueIdTrackingListener implements TestExecutionListener {
 		return outputFile;
 	}
 
-	Path getOutputDir() throws IOException {
+	Path getOutputDir(ConfigurationParameters configurationParameters) throws IOException {
 		Path cwd = currentWorkingDir();
 		Path outputDir;
 
-		String customDir = System.getProperty(OUTPUT_DIR_PROPERTY_NAME);
+		String customDir = configurationParameters.get(OUTPUT_DIR_PROPERTY_NAME).orElse(null);
 		if (StringUtils.isNotBlank(customDir)) {
 			outputDir = cwd.resolve(customDir);
 		}
diff --git a/platform-tests/src/test/java/org/junit/platform/launcher/TestPlanTests.java b/platform-tests/src/test/java/org/junit/platform/launcher/TestPlanTests.java
index 65e313100..f30043aa5 100644
--- a/platform-tests/src/test/java/org/junit/platform/launcher/TestPlanTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/launcher/TestPlanTests.java
@@ -11,16 +11,20 @@
 package org.junit.platform.launcher;
 
 import static org.assertj.core.api.Assertions.assertThat;
+import static org.mockito.Mockito.mock;
 
 import java.util.Set;
 
 import org.junit.jupiter.api.Test;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.UniqueId;
 import org.junit.platform.engine.support.descriptor.AbstractTestDescriptor;
 import org.junit.platform.engine.support.descriptor.EngineDescriptor;
 
 class TestPlanTests {
 
+	private final ConfigurationParameters configParams = mock(ConfigurationParameters.class);
+
 	private EngineDescriptor engineDescriptor = new EngineDescriptor(UniqueId.forEngine("foo"), "Foo");
 
 	@Test
@@ -33,7 +37,7 @@ class TestPlanTests {
 				}
 			});
 
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		assertThat(testPlan.containsTests()).as("contains tests").isFalse();
 	}
@@ -48,7 +52,7 @@ class TestPlanTests {
 				}
 			});
 
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		assertThat(testPlan.containsTests()).as("contains tests").isTrue();
 	}
@@ -68,8 +72,9 @@ class TestPlanTests {
 				}
 			});
 
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		assertThat(testPlan.containsTests()).as("contains tests").isTrue();
 	}
+
 }
diff --git a/platform-tests/src/test/java/org/junit/platform/launcher/core/CompositeTestExecutionListenerTests.java b/platform-tests/src/test/java/org/junit/platform/launcher/core/CompositeTestExecutionListenerTests.java
index 7475acee1..76c4c945b 100644
--- a/platform-tests/src/test/java/org/junit/platform/launcher/core/CompositeTestExecutionListenerTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/launcher/core/CompositeTestExecutionListenerTests.java
@@ -24,6 +24,7 @@ import org.junit.jupiter.api.Test;
 import org.junit.jupiter.api.fixtures.TrackLogRecords;
 import org.junit.platform.commons.logging.LogRecordListener;
 import org.junit.platform.commons.util.ReflectionUtils;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.TestExecutionResult;
 import org.junit.platform.engine.UniqueId;
 import org.junit.platform.engine.reporting.ReportEntry;
@@ -91,7 +92,8 @@ class CompositeTestExecutionListenerTests {
 			LogRecordListener logRecordListener) {
 		var testDescriptor = getDemoMethodTestDescriptor();
 
-		compositeTestExecutionListener().testPlanExecutionStarted(TestPlan.from(Set.of(testDescriptor)));
+		compositeTestExecutionListener().testPlanExecutionStarted(
+			TestPlan.from(Set.of(testDescriptor), mock(ConfigurationParameters.class)));
 
 		assertThatTestListenerErrorLogged(logRecordListener, ThrowingTestExecutionListener.class,
 			"testPlanExecutionStarted");
@@ -102,7 +104,8 @@ class CompositeTestExecutionListenerTests {
 			LogRecordListener logRecordListener) {
 		var testDescriptor = getDemoMethodTestDescriptor();
 
-		compositeTestExecutionListener().testPlanExecutionFinished(TestPlan.from(Set.of(testDescriptor)));
+		compositeTestExecutionListener().testPlanExecutionFinished(
+			TestPlan.from(Set.of(testDescriptor), mock(ConfigurationParameters.class)));
 
 		assertThatTestListenerErrorLogged(logRecordListener, ThrowingTestExecutionListener.class,
 			"testPlanExecutionFinished");
diff --git a/platform-tests/src/test/java/org/junit/platform/launcher/core/ExecutionListenerAdapterTests.java b/platform-tests/src/test/java/org/junit/platform/launcher/core/ExecutionListenerAdapterTests.java
index 88a256add..1bf3e03e2 100644
--- a/platform-tests/src/test/java/org/junit/platform/launcher/core/ExecutionListenerAdapterTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/launcher/core/ExecutionListenerAdapterTests.java
@@ -17,6 +17,7 @@ import java.util.Map;
 
 import org.junit.jupiter.api.Test;
 import org.junit.platform.commons.util.ReflectionUtils;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.TestDescriptor;
 import org.junit.platform.engine.TestEngine;
 import org.junit.platform.engine.UniqueId;
@@ -35,7 +36,8 @@ class ExecutionListenerAdapterTests {
 	void testReportingEntryPublished() {
 		var testDescriptor = getSampleMethodTestDescriptor();
 
-		var discoveryResult = new LauncherDiscoveryResult(Map.of(mock(TestEngine.class), testDescriptor), null);
+		var discoveryResult = new LauncherDiscoveryResult(Map.of(mock(TestEngine.class), testDescriptor),
+			mock(ConfigurationParameters.class));
 		var testPlan = InternalTestPlan.from(discoveryResult);
 		var testIdentifier = testPlan.getTestIdentifier(testDescriptor.getUniqueId().toString());
 
diff --git a/platform-tests/src/test/java/org/junit/platform/launcher/listeners/SummaryGenerationTests.java b/platform-tests/src/test/java/org/junit/platform/launcher/listeners/SummaryGenerationTests.java
index 229e82f1f..b22e51d18 100644
--- a/platform-tests/src/test/java/org/junit/platform/launcher/listeners/SummaryGenerationTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/launcher/listeners/SummaryGenerationTests.java
@@ -16,6 +16,7 @@ import static org.junit.jupiter.api.Assertions.assertEquals;
 import static org.junit.jupiter.api.Assertions.assertFalse;
 import static org.junit.jupiter.api.Assertions.assertTrue;
 import static org.junit.platform.commons.test.ConcurrencyTestingUtils.executeConcurrently;
+import static org.mockito.Mockito.mock;
 
 import java.io.PrintWriter;
 import java.io.StringWriter;
@@ -24,6 +25,7 @@ import java.util.Optional;
 
 import org.junit.jupiter.api.RepeatedTest;
 import org.junit.jupiter.api.Test;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.TestExecutionResult;
 import org.junit.platform.engine.TestSource;
 import org.junit.platform.engine.UniqueId;
@@ -38,7 +40,7 @@ import org.junit.platform.launcher.TestPlan;
 class SummaryGenerationTests {
 
 	private final SummaryGeneratingListener listener = new SummaryGeneratingListener();
-	private final TestPlan testPlan = TestPlan.from(List.of());
+	private final TestPlan testPlan = TestPlan.from(List.of(), mock(ConfigurationParameters.class));
 
 	@Test
 	void emptyReport() {
diff --git a/platform-tests/src/test/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListenerIntegrationTests.java b/platform-tests/src/test/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListenerIntegrationTests.java
index 485369736..2e15a8282 100644
--- a/platform-tests/src/test/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListenerIntegrationTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListenerIntegrationTests.java
@@ -36,13 +36,13 @@ import java.nio.file.Files;
 import java.nio.file.Path;
 import java.nio.file.Paths;
 import java.util.ArrayList;
+import java.util.HashMap;
 import java.util.List;
+import java.util.Map;
 import java.util.ServiceLoader;
 import java.util.stream.Stream;
 
 import org.assertj.core.api.Condition;
-import org.junit.jupiter.api.AfterEach;
-import org.junit.jupiter.api.BeforeEach;
 import org.junit.jupiter.api.Disabled;
 import org.junit.jupiter.api.DynamicTest;
 import org.junit.jupiter.api.Test;
@@ -77,14 +77,6 @@ class UniqueIdTrackingListenerIntegrationTests {
 	private static final String[] expectedUniqueIds = { passingTest, abortedTest, failingTest, dynamicTest1,
 			dynamicTest2, test1, test2 };
 
-	@BeforeEach
-	@AfterEach
-	void clearSystemProperties() {
-		System.clearProperty(LISTENER_ENABLED_PROPERTY_NAME);
-		System.clearProperty(OUTPUT_DIR_PROPERTY_NAME);
-		System.clearProperty(OUTPUT_FILE_PROPERTY_NAME);
-	}
-
 	@Test
 	void confirmExpectedUniqueIdsViaEngineTestKit() {
 		// @formatter:off
@@ -116,7 +108,7 @@ class UniqueIdTrackingListenerIntegrationTests {
 		Files.deleteIfExists(path);
 
 		try {
-			List<String> actualUniqueIds = executeTests();
+			List<String> actualUniqueIds = executeTests(Map.of());
 
 			// Sanity check using the results of our local TestExecutionListener
 			assertThat(actualUniqueIds).containsExactlyInAnyOrder(expectedUniqueIds);
@@ -132,43 +124,42 @@ class UniqueIdTrackingListenerIntegrationTests {
 	@Test
 	void verifyUniqueIdsAreTrackedWithDefaults() throws Exception {
 		Path path = Paths.get("build", DEFAULT_FILE_NAME);
-		verifyUniqueIdsAreTracked(path);
+		verifyUniqueIdsAreTracked(path, Map.of());
 	}
 
 	@Test
 	void verifyUniqueIdsAreTrackedWithCustomOutputFile() throws Exception {
 		String customFilename = "test_ids.txt";
-		System.setProperty(OUTPUT_FILE_PROPERTY_NAME, customFilename);
 
 		Path path = Paths.get("build", customFilename);
-		verifyUniqueIdsAreTracked(path);
+		verifyUniqueIdsAreTracked(path, Map.of(OUTPUT_FILE_PROPERTY_NAME, customFilename));
 	}
 
 	@Test
 	void verifyUniqueIdsAreTrackedWithCustomOutputDir() throws Exception {
 		String customDir = "build/UniqueIdTrackingListenerIntegrationTests";
-		System.setProperty(OUTPUT_DIR_PROPERTY_NAME, customDir);
 
 		Path path = Paths.get(customDir, DEFAULT_FILE_NAME);
-		verifyUniqueIdsAreTracked(path);
+		verifyUniqueIdsAreTracked(path, Map.of(OUTPUT_DIR_PROPERTY_NAME, customDir));
 	}
 
 	@Test
 	void verifyUniqueIdsAreTrackedWithCustomOutputFileAndCustomOutputDir() throws Exception {
 		String customFilename = "test_ids.txt";
 		String customDir = "build/UniqueIdTrackingListenerIntegrationTests";
-		System.setProperty(OUTPUT_DIR_PROPERTY_NAME, customDir);
-		System.setProperty(OUTPUT_FILE_PROPERTY_NAME, customFilename);
 
 		Path path = Paths.get(customDir, customFilename);
-		verifyUniqueIdsAreTracked(path);
+		verifyUniqueIdsAreTracked(path,
+			Map.of(OUTPUT_DIR_PROPERTY_NAME, customDir, OUTPUT_FILE_PROPERTY_NAME, customFilename));
 	}
 
-	private void verifyUniqueIdsAreTracked(Path path) throws IOException {
-		enableListener();
+	private void verifyUniqueIdsAreTracked(Path path, Map<String, String> configurationParameters) throws IOException {
+		configurationParameters = new HashMap<>(configurationParameters);
+		configurationParameters.put(LISTENER_ENABLED_PROPERTY_NAME, "true");
+
 		Files.deleteIfExists(path);
 		try {
-			List<String> actualUniqueIds = executeTests();
+			List<String> actualUniqueIds = executeTests(configurationParameters);
 
 			// Sanity check using the results of our local TestExecutionListener
 			assertThat(actualUniqueIds).containsExactlyInAnyOrder(expectedUniqueIds);
@@ -181,21 +172,19 @@ class UniqueIdTrackingListenerIntegrationTests {
 		}
 	}
 
-	private static void enableListener() {
-		System.setProperty(LISTENER_ENABLED_PROPERTY_NAME, "true");
-	}
-
 	private static Condition<Event> uniqueId(String uniqueId) {
 		return new Condition<>(
 			byTestDescriptor(where(TestDescriptor::getUniqueId, uid -> uid.toString().equals(uniqueId))),
 			"descriptor with uniqueId '%s'", uniqueId);
 	}
 
-	private static List<String> executeTests() {
+	private static List<String> executeTests(Map<String, String> configurationParameters) {
 		List<String> uniqueIds = new ArrayList<>();
 		LauncherDiscoveryRequest request = request()//
 				.selectors(selectClasses())//
-				.filters(includeEngines("junit-jupiter")).build();
+				.filters(includeEngines("junit-jupiter"))//
+				.configurationParameters(configurationParameters)//
+				.build();
 		LauncherFactory.create().execute(request, new TestExecutionListener() {
 			@Override
 			public void executionFinished(TestIdentifier testIdentifier, TestExecutionResult testExecutionResult) {
diff --git a/platform-tests/src/test/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListenerUnitTests.java b/platform-tests/src/test/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListenerUnitTests.java
index a04ba7251..2aea2aff3 100644
--- a/platform-tests/src/test/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListenerUnitTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/launcher/listeners/UniqueIdTrackingListenerUnitTests.java
@@ -12,13 +12,17 @@ package org.junit.platform.launcher.listeners;
 
 import static org.assertj.core.api.Assertions.assertThat;
 import static org.junit.platform.launcher.listeners.UniqueIdTrackingListener.OUTPUT_DIR_PROPERTY_NAME;
+import static org.mockito.Mockito.mock;
+import static org.mockito.Mockito.when;
 
 import java.io.IOException;
 import java.nio.file.Files;
 import java.nio.file.Path;
 import java.nio.file.Paths;
+import java.util.Optional;
 
 import org.junit.jupiter.api.Test;
+import org.junit.platform.engine.ConfigurationParameters;
 
 /**
  * Unit tests for the {@link UniqueIdTrackingListener}.
@@ -27,41 +31,31 @@ import org.junit.jupiter.api.Test;
  */
 class UniqueIdTrackingListenerUnitTests {
 
+	private final ConfigurationParameters configParams = mock(ConfigurationParameters.class);
+
 	@Test
 	void getOutputDirUsesCustomOutputDir() throws Exception {
-		try {
-			String customDir = "build/UniqueIdTrackingListenerIntegrationTests";
-			System.setProperty(OUTPUT_DIR_PROPERTY_NAME, customDir);
-
-			UniqueIdTrackingListener listener = new UniqueIdTrackingListener();
-			Path outputDir = listener.getOutputDir();
-			assertThat(Files.isSameFile(Paths.get(customDir), outputDir)).isTrue();
-			assertThat(outputDir).exists();
-		}
-		finally {
-			System.clearProperty(OUTPUT_DIR_PROPERTY_NAME);
-		}
+		String customDir = "build/UniqueIdTrackingListenerIntegrationTests";
+
+		when(configParams.get(OUTPUT_DIR_PROPERTY_NAME)).thenReturn(Optional.of(customDir));
+
+		Path outputDir = new UniqueIdTrackingListener().getOutputDir(configParams);
+		assertThat(Files.isSameFile(Paths.get(customDir), outputDir)).isTrue();
+		assertThat(outputDir).exists();
 	}
 
 	@Test
 	void getOutputDirFallsBackToCurrentWorkingDir() throws Exception {
 		String cwd = "src/test/resources/listeners/uidtracking";
+		String expected = cwd;
 
-		UniqueIdTrackingListener listener = new UniqueIdTrackingListener() {
-			@Override
-			Path currentWorkingDir() {
-				return Paths.get(cwd);
-			}
-		};
-		Path outputDir = listener.getOutputDir();
-		assertThat(Files.isSameFile(Paths.get(cwd), outputDir)).isTrue();
-		assertThat(outputDir).exists();
+		assertOutputDirIsDetected(cwd, expected);
 	}
 
 	@Test
 	void getOutputDirDetectsMavenPom() throws Exception {
 		String cwd = "src/test/resources/listeners/uidtracking/maven";
-		String expected = "target";
+		String expected = cwd + "/target";
 
 		assertOutputDirIsDetected(cwd, expected);
 	}
@@ -69,7 +63,7 @@ class UniqueIdTrackingListenerUnitTests {
 	@Test
 	void getOutputDirDetectsGradleGroovyDefaultBuildScript() throws Exception {
 		String cwd = "src/test/resources/listeners/uidtracking/gradle/groovy";
-		String expected = "build";
+		String expected = cwd + "/build";
 
 		assertOutputDirIsDetected(cwd, expected);
 	}
@@ -77,7 +71,7 @@ class UniqueIdTrackingListenerUnitTests {
 	@Test
 	void getOutputDirDetectsGradleGroovyCustomBuildScript() throws Exception {
 		String cwd = "src/test/resources/listeners/uidtracking/gradle/groovy/sub-project";
-		String expected = "build";
+		String expected = cwd + "/build";
 
 		assertOutputDirIsDetected(cwd, expected);
 	}
@@ -85,7 +79,7 @@ class UniqueIdTrackingListenerUnitTests {
 	@Test
 	void getOutputDirDetectsGradleKotlinDefaultBuildScript() throws Exception {
 		String cwd = "src/test/resources/listeners/uidtracking/gradle/kotlin";
-		String expected = "build";
+		String expected = cwd + "/build";
 
 		assertOutputDirIsDetected(cwd, expected);
 	}
@@ -93,20 +87,22 @@ class UniqueIdTrackingListenerUnitTests {
 	@Test
 	void getOutputDirDetectsGradleKotlinCustomBuildScript() throws Exception {
 		String cwd = "src/test/resources/listeners/uidtracking/gradle/kotlin/sub-project";
-		String expected = "build";
+		String expected = cwd + "/build";
 
 		assertOutputDirIsDetected(cwd, expected);
 	}
 
 	private void assertOutputDirIsDetected(String cwd, String expected) throws IOException {
+		when(configParams.get(OUTPUT_DIR_PROPERTY_NAME)).thenReturn(Optional.empty());
+
 		UniqueIdTrackingListener listener = new UniqueIdTrackingListener() {
 			@Override
 			Path currentWorkingDir() {
 				return Paths.get(cwd);
 			}
 		};
-		Path outputDir = listener.getOutputDir();
-		assertThat(Files.isSameFile(Paths.get(cwd, expected), outputDir)).isTrue();
+		Path outputDir = listener.getOutputDir(configParams);
+		assertThat(Files.isSameFile(Paths.get(expected), outputDir)).isTrue();
 		assertThat(outputDir).exists();
 	}
 
diff --git a/platform-tests/src/test/java/org/junit/platform/reporting/legacy/LegacyReportingUtilsTests.java b/platform-tests/src/test/java/org/junit/platform/reporting/legacy/LegacyReportingUtilsTests.java
index 0a2acf777..366a1d644 100644
--- a/platform-tests/src/test/java/org/junit/platform/reporting/legacy/LegacyReportingUtilsTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/reporting/legacy/LegacyReportingUtilsTests.java
@@ -11,10 +11,12 @@
 package org.junit.platform.reporting.legacy;
 
 import static org.assertj.core.api.Assertions.assertThat;
+import static org.mockito.Mockito.mock;
 
 import java.util.Set;
 
 import org.junit.jupiter.api.Test;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.TestDescriptor;
 import org.junit.platform.engine.TestSource;
 import org.junit.platform.engine.UniqueId;
@@ -70,13 +72,13 @@ class LegacyReportingUtilsTests {
 	}
 
 	private String getClassName(UniqueId uniqueId) {
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), mock(ConfigurationParameters.class));
 		return LegacyReportingUtils.getClassName(testPlan, testPlan.getTestIdentifier(uniqueId.toString()));
 	}
 
 	@SuppressWarnings("deprecation")
 	private String getClassNameFromOldLocation(UniqueId uniqueId) {
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), mock(ConfigurationParameters.class));
 		return org.junit.platform.launcher.listeners.LegacyReportingUtils.getClassName(testPlan,
 			testPlan.getTestIdentifier(uniqueId.toString()));
 	}
diff --git a/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/LegacyXmlReportGeneratingListenerTests.java b/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/LegacyXmlReportGeneratingListenerTests.java
index 546cb1331..87852e3c3 100644
--- a/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/LegacyXmlReportGeneratingListenerTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/LegacyXmlReportGeneratingListenerTests.java
@@ -20,6 +20,7 @@ import static org.junit.platform.engine.discovery.DiscoverySelectors.selectUniqu
 import static org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder.request;
 import static org.junit.platform.launcher.core.LauncherFactoryForTestingPurposesOnly.createLauncher;
 import static org.junit.platform.reporting.legacy.xml.XmlReportAssertions.assertValidAccordingToJenkinsSchema;
+import static org.mockito.Mockito.mock;
 
 import java.io.File;
 import java.io.PrintWriter;
@@ -41,6 +42,7 @@ import java.util.Set;
 import org.joox.Match;
 import org.junit.jupiter.api.Test;
 import org.junit.jupiter.api.io.TempDir;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.TestEngine;
 import org.junit.platform.engine.UniqueId;
 import org.junit.platform.engine.reporting.ReportEntry;
@@ -368,7 +370,7 @@ class LegacyXmlReportGeneratingListenerTests {
 		var out = new StringWriter();
 		var listener = new LegacyXmlReportGeneratingListener(reportsDir, new PrintWriter(out));
 
-		listener.testPlanExecutionStarted(TestPlan.from(Set.of()));
+		listener.testPlanExecutionStarted(TestPlan.from(Set.of(), mock(ConfigurationParameters.class)));
 
 		assertThat(out.toString()).containsSubsequence("Could not create reports directory",
 			"FileAlreadyExistsException", "at ");
@@ -384,7 +386,7 @@ class LegacyXmlReportGeneratingListenerTests {
 		var out = new StringWriter();
 		var listener = new LegacyXmlReportGeneratingListener(tempDirectory, new PrintWriter(out));
 
-		listener.testPlanExecutionStarted(TestPlan.from(Set.of(engineDescriptor)));
+		listener.testPlanExecutionStarted(TestPlan.from(Set.of(engineDescriptor), mock(ConfigurationParameters.class)));
 		listener.executionFinished(TestIdentifier.from(engineDescriptor), successful());
 
 		assertThat(out.toString()).containsSubsequence("Could not write XML report", "Exception", "at ");
@@ -394,7 +396,7 @@ class LegacyXmlReportGeneratingListenerTests {
 	void writesReportEntriesToSystemOutElement() throws Exception {
 		var engineDescriptor = new EngineDescriptor(UniqueId.forEngine("engine"), "Engine");
 		engineDescriptor.addChild(new TestDescriptorStub(UniqueId.root("child", "test"), "test"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), mock(ConfigurationParameters.class));
 
 		var out = new StringWriter();
 		var listener = new LegacyXmlReportGeneratingListener(tempDirectory, new PrintWriter(out));
diff --git a/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/XmlReportDataTests.java b/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/XmlReportDataTests.java
index 0a528f543..906e7d6d0 100644
--- a/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/XmlReportDataTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/XmlReportDataTests.java
@@ -13,11 +13,13 @@ package org.junit.platform.reporting.legacy.xml;
 import static org.assertj.core.api.Assertions.assertThat;
 import static org.junit.platform.engine.TestExecutionResult.failed;
 import static org.junit.platform.engine.TestExecutionResult.successful;
+import static org.mockito.Mockito.mock;
 
 import java.time.Clock;
 import java.util.Set;
 
 import org.junit.jupiter.api.Test;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.UniqueId;
 import org.junit.platform.engine.support.descriptor.EngineDescriptor;
 import org.junit.platform.fakes.TestDescriptorStub;
@@ -28,11 +30,13 @@ import org.junit.platform.launcher.TestPlan;
  */
 class XmlReportDataTests {
 
+	private final ConfigurationParameters configParams = mock(ConfigurationParameters.class);
+
 	@Test
 	void resultsOfTestIdentifierWithoutAnyReportedEventsAreEmpty() {
 		var engineDescriptor = new EngineDescriptor(UniqueId.forEngine("engine"), "Engine");
 		engineDescriptor.addChild(new TestDescriptorStub(UniqueId.root("child", "test"), "test"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		var results = reportData.getResults(testPlan.getTestIdentifier("[child:test]"));
@@ -44,7 +48,7 @@ class XmlReportDataTests {
 	void resultsOfTestIdentifierWithoutReportedEventsContainsOnlyFailureOfAncestor() {
 		var engineDescriptor = new EngineDescriptor(UniqueId.forEngine("engine"), "Engine");
 		engineDescriptor.addChild(new TestDescriptorStub(UniqueId.root("child", "test"), "test"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		var failureOfAncestor = failed(new RuntimeException("failed!"));
@@ -59,7 +63,7 @@ class XmlReportDataTests {
 	void resultsOfTestIdentifierWithoutReportedEventsContainsOnlySuccessOfAncestor() {
 		var engineDescriptor = new EngineDescriptor(UniqueId.forEngine("engine"), "Engine");
 		engineDescriptor.addChild(new TestDescriptorStub(UniqueId.root("child", "test"), "test"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		reportData.markFinished(testPlan.getTestIdentifier("[engine:engine]"), successful());
@@ -68,4 +72,5 @@ class XmlReportDataTests {
 
 		assertThat(results).containsExactly(successful());
 	}
+
 }
diff --git a/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/XmlReportWriterTests.java b/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/XmlReportWriterTests.java
index 2b6cdf1dc..5b02b962f 100644
--- a/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/XmlReportWriterTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/reporting/legacy/xml/XmlReportWriterTests.java
@@ -20,6 +20,7 @@ import static org.junit.platform.engine.TestExecutionResult.successful;
 import static org.junit.platform.launcher.LauncherConstants.STDERR_REPORT_ENTRY_KEY;
 import static org.junit.platform.launcher.LauncherConstants.STDOUT_REPORT_ENTRY_KEY;
 import static org.junit.platform.reporting.legacy.xml.XmlReportAssertions.assertValidAccordingToJenkinsSchema;
+import static org.mockito.Mockito.mock;
 
 import java.io.StringReader;
 import java.io.StringWriter;
@@ -34,6 +35,7 @@ import org.junit.jupiter.api.Test;
 import org.junit.jupiter.params.ParameterizedTest;
 import org.junit.jupiter.params.provider.Arguments;
 import org.junit.jupiter.params.provider.MethodSource;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.UniqueId;
 import org.junit.platform.engine.reporting.ReportEntry;
 import org.junit.platform.engine.support.descriptor.EngineDescriptor;
@@ -46,11 +48,13 @@ import org.junit.platform.launcher.TestPlan;
  */
 class XmlReportWriterTests {
 
+	private final ConfigurationParameters configParams = mock(ConfigurationParameters.class);
+
 	private EngineDescriptor engineDescriptor = new EngineDescriptor(UniqueId.forEngine("engine"), "Engine");
 
 	@Test
 	void writesTestsuiteElementsWithoutTestcaseElementsWithoutAnyTests() throws Exception {
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 
@@ -68,7 +72,7 @@ class XmlReportWriterTests {
 		var uniqueId = engineDescriptor.getUniqueId().append("test", "test");
 		var testDescriptor = new TestDescriptorStub(uniqueId, "successfulTest");
 		engineDescriptor.addChild(testDescriptor);
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		reportData.addReportEntry(TestIdentifier.from(testDescriptor), ReportEntry.from("myKey", "myValue"));
@@ -86,7 +90,7 @@ class XmlReportWriterTests {
 		var uniqueId = engineDescriptor.getUniqueId().append("test", "test");
 		var testDescriptor = new TestDescriptorStub(uniqueId, "successfulTest");
 		engineDescriptor.addChild(testDescriptor);
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		var reportEntry = ReportEntry.from(Map.of( //
@@ -115,7 +119,7 @@ class XmlReportWriterTests {
 	void writesEmptySkippedElementForSkippedTestWithoutReason() throws Exception {
 		var uniqueId = engineDescriptor.getUniqueId().append("test", "test");
 		engineDescriptor.addChild(new TestDescriptorStub(uniqueId, "skippedTest"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		reportData.markSkipped(testPlan.getTestIdentifier(uniqueId.toString()), null);
@@ -145,7 +149,7 @@ class XmlReportWriterTests {
 				return "failedTest";
 			}
 		});
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		reportData.markFinished(testPlan.getTestIdentifier(uniqueId.toString()), failed(null));
@@ -165,7 +169,7 @@ class XmlReportWriterTests {
 	void omitsMessageAttributeForFailedTestWithThrowableWithoutMessage() throws Exception {
 		var uniqueId = engineDescriptor.getUniqueId().append("test", "test");
 		engineDescriptor.addChild(new TestDescriptorStub(uniqueId, "failedTest"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		reportData.markFinished(testPlan.getTestIdentifier(uniqueId.toString()), failed(new NullPointerException()));
@@ -182,7 +186,7 @@ class XmlReportWriterTests {
 	void writesValidXmlEvenIfExceptionMessageContainsCData() throws Exception {
 		var uniqueId = engineDescriptor.getUniqueId().append("test", "test");
 		engineDescriptor.addChild(new TestDescriptorStub(uniqueId, "test"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		var assertionError = new AssertionError("<foo><![CDATA[bar]]></foo>");
@@ -198,7 +202,7 @@ class XmlReportWriterTests {
 	void escapesInvalidCharactersInSystemPropertiesAndExceptionMessages() throws Exception {
 		var uniqueId = engineDescriptor.getUniqueId().append("test", "test");
 		engineDescriptor.addChild(new TestDescriptorStub(uniqueId, "test"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		var assertionError = new AssertionError("expected: <A> but was: <B\0>");
@@ -227,7 +231,7 @@ class XmlReportWriterTests {
 	void doesNotReopenCDataWithinCDataContent() throws Exception {
 		var uniqueId = engineDescriptor.getUniqueId().append("test", "test");
 		engineDescriptor.addChild(new TestDescriptorStub(uniqueId, "test"));
-		var testPlan = TestPlan.from(Set.of(engineDescriptor));
+		var testPlan = TestPlan.from(Set.of(engineDescriptor), configParams);
 
 		var reportData = new XmlReportData(testPlan, Clock.systemDefaultZone());
 		var assertionError = new AssertionError("<foo><![CDATA[bar]]></foo>");
diff --git a/platform-tests/src/test/java/org/junit/platform/runner/JUnitPlatformRunnerTests.java b/platform-tests/src/test/java/org/junit/platform/runner/JUnitPlatformRunnerTests.java
index edcd0546e..bcecf7023 100644
--- a/platform-tests/src/test/java/org/junit/platform/runner/JUnitPlatformRunnerTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/runner/JUnitPlatformRunnerTests.java
@@ -43,6 +43,7 @@ import org.junit.jupiter.api.DisplayName;
 import org.junit.jupiter.api.Nested;
 import org.junit.jupiter.api.Tag;
 import org.junit.jupiter.api.Test;
+import org.junit.platform.engine.ConfigurationParameters;
 import org.junit.platform.engine.EngineDiscoveryRequest;
 import org.junit.platform.engine.ExecutionRequest;
 import org.junit.platform.engine.TestDescriptor;
@@ -432,7 +433,7 @@ class JUnitPlatformRunnerTests {
 			TestDescriptor container2 = new TestDescriptorStub(UniqueId.root("root", "container2"), "container2");
 			container2.addChild(new TestDescriptorStub(UniqueId.root("root", "test2a"), "test2a"));
 			container2.addChild(new TestDescriptorStub(UniqueId.root("root", "test2b"), "test2b"));
-			var testPlan = TestPlan.from(List.of(container1, container2));
+			var testPlan = TestPlan.from(List.of(container1, container2), mock(ConfigurationParameters.class));
 
 			var launcher = mock(Launcher.class);
 			when(launcher.discover(any())).thenReturn(testPlan);
@@ -461,6 +462,8 @@ class JUnitPlatformRunnerTests {
 	@Nested
 	class Filtering {
 
+		private final ConfigurationParameters configParams = mock(ConfigurationParameters.class);
+
 		@Test
 		void appliesFilter() throws Exception {
 
@@ -469,11 +472,11 @@ class JUnitPlatformRunnerTests {
 			TestDescriptor originalParent2 = new TestDescriptorStub(UniqueId.root("root", "parent2"), "parent2");
 			originalParent2.addChild(new TestDescriptorStub(UniqueId.root("root", "leaf2a"), "leaf2a"));
 			originalParent2.addChild(new TestDescriptorStub(UniqueId.root("root", "leaf2b"), "leaf2b"));
-			var fullTestPlan = TestPlan.from(List.of(originalParent1, originalParent2));
+			var fullTestPlan = TestPlan.from(List.of(originalParent1, originalParent2), configParams);
 
 			TestDescriptor filteredParent = new TestDescriptorStub(UniqueId.root("root", "parent2"), "parent2");
 			filteredParent.addChild(new TestDescriptorStub(UniqueId.root("root", "leaf2b"), "leaf2b"));
-			var filteredTestPlan = TestPlan.from(Set.of(filteredParent));
+			var filteredTestPlan = TestPlan.from(Set.of(filteredParent), configParams);
 
 			var launcher = mock(Launcher.class);
 			var captor = ArgumentCaptor.forClass(LauncherDiscoveryRequest.class);
@@ -495,7 +498,8 @@ class JUnitPlatformRunnerTests {
 
 		@Test
 		void throwsNoTestsRemainExceptionWhenNoTestIdentifierMatchesFilter() {
-			var testPlan = TestPlan.from(Set.of(new TestDescriptorStub(UniqueId.root("root", "test"), "test")));
+			var testPlan = TestPlan.from(Set.of(new TestDescriptorStub(UniqueId.root("root", "test"), "test")),
+				configParams);
 
 			var launcher = mock(Launcher.class);
 			when(launcher.discover(any())).thenReturn(testPlan);
@@ -733,7 +737,8 @@ class JUnitPlatformRunnerTests {
 	private LauncherDiscoveryRequest instantiateRunnerAndCaptureGeneratedRequest(Class<?> testClass) {
 		var launcher = mock(Launcher.class);
 		var captor = ArgumentCaptor.forClass(LauncherDiscoveryRequest.class);
-		when(launcher.discover(captor.capture())).thenReturn(TestPlan.from(Set.of()));
+		when(launcher.discover(captor.capture())).thenReturn(
+			TestPlan.from(Set.of(), mock(ConfigurationParameters.class)));
 
 		new JUnitPlatform(testClass, launcher);
 
