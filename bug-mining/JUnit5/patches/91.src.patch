diff --git a/.gitattributes b/.gitattributes
index 081e49b43..01ae0218d 100644
--- a/.gitattributes
+++ b/.gitattributes
@@ -1,3 +1,4 @@
 * text eol=lf
-*.png binary -eol
-*.key binary -eol
+*.png binary
+*.key binary
+*.jar binary
diff --git a/build.gradle b/build.gradle
index a69a380d5..08b365a8e 100644
--- a/build.gradle
+++ b/build.gradle
@@ -16,7 +16,7 @@ buildscript {
 }
 
 plugins {
-	id 'com.gradle.build-scan' version '1.6'
+	id 'com.gradle.build-scan' version '1.7.4'
 	id 'net.nemerosa.versioning' version '2.6.0'
 }
 
diff --git a/gradle/wrapper/gradle-wrapper.jar b/gradle/wrapper/gradle-wrapper.jar
index 8e5dccd85..8b6459290 100644
Binary files a/gradle/wrapper/gradle-wrapper.jar and b/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index 0516d24ed..17a2b88fa 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -1,6 +1,6 @@
-#Mon Apr 10 19:37:27 CEST 2017
+#Wed Jun 14 19:51:22 CEST 2017
 distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-3.5-bin.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-4.0-bin.zip
diff --git a/gradlew b/gradlew
index 4453ccea3..cccdd3d51 100755
--- a/gradlew
+++ b/gradlew
@@ -33,11 +33,11 @@ DEFAULT_JVM_OPTS=""
 # Use the maximum available, or set MAX_FD != -1 to use that value.
 MAX_FD="maximum"
 
-warn ( ) {
+warn () {
     echo "$*"
 }
 
-die ( ) {
+die () {
     echo
     echo "$*"
     echo
@@ -155,7 +155,7 @@ if $cygwin ; then
 fi
 
 # Escape application args
-save ( ) {
+save () {
     for i do printf %s\\n "$i" | sed "s/'/'\\\\''/g;1s/^/'/;\$s/\$/' \\\\/" ; done
     echo " "
 }
diff --git a/junit-platform-console-standalone/junit-platform-console-standalone.gradle b/junit-platform-console-standalone/junit-platform-console-standalone.gradle
index 73dff7fbb..7f1be485c 100644
--- a/junit-platform-console-standalone/junit-platform-console-standalone.gradle
+++ b/junit-platform-console-standalone/junit-platform-console-standalone.gradle
@@ -96,7 +96,7 @@ task standaloneExec(type: JavaExec, dependsOn: [shadowJar, testClasses]) {
 		"$shadowJar.archiveName",
 		'--scan-classpath',
 		'--include-classname', 'standalone.*',
-		'--classpath', "$buildDir/classes/test",
+		'--classpath', "$buildDir/classes/java/test",
 		'--details', 'tree'
 	]
 	standardOutput = new ByteArrayOutputStream()
diff --git a/junit-platform-gradle-plugin/src/test/groovy/org/junit/platform/gradle/plugin/JUnitPlatformPluginSpec.groovy b/junit-platform-gradle-plugin/src/test/groovy/org/junit/platform/gradle/plugin/JUnitPlatformPluginSpec.groovy
index d1afa35da..4f95360f8 100644
--- a/junit-platform-gradle-plugin/src/test/groovy/org/junit/platform/gradle/plugin/JUnitPlatformPluginSpec.groovy
+++ b/junit-platform-gradle-plugin/src/test/groovy/org/junit/platform/gradle/plugin/JUnitPlatformPluginSpec.groovy
@@ -131,7 +131,7 @@ class JUnitPlatformPluginSpec extends Specification {
 		junitTask.args.containsAll('-e', 'foo')
 		junitTask.args.containsAll('-E', 'bar')
 		junitTask.args.containsAll('--reports-dir', new File('/any').getCanonicalFile().toString())
-		def classpathToBeScanned = ['build/classes/main', 'build/resources/main', 'build/classes/test', 'build/resources/test']
+		def classpathToBeScanned = ['build/classes/java/main', 'build/resources/main', 'build/classes/java/test', 'build/resources/test']
 				.collect { path -> project.file(path).absolutePath }
 				.join(File.pathSeparator)
 		junitTask.args.containsAll('--scan-class-path', classpathToBeScanned)
