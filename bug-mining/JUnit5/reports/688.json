{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/4313","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/4313/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/4313/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/4313/events","html_url":"https://github.com/junit-team/junit-framework/issues/4313","id":2847829545,"node_id":"I_kwDOAbwRH86pvm4p","number":4313,"title":"Open test reporting XML format enabled doesn't work","user":{"login":"gtach2o","id":59567114,"node_id":"MDQ6VXNlcjU5NTY3MTE0","avatar_url":"https://avatars.githubusercontent.com/u/59567114?v=4","gravatar_id":"","url":"https://api.github.com/users/gtach2o","html_url":"https://github.com/gtach2o","followers_url":"https://api.github.com/users/gtach2o/followers","following_url":"https://api.github.com/users/gtach2o/following{/other_user}","gists_url":"https://api.github.com/users/gtach2o/gists{/gist_id}","starred_url":"https://api.github.com/users/gtach2o/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtach2o/subscriptions","organizations_url":"https://api.github.com/users/gtach2o/orgs","repos_url":"https://api.github.com/users/gtach2o/repos","events_url":"https://api.github.com/users/gtach2o/events{/privacy}","received_events_url":"https://api.github.com/users/gtach2o/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":165165178,"node_id":"MDU6TGFiZWwxNjUxNjUxNzg=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/type:%20bug","name":"type: bug","color":"fc2929","default":false,"description":null},{"id":310903254,"node_id":"MDU6TGFiZWwzMTA5MDMyNTQ=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/theme:%20reporting","name":"theme: reporting","color":"bfdadc","default":false,"description":null},{"id":420912036,"node_id":"MDU6TGFiZWw0MjA5MTIwMzY=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Platform","name":"component: Platform","color":"11dd99","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/junit-team/junit-framework/milestones/89","html_url":"https://github.com/junit-team/junit-framework/milestone/89","labels_url":"https://api.github.com/repos/junit-team/junit-framework/milestones/89/labels","id":12246243,"node_id":"MI_kwDOAbwRH84Autzj","number":89,"title":"5.12.0","description":"","creator":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":1,"state":"closed","created_at":"2025-01-31T14:22:10Z","updated_at":"2025-02-21T13:30:06Z","due_on":"2025-02-21T08:00:00Z","closed_at":"2025-02-21T13:30:06Z"},"comments":13,"created_at":"2025-02-12T10:33:52Z","updated_at":"2025-02-12T16:08:57Z","closed_at":"2025-02-12T16:08:44Z","author_association":"NONE","type":{"id":146627,"node_id":"IT_kwDOAA1WZs4AAjzD","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T09:15:40Z","updated_at":"2024-07-26T10:05:45Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"> > That's by design. For compatibility with existing tools the [legacy XML format](https://junit.org/junit5/docs/current/user-guide/#junit-platform-reporting-legacy-xml) outputs the [legacy reporting name](https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestIdentifier.html#getLegacyReportingName()).\n> >\n> > Please give the new [Open Test Reporting XML format](https://junit.org/junit5/docs/current/user-guide/#junit-platform-reporting-open-test-reporting) a try to get support for display names, report entries, hierarchical test structures, etc.\n> \n> I added `--config=junit.platform.reporting.open.xml.enabled=true`, but seems like it doesn't work\n> \n> ```text\n> WARNING: TestExecutionListener [org.junit.platform.reporting.open.xml.OpenTestReportGeneratingListener] threw exception for method: executionFinished(TestIdentifier [uniqueId = [engine:junit-jupiter], parentId = null, displayName = 'JUnit Jupiter', legacyReportingName = 'JUnit Jupiter', source = null, tags = [], type = CONTAINER], TestExecutionResult [status = SUCCESSFUL, throwable = null])\n> java.lang.RuntimeException: Failed to write event: Element{domElement=[e:finished: null]}\n>         at org.junit.platform.reporting.shadow.org.opentest4j.reporting.events.api.DefaultDocumentWriter.append(DefaultDocumentWriter.java:118)\n>         at org.junit.platform.reporting.shadow.org.opentest4j.reporting.events.api.DefaultDocumentWriter.append(DefaultDocumentWriter.java:42)\n>         at org.junit.platform.reporting.open.xml.OpenTestReportGeneratingListener.executionFinished(OpenTestReportGeneratingListener.java:247)\n>         at org.junit.platform.launcher.core.CompositeTestExecutionListener.lambda$executionFinished$10(CompositeTestExecutionListener.java:73)\n>         at org.junit.platform.launcher.core.CompositeTestExecutionListener.lambda$notifyEach$19(CompositeTestExecutionListener.java:102)\n>         at org.junit.platform.commons.util.CollectionUtils.forEachInReverseOrder(CollectionUtils.java:244)\n>         at org.junit.platform.launcher.core.IterationOrder$2.forEach(IterationOrder.java:30)\n>         at org.junit.platform.launcher.core.CompositeTestExecutionListener.notifyEach(CompositeTestExecutionListener.java:100)\n>         at org.junit.platform.launcher.core.CompositeTestExecutionListener.executionFinished(CompositeTestExecutionListener.java:72)\n>         at org.junit.platform.launcher.core.ExecutionListenerAdapter.executionFinished(ExecutionListenerAdapter.java:56)\n>         at org.junit.platform.launcher.core.CompositeEngineExecutionListener.lambda$executionFinished$6(CompositeEngineExecutionListener.java:59)\n>         at org.junit.platform.launcher.core.CompositeEngineExecutionListener.lambda$notifyEach$11(CompositeEngineExecutionListener.java:74)\n>         at org.junit.platform.commons.util.CollectionUtils.forEachInReverseOrder(CollectionUtils.java:244)\n>         at org.junit.platform.launcher.core.IterationOrder$2.forEach(IterationOrder.java:30)\n>         at org.junit.platform.launcher.core.CompositeEngineExecutionListener.notifyEach(CompositeEngineExecutionListener.java:72)\n>         at org.junit.platform.launcher.core.CompositeEngineExecutionListener.executionFinished(CompositeEngineExecutionListener.java:58)\n>         at org.junit.platform.launcher.core.DelegatingEngineExecutionListener.executionFinished(DelegatingEngineExecutionListener.java:46)\n>         at org.junit.platform.launcher.core.StackTracePruningEngineExecutionListener.executionFinished(StackTracePruningEngineExecutionListener.java:46)\n>         at org.junit.platform.launcher.core.DelegatingEngineExecutionListener.executionFinished(DelegatingEngineExecutionListener.java:46)\n>         at org.junit.platform.launcher.core.OutcomeDelayingEngineExecutionListener.reportEngineOutcome(OutcomeDelayingEngineExecutionListener.java:69)\n>         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:199)\n>         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n>         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n>         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n>         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n>         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n>         at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n>         at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n>         at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n>         at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n>         at org.junit.platform.console.tasks.ConsoleTestExecutor.executeTests(ConsoleTestExecutor.java:102)\n>         at org.junit.platform.console.tasks.ConsoleTestExecutor.lambda$execute$1(ConsoleTestExecutor.java:71)\n>         at org.junit.platform.console.tasks.CustomContextClassLoaderExecutor.replaceThreadContextClassLoaderAndInvoke(CustomContextClassLoaderExecutor.java:42)\n>         at org.junit.platform.console.tasks.CustomContextClassLoaderExecutor.invoke(CustomContextClassLoaderExecutor.java:33)\n>         at org.junit.platform.console.tasks.ConsoleTestExecutor.execute(ConsoleTestExecutor.java:71)\n>         at org.junit.platform.console.options.ExecuteTestsCommand.execute(ExecuteTestsCommand.java:61)\n>         at org.junit.platform.console.options.ExecuteTestsCommand.execute(ExecuteTestsCommand.java:27)\n>         at org.junit.platform.console.options.BaseCommand.call(BaseCommand.java:81)\n>         at org.junit.platform.console.shadow.picocli.CommandLine.executeUserObject(CommandLine.java:2045)\n>         at org.junit.platform.console.shadow.picocli.CommandLine.access$1500(CommandLine.java:148)\n>         at org.junit.platform.console.shadow.picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2465)\n>         at org.junit.platform.console.shadow.picocli.CommandLine$RunLast.handle(CommandLine.java:2457)\n>         at org.junit.platform.console.shadow.picocli.CommandLine$RunLast.handle(CommandLine.java:2419)\n>         at org.junit.platform.console.shadow.picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2277)\n>         at org.junit.platform.console.shadow.picocli.CommandLine$RunLast.execute(CommandLine.java:2421)\n>         at org.junit.platform.console.shadow.picocli.CommandLine.execute(CommandLine.java:2174)\n>         at org.junit.platform.console.options.MainCommand.runCommand(MainCommand.java:146)\n>         at org.junit.platform.console.options.MainCommand.run(MainCommand.java:139)\n>         at org.junit.platform.console.options.CommandFacade.run(CommandFacade.java:54)\n>         at org.junit.platform.console.options.CommandFacade.run(CommandFacade.java:37)\n>         at org.junit.platform.console.ConsoleLauncher.main(ConsoleLauncher.java:33)\n> Caused by: java.lang.NullPointerException: Cannot invoke \"java.io.Writer.flush()\" because \"this.fWriter\" is null\n>         at java.xml/com.sun.xml.internal.stream.writers.XMLStreamWriterImpl.flush(XMLStreamWriterImpl.java:397)\n>         at org.junit.platform.reporting.shadow.org.opentest4j.reporting.events.api.DefaultDocumentWriter.writeNewLine(DefaultDocumentWriter.java:139)\n>         at org.junit.platform.reporting.shadow.org.opentest4j.reporting.events.api.DefaultDocumentWriter.append(DefaultDocumentWriter.java:112)\n>         ... 50 more\n> ``` \n\n\n`junit-platform-console-standalone-1.11.4.jar`\n\n _Originally posted by @gtach2o in [#4312](https://github.com/junit-team/junit5/issues/4312#issuecomment-2653071705)_","closed_by":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/4313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/4313/timeline","performed_via_github_app":null,"state_reason":"completed"}