{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/1850","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1850/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1850/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1850/events","html_url":"https://github.com/junit-team/junit-framework/issues/1850","id":430351760,"node_id":"MDU6SXNzdWU0MzAzNTE3NjA=","number":1850,"title":"Support MethodSource as custom test source in dynamic tests","user":{"login":"magictractor","id":10898448,"node_id":"MDQ6VXNlcjEwODk4NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/10898448?v=4","gravatar_id":"","url":"https://api.github.com/users/magictractor","html_url":"https://github.com/magictractor","followers_url":"https://api.github.com/users/magictractor/followers","following_url":"https://api.github.com/users/magictractor/following{/other_user}","gists_url":"https://api.github.com/users/magictractor/gists{/gist_id}","starred_url":"https://api.github.com/users/magictractor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magictractor/subscriptions","organizations_url":"https://api.github.com/users/magictractor/orgs","repos_url":"https://api.github.com/users/magictractor/repos","events_url":"https://api.github.com/users/magictractor/events{/privacy}","received_events_url":"https://api.github.com/users/magictractor/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":165165180,"node_id":"MDU6TGFiZWwxNjUxNjUxODA=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":null},{"id":165165181,"node_id":"MDU6TGFiZWwxNjUxNjUxODE=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/up-for-grabs","name":"up-for-grabs","color":"159818","default":false,"description":null},{"id":310903254,"node_id":"MDU6TGFiZWwzMTA5MDMyNTQ=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/theme:%20reporting","name":"theme: reporting","color":"bfdadc","default":false,"description":null},{"id":420911923,"node_id":"MDU6TGFiZWw0MjA5MTE5MjM=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Jupiter","name":"component: Jupiter","color":"11ee99","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/junit-team/junit-framework/milestones/37","html_url":"https://github.com/junit-team/junit-framework/milestone/37","labels_url":"https://api.github.com/repos/junit-team/junit-framework/milestones/37/labels","id":4122139,"node_id":"MDk6TWlsZXN0b25lNDEyMjEzOQ==","number":37,"title":"5.5 RC1","description":"","creator":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":54,"state":"closed","created_at":"2019-03-08T11:31:58Z","updated_at":"2019-06-06T20:59:08Z","due_on":"2019-06-06T07:00:00Z","closed_at":"2019-06-06T20:59:08Z"},"comments":16,"created_at":"2019-04-08T09:40:13Z","updated_at":"2019-05-28T18:54:15Z","closed_at":"2019-05-28T18:51:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Background\r\n\r\n#1467 and #1178 added support for dynamic containers and tests specifying a custom test source via `DynamicNode.getTestSourceUri()`.\r\n\r\nThese `URI`s can be used to link dynamic tests and containers with a `FileSource`, `DirectorySource` or `ClasspathResourceSource`.\r\n\r\nThese sources may optionally have an associated line and column number, which is indicated by using a query string in the `URI`, such as `line=23&column=12`.\r\n\r\n## Proposal\r\n\r\nIf a `URI` has a `classpath` scheme and a `method=myMethodName` query string then `TestFactoryTestDescriptor.fromUri(URI uri)` should create and return a `MethodSource`.\r\n\r\n## Use cases\r\n\r\nI initially encountered this when using `@TestFactory` to run a test suite without switching engines. That's working (bar linking back to methods in test cases from the test tree in Eclipse), but it is not a compelling use case since suites are being addressed by #744.\r\n\r\nHowever, I can envisage other cases where this would be useful, such as verifying consistent use of Hibernate annotations across Java beans. Previously I've written cumbersome custom PMD rules for this. Dynamic tests could link back to getters in the application source rather than unit tests.\r\n\r\n## Related issues\r\n\r\n* #1467\r\n* #1178\r\n\r\n## Deliverables\r\n\r\n- ‚ùå  Add support for creating a `MethodSource` for a dynamic test if the custom test source `URI` uses the `classpath` scheme and a `method=myMethodName` query string.\r\n- [x] Introduce support for converting from a URI of the form `method:<FQMN>` to a `MethodSource`, where FQMN is the fully qualified method name. See the Javadoc for [`DiscoverySelectors.selectMethod(String)`](https://junit.org/junit5/docs/current/api/org/junit/platform/engine/discovery/DiscoverySelectors.html#selectMethod(java.lang.String)) for the supported formats for a FQMN.\r\n- [x] Modify JavaDoc to explain supported `URI` schemas and query strings.\r\n- [x] ~Document in User Guide.~ will be addressed in #1903\r\n- [x] Document in Release Notes.\r\n\r\n","closed_by":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/1850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1850/timeline","performed_via_github_app":null,"state_reason":"completed"}