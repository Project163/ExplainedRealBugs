{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/1477","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1477/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1477/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1477/events","html_url":"https://github.com/junit-team/junit-framework/issues/1477","id":335124965,"node_id":"MDU6SXNzdWUzMzUxMjQ5NjU=","number":1477,"title":"Introduce support for zero invocations in test templates and parameterized tests","user":{"login":"johnchurchill","id":2926598,"node_id":"MDQ6VXNlcjI5MjY1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/2926598?v=4","gravatar_id":"","url":"https://api.github.com/users/johnchurchill","html_url":"https://github.com/johnchurchill","followers_url":"https://api.github.com/users/johnchurchill/followers","following_url":"https://api.github.com/users/johnchurchill/following{/other_user}","gists_url":"https://api.github.com/users/johnchurchill/gists{/gist_id}","starred_url":"https://api.github.com/users/johnchurchill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnchurchill/subscriptions","organizations_url":"https://api.github.com/users/johnchurchill/orgs","repos_url":"https://api.github.com/users/johnchurchill/repos","events_url":"https://api.github.com/users/johnchurchill/events{/privacy}","received_events_url":"https://api.github.com/users/johnchurchill/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":165165180,"node_id":"MDU6TGFiZWwxNjUxNjUxODA=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":null},{"id":420911923,"node_id":"MDU6TGFiZWw0MjA5MTE5MjM=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Jupiter","name":"component: Jupiter","color":"11ee99","default":false,"description":null},{"id":747276013,"node_id":"MDU6TGFiZWw3NDcyNzYwMTM=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/theme:%20parameterized%20tests","name":"theme: parameterized tests","color":"9e9dea","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"nskvortsov","id":539027,"node_id":"MDQ6VXNlcjUzOTAyNw==","avatar_url":"https://avatars.githubusercontent.com/u/539027?v=4","gravatar_id":"","url":"https://api.github.com/users/nskvortsov","html_url":"https://github.com/nskvortsov","followers_url":"https://api.github.com/users/nskvortsov/followers","following_url":"https://api.github.com/users/nskvortsov/following{/other_user}","gists_url":"https://api.github.com/users/nskvortsov/gists{/gist_id}","starred_url":"https://api.github.com/users/nskvortsov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nskvortsov/subscriptions","organizations_url":"https://api.github.com/users/nskvortsov/orgs","repos_url":"https://api.github.com/users/nskvortsov/repos","events_url":"https://api.github.com/users/nskvortsov/events{/privacy}","received_events_url":"https://api.github.com/users/nskvortsov/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/junit-team/junit-framework/milestones/75","html_url":"https://github.com/junit-team/junit-framework/milestone/75","labels_url":"https://api.github.com/repos/junit-team/junit-framework/milestones/75/labels","id":10506226,"node_id":"MI_kwDOAbwRH84AoE_y","number":75,"title":"5.12.0-M1","description":"","creator":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":49,"state":"closed","created_at":"2024-02-02T15:38:31Z","updated_at":"2025-01-31T16:18:49Z","due_on":"2025-01-31T08:00:00Z","closed_at":"2025-01-31T16:18:49Z"},"comments":66,"created_at":"2018-06-23T19:28:19Z","updated_at":"2024-11-19T10:03:49Z","closed_at":"2024-10-15T09:14:08Z","author_association":"NONE","type":{"id":146631,"node_id":"IT_kwDOAA1WZs4AAjzH","name":"Feature","description":"A request, idea, or new functionality","color":"blue","created_at":"2024-01-25T09:15:40Z","updated_at":"2024-10-08T08:32:28Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Overview\r\n\r\nUsing: JUnit: 5.2.0\r\n\r\nGreat job on the new `ParameterizedTest` support in v.5. The replacement of the static, one-per-class Parameters annotation with more flexible `MethodSource`, etc. has been like a breath of fresh air and allowed me to remove thousands (!!) of lines of supporting code from my system. I'm really loving it.\r\nHowever, someone decided to disallow zero parameters with this precondition check in `ParameterizedTestExtension`.\r\n\r\n```java\r\n.onClose(() ->\r\n    Preconditions.condition(invocationCount.get() > 0,\r\n    \"Configuration error: You must provide at least one argument for this @ParameterizedTest\"));\r\n```\r\n\r\nThe problem with this is that we have some testing situations where parameterized tests with zero parameters are not exceptional. For example, we run tests against thousands of a certain type of class generically against a database of past production failures, and many of these classes have never experienced a production failure. When the tests are run, we now get failures due the above precondition check. JUnit 4 handled this cleanly: it would simply not run any tests on those classes.\r\n\r\n## Workaround\r\n\r\nI can get around this by adding a `null` to the method creating the collection of parameters if it is empty, and then return from the beginning of the `@ParameterizedTest` method code if the passed parameter is `null`. That lets us continue to run the parameterized tests against all of the classes, but comes with some disadvantages:\r\n\r\n- We must add specific code to the front and back of every parameterized pair just to avoid a failure that doesn't matter to the tests.\r\n- The handling of the `null` causes the test count inflation for these \"phantom\" tests.\r\n- `null` is now reserved as a signal for no parameters, rather than something wrong in the parameter creation.\r\n\r\n## Proposal\r\n\r\nIf nobody has any strong feelings about disallowing the no-parameter case, can we just have this precondition removed from a future version?\r\n\r\nThanks.","closed_by":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/1477/reactions","total_count":14,"+1":14,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1477/timeline","performed_via_github_app":null,"state_reason":"completed"}