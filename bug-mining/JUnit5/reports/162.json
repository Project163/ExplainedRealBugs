{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/1025","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1025/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1025/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1025/events","html_url":"https://github.com/junit-team/junit-framework/issues/1025","id":251284744,"node_id":"MDU6SXNzdWUyNTEyODQ3NDQ=","number":1025,"title":"Cannot select @TestTemplate or @TestFactory invocations by Unique ID","user":{"login":"noopur2507","id":8749449,"node_id":"MDQ6VXNlcjg3NDk0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/8749449?v=4","gravatar_id":"","url":"https://api.github.com/users/noopur2507","html_url":"https://github.com/noopur2507","followers_url":"https://api.github.com/users/noopur2507/followers","following_url":"https://api.github.com/users/noopur2507/following{/other_user}","gists_url":"https://api.github.com/users/noopur2507/gists{/gist_id}","starred_url":"https://api.github.com/users/noopur2507/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noopur2507/subscriptions","organizations_url":"https://api.github.com/users/noopur2507/orgs","repos_url":"https://api.github.com/users/noopur2507/repos","events_url":"https://api.github.com/users/noopur2507/events{/privacy}","received_events_url":"https://api.github.com/users/noopur2507/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":165165180,"node_id":"MDU6TGFiZWwxNjUxNjUxODA=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":null},{"id":420911923,"node_id":"MDU6TGFiZWw0MjA5MTE5MjM=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Jupiter","name":"component: Jupiter","color":"11ee99","default":false,"description":null},{"id":425245644,"node_id":"MDU6TGFiZWw0MjUyNDU2NDQ=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/theme:%20discovery","name":"theme: discovery","color":"ffdd22","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/junit-team/junit-framework/milestones/18","html_url":"https://github.com/junit-team/junit-framework/milestone/18","labels_url":"https://api.github.com/repos/junit-team/junit-framework/milestones/18/labels","id":2919347,"node_id":"MDk6TWlsZXN0b25lMjkxOTM0Nw==","number":18,"title":"5.1 M2","description":"Programmatic extension registration via `@RegisterExtension`, `@EnabledIf` annotation for conditional test execution controlled by dynamic scripting languages, improved implicit conversion support for `@ParameterizedTest` arguments, refinements to the `ExtensionContext` API, support for re-running individual dynamic test and test template invocations within an IDE, new tag expression language, minor bug fixes, and various additional enhancements.\r\n","creator":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":41,"state":"closed","created_at":"2017-11-17T09:42:01Z","updated_at":"2018-01-28T20:31:33Z","due_on":"2018-01-28T08:00:00Z","closed_at":"2018-01-28T19:55:17Z"},"comments":30,"created_at":"2017-08-18T15:43:17Z","updated_at":"2018-01-20T10:52:32Z","closed_at":"2018-01-19T19:46:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Overview\r\n\r\nWith reference to [bug request 520923](https://bugs.eclipse.org/bugs/show_bug.cgi?id=520923) in Eclipse, I am trying to rerun a single invocation of a parameterized test (and similarly, a repeated and a dynamic test) using its unique ID like this:\r\n\r\n``` java\r\nLauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request().selectors(DiscoverySelectors.selectUniqueId(uniqueId)).build();\r\n```\r\n\r\nA new `Launcher` instance is created to discover the above request.\r\n\r\nThis method works for a normal test with ID:\r\n\r\n``` java\r\n[engine:junit-jupiter]/[class:test.FirstTest]/[method:myFirstTest(org.junit.jupiter.api.TestInfo)]\r\n``` \r\n\r\nBut it gives this error for a dynamic test:\r\n\r\n```\r\norg.junit.jupiter.engine.discovery.JavaElementsResolver resolveUniqueId\r\nWARNING: Unique ID '[engine:junit-jupiter]/[class:test.dynamic.DynamicTestsDemo]/[test-factory:dynamicTestsFromIntStream()]/[dynamic-test:#2]' could not be resolved\r\n```\r\n\r\nor a parameterized test:\r\n\r\n```\r\norg.junit.jupiter.engine.discovery.JavaElementsResolver resolveUniqueId\r\nWARNING: Unique ID '[engine:junit-jupiter]/[class:jb.Junit5SimpleParamTest]/[test-template:dummy(java.lang.String)]/[test-template-invocation:#1]' could not be resolved\r\n```\r\n\r\nIn JUnit 4, it was done using `org.junit.runner.Request.filterWith(Filter filter)`. \r\n\r\n## Question\r\n\r\nWhat is the recommended way to do this in JUnit 5?\r\n\r\n## Related Issues\r\n\r\n- #1026 \r\n- #1031\r\n\r\n## Analysis\r\n\r\nGiven a _Unique ID_ such as `[engine:junit-jupiter]/[class:test.dynamic.DynamicTestsDemo]/[test-factory:dynamicTestsFromIntStream()]/[dynamic-test:#2]`,\r\n`JavaElementsResolver.resolveUniqueId(TestDescriptor, List<Segment>)` returns `true` if **all** segments of the supplied Unique ID could be resolved.\r\n\r\nSo, in such a case, the test class and test factory method do in fact get resolved, but the dynamic test itself does not get resolved.\r\n\r\nThat means that the test class and test factory method will be executed in the test plan even though there is a warning (which actually only applies to the last segment of the Unique ID).\r\n\r\n## Proposals\r\n\r\n1. Selection of any invocation of a test template or test factory results in selection of the test template or test factory as a _container_ and consequently the _selection_ of all invocations.\r\n   - This appears to already be the case: see _Analysis_ for details.\r\n2. Selection of a specific invocation of a test template or test factory results in selection of only that specific invocation of the test template or test factory. \r\n   - This could potentially be achieved via a special type of _filter_ that is applied to the stream of dynamic tests or test template invocations.\r\n\r\n## Deliverables\r\n\r\n- [x] Ensure that an invocation of a `@TestTemplate` method can be selected by _Unique ID_.\r\n  - This applies to `@RepeatedTest` and `@ParameterizedTest` as well as any _test template_ method.\r\n- [x] Ensure that an invocation of a dynamic test supplied by a `@TestFactory` method can be selected by _Unique ID_.","closed_by":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/1025/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1025/timeline","performed_via_github_app":null,"state_reason":"completed"}