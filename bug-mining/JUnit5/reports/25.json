{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/401","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/401/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/401/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/401/events","html_url":"https://github.com/junit-team/junit-framework/issues/401","id":165572335,"node_id":"MDU6SXNzdWUxNjU1NzIzMzU=","number":401,"title":"Classpath scanning fails for malformed class names","user":{"login":"kevinvandervlist","id":833325,"node_id":"MDQ6VXNlcjgzMzMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/833325?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinvandervlist","html_url":"https://github.com/kevinvandervlist","followers_url":"https://api.github.com/users/kevinvandervlist/followers","following_url":"https://api.github.com/users/kevinvandervlist/following{/other_user}","gists_url":"https://api.github.com/users/kevinvandervlist/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinvandervlist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinvandervlist/subscriptions","organizations_url":"https://api.github.com/users/kevinvandervlist/orgs","repos_url":"https://api.github.com/users/kevinvandervlist/repos","events_url":"https://api.github.com/users/kevinvandervlist/events{/privacy}","received_events_url":"https://api.github.com/users/kevinvandervlist/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":165165178,"node_id":"MDU6TGFiZWwxNjUxNjUxNzg=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/type:%20bug","name":"type: bug","color":"fc2929","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"mmerdes","id":9845887,"node_id":"MDQ6VXNlcjk4NDU4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/9845887?v=4","gravatar_id":"","url":"https://api.github.com/users/mmerdes","html_url":"https://github.com/mmerdes","followers_url":"https://api.github.com/users/mmerdes/followers","following_url":"https://api.github.com/users/mmerdes/following{/other_user}","gists_url":"https://api.github.com/users/mmerdes/gists{/gist_id}","starred_url":"https://api.github.com/users/mmerdes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmerdes/subscriptions","organizations_url":"https://api.github.com/users/mmerdes/orgs","repos_url":"https://api.github.com/users/mmerdes/repos","events_url":"https://api.github.com/users/mmerdes/events{/privacy}","received_events_url":"https://api.github.com/users/mmerdes/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mmerdes","id":9845887,"node_id":"MDQ6VXNlcjk4NDU4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/9845887?v=4","gravatar_id":"","url":"https://api.github.com/users/mmerdes","html_url":"https://github.com/mmerdes","followers_url":"https://api.github.com/users/mmerdes/followers","following_url":"https://api.github.com/users/mmerdes/following{/other_user}","gists_url":"https://api.github.com/users/mmerdes/gists{/gist_id}","starred_url":"https://api.github.com/users/mmerdes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmerdes/subscriptions","organizations_url":"https://api.github.com/users/mmerdes/orgs","repos_url":"https://api.github.com/users/mmerdes/repos","events_url":"https://api.github.com/users/mmerdes/events{/privacy}","received_events_url":"https://api.github.com/users/mmerdes/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/junit-team/junit-framework/milestones/4","html_url":"https://github.com/junit-team/junit-framework/milestone/4","labels_url":"https://api.github.com/repos/junit-team/junit-framework/milestones/4/labels","id":1708556,"node_id":"MDk6TWlsZXN0b25lMTcwODU1Ng==","number":4,"title":"5.0 M2","description":"Bugfix and minor improvement release for issues discovered since 5.0 M1.","creator":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":20,"state":"closed","created_at":"2016-04-15T09:03:25Z","updated_at":"2017-08-04T17:03:06Z","due_on":"2016-07-22T07:00:00Z","closed_at":"2016-07-23T18:40:31Z"},"comments":24,"created_at":"2016-07-14T14:15:18Z","updated_at":"2016-07-24T15:23:31Z","closed_at":"2016-07-21T09:38:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When using org.junit.platform:junit-platform-gradle-plugin:1.0.0-M1 (but also org.junit:junit-gradle:5.0.0-ALPHA) you can run into a crash scenario when the project somehow has classnames that are invalid. \n\nRunning `gradle check`:\n\n```\nJul 14, 2016 3:14:31 PM org.junit.platform.launcher.core.ServiceLoaderTestEngineRegistry loadTestEngines\nINFO: Discovered TestEngines with IDs: [junit-jupiter]\nException in thread \"main\" java.lang.InternalError: Malformed class name\n        at java.lang.Class.getSimpleName(Class.java:1330)\n        at java.lang.Class.isAnonymousClass(Class.java:1411)\n        at java.lang.Class.isLocalClass(Class.java:1422)\n        at org.junit.jupiter.engine.discovery.predicates.IsPotentialTestContainer.test(IsPotentialTestContainer.java:35)\n        at org.junit.jupiter.engine.discovery.predicates.IsTestClassWithTests.test(IsTestClassWithTests.java:43)\n        at org.junit.jupiter.engine.discovery.predicates.IsScannableTestClass.test(IsScannableTestClass.java:36)\n        at org.junit.jupiter.engine.discovery.predicates.IsScannableTestClass.test(IsScannableTestClass.java:26)\n        at java.util.Optional.filter(Optional.java:178)\n        at org.junit.platform.commons.util.ClasspathScanner.collectClassesRecursively(ClasspathScanner.java:129)\n        at org.junit.platform.commons.util.ClasspathScanner.collectClassesRecursively(ClasspathScanner.java:132)\n        at org.junit.platform.commons.util.ClasspathScanner.collectClassesRecursively(ClasspathScanner.java:132)\n        at org.junit.platform.commons.util.ClasspathScanner.collectClassesRecursively(ClasspathScanner.java:132)\n        at org.junit.platform.commons.util.ClasspathScanner.collectClassesRecursively(ClasspathScanner.java:132)\n        at org.junit.platform.commons.util.ClasspathScanner.collectClassesRecursively(ClasspathScanner.java:132)\n        at org.junit.platform.commons.util.ClasspathScanner.collectClassesRecursively(ClasspathScanner.java:132)\n        at org.junit.platform.commons.util.ClasspathScanner.findClassesInSourceDirRecursively(ClasspathScanner.java:116)\n        at org.junit.platform.commons.util.ClasspathScanner.scanForClassesInClasspathRoot(ClasspathScanner.java:87)\n        at org.junit.platform.commons.util.ReflectionUtils.findAllClassesInClasspathRoot(ReflectionUtils.java:376)\n        at org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.lambda$resolveSelectors$0(DiscoverySelectorResolver.java:48)\n        at java.util.ArrayList.forEach(ArrayList.java:1249)\n        at org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:47)\n        at org.junit.jupiter.engine.JupiterTestEngine.resolveDiscoveryRequest(JupiterTestEngine.java:50)\n        at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:43)\n        at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:108)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\n        at org.junit.platform.console.tasks.ExecuteTestsTask.executeTests(ExecuteTestsTask.java:60)\n        at org.junit.platform.console.tasks.ExecuteTestsTask.lambda$execute$5(ExecuteTestsTask.java:52)\n        at org.junit.platform.console.tasks.CustomContextClassLoaderExecutor.invoke(CustomContextClassLoaderExecutor.java:33)\n        at org.junit.platform.console.tasks.ExecuteTestsTask.execute(ExecuteTestsTask.java:52)\n        at org.junit.platform.console.tasks.ConsoleTaskExecutor.executeTask(ConsoleTaskExecutor.java:38)\n        at org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:54)\n        at org.junit.platform.console.ConsoleLauncher.main(ConsoleLauncher.java:39)\n```\n\nOn closer inspection it crashes on the following class:\n\n```\n nl.soqua.dl.domain.projection.album.AlbumProjection$albumByIdentity$$inlined$let$lambda$lambda$1\n```\n\n... which is a class generated by Kotlin. \n\nI know you can't influence the code that is generated by Kotlin, but I don't think the TestEngine should fail with an InternalError, without at least signaling the user which class actually caused that error. \n","closed_by":{"login":"mmerdes","id":9845887,"node_id":"MDQ6VXNlcjk4NDU4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/9845887?v=4","gravatar_id":"","url":"https://api.github.com/users/mmerdes","html_url":"https://github.com/mmerdes","followers_url":"https://api.github.com/users/mmerdes/followers","following_url":"https://api.github.com/users/mmerdes/following{/other_user}","gists_url":"https://api.github.com/users/mmerdes/gists{/gist_id}","starred_url":"https://api.github.com/users/mmerdes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmerdes/subscriptions","organizations_url":"https://api.github.com/users/mmerdes/orgs","repos_url":"https://api.github.com/users/mmerdes/repos","events_url":"https://api.github.com/users/mmerdes/events{/privacy}","received_events_url":"https://api.github.com/users/mmerdes/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/401/timeline","performed_via_github_app":null,"state_reason":"completed"}