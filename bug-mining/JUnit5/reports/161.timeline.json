[{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/356706798","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-356706798","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":356706798,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjcwNjc5OA==","user":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T19:16:25Z","updated_at":"2018-01-10T19:16:25Z","body":"This seems to be related to all the module path specific config you've added. [When I remove it](https://github.com/marcphilipp/junit5-bugs/commit/15d404bd8ee457fb531fd5a680a69deecfe70796), it works as expected:\r\n\r\n```\r\n:projectA:compileJava SKIPPED\r\n:projectB:compileJava SKIPPED\r\n:atestproject:compileJava SKIPPED\r\n...\r\n:atestproject:testClasses SKIPPED\r\n...\r\n:projectB:jar SKIPPED\r\n:atestproject:junitPlatformTest SKIPPED\r\n:atestproject:test SKIPPED\r\n:atestproject:check SKIPPED\r\n:atestproject:build SKIPPED\r\n```\r\n\r\nAny ideas which part of your configuration might cause this?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/356706798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1418372405,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE0MTgzNzI0MDU=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1418372405","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-01-10T19:27:30Z","milestone":{"title":"5.1 M2"},"performed_via_github_app":null},{"id":1418372858,"node_id":"MDEyOkxhYmVsZWRFdmVudDE0MTgzNzI4NTg=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1418372858","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-01-10T19:27:47Z","label":{"name":"component: Platform","color":"11dd99"},"performed_via_github_app":null},{"id":1418372862,"node_id":"MDEyOkxhYmVsZWRFdmVudDE0MTgzNzI4NjI=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1418372862","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-01-10T19:27:47Z","label":{"name":"theme: Java 9+10+11...","color":"C3A77B"},"performed_via_github_app":null},{"id":1418372865,"node_id":"MDEyOkxhYmVsZWRFdmVudDE0MTgzNzI4NjU=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1418372865","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-01-10T19:27:47Z","label":{"name":"component: Gradle","color":"c2e0c6"},"performed_via_github_app":null},{"id":1418372869,"node_id":"MDEyOkxhYmVsZWRFdmVudDE0MTgzNzI4Njk=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1418372869","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-01-10T19:27:47Z","label":{"name":"status: waiting-for-feedback","color":"d93f0b"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/356843681","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-356843681","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":356843681,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njg0MzY4MQ==","user":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T06:57:39Z","updated_at":"2018-01-11T06:57:39Z","body":"Commenting/removing the \"enableModulePath = true\" line in \"atestproject/build.gradle\" without changing anything else fixes the task order. I've done some semi-random experiments, trying to find a connection between these two seemingly unrelated things, but failed to find anything.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/356843681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/356846404","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-356846404","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":356846404,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njg0NjQwNA==","user":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T07:13:35Z","updated_at":"2018-01-11T07:13:35Z","body":"Mh, I encountered a similar bogus behaviour when testing #1234 here: https://github.com/junit-team/junit5/blob/master/junit-platform-gradle-plugin/src/test/groovy/org/junit/platform/gradle/plugin/JUnitPlatformPluginSpec.groovy#L214\r\n\r\nStill trying to find out why that boolean switch causes troubles...","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/356846404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/356866406","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-356866406","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":356866406,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njg2NjQwNg==","user":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-11T08:49:56Z","updated_at":"2018-01-11T08:49:56Z","body":"My most plausible guess is that `JavaExec` uses its `classpath` parameter\nto find tasks which create the needed JARs and marks these tasks as\ndependencies during the task graph generation phase. \"Module-path mode\"\nclears this parameter so `dependsOn` becomes the only source of\ndependencies and the task gets executed ASAP.\n\nUnfortunately, I won't be to check this assumption until tomorrow.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/356866406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357159389","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-357159389","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":357159389,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE1OTM4OQ==","user":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T07:04:53Z","updated_at":"2018-01-12T07:04:53Z","body":"It looks like that guess about the `JavaExec` task was right (https://github.com/cmakshin/junit5-bugs/commit/b4270b29bec23e32f70c45328ba409d36cac6f60).\r\n\r\nI added another project, \"projectC\", and a dummy `JavaExec` task to \"atestproject\":\r\n```\r\ntask dummyJavaExec(type: JavaExec) {\r\n    enabled = false\r\n    classpath = project(':projectC').sourceSets.main.runtimeClasspath;\r\n}\r\n\r\nbuild {\r\n    dependsOn.add(dummyJavaExec)\r\n}\r\n```\r\n\r\n\"atestproject\" has no explicit (`dependencies` project block, `dependsOn` task property, etc.) dependencies on \"projectC\" but the new task is scheduled at the right place:\r\n```\r\n:projectA:compileJava SKIPPED\r\n:projectB:compileJava SKIPPED\r\n:atestproject:compileJava SKIPPED\r\n...\r\n:atestproject:junitPlatformTest SKIPPED\r\n...\r\n:projectB:jar SKIPPED\r\n:atestproject:test SKIPPED\r\n:atestproject:check SKIPPED\r\n:projectC:compileJava SKIPPED\r\n:projectC:processResources SKIPPED\r\n:projectC:classes SKIPPED\r\n:atestproject:dummyJavaExec SKIPPED\r\n:atestproject:build SKIPPED\r\n```\r\n\r\nSo adding test runtime classpath to the dependencies of the \"junitPlatformTest\" task would solve the problem (https://github.com/cmakshin/junit5-bugs/commit/94129a617f515160308673845e3b509ca032fc72).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357159389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357168904","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-357168904","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":357168904,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE2ODkwNA==","user":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T08:01:35Z","updated_at":"2018-01-12T08:01:35Z","body":"That would indeed explain it, thanks for looking into it!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357168904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357169419","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-357169419","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":357169419,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE2OTQxOQ==","user":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T08:04:29Z","updated_at":"2018-01-12T08:04:29Z","body":"https://github.com/junit-team/junit5/blob/master/junit-platform-gradle-plugin/src/main/groovy/org/junit/platform/gradle/plugin/JUnitPlatformPlugin.groovy#L149\r\n\r\n```java\r\n\tprivate void configureTaskDependencies(project, junitTask, junitExtension) {\r\n\t\tdef testClassesTask = project.tasks.getByName('testClasses')\r\n\t\tjunitTask.dependsOn testClassesTask\r\n\t\tjunitTask.dependsOn project.sourceSets.test.runtimeClasspath\r\n//[...]\r\n```\r\n\r\nLocally I added `junitTask.dependsOn project.sourceSets.test.runtimeClasspath`. Would that work?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357169419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357170164","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-357170164","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":357170164,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE3MDE2NA==","user":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T08:08:31Z","updated_at":"2018-01-12T08:08:31Z","body":"I think the dependency on the `testClasses` task is redundant, isn't it?\r\n\r\nWhat about `project.configurations.junitPlatform`? Do we need to depend on that, too? What happens when the local Gradle cache is empty and `enableModulePath` is turned on?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357170164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357172842","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-357172842","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":357172842,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE3Mjg0Mg==","user":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T08:22:27Z","updated_at":"2018-01-12T08:22:27Z","body":"> I think the dependency on the `testClasses` task is redundant, isn't it?\r\n\r\nAll existing tests are still green after I removed that line.\r\n\r\n> What about `project.configurations.junitPlatform`? Do we need to depend on that, too?\r\n\r\nIt doesn't hurt and with it, it mimics the default `classpath` configuration. I.e. when `enableModulePath` is `false`.\r\n\r\n> What happens when the local Gradle cache is empty and `enableModulePath` is turned on?\r\n\r\nGood question. I hope \"Gradle will handle it\". :)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357172842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1421344873,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxNDIxMzQ0ODcz","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1421344873","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2018-01-12T09:06:34Z","assignee":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":1421349941,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE0MjEzNDk5NDE=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1421349941","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c597ca3ef67077b73bdfa8967ed51eb9d17e19ee","commit_url":"https://api.github.com/repos/junit-team/junit-framework/commits/c597ca3ef67077b73bdfa8967ed51eb9d17e19ee","created_at":"2018-01-12T09:09:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357183818","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-357183818","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":357183818,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE4MzgxOA==","user":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T09:12:43Z","updated_at":"2018-01-12T09:18:45Z","body":"@cmakshin now the needed dependencies are always set via `dependsOn`. Can you please re-run your test project?\r\n\r\nWondering whether we should also add something similar to our default VM setup:\r\n\r\nhttps://github.com/cmakshin/junit5-bugs/blob/94129a617f515160308673845e3b509ca032fc72/build.gradle#L75-L90\r\n\r\nHow will https://github.com/gradle/gradle/pull/3886 cope with tests on the `module-path`?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357183818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1421353913,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTQyMTM1MzkxMw==","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1421353913","actor":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-01-12T09:12:43Z","performed_via_github_app":null},{"id":1421353914,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MjEzNTM5MTQ=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1421353914","actor":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-12T09:12:43Z","performed_via_github_app":null},{"id":1423607476,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE0MjM2MDc0NzY=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423607476","actor":{"login":"jbduncan","id":2482228,"node_id":"MDQ6VXNlcjI0ODIyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/2482228?v=4","gravatar_id":"","url":"https://api.github.com/users/jbduncan","html_url":"https://github.com/jbduncan","followers_url":"https://api.github.com/users/jbduncan/followers","following_url":"https://api.github.com/users/jbduncan/following{/other_user}","gists_url":"https://api.github.com/users/jbduncan/gists{/gist_id}","starred_url":"https://api.github.com/users/jbduncan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbduncan/subscriptions","organizations_url":"https://api.github.com/users/jbduncan/orgs","repos_url":"https://api.github.com/users/jbduncan/repos","events_url":"https://api.github.com/users/jbduncan/events{/privacy}","received_events_url":"https://api.github.com/users/jbduncan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"216b4a67f38abcd7aa1fb83c9c3244debd9b36cb","commit_url":"https://api.github.com/repos/jbduncan/junit5/commits/216b4a67f38abcd7aa1fb83c9c3244debd9b36cb","created_at":"2018-01-15T03:15:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357590552","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-357590552","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":357590552,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzU5MDU1Mg==","user":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T06:06:13Z","updated_at":"2018-01-15T06:06:13Z","body":"@sormuras the code from https://github.com/junit-team/junit5/commit/c597ca3ef67077b73bdfa8967ed51eb9d17e19ee works correctly.\r\n\r\n> Wondering whether we should also add something similar to our default VM setup\r\n\r\nAll these options except \"-ea\" and \"-esa\" are specific to HotSpot JVM so I'm not sure it would be a good idea to use them by default. On the other hand, that stuff is kind of mandatory for testing classes in Jigsaw modules:\r\n1) `'--patch-module', \"$moduleName=\" + files(sourceSets.test.java.outputDir).asPath`\r\nis needed because Jigsaw forbids split packages;\r\n2) `'--add-reads', \"$moduleName=org.junit.jupiter.api\"`\r\nis needed because otherwise everything would fail due to unsatisfied JUnit dependencies in test classes;\r\n3) `'--add-opens', \"$moduleName/$packageName=org.junit.platform.commons\"`\r\nis needed because otherwise JUnit wouldn't be able to run tests for classes in non-exported packages and declaring the whole module as `open module ...` cripples the whole idea of strong encapsulation.\r\n\r\nSo probably not unconditionally but with either JVM detection or some boolean parameter...","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357590552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cmakshin","id":26673754,"node_id":"MDQ6VXNlcjI2NjczNzU0","avatar_url":"https://avatars.githubusercontent.com/u/26673754?v=4","gravatar_id":"","url":"https://api.github.com/users/cmakshin","html_url":"https://github.com/cmakshin","followers_url":"https://api.github.com/users/cmakshin/followers","following_url":"https://api.github.com/users/cmakshin/following{/other_user}","gists_url":"https://api.github.com/users/cmakshin/gists{/gist_id}","starred_url":"https://api.github.com/users/cmakshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmakshin/subscriptions","organizations_url":"https://api.github.com/users/cmakshin/orgs","repos_url":"https://api.github.com/users/cmakshin/repos","events_url":"https://api.github.com/users/cmakshin/events{/privacy}","received_events_url":"https://api.github.com/users/cmakshin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1423712137,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTQyMzcxMjEzNw==","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423712137","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-01-15T06:06:13Z","performed_via_github_app":null},{"id":1423712138,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MjM3MTIxMzg=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423712138","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-15T06:06:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357607567","html_url":"https://github.com/junit-team/junit-framework/issues/1233#issuecomment-357607567","issue_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1233","id":357607567,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzYwNzU2Nw==","user":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T08:00:39Z","updated_at":"2018-01-15T08:33:10Z","body":"> \"-ea\" and \"-esa\"\r\n\r\nYes. We always should add those two. In class-path and module-path mode. @junit-team/junit-lambda ?\r\n\r\n> 1.\r\n\r\nWe will support both ways: a) patching test sources into the main modules and b) patching main sources into test modules. The latter way achives the same goal as 2. and 3. do -- without leaving the modular world when designing and implementing tests.\r\n\r\n> 2. and 3.\r\n\r\nNeeded for way a) ... not needed for way b)\r\n\r\nBack on topic:\r\n\r\nhttps://github.com/junit-team/junit5/compare/fix-modulepath-in-gradleplugin here is my current spike fixing the `module-path` issue. Our Gradle-Plugin will defer the resolution of needed artifacts to `JavaExec` execution time (similar to class-path handling of `JavaExec`) -- but now the `'--add-modules', 'ALL-MODULE-PATH'` is to broad. Some artifacts don't meet the *automatic module name extraction* needs and the whole build fails:\r\n\r\n```\r\nError occurred during initialization of boot layer\r\n  java.lang.module.FindException: Unable to derive module descriptor for [...]/groovy-all-2.4.12.jar\r\n    Caused by: java.lang.module.InvalidModuleDescriptorException: Provider class moduleName=groovy-all not in module\r\n```\r\n\r\nPotential solution: don't add all modules via `JUnitPlatformJavaExec#args.addAll('--add-modules', 'ALL-MODULE-PATH'`, only user-supplied paths and compatible/needed jars by the Platform, including engines.\r\n\r\nDeps used by `\"can be used with enabled module-path\"` spec: https://gist.github.com/sormuras/c8aabaa96d6fa57aad82697d6218bca6\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/comments/357607567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1423819484,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MjM4MTk0ODQ=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423819484","actor":{"login":"sbrannen","id":104798,"node_id":"MDQ6VXNlcjEwNDc5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104798?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrannen","html_url":"https://github.com/sbrannen","followers_url":"https://api.github.com/users/sbrannen/followers","following_url":"https://api.github.com/users/sbrannen/following{/other_user}","gists_url":"https://api.github.com/users/sbrannen/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrannen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrannen/subscriptions","organizations_url":"https://api.github.com/users/sbrannen/orgs","repos_url":"https://api.github.com/users/sbrannen/repos","events_url":"https://api.github.com/users/sbrannen/events{/privacy}","received_events_url":"https://api.github.com/users/sbrannen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-15T08:00:39Z","performed_via_github_app":null},{"id":1423819485,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MjM4MTk0ODU=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423819485","actor":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-15T08:00:39Z","performed_via_github_app":null},{"id":1423819488,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MjM4MTk0ODg=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423819488","actor":{"login":"bechte","id":453673,"node_id":"MDQ6VXNlcjQ1MzY3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/453673?v=4","gravatar_id":"","url":"https://api.github.com/users/bechte","html_url":"https://github.com/bechte","followers_url":"https://api.github.com/users/bechte/followers","following_url":"https://api.github.com/users/bechte/following{/other_user}","gists_url":"https://api.github.com/users/bechte/gists{/gist_id}","starred_url":"https://api.github.com/users/bechte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bechte/subscriptions","organizations_url":"https://api.github.com/users/bechte/orgs","repos_url":"https://api.github.com/users/bechte/repos","events_url":"https://api.github.com/users/bechte/events{/privacy}","received_events_url":"https://api.github.com/users/bechte/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-15T08:00:39Z","performed_via_github_app":null},{"id":1423819490,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MjM4MTk0OTA=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423819490","actor":{"login":"sormuras","id":2319838,"node_id":"MDQ6VXNlcjIzMTk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2319838?v=4","gravatar_id":"","url":"https://api.github.com/users/sormuras","html_url":"https://github.com/sormuras","followers_url":"https://api.github.com/users/sormuras/followers","following_url":"https://api.github.com/users/sormuras/following{/other_user}","gists_url":"https://api.github.com/users/sormuras/gists{/gist_id}","starred_url":"https://api.github.com/users/sormuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sormuras/subscriptions","organizations_url":"https://api.github.com/users/sormuras/orgs","repos_url":"https://api.github.com/users/sormuras/repos","events_url":"https://api.github.com/users/sormuras/events{/privacy}","received_events_url":"https://api.github.com/users/sormuras/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-15T08:00:39Z","performed_via_github_app":null},{"id":1423819492,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MjM4MTk0OTI=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423819492","actor":{"login":"mmerdes","id":9845887,"node_id":"MDQ6VXNlcjk4NDU4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/9845887?v=4","gravatar_id":"","url":"https://api.github.com/users/mmerdes","html_url":"https://github.com/mmerdes","followers_url":"https://api.github.com/users/mmerdes/followers","following_url":"https://api.github.com/users/mmerdes/following{/other_user}","gists_url":"https://api.github.com/users/mmerdes/gists{/gist_id}","starred_url":"https://api.github.com/users/mmerdes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmerdes/subscriptions","organizations_url":"https://api.github.com/users/mmerdes/orgs","repos_url":"https://api.github.com/users/mmerdes/repos","events_url":"https://api.github.com/users/mmerdes/events{/privacy}","received_events_url":"https://api.github.com/users/mmerdes/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-15T08:00:39Z","performed_via_github_app":null},{"id":1423819493,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MjM4MTk0OTM=","url":"https://api.github.com/repos/junit-team/junit-framework/issues/events/1423819493","actor":{"login":"junit-builds","id":16123556,"node_id":"MDQ6VXNlcjE2MTIzNTU2","avatar_url":"https://avatars.githubusercontent.com/u/16123556?v=4","gravatar_id":"","url":"https://api.github.com/users/junit-builds","html_url":"https://github.com/junit-builds","followers_url":"https://api.github.com/users/junit-builds/followers","following_url":"https://api.github.com/users/junit-builds/following{/other_user}","gists_url":"https://api.github.com/users/junit-builds/gists{/gist_id}","starred_url":"https://api.github.com/users/junit-builds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junit-builds/subscriptions","organizations_url":"https://api.github.com/users/junit-builds/orgs","repos_url":"https://api.github.com/users/junit-builds/repos","events_url":"https://api.github.com/users/junit-builds/events{/privacy}","received_events_url":"https://api.github.com/users/junit-builds/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-15T08:00:39Z","performed_via_github_app":null}]