{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/671","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/671/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/671/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/671/events","html_url":"https://github.com/junit-team/junit-framework/issues/671","id":209235540,"node_id":"MDU6SXNzdWUyMDkyMzU1NDA=","number":671,"title":"Introduce a top-level ExtensionContext for the JupiterTestEngine","user":{"login":"SimonLittleStick","id":1079750,"node_id":"MDQ6VXNlcjEwNzk3NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1079750?v=4","gravatar_id":"","url":"https://api.github.com/users/SimonLittleStick","html_url":"https://github.com/SimonLittleStick","followers_url":"https://api.github.com/users/SimonLittleStick/followers","following_url":"https://api.github.com/users/SimonLittleStick/following{/other_user}","gists_url":"https://api.github.com/users/SimonLittleStick/gists{/gist_id}","starred_url":"https://api.github.com/users/SimonLittleStick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SimonLittleStick/subscriptions","organizations_url":"https://api.github.com/users/SimonLittleStick/orgs","repos_url":"https://api.github.com/users/SimonLittleStick/repos","events_url":"https://api.github.com/users/SimonLittleStick/events{/privacy}","received_events_url":"https://api.github.com/users/SimonLittleStick/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":165165180,"node_id":"MDU6TGFiZWwxNjUxNjUxODA=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":null},{"id":289029959,"node_id":"MDU6TGFiZWwyODkwMjk5NTk=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/theme:%20extensions","name":"theme: extensions","color":"c7def8","default":false,"description":null},{"id":420911923,"node_id":"MDU6TGFiZWw0MjA5MTE5MjM=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Jupiter","name":"component: Jupiter","color":"11ee99","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/junit-team/junit-framework/milestones/8","html_url":"https://github.com/junit-team/junit-framework/milestone/8","labels_url":"https://api.github.com/repos/junit-team/junit-framework/milestones/8/labels","id":1902232,"node_id":"MDk6TWlsZXN0b25lMTkwMjIzMg==","number":8,"title":"5.0 M5","description":"Themes: dynamic containers, test instance lifecycle management, and minor API changes.","creator":{"login":"sbrannen","id":104798,"node_id":"MDQ6VXNlcjEwNDc5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104798?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrannen","html_url":"https://github.com/sbrannen","followers_url":"https://api.github.com/users/sbrannen/followers","following_url":"https://api.github.com/users/sbrannen/following{/other_user}","gists_url":"https://api.github.com/users/sbrannen/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrannen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrannen/subscriptions","organizations_url":"https://api.github.com/users/sbrannen/orgs","repos_url":"https://api.github.com/users/sbrannen/repos","events_url":"https://api.github.com/users/sbrannen/events{/privacy}","received_events_url":"https://api.github.com/users/sbrannen/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":88,"state":"closed","created_at":"2016-07-25T11:53:46Z","updated_at":"2018-04-09T12:08:20Z","due_on":"2017-07-04T07:00:00Z","closed_at":"2017-07-04T17:05:34Z"},"comments":4,"created_at":"2017-02-21T18:42:33Z","updated_at":"2017-07-03T10:48:33Z","closed_at":"2017-05-09T08:13:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Feature Request\r\n\r\nWhen using the available extension contexts in test runs with extensions like `BeforeAllCallback` and `BeforeTestExecutionCallback`, it only seems possible to use these contexts during one test and lose all context information in following test runs.\r\n\r\nTrying to use the parent context of an instance of `ContainerExtensionContext` in a `beforeAllCallback` leads to an empty `Optional` object, thus no information can be used or set.\r\n\r\n```java\r\nimport java.util.logging.Logger;\r\n\r\nimport org.junit.jupiter.api.extension.BeforeAllCallback;\r\nimport org.junit.jupiter.api.extension.BeforeTestExecutionCallback;\r\nimport org.junit.jupiter.api.extension.ContainerExtensionContext;\r\nimport org.junit.jupiter.api.extension.TestExtensionContext;\r\n\r\n/**\r\n * @author Simon Ebner\r\n */\r\npublic class ParentAwareExtension implements BeforeAllCallback, BeforeTestExecutionCallback {\r\n\r\n\t@Override\r\n\tpublic void beforeAll(ContainerExtensionContext context) throws Exception {\r\n\t\t/**\r\n\t\t * Issue - no parent context during test execution available to act on\r\n\t\t * or use any global context information\r\n\t\t */\r\n\t\tcontext.getParent().ifPresent(parent -> {\r\n\t\t\tLogger.getLogger(\"JUnit5-Issue\").info(\"'before all' has parent context \" + parent.getDisplayName());\r\n\t\t});\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void beforeTestExecution(TestExtensionContext context) throws Exception {\r\n\t\tcontext.getParent().ifPresent(parent -> {\r\n\t\t\tLogger.getLogger(\"JUnit5-Issue\").info(\"'before test' has parent context \" + parent.getDisplayName());\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nIt would be great to be able to set and use context information for an entire test run, especially when needing to execute time and resource expensive operations, that could be reduced to one call per entire test run.\r\n\r\n## Suite Considerations\r\n\r\nI am not sure as to how it would be necessary to look also at `@SelectClasses` and `@SelectPackages` in this case, because they also may create a distinct series of tests and thus a logical unit, that might need its own context to be able to separate tests that run in a suite and others. I would like to know your opinion in this respect.","closed_by":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/671/timeline","performed_via_github_app":null,"state_reason":"completed"}