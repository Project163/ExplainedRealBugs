{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/1606","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1606/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1606/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1606/events","html_url":"https://github.com/junit-team/junit-framework/issues/1606","id":364952162,"node_id":"MDU6SXNzdWUzNjQ5NTIxNjI=","number":1606,"title":"assertEquals(expected, actual, delta) should allow a delta of zero","user":{"login":"lessthanoptimal","id":739159,"node_id":"MDQ6VXNlcjczOTE1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/739159?v=4","gravatar_id":"","url":"https://api.github.com/users/lessthanoptimal","html_url":"https://github.com/lessthanoptimal","followers_url":"https://api.github.com/users/lessthanoptimal/followers","following_url":"https://api.github.com/users/lessthanoptimal/following{/other_user}","gists_url":"https://api.github.com/users/lessthanoptimal/gists{/gist_id}","starred_url":"https://api.github.com/users/lessthanoptimal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lessthanoptimal/subscriptions","organizations_url":"https://api.github.com/users/lessthanoptimal/orgs","repos_url":"https://api.github.com/users/lessthanoptimal/repos","events_url":"https://api.github.com/users/lessthanoptimal/events{/privacy}","received_events_url":"https://api.github.com/users/lessthanoptimal/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":165165180,"node_id":"MDU6TGFiZWwxNjUxNjUxODA=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":null},{"id":165165181,"node_id":"MDU6TGFiZWwxNjUxNjUxODE=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/up-for-grabs","name":"up-for-grabs","color":"159818","default":false,"description":null},{"id":420911923,"node_id":"MDU6TGFiZWw0MjA5MTE5MjM=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Jupiter","name":"component: Jupiter","color":"11ee99","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/junit-team/junit-framework/milestones/29","html_url":"https://github.com/junit-team/junit-framework/milestone/29","labels_url":"https://api.github.com/repos/junit-team/junit-framework/milestones/29/labels","id":3544234,"node_id":"MDk6TWlsZXN0b25lMzU0NDIzNA==","number":29,"title":"5.4 M1","description":"*Scope:* XML report generating listener, Test Kit for testing engines and extensions, new `junit-jupiter` dependency aggregating artifact for simplified dependency management in build tools, `TempDirectory` extension, display name generator API, test execution order API, API for accessing outer test instances, JUnit 4 `@Ignore` migration support, improved diagnostics and error reporting, discontinuation of the `junit-platform-surefire-provider`, as well as various minor improvements and bug fixes.\r\n","creator":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":54,"state":"closed","created_at":"2018-08-03T10:12:37Z","updated_at":"2018-12-23T18:31:59Z","due_on":"2018-12-23T08:00:00Z","closed_at":"2018-12-23T18:31:59Z"},"comments":4,"created_at":"2018-09-28T16:07:31Z","updated_at":"2018-10-08T19:58:44Z","closed_at":"2018-10-08T19:58:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Overview\r\n\r\n`assertEquals(expected, actual, delta)` currently throws an exception if a delta of zero is passed in. \r\n\r\nThis is a change in behavior from JUnit 4 and an unnecessary restriction. I propose that the desired behavior should be to treat delta of zero as a test for equality.\r\n\r\nIn my projects a delta of zero occurs when the test tolerance is dynamically computed. The current work around is to add EPS to the dynamic tolerance. This bloats the code and the desired test is for equality, not _nearly_ equal.\r\n\r\n## Proposal\r\n\r\nTwo simple modifications (once for float and double) are required.  Change the line `delta <= 0.0` to `delta < 0.0`.\r\n\r\n```java\r\n\tstatic void assertValidDelta(float delta) {\r\n\t\tif (Float.isNaN(delta) || delta < 0.0) {\r\n\t\t\tfailIllegalDelta(String.valueOf(delta));\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThat's it.\r\n","closed_by":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/1606/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/1606/timeline","performed_via_github_app":null,"state_reason":"completed"}