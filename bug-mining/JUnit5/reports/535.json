{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/3205","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/3205/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/3205/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/3205/events","html_url":"https://github.com/junit-team/junit-framework/issues/3205","id":1639103845,"node_id":"I_kwDOAbwRH85hsr1l","number":3205,"title":"Getting out of memory error while running test in parallel ","user":{"login":"bachhavdipak","id":77110618,"node_id":"MDQ6VXNlcjc3MTEwNjE4","avatar_url":"https://avatars.githubusercontent.com/u/77110618?v=4","gravatar_id":"","url":"https://api.github.com/users/bachhavdipak","html_url":"https://github.com/bachhavdipak","followers_url":"https://api.github.com/users/bachhavdipak/followers","following_url":"https://api.github.com/users/bachhavdipak/following{/other_user}","gists_url":"https://api.github.com/users/bachhavdipak/gists{/gist_id}","starred_url":"https://api.github.com/users/bachhavdipak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bachhavdipak/subscriptions","organizations_url":"https://api.github.com/users/bachhavdipak/orgs","repos_url":"https://api.github.com/users/bachhavdipak/repos","events_url":"https://api.github.com/users/bachhavdipak/events{/privacy}","received_events_url":"https://api.github.com/users/bachhavdipak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":318079877,"node_id":"MDU6TGFiZWwzMTgwNzk4Nzc=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/theme:%20concurrency","name":"theme: concurrency","color":"eeccff","default":false,"description":null},{"id":420911923,"node_id":"MDU6TGFiZWw0MjA5MTE5MjM=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Jupiter","name":"component: Jupiter","color":"11ee99","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"mpkorstanje","id":6946919,"node_id":"MDQ6VXNlcjY5NDY5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/6946919?v=4","gravatar_id":"","url":"https://api.github.com/users/mpkorstanje","html_url":"https://github.com/mpkorstanje","followers_url":"https://api.github.com/users/mpkorstanje/followers","following_url":"https://api.github.com/users/mpkorstanje/following{/other_user}","gists_url":"https://api.github.com/users/mpkorstanje/gists{/gist_id}","starred_url":"https://api.github.com/users/mpkorstanje/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpkorstanje/subscriptions","organizations_url":"https://api.github.com/users/mpkorstanje/orgs","repos_url":"https://api.github.com/users/mpkorstanje/repos","events_url":"https://api.github.com/users/mpkorstanje/events{/privacy}","received_events_url":"https://api.github.com/users/mpkorstanje/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mpkorstanje","id":6946919,"node_id":"MDQ6VXNlcjY5NDY5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/6946919?v=4","gravatar_id":"","url":"https://api.github.com/users/mpkorstanje","html_url":"https://github.com/mpkorstanje","followers_url":"https://api.github.com/users/mpkorstanje/followers","following_url":"https://api.github.com/users/mpkorstanje/following{/other_user}","gists_url":"https://api.github.com/users/mpkorstanje/gists{/gist_id}","starred_url":"https://api.github.com/users/mpkorstanje/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpkorstanje/subscriptions","organizations_url":"https://api.github.com/users/mpkorstanje/orgs","repos_url":"https://api.github.com/users/mpkorstanje/repos","events_url":"https://api.github.com/users/mpkorstanje/events{/privacy}","received_events_url":"https://api.github.com/users/mpkorstanje/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":9,"created_at":"2023-03-24T10:14:19Z","updated_at":"2023-04-28T13:31:24Z","closed_at":"2023-04-23T13:22:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Getting out of memory error while running test in parallel .  I am using below configuration along with annotation**@Execution(SAME_THREAD)** in the class.\r\n\r\n```\r\njunit.jupiter.execution.parallel.enabled = true\r\njunit.jupiter.execution.parallel.mode.default = same_thread\r\njunit.jupiter.execution.parallel.mode.classes.default = same_thread\r\njunit.jupiter.execution.parallel.config.strategy = dynamic\r\n\r\n```\r\nError log:\r\n```\r\n\r\n                  2023-03-24T10:08:17.6764760Z UnknownClass.JUnit Jupiter > UnknownClass.executionError FAILED\r\n2023-03-24T10:08:17.6765471Z     org.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to execute tests\r\n2023-03-24T10:08:17.6765805Z         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:113)\r\n2023-03-24T10:08:17.6766208Z         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n2023-03-24T10:08:17.6766499Z         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n2023-03-24T10:08:17.6766817Z         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n2023-03-24T10:08:17.6767143Z         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n2023-03-24T10:08:17.6767424Z         at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n2023-03-24T10:08:17.6767662Z         at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n2023-03-24T10:08:17.6767942Z         at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n2023-03-24T10:08:17.6768226Z         at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n2023-03-24T10:08:17.6768582Z         at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n2023-03-24T10:08:17.6768988Z         at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n2023-03-24T10:08:17.6769704Z         at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n2023-03-24T10:08:17.6770117Z         at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n2023-03-24T10:08:17.6770370Z         at java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2023-03-24T10:08:17.6770603Z         at java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n2023-03-24T10:08:17.6770888Z         at java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2023-03-24T10:08:17.6771124Z         at java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\r\n2023-03-24T10:08:17.6771362Z         at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n2023-03-24T10:08:17.6771603Z         at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n2023-03-24T10:08:17.6771874Z         at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n2023-03-24T10:08:17.6772158Z         at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n2023-03-24T10:08:17.6772393Z         at com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n2023-03-24T10:08:17.6772586Z         at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n2023-03-24T10:08:17.6772859Z         at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n2023-03-24T10:08:17.6773121Z         at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n2023-03-24T10:08:17.6773362Z         at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n2023-03-24T10:08:17.6773632Z         at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n2023-03-24T10:08:17.6773929Z         at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n2023-03-24T10:08:17.6774260Z         at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n2023-03-24T10:08:17.6774552Z         at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n2023-03-24T10:08:17.6774808Z         at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n2023-03-24T10:08:17.6774921Z \r\n2023-03-24T10:08:17.6775024Z         Caused by:\r\n2023-03-24T10:08:17.6775303Z         org.junit.platform.commons.JUnitException: Error executing tests for engine junit-jupiter\r\n2023-03-24T10:08:17.6775540Z             at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:57)\r\n2023-03-24T10:08:17.6775832Z             at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n2023-03-24T10:08:17.6776020Z             ... 30 more\r\n2023-03-24T10:08:17.6776077Z \r\n2023-03-24T10:08:17.6776165Z             Caused by:\r\n2023-03-24T10:08:17.6776302Z             java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError\r\n2023-03-24T10:08:17.6776510Z                 at java.base/java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006)\r\n2023-03-24T10:08:17.6776761Z                 at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n2023-03-24T10:08:17.6776965Z                 ... 31 more\r\n2023-03-24T10:08:17.6777009Z \r\n2023-03-24T10:08:17.6777095Z                 Caused by:\r\n2023-03-24T10:08:17.6777277Z                 java.lang.OutOfMemoryError\r\n2023-03-24T10:08:17.6777444Z                     at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n2023-03-24T10:08:17.6777755Z                     at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n2023-03-24T10:08:17.6778043Z                     at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n2023-03-24T10:08:17.6778312Z                     at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n2023-03-24T10:08:17.6778536Z                     at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603)\r\n2023-03-24T10:08:17.6778716Z                     ... 33 more\r\n2023-03-24T10:08:17.6778759Z \r\n2023-03-24T10:08:17.6778847Z                     Caused by:\r\n2023-03-24T10:08:17.6778980Z                     java.lang.OutOfMemoryError: Java heap space\r\n2023-03-24T10:08:17.6779144Z                         at java.base/java.util.HashMap.newNode(HashMap.java:1815)\r\n2023-03-24T10:08:17.6779336Z                         at java.base/java.util.HashMap.putVal(HashMap.java:627)\r\n2023-03-24T10:08:17.6779522Z                         at java.base/java.util.HashMap.putMapEntries(HashMap.java:511)\r\n2023-03-24T10:08:17.6779717Z                         at java.base/java.util.HashMap.<init>(HashMap.java:486)\r\n2023-03-24T10:08:17.6779945Z                         at net.thucydides.core.environment.SystemEnvironmentVariables.copy(SystemEnvironmentVariables.java:45)\r\n2023-03-24T10:08:17.6780243Z                         at net.thucydides.core.environment.SystemEnvironmentVariables.currentEnvironmentVariables(SystemEnvironmentVariables.java:62)\r\n2023-03-24T10:08:17.6780564Z                         at net.serenitybdd.core.environment.ConfiguredEnvironment.getEnvironmentVariables(ConfiguredEnvironment.java:12)\r\n2023-03-24T10:08:17.6780854Z                         at net.thucydides.core.annotations.locators.SmartAjaxElementLocator.<init>(SmartAjaxElementLocator.java:87)\r\n2023-03-24T10:08:17.6781155Z                         at net.thucydides.core.annotations.locators.SmartAjaxElementLocator.<init>(SmartAjaxElementLocator.java:49)\r\n2023-03-24T10:08:17.6781453Z                         at net.thucydides.core.annotations.locators.SmartElementLocatorFactory.createLocator(SmartElementLocatorFactory.java:21)\r\n2023-03-24T10:08:17.6781757Z                         at net.thucydides.core.annotations.locators.SmartFieldDecorator.decorate(SmartFieldDecorator.java:53)\r\n2023-03-24T10:08:17.6782008Z                         at org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:111)\r\n2023-03-24T10:08:17.6782255Z                         at org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\r\n2023-03-24T10:08:17.6782521Z                         at net.thucydides.core.annotations.locators.SmartElementProxyCreator.proxyElements(SmartElementProxyCreator.java:22)\r\n2023-03-24T10:08:17.6782829Z                         at net.thucydides.core.webdriver.DefaultPageObjectInitialiser.apply(DefaultPageObjectInitialiser.java:20)\r\n2023-03-24T10:08:17.6783080Z                         at net.serenitybdd.core.pages.PageObject.setDriver(PageObject.java:167)\r\n2023-03-24T10:08:17.6783319Z                         at net.serenitybdd.core.pages.PageObject.setDriver(PageObject.java:171)\r\n2023-03-24T10:08:17.6783578Z                         at net.thucydides.core.steps.PageObjectDependencyInjector.updatePageObject(PageObjectDependencyInjector.java:99)\r\n2023-03-24T10:08:17.6783892Z                         at net.thucydides.core.steps.PageObjectDependencyInjector.injectDependenciesInto(PageObjectDependencyInjector.java:48)\r\n2023-03-24T10:08:17.6784207Z                         at net.thucydides.core.steps.PageObjectDependencyInjector.instantiatePageObjectIfNotAssigned(PageObjectDependencyInjector.java:84)\r\n2023-03-24T10:08:17.6784538Z                         at net.thucydides.core.steps.PageObjectDependencyInjector.injectDependenciesInto(PageObjectDependencyInjector.java:50)\r\n2023-03-24T10:08:17.6784864Z                         at net.thucydides.core.steps.StepFactory.injectOtherDependenciesInto(StepFactory.java:206)\r\n2023-03-24T10:08:17.6785183Z                         at net.thucydides.core.steps.StepFactory.instantiateNewStepLibraryFor(StepFactory.java:196)\r\n2023-03-24T10:08:17.6785440Z                         at net.thucydides.core.steps.StepFactory.instantiateNewStepLibraryFor(StepFactory.java:177)\r\n2023-03-24T10:08:17.6785703Z                         at net.thucydides.core.steps.StepFactory.getNewStepLibraryFor(StepFactory.java:124)\r\n2023-03-24T10:08:17.6786007Z                         at net.thucydides.core.steps.IndividualInstancesByDefaultStepCreationStrategy.initiateStepsFor(IndividualInstancesByDefaultStepCreationStrategy.java:16)\r\n2023-03-24T10:08:17.6786347Z                         at net.thucydides.core.steps.StepAnnotations.instantiateAnyUnitiaializedSteps(StepAnnotations.java:89)\r\n2023-03-24T10:08:17.6786624Z                         at net.thucydides.core.steps.StepAnnotations.instanciateScenarioStepFields(StepAnnotations.java:70)\r\n2023-03-24T10:08:17.6787546Z                         at net.thucydides.core.steps.StepAnnotations.injectNestedScenarioStepsInto(StepAnnotations.java:62)\r\n2023-03-24T10:08:17.6787842Z                         at net.thucydides.core.steps.StepFactory.instantiateAnyNestedStepLibrariesIn(StepFactory.java:405)\r\n2023-03-24T10:08:17.6788122Z                         at net.thucydides.core.steps.StepFactory.instantiateNewStepLibraryFor(StepFactory.java:194)\r\n2023-03-24T10:08:17.6788379Z                         at net.thucydides.core.steps.StepFactory.instantiateNewStepLibraryFor(StepFactory.java:177)\r\n```\r\n\r\n\r\n## Context\r\n\r\n - Used versions (Jupiter/Vintage/Platform): 5.9.2\r\n - Build Tool/IDE: Gradle/Intellij\r\n\r\n","closed_by":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/3205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/3205/timeline","performed_via_github_app":null,"state_reason":"completed"}