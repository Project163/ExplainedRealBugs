{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/4784","repository_url":"https://api.github.com/repos/junit-team/junit-framework","labels_url":"https://api.github.com/repos/junit-team/junit-framework/issues/4784/labels{/name}","comments_url":"https://api.github.com/repos/junit-team/junit-framework/issues/4784/comments","events_url":"https://api.github.com/repos/junit-team/junit-framework/issues/4784/events","html_url":"https://github.com/junit-team/junit-framework/issues/4784","id":3249173739,"node_id":"I_kwDOAbwRH87BqnTr","number":4784,"title":"Document `StoreScope` enum and `getStore(StoreScope, Namespace)` in User Guide","user":{"login":"JKomoroski","id":10411242,"node_id":"MDQ6VXNlcjEwNDExMjQy","avatar_url":"https://avatars.githubusercontent.com/u/10411242?v=4","gravatar_id":"","url":"https://api.github.com/users/JKomoroski","html_url":"https://github.com/JKomoroski","followers_url":"https://api.github.com/users/JKomoroski/followers","following_url":"https://api.github.com/users/JKomoroski/following{/other_user}","gists_url":"https://api.github.com/users/JKomoroski/gists{/gist_id}","starred_url":"https://api.github.com/users/JKomoroski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JKomoroski/subscriptions","organizations_url":"https://api.github.com/users/JKomoroski/orgs","repos_url":"https://api.github.com/users/JKomoroski/repos","events_url":"https://api.github.com/users/JKomoroski/events{/privacy}","received_events_url":"https://api.github.com/users/JKomoroski/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":165165180,"node_id":"MDU6TGFiZWwxNjUxNjUxODA=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":null},{"id":372539997,"node_id":"MDU6TGFiZWwzNzI1Mzk5OTc=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/theme:%20documentation","name":"theme: documentation","color":"bfdadc","default":false,"description":null},{"id":420911923,"node_id":"MDU6TGFiZWw0MjA5MTE5MjM=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Jupiter","name":"component: Jupiter","color":"11ee99","default":false,"description":null},{"id":420912036,"node_id":"MDU6TGFiZWw0MjA5MTIwMzY=","url":"https://api.github.com/repos/junit-team/junit-framework/labels/component:%20Platform","name":"component: Platform","color":"11dd99","default":false,"description":null},{"id":9327429098,"node_id":"LA_kwDOAbwRH88AAAACK_VF6g","url":"https://api.github.com/repos/junit-team/junit-framework/labels/status:%20backported","name":"status: backported","color":"f97b87","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/junit-team/junit-framework/milestones/103","html_url":"https://github.com/junit-team/junit-framework/milestone/103","labels_url":"https://api.github.com/repos/junit-team/junit-framework/milestones/103/labels","id":13243038,"node_id":"MI_kwDOAbwRH84AyhKe","number":103,"title":"6.0.0","description":"","creator":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":6,"state":"closed","created_at":"2025-07-10T10:35:19Z","updated_at":"2025-09-30T08:17:04Z","due_on":"2025-09-30T07:00:00Z","closed_at":"2025-09-30T08:17:04Z"},"comments":5,"created_at":"2025-07-21T15:49:37Z","updated_at":"2025-09-23T10:16:00Z","closed_at":"2025-09-23T10:13:50Z","author_association":"NONE","type":{"id":146631,"node_id":"IT_kwDOAA1WZs4AAjzH","name":"Feature","description":"A request, idea, or new functionality","color":"blue","created_at":"2024-01-25T09:15:40Z","updated_at":"2024-10-08T08:32:28Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Problem\n\nThe `StoreScope` enum and `ExtensionContext.getStore(StoreScope, Namespace)` method introduced in JUnit 5.13 are not documented in the [User Guide](https://junit.org/junit5/docs/current/user-guide/). This new feature for resource lifecycle management is only discoverable through API documentation and source code inspection.\n\n## Impact\n\nDevelopers encountering resource management issues (especially with JUnit 5.13's enhanced AutoCloseable cleanup behavior) cannot easily discover this solution. The lack of documentation leads to:\n\n- Workarounds like disabling `junit.jupiter.extensions.store.close.autocloseable.enabled`  \n- Incorrect usage of `GLOBAL` namespace thinking it provides JVM-wide scope\n- Frustration when resources get unexpectedly closed during test execution\n- Missing the intended solution for session-scoped and request-scoped resource management\n\n## Current State\n\n**What exists:**\n- API documentation for `StoreScope` enum with minimal descriptions\n- Brief mention in JUnit 5.13.0 release notes: \"resource management mechanism that allows preparing and sharing state across executions or test engines via stores that are scoped to a LauncherSession or ExecutionRequest\"\n\n**What's missing:**\n- User Guide documentation explaining when and how to use each scope\n- Examples showing practical use cases\n- Migration guidance for common resource management patterns\n\n## Requested Documentation\n\nAdd a section to the User Guide covering:\n\n### 1. StoreScope Overview\n- Explanation of the three scopes: `EXTENSION_CONTEXT`, `LAUNCHER_SESSION`, `EXECUTION_REQUEST`\n- Lifecycle diagrams showing when each scope opens/closes\n- Relationship to AutoCloseable resource cleanup\n\n### 2. Practical Examples\n```java\n// Session-scoped database connection shared across all tests\n@Override\npublic void beforeAll(ExtensionContext context) {\n    Store store = context.getStore(StoreScope.LAUNCHER_SESSION, \n                                   Namespace.create(\"database\"));\n    \n    DataSource dataSource = store.getOrComputeIfAbsent(\"connection\", \n        key -> createDataSource(), DataSource.class);\n}\n\n// Request-scoped test container shared across test engines\nStore store = context.getStore(StoreScope.EXECUTION_REQUEST, \n                               Namespace.create(\"containers\"));\n```\n\n### 3. Common Use Cases\n- Shared test infrastructure (databases, containers, external services)\n- Expensive resource initialization that should survive test class boundaries  \n- Cross-engine state sharing\n- Migration from static fields to proper lifecycle management\n\n### 4. Best Practices\n- When to use each scope vs traditional `getStore(Namespace)`\n- Namespace selection strategies to avoid conflicts\n- Resource cleanup considerations\n- Thread safety implications\n\n## Suggested Location\n\nAdd as a new subsection under **\"5.13. Keeping State in Extensions\"** titled **\"5.13.x Resource Scoping with StoreScope\"** or integrate into existing store documentation.\n\n## Additional Context\n\nThis feature addresses a significant gap in JUnit's resource management story and represents the intended solution for many common testing scenarios involving shared infrastructure. Better documentation would help developers adopt this pattern instead of anti-patterns like static resource management.","closed_by":{"login":"marcphilipp","id":214207,"node_id":"MDQ6VXNlcjIxNDIwNw==","avatar_url":"https://avatars.githubusercontent.com/u/214207?v=4","gravatar_id":"","url":"https://api.github.com/users/marcphilipp","html_url":"https://github.com/marcphilipp","followers_url":"https://api.github.com/users/marcphilipp/followers","following_url":"https://api.github.com/users/marcphilipp/following{/other_user}","gists_url":"https://api.github.com/users/marcphilipp/gists{/gist_id}","starred_url":"https://api.github.com/users/marcphilipp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcphilipp/subscriptions","organizations_url":"https://api.github.com/users/marcphilipp/orgs","repos_url":"https://api.github.com/users/marcphilipp/repos","events_url":"https://api.github.com/users/marcphilipp/events{/privacy}","received_events_url":"https://api.github.com/users/marcphilipp/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/junit-team/junit-framework/issues/4784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/junit-team/junit-framework/issues/4784/timeline","performed_via_github_app":null,"state_reason":"completed"}