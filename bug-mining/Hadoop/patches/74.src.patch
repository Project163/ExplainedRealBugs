diff --git a/CHANGES.txt b/CHANGES.txt
index d9069791a03..9646915ca63 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1270,6 +1270,8 @@ Release 0.21.0 - Unreleased
     HADOOP-6441. Protect web ui from cross site scripting attacks (XSS) on
     the host http header and using encoded utf-7. (omalley)
 
+    HADOOP-6451. Fix build to run contrib unit tests. (Tom White via cdouglas)
+
 Release 0.20.2 - Unreleased
 
   NEW FEATURES
diff --git a/build.xml b/build.xml
index 61470d21777..5925662ca6b 100644
--- a/build.xml
+++ b/build.xml
@@ -375,7 +375,7 @@
   </target>
 
   <target name="compile-contrib" depends="compile-core">
-     <subant target="compile" inheritall="true">
+     <subant target="compile">
         <property name="version" value="${version}"/>
         <fileset file="${contrib.dir}/build.xml"/>
      </subant>  	
@@ -661,7 +661,7 @@
   </target>
 
   <target name="test-contrib" depends="compile, compile-core-test" description="Run contrib unit tests">
-    <subant target="test" inheritall="true">
+    <subant target="test">
        <property name="version" value="${version}"/>
        <property name="clover.jar" value="${clover.jar}"/>
        <fileset file="${contrib.dir}/build.xml"/>
@@ -678,7 +678,7 @@
   </target>
 
   <target name="test" depends="jar-test,test-core" description="Run all unit tests">
-    <subant target="test-contrib" inheritall="true">	 
+    <subant target="test-contrib">	 
       <fileset dir="." includes="build.xml"/>
     </subant>
   </target>
@@ -973,7 +973,7 @@
 	  <arg line="${native.src.dir}/packageNativeHadoop.sh"/>
     </exec>
 
-    <subant target="package" inheritall="true">
+    <subant target="package">
       <!--Pass down the version in case its needed again and the target
       distribution directory so contribs know where to install to.-->
       <property name="version" value="${version}"/>
@@ -1073,7 +1073,7 @@
 	  <arg line="${native.src.dir}/packageNativeHadoop.sh"/>
     </exec>
 
-    <subant target="package" inheritall="true">
+    <subant target="package">
       <!--Pass down the version in case its needed again and the target
       distribution directory so contribs know where to install to.-->
       <property name="version" value="${version}"/>
@@ -1227,7 +1227,7 @@
   <!-- Using subant instead of ant as a workaround for 30569              -->
   <!-- ================================================================== -->
   <target name="clean-contrib">
-     <subant target="clean" inheritall="true">        
+     <subant target="clean">        
         <fileset file="src/contrib/build.xml"/>
      </subant>  	
   </target>
diff --git a/src/contrib/build.xml b/src/contrib/build.xml
index 3455900f909..668e42adfe0 100644
--- a/src/contrib/build.xml
+++ b/src/contrib/build.xml
@@ -46,11 +46,8 @@
   <!-- ====================================================== -->
   <target name="test">
     <subant target="test">
-      <fileset dir="." includes="hdfsproxy/build.xml"/>
-      <fileset dir="." includes="streaming/build.xml"/>
-      <fileset dir="." includes="fairscheduler/build.xml"/>
-      <fileset dir="." includes="capacity-scheduler/build.xml"/>
-      <fileset dir="." includes="mrunit/build.xml"/>
+      <fileset dir="." includes="failmon/build.xml"/>
+      <fileset dir="." includes="hod/build.xml"/>
     </subant>
   </target>
   
