diff --git a/CHANGES.txt b/CHANGES.txt
index 179e860d7a0..e607a0c1062 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -289,6 +289,9 @@ Trunk (unreleased changes)
     HADOOP-6991.  Fix SequenceFile::Reader to honor file lengths and call
     openFile (cdouglas via omalley)
 
+    HADOOP-7011.  Fix KerberosName.main() to not throw an NPE.
+    (Aaron T. Myers via tomwhite)
+
 Release 0.21.1 - Unreleased
 
   IMPROVEMENTS
diff --git a/src/java/org/apache/hadoop/security/KerberosName.java b/src/java/org/apache/hadoop/security/KerberosName.java
index fe34b37dc81..b533cd22f77 100644
--- a/src/java/org/apache/hadoop/security/KerberosName.java
+++ b/src/java/org/apache/hadoop/security/KerberosName.java
@@ -399,9 +399,10 @@ static void printRules() throws IOException {
   }
 
   public static void main(String[] args) throws Exception {
+    setConfiguration(new Configuration());
     for(String arg: args) {
       KerberosName name = new KerberosName(arg);
       System.out.println("Name: " + name + " to " + name.getShortName());
     }
   }
-}
\ No newline at end of file
+}
