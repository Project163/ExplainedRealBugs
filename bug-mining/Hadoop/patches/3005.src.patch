diff --git a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/ftp/TestFTPFileSystem.java b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/ftp/TestFTPFileSystem.java
index f26576c84d1..618ddf97b54 100644
--- a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/ftp/TestFTPFileSystem.java
+++ b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/ftp/TestFTPFileSystem.java
@@ -245,16 +245,10 @@ private static void touch(FileSystem fs, Path filePath)
 
   private static void touch(FileSystem fs, Path path, byte[] data)
           throws IOException {
-    FSDataOutputStream out = null;
-    try {
-      out = fs.create(path);
+    try (FSDataOutputStream out = fs.create(path)) {
       if (data != null) {
         out.write(data);
       }
-    } finally {
-      if (out != null) {
-        out.close();
-      }
     }
   }
 
diff --git a/hadoop-project/pom.xml b/hadoop-project/pom.xml
index 387dd9a52a8..30fa86808de 100644
--- a/hadoop-project/pom.xml
+++ b/hadoop-project/pom.xml
@@ -1131,12 +1131,12 @@
       <dependency>
         <groupId>org.apache.ftpserver</groupId>
         <artifactId>ftplet-api</artifactId>
-        <version>1.0.0</version>
+        <version>1.2.0</version>
       </dependency>
       <dependency>
         <groupId>org.apache.ftpserver</groupId>
         <artifactId>ftpserver-core</artifactId>
-        <version>1.0.0</version>
+        <version>1.2.0</version>
       </dependency>
       <dependency>
         <groupId>org.apache.ftpserver</groupId>
