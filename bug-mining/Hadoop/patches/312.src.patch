diff --git a/common/CHANGES.txt b/common/CHANGES.txt
index 8eba79e71f8..4995bb9a45c 100644
--- a/common/CHANGES.txt
+++ b/common/CHANGES.txt
@@ -309,6 +309,9 @@ Trunk (unreleased changes)
     HADOOP-7389. Use of TestingGroups by tests causes subsequent tests to fail.
     (atm via tomwhite)
 
+    HADOOP-7390. VersionInfo not generated properly in git after unsplit. (todd
+    via atm)
+
 Release 0.22.0 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/common/src/saveVersion.sh b/common/src/saveVersion.sh
index 7b8dfdf0f58..aef6967e176 100755
--- a/common/src/saveVersion.sh
+++ b/common/src/saveVersion.sh
@@ -26,7 +26,7 @@ build_dir=$2
 user=`whoami | tr '\n\r' '\n'`
 date=`date`
 cwd=`pwd`
-if [ -d .git ]; then
+if git rev-parse HEAD 2>/dev/null > /dev/null ; then
   revision=`git log -1 --pretty=format:"%H"`
   hostname=`hostname`
   branch=`git branch | sed -n -e 's/^* //p'`
