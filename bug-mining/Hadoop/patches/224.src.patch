diff --git a/CHANGES.txt b/CHANGES.txt
index cfa3a62c873..93e3c80a98e 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -394,6 +394,9 @@ Release 0.22.0 - Unreleased
     HADOOP-7057. IOUtils.readFully and IOUtils.skipFully have typo in
     exception creation's message. (cos)
 
+    HADOOP-7038. saveVersion script includes an additional \r while running
+    whoami under windows. (Wang Xu via cos)
+
 Release 0.21.1 - Unreleased
 
   IMPROVEMENTS
diff --git a/src/saveVersion.sh b/src/saveVersion.sh
index 29bbbcb765b..7b8dfdf0f58 100755
--- a/src/saveVersion.sh
+++ b/src/saveVersion.sh
@@ -23,7 +23,7 @@ unset LC_CTYPE
 unset LC_TIME
 version=$1
 build_dir=$2
-user=`whoami`
+user=`whoami | tr '\n\r' '\n'`
 date=`date`
 cwd=`pwd`
 if [ -d .git ]; then
