diff --git a/CHANGES.txt b/CHANGES.txt
index 306ee004604..56b3a9d688b 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1053,6 +1053,9 @@ Release 0.21.0 - Unreleased
 
   BUG FIXES
 
+    HADOOP-6790. Instrumented (Herriot) build uses too wide mask to include
+    aspect files. (Konstantin Boudnik)
+
     HADOOP-6860. 'compile-fault-inject' should never be called directly.
     (Konstantin Boudnik)
 
diff --git a/src/test/aop/build/aop.xml b/src/test/aop/build/aop.xml
index 2458513c415..d73956e16e3 100644
--- a/src/test/aop/build/aop.xml
+++ b/src/test/aop/build/aop.xml
@@ -63,7 +63,7 @@
     <iajc
       encoding="${build.encoding}" 
       srcdir="${java.src.dir};${build.src};${src.dir.path}" 
-      includes="**/org/apache/hadoop/**/*.java, **/org/apache/hadoop/**/*.aj"
+      includes="org/apache/hadoop/**/*.java, org/apache/hadoop/**/*.aj"
       excludes="org/apache/hadoop/classification/tools/**/*, org/apache/hadoop/record/**/*"
       destDir="${dest.dir}"
       debug="${javac.debug}"
@@ -157,7 +157,7 @@
     <mkdir dir="${build-fi.dir}"/>
     <delete file="${compile-inject.output}"/>
     <weave-injectfault-aspects dest.dir="${system-test-build-dir}/classes"
-                               src.dir="${test.src.dir}/system">
+                               src.dir="${test.src.dir}/system/java;${test.src.dir}/system/aop">
     </weave-injectfault-aspects>
   </target>
 
