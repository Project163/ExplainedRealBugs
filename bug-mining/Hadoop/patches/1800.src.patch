diff --git a/hadoop-common-project/hadoop-common/CHANGES.txt b/hadoop-common-project/hadoop-common/CHANGES.txt
index 1c86e9be056..0bc8ae55c05 100644
--- a/hadoop-common-project/hadoop-common/CHANGES.txt
+++ b/hadoop-common-project/hadoop-common/CHANGES.txt
@@ -674,6 +674,9 @@ Release 2.9.0 - UNRELEASED
    HADOOP-12573. TestRPC.testClientBackOff failing.
    (Xiao Chen via stevel)
 
+   HADOOP-12590. TestCompressorDecompressor failing without stack traces
+   (John Zhuge via stevel)
+
 Release 2.8.0 - UNRELEASED
 
   INCOMPATIBLE CHANGES
diff --git a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/compress/TestCompressorDecompressor.java b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/compress/TestCompressorDecompressor.java
index a8ac993c47b..49a41fb8ba8 100644
--- a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/compress/TestCompressorDecompressor.java
+++ b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/compress/TestCompressorDecompressor.java
@@ -26,6 +26,7 @@
 import org.apache.hadoop.io.compress.snappy.SnappyDecompressor;
 import org.apache.hadoop.io.compress.zlib.BuiltInZlibDeflater;
 import org.apache.hadoop.io.compress.zlib.BuiltInZlibInflater;
+import org.apache.hadoop.test.GenericTestUtils;
 import org.junit.Test;
 import com.google.common.collect.ImmutableSet;
 
@@ -66,7 +67,8 @@ public void testCompressorDecompressor() {
           .test();
 
     } catch (Exception ex) {
-      fail("testCompressorDecompressor error !!!" + ex);
+      GenericTestUtils.assertExceptionContains(
+          "testCompressorDecompressor error !!!", ex);
     }
   }
   
@@ -88,7 +90,8 @@ public void testCompressorDecompressorWithExeedBufferLimit() {
           .test();
 
     } catch (Exception ex) {
-      fail("testCompressorDecompressorWithExeedBufferLimit error !!!" + ex);
+      GenericTestUtils.assertExceptionContains(
+          "testCompressorDecompressorWithExeedBufferLimit error !!!", ex);
     }
   }
        
