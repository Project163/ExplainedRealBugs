diff --git a/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt b/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
index 67ad238db91..9332d51602a 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
+++ b/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
@@ -181,6 +181,8 @@ Release 0.23.1 - UNRELEASED
     trying to browse DFS via web UI. (harsh via eli)
 
     HDFS-2575. DFSTestUtil may create empty files (todd)
+
+    HDFS-2588. hdfs jsp pages missing DOCTYPE. (Dave Vronay via mattf)
     
 Release 0.23.0 - 2011-11-01 
 
diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/browseBlock.jsp b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/browseBlock.jsp
index 220da7d3748..9a16f23e56a 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/browseBlock.jsp
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/browseBlock.jsp
@@ -27,7 +27,7 @@
   //for java.io.Serializable
   private static final long serialVersionUID = 1L;
 %>
-
+<!DOCTYPE html>
 <html>
 <head>
 <%JspHelper.createTitle(out, request, request.getParameter("filename")); %>
diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/browseDirectory.jsp b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/browseDirectory.jsp
index dfa99f78c33..389986d225b 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/browseDirectory.jsp
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/browseDirectory.jsp
@@ -29,7 +29,7 @@
   //for java.io.Serializable
   private static final long serialVersionUID = 1L;
 %>
-
+<!DOCTYPE html>
 <html>
 <head>
 <style type=text/css>
diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/tail.jsp b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/tail.jsp
index 9f59ed076e2..5b22cfe85a2 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/tail.jsp
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/tail.jsp
@@ -27,6 +27,7 @@
   //for java.io.Serializable
   private static final long serialVersionUID = 1L;
 %>
+<!DOCTYPE html>
 <html>
 <head>
 <%JspHelper.createTitle(out, request, request.getParameter("filename")); %>
diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/corrupt_files.jsp b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/corrupt_files.jsp
index 519aa01819a..a5edcd3ed94 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/corrupt_files.jsp
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/corrupt_files.jsp
@@ -38,6 +38,7 @@
   int corruptFileCount = corruptFileBlocks.size();
 %>
 
+<!DOCTYPE html>
 <html>
 <link rel="stylesheet" type="text/css" href="/static/hadoop.css">
 <title>Hadoop <%=namenodeRole%> <%=namenodeLabel%></title>
diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfshealth.jsp b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfshealth.jsp
index d14808e5504..648200ce8a7 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfshealth.jsp
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfshealth.jsp
@@ -33,6 +33,7 @@
   String namenodeLabel = nn.getNameNodeAddress().getHostName() + ":" + nn.getNameNodeAddress().getPort();
 %>
 
+<!DOCTYPE html>
 <html>
 
 <link rel="stylesheet" type="text/css" href="/static/hadoop.css">
diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfsnodelist.jsp b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfsnodelist.jsp
index 9b4d0c32ea4..ed1c5ef5fc8 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfsnodelist.jsp
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/dfsnodelist.jsp
@@ -33,6 +33,7 @@ FSNamesystem fsn = nn.getNamesystem();
 String namenodeLabel = nn.getNameNodeAddress().getHostName() + ":" + nn.getNameNodeAddress().getPort();
 %>
 
+<!DOCTYPE html>
 <html>
 
 <link rel="stylesheet" type="text/css" href="/static/hadoop.css">
diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/nn_browsedfscontent.jsp b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/nn_browsedfscontent.jsp
index 026df54e628..4a75f6d44b5 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/nn_browsedfscontent.jsp
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/nn_browsedfscontent.jsp
@@ -27,6 +27,7 @@
   //for java.io.Serializable
   private static final long serialVersionUID = 1L;
 %>
+<!DOCTYPE html>
 <html>
 
 <title></title>
diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/secondary/status.jsp b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/secondary/status.jsp
index 9dab5288419..bb9667ba77d 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/secondary/status.jsp
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/secondary/status.jsp
@@ -27,6 +27,7 @@
   private static final long serialVersionUID = 1L;
 %>
 
+<!DOCTYPE html>
 <html>
 <link rel="stylesheet" type="text/css" href="/static/hadoop.css">
 <title>Hadoop SecondaryNameNode</title>
diff --git a/hadoop-mapreduce-project/CHANGES.txt b/hadoop-mapreduce-project/CHANGES.txt
index 1da533c24dd..7ac531ff0fa 100644
--- a/hadoop-mapreduce-project/CHANGES.txt
+++ b/hadoop-mapreduce-project/CHANGES.txt
@@ -173,6 +173,8 @@ Release 0.23.1 - Unreleased
     MAPREDUCE-3329. Fixed CapacityScheduler to ensure maximum-capacity cannot
     be lesser than capacity for any queue. (acmurthy)
 
+    MAPREDUCE-3464. mapreduce jsp pages missing DOCTYPE. (Dave Vronay via mattf)
+
 Release 0.23.0 - 2011-11-01 
 
   INCOMPATIBLE CHANGES
diff --git a/hadoop-mapreduce-project/src/webapps/job/analysejobhistory.jsp b/hadoop-mapreduce-project/src/webapps/job/analysejobhistory.jsp
index 88743f13859..33a5828e9a3 100644
--- a/hadoop-mapreduce-project/src/webapps/job/analysejobhistory.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/analysejobhistory.jsp
@@ -35,6 +35,7 @@
 %>
 <%!	private static final long serialVersionUID = 1L;
 %>
+<!DOCTYPE html>
 <html><body>
 <%
   String logFile = request.getParameter("logFile");
diff --git a/hadoop-mapreduce-project/src/webapps/job/job_authorization_error.jsp b/hadoop-mapreduce-project/src/webapps/job/job_authorization_error.jsp
index 18a7b6fbf65..9e163103114 100644
--- a/hadoop-mapreduce-project/src/webapps/job/job_authorization_error.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/job_authorization_error.jsp
@@ -28,6 +28,7 @@
 <%!	private static final long serialVersionUID = 1L;
 %>
 
+<!DOCTYPE html>
 <html>
 <head>
 <title>Error: User cannot access this Job</title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobblacklistedtrackers.jsp b/hadoop-mapreduce-project/src/webapps/job/jobblacklistedtrackers.jsp
index 47781b936c1..6b47ded6073 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobblacklistedtrackers.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobblacklistedtrackers.jsp
@@ -74,6 +74,7 @@
     }
 %>
 
+<!DOCTYPE html>
 <html>
 <title>Hadoop <%=jobId%>'s black-listed tasktrackers</title>
 <body>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobconf.jsp b/hadoop-mapreduce-project/src/webapps/job/jobconf.jsp
index 98545ec2b09..8c157006f4d 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobconf.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobconf.jsp
@@ -39,7 +39,7 @@
     return;
   }
 %>
-  
+<!DOCTYPE html>  
 <html>
 
 <title>Job Configuration: JobId - <%= jobId %></title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobconf_history.jsp b/hadoop-mapreduce-project/src/webapps/job/jobconf_history.jsp
index 94ebbcc6726..a7879961941 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobconf_history.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobconf_history.jsp
@@ -49,6 +49,7 @@
 
 %>
   
+<!DOCTYPE html>
 <html>
 
 <title>Job Configuration: JobId - <%= jobId %></title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobdetails.jsp b/hadoop-mapreduce-project/src/webapps/job/jobdetails.jsp
index 27c191a1330..f39e9e96978 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobdetails.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobdetails.jsp
@@ -267,6 +267,7 @@
 %>
 
 <%@page import="org.apache.hadoop.mapred.TaskGraphServlet"%>
+<!DOCTYPE html>
 <html>
 <head>
   <% 
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobdetailshistory.jsp b/hadoop-mapreduce-project/src/webapps/job/jobdetailshistory.jsp
index 2b0a014b3f5..232e71b3218 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobdetailshistory.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobdetailshistory.jsp
@@ -60,6 +60,7 @@
       reasonforFailure = job.getErrorInfo();
 %>
 
+<!DOCTYPE html>
 <html>
 <head>
 <title>Hadoop Job <%=jobid%> on History Viewer</title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobfailures.jsp b/hadoop-mapreduce-project/src/webapps/job/jobfailures.jsp
index 70b9c422870..57530999947 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobfailures.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobfailures.jsp
@@ -184,6 +184,7 @@
     String cause = request.getParameter("cause");
 %>
 
+<!DOCTYPE html>
 <html>
 <title>Hadoop <%=jobId%> failures on <%=trackerName%></title>
 <body>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobhistory.jsp b/hadoop-mapreduce-project/src/webapps/job/jobhistory.jsp
index 073211199ae..d9cc8e1bb53 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobhistory.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobhistory.jsp
@@ -44,6 +44,7 @@
   private static SimpleDateFormat dateFormat = 
                                     new SimpleDateFormat("d/MM HH:mm:ss");
 %>
+<!DOCTYPE html>
 <html>
 <head>
 <script type="text/JavaScript">
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobqueue_details.jsp b/hadoop-mapreduce-project/src/webapps/job/jobqueue_details.jsp
index 570fb9f2c99..d429e785200 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobqueue_details.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobqueue_details.jsp
@@ -35,6 +35,7 @@
   TaskScheduler scheduler = tracker.getTaskScheduler();
   JobQueueInfo schedInfo = tracker.getQueueInfo(queueName);
 %>
+<!DOCTYPE html>
 <html>
 <head>
 <title>Queue details for <%=queueName != null ? queueName : ""%> </title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobtasks.jsp b/hadoop-mapreduce-project/src/webapps/job/jobtasks.jsp
index 4b1742d5bbb..e9f574e0160 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobtasks.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobtasks.jsp
@@ -75,6 +75,7 @@
   }
 %>
 
+<!DOCTYPE html>
 <html>
   <head>
     <title>Hadoop <%=type%> task list for <%=jobid%> on <%=trackerName%></title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobtaskshistory.jsp b/hadoop-mapreduce-project/src/webapps/job/jobtaskshistory.jsp
index 01fa62cd57b..7a40fba7107 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobtaskshistory.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobtaskshistory.jsp
@@ -53,6 +53,7 @@
   }
   Map<TaskID, JobHistoryParser.TaskInfo> tasks = job.getAllTasks(); 
 %>
+<!DOCTYPE html>
 <html>
 <body>
 <h2><%=taskStatus%> <%=taskType %> task list for <a href="jobdetailshistory.jsp?logFile=<%=logFile%>"><%=job.getJobId() %> </a></h2>
diff --git a/hadoop-mapreduce-project/src/webapps/job/jobtracker.jsp b/hadoop-mapreduce-project/src/webapps/job/jobtracker.jsp
index d6d98d77127..2b7651813fb 100644
--- a/hadoop-mapreduce-project/src/webapps/job/jobtracker.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/jobtracker.jsp
@@ -100,6 +100,7 @@
   }%>
 
 
+<!DOCTYPE html>
 <html>
 <head>
 <title><%= trackerName %> Hadoop Map/Reduce Administration</title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/machines.jsp b/hadoop-mapreduce-project/src/webapps/job/machines.jsp
index 300c202bbdf..e58036a1ec2 100644
--- a/hadoop-mapreduce-project/src/webapps/job/machines.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/machines.jsp
@@ -165,6 +165,7 @@
   }
 %>
 
+<!DOCTYPE html>
 <html>
 
 <title><%=trackerName%> Hadoop Machine List</title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/queueinfo.jsp b/hadoop-mapreduce-project/src/webapps/job/queueinfo.jsp
index 0825fe9af56..ff4376d52fe 100644
--- a/hadoop-mapreduce-project/src/webapps/job/queueinfo.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/queueinfo.jsp
@@ -27,6 +27,7 @@ import="javax.servlet.http.*"
 import="java.io.*"
 import="java.util.*"
 %>
+<!DOCTYPE html>
 <html>
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
diff --git a/hadoop-mapreduce-project/src/webapps/job/queuetable.jsp b/hadoop-mapreduce-project/src/webapps/job/queuetable.jsp
index f83fc862c11..8924e7a8b05 100644
--- a/hadoop-mapreduce-project/src/webapps/job/queuetable.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/queuetable.jsp
@@ -32,6 +32,7 @@ private static final long serialVersionUID = 1L;
   import="org.apache.hadoop.util.*"
   import="org.apache.hadoop.util.ServletUtil"
 %>
+<!DOCTYPE html>
 <html>
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
diff --git a/hadoop-mapreduce-project/src/webapps/job/taskdetails.jsp b/hadoop-mapreduce-project/src/webapps/job/taskdetails.jsp
index ae1081a2531..dc557e47a37 100644
--- a/hadoop-mapreduce-project/src/webapps/job/taskdetails.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/taskdetails.jsp
@@ -174,6 +174,7 @@
 %>
 
 
+<!DOCTYPE html>
 <html>
 <head>
   <link rel="stylesheet" type="text/css" href="/static/hadoop.css">
diff --git a/hadoop-mapreduce-project/src/webapps/job/taskdetailshistory.jsp b/hadoop-mapreduce-project/src/webapps/job/taskdetailshistory.jsp
index 0dc185d0bab..bdacd8ad1f3 100644
--- a/hadoop-mapreduce-project/src/webapps/job/taskdetailshistory.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/taskdetailshistory.jsp
@@ -51,6 +51,7 @@
   JobHistoryParser.TaskInfo task = job.getAllTasks().get(TaskID.forName(tipid)); 
   TaskType type = task.getTaskType();
 %>
+<!DOCTYPE html>
 <html>
 <body>
 <h2><%=tipid %> attempts for <a href="jobdetailshistory.jsp?logFile=<%=logFile%>"> <%=job.getJobId() %> </a></h2>
diff --git a/hadoop-mapreduce-project/src/webapps/job/taskstats.jsp b/hadoop-mapreduce-project/src/webapps/job/taskstats.jsp
index ca86fb7ce34..e5bf0b72db3 100644
--- a/hadoop-mapreduce-project/src/webapps/job/taskstats.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/taskstats.jsp
@@ -81,6 +81,7 @@
   }
 %>
 
+<!DOCTYPE html>
 <html>
   <head>
     <title>Counters for <%=attemptid%></title>
diff --git a/hadoop-mapreduce-project/src/webapps/job/taskstatshistory.jsp b/hadoop-mapreduce-project/src/webapps/job/taskstatshistory.jsp
index 7b3b75f1ada..d4cad15f5ee 100644
--- a/hadoop-mapreduce-project/src/webapps/job/taskstatshistory.jsp
+++ b/hadoop-mapreduce-project/src/webapps/job/taskstatshistory.jsp
@@ -66,6 +66,7 @@
   Counters counters = attempt.getCounters();
 %>
 
+<!DOCTYPE html>
 <html>
   <head>
     <title>Counters for <%=attemptid%></title>
diff --git a/hadoop-mapreduce-project/src/webapps/task/tasktracker.jsp b/hadoop-mapreduce-project/src/webapps/task/tasktracker.jsp
index de32793ab89..5cc04f7fecd 100644
--- a/hadoop-mapreduce-project/src/webapps/task/tasktracker.jsp
+++ b/hadoop-mapreduce-project/src/webapps/task/tasktracker.jsp
@@ -35,6 +35,7 @@
   String trackerName = tracker.getName();
 %>
 
+<!DOCTYPE html>
 <html>
 
 <title><%= trackerName %> Task Tracker Status</title>
