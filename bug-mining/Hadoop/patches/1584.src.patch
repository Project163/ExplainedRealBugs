diff --git a/dev-support/test-patch.sh b/dev-support/test-patch.sh
index a3ce5677c72..11fd9a97198 100755
--- a/dev-support/test-patch.sh
+++ b/dev-support/test-patch.sh
@@ -1446,6 +1446,14 @@ function check_reexec
   fi
 
   big_console_header "dev-support patch detected"
+
+  if [[ ${RESETREPO} == false ]]; then
+    ((RESULT = RESULT + 1))
+    hadoop_debug "can't destructively change the working directory. run with '--resetrepo' please. :("
+    add_jira_table -1 dev-support "Couldn't test dev-support changes because we aren't configured to destructively change the working directory."
+    return
+  fi
+
   printf "\n\nRe-executing against patched versions to test.\n\n"
 
   apply_patch_file
diff --git a/hadoop-common-project/hadoop-common/CHANGES.txt b/hadoop-common-project/hadoop-common/CHANGES.txt
index 929ada12719..f237b85feff 100644
--- a/hadoop-common-project/hadoop-common/CHANGES.txt
+++ b/hadoop-common-project/hadoop-common/CHANGES.txt
@@ -656,6 +656,9 @@ Release 2.8.0 - UNRELEASED
     HADOOP-11928. Test-patch check for @author tags incorrectly flags
     removal of @author tags (Kengo Seki via aw)
 
+    HADOOP-11951. test-patch should give better info about failures to handle
+    dev-support updates without resetrepo option (Sean Busbey via aw)
+
 Release 2.7.1 - UNRELEASED
 
   INCOMPATIBLE CHANGES
