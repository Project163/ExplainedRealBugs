diff --git a/hadoop-common-project/hadoop-common/CHANGES.txt b/hadoop-common-project/hadoop-common/CHANGES.txt
index 806fb1f4a47..17c8918df8c 100644
--- a/hadoop-common-project/hadoop-common/CHANGES.txt
+++ b/hadoop-common-project/hadoop-common/CHANGES.txt
@@ -917,6 +917,9 @@ Release 2.7.0 - UNRELEASED
     HADOOP-10953. NetworkTopology#add calls NetworkTopology#toString without
     holding the netlock (Liang Xie via Colin P. McCabe)
 
+    HADOOP-11587. TestMapFile#testMainMethodMapFile creates test files in
+    hadoop-common project root. (Xiaoyu Yao via wheat9)
+
 Release 2.6.1 - UNRELEASED
 
   INCOMPATIBLE CHANGES
diff --git a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestMapFile.java b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestMapFile.java
index 34aabb1656f..ced74fbe008 100644
--- a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestMapFile.java
+++ b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestMapFile.java
@@ -602,10 +602,9 @@ public void testDescOrderWithThrowExceptionWriterAppend() {
 
   @Test
   public void testMainMethodMapFile() {
-    String path = new Path(TEST_DIR, "mainMethodMapFile.mapfile").toString();
     String inFile = "mainMethodMapFile.mapfile";
-    String outFile = "mainMethodMapFile.mapfile";
-    String[] args = { path, outFile };
+    String path = new Path(TEST_DIR, inFile).toString();
+    String[] args = { path, path };
     MapFile.Writer writer = null;
     try {
       writer = createWriter(inFile, IntWritable.class, Text.class);
