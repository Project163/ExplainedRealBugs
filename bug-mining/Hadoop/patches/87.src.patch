diff --git a/CHANGES.txt b/CHANGES.txt
index c66d5948353..c7e38a2f25f 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -186,6 +186,9 @@ Trunk (unreleased changes)
 
     HADOOP-6522. Fix decoding of codepoint zero in UTF8. (cutting)
 
+    HADOOP-6505. Use tr rather than sed to effect literal substitution in the
+    build script. (Allen Wittenauer via cdouglas)
+
 Release 0.21.0 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/build.xml b/build.xml
index a6d7d83be96..5e35d193019 100644
--- a/build.xml
+++ b/build.xml
@@ -50,9 +50,10 @@
   <property name="build.webapps" value="${build.dir}/webapps"/>
 
   <!-- convert spaces to _ so that mac os doesn't break things -->
-  <exec executable="sed" inputstring="${os.name}" 
+  <exec executable="tr" inputstring="${os.name}" 
         outputproperty="nonspace.os">
-     <arg value="s/ /_/g"/>
+     <arg value="[:space:]"/>
+     <arg value="_"/>
   </exec>
   <property name="build.platform" 
             value="${nonspace.os}-${os.arch}-${sun.arch.data.model}"/>
