diff --git a/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java b/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java
index d6eca69d95b..a451369e956 100644
--- a/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java
+++ b/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java
@@ -817,6 +817,9 @@ protected void run() throws IOException {
       return;
     }
     exitCode = 0; // reset for next run
+    if (Shell.MAC) {
+      System.setProperty("jdk.lang.Process.launchMechanism", "POSIX_SPAWN");
+    }
     runCommand();
   }
 
