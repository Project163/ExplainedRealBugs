diff --git a/dev-support/smart-apply-patch.sh b/dev-support/smart-apply-patch.sh
index 588f4f9a34f..49f083c7f7c 100755
--- a/dev-support/smart-apply-patch.sh
+++ b/dev-support/smart-apply-patch.sh
@@ -50,7 +50,12 @@ if $PATCH -p0 -E --dry-run < $PATCH_FILE 2>&1 > $TMP; then
   TMP2=/tmp/tmp.paths.2.$$
   TOCLEAN="$TOCLEAN $TMP2"
 
-  grep '^patching file ' $TMP | awk '{print $3}' | grep -v /dev/null | sort | uniq > $TMP2
+  egrep '^patching file |^checking file ' $TMP | awk '{print $3}' | grep -v /dev/null | sort | uniq > $TMP2
+
+  if [ ! -s $TMP2 ]; then
+    echo "Error: Patch dryrun couldn't detect changes the patch would make. Exiting."
+    cleanup 1
+  fi
 
   #first off check that all of the files do not exist
   FOUND_ANY=0
diff --git a/hadoop-common-project/hadoop-common/CHANGES.txt b/hadoop-common-project/hadoop-common/CHANGES.txt
index 64739fbc657..e9bc7ad5ed8 100644
--- a/hadoop-common-project/hadoop-common/CHANGES.txt
+++ b/hadoop-common-project/hadoop-common/CHANGES.txt
@@ -1777,6 +1777,9 @@ Release 0.23.8 - UNRELEASED
     HADOOP-9504. MetricsDynamicMBeanBase has concurrency issues in
     createMBeanInfo (Liang Xie via jlowe)
 
+    HADOOP-9614. smart-test-patch.sh hangs for new version of patch (2.7.1)
+    (Ravi Prakash via jeagles)
+
 Release 0.23.7 - UNRELEASED
 
   INCOMPATIBLE CHANGES
