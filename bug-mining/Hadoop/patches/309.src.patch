diff --git a/CHANGES.txt b/CHANGES.txt
index 48d6175f74c..d4aa7f38590 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -283,6 +283,9 @@ Trunk (unreleased changes)
     HADOOP-7353. Cleanup FsShell and prevent masking of RTE stack traces.
     (Daryn Sharp via todd)
 
+    HADOOP-7356. RPM packages broke bin/hadoop script in developer environment.
+    (Eric Yang via todd)
+
 Release 0.22.0 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/bin/hadoop b/bin/hadoop
index e1eaedc6868..a7ed92c4176 100755
--- a/bin/hadoop
+++ b/bin/hadoop
@@ -21,7 +21,11 @@ bin=`which $0`
 bin=`dirname ${bin}`
 bin=`cd "$bin"; pwd`
  
-. "$bin"/../libexec/hadoop-config.sh
+if [ -e "$bin/../libexec/hadoop-config.sh" ]; then
+  . "$bin"/../libexec/hadoop-config.sh
+else
+  . "$bin"/hadoop-config.sh
+fi
 
 function print_usage(){
   echo "Usage: hadoop [--config confdir] COMMAND"
diff --git a/bin/hadoop-daemon.sh b/bin/hadoop-daemon.sh
index fad1926b4b3..47f82c4e98c 100755
--- a/bin/hadoop-daemon.sh
+++ b/bin/hadoop-daemon.sh
@@ -39,7 +39,11 @@ fi
 bin=`dirname "${BASH_SOURCE-$0}"`
 bin=`cd "$bin"; pwd`
 
-. "$bin"/../libexec/hadoop-config.sh
+if [ -e "$bin/../libexec/hadoop-config.sh" ]; then
+  . "$bin"/../libexec/hadoop-config.sh
+else
+  . "$bin"/hadoop-config.sh
+fi
 
 # get arguments
 
diff --git a/bin/hadoop-daemons.sh b/bin/hadoop-daemons.sh
index fd580649a82..e61ad0cca91 100755
--- a/bin/hadoop-daemons.sh
+++ b/bin/hadoop-daemons.sh
@@ -29,6 +29,10 @@ fi
 bin=`dirname "${BASH_SOURCE-$0}"`
 bin=`cd "$bin"; pwd`
 
-. $bin/../libexec/hadoop-config.sh
+if [ -e "$bin/../libexec/hadoop-config.sh" ]; then
+  . "$bin"/../libexec/hadoop-config.sh
+else
+  . "$bin"/hadoop-config.sh
+fi
 
 exec "$bin/slaves.sh" --config $HADOOP_CONF_DIR cd "$HADOOP_PREFIX" \; "$bin/hadoop-daemon.sh" --config $HADOOP_CONF_DIR "$@"
diff --git a/bin/slaves.sh b/bin/slaves.sh
index 153f4416f7d..f31b08a5d14 100755
--- a/bin/slaves.sh
+++ b/bin/slaves.sh
@@ -38,7 +38,11 @@ fi
 bin=`dirname "${BASH_SOURCE-$0}"`
 bin=`cd "$bin"; pwd`
 
-. "$bin"/../libexec/hadoop-config.sh
+if [ -e "$bin/../libexec/hadoop-config.sh" ]; then
+  . "$bin"/../libexec/hadoop-config.sh
+else
+  . "$bin"/hadoop-config.sh
+fi
 
 if [ -f "${HADOOP_CONF_DIR}/hadoop-env.sh" ]; then
   . "${HADOOP_CONF_DIR}/hadoop-env.sh"
diff --git a/bin/start-all.sh b/bin/start-all.sh
index 646c9b78020..666cb1b8fd1 100755
--- a/bin/start-all.sh
+++ b/bin/start-all.sh
@@ -23,7 +23,11 @@ echo "This script is Deprecated. Instead use start-dfs.sh and start-mapred.sh"
 bin=`dirname "${BASH_SOURCE-$0}"`
 bin=`cd "$bin"; pwd`
 
-. "$bin"/../libexec/hadoop-config.sh
+if [ -e "$bin/../libexec/hadoop-config.sh" ]; then
+  . "$bin"/../libexec/hadoop-config.sh
+else
+  . "$bin"/hadoop-config.sh
+fi
 
 # start hdfs daemons if hdfs is present
 if [ -f "${HADOOP_HDFS_HOME}"/bin/start-dfs.sh ]; then
diff --git a/bin/stop-all.sh b/bin/stop-all.sh
index 9adb5a4e031..37b07f4d7f7 100755
--- a/bin/stop-all.sh
+++ b/bin/stop-all.sh
@@ -23,7 +23,11 @@ echo "This script is Deprecated. Instead use stop-dfs.sh and stop-mapred.sh"
 bin=`dirname "${BASH_SOURCE-$0}"`
 bin=`cd "$bin"; pwd`
 
-. "$bin"/../libexec/hadoop-config.sh
+if [ -e "$bin/../libexec/hadoop-config.sh" ]; then
+  . "$bin"/../libexec/hadoop-config.sh
+else
+  . "$bin"/hadoop-config.sh
+fi
 
 # stop hdfs daemons if hdfs is present
 if [ -f "${HADOOP_HDFS_HOME}"/bin/stop-dfs.sh ]; then
