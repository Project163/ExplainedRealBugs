diff --git a/hadoop-common-project/hadoop-annotations/src/main/java/org/apache/hadoop/classification/tools/ExcludePrivateAnnotationsStandardDoclet.java b/hadoop-common-project/hadoop-annotations/src/main/java/org/apache/hadoop/classification/tools/ExcludePrivateAnnotationsStandardDoclet.java
index 2176ea55d6f..5c535c8e9e3 100644
--- a/hadoop-common-project/hadoop-annotations/src/main/java/org/apache/hadoop/classification/tools/ExcludePrivateAnnotationsStandardDoclet.java
+++ b/hadoop-common-project/hadoop-annotations/src/main/java/org/apache/hadoop/classification/tools/ExcludePrivateAnnotationsStandardDoclet.java
@@ -38,7 +38,11 @@ public static LanguageVersion languageVersion() {
   public static boolean start(RootDoc root) {
     System.out.println(
         ExcludePrivateAnnotationsStandardDoclet.class.getSimpleName());
-    return Standard.start(RootDocProcessor.process(root));
+    RootDoc excludedDoc = RootDocProcessor.process(root);
+    if (excludedDoc.specifiedPackages().length == 0) {
+      return true;
+    }
+    return Standard.start(excludedDoc);
   }
   
   public static int optionLength(String option) {
