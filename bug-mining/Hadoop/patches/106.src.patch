diff --git a/CHANGES.txt b/CHANGES.txt
index 155a3a0e182..e761d82c746 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -303,6 +303,9 @@ Trunk (unreleased changes)
     HADOOP-6645. Re: Bugs on listStatus for HarFileSystem (rodrigo via
     mahadev)
 
+    HADOOP-6654. Fix code example in WritableComparable javadoc.  (Tom White
+    via szetszwo)
+
 Release 0.21.0 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/src/java/org/apache/hadoop/io/WritableComparable.java b/src/java/org/apache/hadoop/io/WritableComparable.java
index b8aaf731cc5..8e31dafdfcd 100644
--- a/src/java/org/apache/hadoop/io/WritableComparable.java
+++ b/src/java/org/apache/hadoop/io/WritableComparable.java
@@ -28,7 +28,9 @@
  *  
  * <p>Example:</p>
  * <p><blockquote><pre>
- *     public class MyWritableComparable implements WritableComparable {
+ *     public class MyWritableComparable implements
+ *         WritableComparable&lt;MyWritableComparable&gt; {
+ *
  *       // Some data
  *       private int counter;
  *       private long timestamp;
@@ -43,10 +45,10 @@
  *         timestamp = in.readLong();
  *       }
  *       
- *       public int compareTo(MyWritableComparable w) {
- *         int thisValue = this.value;
- *         int thatValue = ((IntWritable)o).value;
- *         return (thisValue &lt; thatValue ? -1 : (thisValue==thatValue ? 0 : 1));
+ *       public int compareTo(MyWritableComparable other) {
+ *         int thisValue = this.counter;
+ *         int thatValue = other.counter;
+ *         return (thisValue &lt; thatValue ? -1 : (thisValue == thatValue ? 0 : 1));
  *       }
  *     }
  * </pre></blockquote></p>
