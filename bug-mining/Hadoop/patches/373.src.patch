diff --git a/hadoop-common-project/hadoop-common/CHANGES.txt b/hadoop-common-project/hadoop-common/CHANGES.txt
index d251f94267c..f8d6f9c1cfa 100644
--- a/hadoop-common-project/hadoop-common/CHANGES.txt
+++ b/hadoop-common-project/hadoop-common/CHANGES.txt
@@ -636,6 +636,8 @@ Release 0.23.0 - Unreleased
     HADOOP-7662. Fixed logs servlet to use the pathspec '/*' instead of '/'
     for correct filtering. (Thomas Graves via vinodkv)
 
+    HADOOP-7691. Fixed conflict uid for install packages. (Eric Yang)
+
 Release 0.22.0 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/hadoop-common-project/hadoop-common/src/main/packages/deb/hadoop.control/preinst b/hadoop-common-project/hadoop-common/src/main/packages/deb/hadoop.control/preinst
index 23a33fc9c35..cde980fe3fb 100644
--- a/hadoop-common-project/hadoop-common/src/main/packages/deb/hadoop.control/preinst
+++ b/hadoop-common-project/hadoop-common/src/main/packages/deb/hadoop.control/preinst
@@ -15,4 +15,4 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-getent group hadoop 2>/dev/null >/dev/null || /usr/sbin/groupadd -r hadoop
+getent group hadoop 2>/dev/null >/dev/null || /usr/sbin/groupadd -g 123 -r hadoop
diff --git a/hadoop-common-project/hadoop-common/src/main/packages/rpm/spec/hadoop.spec b/hadoop-common-project/hadoop-common/src/main/packages/rpm/spec/hadoop.spec
index 71c6d27de79..bfff1612d81 100644
--- a/hadoop-common-project/hadoop-common/src/main/packages/rpm/spec/hadoop.spec
+++ b/hadoop-common-project/hadoop-common/src/main/packages/rpm/spec/hadoop.spec
@@ -132,7 +132,7 @@ mv ${RPM_BUILD_DIR}/%{_final_name}/share/* ${RPM_BUILD_DIR}%{_share_dir}
 rm -rf ${RPM_BUILD_DIR}/%{_final_name}/etc
 
 %pre
-getent group hadoop 2>/dev/null >/dev/null || /usr/sbin/groupadd -r hadoop
+getent group hadoop 2>/dev/null >/dev/null || /usr/sbin/groupadd -g 123 -r hadoop
 
 %post
 bash ${RPM_INSTALL_PREFIX0}/sbin/update-hadoop-env.sh \
