diff --git a/CHANGES.txt b/CHANGES.txt
index a6a917cc700..c46d96c3c60 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -894,6 +894,9 @@ Trunk (unreleased changes)
     HADOOP-6132. RPC client create an extra connection because of incorrect
     key for connection cache. (Kan Zhang via rangadi)
 
+    HADOOP-6123. Add missing classpaths in hadoop-config.sh.  (Sharad Agarwal
+    via szetszwo)
+
 Release 0.20.1 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/bin/hadoop-config.sh b/bin/hadoop-config.sh
index 74f7d3cd5b5..0b12a84f140 100644
--- a/bin/hadoop-config.sh
+++ b/bin/hadoop-config.sh
@@ -135,6 +135,18 @@ for f in $HADOOP_CORE_HOME/lib/*.jar; do
   CLASSPATH=${CLASSPATH}:$f;
 done
 
+if [ -d "$HADOOP_CORE_HOME/build/ivy/lib/Hadoop-Core/common" ]; then
+for f in $HADOOP_CORE_HOME/build/ivy/lib/Hadoop-Core/common/*.jar; do
+  CLASSPATH=${CLASSPATH}:$f;
+done
+fi
+
+if [ -d "$HADOOP_CORE_HOME/build/ivy/lib/Hadoop-Hdfs/common" ]; then
+for f in $HADOOP_CORE_HOME/build/ivy/lib/Hadoop-Hdfs/common/*.jar; do
+  CLASSPATH=${CLASSPATH}:$f;
+done
+fi
+
 if [ -d "$HADOOP_CORE_HOME/build/ivy/lib/Hadoop/common" ]; then
 for f in $HADOOP_CORE_HOME/build/ivy/lib/Hadoop/common/*.jar; do
   CLASSPATH=${CLASSPATH}:$f;
