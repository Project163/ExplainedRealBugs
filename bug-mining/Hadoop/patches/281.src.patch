diff --git a/CHANGES.txt b/CHANGES.txt
index f562160bff6..1de726025d1 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -174,6 +174,8 @@ Trunk (unreleased changes)
 
     HADOOP-7231. Fix synopsis for -count. (Daryn Sharp via eli).
 
+    HADOOP-7261. Disable IPV6 for junit tests. (suresh)
+
 Release 0.22.0 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/build.xml b/build.xml
index 5c3c45dfe59..43445ffa94e 100644
--- a/build.xml
+++ b/build.xml
@@ -742,6 +742,7 @@
              errorProperty="tests.failed"
              failureProperty="tests.failed">
         <jvmarg value="-ea" />
+        <sysproperty key="java.net.preferIPv4Stack" value="true"/>
         <sysproperty key="test.build.data" value="${test.build.data}" />
         <sysproperty key="test.cache.data" value="${test.cache.data}" />
         <sysproperty key="test.debug.data" value="${test.debug.data}" />
diff --git a/src/contrib/build-contrib.xml b/src/contrib/build-contrib.xml
index 46ad2d020d2..2266f60edc2 100644
--- a/src/contrib/build-contrib.xml
+++ b/src/contrib/build-contrib.xml
@@ -232,7 +232,7 @@
         classpath to use build/contrib/*.jar
       -->
       <sysproperty key="user.dir" value="${build.test}/data"/>
-      
+      <sysproperty key="java.net.preferIPv4Stack" value="true"/>
       <sysproperty key="fs.default.name" value="${fs.default.name}"/>
       <sysproperty key="hadoop.test.localoutputfile" value="${hadoop.test.localoutputfile}"/>
       <sysproperty key="hadoop.log.dir" value="${hadoop.log.dir}"/> 
