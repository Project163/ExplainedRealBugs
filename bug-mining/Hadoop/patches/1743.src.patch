diff --git a/hadoop-common-project/hadoop-common/CHANGES.txt b/hadoop-common-project/hadoop-common/CHANGES.txt
index 174146d2166..5fce6dddecb 100644
--- a/hadoop-common-project/hadoop-common/CHANGES.txt
+++ b/hadoop-common-project/hadoop-common/CHANGES.txt
@@ -1331,6 +1331,9 @@ Release 2.8.0 - UNRELEASED
 
     HADOOP-12482. Race condition in JMX cache update. (Tony Wu via lei)
 
+    HADOOP-12560: Fix sprintf warnings in {{DomainSocket.c}} introduced by
+    HADOOP-12344 (Mingliang Liu via Colin P. McCabe)
+
   OPTIMIZATIONS
 
     HADOOP-12051. ProtobufRpcEngine.invoke() should use Exception.toString()
diff --git a/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/net/unix/DomainSocket.c b/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/net/unix/DomainSocket.c
index c653a273563..221782dd768 100644
--- a/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/net/unix/DomainSocket.c
+++ b/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/net/unix/DomainSocket.c
@@ -341,37 +341,37 @@ JNIEnv *env, jclass clazz, jobject jstr, jint skipComponents)
     mode = st.st_mode & 0777;
     if (mode & 0002) {
       jthr = newIOException(env, "The path component: '%s' in '%s' has "
-         "permissions 0%03o uid %ld and gid %ld. "
+         "permissions 0%03o uid %"PRId64" and gid %"PRId64". "
          "It is not protected because it "
          "is world-writable. This might help: 'chmod o-w %s'. "
          "For more information: "
          "https://wiki.apache.org/hadoop/SocketPathSecurity",
-         check, path, mode, (long long)st.st_uid, (long long)st.st_gid, check);
+         check, path, mode, (int64_t)st.st_uid, (int64_t)st.st_gid, check);
       goto done;
     }
     if ((mode & 0020) && (st.st_gid != 0)) {
       jthr = newIOException(env, "The path component: '%s' in '%s' has "
-         "permissions 0%03o uid %ld and gid %ld. "
+         "permissions 0%03o uid %"PRId64" and gid %"PRId64". "
          "It is not protected because it "
          "is group-writable and not owned by root. "
          "This might help: 'chmod g-w %s' or 'chown root %s'. "
          "For more information: "
          "https://wiki.apache.org/hadoop/SocketPathSecurity",
-         check, path, mode, (long long)st.st_uid, (long long)st.st_gid,
+         check, path, mode, (int64_t)st.st_uid, (int64_t)st.st_gid,
          check, check);
       goto done;
     }
     if ((mode & 0200) && (st.st_uid != 0) && (st.st_uid != uid)) {
       jthr = newIOException(env, "The path component: '%s' in '%s' has "
-         "permissions 0%03o uid %ld and gid %ld. "
+         "permissions 0%03o uid %"PRId64" and gid %"PRId64". "
          "It is not protected because it "
          "is owned by a user who is not root "
-         "and not the effective user: '%ld'. "
-         "This might help: 'chown root %s' or 'chown %ld %s'. "
+         "and not the effective user: '%"PRId64"'. "
+         "This might help: 'chown root %s' or 'chown %"PRId64" %s'. "
          "For more information: "
          "https://wiki.apache.org/hadoop/SocketPathSecurity",
-         check, path, mode, (long long)st.st_uid, (long long)st.st_gid,
-         (long long)uid, check, (long long)uid, check);
+         check, path, mode, (int64_t)st.st_uid, (int64_t)st.st_gid,
+         (int64_t)uid, check, (int64_t)uid, check);
       goto done;
     }
   }
