<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:34:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-7097] java.library.path missing basedir</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-7097</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;My Hadoop installation is  having trouble loading the native code library. It appears from the log below that java.library.path is missing the basedir in its path. The libraries are built, and present in the directory shown below (relative to hadoop-common directory). Instead of seeing:&lt;/p&gt;

&lt;p&gt; /build/native/Linux-amd64-64/lib&lt;/p&gt;

&lt;p&gt;I would expect to see:&lt;/p&gt;

&lt;p&gt; /path/to/hadoop-common/build/native/Linux-amd64-64/lib&lt;/p&gt;

&lt;p&gt;I&apos;m working in branch-0.22.&lt;/p&gt;

&lt;p&gt;2011-01-10 17:09:27,695 DEBUG org.apache.hadoop.util.NativeCodeLoader: Failed to load native-hadoop with error: java.lang.UnsatisfiedLinkError: no hadoop in java.library.path&lt;br/&gt;
2011-01-10 17:09:27,695 DEBUG org.apache.hadoop.util.NativeCodeLoader: java.library.path=/build/native/Linux-amd64-64/lib&lt;br/&gt;
2011-01-10 17:09:27,695 WARN org.apache.hadoop.util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 10.10&lt;/p&gt;</environment>
        <key id="12495211">HADOOP-7097</key>
            <summary>java.library.path missing basedir</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nwatkins">Noah Watkins</assignee>
                                    <reporter username="nwatkins">Noah Watkins</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jan 2011 05:54:52 +0000</created>
                <updated>Mon, 12 Dec 2011 06:19:55 +0000</updated>
                            <resolved>Wed, 12 Jan 2011 07:23:29 +0000</resolved>
                                    <version>0.22.0</version>
                                    <fixVersion>0.22.0</fixVersion>
                                    <component>build</component>
                    <component>native</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12980407" author="aw" created="Tue, 11 Jan 2011 23:03:19 +0000"  >&lt;p&gt;Are you actually running it out of the build directory?  If so, that&apos;s the problem.&lt;/p&gt;</comment>
                            <comment id="12980414" author="nwatkins" created="Tue, 11 Jan 2011 23:08:48 +0000"  >&lt;p&gt;Yes, I&apos;m running Hadoop from outside the source tree. However, in 0.21 and in trunk this issue doesn&apos;t seem to exist.&lt;/p&gt;



</comment>
                            <comment id="12980573" author="nwatkins" created="Wed, 12 Jan 2011 06:01:32 +0000"  >&lt;p&gt;I tracked down the problem in the trunk. It comes down to an old usage of HADOOP_CORE_HOME vs HADOOP_COMMON_HOME. That seems to fix it, and HADOOP_CORE_HOME isn&apos;t returned by any grep, so, is it special?&lt;/p&gt;


&lt;p&gt;diff --git a/bin/hadoop-config.sh b/bin/hadoop-config.sh&lt;br/&gt;
index ee7b55c..4da14f8 100644&lt;br/&gt;
&amp;#8212; a/bin/hadoop-config.sh&lt;br/&gt;
+++ b/bin/hadoop-config.sh&lt;br/&gt;
@@ -192,9 +192,9 @@ if [ -d &quot;${HADOOP_COMMON_HOME}/build/native&quot; -o -d &quot;${HADOOP_COMMON_HOME}/lib/na&lt;/p&gt;

&lt;p&gt;   if [ -d &quot;$HADOOP_COMMON_HOME/build/native&quot; ]; then&lt;br/&gt;
     if [ &quot;x$JAVA_LIBRARY_PATH&quot; != &quot;x&quot; ]; then&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JAVA_LIBRARY_PATH=${JAVA_LIBRARY_PATH}:${HADOOP_CORE_HOME}/build/native/${JAVA_PLATFORM}/lib&lt;br/&gt;
+        JAVA_LIBRARY_PATH=${JAVA_LIBRARY_PATH}:${HADOOP_COMMON_HOME}/build/native/${JAVA_PLATFORM}/lib&lt;br/&gt;
     else&lt;/li&gt;
	&lt;li&gt;JAVA_LIBRARY_PATH=${HADOOP_CORE_HOME}/build/native/${JAVA_PLATFORM}/lib&lt;br/&gt;
+        JAVA_LIBRARY_PATH=${HADOOP_COMMON_HOME}/build/native/${JAVA_PLATFORM}/lib&lt;br/&gt;
     fi&lt;br/&gt;
   fi&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12980578" author="tlipcon" created="Wed, 12 Jan 2011 06:19:45 +0000"  >&lt;p&gt;Would you mind uploading this as a patch attachment? JIRA screwed up the formatting a bit.&lt;/p&gt;</comment>
                            <comment id="12980582" author="nwatkins" created="Wed, 12 Jan 2011 06:26:35 +0000"  >&lt;p&gt;This seems to have fixed the problem I was seeing in the trunk.&lt;/p&gt;</comment>
                            <comment id="12980591" author="hadoopqa" created="Wed, 12 Jan 2011 06:43:04 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12468111/HADOOP-7097.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12468111/HADOOP-7097.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1057970.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;    +1 system test framework.  The patch passed system test framework compile.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/176//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/176//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/176//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/176//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/176//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/176//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12980601" author="tlipcon" created="Wed, 12 Jan 2011 07:18:38 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12980605" author="tlipcon" created="Wed, 12 Jan 2011 07:23:29 +0000"  >&lt;p&gt;Committed to 0.22 and trunk. Thanks Noah!&lt;/p&gt;</comment>
                            <comment id="12980634" author="hudson" created="Wed, 12 Jan 2011 09:44:19 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-22-branch #13 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hadoop-Common-22-branch/13/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Hadoop-Common-22-branch/13/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7097&quot; title=&quot;java.library.path missing basedir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7097&quot;&gt;&lt;del&gt;HADOOP-7097&lt;/del&gt;&lt;/a&gt;. JAVA_LIBRARY_PATH missing base directory. Contributed by Noah Watkins.&lt;/p&gt;</comment>
                            <comment id="12980662" author="hudson" created="Wed, 12 Jan 2011 11:14:03 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #574 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk/574/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk/574/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7097&quot; title=&quot;java.library.path missing basedir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7097&quot;&gt;&lt;del&gt;HADOOP-7097&lt;/del&gt;&lt;/a&gt;. JAVA_LIBRARY_PATH missing base directory. Contributed by Noah Watkins.&lt;/p&gt;</comment>
                            <comment id="12983564" author="hudson" created="Wed, 19 Jan 2011 07:13:24 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #479 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/479/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/479/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468111" name="HADOOP-7097.patch" size="737" author="nwatkins" created="Wed, 12 Jan 2011 06:26:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09klz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>53772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>