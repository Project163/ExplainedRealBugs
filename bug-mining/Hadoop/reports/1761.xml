<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:49:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-12294] Throw an Exception when fs.permissions.umask-mode is misconfigured </title>
                <link>https://issues.apache.org/jira/browse/HADOOP-12294</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;provide better visibility of parsing configuration failure by logging full error message and propagate error message of parsing configuration back to client&lt;/p&gt;</description>
                <environment></environment>
        <key id="12850683">HADOOP-12294</key>
            <summary>Throw an Exception when fs.permissions.umask-mode is misconfigured </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lichangleo">Chang Li</assignee>
                                    <reporter username="lichangleo">Chang Li</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Jul 2015 19:13:18 +0000</created>
                <updated>Wed, 2 Oct 2019 17:14:13 +0000</updated>
                            <resolved>Mon, 23 Nov 2015 00:48:34 +0000</resolved>
                                                    <fixVersion>3.0.0-alpha1</fixVersion>
                                    <component>conf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14649713" author="zxu" created="Fri, 31 Jul 2015 19:40:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lichangleo&quot; class=&quot;user-hover&quot; rel=&quot;lichangleo&quot;&gt;lichangleo&lt;/a&gt;, thanks for working on the issue. It looks like your patch will have regression, which change the current code functionality at &lt;tt&gt;FsPermission#getUMask&lt;/tt&gt;. The current code only throws IllegalArgumentException when oldUmask is equal to Integer.MIN_VALUE.&lt;br/&gt;
The reason is if oldUmask is not equal to Integer.MIN_VALUE(default value), it will use the oldUmask to create FsPermission.&lt;br/&gt;
You patch removed the check, which means: it will throw IllegalArgumentException instead of creating FsPermission with oldUmask when oldUmask is not equal to Integer.MIN_VALUE.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; umask = DEFAULT_UMASK;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(oldUmask != &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MIN_VALUE) { &lt;span class=&quot;code-comment&quot;&gt;// Property was set with old key
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (umask != oldUmask) {
          LOG.warn(DEPRECATED_UMASK_LABEL
              + &lt;span class=&quot;code-quote&quot;&gt;&quot; configuration key is deprecated. &quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;Convert to &quot;&lt;/span&gt;
              + UMASK_LABEL + &lt;span class=&quot;code-quote&quot;&gt;&quot;, using octal or symbolic umask &quot;&lt;/span&gt;
              + &lt;span class=&quot;code-quote&quot;&gt;&quot;specifications.&quot;&lt;/span&gt;);
          &lt;span class=&quot;code-comment&quot;&gt;// Old and &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; umask values &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not match - Use old umask
&lt;/span&gt;          umask = oldUmask;
        }
      }
    }    
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FsPermission((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;)umask);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14649917" author="lichangleo" created="Fri, 31 Jul 2015 22:12:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zxu&quot; class=&quot;user-hover&quot; rel=&quot;zxu&quot;&gt;zxu&lt;/a&gt;, thanks for comment. You are write, this change technically breaks backwards compatibility if someone was relying on a misconfigured conf. But the question is whether that&apos;s supposed to be a valid case in the first place. I remove the change in cluster.java since that&apos;s a separate issue. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlowe&quot; class=&quot;user-hover&quot; rel=&quot;jlowe&quot;&gt;jlowe&lt;/a&gt; could comment on this issue?&lt;/p&gt;</comment>
                            <comment id="14649927" author="hadoopqa" created="Fri, 31 Jul 2015 22:18:46 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; pre-patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  17m 54s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Pre-patch trunk compilation is healthy. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; @author &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not contain any @author tags. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; tests included &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch doesn&apos;t appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javac &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   7m 45s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new javac warning messages. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javadoc &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   9m 52s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new javadoc warning messages. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; release audit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 20s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The applied patch does not increase the total number of release audit warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; checkstyle &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 54s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new checkstyle issues. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; whitespace &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch has no lines that end in whitespace. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; install &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 18s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; mvn install still works. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; eclipse:eclipse &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 32s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch built with eclipse:eclipse. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; findbugs &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   3m 12s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not introduce any new Findbugs (version 3.0.0) warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; common tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  21m 57s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Tests failed in hadoop-common. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; mapreduce tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 43s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Tests passed in hadoop-mapreduce-client-core. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  66m 30s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Reason &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Tests &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Failed unit tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; hadoop.fs.TestLocalFsFCStatistics &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12748225/HADOOP-12294.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12748225/HADOOP-12294.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javadoc javac unit findbugs checkstyle &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / d0e0ba8 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; hadoop-common test log &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/7388/artifact/patchprocess/testrun_hadoop-common.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/7388/artifact/patchprocess/testrun_hadoop-common.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; hadoop-mapreduce-client-core test log &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/7388/artifact/patchprocess/testrun_hadoop-mapreduce-client-core.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/7388/artifact/patchprocess/testrun_hadoop-mapreduce-client-core.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/7388/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/7388/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.7.0_55 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux asf907.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/7388/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/7388/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14649928" author="aw" created="Fri, 31 Jul 2015 22:20:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;But the question is whether that&apos;s supposed to be a valid case in the first place.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s likely too late to change this in 2.x, even though the old decimal format has been deprecated for a while.&lt;/p&gt;</comment>
                            <comment id="14650101" author="hadoopqa" created="Sat, 1 Aug 2015 01:58:38 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; pre-patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  16m 37s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Pre-patch trunk compilation is healthy. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; @author &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not contain any @author tags. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; tests included &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch doesn&apos;t appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javac &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   7m 38s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new javac warning messages. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javadoc &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   9m 44s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new javadoc warning messages. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; release audit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 21s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The applied patch does not increase the total number of release audit warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; checkstyle &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m  6s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new checkstyle issues. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; whitespace &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch has no lines that end in whitespace. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; install &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 22s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; mvn install still works. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; eclipse:eclipse &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 31s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch built with eclipse:eclipse. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; findbugs &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 54s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch appears to introduce 1 new Findbugs (version 3.0.0) warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; common tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  21m 41s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Tests failed in hadoop-common. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  60m 57s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Reason &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Tests &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; FindBugs &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; module:hadoop-common &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Failed unit tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; hadoop.fs.permission.TestFsPermission &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; hadoop.security.token.delegation.web.TestWebDelegationToken &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12748250/HADOOP-12294.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12748250/HADOOP-12294.2.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javadoc javac unit findbugs checkstyle &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / d311a38 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Findbugs warnings &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/7390/artifact/patchprocess/newPatchFindbugsWarningshadoop-common.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/7390/artifact/patchprocess/newPatchFindbugsWarningshadoop-common.html&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; hadoop-common test log &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/7390/artifact/patchprocess/testrun_hadoop-common.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/7390/artifact/patchprocess/testrun_hadoop-common.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/7390/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/7390/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.7.0_55 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux asf907.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/7390/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/7390/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14651983" author="jlowe" created="Mon, 3 Aug 2015 15:25:06 +0000"  >&lt;p&gt;To me this looks like a bug introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6521&quot; title=&quot;FsPermission:SetUMask not updated to use new-style umask setting.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6521&quot;&gt;&lt;del&gt;HADOOP-6521&lt;/del&gt;&lt;/a&gt;.  It has the confusing behavior that if one tries unsuccessfully to set the new property but the old property has a valid setting, rather than complaining about the bad value it silently falls back to the old property setting.  So users can think they set the property when in reality that setting was ignored unless they watched the logs very closely to notice the warning message.&lt;/p&gt;

&lt;p&gt;However it&apos;s been this way for a very long time, which makes it hard to reason whether anyone has relied on this unintuitive behavior intentionally or otherwise.  So in that sense I agree with zhihai and Allen that we can avoid any potential breakage in 2.x and propose we fix this for 3.x.&lt;/p&gt;</comment>
                            <comment id="14653115" author="zxu" created="Tue, 4 Aug 2015 06:05:34 +0000"  >&lt;p&gt;thanks for the explanation jason, +1 for fixing this in 3.x.&lt;/p&gt;</comment>
                            <comment id="15021288" author="wheat9" created="Mon, 23 Nov 2015 00:48:34 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lichangleo&quot; class=&quot;user-hover&quot; rel=&quot;lichangleo&quot;&gt;lichangleo&lt;/a&gt; for the contribution.&lt;/p&gt;</comment>
                            <comment id="15021292" author="hudson" created="Mon, 23 Nov 2015 00:56:47 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #8846 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/8846/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/8846/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Remove the support of the deprecated dfs.umask. (wheat9: rev 4492b9e7302b8c84dddec9713d8148cc6183f46b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15021343" author="hudson" created="Mon, 23 Nov 2015 01:34:36 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #697 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/697/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/697/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Remove the support of the deprecated dfs.umask. (wheat9: rev 4492b9e7302b8c84dddec9713d8148cc6183f46b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15021374" author="hudson" created="Mon, 23 Nov 2015 02:08:17 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #2638 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2638/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2638/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Remove the support of the deprecated dfs.umask. (wheat9: rev 4492b9e7302b8c84dddec9713d8148cc6183f46b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15021393" author="hudson" created="Mon, 23 Nov 2015 02:19:42 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #1433 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/1433/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/1433/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Remove the support of the deprecated dfs.umask. (wheat9: rev 4492b9e7302b8c84dddec9713d8148cc6183f46b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15021441" author="hudson" created="Mon, 23 Nov 2015 03:16:05 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #709 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/709/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/709/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Remove the support of the deprecated dfs.umask. (wheat9: rev 4492b9e7302b8c84dddec9713d8148cc6183f46b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15021602" author="hudson" created="Mon, 23 Nov 2015 06:31:47 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #2567 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2567/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2567/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Remove the support of the deprecated dfs.umask. (wheat9: rev 4492b9e7302b8c84dddec9713d8148cc6183f46b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15021658" author="hudson" created="Mon, 23 Nov 2015 07:22:47 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #629 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/629/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/629/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Remove the support of the deprecated dfs.umask. (wheat9: rev 4492b9e7302b8c84dddec9713d8148cc6183f46b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15023910" author="xiaochen" created="Tue, 24 Nov 2015 07:27:07 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lichangleo&quot; class=&quot;user-hover&quot; rel=&quot;lichangleo&quot;&gt;lichangleo&lt;/a&gt;, this seems to cause test &lt;tt&gt;TestPermission#testBackwardCompatibility&lt;/tt&gt; to fail. Could you please take a look? Thanks.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Error Message&lt;/b&gt;&lt;br/&gt;
expected:&amp;lt;18&amp;gt; but was:&amp;lt;0&amp;gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Stacktrace&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.AssertionError: expected:&amp;lt;18&amp;gt; but was:&amp;lt;0&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:555)
	at org.junit.Assert.assertEquals(Assert.java:542)
	at org.apache.hadoop.security.TestPermission.testBackwardCompatibility(TestPermission.java:98)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15023939" author="xiaochen" created="Tue, 24 Nov 2015 07:51:56 +0000"  >&lt;p&gt;FYI - looks like &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=weichiu&quot; class=&quot;user-hover&quot; rel=&quot;weichiu&quot;&gt;weichiu&lt;/a&gt; will fix this test via &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-9451&quot; title=&quot;Clean up depreated umasks and related unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-9451&quot;&gt;&lt;del&gt;HDFS-9451&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15024647" author="lichangleo" created="Tue, 24 Nov 2015 15:08:37 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xiaochen&quot; class=&quot;user-hover&quot; rel=&quot;xiaochen&quot;&gt;xiaochen&lt;/a&gt;, I am looking at this problem and following &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-9451&quot; title=&quot;Clean up depreated umasks and related unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-9451&quot;&gt;&lt;del&gt;HDFS-9451&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15024773" author="xiaochen" created="Tue, 24 Nov 2015 16:23:45 +0000"  >&lt;p&gt;Thanks Chang!&lt;/p&gt;</comment>
                            <comment id="15024878" author="cnauroth" created="Tue, 24 Nov 2015 17:15:02 +0000"  >&lt;p&gt;If the intent was to remove support from trunk/3.0, then I think all traces of it should have been removed from the codebase.  Right now, I see that &lt;tt&gt;FsPermission#DEPRECATED_UMASK_LABEL&lt;/tt&gt; is still present.  If that had been removed, then it also would have forced us to fix the test failures reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-9451&quot; title=&quot;Clean up depreated umasks and related unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-9451&quot;&gt;&lt;del&gt;HDFS-9451&lt;/del&gt;&lt;/a&gt;.  Those test suites would have started getting compilation failures after removal of &lt;tt&gt;FsPermission#DEPRECATED_UMASK_LABEL&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I propose that we revert the current patch, create a new patch that really removes all traces from the codebase, and incorporates any test fixes currently tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-9451&quot; title=&quot;Clean up depreated umasks and related unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-9451&quot;&gt;&lt;del&gt;HDFS-9451&lt;/del&gt;&lt;/a&gt;.  Please let me know if I&apos;m missing some reason that &lt;tt&gt;FsPermission#DEPRECATED_UMASK_LABEL&lt;/tt&gt; needs to remain.  Thanks!&lt;/p&gt;</comment>
                            <comment id="15024891" author="lichangleo" created="Tue, 24 Nov 2015 17:21:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;, the original intention of this jira is to remove the use of DEPRECATED_UMASK_LABEL in &lt;tt&gt;FsPermission#getUMask&lt;/tt&gt;, the title was &quot;Throw an Exception when fs.permissions.umask-mode is misconfigured&quot;  but changed by Haohui before it was commit.&lt;/p&gt;</comment>
                            <comment id="15024911" author="lichangleo" created="Tue, 24 Nov 2015 17:30:11 +0000"  >&lt;p&gt;I suggest change back the title of this jira, and let &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-9451&quot; title=&quot;Clean up depreated umasks and related unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-9451&quot;&gt;&lt;del&gt;HDFS-9451&lt;/del&gt;&lt;/a&gt; fix the broken tests and open a new jira if desired to do the real work of remove support of deprecated dfs.umask. Thoughts?&lt;/p&gt;</comment>
                            <comment id="15024919" author="cnauroth" created="Tue, 24 Nov 2015 17:33:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lichangleo&quot; class=&quot;user-hover&quot; rel=&quot;lichangleo&quot;&gt;lichangleo&lt;/a&gt;, thanks for the clarification about the original intent of the patch.&lt;/p&gt;

&lt;p&gt;Is it worth considering fully eliminating &lt;tt&gt;dfs.umask&lt;/tt&gt; from trunk?  We&apos;re already at a point where the change is backwards-incompatible.  It has been deprecated for a long time in 2.x, so maybe it&apos;s time just to remove the whole thing?&lt;/p&gt;

&lt;p&gt;If not, then I think we need to correct this JIRA title and its CHANGES.txt entry to avoid confusion.  Reading the title made me think that &lt;tt&gt;dfs.umask&lt;/tt&gt; would stop working altogether.&lt;/p&gt;</comment>
                            <comment id="15024923" author="cnauroth" created="Tue, 24 Nov 2015 17:34:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lichangleo&quot; class=&quot;user-hover&quot; rel=&quot;lichangleo&quot;&gt;lichangleo&lt;/a&gt;, sorry, we crossed comments.  Yes, your proposal sounds fine to me.&lt;/p&gt;</comment>
                            <comment id="15024949" author="lichangleo" created="Tue, 24 Nov 2015 17:47:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;, I have changed back the Jira summary also created &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12595&quot; title=&quot;Remove the support of the deprecated dfs.umask &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12595&quot;&gt;&lt;del&gt;HADOOP-12595&lt;/del&gt;&lt;/a&gt; to track the work of remove the support of the deprecated dfs.umask. Could you help correct the CHANGES.txt?&lt;/p&gt;</comment>
                            <comment id="15025093" author="cnauroth" created="Tue, 24 Nov 2015 18:52:36 +0000"  >&lt;p&gt;I have pushed up the CHANGES.txt correction.&lt;/p&gt;</comment>
                            <comment id="15025095" author="lichangleo" created="Tue, 24 Nov 2015 18:53:49 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="15025120" author="hudson" created="Tue, 24 Nov 2015 19:06:42 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #8877 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/8877/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/8877/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Correct CHANGES.txt description. (cnauroth: rev 0e1c12c1740132778fb29e41fc47d374fb87021e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15025247" author="hudson" created="Tue, 24 Nov 2015 20:04:55 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #715 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/715/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/715/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Correct CHANGES.txt description. (cnauroth: rev 0e1c12c1740132778fb29e41fc47d374fb87021e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15025303" author="hudson" created="Tue, 24 Nov 2015 20:32:10 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #1448 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/1448/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/1448/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Correct CHANGES.txt description. (cnauroth: rev 0e1c12c1740132778fb29e41fc47d374fb87021e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15025308" author="hudson" created="Tue, 24 Nov 2015 20:34:32 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #2657 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2657/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2657/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Correct CHANGES.txt description. (cnauroth: rev 0e1c12c1740132778fb29e41fc47d374fb87021e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15025327" author="hudson" created="Tue, 24 Nov 2015 20:38:36 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #638 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/638/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/638/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Correct CHANGES.txt description. (cnauroth: rev 0e1c12c1740132778fb29e41fc47d374fb87021e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15025428" author="hudson" created="Tue, 24 Nov 2015 21:15:48 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #726 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/726/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/726/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Correct CHANGES.txt description. (cnauroth: rev 0e1c12c1740132778fb29e41fc47d374fb87021e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15025875" author="hudson" created="Wed, 25 Nov 2015 00:52:22 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #2576 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2576/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2576/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12294&quot; title=&quot;Throw an Exception when fs.permissions.umask-mode is misconfigured &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12294&quot;&gt;&lt;del&gt;HADOOP-12294&lt;/del&gt;&lt;/a&gt;. Correct CHANGES.txt description. (cnauroth: rev 0e1c12c1740132778fb29e41fc47d374fb87021e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12915595">HDFS-9451</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12748250" name="HADOOP-12294.2.patch" size="1407" author="lichangleo" created="Fri, 31 Jul 2015 22:12:37 +0000"/>
                            <attachment id="12748225" name="HADOOP-12294.patch" size="1938" author="lichangleo" created="Fri, 31 Jul 2015 19:14:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2i71z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>The support of the deprecated dfs.umask key is removed in Hadoop 3.0.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>