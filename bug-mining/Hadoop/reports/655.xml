<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:40:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-8721] ZKFC should not retry 45 times when attempting a graceful fence during a failover</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-8721</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Scenario:&lt;br/&gt;
Active NN on machine1&lt;br/&gt;
Standby NN on machine2&lt;br/&gt;
Machine1 is isolated from the network (machine1 network cable unplugged)&lt;br/&gt;
After zk session timeout ZKFC at machine2 side gets notification that NN1 is not there.&lt;br/&gt;
ZKFC tries to failover NN2 as active.&lt;br/&gt;
As part of this during fencing it tries to connect to machine1 and kill NN1. (sshfence technique configured)&lt;br/&gt;
This connection retry happens for 45 times( as it takes  ipc.client.connect.max.socket.retries)&lt;br/&gt;
Also after that standby NN is not able to take over as active (because of fencing failure).&lt;br/&gt;
Suggestion: If ZKFC is not able to reach other NN for specified time/no of retries it can consider that NN as dead and instruct the other NN to take over as active as there is no chance of the other NN (NN1) retaining its state as active after zk session timeout when its isolated from network&lt;/p&gt;

&lt;p&gt;From ZKFC log:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-06-21 17:46:14,378 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 22 time(s).
2012-06-21 17:46:35,378 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 23 time(s).
2012-06-21 17:46:56,378 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 24 time(s).
2012-06-21 17:47:17,378 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 25 time(s).
2012-06-21 17:47:38,382 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 26 time(s).
2012-06-21 17:47:59,382 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 27 time(s).
2012-06-21 17:48:20,386 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 28 time(s).
2012-06-21 17:48:41,386 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 29 time(s).
2012-06-21 17:49:02,386 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 30 time(s).
2012-06-21 17:49:23,386 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: HOST-xx-xx-xx-102/xx.xx.xx.102:65110. Already tried 31 time(s).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12595754">HADOOP-8721</key>
            <summary>ZKFC should not retry 45 times when attempting a graceful fence during a failover</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vinayakumarb">Vinayakumar B</assignee>
                                    <reporter username="suja">suja s</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jun 2012 08:33:08 +0000</created>
                <updated>Thu, 11 Oct 2012 17:45:06 +0000</updated>
                            <resolved>Wed, 22 Aug 2012 18:59:42 +0000</resolved>
                                    <version>2.0.0-alpha</version>
                                    <fixVersion>2.0.2-alpha</fixVersion>
                                    <component>auto-failover</component>
                    <component>ha</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="13400484" author="umamaheswararao" created="Mon, 25 Jun 2012 13:54:41 +0000"  >&lt;p&gt;Good catch Suja. Thanks for filing the JIRA.&lt;/p&gt;</comment>
                            <comment id="13400487" author="vinayrpet" created="Mon, 25 Jun 2012 13:59:18 +0000"  >&lt;p&gt;During transition, fencing of old active will be done.&lt;/p&gt;

&lt;p&gt;Here before actually using the fencing method configured, gracefull fencing will be tried. Now zkfc will try to get the proxy of other machine Namenode. since the n/w is down, it is not able to get the connection and it is retrying for 45 times configured using &lt;b&gt;ipc.client.connect.max.retries.on.timeouts&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Should fence: &quot;&lt;/span&gt; + target);
    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; gracefulWorked = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FailoverController(conf,
        RequestSource.REQUEST_BY_ZKFC).tryGracefulFence(target);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (gracefulWorked) {
      &lt;span class=&quot;code-comment&quot;&gt;// It&lt;span class=&quot;code-quote&quot;&gt;&apos;s possible that it&apos;&lt;/span&gt;s in standby but just about to go into active,
&lt;/span&gt;      &lt;span class=&quot;code-comment&quot;&gt;// no? Is there some race here?
&lt;/span&gt;      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Successfully transitioned &quot;&lt;/span&gt; + target + &lt;span class=&quot;code-quote&quot;&gt;&quot; to standby &quot;&lt;/span&gt; +
          &lt;span class=&quot;code-quote&quot;&gt;&quot;state without fencing&quot;&lt;/span&gt;);
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think in ZKFC case we can reduce the number of retries.&lt;/p&gt;

&lt;p&gt;Any thoughts?&lt;/p&gt;</comment>
                            <comment id="13400504" author="umamaheswararao" created="Mon, 25 Jun 2012 14:19:35 +0000"  >&lt;p&gt;I think we can set retries to 1/2 for avoiding unnecessary actions on small nw fluctuations? or we can set it to 0 as we are already setting the same values in ConfiguredFailoverProxyProvider for failover clients.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;  DFS_CLIENT_FAILOVER_CONNECTION_RETRIES_KEY = &lt;span class=&quot;code-quote&quot;&gt;&quot;dfs.client.failover.connection.retries&quot;&lt;/span&gt;;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;     DFS_CLIENT_FAILOVER_CONNECTION_RETRIES_DEFAULT = 0;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;  DFS_CLIENT_FAILOVER_CONNECTION_RETRIES_ON_SOCKET_TIMEOUTS_KEY = &lt;span class=&quot;code-quote&quot;&gt;&quot;dfs.client.failover.connection.retries.on.timeouts&quot;&lt;/span&gt;;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;     DFS_CLIENT_FAILOVER_CONNECTION_RETRIES_ON_SOCKET_TIMEOUTS_DEFAULT = 0;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13400833" author="atm" created="Mon, 25 Jun 2012 19:56:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Suggestion: If ZKFC is not able to reach other NN for specified time/no of retries it can consider that NN as dead and instruct the other NN to take over as active as there is no chance of the other NN (NN1) retaining its state as active after zk session timeout when its isolated from network&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This isn&apos;t acceptable. The point of fencing is to ensure that if the previously-active NN returns from appearing to have been down, it doesn&apos;t start writing to the shared directory again while the new active is also writing to that directory.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think we can set retries to 1/2 for avoiding unnecessary actions on small nw fluctuations? or we can set it to 0 as we are already setting the same values in ConfiguredFailoverProxyProvider for failover clients.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We set it to 0 in ConfiguredFailoverProxyProvider because we want to trying failing over immediately as the retry mechanism, instead of repeatedly trying to contact a machine that may in fact be completely down.&lt;/p&gt;

&lt;p&gt;I agree, though, that setting it to a lower number than 45 makes sense in the case of the client in the ZKFC, and perhaps making it configurable separately.&lt;/p&gt;</comment>
                            <comment id="13400847" author="tlipcon" created="Mon, 25 Jun 2012 20:20:33 +0000"  >&lt;p&gt;+1 for setting it to 0 or 1 for the graceful fence attempt.&lt;/p&gt;</comment>
                            <comment id="13402978" author="vinayrpet" created="Thu, 28 Jun 2012 10:09:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;This isn&apos;t acceptable. The point of fencing is to ensure that if the previously-active NN returns from appearing to have been down, it doesn&apos;t start writing to the shared directory again while the new active is also writing to that directory.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If the shared storage provides good fencing, so that if it is fenced once and not allowing to write anymore from old writer then this situation will never come.&lt;/p&gt;

&lt;p&gt;If the fail-over not happening due to fencing failure  of old active that means network down is not supported in ZKFC..?&lt;/p&gt;

&lt;p&gt;I think, taking transitioning current standby to Active in the current situation will be the correct behavior.&lt;/p&gt;

&lt;p&gt;Any thoughts on this..?&lt;/p&gt;</comment>
                            <comment id="13402994" author="umamaheswararao" created="Thu, 28 Jun 2012 10:39:06 +0000"  >&lt;p&gt;Yes, we have multiple level of fencings.&lt;/p&gt;

&lt;p&gt;First fencing should happen at ZKFC level. Other place, will have Fencing at Shared storage level.&lt;br/&gt;
What if fencing logic check for IP reachability? If ip is reachable and not able to fence means fence failed, If IP itself is not reachable then, no way it can kill the remote node. At this case we may need to give chance to next level fencer (shared storage)?&lt;br/&gt;
If ZKFC itself ensure 100% fence then, why shared storage fencing is required? Am i missing something here?&lt;/p&gt;</comment>
                            <comment id="13404285" author="atm" created="Fri, 29 Jun 2012 22:35:32 +0000"  >&lt;p&gt;I think some wires are getting crossed here. Some clarifications:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The ZKFC &lt;b&gt;always&lt;/b&gt; performs the act of fencing, by executing the configured fencing methods.&lt;/li&gt;
	&lt;li&gt;There are two fencing methods shipped out of the box: 1) RPC to the active NN to tell it to move to the standby state, 2) ssh to the active NN and `kill -9&apos; the NN process.&lt;/li&gt;
	&lt;li&gt;You can optionally configure more fencing methods, for example IP-based shared storage fencing, or IP-based STONITH via PDU fencing.&lt;/li&gt;
	&lt;li&gt;The ZKFC proceeds to execute the various fencing methods in the order they&apos;re configured.&lt;/li&gt;
	&lt;li&gt;One of the stated aims of the HA work was to favor data reliability over availability. So, if we can&apos;t guarantee the correctness of the data, we shouldn&apos;t cause a state transition.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Given all of the above, at least one of the fencing methods &lt;b&gt;must&lt;/b&gt; succeed before the ZFKC can reasonably cause the standby to transition to active. Imagine a network failure wherein the ZKFCs can no longer reach the active NN, but can reach the standby. If we just try to ping the active NN for a while, without having successfully fenced it, and then transition the standby to active since we can&apos;t ping the previous active, then both NNs might be active simultaneously, write to the shared storage and corrupt the FS metadata. This isn&apos;t acceptable.&lt;/p&gt;

&lt;p&gt;As I said previously, I&apos;m very much in favor of lowering the number of graceful fencing retries to a reasonable value. Todd recommended 0 or 1, which sounds fine by me. What I&apos;m not in favor of is changing the ZKFC to ever cause the standby to become active without &lt;b&gt;some&lt;/b&gt; fencing method succeeding.&lt;/p&gt;</comment>
                            <comment id="13404354" author="umamaheswararao" created="Sat, 30 Jun 2012 01:14:12 +0000"  >&lt;p&gt;Hi Aaron, Thanks a lot for the explanation.&lt;/p&gt;

&lt;p&gt;I have few questions.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;You can optionally configure more fencing methods, for example IP-based shared storage fencing&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13404358" author="umamaheswararao" created="Sat, 30 Jun 2012 01:24:51 +0000"  >&lt;p&gt;Hi Aaron, Thanks a lot for the explanation.&lt;/p&gt;

&lt;p&gt;I have few questions. I think I am missing some thing here.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;    You can optionally configure more fencing methods, for example IP-based shared storage fencing&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;How we can do shared storage fencing from ZKFC? for example if we have shared storage fencing at writer level. Whenever new writer comes, automatically old writer will not be allowed.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;One of the stated aims of the HA work was to favor data reliability over availability. So, if we can&apos;t guarantee the correctness of the data, we shouldn&apos;t cause a state transition.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Still my question remains. If we want to fence 100% from ZKFC itself, why shared storage writer level fencing required?&lt;/p&gt;

&lt;p&gt;How you are handling network down scenario in your clusters?&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Uma&lt;/p&gt;
</comment>
                            <comment id="13405151" author="atm" created="Mon, 2 Jul 2012 17:34:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;How we can do shared storage fencing from ZKFC?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Many NFS filers have APIs for fencing all subsequent writes or reads from a given IP address. The ZKFC can be configured to run a script which initiates fencing via this method. See the &quot;dfs.ha.fencing.methods&quot; section on &lt;a href=&quot;http://hadoop.apache.org/common/docs/r2.0.0-alpha/hadoop-yarn/hadoop-yarn-site/HDFSHighAvailability.html#Configuration_details&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this page&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;for example if we have shared storage fencing at writer level. Whenever new writer comes, automatically old writer will not be allowed.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not sure what you mean by this.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Still my question remains. If we want to fence 100% from ZKFC itself, why shared storage writer level fencing required?&lt;br/&gt;
How you are handling network down scenario in your clusters?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The ZKFC is always responsible for triggering fencing, so it&apos;s not really that we &quot;fence 100% from ZKFC itself.&quot; Rather, the ZKFC is capable of triggering the fencing process for a given NN via other devices, e.g. the filer or PDU.&lt;/p&gt;

&lt;p&gt;I hope this clears things up.&lt;/p&gt;</comment>
                            <comment id="13405222" author="umamaheswararao" created="Mon, 2 Jul 2012 18:33:06 +0000"  >&lt;p&gt;Hi Aaron, Thanks a lot.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; example &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we have shared storage fencing at writer level. Whenever &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; writer comes, automatically old writer will not be allowed.

I&apos;m not sure what you mean by &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What I mean by this is, take a case of BookKeeper:&lt;br/&gt;
BookKeeper itself has a fencing logic. Whenever we open a new ledger, automatically it will get fenced. Other clients will not be able to proceed for further writes.&lt;br/&gt;
I hope similar logic may come in QJM also using some writer level epoch numbers.&lt;/p&gt;

&lt;p&gt;May be we need to develop a fence method with this clients and fence the things, but only the thing i don&apos;t like is I need to to place that client libraries in ZKFC(this step may not be required as NN&apos;s respective JM&apos;s will any way has to open writer, that writer itself will fence automatically). I hope u understand my point here.&lt;/p&gt;


</comment>
                            <comment id="13405227" author="atm" created="Mon, 2 Jul 2012 18:37:41 +0000"  >&lt;p&gt;Ah, yes. Both in the case of BKJM or the QJM, fencing is effectively built into write protocol, so there won&apos;t be any need for external fencing options.&lt;/p&gt;

&lt;p&gt;Regardless, note that I don&apos;t object to the main point of this JIRA, i.e. that we should lower the number of retries when attempting to gracefully fence an NN. If someone wants to supply a patch for that, I&apos;ll be happy to review/commit it.&lt;/p&gt;</comment>
                            <comment id="13405238" author="umamaheswararao" created="Mon, 2 Jul 2012 18:50:49 +0000"  >&lt;p&gt;Thanks Aaron &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Regardless, note that I don&apos;t object to the main point of this JIRA, i.e. that we should lower the number of retries when attempting to gracefully fence an NN. If someone wants to supply a patch for that, I&apos;ll be happy to review/commit it.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure. I will ask Vinay to upload the patch what we have.&lt;/p&gt;</comment>
                            <comment id="13408189" author="vinayrpet" created="Fri, 6 Jul 2012 18:04:58 +0000"  >&lt;p&gt;Attaching patch to reduce the number of retries for graceful fence&lt;/p&gt;</comment>
                            <comment id="13408255" author="umamaheswararao" created="Fri, 6 Jul 2012 19:47:38 +0000"  >&lt;p&gt;How about the configuration key name like this&lt;br/&gt;
HA_ZKFC_GRACEFUL_FENCE_MAX_RETRIES --&amp;gt; HA_ZKFC_GRACEFUL_FENCE_CONNECTION_RETRIES_KEY ?&lt;/p&gt;

&lt;p&gt;Also will it be more clearer to separate out the configurations( retries on connection and socket timeout retries)? because they are different configs exposed in common.&lt;/p&gt;

&lt;p&gt;@Aaron, could you please add your comments here?&lt;/p&gt;</comment>
                            <comment id="13408385" author="hadoopqa" created="Fri, 6 Jul 2012 21:58:13 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12535395/HDFS-3561.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12535395/HDFS-3561.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/2750//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/2750//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13409927" author="atm" created="Mon, 9 Jul 2012 22:53:15 +0000"  >&lt;p&gt;Seems to me like these new configs should not be made specific to the ZKFC, but rather should apply to all failover controllers. Given that, I think we should change the config keys to be named similarly to the other FC graceful connection configs, e.g. &quot;ha.failover-controller.graceful-fence.rpc-timeout.ms&quot;. Furthermore, we should push down the handling for this into the FailoverController, and not put it in ZKFailoverController.&lt;/p&gt;</comment>
                            <comment id="13410218" author="vinayrpet" created="Tue, 10 Jul 2012 10:29:55 +0000"  >&lt;p&gt;Thanks Aaron for the suggestion.&lt;/p&gt;

&lt;p&gt;I have one question here.&lt;br/&gt;
Shall we set the Connection retries to 1, for all proxy connections for FailOverController, i.e. local target as well as remote target.&lt;br/&gt;
Any way connecting to Local target should not take much time.&lt;/p&gt;

&lt;p&gt;What is your suggestion?&lt;/p&gt;</comment>
                            <comment id="13410903" author="atm" created="Tue, 10 Jul 2012 21:09:34 +0000"  >&lt;p&gt;I&apos;d think that we&apos;d only want the lower number of retries when trying to connect to the node that may be down.&lt;/p&gt;</comment>
                            <comment id="13413636" author="vinayrpet" created="Fri, 13 Jul 2012 10:25:55 +0000"  >&lt;p&gt;Attaching the patch by addressing above comments&lt;/p&gt;</comment>
                            <comment id="13413654" author="hadoopqa" created="Fri, 13 Jul 2012 10:57:32 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12536365/HDFS-3561-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12536365/HDFS-3561-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/2815//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/2815//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/2815//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/2815//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13414093" author="atm" created="Fri, 13 Jul 2012 21:55:18 +0000"  >&lt;p&gt;Instead of creating a new Configuration object every time tryGracefulFence is called, how about creating a copy of the conf object in the FailoverController constructor, and setting the IPC_CLIENT_CONNECT_MAX_RETRIES there? This would also mean you wouldn&apos;t have to have the extra instance variable or method introduced by this patch.&lt;/p&gt;</comment>
                            <comment id="13414316" author="vinayrpet" created="Sat, 14 Jul 2012 07:59:34 +0000"  >&lt;p&gt;That sounds good. But as of now, in ZKFC, tryGracefulFence() is called by creating the new instance of FC itself. That means setting in Constructor or inside tryGracefulFence() both are same.&lt;br/&gt;
If we create the copy of conf only for tryGracefulFence() in constructor, FC will hold the copied conf in memory for the local target also, where we never use tryGracefulFence(). i.e. we will hold the duplicate conf instance which is not necessary.&lt;/p&gt;

&lt;p&gt;Anything I am missing..?&lt;/p&gt;</comment>
                            <comment id="13432946" author="vinayrpet" created="Mon, 13 Aug 2012 06:16:15 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=atm&quot; class=&quot;user-hover&quot; rel=&quot;atm&quot;&gt;atm&lt;/a&gt; any more comments you have on this..? &lt;/p&gt;</comment>
                            <comment id="13437160" author="atm" created="Sat, 18 Aug 2012 00:02:42 +0000"  >&lt;p&gt;That&apos;s a good point, Vinay, that the method will only ever be called once, but I still think that creating a copy of the conf object in the FailoverController constructor makes the code a little clearer. I don&apos;t think the increased memory usage from having one extra copy of the conf object will be an issue at all. It will also be good from a future-proofing perspective to make sure that any mutations to the passed-in Configuration object don&apos;t affect the behavior of a long-lived FailoverController object. Does that make sense? Note that I don&apos;t feel super strongly about this; it&apos;s just my preference. If you disagree, we can go with what you have here.&lt;/p&gt;

&lt;p&gt;Two little nits I noticed while taking another look at this patch:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;There&apos;s no need for the new getGracefulFenceConnectRetries function, since it&apos;s only ever called from the constructor of this class. The other two similar methods are necessary because they&apos;re called from the ZKFailoverController class. At the very least, the function should be made private.&lt;/li&gt;
	&lt;li&gt;There&apos;s no need for these lines two be on separate lines:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    newConf
+        .setInt(
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13438463" author="vinayrpet" created="Tue, 21 Aug 2012 05:16:20 +0000"  >&lt;p&gt;Thanks Aaron,&lt;/p&gt;

&lt;p&gt;I agree with your preference. I will post a new patch for that, which also contains below fixes.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;There&apos;s no need for the new getGracefulFenceConnectRetries function&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ok, I will remove it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;There&apos;s no need for these lines two be on separate lines&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This was created by eclipse formatter. Anyway, i will change it.&lt;/p&gt;</comment>
                            <comment id="13439100" author="atm" created="Tue, 21 Aug 2012 22:15:23 +0000"  >&lt;p&gt;Sounds good, Vinay. I&apos;ll be happy to review/commit the patch once you make these changes.&lt;/p&gt;</comment>
                            <comment id="13439558" author="vinayrpet" created="Wed, 22 Aug 2012 14:16:51 +0000"  >&lt;p&gt;Attaching the patch with latest comment fixes.&lt;/p&gt;</comment>
                            <comment id="13439573" author="hadoopqa" created="Wed, 22 Aug 2012 14:44:07 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541971/HDFS-3561-3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541971/HDFS-3561-3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/3066//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/3066//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/3066//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/3066//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13439706" author="atm" created="Wed, 22 Aug 2012 17:38:11 +0000"  >&lt;p&gt;+1, the latest patch looks good to me.&lt;/p&gt;

&lt;p&gt;Vinay, can you comment on what testing you did of this patch? Were you able to verify manually that the ZKFC now doesn&apos;t retry 45 times during a failover? I&apos;ll commit this patch as soon as this question is answered.&lt;/p&gt;</comment>
                            <comment id="13439750" author="vinayrpet" created="Wed, 22 Aug 2012 18:40:39 +0000"  >&lt;p&gt;Yes Aaron,&lt;br/&gt;
We tested the described scenario after setting number of retries to 1.&lt;br/&gt;
ZKFC retries only one time and gets SocketTimeOutException and throws back the exception to caller without retrying further.&lt;/p&gt;</comment>
                            <comment id="13439755" author="atm" created="Wed, 22 Aug 2012 18:49:21 +0000"  >&lt;p&gt;Great! Thanks for doing that.&lt;/p&gt;

&lt;p&gt;I&apos;m going to commit this momentarily.&lt;/p&gt;</comment>
                            <comment id="13439765" author="atm" created="Wed, 22 Aug 2012 18:59:43 +0000"  >&lt;p&gt;I&apos;ve just committed this to trunk and branch-2. Thanks a lot for the contribution, Vinay.&lt;/p&gt;</comment>
                            <comment id="13439769" author="hudson" created="Wed, 22 Aug 2012 19:06:14 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #2622 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2622/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2622/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8721&quot; title=&quot;ZKFC should not retry 45 times when attempting a graceful fence during a failover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8721&quot;&gt;&lt;del&gt;HADOOP-8721&lt;/del&gt;&lt;/a&gt;. ZKFC should not retry 45 times when attempting a graceful fence during a failover. Contributed by Vinayakumar B. (Revision 1376194)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/CommonConfigurationKeys.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ha/FailoverController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13439770" author="hudson" created="Wed, 22 Aug 2012 19:06:56 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk-Commit #2686 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2686/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2686/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8721&quot; title=&quot;ZKFC should not retry 45 times when attempting a graceful fence during a failover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8721&quot;&gt;&lt;del&gt;HADOOP-8721&lt;/del&gt;&lt;/a&gt;. ZKFC should not retry 45 times when attempting a graceful fence during a failover. Contributed by Vinayakumar B. (Revision 1376194)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/CommonConfigurationKeys.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ha/FailoverController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13439822" author="hudson" created="Wed, 22 Aug 2012 20:28:17 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk-Commit #2650 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2650/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2650/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8721&quot; title=&quot;ZKFC should not retry 45 times when attempting a graceful fence during a failover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8721&quot;&gt;&lt;del&gt;HADOOP-8721&lt;/del&gt;&lt;/a&gt;. ZKFC should not retry 45 times when attempting a graceful fence during a failover. Contributed by Vinayakumar B. (Revision 1376194)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/CommonConfigurationKeys.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ha/FailoverController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13440255" author="hudson" created="Thu, 23 Aug 2012 12:48:17 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1143 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1143/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1143/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8721&quot; title=&quot;ZKFC should not retry 45 times when attempting a graceful fence during a failover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8721&quot;&gt;&lt;del&gt;HADOOP-8721&lt;/del&gt;&lt;/a&gt;. ZKFC should not retry 45 times when attempting a graceful fence during a failover. Contributed by Vinayakumar B. (Revision 1376194)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/CommonConfigurationKeys.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ha/FailoverController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13441205" author="hudson" created="Fri, 24 Aug 2012 14:31:11 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1175 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1175/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1175/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8721&quot; title=&quot;ZKFC should not retry 45 times when attempting a graceful fence during a failover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8721&quot;&gt;&lt;del&gt;HADOOP-8721&lt;/del&gt;&lt;/a&gt;. ZKFC should not retry 45 times when attempting a graceful fence during a failover. Contributed by Vinayakumar B. (Revision 1376194)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1376194&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/CommonConfigurationKeys.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ha/FailoverController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12601275">HADOOP-8644</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12536365" name="HDFS-3561-2.patch" size="3153" author="vinayakumarb" created="Fri, 13 Jul 2012 10:25:55 +0000"/>
                            <attachment id="12541971" name="HDFS-3561-3.patch" size="3116" author="vinayakumarb" created="Wed, 22 Aug 2012 14:16:51 +0000"/>
                            <attachment id="12535395" name="HDFS-3561.patch" size="2576" author="vinayakumarb" created="Fri, 6 Jul 2012 18:04:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i016vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12322473">2.0.2-alpha</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>