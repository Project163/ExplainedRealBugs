<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:32:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-5958] Use JDK 1.6 File APIs in DF.java wherever possible</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-5958</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;JDK 1.6 has File APIs like File.getFreeSpace() which should be used instead of spawning a command process for getting the various disk/partition related attributes. This would avoid spikes in memory consumption by tasks when things like LocalDirAllocator is used for creating paths on the filesystem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426934">HADOOP-5958</key>
            <summary>Use JDK 1.6 File APIs in DF.java wherever possible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kimballa">Aaron Kimball</assignee>
                                    <reporter username="ddas">Devaraj Das</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Jun 2009 15:54:30 +0000</created>
                <updated>Tue, 24 Aug 2010 20:38:23 +0000</updated>
                            <resolved>Tue, 15 Dec 2009 00:10:32 +0000</resolved>
                                                    <fixVersion>0.21.0</fixVersion>
                                    <component>fs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>13</watches>
                                                                                                                <comments>
                            <comment id="12768822" author="kimballa" created="Thu, 22 Oct 2009 19:20:41 +0000"  >&lt;p&gt;Do we want to use &lt;tt&gt;File.getFreeSpace()&lt;/tt&gt; or &lt;tt&gt;File.getUsableSpace()&lt;/tt&gt;? The API docs (&lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/io/File.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/javase/6/docs/api/java/io/File.html&lt;/a&gt;) are pretty vague about what &quot;usable&quot; means. A quick test on my machine shows that they do return different values, by about 6%.&lt;/p&gt;</comment>
                            <comment id="12768828" author="kimballa" created="Thu, 22 Oct 2009 19:28:25 +0000"  >&lt;p&gt;Another question: o.a.h.fs.DF currently inherits the public interface of o.a.h.util.Shell; this would be irrelevant if usage of the &quot;df&quot; command itself were eliminated. Should we:&lt;/p&gt;

&lt;p&gt;a) Remove the inheritance from Shell? (incompatible change)&lt;br/&gt;
b) Override all the Shell methods with dummies that return meaningless data (e.g., for getExitCode())&lt;br/&gt;
c) ...or?&lt;/p&gt;</comment>
                            <comment id="12768848" author="cutting" created="Thu, 22 Oct 2009 20:02:59 +0000"  >&lt;p&gt;&amp;gt; Remove the inheritance from Shell? (incompatible change)&lt;/p&gt;

&lt;p&gt;I&apos;d be surprised if this broke any applications.  It would indeed be safer to add the dummy methods, deprecated, and file an issue to remove them attached to the next release, but that feels like overkill here.  Does any code in Hadoop depend on it extending Shell?&lt;/p&gt;

&lt;p&gt;Does java.io.File let you find the mount point?  I thought we used that in places, but perhaps not.  I guess if it&apos;s used then we might still need to use the &apos;df&apos; command to support that, although perhaps we could avoid it for the other methods.&lt;/p&gt;</comment>
                            <comment id="12768900" author="kimballa" created="Thu, 22 Oct 2009 21:03:21 +0000"  >&lt;p&gt;Hm. A casual inspection shows that uses of DF do not seem to depend on superclass behavior. I concur that we&apos;re probably safe with just changing its interface outright and flagging the change as incompatible in JIRA.&lt;/p&gt;

&lt;p&gt;As for your other question... not so easy.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;File&lt;/tt&gt; provides a &lt;tt&gt;listRoots()&lt;/tt&gt; method which doesn&apos;t exactly do the same thing. A quick test shows that it just returns &lt;tt&gt;&quot;/&quot;&lt;/tt&gt; for a file named &lt;tt&gt;/home/aaron/foo&lt;/tt&gt;, even though I have &lt;tt&gt;/home&lt;/tt&gt; on a separate partition than &lt;tt&gt;/&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;getMounts()&lt;/tt&gt; method is used in &lt;tt&gt;LocalFileSystem.reportChecksumFailure()&lt;/tt&gt; to move files to a &lt;tt&gt;bad_files&lt;/tt&gt; directory on the same device as their original storage. Replacing &lt;tt&gt;getMounts()&lt;/tt&gt; naively with &lt;tt&gt;listRoots()&lt;/tt&gt; could result in actual IO transfer, vs. just metadata updates in the local fs.&lt;/p&gt;

&lt;p&gt;In Java 7, the &lt;tt&gt;java.nio.file.FileSystem&lt;/tt&gt; class (and friends like &lt;tt&gt;Path&lt;/tt&gt;) will actually make all this trivial. It&apos;ll even let you change and inspect file ownership and permissions. But we&apos;re not there yet. ::sigh::&lt;/p&gt;

&lt;p&gt;So we can&apos;t eliminate getMounts() without changing the interface. Fortunately, it seems as though this is only used in one method, so maybe changing LFS.reportChecksumFailure() is the right answer?&lt;/p&gt;

&lt;p&gt;Here&apos;s an alternative strategy:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Make &lt;tt&gt;o.a.h.fs.DF&lt;/tt&gt; an interface&lt;/li&gt;
	&lt;li&gt;The current DF implementation is renamed &lt;tt&gt;ShellDF&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Add another implementation named &lt;tt&gt;JavaDF&lt;/tt&gt; which uses &lt;tt&gt;File&lt;/tt&gt; for what it can.
	&lt;ul&gt;
		&lt;li&gt;Throws &lt;tt&gt;IOException&lt;/tt&gt; for things like &lt;tt&gt;getMounts()&lt;/tt&gt;, etc.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;The &lt;tt&gt;NativeFileSystem&lt;/tt&gt; specifically instantiates a &lt;tt&gt;ShellDF&lt;/tt&gt; for the situation where it needs mount-point info (inside reportChecksumFailure)&lt;/li&gt;
	&lt;li&gt;All other uses of DF change to JavaDF&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12768925" author="cutting" created="Thu, 22 Oct 2009 21:45:41 +0000"  >&lt;p&gt;I&apos;m not a big fan of interfaces, since they make it hard to evolve the API compatibly.  I also don&apos;t think we should encourage most code to specify the implementation when there&apos;s a clearly preferred implementation.  So, an abstract base class with a factory method that most folks use?&lt;/p&gt;</comment>
                            <comment id="12768930" author="kimballa" created="Thu, 22 Oct 2009 21:55:05 +0000"  >&lt;p&gt;I&apos;m not an interface fan myself. But the existing &lt;tt&gt;DF&lt;/tt&gt; class already uses &lt;tt&gt;Shell&lt;/tt&gt; as an abstract base class. That means we&apos;d need to put most of the current DF&apos;s logic into some other class that extends Shell; maybe a private inner class?&lt;/p&gt;

&lt;p&gt;+1 for a factory method.&lt;/p&gt;</comment>
                            <comment id="12768931" author="cutting" created="Thu, 22 Oct 2009 22:02:16 +0000"  >&lt;p&gt;&amp;gt; That means we&apos;d need to put most of the current DF&apos;s logic into some other class that extends Shell; maybe a private inner class?&lt;/p&gt;

&lt;p&gt;Works for me.  Delegation.&lt;/p&gt;</comment>
                            <comment id="12771258" author="kimballa" created="Thu, 29 Oct 2009 02:00:46 +0000"  >&lt;p&gt;Attaching patch which adds &lt;tt&gt;JavaDF&lt;/tt&gt; and &lt;tt&gt;PosixDF&lt;/tt&gt; classes. &lt;tt&gt;DF&lt;/tt&gt; is now an abstract class; it provides a &lt;tt&gt;getDF()&lt;/tt&gt;  factory method that returns a JavaDF instance.&lt;/p&gt;

&lt;p&gt;Added tests in TestDFVariations that prove that JavaDF and PosixDF return the same values.&lt;/p&gt;

&lt;p&gt;Also attached patches to mapred and hdfs that use the new API.&lt;/p&gt;</comment>
                            <comment id="12771259" author="kimballa" created="Thu, 29 Oct 2009 02:01:40 +0000"  >&lt;p&gt;Also, you&apos;ll need to run this to commit:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;svn add src/java/org/apache/hadoop/fs/JavaDF.java
svn add src/java/org/apache/hadoop/fs/PosixDF.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12771266" author="hadoopqa" created="Thu, 29 Oct 2009 02:59:42 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12423529/HADOOP-5958.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12423529/HADOOP-5958.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 829289.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The patch appears to cause tar ant target to fail.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    -1 contrib tests.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/111/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/111/testReport/&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/111/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/111/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/111/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/111/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12771621" author="kimballa" created="Thu, 29 Oct 2009 21:08:53 +0000"  >&lt;p&gt;Forgot to include PosixDF and JavaDF locally. (oops.) New patch.&lt;/p&gt;</comment>
                            <comment id="12771631" author="hadoopqa" created="Thu, 29 Oct 2009 21:33:48 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12423623/HADOOP-5958.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12423623/HADOOP-5958.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 831070.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/114/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/114/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/114/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/114/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/114/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/114/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/114/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/114/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12771655" author="kimballa" created="Thu, 29 Oct 2009 22:13:27 +0000"  >&lt;p&gt;The failing part of that test is in keeping the pct used counts in sync between Java DF and Posix DF. I just removed this aspect of the test. There are no uses of &lt;tt&gt;getPercentUsed()&lt;/tt&gt; in the actual Hadoop codebase.  We only care about &lt;tt&gt;getUsed()&lt;/tt&gt; and &lt;tt&gt;getAvailable()&lt;/tt&gt; which are tested.&lt;/p&gt;

&lt;p&gt;In general, the pct. used calculation is pretty fuzzy, so it&apos;s hard to make it agree exactly.&lt;/p&gt;</comment>
                            <comment id="12771661" author="hadoopqa" created="Thu, 29 Oct 2009 22:30:37 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12423630/HADOOP-5958.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12423630/HADOOP-5958.3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 831070.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/20/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/20/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/20/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/20/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/20/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/20/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/20/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/20/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12774535" author="tlipcon" created="Sat, 7 Nov 2009 01:59:29 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;DF.java:37 - &quot;has most of the functionality, and has better performance&quot; - makes sense as a jira comment, but when that&apos;s the only implementation people may be left wondering &quot;Better than what?&quot; Best to specifically compare with PosixDF&lt;/li&gt;
	&lt;li&gt;Now that there are two getDFs, one with a conf and one without, shouldn&apos;t one either be marked deprecated or private? I&apos;d say we should leave the one that takes a Configuration and just ignore the configuration variable, unless we&apos;re certain we&apos;ll never want Configuration here again.&lt;/li&gt;
	&lt;li&gt;We used to have a limit on how often df would be called. That&apos;s gone with the new implementation - I dunno if the interval was due to the fork overhead or actually some overhead in the calls themselves. Are the j.io.File implementations fast enough that we don&apos;t have to worry about it, or should JavaDF do some caching?&lt;/li&gt;
	&lt;li&gt;For the unit test, you could use &lt;a href=&quot;http://junit.org/apidocs/org/junit/Assert.html#assertEquals%28java.lang.String,%20double,%20double,%20double%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://junit.org/apidocs/org/junit/Assert.html#assertEquals%28java.lang.String,%20double,%20double,%20double%29&lt;/a&gt; though what you&apos;re doing now is fine too.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12775180" author="kimballa" created="Mon, 9 Nov 2009 22:51:31 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  DF.java:37 - &quot;has most of the functionality, and has better performance&quot; - makes sense as a jira comment, but when that&apos;s the only implementation people may be left wondering &quot;Better than what?&quot; Best to specifically compare with PosixDF&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Agreed.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Now that there are two getDFs, one with a conf and one without, shouldn&apos;t one either be marked deprecated or private? I&apos;d say we should leave the one that takes a Configuration and just ignore the configuration variable, unless we&apos;re certain we&apos;ll never want Configuration here again.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&lt;tt&gt;getDF()&lt;/tt&gt; never existed before; I created those as a replacement for the &lt;tt&gt;DF()&lt;/tt&gt; constructors, now that &lt;tt&gt;DF&lt;/tt&gt; itself is abstract. I&apos;m ok with providing the Configuration-handling version only.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; We used to have a limit on how often df would be called. That&apos;s gone with the new implementation - I dunno if the interval was due to the fork overhead or actually some overhead in the calls themselves. Are the j.io.File implementations fast enough that we don&apos;t have to worry about it, or should JavaDF do some caching?&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I just ran a quick benchmark of calling &lt;tt&gt;File.getFreeSpace()&lt;/tt&gt; a million times; an individual call to &lt;tt&gt;f = new File(); f.getFreeSpace()&lt;/tt&gt; takes on average 45 microseconds. By comparison, forking the &lt;tt&gt;df&lt;/tt&gt; executable takes 2.83 milliseconds. I don&apos;t think we need to worry about caching in JavaDF.&lt;/p&gt;</comment>
                            <comment id="12775182" author="tlipcon" created="Mon, 9 Nov 2009 22:59:57 +0000"  >&lt;p&gt;Cool, thanks for the benchmark. +1 from me after those other changes, then.&lt;/p&gt;</comment>
                            <comment id="12775183" author="kimballa" created="Mon, 9 Nov 2009 23:15:29 +0000"  >&lt;p&gt;new patch; addresses code review items above.&lt;/p&gt;</comment>
                            <comment id="12775190" author="hadoopqa" created="Mon, 9 Nov 2009 23:37:54 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12424412/HADOOP-5958.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12424412/HADOOP-5958.4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 833553.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/131/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/131/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/131/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/131/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/131/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/131/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/131/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/131/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12776235" author="tlipcon" created="Wed, 11 Nov 2009 01:58:31 +0000"  >&lt;p&gt;Reviewed the new patch. Looks good to me, +1&lt;/p&gt;</comment>
                            <comment id="12779504" author="steve_l" created="Wed, 18 Nov 2009 15:54:37 +0000"  >&lt;p&gt;@Aaron, out of curiosity, what happens when you run that same benchmark against an NFS drive? I am worried that the caching is going to be useful for anyone serving up content from a remote FS, even through the Java APIs&lt;/p&gt;</comment>
                            <comment id="12779822" author="kimballa" created="Thu, 19 Nov 2009 04:38:52 +0000"  >&lt;p&gt;Steve,&lt;/p&gt;

&lt;p&gt;Excellent question. I&apos;m out of the office for the week, so I don&apos;t have access to my networked resources to run that test right now. But now that you&apos;ve raised the issue, I&apos;m concerned too. Will check on this next week.&lt;/p&gt;</comment>
                            <comment id="12780905" author="chris.douglas" created="Sat, 21 Nov 2009 03:49:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;what happens when you run that same benchmark against an NFS drive?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Every class using DF assumes- reasonably- that the resource behaves like a local drive. Configuring e.g. LocalDirAllocator or FSDataset to use a remote FS and then worrying that DF might take milliseconds instead of microseconds is focusing on the noise.&lt;/p&gt;

&lt;p&gt;I don&apos;t understand the virtue of the current approach, as DF seems like a fixed set of functionality not meriting an abstract class, factory, etc. Is PosixDF needed for anything but getMount and getFilesystem? The latter has no callers and the former has one that creates an instance and discards all but the mount. This suggests two approaches:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;If nearly all uses of DF involve delegating to a java.io.File, is there any reason not to simply replace uses of DF with File? Everywhere DF is used, a local FS is assumed. As Steve points out, if this were otherwise, other designs would be preferred.&lt;/li&gt;
	&lt;li&gt;If DF retained Shell as a subtype and used the java.io.File methods where appropriate, is the cost really prohibitive? Few of these are created and other than a faster implementation of most calls, nothing else changes. The costs incurred for keeping everything intact appear trivial.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Neither of these is an incompatible change, assuming java.io.File is correctly implemented. They&apos;re not even mutually exclusive.&lt;/p&gt;

&lt;p&gt;A few nits:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Incompatibly moving &lt;tt&gt;DF::main&lt;/tt&gt; seems unnecessary&lt;/li&gt;
	&lt;li&gt;The comment on &lt;tt&gt;DF_INTERVAL_DEFAULT&lt;/tt&gt; should be javadoc&lt;/li&gt;
	&lt;li&gt;While the original didn&apos;t have it either, DF methods should have javadoc&lt;/li&gt;
	&lt;li&gt;In &lt;tt&gt;getPercentUsed&lt;/tt&gt;, using &lt;tt&gt;cap&lt;/tt&gt; in the calculation of &lt;tt&gt;used&lt;/tt&gt; avoids the second call to &lt;tt&gt;getCapacity&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;If the current design is retained (because some architecture has a faulty java.io.File impl?), it should be possible to use PosixDF exclusively using the config passed to &lt;tt&gt;DF::getDF&lt;/tt&gt; (could be named &lt;tt&gt;DF::get&lt;/tt&gt;).&lt;/li&gt;
	&lt;li&gt;The current patch also requires changes to HDFS that must be committed with these. If retained, please open an issue and link&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;getFilesystem&lt;/tt&gt; and &lt;tt&gt;getMounts&lt;/tt&gt; should probably be deprecated, even removed from DF since one needs to explicitly instantiate PosixDF to make the call. The only reason &lt;tt&gt;getMounts&lt;/tt&gt; is there is because that&apos;s the command it&apos;s scraped from, anyway.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12783187" author="kimballa" created="Fri, 27 Nov 2009 23:31:13 +0000"  >&lt;p&gt;If java.io.File is somehow &quot;faulty,&quot; then there are probably much, much larger problems with the given platform. This case is not worth worrying about in detail.&lt;/p&gt;

&lt;p&gt;You&apos;re correct that we could simply stitch the java.io.File methods directly into the existing DF implementation. But then there&apos;s still the subprocess being launched via &lt;tt&gt;fork()&lt;/tt&gt; and not &lt;tt&gt;vfork()&lt;/tt&gt;; the intent of this issue seems to be to eliminate spurious memory overallocation spikes when a &lt;tt&gt;df&lt;/tt&gt; process is exec&apos;d, as well as to eliminate dependencies on platform-specific tools when possible. &lt;/p&gt;

&lt;p&gt;So maybe we should do both of the things you suggest:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Replace uses of &lt;tt&gt;DF&lt;/tt&gt; with direct uses of &lt;tt&gt;File&lt;/tt&gt; so that places that don&apos;t need to shell out to a subprocess, don&apos;t.&lt;/li&gt;
	&lt;li&gt;Replace the relevant internal methods of &lt;tt&gt;DF&lt;/tt&gt; with uses of &lt;tt&gt;File&lt;/tt&gt; so that the result of using &lt;tt&gt;DF&lt;/tt&gt; always matches the result returned by &lt;tt&gt;File&lt;/tt&gt;.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This should avoid incompatible changes and get us closer to platform independence. (Currently there&apos;s no way to get the mount points within Java, so we can&apos;t just ditch DF wholesale. Maybe with Java7....)&lt;/p&gt;</comment>
                            <comment id="12783199" author="kimballa" created="Sat, 28 Nov 2009 02:07:32 +0000"  >&lt;p&gt;I actually realized that run() isn&apos;t called anywhere in Shell itself, so unless DF explicitly calls it, we&apos;ll never invoke a subprocess. So I&apos;ve only had to change the DF class to eliminate subprocesses; run() is only called in getFilesystem() and getMounts() now.&lt;/p&gt;</comment>
                            <comment id="12783202" author="hadoopqa" created="Sat, 28 Nov 2009 02:47:53 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12426311/HADOOP-5958.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12426311/HADOOP-5958.5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 884428.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 173 javac compiler warnings (more than the trunk&apos;s current 172 warnings).&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/151/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/151/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/151/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/151/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/151/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/151/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/151/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/151/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12783214" author="kimballa" created="Sat, 28 Nov 2009 06:59:23 +0000"  >&lt;p&gt;new patch, fixes javac warning. Despite hudson reporting &quot;-1 core tests&quot;, there wasn&apos;t a core test failure in the actual test report (bug in Hudson script?)&lt;/p&gt;</comment>
                            <comment id="12783216" author="hadoopqa" created="Sat, 28 Nov 2009 07:26:19 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12426316/HADOOP-5958.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12426316/HADOOP-5958.6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 884428.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/152/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/152/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/152/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/152/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/152/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/152/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/152/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/152/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12783264" author="kimballa" created="Sat, 28 Nov 2009 19:11:15 +0000"  >&lt;p&gt;Again &amp;#8211; the tests appear to be passing.&lt;/p&gt;</comment>
                            <comment id="12790476" author="chris.douglas" created="Tue, 15 Dec 2009 00:03:56 +0000"  >&lt;p&gt;+1 The latest patch looks good&lt;/p&gt;</comment>
                            <comment id="12790480" author="tomwhite" created="Tue, 15 Dec 2009 00:10:32 +0000"  >&lt;p&gt;I&apos;ve just committed this. Thanks Aaron!&lt;/p&gt;</comment>
                            <comment id="12790484" author="hudson" created="Tue, 15 Dec 2009 00:19:50 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #112 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/112/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/112/&lt;/a&gt;)&lt;br/&gt;
    . Use JDK 1.6 File APIs in DF.java wherever possible. Contributed by Aaron Kimball.&lt;/p&gt;</comment>
                            <comment id="12790670" author="hudson" created="Tue, 15 Dec 2009 11:10:18 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #188 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/188/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/188/&lt;/a&gt;)&lt;br/&gt;
    . Use JDK 1.6 File APIs in DF.java wherever possible. Contributed by Aaron Kimball.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12423528" name="HADOOP-5958-hdfs.patch" size="1462" author="kimballa" created="Thu, 29 Oct 2009 01:59:40 +0000"/>
                            <attachment id="12423527" name="HADOOP-5958-mapred.patch" size="576" author="kimballa" created="Thu, 29 Oct 2009 01:59:30 +0000"/>
                            <attachment id="12423623" name="HADOOP-5958.2.patch" size="18263" author="kimballa" created="Thu, 29 Oct 2009 21:08:53 +0000"/>
                            <attachment id="12423630" name="HADOOP-5958.3.patch" size="18059" author="kimballa" created="Thu, 29 Oct 2009 22:13:27 +0000"/>
                            <attachment id="12424412" name="HADOOP-5958.4.patch" size="18283" author="kimballa" created="Mon, 9 Nov 2009 23:15:29 +0000"/>
                            <attachment id="12426311" name="HADOOP-5958.5.patch" size="5758" author="kimballa" created="Sat, 28 Nov 2009 02:07:32 +0000"/>
                            <attachment id="12426316" name="HADOOP-5958.6.patch" size="5758" author="kimballa" created="Sat, 28 Nov 2009 06:59:23 +0000"/>
                            <attachment id="12423529" name="HADOOP-5958.patch" size="9713" author="kimballa" created="Thu, 29 Oct 2009 02:00:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02qsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>