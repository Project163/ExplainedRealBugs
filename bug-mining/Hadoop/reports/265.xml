<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:34:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-7210] Chown command is not working from FSShell.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-7210</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;chown command is not invoking the setOwner on FileSystem.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12502600">HADOOP-7210</key>
            <summary>Chown command is not working from FSShell.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="umamaheswararao">Uma Maheswara Rao G</assignee>
                                    <reporter username="umamaheswararao">Uma Maheswara Rao G</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Mar 2011 16:33:51 +0000</created>
                <updated>Tue, 15 Nov 2011 00:50:42 +0000</updated>
                            <resolved>Thu, 31 Mar 2011 02:27:23 +0000</resolved>
                                                    <fixVersion>0.23.0</fixVersion>
                                    <component>fs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13012127" author="umamaheswararao" created="Mon, 28 Mar 2011 16:34:23 +0000"  >&lt;p&gt;Based on the passed arguments, it is creating the Handlers. when argument is -chown, it is creating ChownHandler. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cmd.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;-chown&quot;&lt;/span&gt;)) {
      handler = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ChownHandler(argv[startIndex++]);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But here the problem is, it is not populating owner, group values in this constructor. just it is calling supper. It is not populating the group, owner.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; ChownHandler(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cmd) { &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; chgrp
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(cmd);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since it is not populating, setOwner will not be invoked on fileSystem.So permissions will not change.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (newOwner != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || newGroup != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          srcFs.setOwner(file.getPath(), newOwner, newGroup);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13012180" author="daryn" created="Mon, 28 Mar 2011 19:12:14 +0000"  >&lt;p&gt;The root problem is that a prior bug that remove the FileSystem var from the ctors.  This left two ctors with a String signature.  Changing one of the three commands to have a ctor of (String, String) just for the purpose of working around the ambiguity doesn&apos;t seem right.&lt;/p&gt;

&lt;p&gt;My suggestion would be to split the user/group mode parsing into a separate parseOwnerGroup (or similar) method.  Chown&apos;s ctor calls this new method with its own impl, Chgrp overrides the method with it&apos;s own impl.&lt;/p&gt;</comment>
                            <comment id="13012415" author="umamaheswararao" created="Tue, 29 Mar 2011 09:56:11 +0000"  >&lt;p&gt;Hi Daryn,&lt;br/&gt;
Thanks for your comments.&lt;br/&gt;
I agree with you. But I have one suggestion. We can directly override the run method in Chown and Chgrp directly from CmdHandler. Currently the ChgrpHandler extends the ChownHandler thereby use the same run method.  This might have been done to save some lines of code. But because of this, we are providing additional constructor and additional if checks in the code.&lt;/p&gt;

&lt;p&gt;	For example, owner details check is not applicable for chgrp command. The owner will be always null, still we will execute the owner checks for ChgrepHandler also.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; newOwner = (owner == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || owner.equals(file.getOwner())) ?
                        &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; : owner;
  ....
  ....
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (newOwner != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || newGroup != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead of this, Both Chown and Chgrp handlers can directly extend from CmdHandler provide the run method. &lt;/p&gt;

&lt;p&gt;Please tell me your suggestion on this.&lt;/p&gt;</comment>
                            <comment id="13012463" author="daryn" created="Tue, 29 Mar 2011 12:51:30 +0000"  >&lt;p&gt;Good idea, I think that would work too.  In that case, would chgrp even need to inherit from chown?&lt;/p&gt;</comment>
                            <comment id="13012469" author="umamaheswararao" created="Tue, 29 Mar 2011 13:12:57 +0000"  >&lt;p&gt;In this case ChgrpHandler need not extend the ChownHandler &lt;/p&gt;</comment>
                            <comment id="13012532" author="daryn" created="Tue, 29 Mar 2011 15:56:27 +0000"  >&lt;p&gt;+1 Nice work&lt;/p&gt;</comment>
                            <comment id="13012584" author="hadoopqa" created="Tue, 29 Mar 2011 17:58:41 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12474892/HADOOP-7210.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12474892/HADOOP-7210.1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1086455.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;    +1 system test framework.  The patch passed system test framework compile.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/323//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/323//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/323//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/323//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/323//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/323//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13012589" author="tlipcon" created="Tue, 29 Mar 2011 18:07:46 +0000"  >&lt;p&gt;Couple small comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Rather than injecting the &quot;Extn&quot; class into the FS Cache, could you instead set up a new scheme by setting &quot;fs.testfs.impl&quot; to your test class and then calling a command on testfs:///foo? Seems like a cleaner test pattern.&lt;/li&gt;
	&lt;li&gt;In ChgrpHandler you don&apos;t need to check for group == null anymore, right?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13012927" author="umamaheswararao" created="Wed, 30 Mar 2011 12:22:46 +0000"  >&lt;p&gt;Thanks Todd for the comments,&lt;br/&gt;
I have fixed the comments, please check.&lt;/p&gt;</comment>
                            <comment id="13013721" author="tlipcon" created="Wed, 30 Mar 2011 23:01:32 +0000"  >&lt;p&gt;+1, looks good to me and verified that it fixes the tests. waiting on the hudson results before commit.&lt;/p&gt;</comment>
                            <comment id="13013789" author="hadoopqa" created="Thu, 31 Mar 2011 02:01:27 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12474960/HADOOP-7210.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12474960/HADOOP-7210.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1087097.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;    +1 system test framework.  The patch passed system test framework compile.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/324//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/324//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/324//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/324//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/324//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-HADOOP-Build/324//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13013793" author="tlipcon" created="Thu, 31 Mar 2011 02:27:23 +0000"  >&lt;p&gt;Committed to trunk, thanks Uma&lt;/p&gt;</comment>
                            <comment id="13013797" author="hudson" created="Thu, 31 Mar 2011 02:43:05 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #540 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/540/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/540/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7210&quot; title=&quot;Chown command is not working from FSShell.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7210&quot;&gt;&lt;del&gt;HADOOP-7210&lt;/del&gt;&lt;/a&gt;. Chown command is not working from FSShell. Contributed by Uma Maheswara Rao G&lt;/p&gt;</comment>
                            <comment id="13013925" author="hudson" created="Thu, 31 Mar 2011 11:12:41 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #647 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk/647/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk/647/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7210&quot; title=&quot;Chown command is not working from FSShell.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7210&quot;&gt;&lt;del&gt;HADOOP-7210&lt;/del&gt;&lt;/a&gt;. Chown command is not working from FSShell. Contributed by Uma Maheswara Rao G&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12501992">HADOOP-7204</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12474892" name="HADOOP-7210.1.patch" size="8554" author="umamaheswararao" created="Tue, 29 Mar 2011 15:49:09 +0000"/>
                            <attachment id="12474960" name="HADOOP-7210.2.patch" size="8792" author="umamaheswararao" created="Wed, 30 Mar 2011 12:18:36 +0000"/>
                            <attachment id="12474793" name="HADOOP-7210.patch" size="7339" author="umamaheswararao" created="Mon, 28 Mar 2011 17:16:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77523</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09kcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>53729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>