<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:37:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-8316] Audit logging should be disabled by default</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-8316</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7633&quot; title=&quot;log4j.properties should be added to the hadoop conf on deploy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7633&quot;&gt;&lt;del&gt;HADOOP-7633&lt;/del&gt;&lt;/a&gt; made hdfs, mr and security audit logging on by default (INFO level) in log4j.properties used for the packages, this then got copied over to the non-packaging log4j.properties in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8216&quot; title=&quot;address log4j.properties inconsistencies btw main and template dirs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8216&quot;&gt;&lt;del&gt;HADOOP-8216&lt;/del&gt;&lt;/a&gt; (which made them consistent).&lt;/p&gt;

&lt;p&gt;Seems like we should keep with the v1.x setting which is disabled (WARNING level) by default. There&apos;s a performance overhead to audit logging, and &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7633&quot; title=&quot;log4j.properties should be added to the hadoop conf on deploy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7633&quot;&gt;&lt;del&gt;HADOOP-7633&lt;/del&gt;&lt;/a&gt; provided not rationale (just &quot;We should add the audit logs as part of default confs&quot;) as to why they were enabled for the packages.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12552776">HADOOP-8316</key>
            <summary>Audit logging should be disabled by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eli">Eli Collins</assignee>
                                    <reporter username="eli2">Eli Collins</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Apr 2012 02:34:24 +0000</created>
                <updated>Thu, 11 Oct 2012 17:45:05 +0000</updated>
                            <resolved>Fri, 11 May 2012 19:25:54 +0000</resolved>
                                    <version>2.0.0-alpha</version>
                                    <fixVersion>2.0.2-alpha</fixVersion>
                                    <component>conf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13273383" author="eli2" created="Fri, 11 May 2012 16:05:41 +0000"  >&lt;p&gt;Patch attached. &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;update hadoop.security.logger to NullAppender in log4j.properties, it is set explicitly by default in the bin and env scripts, so this is mostly a nop&lt;/li&gt;
	&lt;li&gt;hdfs/mapred.audit.logger and now default to the NullAppender in log4j.properties. Update hdfs.audit.logger in hadoop-env.sh to match. This is being made configurable in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8224&quot; title=&quot;Don&amp;#39;t hardcode hdfs.audit.logger in the scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8224&quot;&gt;&lt;del&gt;HADOOP-8224&lt;/del&gt;&lt;/a&gt;. mapred.audit.logger is not set in the bin or env scripts and is dead code, filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8392&quot; title=&quot;Add YARN audit logging to log4j.properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8392&quot;&gt;&lt;del&gt;HADOOP-8392&lt;/del&gt;&lt;/a&gt; for that (and to hookup RM/NM).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Testing, verified the hdfs audit log is no longer automatically created and logged to when run from a tarball install.&lt;/p&gt;</comment>
                            <comment id="13273409" author="hadoopqa" created="Fri, 11 May 2012 16:39:39 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12526538/hadoop-8316.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12526538/hadoop-8316.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/984//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/984//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/984//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/984//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13273472" author="phunt" created="Fri, 11 May 2012 18:08:54 +0000"  >&lt;p&gt;Reviewed the patch, looks good to me.&lt;/p&gt;</comment>
                            <comment id="13273520" author="phunt" created="Fri, 11 May 2012 19:19:31 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13273528" author="eli2" created="Fri, 11 May 2012 19:25:54 +0000"  >&lt;p&gt;I&apos;ve committed this and merged to branch-2.&lt;/p&gt;</comment>
                            <comment id="13273538" author="hudson" created="Fri, 11 May 2012 19:36:08 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk-Commit #2307 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2307/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2307/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8316&quot; title=&quot;Audit logging should be disabled by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8316&quot;&gt;&lt;del&gt;HADOOP-8316&lt;/del&gt;&lt;/a&gt;. Audit logging should be disabled by default. Contributed by Eli Collins (Revision 1337334)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/hadoop-env.sh&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13273547" author="hudson" created="Fri, 11 May 2012 19:42:08 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #2233 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2233/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2233/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8316&quot; title=&quot;Audit logging should be disabled by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8316&quot;&gt;&lt;del&gt;HADOOP-8316&lt;/del&gt;&lt;/a&gt;. Audit logging should be disabled by default. Contributed by Eli Collins (Revision 1337334)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/hadoop-env.sh&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13273573" author="hudson" created="Fri, 11 May 2012 20:16:56 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk-Commit #2250 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2250/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2250/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8316&quot; title=&quot;Audit logging should be disabled by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8316&quot;&gt;&lt;del&gt;HADOOP-8316&lt;/del&gt;&lt;/a&gt;. Audit logging should be disabled by default. Contributed by Eli Collins (Revision 1337334)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/hadoop-env.sh&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13273983" author="hudson" created="Sat, 12 May 2012 13:09:35 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1041 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1041/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1041/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8316&quot; title=&quot;Audit logging should be disabled by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8316&quot;&gt;&lt;del&gt;HADOOP-8316&lt;/del&gt;&lt;/a&gt;. Audit logging should be disabled by default. Contributed by Eli Collins (Revision 1337334)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/hadoop-env.sh&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13274005" author="hudson" created="Sat, 12 May 2012 14:03:36 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1077 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1077/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1077/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8316&quot; title=&quot;Audit logging should be disabled by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8316&quot;&gt;&lt;del&gt;HADOOP-8316&lt;/del&gt;&lt;/a&gt;. Audit logging should be disabled by default. Contributed by Eli Collins (Revision 1337334)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337334&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/hadoop-env.sh&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12522943">HADOOP-7633</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12526538" name="hadoop-8316.txt" size="4256" author="eli2" created="Fri, 11 May 2012 16:05:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i018uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>