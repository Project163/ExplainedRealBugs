<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:41:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-8648] libhadoop:  native CRC32 validation crashes when io.bytes.per.checksum=1</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-8648</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;The native CRC32 code, found in &lt;tt&gt;pipelined_crc32c&lt;/tt&gt;, crashes when chunksize is set to 1.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;12:27:14,886  INFO NativeCodeLoader:50 - Loaded the &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;-hadoop library
#
# A fatal error has been detected by the Java &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment:
#
#  SIGSEGV (0xb) at pc=0x00007fa00ee5a340, pid=24100, tid=140326058854144
#
# JRE version: 6.0_29-b11
# Java VM: Java HotSpot(TM) 64-Bit Server VM (20.4-b02 mixed mode linux-amd64 compressed oops)
# Problematic frame:
# C  [libhadoop.so.1.0.0+0x8340]  pipelined_crc32c+0xa0
#
# An error report file with more information is saved as:
# /h/hs_err_pid24100.log
#
# If you would like to submit a bug report, please visit:
#   http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/webapps/bugreport/crash.jsp
&lt;/span&gt;#
Aborted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Java CRC code works fine in this case.&lt;/p&gt;

&lt;p&gt;Choosing blocksize=1 is a _&lt;em&gt;very&lt;/em&gt;_ odd choice.  It means that we&apos;re storing a 4-byte checksum for every byte. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-rw-r--r--  1 cmccabe users  49398 Aug  3 11:33 blk_4702510289566780538
-rw-r--r--  1 cmccabe users 197599 Aug  3 11:33 blk_4702510289566780538_1199.meta
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, obviously crashing is never the right thing to do.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12601418">HADOOP-8648</key>
            <summary>libhadoop:  native CRC32 validation crashes when io.bytes.per.checksum=1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cmccabe">Colin McCabe</assignee>
                                    <reporter username="cmccabe">Colin McCabe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Aug 2012 19:41:40 +0000</created>
                <updated>Thu, 11 Oct 2012 17:45:04 +0000</updated>
                            <resolved>Wed, 5 Sep 2012 22:31:45 +0000</resolved>
                                    <version>2.0.0-alpha</version>
                                    <fixVersion>2.0.2-alpha</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="13428338" author="tlipcon" created="Fri, 3 Aug 2012 20:12:08 +0000"  >&lt;p&gt;you mean checksum chunk size, right? not blocksize.&lt;/p&gt;</comment>
                            <comment id="13428345" author="cmccabe" created="Fri, 3 Aug 2012 20:20:23 +0000"  >&lt;p&gt;yeah, I meant to write chunk size (io.bytes.per.checksum).&lt;/p&gt;</comment>
                            <comment id="13428391" author="cmccabe" created="Fri, 3 Aug 2012 21:13:12 +0000"  >&lt;p&gt;note: I tested this patch with libhadoop.so copied to hadoop-hdfs-project/hadoop-hdfs/target/native/target/usr/local/lib/ to work around bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3753&quot; title=&quot;Tests don&amp;#39;t run with native libraries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3753&quot;&gt;&lt;del&gt;HDFS-3753&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13428408" author="cmccabe" created="Fri, 3 Aug 2012 21:58:44 +0000"  >&lt;p&gt;In the test, re-create the dfsclient each time, to make sure the new settings take effect.  The value of DFS_BYTES_PER_CHECKSUM_KEY is cached in DfsClient.&lt;/p&gt;</comment>
                            <comment id="13428509" author="hadoopqa" created="Sat, 4 Aug 2012 00:45:10 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12539101/HADOOP-8648.002.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12539101/HADOOP-8648.002.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.util.TestDataChecksum&lt;br/&gt;
                  org.apache.hadoop.hdfs.server.datanode.TestDataNodeVolumeFailureReporting&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1248//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1248//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1248//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1248//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13428514" author="tlipcon" created="Sat, 4 Aug 2012 01:01:07 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (unlikely((uintptr_t)(sums_addr + sums_offset) &amp;amp; 0x3)) {
+    &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; buf[256];
+    snprintf(buf, sizeof(buf), &lt;span class=&quot;code-quote&quot;&gt;&quot;sums_addr + sums_offset must be aligned &quot;&lt;/span&gt;
+             &lt;span class=&quot;code-quote&quot;&gt;&quot;to a 4-&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; boundary!  sums_addr = %p, sums_offset = %d.&quot;&lt;/span&gt;,
+             sums_addr, sums_offset);
+    THROW(env, &lt;span class=&quot;code-quote&quot;&gt;&quot;java/lang/IllegalArgumentException&quot;&lt;/span&gt;, buf);
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that true? I don&apos;t think we always fit this requirement. I thought the native code worked even with unaligned pointers.&lt;/p&gt;

&lt;hr /&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Can you add a direct unit test to TestDataChecksum for these cases? I don&apos;t think testing this from HDFS is necessarily the best way when you could trigger the condition explicitly in the checksum code.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m also a little confused by the changes in the C code. eg:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;- *   block_size : The size of each block in bytes.
+ *   block_size : The size of each block in bytes.  Must be &amp;gt;= 8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why is that the case? It seems like the code path should still work fine there, just setting counter = 0 and skipping the initial while loop.&lt;/p&gt;</comment>
                            <comment id="13432917" author="cmccabe" created="Mon, 13 Aug 2012 05:01:05 +0000"  >&lt;ul&gt;
	&lt;li&gt;pipelined_crc32c: fix bug in inline assembly for &quot;remainder&quot; bytes&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;add test_bulk_crc32 unit test&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;bulk_crc32.c: use constant rather than function to initialize crc32&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;add bulk_calculate_crc function for unit testing purposes&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;always initialize crc1, crc2, crc3 (not a bug, but using uninitialized values&lt;br/&gt;
is confusing)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13432920" author="cmccabe" created="Mon, 13 Aug 2012 05:03:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is that true? I don&apos;t think we always fit this requirement. I thought the native code worked even with unaligned pointers.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I checked out the Intel reference manual, and you&apos;re correct.  Also, it seems that unaligned instructions have a smaller penalty on the new i7 CPUs, according to reports online.  So I got rid of the alignment check.&lt;/p&gt;

&lt;p&gt;The new patch has a different approach which fixes the inline assembly rather than disallowing it when there were remainder bytes.&lt;/p&gt;</comment>
                            <comment id="13432934" author="hadoopqa" created="Mon, 13 Aug 2012 05:50:12 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12540604/HADOOP-8648.003.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12540604/HADOOP-8648.003.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestZKFailoverController&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1280//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1280//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1280//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1280//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13442668" author="cmccabe" created="Mon, 27 Aug 2012 19:56:29 +0000"  >&lt;p&gt;The bug in the inline assembly is that there are extra parameters.  You can see this clearly in the patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@@ -433,7 +456,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void pipelined_crc32c(uint32_t *crc1, uint32_t *crc2, uint32_t *crc3, con
         &lt;span class=&quot;code-quote&quot;&gt;&quot;crc32b (%5), %0;\n\t&quot;&lt;/span&gt;
         &lt;span class=&quot;code-quote&quot;&gt;&quot;crc32b (%5,%4,1), %1;\n\t&quot;&lt;/span&gt;
          : &lt;span class=&quot;code-quote&quot;&gt;&quot;=r&quot;&lt;/span&gt;(c1), &lt;span class=&quot;code-quote&quot;&gt;&quot;=r&quot;&lt;/span&gt;(c2) 
-         : &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c1), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c2), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c3), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(block_size), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(bdata)
+         : &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c1), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c2), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(block_size), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(bdata)
         );
         bdata++;
         remainder--;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can see that it doesn&apos;t make sense for the assembly to have 7 parameters, because only 6 are actually used.  And indeed, the fact that &apos;c3&apos; is inserted in the parameter list is the bug.  Another thing to keep in mind is that c3 is actually uninitialized at this point-- another clue that we should not be using it.&lt;/p&gt;

&lt;p&gt;Incidentally, this patch unconditionally initializes c3 to 0xffffffff just to avoid heisenbugs in the future.&lt;/p&gt;</comment>
                            <comment id="13442669" author="cmccabe" created="Mon, 27 Aug 2012 19:57:42 +0000"  >&lt;p&gt;I should say &quot;c3 is &lt;b&gt;possibly&lt;/b&gt; uninitialized at this point&quot;.&lt;/p&gt;</comment>
                            <comment id="13442756" author="adi2" created="Mon, 27 Aug 2012 22:03:36 +0000"  >&lt;p&gt;I didn&apos;t understand why this code was wrong before, so I looked into it in more depth and I agree with Colin&apos;s analysis and patch.  In the interest of making this easier for others to understand, here are a few references.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html&lt;/a&gt; explains the GCC inline assembly syntax, and in particular how the &lt;tt&gt;asm(&quot;some assembly&quot; : inputconstraints : outputconstraints : clobbers)&lt;/tt&gt; syntax is parsed, and how the constraints map to the &lt;tt&gt;%n&lt;/tt&gt; in the assembly string.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://asm.sourceforge.net/articles/rmiyagi-inline-asm.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://asm.sourceforge.net/articles/rmiyagi-inline-asm.txt&lt;/a&gt; describes the x86 indexed addressing modes, in particular explaining how &lt;tt&gt;(%5,%4,1)&lt;/tt&gt; is interpreted as &quot;the word of memory at &lt;tt&gt;%5 + 1 * %4&lt;/tt&gt;&quot;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://softwarecommunity.intel.com/userfiles/en-us/d9156103.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://softwarecommunity.intel.com/userfiles/en-us/d9156103.pdf&lt;/a&gt; describes the details of the SSE4 CRC32 instruction in mind-numbing detail, but that&apos;s not especially relevant to this bug.  All we need to know is that &lt;tt&gt;crc32&lt;/tt&gt;&lt;em&gt;size&lt;/em&gt; operates on 8, 32, or 64 bits depending on &lt;em&gt;size&lt;/em&gt;, and its first argument is read-only while its second argument is used as an accumulator (read, modify, write).&lt;/p&gt;

&lt;p&gt;Finally, the comments in bulk_crc32.c are very helpful.  Critically, the &lt;tt&gt;pipelined_crc32c&lt;/tt&gt; routine optimizes by computing the CRC of up to 3 blocks in parallel.  The block size is passed in to &lt;tt&gt;pipelined_crc32c&lt;/tt&gt; as &lt;tt&gt;block_size&lt;/tt&gt;.  As we can see by looking at one of the other asm blocks in pipelined_crc32c, the core idea is that we maintain &lt;tt&gt;bdata&lt;/tt&gt; as a pointer to the word being CRCed in the first block, and then use indexed addressing to compute the appropriate address for the word being CRCed in the second (and possibly third) blocks.&lt;/p&gt;

&lt;p&gt;With all that under our belt, the bug in this code becomes clear:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-quote&quot;&gt;&quot;crc32b (%5), %0;\n\t&quot;&lt;/span&gt;
        &lt;span class=&quot;code-quote&quot;&gt;&quot;crc32b (%5,%4,1), %1;\n\t&quot;&lt;/span&gt;
         : &lt;span class=&quot;code-quote&quot;&gt;&quot;=r&quot;&lt;/span&gt;(c1), &lt;span class=&quot;code-quote&quot;&gt;&quot;=r&quot;&lt;/span&gt;(c2)
         : &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c1), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c2), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c3), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(block_size), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(bdata)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The first crc32b instruction dereferences %5 which is &lt;tt&gt;block_size&lt;/tt&gt;, but comparing to any other example of the similar asm block such as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-quote&quot;&gt;&quot;crc32q (%7), %0;\n\t&quot;&lt;/span&gt;
        &lt;span class=&quot;code-quote&quot;&gt;&quot;crc32q (%7,%6,1), %1;\n\t&quot;&lt;/span&gt;
        &lt;span class=&quot;code-quote&quot;&gt;&quot;crc32q (%7,%6,2), %2;\n\t&quot;&lt;/span&gt;
         : &lt;span class=&quot;code-quote&quot;&gt;&quot;=r&quot;&lt;/span&gt;(c1), &lt;span class=&quot;code-quote&quot;&gt;&quot;=r&quot;&lt;/span&gt;(c2), &lt;span class=&quot;code-quote&quot;&gt;&quot;=r&quot;&lt;/span&gt;(c3)
         : &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c1), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c2), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(c3), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(block_size), &lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;(data)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;it should be dereferencing &lt;tt&gt;bdata&lt;/tt&gt;.  And this is caused because the output constraints list includes &lt;tt&gt;c3&lt;/tt&gt; even though the input constraints list does not, also different from all other examples of the asm block.&lt;/p&gt;

&lt;p&gt;Therefore, Colin&apos;s fix to remove c3 from the list causes the %4 and %5 references to refer to their intended operands &lt;tt&gt;block_size&lt;/tt&gt; and &lt;tt&gt;bdata&lt;/tt&gt; respectively.&lt;/p&gt;</comment>
                            <comment id="13442761" author="adi2" created="Mon, 27 Aug 2012 22:11:07 +0000"  >&lt;p&gt;I&apos;ve reviewed the patch closely and agree that it&apos;s right.  The only tiny improvement I&apos;d make is to fix this misleading comment in the 64-bit version of &lt;tt&gt;bulk_crc32.c&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;374   &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; remainder = block_size % sizeof(uint64_t);
...
401       /* Take care of the remainder. They are only up to three bytes,
402        * so performing &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-level crc32 won&apos;t take much time.
403        */
404       bdata = (uint8_t*)data;
405       &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (likely(remainder)) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The comment says &quot;up to three bytes&quot; but since this is a uint64_t at a time, it should say &quot;up to seven bytes&quot;.  This came from a copy-and-paste from the 32-bit version.&lt;/p&gt;

&lt;p&gt;Ideally we could refactor the 32-bit and 64-bit versions to one using a &lt;tt&gt;#define WORD_T uint32_t&lt;/tt&gt; or similar, but let&apos;s do that in a followup jira.&lt;/p&gt;

&lt;p&gt;I&apos;ve also reviewed the original patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7446&quot; title=&quot;Implement CRC32C native code using SSE4.2 instructions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7446&quot;&gt;&lt;del&gt;HADOOP-7446&lt;/del&gt;&lt;/a&gt; and confirmed that there weren&apos;t any other similar bugs added.&lt;/p&gt;

&lt;p&gt;Note that the erroneous asm is only hit if the HDFS blocksize is not a multiple of the wordsize, which AFAICS can only happen for blocksize&amp;lt;7.  And, the bug lurked because the remainder codepath didn&apos;t have any tests, so thanks for adding those.&lt;/p&gt;

&lt;p&gt;Overall, LGTM.  Fix the comment if you choose, else ship it.&lt;/p&gt;</comment>
                            <comment id="13446543" author="cmccabe" created="Sat, 1 Sep 2012 00:52:13 +0000"  >&lt;ul&gt;
	&lt;li&gt;fix comment&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13446588" author="hadoopqa" created="Sat, 1 Sep 2012 03:45:29 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12543386/HADOOP-8648.004.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12543386/HADOOP-8648.004.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1396//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1396//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1396//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1396//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13449108" author="eli" created="Wed, 5 Sep 2012 20:42:12 +0000"  >&lt;p&gt;The new native_tests execution should be in the &quot;native&quot; profile not the &quot;ApacheDS KDC server&quot; profile. Otherwise looks great.&lt;/p&gt;

&lt;p&gt;Excellent work fixing and thanks Andy for the detailed explanation.&lt;/p&gt;</comment>
                            <comment id="13449126" author="cmccabe" created="Wed, 5 Sep 2012 20:56:44 +0000"  >&lt;ul&gt;
	&lt;li&gt;add test_bulk_crc32 execution to the native profile, not the kerberos profile.  (Good catch, Eli.)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13449153" author="hadoopqa" created="Wed, 5 Sep 2012 21:23:11 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12543909/HADOOP-8648.005.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12543909/HADOOP-8648.005.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1408//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1408//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1408//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1408//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13449192" author="eli" created="Wed, 5 Sep 2012 22:16:16 +0000"  >&lt;p&gt;+1 lgtm&lt;/p&gt;</comment>
                            <comment id="13449207" author="hudson" created="Wed, 5 Sep 2012 22:25:38 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #2688 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2688/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2688/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8648&quot; title=&quot;libhadoop:  native CRC32 validation crashes when io.bytes.per.checksum=1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8648&quot;&gt;&lt;del&gt;HADOOP-8648&lt;/del&gt;&lt;/a&gt;. libhadoop: native CRC32 validation crashes when io.bytes.per.checksum=1. Contributed by Colin Patrick McCabe (Revision 1381419)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util/test_bulk_crc32.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13449212" author="hudson" created="Wed, 5 Sep 2012 22:27:13 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk-Commit #2751 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2751/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2751/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8648&quot; title=&quot;libhadoop:  native CRC32 validation crashes when io.bytes.per.checksum=1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8648&quot;&gt;&lt;del&gt;HADOOP-8648&lt;/del&gt;&lt;/a&gt;. libhadoop: native CRC32 validation crashes when io.bytes.per.checksum=1. Contributed by Colin Patrick McCabe (Revision 1381419)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util/test_bulk_crc32.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13449218" author="eli" created="Wed, 5 Sep 2012 22:31:45 +0000"  >&lt;p&gt;I&apos;ve committed this and merged to branch-2. Thanks Colin!&lt;/p&gt;</comment>
                            <comment id="13449244" author="hudson" created="Wed, 5 Sep 2012 23:12:20 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk-Commit #2712 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2712/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2712/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8648&quot; title=&quot;libhadoop:  native CRC32 validation crashes when io.bytes.per.checksum=1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8648&quot;&gt;&lt;del&gt;HADOOP-8648&lt;/del&gt;&lt;/a&gt;. libhadoop: native CRC32 validation crashes when io.bytes.per.checksum=1. Contributed by Colin Patrick McCabe (Revision 1381419)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util/test_bulk_crc32.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13449621" author="hudson" created="Thu, 6 Sep 2012 13:03:54 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1157 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1157/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1157/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8648&quot; title=&quot;libhadoop:  native CRC32 validation crashes when io.bytes.per.checksum=1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8648&quot;&gt;&lt;del&gt;HADOOP-8648&lt;/del&gt;&lt;/a&gt;. libhadoop: native CRC32 validation crashes when io.bytes.per.checksum=1. Contributed by Colin Patrick McCabe (Revision 1381419)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util/test_bulk_crc32.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13449658" author="hudson" created="Thu, 6 Sep 2012 13:40:15 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1188 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1188/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1188/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8648&quot; title=&quot;libhadoop:  native CRC32 validation crashes when io.bytes.per.checksum=1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8648&quot;&gt;&lt;del&gt;HADOOP-8648&lt;/del&gt;&lt;/a&gt;. libhadoop: native CRC32 validation crashes when io.bytes.per.checksum=1. Contributed by Colin Patrick McCabe (Revision 1381419)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
eli : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381419&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/util/bulk_crc32.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/test/org/apache/hadoop/util/test_bulk_crc32.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12601249">HDFS-3753</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12601419">HDFS-3759</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12539098" name="HADOOP-8648.001.patch" size="6745" author="cmccabe" created="Fri, 3 Aug 2012 21:13:12 +0000"/>
                            <attachment id="12539101" name="HADOOP-8648.002.patch" size="6719" author="cmccabe" created="Fri, 3 Aug 2012 21:58:44 +0000"/>
                            <attachment id="12540604" name="HADOOP-8648.003.patch" size="13144" author="cmccabe" created="Mon, 13 Aug 2012 05:01:05 +0000"/>
                            <attachment id="12543386" name="HADOOP-8648.004.patch" size="13432" author="cmccabe" created="Sat, 1 Sep 2012 00:52:13 +0000"/>
                            <attachment id="12543909" name="HADOOP-8648.005.patch" size="13432" author="cmccabe" created="Wed, 5 Sep 2012 20:56:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i015h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>