<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:34:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6875] [Herriot] Cleanup of temp. configurations is needed upon restart of a cluster</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6875</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;1. New configuration directory is not cleaning up after resetting to default configuration directory in a pushconfig functionality. Because of this reason, it&apos;s giving  permission denied problem for a folder, if  other user tried running the tests in the same cluster with pushconfig functionality. I could see this issue while running the tests on a cluster with security enabled and different user.&lt;/p&gt;

&lt;p&gt;I have added the functionality for above issue and attaching the patch&lt;/p&gt;

&lt;p&gt;2.  Throwing IOException and it says token is expired while running  the tests. I could see this issue in a secure cluster.&lt;/p&gt;

&lt;p&gt;This issue has been resolved by setting the following attribute in the configuration. &lt;/p&gt;

&lt;p&gt;mapreduce.job.complete.cancel.delegation.tokens=false&lt;/p&gt;

&lt;p&gt;adding/updating this attribute in the push configuration functionality while creating the new configuration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12468442">HADOOP-6875</key>
            <summary>[Herriot] Cleanup of temp. configurations is needed upon restart of a cluster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vinaythota">Vinay Kumar Thota</assignee>
                                    <reporter username="vinaythota">Vinay Kumar Thota</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Jul 2010 14:50:19 +0000</created>
                <updated>Mon, 27 Sep 2010 04:14:37 +0000</updated>
                            <resolved>Fri, 23 Jul 2010 19:39:25 +0000</resolved>
                                    <version>0.21.0</version>
                                    <fixVersion>0.21.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12884721" author="vinaythota" created="Fri, 2 Jul 2010 15:36:56 +0000"  >&lt;p&gt;Initial patch for yahoo dist security branch.&lt;/p&gt;</comment>
                            <comment id="12884725" author="vinaythota" created="Fri, 2 Jul 2010 15:45:46 +0000"  >&lt;p&gt;Patch for trunk.&lt;/p&gt;</comment>
                            <comment id="12885406" author="iyappans" created="Tue, 6 Jul 2010 03:44:02 +0000"  >&lt;p&gt;+    if (props.get(MAPRED_DELEGATION_TOKEN) == null) &lt;/p&gt;
{
+      initConf.setBoolean(MAPRED_DELEGATION_TOKEN, false);
+    }

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I think it should be, if the delegation token exists, then it should be set to false.&lt;br/&gt;
So, should not it be  if (props.get(MAPRED_DELEGATION_TOKEN) != null) {&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12885792" author="cos" created="Wed, 7 Jul 2010 02:34:26 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;For trunk, the config key is already defined as in
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;src/java/org/apache/hadoop/mapreduce/MRJobConfig.java:  public static final String JOB_CANCEL_DELEGATION_TOKEN = &quot;mapreduce.job.complete.cancel.delegation.tokens&quot;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Also, please link if this JIRA to its blockers if any.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12885999" author="vinaythota" created="Wed, 7 Jul 2010 17:42:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;* I think it should be, if the delegation token exists, then it should be set to false. So, should not it be if (props.get(MAPRED_DELEGATION_TOKEN) != null) {&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think you thought that I am checking the DELEGATION_TOKEN with configuration.However I am not checking with the config. I am checking in the hashtable whether user has set the property are not in the test. If not, I am setting the default value false.&lt;/p&gt;</comment>
                            <comment id="12886228" author="iyappans" created="Thu, 8 Jul 2010 04:30:34 +0000"  >&lt;p&gt;Ok.&lt;/p&gt;</comment>
                            <comment id="12891233" author="vinaythota" created="Thu, 22 Jul 2010 16:35:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;the config key is already defined as in mapreduce project(src/java/org/apache/hadoop/mapreduce/MRJobConfig.java). But the patch belongs to common project and it doesn&apos;t have defined config key.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="12891235" author="vinaythota" created="Thu, 22 Jul 2010 16:40:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;the config key is already defined as in mapreduce project(src/java/org/apache/hadoop/mapreduce/MRJobConfig.java)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The patch belongs to common project and it doesn&apos;t have defined config key.&lt;/p&gt;</comment>
                            <comment id="12891338" author="cos" created="Thu, 22 Jul 2010 21:11:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;The patch belongs to common project and it doesn&apos;t have defined config key.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is an indication why this patch shoudn&apos;t go to the Common project then. If a base project has a knowledge about an upstream module - this is plain wrong!&lt;br/&gt;
I missed that during the first review - I think the name of the patch file confused me.&lt;/p&gt;

&lt;p&gt;So, it is big no-no. -1&lt;/p&gt;</comment>
                            <comment id="12891339" author="cos" created="Thu, 22 Jul 2010 21:12:12 +0000"  >&lt;p&gt;Basically, if you need to have this kind of properties for MR - it should go into concrete implementation of a cluster. I believe this is MRCLuster in this case.&lt;/p&gt;</comment>
                            <comment id="12891499" author="vinaythota" created="Fri, 23 Jul 2010 07:13:14 +0000"  >&lt;p&gt;I totally agreed with you and It&apos;s valid. So I have created separate ticket(&lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1962&quot; title=&quot;[Herriot] IOException throws and it fails with token expired while running the tests.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1962&quot;&gt;MAPREDUCE-1962&lt;/a&gt;) for that path and remaining thing keeping as it is.&lt;/p&gt;</comment>
                            <comment id="12891537" author="vinaythota" created="Fri, 23 Jul 2010 09:35:39 +0000"  >&lt;p&gt;Excluded the mapreduce related content in the patch.&lt;/p&gt;</comment>
                            <comment id="12891548" author="balajirg" created="Fri, 23 Jul 2010 10:19:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12891696" author="cos" created="Fri, 23 Jul 2010 18:06:33 +0000"  >&lt;p&gt;+1 patch looks good.&lt;/p&gt;</comment>
                            <comment id="12891713" author="hadoopqa" created="Fri, 23 Jul 2010 18:30:42 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12450293/HADOOP-6875.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12450293/HADOOP-6875.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 966919.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/629/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/629/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/629/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/629/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/629/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/629/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/629/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/629/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12891746" author="cos" created="Fri, 23 Jul 2010 19:13:54 +0000"  >&lt;p&gt;Going to commit it because all javadoc warnings seem to be coming from security related classes. Current patch is unlikely to introduce any of those.&lt;/p&gt;</comment>
                            <comment id="12891758" author="cos" created="Fri, 23 Jul 2010 19:39:25 +0000"  >&lt;p&gt;I have committed this to the trunk and 0.21 branch. Thanks Vinay.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12463953">MAPREDUCE-1774</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12448579" name="1913-ydist-security.patch" size="1618" author="vinaythota" created="Fri, 2 Jul 2010 15:36:56 +0000"/>
                            <attachment id="12450292" name="6875-ydist-security.patch" size="1138" author="vinaythota" created="Fri, 23 Jul 2010 10:11:17 +0000"/>
                            <attachment id="12450291" name="6875-ydist-security.patch" size="1150" author="vinaythota" created="Fri, 23 Jul 2010 09:35:39 +0000"/>
                            <attachment id="12450293" name="HADOOP-6875.patch" size="842" author="vinaythota" created="Fri, 23 Jul 2010 10:11:17 +0000"/>
                            <attachment id="12450191" name="HADOOP-6875.patch" size="1539" author="vinaythota" created="Thu, 22 Jul 2010 17:12:51 +0000"/>
                            <attachment id="12448581" name="MAPREDUCE-1913.patch" size="1529" author="vinaythota" created="Fri, 2 Jul 2010 15:45:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d3yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>herriot</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>