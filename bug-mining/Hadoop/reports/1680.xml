<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:48:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-12352] Delay in checkpointing Trash can leave trash for 2 intervals before deleting</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-12352</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;When the fs.trash.checkpoint.interval and the fs.trash.interval are set non-zero and the same, it is possible for trash to be left for two intervals.&lt;/p&gt;

&lt;p&gt;The TrashPolicyDefault will use a floor and ceiling function to ensure that the Trash will be checkpointed every &quot;interval&quot; of minutes.&lt;/p&gt;

&lt;p&gt;Each user&apos;s trash is checkpointed individually.  The time resolution of the checkpoint timestamp is to the second.&lt;/p&gt;

&lt;p&gt;If the seconds switch while one user is checkpointing, then the next user&apos;s timestamp will be later.&lt;/p&gt;

&lt;p&gt;This will cause the next user&apos;s checkpoint to not be deleted at the next interval.&lt;/p&gt;

&lt;p&gt;I have recreated this in a lab cluster &lt;/p&gt;

&lt;p&gt;I also have a suggestion for a patch that I can upload later tonight after testing it further.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12819876">HADOOP-12352</key>
            <summary>Delay in checkpointing Trash can leave trash for 2 intervals before deleting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="caseyjbrotherton">Casey Brotherton</assignee>
                                    <reporter username="caseyjbrotherton">Casey Brotherton</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Apr 2015 23:18:06 +0000</created>
                <updated>Tue, 30 Aug 2016 01:23:49 +0000</updated>
                            <resolved>Tue, 25 Aug 2015 05:53:27 +0000</resolved>
                                    <version>2.7.1</version>
                                    <fixVersion>2.8.0</fixVersion>
                    <fixVersion>3.0.0-alpha1</fixVersion>
                                    <component>trash</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14488722" author="qwertymaniac" created="Fri, 10 Apr 2015 01:28:40 +0000"  >&lt;p&gt;Does it make sense to not let the checkpoint time be equal to the clearing interval though? I&apos;m not certain what benefit comes out of it anyway.&lt;/p&gt;</comment>
                            <comment id="14489732" author="caseyjbrotherton" created="Fri, 10 Apr 2015 14:53:22 +0000"  >&lt;p&gt;Hello Harsh, &lt;/p&gt;

&lt;p&gt;Thanks for the comment.&lt;/p&gt;

&lt;p&gt;The sleeping time is based on fs.trash.checkpoint.interval.&lt;/p&gt;

&lt;p&gt;There is code to change the checkpoint interval to not be larger than the deletion interval in the constructor.&lt;br/&gt;
It could be changed to ensure that the checkpoint is no more than half the deletion interval.&lt;/p&gt;

&lt;p&gt;One thing to consider is that currently the maximum time that you can recover a deleted file from trash is a fs.trash.checkpoint.interval + fs.trash.interval.&lt;/p&gt;

&lt;p&gt;( With both trash defaults set to 24 hours, deleting a file one minute after midnight, that file gets placed into a checkpoint 24 hours later, &lt;br/&gt;
and the checkpoint is deleted 24 hours later. )&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Casey&lt;/p&gt;</comment>
                            <comment id="14490153" author="caseyjbrotherton" created="Fri, 10 Apr 2015 19:09:29 +0000"  >&lt;p&gt;These are changes to fix the checkpoint for all users to the same checkpoint time.  &lt;/p&gt;

&lt;p&gt;I have tested those changes locally.  There are also changes to change the checkpoint to be a maximum of 1/2 of the deletion interval.&lt;/p&gt;

&lt;p&gt;I have not yet tested those changes, but will be doing so over the weekend.&lt;br/&gt;
Let me know if that is what you were thinking about.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Casey&lt;/p&gt;</comment>
                            <comment id="14505791" author="qwertymaniac" created="Tue, 21 Apr 2015 21:22:35 +0000"  >&lt;p&gt;Thanks for explaining that Casey. It makes sense to constant-ise the checkpoint date for uniformity - and the fix for this looks alright to me.&lt;/p&gt;

&lt;p&gt;It also may make sense that people want to set checkpoint intervals equal to the trash intervals. I think we can remove the change in the patch of capping it to 1/2 the value of intervals, but just add a small doc note in hdfs-default.xml to the trash checkpoint period property on what the behaviour could end up being if its set to equal of the trash clearing interval.&lt;/p&gt;

&lt;p&gt;Would it also be possible to come up with a test-case for this? For example, load some files into trash such that multiple dirs need to be checkpointed, and issue a checkpoint (or await its lowered interval) and ensure only one date is observed before clearing occurs? It would help avoid regressions in future, just in case.&lt;/p&gt;</comment>
                            <comment id="14660213" author="caseyjbrotherton" created="Thu, 6 Aug 2015 16:04:22 +0000"  >&lt;p&gt;Talked with Harsh about this offline.&lt;/p&gt;

&lt;p&gt;Still working through a testcase.  We have talked about a method for delaying between the different checkpoints.&lt;br/&gt;
There are still difficulties, though , as the problem occurs when two different users delete files, and there is a delay between checkpointing each user&apos;s deletes.&lt;/p&gt;

&lt;p&gt;However, TestTrash operates under the assumption that there is only one user that is creating files, and removing them for the trash.&lt;br/&gt;
( For example, the shell is used to getCurrentTrashDirectory, and that will only return one location.  For a test, I will either need to &lt;br/&gt;
break Object Oriented walls, and create a path with users/d/.Trash/Current, or create a test that doesn&apos;t really test for the issue. )&lt;/p&gt;

&lt;p&gt;Still trying to work on this.&lt;/p&gt;</comment>
                            <comment id="14692951" author="caseyjbrotherton" created="Wed, 12 Aug 2015 05:43:35 +0000"  >&lt;p&gt;This is a simplified patch addressing only the defect, and not the testcases.&lt;/p&gt;</comment>
                            <comment id="14708929" author="qwertymaniac" created="Mon, 24 Aug 2015 08:12:13 +0000"  >&lt;p&gt;I re-looked at the change and the problem, and although this can be difficult to test, the change does certainly fix the described changing-timestamp behaviour.&lt;/p&gt;

&lt;p&gt;+1, will commit after verifying Jenkins result on the newer patch. Marking as Patch Available to trigger the build.&lt;/p&gt;</comment>
                            <comment id="14709795" author="hadoopqa" created="Mon, 24 Aug 2015 18:24:55 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; pre-patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  17m  9s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Pre-patch trunk compilation is healthy. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; @author &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not contain any @author tags. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; tests included &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch doesn&apos;t appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javac &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   7m 52s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new javac warning messages. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javadoc &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   9m 45s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new javadoc warning messages. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; release audit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 23s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The applied patch does not increase the total number of release audit warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; checkstyle &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m  7s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new checkstyle issues. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; whitespace &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch has no lines that end in whitespace. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; install &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 28s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; mvn install still works. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; eclipse:eclipse &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 34s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch built with eclipse:eclipse. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; findbugs &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 56s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not introduce any new Findbugs (version 3.0.0) warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; common tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  22m 16s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Tests failed in hadoop-common. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  62m 33s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Reason &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Tests &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Failed unit tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; hadoop.security.token.delegation.web.TestWebDelegationToken &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12750026/HDFS-8118.001.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12750026/HDFS-8118.001.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; javadoc javac unit findbugs checkstyle &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / feaf034 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; hadoop-common test log &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/12088/artifact/patchprocess/testrun_hadoop-common.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/12088/artifact/patchprocess/testrun_hadoop-common.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/12088/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/12088/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.7.0_55 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux asf902.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/12088/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/12088/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14709816" author="caseyjbrotherton" created="Mon, 24 Aug 2015 18:35:34 +0000"  >&lt;p&gt;Issue in the common tests is a bind issue in the unit test:  TestWebDelegationToken was a bind issue:&lt;/p&gt;

&lt;p&gt;java.net.BindException: Address already in use&lt;/p&gt;

&lt;p&gt;Is there a way to trigger the tests again to see if they clear independently?  That would provide some indication whether there is a timing issue with the TestWebDelegationToken test.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Casey&lt;/p&gt;</comment>
                            <comment id="14710624" author="qwertymaniac" created="Tue, 25 Aug 2015 05:46:36 +0000"  >&lt;p&gt;Thanks Casey,&lt;/p&gt;

&lt;p&gt;You can run individual tests locally via &lt;tt&gt;mvn test -Dtest=TestWebDelegationToken&lt;/tt&gt; for example. The jenkins build cannot retrigger specific tests, but you can always check past/future builds to also inspect if the test has been generally flaky, and search JIRA/emails to see if this has/is already been reported/being worked on.&lt;/p&gt;

&lt;p&gt;It doesn&apos;t appear related to the behaviour fix we&apos;re making here, and the test does pass locally for me, so I&apos;m committing this shortly.&lt;/p&gt;</comment>
                            <comment id="14710637" author="qwertymaniac" created="Tue, 25 Aug 2015 05:53:27 +0000"  >&lt;p&gt;Committed to branch-2 and trunk. Thank you for the find and fix Casey! Hope to see many more.&lt;/p&gt;</comment>
                            <comment id="14710739" author="hudson" created="Tue, 25 Aug 2015 07:05:48 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #8347 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/8347/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/8347/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12352&quot; title=&quot;Delay in checkpointing Trash can leave trash for 2 intervals before deleting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12352&quot;&gt;&lt;del&gt;HADOOP-12352&lt;/del&gt;&lt;/a&gt;. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton. (harsh: rev af78767870b8296886c03f8be24cf13a4e2bd4b0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/TrashPolicyDefault.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710839" author="hudson" created="Tue, 25 Aug 2015 08:11:02 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #1036 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/1036/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/1036/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12352&quot; title=&quot;Delay in checkpointing Trash can leave trash for 2 intervals before deleting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12352&quot;&gt;&lt;del&gt;HADOOP-12352&lt;/del&gt;&lt;/a&gt;. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton. (harsh: rev af78767870b8296886c03f8be24cf13a4e2bd4b0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/TrashPolicyDefault.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710845" author="hudson" created="Tue, 25 Aug 2015 08:13:55 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #2233 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2233/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2233/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12352&quot; title=&quot;Delay in checkpointing Trash can leave trash for 2 intervals before deleting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12352&quot;&gt;&lt;del&gt;HADOOP-12352&lt;/del&gt;&lt;/a&gt;. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton. (harsh: rev af78767870b8296886c03f8be24cf13a4e2bd4b0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/TrashPolicyDefault.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710868" author="hudson" created="Tue, 25 Aug 2015 08:28:27 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #308 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/308/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/308/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12352&quot; title=&quot;Delay in checkpointing Trash can leave trash for 2 intervals before deleting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12352&quot;&gt;&lt;del&gt;HADOOP-12352&lt;/del&gt;&lt;/a&gt;. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton. (harsh: rev af78767870b8296886c03f8be24cf13a4e2bd4b0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/TrashPolicyDefault.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710908" author="hudson" created="Tue, 25 Aug 2015 08:50:34 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #2252 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2252/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2252/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12352&quot; title=&quot;Delay in checkpointing Trash can leave trash for 2 intervals before deleting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12352&quot;&gt;&lt;del&gt;HADOOP-12352&lt;/del&gt;&lt;/a&gt;. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton. (harsh: rev af78767870b8296886c03f8be24cf13a4e2bd4b0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/TrashPolicyDefault.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710936" author="hudson" created="Tue, 25 Aug 2015 09:02:30 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #303 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/303/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/303/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12352&quot; title=&quot;Delay in checkpointing Trash can leave trash for 2 intervals before deleting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12352&quot;&gt;&lt;del&gt;HADOOP-12352&lt;/del&gt;&lt;/a&gt;. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton. (harsh: rev af78767870b8296886c03f8be24cf13a4e2bd4b0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/TrashPolicyDefault.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14711088" author="hudson" created="Tue, 25 Aug 2015 11:12:11 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #295 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/295/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/295/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12352&quot; title=&quot;Delay in checkpointing Trash can leave trash for 2 intervals before deleting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12352&quot;&gt;&lt;del&gt;HADOOP-12352&lt;/del&gt;&lt;/a&gt;. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton. (harsh: rev af78767870b8296886c03f8be24cf13a4e2bd4b0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/TrashPolicyDefault.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12750026" name="HDFS-8118.001.patch" size="1544" author="caseyjbrotherton" created="Wed, 12 Aug 2015 05:43:35 +0000"/>
                            <attachment id="12724631" name="HDFS-8118.patch" size="2480" author="caseyjbrotherton" created="Fri, 10 Apr 2015 19:09:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d2if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fixes an Trash related issue wherein a delay in the periodic checkpointing of one user&amp;#39;s directory causes the subsequent user directory checkpoints to carry a newer timestamp, thereby delaying their eventual deletion.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>