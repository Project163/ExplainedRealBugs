<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:56:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-17645] Fix test failures in org.apache.hadoop.fs.azure.ITestOutputStreamSemantics</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-17645</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Failures after &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-13327&quot; title=&quot;Add OutputStream + Syncable to the Filesystem Specification&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-13327&quot;&gt;&lt;del&gt;HADOOP-13327&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
PageBlob and Compacting BlockBlob having only hflush and hsync capability. The test wrongly assert capability DROPBEHIND, READAHEAD, UNBUFFER&lt;/p&gt;</description>
                <environment></environment>
        <key id="13373379">HADOOP-17645</key>
            <summary>Fix test failures in org.apache.hadoop.fs.azure.ITestOutputStreamSemantics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sun, 18 Apr 2021 11:21:56 +0000</created>
                <updated>Sun, 11 Feb 2024 14:17:34 +0000</updated>
                            <resolved>Sun, 13 Jun 2021 17:38:16 +0000</resolved>
                                    <version>3.3.1</version>
                    <version>3.4.0</version>
                                    <fixVersion>3.4.0</fixVersion>
                                    <component>fs/azure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17324481" author="anoop.hbase" created="Sun, 18 Apr 2021 11:28:04 +0000"  >&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt;.  Simple test fix. Noticed while working on another issue&lt;/p&gt;</comment>
                            <comment id="17324683" author="anoop.hbase" created="Mon, 19 Apr 2021 04:43:07 +0000"  >&lt;p&gt;Noticed one more consistent fail in  ITestWasbUriAndConfiguration#testCanonicalServiceName&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// Default getCanonicalServiceName() will &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; to resolve the host to IP,
&lt;/span&gt;      &lt;span class=&quot;code-comment&quot;&gt;// because the mock container does not exist, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; call is expected to fail.
&lt;/span&gt;      intercept(IllegalArgumentException.class,
              &lt;span class=&quot;code-quote&quot;&gt;&quot;java.net.UnknownHostException&quot;&lt;/span&gt;,
              () -&amp;gt; fs0.getCanonicalServiceName());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here the container name is a mock one &apos;mockContainer&apos;  and account name is mockAccount.blob.core.windows.net&lt;br/&gt;
While resolve to IP, the container wont come into picture at all.  And seems there is an account &apos;mockAccount.blob.core.windows.net&apos; present now as it resolves to an IP.  So this test always fails now. I feel its a flaky test. We rely on a storage account name and assume it wont be present. We can not guarantee that.   Better we can remove this part from test. The test already checks for the getCanonicalServiceName() with conf &apos;fs.azure.override.canonical.service.name&apos; to true.  &lt;br/&gt;
Thoughts &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt;.  May I fix this also as part of this PR?&lt;/p&gt;</comment>
                            <comment id="17324928" author="stevel@apache.org" created="Mon, 19 Apr 2021 10:22:28 +0000"  >&lt;p&gt;that&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17641&quot; title=&quot;ITestWasbUriAndConfiguration.testCanonicalServiceName() failing now mockaccount exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17641&quot;&gt;&lt;del&gt;HADOOP-17641&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
if you want to do a roll-up test fix patch (happy with that), there&apos;s also&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17637&quot; title=&quot;ABFS: rename ListResultSchemaTest to TestListResultSchema so maven tests run it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17637&quot;&gt;HADOOP-17637&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17640&quot; title=&quot;ABFS: transient failure of TestAzureBlobFileSystemFileStatus.testLastModifiedTime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17640&quot;&gt;HADOOP-17640&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17535&quot; title=&quot;ABFS: ITestAzureBlobFileSystemCheckAccess test failure if test doesn&amp;#39;t have oauth keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17535&quot;&gt;&lt;del&gt;HADOOP-17535&lt;/del&gt;&lt;/a&gt; is another test which fails in some developer configs -I&apos;ve put a PR up there&lt;/p&gt;</comment>
                            <comment id="17324977" author="anoop.hbase" created="Mon, 19 Apr 2021 12:04:15 +0000"  >&lt;p&gt;Thanks. Moved the discuss on ITestWasbUriAndConfiguration to other Jira.&lt;br/&gt;
This one will be kept for original issue as in title&lt;/p&gt;</comment>
                            <comment id="17325640" author="stevel@apache.org" created="Tue, 20 Apr 2021 09:26:01 +0000"  >&lt;p&gt;BTW, turns out Apache Ranger has been calling hsync all the time to flush data and now fails with S3A (correctly) reporting that attempting to flush data is futile. &lt;/p&gt;</comment>
                            <comment id="17325645" author="stevel@apache.org" created="Tue, 20 Apr 2021 09:30:37 +0000"  >&lt;p&gt;I&apos;d be happy for a roll-up PR here..if you pull in/revise/test the changes I&apos;ve stuck up along with this then I&apos;m ~still in a position to review the patch so we won&apos;t need to seek others&lt;/p&gt;</comment>
                            <comment id="17333135" author="anoop.hbase" created="Tue, 27 Apr 2021 11:08:12 +0000"  >&lt;p&gt;I was checking more on the WASB tests &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt; these days while working on &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17643&quot; title=&quot;WASB : Make metadata checks case insensitive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17643&quot;&gt;&lt;del&gt;HADOOP-17643&lt;/del&gt;&lt;/a&gt;.  I see you mentioned 4 Jiras and out of which 2 are in. May I check the other 2 as separate one item as that is ABFS related. For this test, am dealing with my Blob storage alone.  Will you be able to pull this small test fix in? So I can raise the PR for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17643&quot; title=&quot;WASB : Make metadata checks case insensitive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17643&quot;&gt;&lt;del&gt;HADOOP-17643&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0q5y8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12346893">3.3.1</customfieldvalue>
    <customfieldvalue id="12346894">3.4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>