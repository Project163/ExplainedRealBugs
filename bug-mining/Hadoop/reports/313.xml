<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:35:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-7377] Fix command name handling affecting DFSAdmin</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-7377</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;When an error occurs in the get/set quota commands in DFSAdmin, they are displaying the following:&lt;br/&gt;
setQuota: failed to get SetQuotaCommand.NAME&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;Command&lt;/tt&gt; class expects the &lt;tt&gt;NAME&lt;/tt&gt; field to be accessible, but for DFSAdmin, it&apos;s not.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509865">HADOOP-7377</key>
            <summary>Fix command name handling affecting DFSAdmin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daryn">Daryn Sharp</assignee>
                                    <reporter username="daryn">Daryn Sharp</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Jun 2011 19:36:48 +0000</created>
                <updated>Tue, 15 Nov 2011 00:51:01 +0000</updated>
                            <resolved>Wed, 15 Jun 2011 22:26:19 +0000</resolved>
                                    <version>0.23.0</version>
                                    <fixVersion>0.23.0</fixVersion>
                                    <component>fs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13047409" author="daryn" created="Fri, 10 Jun 2011 20:03:38 +0000"  >&lt;p&gt;Quick cheap way to get the NAME field despite the visibility of the class and/or field.&lt;/p&gt;</comment>
                            <comment id="13047410" author="daryn" created="Fri, 10 Jun 2011 20:04:18 +0000"  >&lt;p&gt;No tests included because it fixes tests in hdfs.&lt;/p&gt;</comment>
                            <comment id="13047426" author="hadoopqa" created="Fri, 10 Jun 2011 20:23:45 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12482092/HADOOP-7377.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12482092/HADOOP-7377.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1134218.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 system test framework.  The patch passed system test framework compile.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/610//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/610//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/610//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/610//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/610//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/610//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13049351" author="mattf" created="Tue, 14 Jun 2011 19:18:39 +0000"  >&lt;p&gt;I&apos;m uncomfortable using reflection with access permission override, to get a datum that seems like it could be fetched using provided methods such as getCommandName().  However, Daryn has convinced me that it would require a massive change of legacy code to make this better:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Daryn&amp;#93;&lt;/span&gt; The CommandFactory is supposed to call setName(...) on the instance it creates, using the name fed to the factory (since commands can have more than one invokable name).  setName()/getName() should be just using the instance field name.  The static NAME is legacy and was not intended to remain. But Count and the DFSAdmin commands, unfortunately, use it. I intend to kill both getCommandName() and NAME, if possible, after DFSAdmin is adapted to better use the framework. Basically, the command should not know it&apos;s name, that&apos;s the factory&apos;s job, and the factory tells the command how it was conjured up. But in the meantime, NAME is needed.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So, +1 on this patch.&lt;/p&gt;

&lt;p&gt;Auto-test passes except for new test, but this patch will be tested by existing DFSAdmin unit tests starting to work.&lt;br/&gt;
I&apos;ll commit this in 24 hours to allow for other comments.&lt;/p&gt;

&lt;p&gt;Daryn, please list the exact unit tests that will be fixed by this submission.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13049429" author="daryn" created="Tue, 14 Jun 2011 21:17:09 +0000"  >&lt;p&gt;This patch fixes all of the failing negative tests for &lt;tt&gt;DFSAdmin&lt;/tt&gt; in &lt;tt&gt;TestHDFSCLI&lt;/tt&gt;.  As of build #777, the negative &lt;tt&gt;DFSAdmin&lt;/tt&gt; tests are the only tests that are failing in &lt;tt&gt;TestHDFSCLI&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13049939" author="mattf" created="Wed, 15 Jun 2011 18:29:51 +0000"  >&lt;p&gt;This patch needs to be rebased for trunk.&lt;/p&gt;</comment>
                            <comment id="13050083" author="mattf" created="Wed, 15 Jun 2011 22:26:19 +0000"  >&lt;p&gt;No it doesn&apos;t need to be rebased.&lt;/p&gt;

&lt;p&gt;Committed to trunk.  Thanks, Daryn!&lt;/p&gt;</comment>
                            <comment id="13050100" author="hudson" created="Wed, 15 Jun 2011 22:49:11 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #657 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/657/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/657/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7377&quot; title=&quot;Fix command name handling affecting DFSAdmin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7377&quot;&gt;&lt;del&gt;HADOOP-7377&lt;/del&gt;&lt;/a&gt;. Fix command name handling affecting DFSAdmin. Contributed by Daryn Sharp.&lt;/p&gt;

&lt;p&gt;mattf : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1136223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1136223&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/common/src/java/org/apache/hadoop/fs/shell/Command.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13057101" author="hudson" created="Wed, 29 Jun 2011 09:10:18 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-maven #43 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Common-trunk-maven/43/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Common-trunk-maven/43/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12482092" name="HADOOP-7377.patch" size="1204" author="daryn" created="Fri, 10 Jun 2011 20:03:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09jrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>53636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>