<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:47:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-11724] DistCp throws NPE when the target directory is root.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-11724</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Distcp throws NPE when the target directory is root. It is due to &lt;tt&gt;CopyCommitter#cleanupTempFiles&lt;/tt&gt; attempts to delete parent directory of root, which is &lt;tt&gt;null&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ hadoop distcp pom.xml hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost/
&lt;/span&gt;15/03/17 11:17:44 WARN util.NativeCodeLoader: Unable to load &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;-hadoop library &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; your platform... using builtin-java classes where applicable
15/03/17 11:17:45 INFO tools.DistCp: Input Options: DistCpOptions{atomicCommit=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, syncFolder=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, deleteMissing=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, ignoreFailures=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, maxMaps=20, sslConfigurationFile=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, copyStrategy=&lt;span class=&quot;code-quote&quot;&gt;&apos;uniformsize&apos;&lt;/span&gt;, sourceFileListing=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, sourcePaths=[pom.xml], targetPath=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost/, targetPathExists=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, preserveRawXattrs=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}
&lt;/span&gt;15/03/17 11:17:45 INFO Configuration.deprecation: session.id is deprecated. Instead, use dfs.metrics.session-id
15/03/17 11:17:45 INFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=
15/03/17 11:17:45 INFO Configuration.deprecation: io.sort.mb is deprecated. Instead, use mapreduce.task.io.sort.mb
15/03/17 11:17:45 INFO Configuration.deprecation: io.sort.factor is deprecated. Instead, use mapreduce.task.io.sort.factor
15/03/17 11:17:45 INFO jvm.JvmMetrics: Cannot initialize JVM Metrics with processName=JobTracker, sessionId= - already initialized
15/03/17 11:17:45 INFO mapreduce.JobSubmitter: number of splits:1
15/03/17 11:17:45 INFO mapreduce.JobSubmitter: Submitting tokens &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job: job_local992233322_0001
15/03/17 11:17:46 INFO mapreduce.Job: The url to track the job: http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/
&lt;/span&gt;15/03/17 11:17:46 INFO tools.DistCp: DistCp job-id: job_local992233322_0001
15/03/17 11:17:46 INFO mapreduce.Job: Running job: job_local992233322_0001
15/03/17 11:17:46 INFO mapred.LocalJobRunner: OutputCommitter set in config &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
15/03/17 11:17:46 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 1
15/03/17 11:17:46 INFO mapred.LocalJobRunner: OutputCommitter is org.apache.hadoop.tools.mapred.CopyCommitter
15/03/17 11:17:46 INFO mapred.LocalJobRunner: Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; map tasks
15/03/17 11:17:46 INFO mapred.LocalJobRunner: Starting task: attempt_local992233322_0001_m_000000_0
15/03/17 11:17:46 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 1
15/03/17 11:17:46 INFO util.ProcfsBasedProcessTree: ProcfsBasedProcessTree currently is supported only on Linux.
15/03/17 11:17:46 INFO mapred.Task:  Using ResourceCalculatorProcessTree : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
15/03/17 11:17:46 INFO mapred.MapTask: Processing split: file:/tmp/hadoop/mapred/staging/lei2046334351/.staging/_distcp-1889397390/fileList.seq:0+220
15/03/17 11:17:46 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 1
15/03/17 11:17:46 INFO mapred.CopyMapper: Copying file:/Users/lei/work/cloudera/s3a_cp_target/pom.xml to hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost/pom.xml
&lt;/span&gt;15/03/17 11:17:46 INFO mapred.CopyMapper: Skipping copy of file:/Users/lei/work/cloudera/s3a_cp_target/pom.xml to hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost/pom.xml
&lt;/span&gt;15/03/17 11:17:46 INFO mapred.LocalJobRunner:
15/03/17 11:17:46 INFO mapred.Task: Task:attempt_local992233322_0001_m_000000_0 is done. And is in the process of committing
15/03/17 11:17:46 INFO mapred.LocalJobRunner:
15/03/17 11:17:46 INFO mapred.Task: Task attempt_local992233322_0001_m_000000_0 is allowed to commit now
15/03/17 11:17:46 INFO output.FileOutputCommitter: Saved output of task &lt;span class=&quot;code-quote&quot;&gt;&apos;attempt_local992233322_0001_m_000000_0&apos;&lt;/span&gt; to file:/tmp/hadoop/mapred/staging/lei2046334351/.staging/_distcp-1889397390/_logs/_temporary/0/task_local992233322_0001_m_000000
15/03/17 11:17:46 INFO mapred.LocalJobRunner: Copying file:/Users/lei/work/cloudera/s3a_cp_target/pom.xml to hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost/pom.xml
&lt;/span&gt;15/03/17 11:17:46 INFO mapred.Task: Task &lt;span class=&quot;code-quote&quot;&gt;&apos;attempt_local992233322_0001_m_000000_0&apos;&lt;/span&gt; done.
15/03/17 11:17:46 INFO mapred.LocalJobRunner: Finishing task: attempt_local992233322_0001_m_000000_0
15/03/17 11:17:46 INFO mapred.LocalJobRunner: map task executor complete.
15/03/17 11:17:46 INFO mapred.CopyCommitter: Remove parent: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost/
&lt;/span&gt;15/03/17 11:17:46 WARN mapred.CopyCommitter: Unable to cleanup temp files
java.lang.NullPointerException
	at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:104)
	at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:93)
	at org.apache.hadoop.tools.mapred.CopyCommitter.deleteAttemptTempFiles(CopyCommitter.java:141)
	at org.apache.hadoop.tools.mapred.CopyCommitter.cleanupTempFiles(CopyCommitter.java:130)
	at org.apache.hadoop.tools.mapred.CopyCommitter.commitJob(CopyCommitter.java:83)
	at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:538)
15/03/17 11:17:46 INFO mapred.CopyCommitter: Cleaning up temporary work folder: file:/tmp/hadoop/mapred/staging/lei2046334351/.staging/_distcp-1889397390
15/03/17 11:17:47 INFO mapreduce.Job: Job job_local992233322_0001 running in uber mode : &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
15/03/17 11:17:47 INFO mapreduce.Job:  map 100% reduce 0%
15/03/17 11:17:47 INFO mapreduce.Job: Job job_local992233322_0001 completed successfully
15/03/17 11:17:47 INFO mapreduce.Job: Counters: 22
	File &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt; Counters
		FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of bytes read=103917
		FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of bytes written=363277
		FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of read operations=0
		FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of large read operations=0
		FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of write operations=0
		HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of bytes read=0
		HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of bytes written=0
		HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of read operations=8
		HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of large read operations=0
		HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of write operations=0
	Map-Reduce Framework
		Map input records=1
		Map output records=1
		Input split bytes=151
		Spilled Records=0
		Failed Shuffles=0
		Merged Map outputs=0
		GC time elapsed (ms)=14
		Total committed heap usage (bytes)=163577856
	File Input Format Counters
		Bytes Read=252
	File Output Format Counters
		Bytes Written=70
	org.apache.hadoop.tools.mapred.CopyMapper$Counter
		BYTESSKIPPED=23491
		SKIP=1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The distcp task can still success. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12782655">HADOOP-11724</key>
            <summary>DistCp throws NPE when the target directory is root.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eddyxu">Lei (Eddy) Xu</assignee>
                                    <reporter username="eddyxu">Lei (Eddy) Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2015 18:51:13 +0000</created>
                <updated>Tue, 30 Aug 2016 01:30:12 +0000</updated>
                            <resolved>Wed, 25 Mar 2015 22:58:57 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.8.0</fixVersion>
                    <fixVersion>3.0.0-alpha1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14365787" author="eddyxu" created="Tue, 17 Mar 2015 18:56:00 +0000"  >&lt;p&gt;Check whether parent directory is &lt;tt&gt;null&lt;/tt&gt; in &lt;tt&gt;CopyCommitter#cleanupTempFiles&lt;/tt&gt;. &lt;/p&gt;</comment>
                            <comment id="14366014" author="hadoopqa" created="Tue, 17 Mar 2015 20:29:28 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12705156/HADOOP-11724.000.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12705156/HADOOP-11724.000.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 32b4330.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-tools/hadoop-distcp.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5960//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5960//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5960//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5960//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14366075" author="eddyxu" created="Tue, 17 Mar 2015 21:00:35 +0000"  >&lt;p&gt;The patch is trivial, so no test is included. Also:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      ...
      Path parent = targetWorkPath.getParent();
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (parent != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        deleteAttemptTempFiles(parent, targetFS, jobId);
      }
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {
      LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to cleanup temp files&quot;&lt;/span&gt;, t);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;tt&gt;NPE&lt;/tt&gt; is swallowed by the &lt;tt&gt;catch (Throwable)&lt;/tt&gt;, so that it is hard to observe in tests, other than log message. &lt;/p&gt;</comment>
                            <comment id="14379266" author="yzhangal" created="Wed, 25 Mar 2015 04:17:29 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eddyxu&quot; class=&quot;user-hover&quot; rel=&quot;eddyxu&quot;&gt;eddyxu&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thanks for reporting the issue and the patch. I reviewed it, it seems that a more appropriate fix is to handle null parent correctly in {{ CopyCommitter#deleteTempFiles}}, rather than skipping the call to it when parent is null? Thanks.&lt;/p&gt;


</comment>
                            <comment id="14379286" author="eddyxu" created="Wed, 25 Mar 2015 04:47:28 +0000"  >&lt;p&gt;Thanks a lot &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yzhangal&quot; class=&quot;user-hover&quot; rel=&quot;yzhangal&quot;&gt;yzhangal&lt;/a&gt;. It is a great suggestion. I updated the patch for your comments. Would you mind take another look? &lt;/p&gt;</comment>
                            <comment id="14379325" author="hadoopqa" created="Wed, 25 Mar 2015 05:28:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12707138/HADOOP-11724.001.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12707138/HADOOP-11724.001.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 53a28af.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-tools/hadoop-distcp.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5992//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5992//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5992//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5992//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14379330" author="eddyxu" created="Wed, 25 Mar 2015 05:31:51 +0000"  >&lt;p&gt;No test is included, because the change is trivial.&lt;/p&gt;</comment>
                            <comment id="14380358" author="yzhangal" created="Wed, 25 Mar 2015 17:55:20 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eddyxu&quot; class=&quot;user-hover&quot; rel=&quot;eddyxu&quot;&gt;eddyxu&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thanks for the new rev. +1 after one nit: can we change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Attempted to delete a &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; directory.&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Ignore attempt to delete temp files &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; distcp job &quot;&lt;/span&gt; + jobId);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;OR we can remove this debug logging, which doesn&apos;t provide much info anyways since the first call to &lt;tt&gt;deleteAttemptTempFiles&lt;/tt&gt; does &lt;tt&gt;LOG.info(&quot;Cleaning up &quot; + file.getPath());&lt;/tt&gt;&lt;/p&gt;



</comment>
                            <comment id="14380444" author="eddyxu" created="Wed, 25 Mar 2015 18:33:34 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yzhangal&quot; class=&quot;user-hover&quot; rel=&quot;yzhangal&quot;&gt;yzhangal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for reviewing it. I removed the logs from the patch. The two alternative logs are similar, I think it would be better to defer writing logs in the future. &lt;/p&gt;

&lt;p&gt;Would it be good to you?&lt;/p&gt;</comment>
                            <comment id="14380462" author="yzhangal" created="Wed, 25 Mar 2015 18:39:28 +0000"  >&lt;p&gt;Thanks Eddy. +1. Will commit a bit later today.&lt;/p&gt;</comment>
                            <comment id="14380469" author="hadoopqa" created="Wed, 25 Mar 2015 18:41:03 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12707274/HADOOP-11724.002.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12707274/HADOOP-11724.002.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 97e2aa2.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  Trunk compilation may be broken.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5999//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5999//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14380795" author="eddyxu" created="Wed, 25 Mar 2015 21:15:51 +0000"  >&lt;p&gt;Re-upload the patch to trigger jenkin job&lt;/p&gt;</comment>
                            <comment id="14380878" author="hadoopqa" created="Wed, 25 Mar 2015 22:06:12 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12707331/HADOOP-11724.002.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12707331/HADOOP-11724.002.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision fc1031a.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-tools/hadoop-distcp.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6000//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6000//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6000//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6000//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14380958" author="hudson" created="Wed, 25 Mar 2015 22:52:53 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #7436 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/7436/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/7436/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11724&quot; title=&quot;DistCp throws NPE when the target directory is root.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11724&quot;&gt;&lt;del&gt;HADOOP-11724&lt;/del&gt;&lt;/a&gt;. DistCp throws NPE when the target directory is root. (Lei Eddy Xu via Yongjun Zhang) (yzhang: rev 44809b80814d5520a73d5609d0f73a13eb2360ac)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyCommitter.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14380968" author="yzhangal" created="Wed, 25 Mar 2015 22:58:16 +0000"  >&lt;p&gt;Thanks Eddy for the contribution, I committed to trunk and branch-2.&lt;/p&gt;</comment>
                            <comment id="14381073" author="eddyxu" created="Thu, 26 Mar 2015 00:03:49 +0000"  >&lt;p&gt;Thanks much for the reviews and committing this, Yongjun.&lt;/p&gt;</comment>
                            <comment id="14381735" author="hudson" created="Thu, 26 Mar 2015 11:31:32 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #144 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/144/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/144/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11724&quot; title=&quot;DistCp throws NPE when the target directory is root.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11724&quot;&gt;&lt;del&gt;HADOOP-11724&lt;/del&gt;&lt;/a&gt;. DistCp throws NPE when the target directory is root. (Lei Eddy Xu via Yongjun Zhang) (yzhang: rev 44809b80814d5520a73d5609d0f73a13eb2360ac)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyCommitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14381746" author="hudson" created="Thu, 26 Mar 2015 11:36:44 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #878 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/878/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/878/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11724&quot; title=&quot;DistCp throws NPE when the target directory is root.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11724&quot;&gt;&lt;del&gt;HADOOP-11724&lt;/del&gt;&lt;/a&gt;. DistCp throws NPE when the target directory is root. (Lei Eddy Xu via Yongjun Zhang) (yzhang: rev 44809b80814d5520a73d5609d0f73a13eb2360ac)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyCommitter.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14381856" author="hudson" created="Thu, 26 Mar 2015 13:20:58 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #144 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/144/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/144/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11724&quot; title=&quot;DistCp throws NPE when the target directory is root.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11724&quot;&gt;&lt;del&gt;HADOOP-11724&lt;/del&gt;&lt;/a&gt;. DistCp throws NPE when the target directory is root. (Lei Eddy Xu via Yongjun Zhang) (yzhang: rev 44809b80814d5520a73d5609d0f73a13eb2360ac)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyCommitter.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14381877" author="hudson" created="Thu, 26 Mar 2015 13:39:03 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #2094 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2094/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2094/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11724&quot; title=&quot;DistCp throws NPE when the target directory is root.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11724&quot;&gt;&lt;del&gt;HADOOP-11724&lt;/del&gt;&lt;/a&gt;. DistCp throws NPE when the target directory is root. (Lei Eddy Xu via Yongjun Zhang) (yzhang: rev 44809b80814d5520a73d5609d0f73a13eb2360ac)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyCommitter.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14381952" author="hudson" created="Thu, 26 Mar 2015 14:30:41 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #2076 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2076/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2076/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11724&quot; title=&quot;DistCp throws NPE when the target directory is root.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11724&quot;&gt;&lt;del&gt;HADOOP-11724&lt;/del&gt;&lt;/a&gt;. DistCp throws NPE when the target directory is root. (Lei Eddy Xu via Yongjun Zhang) (yzhang: rev 44809b80814d5520a73d5609d0f73a13eb2360ac)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyCommitter.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14381961" author="hudson" created="Thu, 26 Mar 2015 14:31:06 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #135 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/135/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/135/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11724&quot; title=&quot;DistCp throws NPE when the target directory is root.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11724&quot;&gt;&lt;del&gt;HADOOP-11724&lt;/del&gt;&lt;/a&gt;. DistCp throws NPE when the target directory is root. (Lei Eddy Xu via Yongjun Zhang) (yzhang: rev 44809b80814d5520a73d5609d0f73a13eb2360ac)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-tools/hadoop-distcp/src/main/java/org/apache/hadoop/tools/mapred/CopyCommitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422829">HADOOP-5673</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12705156" name="HADOOP-11724.000.patch" size="914" author="eddyxu" created="Tue, 17 Mar 2015 18:56:00 +0000"/>
                            <attachment id="12707138" name="HADOOP-11724.001.patch" size="989" author="eddyxu" created="Wed, 25 Mar 2015 04:47:28 +0000"/>
                            <attachment id="12707331" name="HADOOP-11724.002.patch" size="883" author="eddyxu" created="Wed, 25 Mar 2015 21:15:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26vrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327583">2.7.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>