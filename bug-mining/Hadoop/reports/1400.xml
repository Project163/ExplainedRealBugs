<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:46:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-11322] key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT </title>
                <link>https://issues.apache.org/jira/browse/HADOOP-11322</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;In the method checkAccess of class KeyAuthorizationKeyProvider, there is following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void checkAccess(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; aclName, UserGroupInformation ugi,
      KeyOpType opType) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; AuthorizationException {
    Preconditions.checkNotNull(aclName, &lt;span class=&quot;code-quote&quot;&gt;&quot;Key ACL name cannot be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;);
    Preconditions.checkNotNull(ugi, &lt;span class=&quot;code-quote&quot;&gt;&quot;UserGroupInformation cannot be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (acls.isACLPresent(aclName, KeyOpType.MANAGEMENT) &amp;amp;&amp;amp;
        (acls.hasAccessToKey(aclName, ugi, opType)
            || acls.hasAccessToKey(aclName, ugi, KeyOpType.ALL))) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    }
...
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Seems that &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;acls.isACLPresent(aclName, KeyOpType.MANAGEMENT) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;should be replaced with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;acls.isACLPresent(aclName, opType) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12756635">HADOOP-11322</key>
            <summary>key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dian.fu">Dian Fu</assignee>
                                    <reporter username="dian.fu">Dian Fu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Nov 2014 06:29:42 +0000</created>
                <updated>Fri, 10 Apr 2015 20:04:39 +0000</updated>
                            <resolved>Tue, 25 Nov 2014 02:07:35 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.7.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14219062" author="dian.fu" created="Thu, 20 Nov 2014 06:33:12 +0000"  >&lt;p&gt;A quick patch attached.&lt;/p&gt;</comment>
                            <comment id="14220605" author="hadoopqa" created="Fri, 21 Nov 2014 06:51:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12682584/HADOOP-11322.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12682584/HADOOP-11322.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision c298a9a.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-kms.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5110//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5110//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5110//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5110//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14220683" author="hitliuyi" created="Fri, 21 Nov 2014 08:47:12 +0000"  >&lt;p&gt;I go through the patch, yes, we should check the opType.&lt;br/&gt;
And in current code, it doesn&apos;t affect functionality, since in &lt;tt&gt;KMSACLs&lt;/tt&gt; implementation, &lt;tt&gt;hasAccessToKey&lt;/tt&gt; will check the opType too....&lt;br/&gt;
Anyway, we&apos;d better to fix this. &lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14220688" author="hitliuyi" created="Fri, 21 Nov 2014 08:51:20 +0000"  >&lt;p&gt;Will hold to commit until tomorrow and wait to see if there are other comments.&lt;/p&gt;</comment>
                            <comment id="14220731" author="dian.fu" created="Fri, 21 Nov 2014 09:51:53 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hitliuyi&quot; class=&quot;user-hover&quot; rel=&quot;hitliuyi&quot;&gt;hitliuyi&lt;/a&gt; for review. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;And in current code, it doesn&apos;t affect functionality, since in KMSACLs implementation, hasAccessToKey will check the opType too....&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Actually it will affect functionality. Let&apos;s image such an scenario: For key testKey1, we don&apos;t configure any ACL policy for testKey1 and only create a default key policy for operation GENERATE_EEK, such as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.key.acl.GENERATE_EEK&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;*&amp;lt;/value&amp;gt;
 &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then for operation GENERATE_EEK of key testKey1, KeyAuthorizationKeyProvider.checkAccess will fail and threw an exception as acls.isACLPresent(aclName, opType) return false. This will skip the check in acls.hasAccessToKey(aclName, ugi, opType). Actually in the above scenario, checkAccess should return true as we didn&apos;t configure ACL for testKey1 and the default key ACL of operation GENERATE_EEK is allowAll. &lt;br/&gt;
The scenario described above is unusual, but it does exist. &lt;/p&gt;</comment>
                            <comment id="14220772" author="hitliuyi" created="Fri, 21 Nov 2014 10:57:24 +0000"  >&lt;p&gt;Right, if we remove all other default values in acl files (In my mind, I thought we kept it, yes, actually we could remove them), it does happen as you said and it&apos;s a bug. &lt;/p&gt;

&lt;p&gt;So, please write a test case to reproduce the issue.&lt;/p&gt;</comment>
                            <comment id="14221854" author="dian.fu" created="Sat, 22 Nov 2014 06:51:15 +0000"  >&lt;p&gt;Updated the patch: add some test cases and remove a few unnecessary imports in TestKMS.&lt;/p&gt;</comment>
                            <comment id="14221861" author="hadoopqa" created="Sat, 22 Nov 2014 07:32:04 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12683039/HADOOP-11322.patch.2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12683039/HADOOP-11322.patch.2&lt;/a&gt;&lt;br/&gt;
  against trunk revision a4df9ee.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-kms.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5114//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5114//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5114//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5114//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14222708" author="hitliuyi" created="Mon, 24 Nov 2014 06:01:59 +0000"  >&lt;p&gt;+1 looks good to me.&lt;br/&gt;
Next time, you can use the name &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;.2.patch&lt;/tt&gt; instead of &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;.patch.2&lt;/tt&gt; for the new patch.&lt;/p&gt;</comment>
                            <comment id="14222709" author="dian.fu" created="Mon, 24 Nov 2014 06:11:55 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hitliuyi&quot; class=&quot;user-hover&quot; rel=&quot;hitliuyi&quot;&gt;hitliuyi&lt;/a&gt;] for review.&lt;/p&gt;</comment>
                            <comment id="14223936" author="hitliuyi" created="Tue, 25 Nov 2014 02:07:35 +0000"  >&lt;p&gt;Commit to trunk and branch-2. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dian.fu&quot; class=&quot;user-hover&quot; rel=&quot;dian.fu&quot;&gt;dian.fu&lt;/a&gt; for the contribution.&lt;/p&gt;</comment>
                            <comment id="14223939" author="hudson" created="Tue, 25 Nov 2014 02:11:01 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #6601 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/6601/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/6601/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;. key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT. (Dian Fu via yliu) (yliu: rev 61a2510b55317867c8539a4df295f5afb85da5d4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/test/java/org/apache/hadoop/crypto/key/kms/server/TestKMS.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/main/java/org/apache/hadoop/crypto/key/kms/server/KeyAuthorizationKeyProvider.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14224365" author="hudson" created="Tue, 25 Nov 2014 10:42:16 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #754 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/754/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/754/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;. key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT. (Dian Fu via yliu) (yliu: rev 61a2510b55317867c8539a4df295f5afb85da5d4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/main/java/org/apache/hadoop/crypto/key/kms/server/KeyAuthorizationKeyProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/test/java/org/apache/hadoop/crypto/key/kms/server/TestKMS.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14224375" author="hudson" created="Tue, 25 Nov 2014 10:43:03 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #16 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/16/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/16/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;. key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT. (Dian Fu via yliu) (yliu: rev 61a2510b55317867c8539a4df295f5afb85da5d4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/test/java/org/apache/hadoop/crypto/key/kms/server/TestKMS.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/main/java/org/apache/hadoop/crypto/key/kms/server/KeyAuthorizationKeyProvider.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14224594" author="hudson" created="Tue, 25 Nov 2014 14:21:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Hdfs-trunk #1944 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1944/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1944/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;. key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT. (Dian Fu via yliu) (yliu: rev 61a2510b55317867c8539a4df295f5afb85da5d4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/test/java/org/apache/hadoop/crypto/key/kms/server/TestKMS.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/main/java/org/apache/hadoop/crypto/key/kms/server/KeyAuthorizationKeyProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14224603" author="hudson" created="Tue, 25 Nov 2014 14:22:42 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Hdfs-trunk-Java8 #16 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/16/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/16/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;. key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT. (Dian Fu via yliu) (yliu: rev 61a2510b55317867c8539a4df295f5afb85da5d4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/main/java/org/apache/hadoop/crypto/key/kms/server/KeyAuthorizationKeyProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/test/java/org/apache/hadoop/crypto/key/kms/server/TestKMS.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14224695" author="hudson" created="Tue, 25 Nov 2014 15:37:12 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #16 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/16/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/16/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;. key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT. (Dian Fu via yliu) (yliu: rev 61a2510b55317867c8539a4df295f5afb85da5d4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/test/java/org/apache/hadoop/crypto/key/kms/server/TestKMS.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/main/java/org/apache/hadoop/crypto/key/kms/server/KeyAuthorizationKeyProvider.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14224708" author="hudson" created="Tue, 25 Nov 2014 15:40:39 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1968 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1968/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1968/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11322&quot; title=&quot;key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11322&quot;&gt;&lt;del&gt;HADOOP-11322&lt;/del&gt;&lt;/a&gt;. key based ACL check in KMS always check KeyOpType.MANAGEMENT even actual KeyOpType is not MANAGEMENT. (Dian Fu via yliu) (yliu: rev 61a2510b55317867c8539a4df295f5afb85da5d4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/main/java/org/apache/hadoop/crypto/key/kms/server/KeyAuthorizationKeyProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-kms/src/test/java/org/apache/hadoop/crypto/key/kms/server/TestKMS.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14225377" author="andrew.wang" created="Tue, 25 Nov 2014 23:23:06 +0000"  >&lt;p&gt;Nice find here guys, thanks for taking care of this. FWIW patch looks good to me too &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12682584" name="HADOOP-11322.patch" size="1075" author="dian.fu" created="Thu, 20 Nov 2014 06:33:12 +0000"/>
                            <attachment id="12683039" name="HADOOP-11322.patch.2" size="3755" author="dian.fu" created="Sat, 22 Nov 2014 06:51:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22len:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327583">2.7.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>