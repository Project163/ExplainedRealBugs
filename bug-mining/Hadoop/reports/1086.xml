<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:44:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10342] Extend UserGroupInformation to return a UGI given a preauthenticated kerberos Subject</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10342</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;We need the ability to use a Subject that was created inside an embedding application through a kerberos authentication. For example, an application that uses JAAS to authenticate to a KDC should be able to provide the resulting Subject and get a UGI instance to call doAs on.&lt;/p&gt;

&lt;p&gt;Example: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        UserGroupInformation.setConfiguration(conf);

		LoginContext context = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LoginContext(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sun.security.jgss.login&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UserNamePasswordCallbackHandler(userName, password));
		context.login();
		
		Subject subject = context.getSubject();

	    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; UserGroupInformation ugi2 = UserGroupInformation.getUGIFromSubject(subject);

        ugi2.doAs(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrivilegedExceptionAction&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; run() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystem fs = FileSystem.get(conf);
                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0;

                &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FileStatus status : fs.listStatus(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/user&quot;&lt;/span&gt;))) {
                    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(status.getPath());
                    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(status);
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (i++ &amp;gt; 10) {
                        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;only first 10 showed...&quot;&lt;/span&gt;);
                        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
                    }
                }
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
            }
        });
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12694894">HADOOP-10342</key>
            <summary>Extend UserGroupInformation to return a UGI given a preauthenticated kerberos Subject</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lmccay">Larry McCay</assignee>
                                    <reporter username="lmccay">Larry McCay</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2014 01:12:39 +0000</created>
                <updated>Fri, 15 Aug 2014 05:39:47 +0000</updated>
                            <resolved>Fri, 14 Feb 2014 21:25:56 +0000</resolved>
                                                    <fixVersion>2.5.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="13899887" author="lmccay" created="Thu, 13 Feb 2014 01:21:07 +0000"  >&lt;p&gt;initial patch&lt;/p&gt;</comment>
                            <comment id="13900017" author="hadoopqa" created="Thu, 13 Feb 2014 04:59:22 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12628640/10342.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12628640/10342.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3564//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3564//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3564//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3564//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13901950" author="owen.omalley" created="Fri, 14 Feb 2014 21:20:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13901960" author="owen.omalley" created="Fri, 14 Feb 2014 21:25:56 +0000"  >&lt;p&gt;I just committed this. Thanks, Larry!&lt;/p&gt;</comment>
                            <comment id="13901979" author="hudson" created="Fri, 14 Feb 2014 21:43:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #5172 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/5172/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/5172/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10342&quot; title=&quot;Extend UserGroupInformation to return a UGI given a preauthenticated kerberos Subject&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10342&quot;&gt;&lt;del&gt;HADOOP-10342&lt;/del&gt;&lt;/a&gt;. Add a new method to UGI to use a Kerberos login subject to&lt;br/&gt;
build a new UGI. (Larry McCay via omalley) (omalley: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1568525&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1568525&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUGIWithSecurityOn.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13902387" author="hudson" created="Sat, 15 Feb 2014 11:09:15 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #482 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/482/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/482/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10342&quot; title=&quot;Extend UserGroupInformation to return a UGI given a preauthenticated kerberos Subject&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10342&quot;&gt;&lt;del&gt;HADOOP-10342&lt;/del&gt;&lt;/a&gt;. Add a new method to UGI to use a Kerberos login subject to&lt;br/&gt;
build a new UGI. (Larry McCay via omalley) (omalley: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1568525&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1568525&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUGIWithSecurityOn.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13902402" author="hudson" created="Sat, 15 Feb 2014 13:32:51 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1674 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1674/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1674/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10342&quot; title=&quot;Extend UserGroupInformation to return a UGI given a preauthenticated kerberos Subject&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10342&quot;&gt;&lt;del&gt;HADOOP-10342&lt;/del&gt;&lt;/a&gt;. Add a new method to UGI to use a Kerberos login subject to&lt;br/&gt;
build a new UGI. (Larry McCay via omalley) (omalley: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1568525&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1568525&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUGIWithSecurityOn.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13902408" author="lmccay" created="Sat, 15 Feb 2014 14:04:51 +0000"  >&lt;p&gt;patch for branch-2.&lt;/p&gt;</comment>
                            <comment id="13902423" author="hudson" created="Sat, 15 Feb 2014 14:50:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Mapreduce-trunk #1699 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1699/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1699/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10342&quot; title=&quot;Extend UserGroupInformation to return a UGI given a preauthenticated kerberos Subject&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10342&quot;&gt;&lt;del&gt;HADOOP-10342&lt;/del&gt;&lt;/a&gt;. Add a new method to UGI to use a Kerberos login subject to&lt;br/&gt;
build a new UGI. (Larry McCay via omalley) (omalley: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1568525&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1568525&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUGIWithSecurityOn.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13902552" author="lmccay" created="Sat, 15 Feb 2014 22:28:51 +0000"  >&lt;p&gt;branch-1 patch.&lt;/p&gt;</comment>
                            <comment id="13902573" author="lmccay" created="Sat, 15 Feb 2014 23:18:00 +0000"  >&lt;p&gt;patch for branch-1.2&lt;/p&gt;</comment>
                            <comment id="13902733" author="lmccay" created="Sun, 16 Feb 2014 15:39:57 +0000"  >&lt;p&gt;patch for branch-2.3&lt;/p&gt;</comment>
                            <comment id="14014258" author="owen.omalley" created="Fri, 30 May 2014 21:46:19 +0000"  >&lt;p&gt;This is good for branch-2.&lt;/p&gt;</comment>
                            <comment id="14042508" author="jingzhao" created="Tue, 24 Jun 2014 18:47:20 +0000"  >&lt;p&gt;Update the fix version: the patch has been merged to branch-2 already.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629244" name="10342.branch-1.2.patch" size="3735" author="lmccay" created="Sat, 15 Feb 2014 23:18:00 +0000"/>
                            <attachment id="12629242" name="10342.branch-1.patch" size="3735" author="lmccay" created="Sat, 15 Feb 2014 22:28:51 +0000"/>
                            <attachment id="12629270" name="10342.branch-2.3.patch" size="4451" author="lmccay" created="Sun, 16 Feb 2014 15:39:57 +0000"/>
                            <attachment id="12629220" name="10342.branch-2.patch" size="4451" author="lmccay" created="Sat, 15 Feb 2014 14:04:51 +0000"/>
                            <attachment id="12628640" name="10342.patch" size="6853" author="lmccay" created="Thu, 13 Feb 2014 01:21:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sck7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Add getUGIFromSubject to leverage an external kerberos authentication</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>