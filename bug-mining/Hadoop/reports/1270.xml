<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:45:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10880] Move HTTP delegation tokens out of URL querystring to a header</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10880</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Following up on a discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10799&quot; title=&quot;Refactor HTTP delegation token logic from httpfs into reusable code in hadoop-common.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10799&quot;&gt;&lt;del&gt;HADOOP-10799&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Because URLs are often logged, delegation tokens may end up in LOG files while they are still valid. &lt;/p&gt;

&lt;p&gt;We should move the tokens to a header.&lt;/p&gt;

&lt;p&gt;We should still support tokens in the querystring for backwards compatibility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12728970">HADOOP-10880</key>
            <summary>Move HTTP delegation tokens out of URL querystring to a header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tucu00">Alejandro Abdelnur</assignee>
                                    <reporter username="tucu00">Alejandro Abdelnur</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Jul 2014 21:03:17 +0000</created>
                <updated>Mon, 1 Dec 2014 03:09:15 +0000</updated>
                            <resolved>Thu, 28 Aug 2014 21:49:35 +0000</resolved>
                                    <version>2.4.1</version>
                                    <fixVersion>2.6.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14070894" author="tucu00" created="Tue, 22 Jul 2014 21:06:25 +0000"  >&lt;p&gt;We could do it in a backwards compatible way:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The new client side logic doing DT would use a header by default.&lt;/li&gt;
	&lt;li&gt;The new client side logic doing DT would support a CONFIG switch to force using the querystring (to support old services).&lt;/li&gt;
	&lt;li&gt;The server logic doing DT will do header with fallback to querystring (to support old clients).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14070895" author="tucu00" created="Tue, 22 Jul 2014 21:07:24 +0000"  >&lt;p&gt;making it a blocker so we don&apos;t release the new HTTP DT stuff without this.&lt;/p&gt;</comment>
                            <comment id="14080502" author="tucu00" created="Thu, 31 Jul 2014 05:11:41 +0000"  >&lt;p&gt;Patch moving delegation tokens to a request header. &lt;/p&gt;

&lt;p&gt;On the client side, &lt;tt&gt;DelegationTokenAuthenticatedURL&lt;/tt&gt; still supports using querystring via a &lt;tt&gt;setUseHeaderForDelegationToken(boolean)&lt;/tt&gt; method.&lt;/p&gt;

&lt;p&gt;On the server side, &lt;tt&gt;DelegationTokenAuthenticationHandler&lt;/tt&gt; supports delegation token in query string and in request header, request header has precedence. &lt;/p&gt;

&lt;p&gt;This patch applies on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10771&quot; title=&quot;Refactor HTTP delegation support out of httpfs to common&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10771&quot;&gt;&lt;del&gt;HADOOP-10771&lt;/del&gt;&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10835&quot; title=&quot;Implement HTTP proxyuser support in HTTP authentication client/server libraries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10835&quot;&gt;&lt;del&gt;HADOOP-10835&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14088198" author="daryn" created="Wed, 6 Aug 2014 20:27:37 +0000"  >&lt;p&gt;I was assuming the plan was to use http authentication itself.   The RFC defined method DIGEST (circa late 90s) prevents sending the password over the wire in plain text.  I&apos;m pretty sure the SASL DIGEST-MD5 client we use at the RPC layer is emitting exactly what goes in the headers during the exchange.&lt;/p&gt;

&lt;p&gt;It&apos;s also not going to play nice with HA tokens...&lt;/p&gt;</comment>
                            <comment id="14090361" author="tucu00" created="Fri, 8 Aug 2014 06:14:26 +0000"  >&lt;p&gt;rebasing to trunk&lt;/p&gt;</comment>
                            <comment id="14090785" author="daryn" created="Fri, 8 Aug 2014 14:07:13 +0000"  >&lt;p&gt;Is a cookie generated after authenticating with a token?&lt;/p&gt;</comment>
                            <comment id="14090916" author="tucu00" created="Fri, 8 Aug 2014 16:09:23 +0000"  >&lt;p&gt;only requests authenticated by the authenticatorhandler (ie kerberos...) issue hadoop-auth cookies, requests that present delegation tokens do not issue cookies (actually they issue a expired one to force a flushing).&lt;/p&gt;</comment>
                            <comment id="14096135" author="tucu00" created="Wed, 13 Aug 2014 21:11:33 +0000"  >&lt;p&gt;rebasing to trunk.&lt;/p&gt;</comment>
                            <comment id="14096334" author="daryn" created="Thu, 14 Aug 2014 00:14:59 +0000"  >&lt;p&gt;Is it reasonable to implement this with digest auth now rather than later?  I think you&apos;ve already got the hooks to do it.  We&apos;ve already got insecure token in the query string, this would be insecure token in a header, whereas digest will be secure token in a header on par with rpc.  Taking away functionality once it&apos;s unleashed is hard and requires complicated backwards compatibility.  When it comes to authentication code, more so than anywhere else, less is better.  It&apos;s too easy to make subtle mistakes that compromise the system...&lt;/p&gt;</comment>
                            <comment id="14096348" author="tucu00" created="Thu, 14 Aug 2014 00:29:06 +0000"  >&lt;p&gt;daryn, i&apos;ve thinking about this. if we do that, how non-java clients will do it? a curl client for example. &lt;/p&gt;</comment>
                            <comment id="14097078" author="daryn" created="Thu, 14 Aug 2014 15:37:02 +0000"  >&lt;p&gt;I think it&apos;s something like this:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;curl --negotiate --digest --user &quot;token:password&quot; &lt;a href=&quot;http://nn:50070&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://nn:50070&lt;/a&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;or to keep it off the cmdline:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;curl --negotiate -K dtoken.opts &lt;a href=&quot;http://nn:50070&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://nn:50070&lt;/a&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;dtoken.opts file:&lt;br/&gt;
&lt;tt&gt;--digest --user &quot;token:password&quot;&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="14098734" author="tucu00" created="Fri, 15 Aug 2014 16:34:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daryn&quot; class=&quot;user-hover&quot; rel=&quot;daryn&quot;&gt;daryn&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I&#8217;ve gone the digest approach to see how things would work but I&#8217;ve found a few issues with it which I think make the use of digest a moot thing:&lt;/p&gt;

&lt;p&gt;Digest typically assumes a challenge with a nonce from the server, the nonce is use to create the hash of the common secret. In our case, we would be doing a proactive digest (we don&#8217;t want 2 HTTP calls on every HTTP call using a DT), this means we don&#8217;t have a nonce from the server. We could get the server side to use proactively the AuthenticationInfo to provide a nonce in advance, that that would break pipelined requests. We could get the client to issue a nonce and the server honor it, but that would not work without using our client and server that understand that (curl would break).&lt;/p&gt;

&lt;p&gt;Even if we sort it out, we have another problem, the DT is an opaque string blob to the client. The DT includes the token identifier and the password, we would have to use the token identifier as the &apos;user&apos; and the password as the &apos;password&apos; in creating the Disgest &apos;user:digest(password)&apos; client header. A curl client would not have a way to break down the DT opaque string into identifier and password.&lt;/p&gt;

&lt;p&gt;Another point, when getting, renewing or canceling a DT, we send the full DT opaque string. So using a digest for does not prevent for an attacker to get the full DT.&lt;/p&gt;

&lt;p&gt;Given all this, my take is, the current patch that moves the DTs from URL to headers and just use HTTPS.&lt;/p&gt;

&lt;p&gt;Thoughts? Am I missing something?&lt;/p&gt;</comment>
                            <comment id="14101540" author="tucu00" created="Mon, 18 Aug 2014 23:45:43 +0000"  >&lt;p&gt;I&apos;ve talked with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daryn&quot; class=&quot;user-hover&quot; rel=&quot;daryn&quot;&gt;daryn&lt;/a&gt; over the phone and he&apos;d be OK on keeping the scope of this JIRA as initially intended, not adding digest stuff to it. For reasons along the lines the ones mentioned in my previous comment.&lt;/p&gt;</comment>
                            <comment id="14103868" author="hadoopqa" created="Wed, 20 Aug 2014 13:32:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12661544/HADOOP-10880.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12661544/HADOOP-10880.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified test files.&lt;/p&gt;

&lt;p&gt;      &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The applied patch generated 1261 javac compiler warnings (more than the trunk&apos;s current 1260 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestActiveStandbyElector&lt;br/&gt;
                  org.apache.hadoop.ha.TestZKFailoverController&lt;br/&gt;
                  org.apache.hadoop.ipc.TestCallQueueManager&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4516//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4516//testReport/&lt;/a&gt;&lt;br/&gt;
Javac warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4516//artifact/trunk/patchprocess/diffJavacWarnings.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4516//artifact/trunk/patchprocess/diffJavacWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4516//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4516//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14104146" author="tucu00" created="Wed, 20 Aug 2014 17:14:44 +0000"  >&lt;p&gt;test failures are unrelated&lt;/p&gt;</comment>
                            <comment id="14104313" author="hadoopqa" created="Wed, 20 Aug 2014 18:42:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12661544/HADOOP-10880.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12661544/HADOOP-10880.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified test files.&lt;/p&gt;

&lt;p&gt;      &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The applied patch generated 1261 javac compiler warnings (more than the trunk&apos;s current 1260 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestActiveStandbyElector&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4517//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4517//testReport/&lt;/a&gt;&lt;br/&gt;
Javac warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4517//artifact/trunk/patchprocess/diffJavacWarnings.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4517//artifact/trunk/patchprocess/diffJavacWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4517//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4517//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14106455" author="tucu00" created="Fri, 22 Aug 2014 04:55:45 +0000"  >&lt;p&gt;the extra javac warning is expected as a testcase is testing a deprecated method, I&apos;ll increment the javac warning count in test-patch by 1 on commit.&lt;/p&gt;</comment>
                            <comment id="14113605" author="atm" created="Thu, 28 Aug 2014 09:38:58 +0000"  >&lt;p&gt;Latest patch looks pretty good to me. Just a few small comments:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Lower-case this &quot;O&quot;, and upper-case this &quot;f&quot;: &quot;useQueryStringforDelegationTOken&quot;&lt;/li&gt;
	&lt;li&gt;This comment about the default behavior seems inaccurate, given that the default value for &quot;useQueryStringforDelegationTOken&quot; is &quot;true&quot;:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+   * By &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; it is transmitted using the
+   * {@link DelegationTokenAuthenticator#DELEGATION_TOKEN_HEADER} HTTP header.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Recommend renaming &quot;getUseQueryStringForDelegationToken&quot; to &quot;shouldUseQueryStringForDelegationToken&quot; or perhaps just &quot;useQueryStringForDelegationToken&quot;.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;+1 once these are addressed.&lt;/p&gt;</comment>
                            <comment id="14113966" author="tucu00" created="Thu, 28 Aug 2014 16:59:29 +0000"  >&lt;p&gt;updated patch addressing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=atm&quot; class=&quot;user-hover&quot; rel=&quot;atm&quot;&gt;atm&lt;/a&gt;&apos;s feedback.&lt;/p&gt;</comment>
                            <comment id="14113988" author="hadoopqa" created="Thu, 28 Aug 2014 17:14:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665011/HADOOP-10880.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665011/HADOOP-10880.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;&lt;/font&gt;-1 javac&lt;font color=&quot;red&quot;&gt;&lt;/font&gt;.  The patch appears to cause the build to fail.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4570//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4570//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14114004" author="tucu00" created="Thu, 28 Aug 2014 17:26:41 +0000"  >&lt;p&gt;re-uploading, compiles locally.&lt;/p&gt;</comment>
                            <comment id="14114103" author="hadoopqa" created="Thu, 28 Aug 2014 18:20:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665020/HADOOP-10880.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665020/HADOOP-10880.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified test files.&lt;/p&gt;

&lt;p&gt;      &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The applied patch generated 1263 javac compiler warnings (more than the trunk&apos;s current 1262 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestZKFailoverController&lt;br/&gt;
                  org.apache.hadoop.ipc.TestFairCallQueue&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4571//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4571//testReport/&lt;/a&gt;&lt;br/&gt;
Javac warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4571//artifact/trunk/patchprocess/diffJavacWarnings.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4571//artifact/trunk/patchprocess/diffJavacWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4571//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4571//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14114396" author="tucu00" created="Thu, 28 Aug 2014 21:38:06 +0000"  >&lt;p&gt;testcases unrelated, committing momentarily.&lt;/p&gt;</comment>
                            <comment id="14114420" author="tucu00" created="Thu, 28 Aug 2014 21:49:35 +0000"  >&lt;p&gt;committed to trunk and branch-2.&lt;/p&gt;</comment>
                            <comment id="14115146" author="hudson" created="Fri, 29 Aug 2014 11:28:40 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #663 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/663/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/663/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10880&quot; title=&quot;Move HTTP delegation tokens out of URL querystring to a header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10880&quot;&gt;&lt;del&gt;HADOOP-10880&lt;/del&gt;&lt;/a&gt;. Move HTTP delegation tokens out of URL querystring to a header. (tucu) (tucu: rev d1ae479aa5ae4d3e7ec80e35892e1699c378f813)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticationHandler.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestWebDelegationToken.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestDelegationTokenAuthenticationHandlerWithMocks.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticatedURL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14115259" author="hudson" created="Fri, 29 Aug 2014 14:02:39 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1854 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1854/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1854/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10880&quot; title=&quot;Move HTTP delegation tokens out of URL querystring to a header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10880&quot;&gt;&lt;del&gt;HADOOP-10880&lt;/del&gt;&lt;/a&gt;. Move HTTP delegation tokens out of URL querystring to a header. (tucu) (tucu: rev d1ae479aa5ae4d3e7ec80e35892e1699c378f813)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestWebDelegationToken.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticatedURL.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestDelegationTokenAuthenticationHandlerWithMocks.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticationHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14115431" author="hudson" created="Fri, 29 Aug 2014 16:37:28 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1880 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1880/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1880/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10880&quot; title=&quot;Move HTTP delegation tokens out of URL querystring to a header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10880&quot;&gt;&lt;del&gt;HADOOP-10880&lt;/del&gt;&lt;/a&gt;. Move HTTP delegation tokens out of URL querystring to a header. (tucu) (tucu: rev d1ae479aa5ae4d3e7ec80e35892e1699c378f813)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticationHandler.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticatedURL.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestWebDelegationToken.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestDelegationTokenAuthenticationHandlerWithMocks.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14155009" author="hudson" created="Wed, 1 Oct 2014 16:14:01 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #6163 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/6163/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/6163/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10880&quot; title=&quot;Move HTTP delegation tokens out of URL querystring to a header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10880&quot;&gt;&lt;del&gt;HADOOP-10880&lt;/del&gt;&lt;/a&gt;. Move HTTP delegation tokens out of URL querystring to a header. (tucu) (arp: rev 6bf16d115637c7761123e3b92186daa675c4769c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticationHandler.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestWebDelegationToken.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestDelegationTokenAuthenticationHandlerWithMocks.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticatedURL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14156316" author="hudson" created="Thu, 2 Oct 2014 10:43:49 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #698 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/698/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/698/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10880&quot; title=&quot;Move HTTP delegation tokens out of URL querystring to a header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10880&quot;&gt;&lt;del&gt;HADOOP-10880&lt;/del&gt;&lt;/a&gt;. Move HTTP delegation tokens out of URL querystring to a header. (tucu) (arp: rev 6bf16d115637c7761123e3b92186daa675c4769c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestDelegationTokenAuthenticationHandlerWithMocks.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestWebDelegationToken.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticationHandler.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticatedURL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14156394" author="hudson" created="Thu, 2 Oct 2014 11:33:22 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1889 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1889/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1889/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10880&quot; title=&quot;Move HTTP delegation tokens out of URL querystring to a header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10880&quot;&gt;&lt;del&gt;HADOOP-10880&lt;/del&gt;&lt;/a&gt;. Move HTTP delegation tokens out of URL querystring to a header. (tucu) (arp: rev 6bf16d115637c7761123e3b92186daa675c4769c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestWebDelegationToken.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestDelegationTokenAuthenticationHandlerWithMocks.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticationHandler.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticatedURL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14156510" author="hudson" created="Thu, 2 Oct 2014 13:04:04 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1914 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1914/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1914/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10880&quot; title=&quot;Move HTTP delegation tokens out of URL querystring to a header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10880&quot;&gt;&lt;del&gt;HADOOP-10880&lt;/del&gt;&lt;/a&gt;. Move HTTP delegation tokens out of URL querystring to a header. (tucu) (arp: rev 6bf16d115637c7761123e3b92186daa675c4769c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestDelegationTokenAuthenticationHandlerWithMocks.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticatedURL.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/token/delegation/web/TestWebDelegationToken.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticationHandler.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12724799">HADOOP-10771</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12727414">HADOOP-10835</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12665020" name="HADOOP-10880.patch" size="16392" author="tucu00" created="Thu, 28 Aug 2014 17:26:41 +0000"/>
                            <attachment id="12665011" name="HADOOP-10880.patch" size="16392" author="tucu00" created="Thu, 28 Aug 2014 16:59:29 +0000"/>
                            <attachment id="12661544" name="HADOOP-10880.patch" size="16390" author="tucu00" created="Wed, 13 Aug 2014 21:11:33 +0000"/>
                            <attachment id="12660566" name="HADOOP-10880.patch" size="16387" author="tucu00" created="Fri, 8 Aug 2014 06:14:26 +0000"/>
                            <attachment id="12658839" name="HADOOP-10880.patch" size="16062" author="tucu00" created="Thu, 31 Jul 2014 05:11:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>407044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1y1lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>407062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327179">2.6.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>