<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:43:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9761] ViewFileSystem#rename fails when using DistributedFileSystem</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9761</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;ViewFileSystem currently passes unqualified paths (no scheme or authority) to underlying FileSystems when doing a rename. DistributedFileSystem symlink support added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9418&quot; title=&quot;Add symlink resolution support to DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9418&quot;&gt;&lt;del&gt;HADOOP-9418&lt;/del&gt;&lt;/a&gt; needs to qualify and check rename sources and destinations since cross-filesystem renames aren&apos;t supported, so this breaks in the following way&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Default FS URI is configured to viewfs://&amp;lt;viewfs&amp;gt;&lt;/li&gt;
	&lt;li&gt;When doing a rename, ViewFileSystem checks to make sure both src and dst FileSystems are the same (which they are, both in same DFS), and then calls DistributedFileSystem#rename with unqualified &quot;remainder&quot; paths&lt;/li&gt;
	&lt;li&gt;Since these paths are unqualified, DFS qualifies them with the default FS to check that it can do the rename. This turns it into viewfs://&amp;lt;viewfs&amp;gt;/&amp;lt;path&amp;gt;&lt;/li&gt;
	&lt;li&gt;Since viewfs://&amp;lt;viewfs&amp;gt; is not the DFS&apos;s URI, DFS errors out the rename.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12659221">HADOOP-9761</key>
            <summary>ViewFileSystem#rename fails when using DistributedFileSystem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrew.wang">Andrew Wang</assignee>
                                    <reporter username="andrew.wang">Andrew Wang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Jul 2013 23:03:06 +0000</created>
                <updated>Thu, 12 May 2016 18:23:29 +0000</updated>
                            <resolved>Wed, 25 Sep 2013 20:37:24 +0000</resolved>
                                    <version>2.1.0-beta</version>
                    <version>3.0.0-alpha1</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>viewfs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13715898" author="andrew.wang" created="Tue, 23 Jul 2013 00:15:23 +0000"  >&lt;p&gt;I think the fix is first qualifying paths before they are passed to the underlying FileSystem. I&apos;m a bit surprised VFS doesn&apos;t do this already, but I guess it&apos;s worked so far since DFS (except for rename) just assumes it&apos;s the default FS when given an unqualified path.&lt;/p&gt;

&lt;p&gt;I think I&apos;ll qualify just for VFS#rename, but it could conceivably be done for all VFS calls.&lt;/p&gt;</comment>
                            <comment id="13715938" author="cmccabe" created="Tue, 23 Jul 2013 00:54:48 +0000"  >&lt;p&gt;Sounds good.  It would be nice to have some kind of unit test for this as well.&lt;/p&gt;</comment>
                            <comment id="13718031" author="andrew.wang" created="Wed, 24 Jul 2013 06:20:05 +0000"  >&lt;p&gt;Had to think this one over a bit. FileSystem isn&apos;t like FileContext, in that given an unqualified path, it doesn&apos;t try to qualify it against the default FS first. It&apos;s supposed to just treat the path as one of its own.&lt;/p&gt;

&lt;p&gt;So, simply move the cross-FS check in DFS#rename. Also tweak FileSystemLinkResolver to match.&lt;/p&gt;

&lt;p&gt;The existing test cases weren&apos;t picking this up because the DFS returned from the minicluster use the minicluster conf, rather than the viewfs client&apos;s conf like in a real environment. So, I make sure to set the DFS defaultFS to the viewfs. I tested &quot;fail before/works after&quot; with the testcase and tested with the shell.&lt;/p&gt;

&lt;p&gt;Also took the opportunity to correct some javadoc in DFS.&lt;/p&gt;</comment>
                            <comment id="13718969" author="cmccabe" created="Wed, 24 Jul 2013 22:52:55 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-comment&quot;&gt;// Assumes path belongs to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; FileSystem.
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// Callers are responsible &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; checking &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
&lt;/span&gt;    FileSystem fs = filesys;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t see where you are actually checking that the path belongs to the FileSystem in most of the callers.&lt;/p&gt;

&lt;p&gt;For example, back before symlinks support in FileSystem, code like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileSystem fs = FileSystem.get(hdfs...);
fs.open(&lt;span class=&quot;code-quote&quot;&gt;&quot;file:&lt;span class=&quot;code-comment&quot;&gt;///boguspath&quot;&lt;/span&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Would generate a stacktrace like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IllegalArgumentException: Wrong FS: file:/boguspath, expected: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:6000
&lt;/span&gt;        at org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:590)
        at org.apache.hadoop.hdfs.DistributedFileSystem.getPathName(DistributedFileSystem.java:170)
        at org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:246)
        at org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:79)
        at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:711)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After the symlinks support, it generated this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IllegalArgumentException: Wrong FS: file:/tmp/t, expected: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:6000
&lt;/span&gt;        at org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:636)
        at org.apache.hadoop.hdfs.DistributedFileSystem.getPathName(DistributedFileSystem.java:181)
        at org.apache.hadoop.hdfs.DistributedFileSystem.access$000(DistributedFileSystem.java:91)
        at org.apache.hadoop.hdfs.DistributedFileSystem$3.doCall(DistributedFileSystem.java:290)
        at org.apache.hadoop.hdfs.DistributedFileSystem$3.doCall(DistributedFileSystem.java:286)
        at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:78)
        at org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:286)
        at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:757)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems like this change would simply pass the incorrect path through to the FileSystem, which seems wrong.&lt;/p&gt;

&lt;p&gt;treating unqualified (i.e., &quot;schemeless&quot;) Paths as owned by the current FileSystem should not require disabling the checks for Paths which &lt;b&gt;do&lt;/b&gt; have a wrong scheme.&lt;/p&gt;</comment>
                            <comment id="13718991" author="andrew.wang" created="Wed, 24 Jul 2013 23:04:14 +0000"  >&lt;p&gt;They&apos;re checked in DistributedFileSystem#getPathName by calling FileSystem#checkPath (which does the validation you posted). All of our paths in DFS go through getPathName (or at least are supposed to).&lt;/p&gt;</comment>
                            <comment id="13720969" author="cmccabe" created="Fri, 26 Jul 2013 17:24:44 +0000"  >&lt;p&gt;I&apos;m not sure why Jenkins didn&apos;t run on this, but I re-submitted it.&lt;/p&gt;</comment>
                            <comment id="13723007" author="cmccabe" created="Mon, 29 Jul 2013 21:36:38 +0000"  >&lt;p&gt;resubmit because jenkins did not run the first time&lt;/p&gt;</comment>
                            <comment id="13723173" author="hadoopqa" created="Tue, 30 Jul 2013 00:05:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12594798/hadoop-9761-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12594798/hadoop-9761-1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.hdfs.TestDFSShell&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2869//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2869//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2869//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2869//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13723243" author="cmccabe" created="Tue, 30 Jul 2013 01:25:23 +0000"  >&lt;p&gt;I believe the test failure is related to the &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9652&quot; title=&quot;Allow RawLocalFs#getFileLinkStatus to fill in the link owner and mode if requested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9652&quot;&gt;&lt;del&gt;HADOOP-9652&lt;/del&gt;&lt;/a&gt; build breakage that we had, not this patch.  Basically a stray println was causing the regular expressions in TestDFSShell to fail.&lt;/p&gt;</comment>
                            <comment id="13723245" author="cmccabe" created="Tue, 30 Jul 2013 01:26:18 +0000"  >&lt;p&gt;I&apos;m re-uploading this to get a clean Jenkins run.  I added a newline to CHANGES.txt in the mapreduce and yarn directories, so that we can get a full jenkins run on this before committing.&lt;/p&gt;</comment>
                            <comment id="13723363" author="hadoopqa" created="Tue, 30 Jul 2013 03:47:04 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12594836/HADOOP-9761_viewfilesystem_rename_fails.003.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12594836/HADOOP-9761_viewfilesystem_rename_fails.003.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2875//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2875//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2875//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2875//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13724102" author="cmccabe" created="Tue, 30 Jul 2013 17:22:30 +0000"  >&lt;p&gt;still didn&apos;t get an MR unit test run last time.  Let&apos;s try again.&lt;/p&gt;</comment>
                            <comment id="13724318" author="hadoopqa" created="Tue, 30 Jul 2013 19:48:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12594990/0001-HADOOP-9761.004.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12594990/0001-HADOOP-9761.004.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.yarn.client.api.impl.TestNMClient&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2885//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2885//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2885//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2885//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13724817" author="andrew.wang" created="Wed, 31 Jul 2013 03:38:22 +0000"  >&lt;p&gt;Thanks for the poking around, Colin. I ran the failed test successfully locally, so I&apos;m guessing it&apos;s a flake in YARN.&lt;/p&gt;

&lt;p&gt;I think we should commit the earlier patch without the whitespace changes as it also does have a jenkins +1, unless there are further review comments.&lt;/p&gt;</comment>
                            <comment id="13725460" author="cmccabe" created="Wed, 31 Jul 2013 17:28:53 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// Assumes path belongs to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; FileSystem.
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// Callers are responsible &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; checking &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
&lt;/span&gt;+    FileSystem fs = filesys;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks for the explanation about this.  Can we add a comment like &quot;this is validated in &lt;tt&gt;FileSystem#checkPath&lt;/tt&gt;&quot;?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fs.getUri() != getUri()) {
+            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Renames across FileSystems not supported&quot;&lt;/span&gt;);
+          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We should be using &lt;tt&gt;equals&lt;/tt&gt; here, not &lt;tt&gt;!=&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;+1 once those are addressed.&lt;/p&gt;</comment>
                            <comment id="13725700" author="andrew.wang" created="Wed, 31 Jul 2013 20:45:58 +0000"  >&lt;p&gt;Rolled up your suggested changes, thanks, On revisiting this though, I went a bit further:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Removed the same check from  &lt;tt&gt;rename(Path, Path, Options)&lt;/tt&gt; that I missed before&lt;/li&gt;
	&lt;li&gt;Removed throwing the rename across FileSystems IOException at all, since this is handled already in FileSystem#checkPath, and symlink tests in fact check for that &lt;tt&gt;IllegalArgumentException&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13725784" author="cmccabe" created="Wed, 31 Jul 2013 22:19:48 +0000"  >&lt;p&gt;OK, good.  So basically this boils down to removing unnecessary checks that were hampering &lt;tt&gt;ViewFileSystem&lt;/tt&gt;-- that were already being done in &lt;tt&gt;getPathName&lt;/tt&gt;, etc.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;         &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt; next(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystem fs, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Path p)
             &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
-          &lt;span class=&quot;code-comment&quot;&gt;// Since we know it&apos;s &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; DFS &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; both, can just call doCall again
&lt;/span&gt;+          &lt;span class=&quot;code-comment&quot;&gt;// Should just &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; an error in FileSystem#checkPath
&lt;/span&gt;           &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; doCall(p);
         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think the comment should be something more like &quot;if the new path is in a different filesystem, doCall will throw an exception.&quot;  &quot;Should just throw an error&quot; implies that it always fails, which definitely isn&apos;t true... if the symlink is to something on the same FS.&lt;/p&gt;</comment>
                            <comment id="13725789" author="andrew.wang" created="Wed, 31 Jul 2013 22:28:36 +0000"  >&lt;p&gt;So the way &lt;tt&gt;FileSystemLinkResolver#resolve&lt;/tt&gt; works, it calls &lt;tt&gt;#doCall&lt;/tt&gt; if the symlink points to within the same FileSystem, and goes out to &lt;tt&gt;#next&lt;/tt&gt; if it&apos;s a different FileSystem. So, I think this means the &lt;tt&gt;#doCall&lt;/tt&gt; here should always fail the &lt;tt&gt;FileSystem#checkPath&lt;/tt&gt; check. This is a bit confusing compared to &lt;tt&gt;FSLinkResolver&lt;/tt&gt;, since &lt;tt&gt;#next&lt;/tt&gt; is being used differently.&lt;/p&gt;</comment>
                            <comment id="13725811" author="hadoopqa" created="Wed, 31 Jul 2013 23:07:19 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12595272/hadoop-9761-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12595272/hadoop-9761-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2897//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2897//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2897//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2897//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13725942" author="cmccabe" created="Thu, 1 Aug 2013 01:24:03 +0000"  >&lt;p&gt;Yeah, you&apos;re absolutely right.  There is a difference between &lt;tt&gt;FileSystemLinkResolver&lt;/tt&gt;, where you have this code in &lt;tt&gt;FileSystemLinkResolver#resolve&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-comment&quot;&gt;// Have to call next &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it&apos;s a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FS
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!fs.equals(filesys)) {
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; next(fs, p);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and &lt;tt&gt;FSLinkResolver#resolve&lt;/tt&gt;, where you have this code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-comment&quot;&gt;// Loop until all symlinks are resolved or the limit is reached
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isLink = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;; isLink;) {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        in = next(fs, p);
        isLink = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
      ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In other words, FSLinkResolver doesn&apos;t have &lt;tt&gt;doCall&lt;/tt&gt;, only &lt;tt&gt;next&lt;/tt&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;So, I think this means the #doCall here should always fail the FileSystem#checkPath check.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think it&apos;s better to just raise an exception directly, than to rely on another method to do it.  There&apos;s less coupling in the code and it&apos;s clearer.  Maybe something like this?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;         &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt; next(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystem fs, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Path p)
             &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
           &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Wrong FS: &quot;&lt;/span&gt;+path+
                                       &lt;span class=&quot;code-quote&quot;&gt;&quot;, expected: &quot;&lt;/span&gt;+ fileSys.getUri());
         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think this makes it a lot more obvious what&apos;s going on... what do you think&lt;/p&gt;</comment>
                            <comment id="13727103" author="andrew.wang" created="Thu, 1 Aug 2013 23:50:59 +0000"  >&lt;p&gt;I had that thought, it&apos;s a tradeoff between clarity and duplicating the exception. I was hoping that having a comment would alleviate the clarity concern, but I can re-rev if you want.&lt;/p&gt;

&lt;p&gt;It&apos;s also perhaps worth noting that duplication is across sub-projects, i.e. &lt;tt&gt;FileSystem#checkPath&lt;/tt&gt; is in Common while DFS is in HDFS.&lt;/p&gt;</comment>
                            <comment id="13727823" author="cmccabe" created="Fri, 2 Aug 2013 17:19:43 +0000"  >&lt;p&gt;OK.  That is a fair point.  Duplicating the exception could be a maintenance issue.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13728167" author="cmccabe" created="Fri, 2 Aug 2013 21:48:11 +0000"  >&lt;p&gt;commited in 2.3&lt;/p&gt;</comment>
                            <comment id="13728208" author="hudson" created="Fri, 2 Aug 2013 22:32:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #4206 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/4206/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/4206/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9761&quot; title=&quot;ViewFileSystem#rename fails when using DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9761&quot;&gt;&lt;del&gt;HADOOP-9761&lt;/del&gt;&lt;/a&gt;.  ViewFileSystem#rename fails when using DistributedFileSystem (Andrew Wang via Colin Patrick McCabe) (cmccabe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509874&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509874&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystemLinkResolver.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DistributedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFileSystemHdfs.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728511" author="hudson" created="Sat, 3 Aug 2013 10:55:39 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Yarn-trunk #290 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/290/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/290/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9761&quot; title=&quot;ViewFileSystem#rename fails when using DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9761&quot;&gt;&lt;del&gt;HADOOP-9761&lt;/del&gt;&lt;/a&gt;.  ViewFileSystem#rename fails when using DistributedFileSystem (Andrew Wang via Colin Patrick McCabe) (cmccabe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509874&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509874&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystemLinkResolver.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DistributedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFileSystemHdfs.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728535" author="hudson" created="Sat, 3 Aug 2013 13:19:20 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1480 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1480/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1480/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9761&quot; title=&quot;ViewFileSystem#rename fails when using DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9761&quot;&gt;&lt;del&gt;HADOOP-9761&lt;/del&gt;&lt;/a&gt;.  ViewFileSystem#rename fails when using DistributedFileSystem (Andrew Wang via Colin Patrick McCabe) (cmccabe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509874&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509874&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystemLinkResolver.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DistributedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFileSystemHdfs.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728544" author="hudson" created="Sat, 3 Aug 2013 14:10:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Mapreduce-trunk #1507 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1507/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1507/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9761&quot; title=&quot;ViewFileSystem#rename fails when using DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9761&quot;&gt;&lt;del&gt;HADOOP-9761&lt;/del&gt;&lt;/a&gt;.  ViewFileSystem#rename fails when using DistributedFileSystem (Andrew Wang via Colin Patrick McCabe) (cmccabe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509874&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509874&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystemLinkResolver.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DistributedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/viewfs/TestViewFileSystemHdfs.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13776749" author="andrew.wang" created="Tue, 24 Sep 2013 21:08:21 +0000"  >&lt;p&gt;Reopening to track backporting this to branch-2.1 or similar for GA.&lt;/p&gt;</comment>
                            <comment id="13776855" author="acmurthy" created="Tue, 24 Sep 2013 22:39:35 +0000"  >&lt;p&gt;Is this required for 2.1.2-beta?&lt;/p&gt;</comment>
                            <comment id="13776861" author="andrew.wang" created="Tue, 24 Sep 2013 22:47:32 +0000"  >&lt;p&gt;It breaks rename when using viewfs ontop of HDFS, which is a pretty big regression. We&apos;ve tested this internally on our 2.1.0-based branch and it seems okay.&lt;/p&gt;</comment>
                            <comment id="13778047" author="andrew.wang" created="Wed, 25 Sep 2013 20:37:24 +0000"  >&lt;p&gt;Committed to branch-2.1 and updated the CHANGES.txt in other branch-2 and trunk.&lt;/p&gt;</comment>
                            <comment id="13778071" author="hudson" created="Wed, 25 Sep 2013 20:56:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #4466 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/4466/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/4466/&lt;/a&gt;)&lt;br/&gt;
Move CHANGES.txt entry for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9761&quot; title=&quot;ViewFileSystem#rename fails when using DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9761&quot;&gt;&lt;del&gt;HADOOP-9761&lt;/del&gt;&lt;/a&gt; (wang: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526293&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13778657" author="hudson" created="Thu, 26 Sep 2013 10:57:51 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #344 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/344/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/344/&lt;/a&gt;)&lt;br/&gt;
Move CHANGES.txt entry for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9761&quot; title=&quot;ViewFileSystem#rename fails when using DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9761&quot;&gt;&lt;del&gt;HADOOP-9761&lt;/del&gt;&lt;/a&gt; (wang: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526293&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13778760" author="hudson" created="Thu, 26 Sep 2013 13:24:26 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1560 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1560/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1560/&lt;/a&gt;)&lt;br/&gt;
Move CHANGES.txt entry for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9761&quot; title=&quot;ViewFileSystem#rename fails when using DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9761&quot;&gt;&lt;del&gt;HADOOP-9761&lt;/del&gt;&lt;/a&gt; (wang: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526293&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13778774" author="hudson" created="Thu, 26 Sep 2013 13:29:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Hdfs-trunk #1534 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1534/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1534/&lt;/a&gt;)&lt;br/&gt;
Move CHANGES.txt entry for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9761&quot; title=&quot;ViewFileSystem#rename fails when using DistributedFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9761&quot;&gt;&lt;del&gt;HADOOP-9761&lt;/del&gt;&lt;/a&gt; (wang: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526293&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14607626" author="vinodkv" created="Tue, 30 Jun 2015 07:11:20 +0000"  >&lt;p&gt;Closing old tickets that are already shipped in a release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12637705">HADOOP-9418</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594990" name="0001-HADOOP-9761.004.patch" size="7167" author="cmccabe" created="Tue, 30 Jul 2013 17:22:30 +0000"/>
                            <attachment id="12594798" name="hadoop-9761-1.patch" size="4679" author="cmccabe" created="Mon, 29 Jul 2013 21:36:38 +0000"/>
                            <attachment id="12593861" name="hadoop-9761-1.patch" size="4675" author="andrew.wang" created="Wed, 24 Jul 2013 06:20:05 +0000"/>
                            <attachment id="12595272" name="hadoop-9761-2.patch" size="5818" author="andrew.wang" created="Wed, 31 Jul 2013 20:45:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mji7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12325048">2.2.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>