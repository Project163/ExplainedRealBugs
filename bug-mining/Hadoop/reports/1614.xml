<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:48:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-12018] smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-12018</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;If the patch edits a file includes CR+LF and created by &quot;git diff --no-prefix&quot;, smart-apply-patch.sh fails to patch. smart-apply-patch.sh checks if the patch is created by &quot;git diff&quot; or &quot;patch&quot;, however, if a patch is created by &quot;git diff --no-prefix&quot;, smart-apply-patch.sh detects the patch is created by &quot;patch&quot; command. That&apos;s why &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6800/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6800/console&lt;/a&gt; fails.&lt;br/&gt;
A workaround is to use &quot;git diff&quot; for creating patch if a file includes CR+LF is edited.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12832049">HADOOP-12018</key>
            <summary>smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sekikn">Kengo Seki</assignee>
                                    <reporter username="aajisaka">Akira Ajisaka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 May 2015 05:32:45 +0000</created>
                <updated>Tue, 30 Aug 2016 01:27:26 +0000</updated>
                            <resolved>Thu, 4 Jun 2015 02:17:54 +0000</resolved>
                                                    <fixVersion>2.8.0</fixVersion>
                    <fixVersion>3.0.0-alpha1</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14555663" author="ajisakaa" created="Fri, 22 May 2015 06:28:23 +0000"  >&lt;p&gt;I&apos;m thinking there are two patterns to fix this issue.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Fix smart-apply-patch.sh.&lt;/li&gt;
	&lt;li&gt;Document not to use &quot;git diff --no-prefix&quot; to create patch.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14556374" author="sekikn" created="Fri, 22 May 2015 16:11:02 +0000"  >&lt;p&gt;I prefer the plan 1. The root problem is that smart-apply-patch can&apos;t recognise the patch created by &apos;git diff --no-prefix&apos; as git&apos;s one. This patch enables smart-apply-patch to detect it and use &apos;git apply -p0&apos; rather than &apos;patch -p0&apos;.&lt;/p&gt;</comment>
                            <comment id="14556386" author="hadoopqa" created="Fri, 22 May 2015 16:20:48 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; pre-patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Pre-patch trunk compilation is healthy. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; @author &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not contain any @author tags. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; release audit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 14s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The applied patch does not increase the total number of release audit warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  6s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new shellcheck (v0.3.3) issues. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; whitespace &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch has no lines that end in whitespace. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 23s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12734858/HADOOP-12018.001.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12734858/HADOOP-12018.001.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / b27ce3c &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.7.0_55 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux asf902.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6802/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6802/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14570296" author="ajisakaa" created="Wed, 3 Jun 2015 05:25:06 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sekikn&quot; class=&quot;user-hover&quot; rel=&quot;sekikn&quot;&gt;sekikn&lt;/a&gt; for taking this issue. Looks good to me. Testing this patch.&lt;/p&gt;</comment>
                            <comment id="14570299" author="hadoopqa" created="Wed, 3 Jun 2015 05:30:25 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch command could not apply the patch during dryrun. &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12737089/HADOOP-12018.test-noprefix.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12737089/HADOOP-12018.test-noprefix.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / 806e407 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6901/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6901/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14570320" author="ajisakaa" created="Wed, 3 Jun 2015 05:55:35 +0000"  >&lt;p&gt;test-patch.sh is not re-executed due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11991&quot; title=&quot;test-patch.sh isn&amp;#39;t re-executed even if smart-apply-patch.sh is modified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11991&quot;&gt;&lt;del&gt;HADOOP-11991&lt;/del&gt;&lt;/a&gt;. We need to fix this first.&lt;/p&gt;</comment>
                            <comment id="14570330" author="ajisakaa" created="Wed, 3 Jun 2015 06:04:34 +0000"  >&lt;p&gt;Retrying.&lt;/p&gt;</comment>
                            <comment id="14570347" author="hadoopqa" created="Wed, 3 Jun 2015 06:20:07 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  3s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch command could not apply the patch. &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12737094/HADOOP-12018.test-noprefix.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12737094/HADOOP-12018.test-noprefix.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / a6a8ee3 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6902/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6902/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14570393" author="ajisakaa" created="Wed, 3 Jun 2015 07:01:43 +0000"  >&lt;p&gt;I found this issue cannot test by jenkins. This is because test-patch.sh applies the patch before updating smart-apply-patch.sh. I&apos;ll test the patch manually.&lt;/p&gt;</comment>
                            <comment id="14570415" author="ajisakaa" created="Wed, 3 Jun 2015 07:24:16 +0000"  >&lt;p&gt;Two comments:&lt;/p&gt;

&lt;p&gt;1. &lt;tt&gt;has_prefix()&lt;/tt&gt; returns 0 if the input is as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;diff --git hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/resources/images/rm-ha-overview.png hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/resources/images/rm-ha-overview.png
deleted file mode 100644
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The method should return 1 with the input.&lt;/p&gt;

&lt;p&gt;2. &lt;tt&gt;$1&lt;/tt&gt; should be &lt;tt&gt;$PATCH_FILE&lt;/tt&gt;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# Case &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; git-diff patches
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [[ $(head -1 $1) =~ ^diff\ --git ]]; then
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14570427" author="ajisakaa" created="Wed, 3 Jun 2015 07:34:41 +0000"  >&lt;p&gt;Note: I included binary file in &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12018&quot; title=&quot;smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &amp;#39;git diff --no-prefix&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12018&quot;&gt;&lt;del&gt;HADOOP-12018&lt;/del&gt;&lt;/a&gt;.test-noprefix.patch&lt;/tt&gt; intentionally to confirm that smart-apply-patch.sh will apply the patch by &lt;tt&gt;--binary&lt;/tt&gt; option.&lt;/p&gt;</comment>
                            <comment id="14570997" author="sekikn" created="Wed, 3 Jun 2015 15:19:14 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ajisakaa&quot; class=&quot;user-hover&quot; rel=&quot;ajisakaa&quot;&gt;ajisakaa&lt;/a&gt;, I&apos;m attaching a fixed patch.&lt;br/&gt;
As for the first comment, the previous patch was a bit verbose. We can simplify it as an awk one-liner:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[sekikn@mobile ~]$ cat sample.patch 
diff --git hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/resources/images/rm-ha-overview.png hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/resources/images/rm-ha-overview.png
deleted file mode 100644
[sekikn@mobile ~]$ awk &apos;/^diff --git / { &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ($3 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^a/&quot;&lt;/span&gt; || $4 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^b/&quot;&lt;/span&gt;) { exit 1 } }
&amp;gt; /^\+{3}|-{3} / { &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ($2 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^[ab]/&quot;&lt;/span&gt; &amp;amp;&amp;amp; $2 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;) { exit 1 } }&apos; sample.patch
[sekikn@mobile ~]$ echo $?
1
[sekikn@mobile ~]$ cat noprefix.patch 
diff --git NOTICE.txt NOTICE.txt
deleted file mode 100644
index 62fc581..0000000
--- NOTICE.txt
+++ /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
@@ -1,2 +0,0 @@
-This product includes software developed by The Apache Software
-Foundation (http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/).
&lt;/span&gt;[sekikn@mobile ~]$ awk &apos;/^diff --git / { &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ($3 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^a/&quot;&lt;/span&gt; || $4 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^b/&quot;&lt;/span&gt;) { exit 1 } }
&amp;gt; /^\+{3}|-{3} / { &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ($2 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^[ab]/&quot;&lt;/span&gt; &amp;amp;&amp;amp; $2 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;) { exit 1 } }&apos; noprefix.patch
[sekikn@mobile ~]$ echo $?
1
[sekikn@mobile ~]$ cat prefix.patch 
diff --git a/NOTICE.txt b/NOTICE.txt
deleted file mode 100644
index 62fc581..0000000
--- a/NOTICE.txt
+++ /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
@@ -1,2 +0,0 @@
-This product includes software developed by The Apache Software
-Foundation (http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/).
&lt;/span&gt;[sekikn@mobile ~]$ awk &apos;/^diff --git / { &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ($3 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^a/&quot;&lt;/span&gt; || $4 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^b/&quot;&lt;/span&gt;) { exit 1 } }
&amp;gt; /^\+{3}|-{3} / { &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ($2 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;^[ab]/&quot;&lt;/span&gt; &amp;amp;&amp;amp; $2 !~ &lt;span class=&quot;code-quote&quot;&gt;&quot;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;) { exit 1 } }&apos; prefix.patch
[sekikn@mobile ~]$ echo $?
0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems fine.&lt;/p&gt;</comment>
                            <comment id="14571000" author="hadoopqa" created="Wed, 3 Jun 2015 15:20:28 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; A patch to the files used for the QA process has been detected. &lt;br/&gt;
Re-executing against the patched versions to perform further tests. &lt;br/&gt;
The console is at &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6906/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6906/console&lt;/a&gt; in case of problems.&lt;/p&gt;</comment>
                            <comment id="14571001" author="hadoopqa" created="Wed, 3 Jun 2015 15:20:55 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; reexec &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dev-support patch detected. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; pre-patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Pre-patch trunk compilation is healthy. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; @author &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not contain any @author tags. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; release audit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 15s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The applied patch does not increase the total number of release audit warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  6s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new shellcheck (v0.3.3) issues. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; whitespace &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch has no lines that end in whitespace. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 23s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12737296/HADOOP-12018.002.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12737296/HADOOP-12018.002.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / c59e745 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.7.0_55 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6906/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6906/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14571008" author="sekikn" created="Wed, 3 Jun 2015 15:24:06 +0000"  >&lt;p&gt;Fixed a wrong regex&lt;/p&gt;</comment>
                            <comment id="14571217" author="hadoopqa" created="Wed, 3 Jun 2015 15:30:22 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; A patch to the files used for the QA process has been detected. &lt;br/&gt;
Re-executing against the patched versions to perform further tests. &lt;br/&gt;
The console is at &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6907/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6907/console&lt;/a&gt; in case of problems.&lt;/p&gt;</comment>
                            <comment id="14571218" author="hadoopqa" created="Wed, 3 Jun 2015 15:30:48 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; reexec &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dev-support patch detected. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; pre-patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Pre-patch trunk compilation is healthy. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; @author &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not contain any @author tags. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; release audit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 15s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The applied patch does not increase the total number of release audit warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  4s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new shellcheck (v0.3.3) issues. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; whitespace &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch has no lines that end in whitespace. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 22s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12737297/HADOOP-12018.003.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12737297/HADOOP-12018.003.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / c59e745 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.7.0_55 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6907/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6907/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14571245" author="ajisakaa" created="Wed, 3 Jun 2015 15:58:02 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sekikn&quot; class=&quot;user-hover&quot; rel=&quot;sekikn&quot;&gt;sekikn&lt;/a&gt; for updating the patch. The one-liner looks good to me. One comment:&lt;br/&gt;
1. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# Case &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; git-diff patches
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [[ $(head -1 &lt;span class=&quot;code-quote&quot;&gt;&quot;${PATCH_FILE}&quot;&lt;/span&gt;) =~ ^diff\ --git ]]; then
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Detecting by the first line is not sufficient. Developers may upload the patch created by &lt;tt&gt;git format-patch&lt;/tt&gt;, so grepping the line starts with &lt;tt&gt;diff --git&lt;/tt&gt; would be fine.&lt;/p&gt;</comment>
                            <comment id="14571952" author="sekikn" created="Thu, 4 Jun 2015 01:31:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;Developers may upload the patch created by git format-patch, so grepping the line starts with diff --git would be fine.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ajisakaa&quot; class=&quot;user-hover&quot; rel=&quot;ajisakaa&quot;&gt;ajisakaa&lt;/a&gt;, I didn&apos;t recognize such a case.&lt;br/&gt;
Attaching a revised patch. It seems to work fine.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[sekikn@mobile hadoop]$ cat ~/noprefix.patch 
diff --git NOTICE.txt NOTICE.txt
deleted file mode 100644
index 62fc581..0000000
--- NOTICE.txt
+++ /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
@@ -1,2 +0,0 @@
-This product includes software developed by The Apache Software
-Foundation (http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/).
&lt;/span&gt;[sekikn@mobile hadoop]$ dev-support/test-patch.sh ~/noprefix.patch 

(snip)

Going to apply git patch with: git apply --binary -v -p0 --stat --apply
Checking patch NOTICE.txt...
Applied patch NOTICE.txt cleanly.
 NOTICE.txt |    2 --
 1 file changed, 2 deletions(-)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[sekikn@mobile hadoop]$ cat ~/prefix.patch 
diff --git a/NOTICE.txt b/NOTICE.txt
deleted file mode 100644
index 62fc581..0000000
--- a/NOTICE.txt
+++ /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
@@ -1,2 +0,0 @@
-This product includes software developed by The Apache Software
-Foundation (http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/).
&lt;/span&gt;[sekikn@mobile hadoop]$ dev-support/test-patch.sh ~/prefix.patch 

(snip)

Going to apply git patch with: git apply --binary -v -p1 --stat --apply
Checking patch NOTICE.txt...
Applied patch NOTICE.txt cleanly.
 NOTICE.txt |    2 --
 1 file changed, 2 deletions(-)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[sekikn@mobile hadoop]$ cat ~/noprefix-formatted.patch 
From acdf7412d765a4d3f9980c1648e86c921c6948c5 Mon Sep 17 00:00:00 2001
From: sekikn &amp;lt;sekikn@gmail.com&amp;gt;
Date: Thu, 4 Jun 2015 09:43:02 +0900
Subject: [PATCH 1/2] a

---
 NOTICE.txt | 2 --
 1 file changed, 2 deletions(-)
 delete mode 100644 NOTICE.txt

diff --git NOTICE.txt NOTICE.txt
deleted file mode 100644
index 62fc581..0000000
--- NOTICE.txt
+++ /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
@@ -1,2 +0,0 @@
-This product includes software developed by The Apache Software
-Foundation (http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/).
&lt;/span&gt;-- 
2.3.2 (Apple Git-55)

[sekikn@mobile hadoop]$ dev-support/test-patch.sh ~/noprefix-formatted.patch 

(snip)

Going to apply git patch with: git apply --binary -v -p0 --stat --apply
Checking patch NOTICE.txt...
Applied patch NOTICE.txt cleanly.
 NOTICE.txt |    2 --
 1 file changed, 2 deletions(-)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[sekikn@mobile hadoop]$ cat ~/prefix-formatted.patch 
From acdf7412d765a4d3f9980c1648e86c921c6948c5 Mon Sep 17 00:00:00 2001
From: sekikn &amp;lt;sekikn@gmail.com&amp;gt;
Date: Thu, 4 Jun 2015 09:43:02 +0900
Subject: [PATCH 1/2] a

---
 NOTICE.txt | 2 --
 1 file changed, 2 deletions(-)
 delete mode 100644 NOTICE.txt

diff --git a/NOTICE.txt b/NOTICE.txt
deleted file mode 100644
index 62fc581..0000000
--- a/NOTICE.txt
+++ /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
@@ -1,2 +0,0 @@
-This product includes software developed by The Apache Software
-Foundation (http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/).
&lt;/span&gt;-- 
2.3.2 (Apple Git-55)

[sekikn@mobile hadoop]$ dev-support/test-patch.sh ~/prefix-formatted.patch 

(snip)

Going to apply git patch with: git apply --binary -v -p1 --stat --apply
Checking patch NOTICE.txt...
Applied patch NOTICE.txt cleanly.
 NOTICE.txt |    2 --
 1 file changed, 2 deletions(-)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14571958" author="hadoopqa" created="Thu, 4 Jun 2015 01:40:38 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; A patch to the files used for the QA process has been detected. &lt;br/&gt;
Re-executing against the patched versions to perform further tests. &lt;br/&gt;
The console is at &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6912/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6912/console&lt;/a&gt; in case of problems.&lt;/p&gt;</comment>
                            <comment id="14571959" author="hadoopqa" created="Thu, 4 Jun 2015 01:41:05 +0000"  >&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; reexec &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dev-support patch detected. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; pre-patch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Pre-patch trunk compilation is healthy. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; @author &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch does not contain any @author tags. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; release audit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 14s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The applied patch does not increase the total number of release audit warnings. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  6s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; There were no new shellcheck (v0.3.3) issues. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; whitespace &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The patch has no lines that end in whitespace. &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 23s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12737433/HADOOP-12018.004.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12737433/HADOOP-12018.004.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; shellcheck &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / 5766a04 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.7.0_55 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux asf909.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/6912/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/6912/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;</comment>
                            <comment id="14571980" author="ajisakaa" created="Thu, 4 Jun 2015 02:13:50 +0000"  >&lt;p&gt;+1, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sekikn&quot; class=&quot;user-hover&quot; rel=&quot;sekikn&quot;&gt;sekikn&lt;/a&gt; for updating and testing the patch.&lt;/p&gt;</comment>
                            <comment id="14571983" author="ajisakaa" created="Thu, 4 Jun 2015 02:17:54 +0000"  >&lt;p&gt;Committed this to trunk and branch-2. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sekikn&quot; class=&quot;user-hover&quot; rel=&quot;sekikn&quot;&gt;sekikn&lt;/a&gt; for the contribution.&lt;/p&gt;</comment>
                            <comment id="14571992" author="hudson" created="Thu, 4 Jun 2015 02:25:38 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #7960 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/7960/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/7960/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12018&quot; title=&quot;smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &amp;#39;git diff --no-prefix&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12018&quot;&gt;&lt;del&gt;HADOOP-12018&lt;/del&gt;&lt;/a&gt;. smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;. Contributed by Kengo Seki. (aajisaka: rev b5f0d294f828240ea9a2395db94492e87af0260b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;dev-support/smart-apply-patch.sh&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14572598" author="hudson" created="Thu, 4 Jun 2015 11:37:30 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #218 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/218/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/218/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12018&quot; title=&quot;smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &amp;#39;git diff --no-prefix&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12018&quot;&gt;&lt;del&gt;HADOOP-12018&lt;/del&gt;&lt;/a&gt;. smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;. Contributed by Kengo Seki. (aajisaka: rev b5f0d294f828240ea9a2395db94492e87af0260b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;dev-support/smart-apply-patch.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14572619" author="hudson" created="Thu, 4 Jun 2015 11:47:56 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #948 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/948/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/948/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12018&quot; title=&quot;smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &amp;#39;git diff --no-prefix&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12018&quot;&gt;&lt;del&gt;HADOOP-12018&lt;/del&gt;&lt;/a&gt;. smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;. Contributed by Kengo Seki. (aajisaka: rev b5f0d294f828240ea9a2395db94492e87af0260b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;dev-support/smart-apply-patch.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14572868" author="hudson" created="Thu, 4 Jun 2015 14:30:38 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Hdfs-trunk #2146 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2146/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2146/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12018&quot; title=&quot;smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &amp;#39;git diff --no-prefix&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12018&quot;&gt;&lt;del&gt;HADOOP-12018&lt;/del&gt;&lt;/a&gt;. smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;. Contributed by Kengo Seki. (aajisaka: rev b5f0d294f828240ea9a2395db94492e87af0260b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;dev-support/smart-apply-patch.sh&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14572896" author="hudson" created="Thu, 4 Jun 2015 14:44:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Hdfs-trunk-Java8 #207 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/207/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/207/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12018&quot; title=&quot;smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &amp;#39;git diff --no-prefix&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12018&quot;&gt;&lt;del&gt;HADOOP-12018&lt;/del&gt;&lt;/a&gt;. smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;. Contributed by Kengo Seki. (aajisaka: rev b5f0d294f828240ea9a2395db94492e87af0260b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;dev-support/smart-apply-patch.sh&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14573014" author="hudson" created="Thu, 4 Jun 2015 15:49:35 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #216 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/216/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/216/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12018&quot; title=&quot;smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &amp;#39;git diff --no-prefix&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12018&quot;&gt;&lt;del&gt;HADOOP-12018&lt;/del&gt;&lt;/a&gt;. smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;. Contributed by Kengo Seki. (aajisaka: rev b5f0d294f828240ea9a2395db94492e87af0260b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;dev-support/smart-apply-patch.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14573042" author="hudson" created="Thu, 4 Jun 2015 15:57:59 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #2164 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2164/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2164/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12018&quot; title=&quot;smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &amp;#39;git diff --no-prefix&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12018&quot;&gt;&lt;del&gt;HADOOP-12018&lt;/del&gt;&lt;/a&gt;. smart-apply-patch.sh fails if the patch edits CR+LF files and is created by &apos;git diff --no-prefix&apos;. Contributed by Kengo Seki. (aajisaka: rev b5f0d294f828240ea9a2395db94492e87af0260b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;dev-support/smart-apply-patch.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12830567">HADOOP-11991</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12734858" name="HADOOP-12018.001.patch" size="2437" author="sekikn" created="Fri, 22 May 2015 16:11:02 +0000"/>
                            <attachment id="12737296" name="HADOOP-12018.002.patch" size="2577" author="sekikn" created="Wed, 3 Jun 2015 15:19:14 +0000"/>
                            <attachment id="12737297" name="HADOOP-12018.003.patch" size="2578" author="sekikn" created="Wed, 3 Jun 2015 15:24:06 +0000"/>
                            <attachment id="12737433" name="HADOOP-12018.004.patch" size="2567" author="sekikn" created="Thu, 4 Jun 2015 01:31:22 +0000"/>
                            <attachment id="12737094" name="HADOOP-12018.test-noprefix.patch" size="165612" author="aajisaka" created="Wed, 3 Jun 2015 06:04:34 +0000"/>
                            <attachment id="12737089" name="HADOOP-12018.test-noprefix.patch" size="165612" author="aajisaka" created="Wed, 3 Jun 2015 05:25:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f36f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>