<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:57:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-18216] Document &quot;io.file.buffer.size&quot; must be greater than zero</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-18216</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;when the configuration file in the &quot;io.file.buffer.size&quot; field is set to a value less than or equal to zero, hdfs can start normally, but read and write data will have problems.&lt;/p&gt;


&lt;p&gt;When the value is less than zero, the shell will throw the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hadoop@ljq1:~/hadoop-3.1.3-work/bin$ ./hdfs dfs -cat mapred
-cat: Fatal internal error
java.lang.NegativeArraySizeException: -4096
&#160; &#160; &#160; &#160; at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:93)
&#160; &#160; &#160; &#160; at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:68)
&#160; &#160; &#160; &#160; at org.apache.hadoop.io.IOUtils.copyBytes(IOUtils.java:129)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.shell.Display$Cat.printToStdout(Display.java:101)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.shell.Display$Cat.processPath(Display.java:96)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.shell.Command.processPaths(Command.java:331)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.shell.Command.processPathArgument(Command.java:303)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.shell.Command.processArgument(Command.java:285)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.shell.Command.processArguments(Command.java:269)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.shell.FsCommand.processRawArguments(FsCommand.java:120)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.shell.Command.run(Command.java:176)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.FsShell.run(FsShell.java:328)
&#160; &#160; &#160; &#160; at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:76)
&#160; &#160; &#160; &#160; at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:90)
  &#160; &#160; &#160; at org.apache.hadoop.fs.FsShell.main(FsShell.java:391)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When the value is equal to zero, the shell command will always block&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hadoop@ljq1:~/hadoop-3.1.3-work/bin$ ./hdfs dfs -cat mapred
^Z
[2]+ &#160;Stopped &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ./hdfs dfs -cat mapred&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The description of the configuration file is not clear enough, it may make people think that set to 0 to enter the non-blocking mode.&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;property&amp;gt; &#160; 
    &amp;lt;name&amp;gt;io.file.buffer.size&amp;lt;/name&amp;gt; &#160; 
    &amp;lt;value&amp;gt;4096&amp;lt;/value&amp;gt; &#160; 
    &amp;lt;description&amp;gt;The size of buffer &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; use in sequence files. &#160; 
    The size of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; buffer should probably be a multiple of hardware &#160; 
    page size (4096 on Intel x86), and it determines how much data is &#160; 
    buffered during read and write operations.&amp;lt;/description&amp;gt; 
&amp;lt;/property&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
Considering that this value is uesd by hdfs and mapreduce frequently, we should make this value must be a number greater than zero.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13441115">HADOOP-18216</key>
            <summary>Document &quot;io.file.buffer.size&quot; must be greater than zero</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fujx">ECFuzz</assignee>
                                    <reporter username="fujx">ECFuzz</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 22 Apr 2022 10:39:03 +0000</created>
                <updated>Sun, 28 Jan 2024 08:26:00 +0000</updated>
                            <resolved>Tue, 26 Apr 2022 18:54:58 +0000</resolved>
                                    <version>3.4.0</version>
                                    <fixVersion>3.4.0</fixVersion>
                                    <component>io</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="17527306" author="fujx" created="Mon, 25 Apr 2022 05:02:08 +0000"  >&lt;p&gt;I commited a pr to trunk. Can assign this issue to me?&lt;/p&gt;</comment>
                            <comment id="17527943" author="hexiaoqiao" created="Tue, 26 Apr 2022 07:00:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fujx&quot; class=&quot;user-hover&quot; rel=&quot;fujx&quot;&gt;fujx&lt;/a&gt; Thanks for raising this issue. Add to contributor list and assign this jira to you.&lt;/p&gt;</comment>
                            <comment id="17528359" author="stevel@apache.org" created="Tue, 26 Apr 2022 18:54:58 +0000"  >&lt;p&gt;documentation is updated. PR discusses a followup with safety check on use&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z11pjs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12346894">3.4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>