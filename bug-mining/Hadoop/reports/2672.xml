<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:56:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-17203] Test failures in ITestAzureBlobFileSystemCheckAccess in ABFS</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-17203</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;ITestAzureBlobFileSystemCheckAccess is giving test failures while running both in parallel as well as in stand-alone(in IDE).&lt;/p&gt;

&lt;p&gt;Tested by:&#160; mvn -T 1C -Dparallel-tests=abfs clean verify&lt;br/&gt;
 Region: East US&lt;/p&gt;</description>
                <environment></environment>
        <key id="13321977">HADOOP-17203</key>
            <summary>Test failures in ITestAzureBlobFileSystemCheckAccess in ABFS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tmarquardt">Thomas Marqardt</assignee>
                                    <reporter username="mehakmeetSingh">Mehakmeet Singh</reporter>
                        <labels>
                            <label>abfsactive</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 11 Aug 2020 10:14:25 +0000</created>
                <updated>Sat, 19 Sep 2020 01:06:20 +0000</updated>
                            <resolved>Sat, 19 Sep 2020 01:06:20 +0000</resolved>
                                    <version>3.3.0</version>
                                    <fixVersion>3.4.0</fixVersion>
                                    <component>fs/azure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17175437" author="mehakmeetsingh" created="Tue, 11 Aug 2020 10:17:00 +0000"  >&lt;p&gt;Stack Trace for the error(1 of the 12 test):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Tests run: 12, Failures: 0, Errors: 12, Skipped: 0, Time elapsed: 10.918 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.fs.azurebfs.ITestAzureBlobFileSystemCheckAccess[ERROR] Tests run: 12, Failures: 0, Errors: 12, Skipped: 0, Time elapsed: 10.918 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.fs.azurebfs.ITestAzureBlobFileSystemCheckAccess[ERROR] testFsActionWRITE(org.apache.hadoop.fs.azurebfs.ITestAzureBlobFileSystemCheckAccess)&#160; Time elapsed: 0.005 s&#160; &amp;lt;&amp;lt;&amp;lt; ERROR!java.lang.IllegalArgumentException: Failed to initialize &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; at org.apache.hadoop.fs.azurebfs.AbfsConfiguration.getTokenProvider(AbfsConfiguration.java:688) at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.initializeClient(AzureBlobFileSystemStore.java:1256) at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.&amp;lt;init&amp;gt;(AzureBlobFileSystemStore.java:195) at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.initialize(AzureBlobFileSystem.java:113) at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3428) at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:171) at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3488) at org.apache.hadoop.fs.FileSystem$Cache.getUnique(FileSystem.java:3462) at org.apache.hadoop.fs.FileSystem.newInstance(FileSystem.java:591) at org.apache.hadoop.fs.FileSystem.newInstance(FileSystem.java:603) at org.apache.hadoop.fs.azurebfs.ITestAzureBlobFileSystemCheckAccess.setTestUserFs(ITestAzureBlobFileSystemCheckAccess.java:104) at org.apache.hadoop.fs.azurebfs.ITestAzureBlobFileSystemCheckAccess.&amp;lt;init&amp;gt;(ITestAzureBlobFileSystemCheckAccess.java:82) at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.lang.reflect.Constructor.newInstance(Constructor.java:423) at org.junit.runners.BlockJUnit4ClassRunner.createTest(BlockJUnit4ClassRunner.java:217) at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17175451" author="bilahari.th" created="Tue, 11 Aug 2020 10:58:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mehakmeetSingh&quot; class=&quot;user-hover&quot; rel=&quot;mehakmeetSingh&quot;&gt;mehakmeetSingh&lt;/a&gt;&lt;br/&gt;
I assume that you are running the tests with OAuth. And the above exception means that the config fs.azure.account.oauth.provider.type (FS_AZURE_ACCOUNT_TOKEN_PROVIDER_TYPE_PROPERTY_NAME) is not set.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hadoop/blob/trunk/hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AbfsConfiguration.java#L688&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/blob/trunk/hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AbfsConfiguration.java#L688&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please check and let me know.&lt;br/&gt;
Also, Could you share me what is the authtype you are using and in case of OAuth what is the TokenProvider type you are using, so that I can try for repro.&lt;/p&gt;</comment>
                            <comment id="17175463" author="mehakmeetsingh" created="Tue, 11 Aug 2020 11:17:07 +0000"  >&lt;p&gt;I believe my bucket&apos;s auth type is shared_key.&lt;/p&gt;</comment>
                            <comment id="17176321" author="stevel@apache.org" created="Wed, 12 Aug 2020 13:02:35 +0000"  >&lt;p&gt;Irrespective of cause of test failures, could we have a better message than &quot;Failed to initialize null&quot;, thanks&lt;/p&gt;</comment>
                            <comment id="17182317" author="stevel@apache.org" created="Sat, 22 Aug 2020 11:09:16 +0000"  >&lt;p&gt;Any progress on this?&lt;/p&gt;</comment>
                            <comment id="17195261" author="mukund-thakur" created="Mon, 14 Sep 2020 07:53:21 +0000"  >&lt;p&gt;Even I am seeing this failure and I am not even setting any authtype in my conf. Shouldn&apos;t we skip the test if authtype is not set ?&lt;/p&gt;</comment>
                            <comment id="17198573" author="tmarquardt" created="Fri, 18 Sep 2020 22:52:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hadoop/pull/2316.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/2316.patch&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17198575" author="tmarquardt" created="Fri, 18 Sep 2020 22:59:52 +0000"  >&lt;p&gt;Test Results for my account in East US 2 EUAP:&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;namespace.enabled=true&lt;/ins&gt;&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;auth.type=SharedKey&lt;/ins&gt;&lt;/p&gt;

&lt;p&gt;$mvn -T 1C -Dparallel-tests=abfs -Dscale -DtestsThreadCount=8 clean verify&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Tests run: 87, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;Tests run: 454, Failures: 0, Errors: 0, Skipped: 42&lt;/p&gt;

&lt;p&gt;Tests run: 207, Failures: 0, Errors: 0, Skipped: 24&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;ins&gt;namespace.enabled=true&lt;/ins&gt;&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;auth.type=OAuth&lt;/ins&gt;&lt;/p&gt;

&lt;p&gt;$mvn -T 1C -Dparallel-tests=abfs -Dscale -DtestsThreadCount=8 clean verify&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Tests run: 63, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;Tests run: 432, Failures: 0, Errors: 1, Skipped: 74&lt;/p&gt;

&lt;p&gt;Tests run: 206, Failures: 0, Errors: 0, Skipped: 140&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17198610" author="tmarquardt" created="Sat, 19 Sep 2020 01:06:20 +0000"  >&lt;p&gt;commit 0dc54d0247735ad744aad9a08c885c91b2be5c50&lt;br/&gt;
Author: ThomasMarquardt &amp;lt;tmarq@microsoft.com&amp;gt;&lt;br/&gt;
Date: Fri Sep 18 17:52:11 2020 -0700&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17203&quot; title=&quot;Test failures in ITestAzureBlobFileSystemCheckAccess in ABFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17203&quot;&gt;&lt;del&gt;HADOOP-17203&lt;/del&gt;&lt;/a&gt;: Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17183&quot; title=&quot;ABFS: Enable checkaccess API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17183&quot;&gt;&lt;del&gt;HADOOP-17183&lt;/del&gt;&lt;/a&gt;. ABFS: Enabling checkaccess on ABFS&lt;/p&gt;

&lt;p&gt;This reverts commit a2610e21ed5289323d8a6f6359477a8ceb2db2eb.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13320910">HADOOP-17183</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hna8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>