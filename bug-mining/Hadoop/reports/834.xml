<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:42:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9431] TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9431</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;&lt;tt&gt;TestSecurityUtil#testLocalHostNameForNullOrWild&lt;/tt&gt; contains assertions about the principal returned for a null or wildcard hostname.  The logic in &lt;tt&gt;SecurityUtil#getServerPrincipal&lt;/tt&gt; converts the local hostname to lower-case.  The test method does not perform the same conversion though, so the test passes on systems with a hostname containing no upper-case letters, but it fails if the hostname does contain upper-case letters.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12638610">HADOOP-9431</key>
            <summary>TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cnauroth">Chris Nauroth</assignee>
                                    <reporter username="cnauroth">Chris Nauroth</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Mar 2013 23:08:40 +0000</created>
                <updated>Thu, 12 May 2016 18:22:08 +0000</updated>
                            <resolved>Sat, 23 Mar 2013 16:11:00 +0000</resolved>
                                    <version>3.0.0-alpha1</version>
                                    <fixVersion>3.0.0-alpha1</fixVersion>
                                    <component>security</component>
                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13611407" author="cnauroth" created="Fri, 22 Mar 2013 23:14:16 +0000"  >&lt;p&gt;Attaching trivial patch.  The corresponding lower-case conversion in the product code is in &lt;tt&gt;SecurityUtil#replacePattern&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13611432" author="arpitagarwal" created="Fri, 22 Mar 2013 23:39:32 +0000"  >&lt;p&gt;Hi Chris, will the output of SecurityUtil.getServerPrincipal always be lower case? I am not sure from a quick look at it.&lt;/p&gt;</comment>
                            <comment id="13611446" author="arpitagarwal" created="Fri, 22 Mar 2013 23:49:46 +0000"  >&lt;p&gt;Sorry, you just pointed out that it is. &lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13611451" author="cnauroth" created="Fri, 22 Mar 2013 23:54:17 +0000"  >&lt;p&gt;For the case covered by this test, the output always will be lower case.  &lt;tt&gt;SecurityUtil#getServerPrincipal&lt;/tt&gt; calls &lt;tt&gt;SecurityUtil#replacePattern&lt;/tt&gt;, and that method always calls &lt;tt&gt;String#toLowerCase&lt;/tt&gt; on the given hostname.&lt;/p&gt;

&lt;p&gt;There is another case where the caller passes a &lt;tt&gt;principalConfig&lt;/tt&gt; that doesn&apos;t fit the dynamic config syntax.  In this case, it just returns &lt;tt&gt;principalConfig&lt;/tt&gt; as is without conversion.  For example, I could hard-code a principal in my config like &quot;cnauroth/MyHost@myrealm&quot;.  In this case, the method won&apos;t perform a conversion on the hostname.  This is different from the case covered by this unit test though.&lt;/p&gt;</comment>
                            <comment id="13611453" author="cnauroth" created="Fri, 22 Mar 2013 23:54:41 +0000"  >&lt;p&gt;Oops, our messages crossed.  Thanks for the review, Arpit!&lt;/p&gt;</comment>
                            <comment id="13611454" author="hadoopqa" created="Fri, 22 Mar 2013 23:56:29 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575132/HADOOP-9431.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575132/HADOOP-9431.1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included appear to have a timeout.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2356//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2356//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2356//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2356//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13611752" author="sanjay.radia" created="Sat, 23 Mar 2013 16:13:12 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
Committed. Thanks Chris.&lt;/p&gt;</comment>
                            <comment id="13611753" author="hudson" created="Sat, 23 Mar 2013 16:14:45 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #3517 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/3517/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/3517/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9431&quot; title=&quot;TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9431&quot;&gt;&lt;del&gt;HADOOP-9431&lt;/del&gt;&lt;/a&gt; TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay) (Revision 1460181)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
sradia : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1460181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1460181&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestSecurityUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13611774" author="cnauroth" created="Sat, 23 Mar 2013 17:42:53 +0000"  >&lt;p&gt;Thank you, Sanjay!&lt;/p&gt;</comment>
                            <comment id="13612060" author="hudson" created="Sun, 24 Mar 2013 10:47:38 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #165 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/165/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/165/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9431&quot; title=&quot;TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9431&quot;&gt;&lt;del&gt;HADOOP-9431&lt;/del&gt;&lt;/a&gt; TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay) (Revision 1460181)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
sradia : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1460181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1460181&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestSecurityUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13612089" author="hudson" created="Sun, 24 Mar 2013 13:04:18 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1354 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1354/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1354/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9431&quot; title=&quot;TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9431&quot;&gt;&lt;del&gt;HADOOP-9431&lt;/del&gt;&lt;/a&gt; TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay) (Revision 1460181)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
sradia : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1460181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1460181&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestSecurityUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13612100" author="hudson" created="Sun, 24 Mar 2013 14:04:45 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1382 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1382/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1382/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9431&quot; title=&quot;TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9431&quot;&gt;&lt;del&gt;HADOOP-9431&lt;/del&gt;&lt;/a&gt; TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay) (Revision 1460181)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
sradia : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1460181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1460181&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestSecurityUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13639672" author="stevenwillis" created="Tue, 23 Apr 2013 21:44:31 +0000"  >&lt;p&gt;Nice to see &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8514&quot; title=&quot;Failed tests:   testLocalHostNameForNullOrWild&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8514&quot;&gt;&lt;del&gt;HADOOP-8514&lt;/del&gt;&lt;/a&gt; finally get fixed. I guess someone can close that one.&lt;/p&gt;</comment>
                            <comment id="13642213" author="cnauroth" created="Thu, 25 Apr 2013 21:02:29 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevenwillis&quot; class=&quot;user-hover&quot; rel=&quot;stevenwillis&quot;&gt;stevenwillis&lt;/a&gt;.  So sorry!  I completely missed that you had already filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8514&quot; title=&quot;Failed tests:   testLocalHostNameForNullOrWild&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8514&quot;&gt;&lt;del&gt;HADOOP-8514&lt;/del&gt;&lt;/a&gt; for this issue.&lt;/p&gt;</comment>
                            <comment id="13642232" author="stevenwillis" created="Thu, 25 Apr 2013 21:20:05 +0000"  >&lt;p&gt;No problem, I was just going through some old issues I&apos;ve had an interest in and thought I would re-submit a patch for that one. When my patch no longer applied to trunk cleanly, I realized it had been fixed!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12595067">HADOOP-8514</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12597618">HADOOP-8562</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12575132" name="HADOOP-9431.1.patch" size="1110" author="cnauroth" created="Fri, 22 Mar 2013 23:14:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319086</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j227:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>