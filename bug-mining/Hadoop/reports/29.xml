<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:32:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6229] Atempt to make a directory under an existing file on LocalFileSystem should throw an Exception.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6229</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;This task is sub task of &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-303&quot; title=&quot;Make contracts of LocalFileSystem and DistributedFileSystem consistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-303&quot;&gt;&lt;del&gt;HDFS-303&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt; &quot;1. When trying to make a directory under an existing file, HDFS throws an IOException while LocalFileSystem doesn&apos;t.&lt;br/&gt;
 An IOException seems good here. &quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Actually HDFS throws FileNotFoundException in this case (in FSDirectory.mkdirs() ). So I guess we should do the same.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12434572">HADOOP-6229</key>
            <summary>Atempt to make a directory under an existing file on LocalFileSystem should throw an Exception.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="boryas">Boris Shkolnik</assignee>
                                    <reporter username="boryas">Boris Shkolnik</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Sep 2009 00:40:39 +0000</created>
                <updated>Wed, 26 Apr 2017 08:44:34 +0000</updated>
                            <resolved>Mon, 7 Sep 2009 13:27:32 +0000</resolved>
                                                    <fixVersion>0.21.0</fixVersion>
                                    <component>fs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="12750207" author="szetszwo" created="Wed, 2 Sep 2009 00:47:56 +0000"  >&lt;p&gt;&amp;gt; Actually HDFS throws FileNotFoundException in this case (in FSDirectory.mkdirs() ). So I guess we should do the same.&lt;br/&gt;
Does throwing a FileAlreadyExistsException (a new class) make more sense in this case?&lt;/p&gt;</comment>
                            <comment id="12750218" author="cos" created="Wed, 2 Sep 2009 01:04:22 +0000"  >&lt;p&gt;I second Nicholas&apos; suggestion.&lt;/p&gt;</comment>
                            <comment id="12750745" author="boryas" created="Thu, 3 Sep 2009 00:15:40 +0000"  >&lt;p&gt;Took Nikolas&apos; suggestion. Created new class FileAlreadyExestsException.&lt;br/&gt;
Turns out mapred already has such class. &lt;br/&gt;
After this patch is committed I will remove mapred&apos;s one and make it use this one (from common).&lt;br/&gt;
Also I will need to change HDFS to use this new exception instead of FileNotFound.&lt;/p&gt;</comment>
                            <comment id="12750750" author="boryas" created="Thu, 3 Sep 2009 00:39:15 +0000"  >&lt;p&gt;Ran hadoop-common test, hadoop-hdfs and hadoop-mapreduce with new hadoop-common jar&lt;br/&gt;
Also created a new hadoop-mapreduce jars (with the new core jars) and ran hadoop-hdfs test with them.&lt;/p&gt;</comment>
                            <comment id="12750756" author="cos" created="Thu, 3 Sep 2009 00:56:05 +0000"  >&lt;p&gt;I believe the original code isn&apos;t defensive enough and there&apos;s a possibility for NPE to be thrown if &lt;tt&gt;Path f&lt;/tt&gt; happens to be &lt;tt&gt;null&lt;/tt&gt;. I&apos;d add an extra check for this as the very first line of the method.&lt;/p&gt;

&lt;p&gt;Looks good otherwise.&lt;/p&gt;
</comment>
                            <comment id="12750758" author="hadoopqa" created="Thu, 3 Sep 2009 01:06:05 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12418453/HADOOP-6229.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12418453/HADOOP-6229.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 810714.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The patch appears to cause tar ant target to fail.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    -1 contrib tests.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/11/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/11/testReport/&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/11/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/11/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/11/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/11/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12750777" author="szetszwo" created="Thu, 3 Sep 2009 01:57:14 +0000"  >&lt;p&gt;Forgot to add FileAlreadyExistsException.java?&lt;/p&gt;</comment>
                            <comment id="12751185" author="hadoopqa" created="Thu, 3 Sep 2009 21:58:25 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12418544/HADOOP-6229-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12418544/HADOOP-6229-1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 810756.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/14/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/14/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/14/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/14/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/14/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/14/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/14/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/14/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12751222" author="tomwhite" created="Thu, 3 Sep 2009 23:37:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;This will be tested by the test being introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-303&quot; title=&quot;Make contracts of LocalFileSystem and DistributedFileSystem consistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-303&quot;&gt;&lt;del&gt;HDFS-303&lt;/del&gt;&lt;/a&gt;, right?&lt;/p&gt;

&lt;p&gt;Minor nit: we tend not to add serialVersionUID fields. (Any warnings in IDEs should be turned off.)&lt;/p&gt;</comment>
                            <comment id="12751228" author="boryas" created="Thu, 3 Sep 2009 23:59:54 +0000"  >&lt;p&gt;removed serialVersionUID.&lt;br/&gt;
Added some unit test in any case for hadoop-common.&lt;/p&gt;</comment>
                            <comment id="12751237" author="hadoopqa" created="Fri, 4 Sep 2009 00:18:56 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12418563/HADOOP-6229-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12418563/HADOOP-6229-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 810756.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 146 javac compiler warnings (more than the trunk&apos;s current 145 warnings).&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/16/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/16/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/16/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/16/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/16/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/16/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/16/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/16/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12751256" author="cos" created="Fri, 4 Sep 2009 01:14:32 +0000"  >&lt;p&gt;+1 patch looks good&lt;/p&gt;</comment>
                            <comment id="12752133" author="tomwhite" created="Mon, 7 Sep 2009 13:27:32 +0000"  >&lt;p&gt;I&apos;ve just committed this. Thanks Boris!&lt;/p&gt;

&lt;p&gt;Could you update the release note with the new behaviour please?&lt;/p&gt;</comment>
                            <comment id="12752134" author="hudson" created="Mon, 7 Sep 2009 13:39:58 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #16 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/16/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/16/&lt;/a&gt;)&lt;br/&gt;
    . Attempt to make a directory under an existing file on LocalFileSystem should throw an Exception. Contributed by Boris Shkolnik.&lt;/p&gt;</comment>
                            <comment id="12752442" author="hudson" created="Tue, 8 Sep 2009 11:09:05 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #89 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/89/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/89/&lt;/a&gt;)&lt;br/&gt;
    . Attempt to make a directory under an existing file on LocalFileSystem should throw an Exception. Contributed by Boris Shkolnik.&lt;/p&gt;</comment>
                            <comment id="12763820" author="chansler" created="Fri, 9 Oct 2009 04:11:16 +0000"  >&lt;p&gt;Editorial pass over all release notes prior to publication of 0.21. Bug.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12446258">HADOOP-6501</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12403902">HDFS-303</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12418544" name="HADOOP-6229-1.patch" size="2812" author="boryas" created="Thu, 3 Sep 2009 21:31:45 +0000"/>
                            <attachment id="12418563" name="HADOOP-6229-2.patch" size="3936" author="boryas" created="Thu, 3 Sep 2009 23:57:56 +0000"/>
                            <attachment id="12418562" name="HADOOP-6229-2.patch" size="3986" author="boryas" created="Thu, 3 Sep 2009 23:52:46 +0000"/>
                            <attachment id="12418453" name="HADOOP-6229.patch" size="825" author="boryas" created="Thu, 3 Sep 2009 00:15:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0i1fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>103327</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>