<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:57:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-18340] deleteOnExit does not work with S3AFileSystem</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-18340</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;When deleteOnExit is set on some paths, they are not removed when file system object is closed. The following exception is logged when printing out the exception in info log.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2022-07-15 19:29:12,552 [main] INFO&#160; fs.FileSystem (FileSystem.java:processDeleteOnExit(1810)) - Ignoring failure to deleteOnExit &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; path /file, exception {}
java.io.IOException: s3a:&lt;span class=&quot;code-comment&quot;&gt;//mock-bucket: FileSystem is closed!
&lt;/span&gt;&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.s3a.S3AFileSystem.checkNotClosed(S3AFileSystem.java:3887)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2333)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2355)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.s3a.S3AFileSystem.exists(S3AFileSystem.java:4402)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.FileSystem.processDeleteOnExit(FileSystem.java:1805)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.FileSystem.close(FileSystem.java:2669)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.s3a.S3AFileSystem.close(S3AFileSystem.java:3830)
&#160; &#160; &#160; &#160; at org.apache.hadoop.fs.s3a.TestS3AGetFileStatus.testFile(TestS3AGetFileStatus.java:87)
&#160; &#160; &#160; &#160; at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; &#160; &#160; at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
&#160; &#160; &#160; &#160; at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; &#160; &#160; at java.lang.reflect.Method.invoke(Method.java:498)
&#160; &#160; &#160; &#160; at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
&#160; &#160; &#160; &#160; at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
&#160; &#160; &#160; &#160; at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
&#160; &#160; &#160; &#160; at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
&#160; &#160; &#160; &#160; at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
&#160; &#160; &#160; &#160; at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
&#160; &#160; &#160; &#160; at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:258)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
&#160; &#160; &#160; &#160; at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
&#160; &#160; &#160; &#160; at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
&#160; &#160; &#160; &#160; at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
&#160; &#160; &#160; &#160; at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
&#160; &#160; &#160; &#160; at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
&#160; &#160; &#160; &#160; at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
&#160; &#160; &#160; &#160; at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
&#160; &#160; &#160; &#160; at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
&#160; &#160; &#160; &#160; at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
&#160; &#160; &#160; &#160; at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
&#160; &#160; &#160; &#160; at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
&#160; &#160; &#160; &#160; at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13471854">HADOOP-18340</key>
            <summary>deleteOnExit does not work with S3AFileSystem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="huaxiangsun">Huaxiang Sun</assignee>
                                    <reporter username="huaxiangsun">Huaxiang Sun</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 16 Jul 2022 02:33:00 +0000</created>
                <updated>Tue, 16 Aug 2022 16:58:11 +0000</updated>
                            <resolved>Thu, 11 Aug 2022 19:38:38 +0000</resolved>
                                    <version>3.3.3</version>
                                    <fixVersion>3.3.5</fixVersion>
                                    <component>fs/s3</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9600">2h 40m</timespent>
                                <comments>
                            <comment id="17567527" author="stevel@apache.org" created="Sat, 16 Jul 2022 18:19:05 +0000"  >
&lt;p&gt;This is vaguely familiar. I think we hit it with one of the other stores. &lt;/p&gt;

&lt;p&gt;The fs declares itself as closed before the processing takes place, so API calls get rejected. I would blame mockito, somehow, I but I am not sure it is at fault.&lt;/p&gt;

&lt;p&gt;The Fix here is to do what has been discussed before: do a better cleanup routine for S3A.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;parallelise the delete&lt;/li&gt;
	&lt;li&gt;skip existence checks&lt;/li&gt;
	&lt;li&gt;call the innerDelete method so the fs openness check is skipped.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m not working on this, as the feature is mostly used in testing, it doesn&apos;t seem that critical. &lt;br/&gt;
But: it is also part of the error handling in the hadoop fs shell commands, so it may surface in production.&lt;/p&gt;</comment>
                            <comment id="17568097" author="huaxiangsun" created="Mon, 18 Jul 2022 16:24:12 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt;. Yeah, your analysis is right, S3A fs declares itself as closed before processing of deleteOnExit happens. The mockito is not the cause, it is just used to demo the issue as I was developing a unittest to show the issue.&#160;&lt;/p&gt;

&lt;p&gt;Could you let me know which store hit this issue before? I want to see how it was handled in other stores. Right now, the fix I am proposing is as follows (i.e, processDeleteOnExit before isClosed set to true in S3A). I will also take a look at other stores&apos; processing as well.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java b/hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java
index 40671e0d334..650038d25ba 100644
--- a/hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java
+++ b/hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java
@@ -3810,6 +3810,13 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void close() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&#160;&#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// already closed
&lt;/span&gt;&#160;&#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
&#160;&#160; &#160; }
+
+&#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// Before set isClosed to &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, call processDeleteOnExit() first.
&lt;/span&gt;+&#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// This is to work around the dilemma that processDeleteOnExit() depends on (isClosed == &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;).
&lt;/span&gt;+&#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// After that, deleteOnExit set is going to be cleaned.
&lt;/span&gt;+&#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// processDeleteOnExit() will again be called in &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.close(), that
&lt;/span&gt;+&#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// should be a no-op as deleteOnExit set is empty.
&lt;/span&gt;+&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.processDeleteOnExit();
&#160;&#160; &#160; isClosed = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&#160;&#160; &#160; LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Filesystem {} is closed&quot;&lt;/span&gt;, uri);
&#160;&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getConf() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) { &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17568120" author="huaxiangsun" created="Mon, 18 Jul 2022 17:03:50 +0000"  >&lt;p&gt;Oh, See&#160; your linked &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-13611&quot; title=&quot;FileSystem/s3a processDeleteOnExit to skip the exists() check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-13611&quot;&gt;HADOOP-13611&lt;/a&gt;, looking at the diff.&lt;/p&gt;</comment>
                            <comment id="17568444" author="stevel@apache.org" created="Tue, 19 Jul 2022 09:40:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;, processDeleteOnExit before isClosed set to true in S3A&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;what if two threads call close()&lt;/p&gt;

&lt;p&gt;1. you would need another atomic bool, shutdown in progress, and make further calls to closel) return if either are set.&lt;br/&gt;
2. set the isClosed flag after deletions but before shutting down thread and http pools&lt;/p&gt;</comment>
                            <comment id="17568637" author="huaxiangsun" created="Tue, 19 Jul 2022 16:41:45 +0000"  >&lt;p&gt;&lt;em&gt;&quot;what if two threads call close()&quot;&lt;/em&gt;&#160;(Sorry, for some reason, I cannot find the quote sign).&lt;/p&gt;

&lt;p&gt;In S3AFileSystrem&apos;s close(), there is already an atomic boolean to guide against multiple parallel closes, the code I added is after this check. &lt;a href=&quot;https://github.com/apache/hadoop/blob/trunk/hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java#L3809&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/blob/trunk/hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java#L3809&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have coded up a unitest with mock to demo the issue and the fix. For some reason, when I tried to run S3A Integration Test, I always run into the issue. I put the following into auth-keys.xml, it always give me &quot;AWS access Key Id does not exist in our records&quot;. However, I can use the same keys from AWS cli to access the S3. Anything am I missing? Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt;.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;lt;name&amp;gt;fs.s3a.access.key&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;lt;description&amp;gt;AWS access key ID.&lt;br/&gt;
Omit for IAM role-based or provider-based authentication.&amp;lt;/description&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;lt;name&amp;gt;fs.s3a.secret.key&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;lt;description&amp;gt;AWS secret key.&lt;br/&gt;
Omit for IAM role-based or provider-based authentication.&amp;lt;/description&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;lt;name&amp;gt;fs.s3a.session.token&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;lt;description&amp;gt;&lt;br/&gt;
Session token, when using org.apache.hadoop.fs.s3a.TemporaryAWSCredentialsProvider&lt;br/&gt;
as one of the providers.&lt;br/&gt;
&amp;lt;/description&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17568655" author="huaxiangsun" created="Tue, 19 Jul 2022 17:24:09 +0000"  >&lt;p&gt;Step back, I think yours way is a better way to follow:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;parallelise the delete&lt;/li&gt;
	&lt;li&gt;skip existence checks&lt;/li&gt;
	&lt;li&gt;call the innerDelete method so the fs openness check is skipped.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Let me think about it and come back.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17569719" author="huaxiangsun" created="Thu, 21 Jul 2022 23:31:21 +0000"  >&lt;p&gt;I posted a patch. The &lt;em&gt;parallelise the delete&lt;/em&gt; is not implemented in this patch as I think it needs more thoughts. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt; , when you get chance, could you take a look at the patch? Thanks.&#160;__&#160;&lt;/p&gt;</comment>
                            <comment id="17575968" author="githubbot" created="Fri, 5 Aug 2022 17:08:10 +0000"  >&lt;p&gt;huaxiangsun commented on PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#issuecomment-1206668465&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#issuecomment-1206668465&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @steveloughran Sorry to bother you while you are busy, just a gentle reminder for the patch I posted couple days ago. Appreciate that you can review the patch when you get chance, thanks.&lt;/p&gt;

</comment>
                            <comment id="17576944" author="githubbot" created="Mon, 8 Aug 2022 19:05:45 +0000"  >&lt;p&gt;steveloughran commented on PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#issuecomment-1208499534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#issuecomment-1208499534&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   yes, sorry, been neglecting this&lt;/p&gt;

</comment>
                            <comment id="17576946" author="githubbot" created="Mon, 8 Aug 2022 19:10:13 +0000"  >&lt;p&gt;steveloughran commented on code in PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#discussion_r940572222&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#discussion_r940572222&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
+    byte[] data = ContractTestUtils.dataset(16, &apos;a&apos;, 26);&lt;br/&gt;
+    try &lt;/p&gt;
{
+      stream.write(data);
+    } finally {
+      IOUtils.closeStream(stream);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + INORDER_FILE_PATH_STR + &quot; should exist&quot;, inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    s3aFs.deleteOnExit(inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 4. add a path to DeleteOnExit set first, then create it.&lt;br/&gt;
+    s3aFs.deleteOnExit(outOfOrderFilePath);&lt;br/&gt;
+    stream = s3aFs.create(outOfOrderFilePath, true);&lt;br/&gt;
&lt;br/&gt;
Review Comment:&lt;br/&gt;
   again, ContractTestUtils.createFile &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
+    byte[] data = ContractTestUtils.dataset(16, &apos;a&apos;, 26);&lt;br/&gt;
+    try {+      stream.write(data);+    }
&lt;p&gt; finally &lt;/p&gt;
{
+      IOUtils.closeStream(stream);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + INORDER_FILE_PATH_STR + &quot; should exist&quot;, inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    s3aFs.deleteOnExit(inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 4. add a path to DeleteOnExit set first, then create it.&lt;br/&gt;
+    s3aFs.deleteOnExit(outOfOrderFilePath);&lt;br/&gt;
+    stream = s3aFs.create(outOfOrderFilePath, true);&lt;br/&gt;
+    try {
+      stream.write(data);
+    } finally {+      IOUtils.closeStream(stream);+    }
&lt;p&gt;+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + OUT_OF_ORDER_FILE_PATH_STR + &quot; should exist&quot;, outOfOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 5. create a subdirectory, a file under it,  and add subdirectory DeleteOnExit set.&lt;br/&gt;
+    s3aFs.mkdirs(subDirPath);&lt;br/&gt;
+    s3aFs.deleteOnExit(subDirPath);&lt;br/&gt;
+&lt;br/&gt;
+    stream = s3aFs.create(fileUnderSubDirPath, true);&lt;br/&gt;
+    try &lt;/p&gt;
{
+      stream.write(data);
+    } finally {
+      IOUtils.closeStream(stream);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
&lt;br/&gt;
Review Comment:&lt;br/&gt;
   you are using this enough a static import makes sense&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
&lt;br/&gt;
Review Comment:&lt;br/&gt;
   use ContractTestUtils.createFile here&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
+    byte[] data = ContractTestUtils.dataset(16, &apos;a&apos;, 26);&lt;br/&gt;
+    try {+      stream.write(data);+    }
&lt;p&gt; finally &lt;/p&gt;
{
+      IOUtils.closeStream(stream);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + INORDER_FILE_PATH_STR + &quot; should exist&quot;, inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    s3aFs.deleteOnExit(inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 4. add a path to DeleteOnExit set first, then create it.&lt;br/&gt;
+    s3aFs.deleteOnExit(outOfOrderFilePath);&lt;br/&gt;
+    stream = s3aFs.create(outOfOrderFilePath, true);&lt;br/&gt;
+    try {
+      stream.write(data);
+    } finally {+      IOUtils.closeStream(stream);+    }
&lt;p&gt;+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + OUT_OF_ORDER_FILE_PATH_STR + &quot; should exist&quot;, outOfOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 5. create a subdirectory, a file under it,  and add subdirectory DeleteOnExit set.&lt;br/&gt;
+    s3aFs.mkdirs(subDirPath);&lt;br/&gt;
+    s3aFs.deleteOnExit(subDirPath);&lt;br/&gt;
+&lt;br/&gt;
+    stream = s3aFs.create(fileUnderSubDirPath, true);&lt;br/&gt;
+    try {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   same sing&lt;/p&gt;


</comment>
                            <comment id="17577520" author="githubbot" created="Tue, 9 Aug 2022 16:25:54 +0000"  >&lt;p&gt;huaxiangsun commented on code in PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#discussion_r941552836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#discussion_r941552836&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
+    byte[] data = ContractTestUtils.dataset(16, &apos;a&apos;, 26);&lt;br/&gt;
+    try &lt;/p&gt;
{
+      stream.write(data);
+    }
&lt;p&gt; finally &lt;/p&gt;
{
+      IOUtils.closeStream(stream);
+    }
&lt;p&gt;+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + INORDER_FILE_PATH_STR + &quot; should exist&quot;, inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    s3aFs.deleteOnExit(inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 4. add a path to DeleteOnExit set first, then create it.&lt;br/&gt;
+    s3aFs.deleteOnExit(outOfOrderFilePath);&lt;br/&gt;
+    stream = s3aFs.create(outOfOrderFilePath, true);&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Will do.&lt;/p&gt;


</comment>
                            <comment id="17577550" author="githubbot" created="Tue, 9 Aug 2022 17:45:12 +0000"  >&lt;p&gt;steveloughran commented on code in PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#discussion_r940572367&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#discussion_r940572367&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
+    byte[] data = ContractTestUtils.dataset(16, &apos;a&apos;, 26);&lt;br/&gt;
+    try &lt;/p&gt;
{
+      stream.write(data);
+    } finally {
+      IOUtils.closeStream(stream);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + INORDER_FILE_PATH_STR + &quot; should exist&quot;, inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    s3aFs.deleteOnExit(inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 4. add a path to DeleteOnExit set first, then create it.&lt;br/&gt;
+    s3aFs.deleteOnExit(outOfOrderFilePath);&lt;br/&gt;
+    stream = s3aFs.create(outOfOrderFilePath, true);&lt;br/&gt;
+    try {+      stream.write(data);+    }
&lt;p&gt; finally &lt;/p&gt;
{
+      IOUtils.closeStream(stream);
+    }
&lt;p&gt;+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + OUT_OF_ORDER_FILE_PATH_STR + &quot; should exist&quot;, outOfOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 5. create a subdirectory, a file under it,  and add subdirectory DeleteOnExit set.&lt;br/&gt;
+    s3aFs.mkdirs(subDirPath);&lt;br/&gt;
+    s3aFs.deleteOnExit(subDirPath);&lt;br/&gt;
+&lt;br/&gt;
+    stream = s3aFs.create(fileUnderSubDirPath, true);&lt;br/&gt;
+    try {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   same thing&lt;/p&gt;


</comment>
                            <comment id="17577582" author="githubbot" created="Tue, 9 Aug 2022 19:11:21 +0000"  >&lt;p&gt;huaxiangsun commented on code in PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#discussion_r941713106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#discussion_r941713106&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
+    byte[] data = ContractTestUtils.dataset(16, &apos;a&apos;, 26);&lt;br/&gt;
+    try &lt;/p&gt;
{
+      stream.write(data);
+    }
&lt;p&gt; finally &lt;/p&gt;
{
+      IOUtils.closeStream(stream);
+    }
&lt;p&gt;+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + INORDER_FILE_PATH_STR + &quot; should exist&quot;, inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    s3aFs.deleteOnExit(inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 4. add a path to DeleteOnExit set first, then create it.&lt;br/&gt;
+    s3aFs.deleteOnExit(outOfOrderFilePath);&lt;br/&gt;
+    stream = s3aFs.create(outOfOrderFilePath, true);&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Done.&lt;/p&gt;


</comment>
                            <comment id="17577590" author="githubbot" created="Tue, 9 Aug 2022 19:28:43 +0000"  >&lt;p&gt;huaxiangsun commented on code in PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#discussion_r941726247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#discussion_r941726247&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
+    byte[] data = ContractTestUtils.dataset(16, &apos;a&apos;, 26);&lt;br/&gt;
+    try &lt;/p&gt;
{
+      stream.write(data);
+    } finally {
+      IOUtils.closeStream(stream);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + INORDER_FILE_PATH_STR + &quot; should exist&quot;, inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    s3aFs.deleteOnExit(inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 4. add a path to DeleteOnExit set first, then create it.&lt;br/&gt;
+    s3aFs.deleteOnExit(outOfOrderFilePath);&lt;br/&gt;
+    stream = s3aFs.create(outOfOrderFilePath, true);&lt;br/&gt;
+    try {+      stream.write(data);+    }
&lt;p&gt; finally &lt;/p&gt;
{
+      IOUtils.closeStream(stream);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + OUT_OF_ORDER_FILE_PATH_STR + &quot; should exist&quot;, outOfOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 5. create a subdirectory, a file under it,  and add subdirectory DeleteOnExit set.&lt;br/&gt;
+    s3aFs.mkdirs(subDirPath);&lt;br/&gt;
+    s3aFs.deleteOnExit(subDirPath);&lt;br/&gt;
+&lt;br/&gt;
+    stream = s3aFs.create(fileUnderSubDirPath, true);&lt;br/&gt;
+    try {
+      stream.write(data);
+    } finally {+      IOUtils.closeStream(stream);+    }
&lt;p&gt;+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   I found that I do not need ContractTestUtils#assertPathExists or ContractTestUtils#assertPathDoesNotExist. I can use AbstractFSContractTestBase#assertPathExists and assertPathDoesNotExist instead. Upload the new patch based on your feedback, thanks. &lt;/p&gt;


</comment>
                            <comment id="17577591" author="githubbot" created="Tue, 9 Aug 2022 19:28:47 +0000"  >&lt;p&gt;huaxiangsun commented on PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#issuecomment-1209789086&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#issuecomment-1209789086&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; all the production code is good; some minor changes to the tests and its ready for the next hadoop release&lt;/p&gt;



</comment>
                            <comment id="17577592" author="githubbot" created="Tue, 9 Aug 2022 19:28:48 +0000"  >&lt;p&gt;huaxiangsun closed pull request #4608: &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-18340&quot; title=&quot;deleteOnExit does not work with S3AFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-18340&quot;&gt;&lt;del&gt;HADOOP-18340&lt;/del&gt;&lt;/a&gt; deleteOnExit does not work with S3AFileSystem&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17577593" author="githubbot" created="Tue, 9 Aug 2022 19:29:29 +0000"  >&lt;p&gt;huaxiangsun opened a new pull request, #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;!--&lt;br/&gt;
     Thanks for sending a pull request!&lt;br/&gt;
       1. If this is your first time, please read our contributor guidelines: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/HADOOP/How+To+Contribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/HADOOP/How+To+Contribute&lt;/a&gt;&lt;br/&gt;
       2. Make sure your PR title starts with JIRA issue id, e.g., &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-17799&quot; title=&quot;Improve the GitHub pull request template&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-17799&quot;&gt;&lt;del&gt;HADOOP-17799&lt;/del&gt;&lt;/a&gt;. Your PR title ...&apos;.&lt;br/&gt;
   --&amp;gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Description of PR&lt;br/&gt;
   processDeleteOnExit() is overiden in S3AFilesystem, it skips exist() check and delete objects without checking if FileSystem is closed. &lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;How was this patch tested?&lt;br/&gt;
   A new unitest case is added. And all unittest cases under hadoop-tools/hadoop-aws passed.&lt;br/&gt;
   mvn -Dparallel-tests clean test&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   Did S3A Integration tests against us-west-2 region and there are a few failures/errors. Run the trunk code without the patch, there are same errors/failures. The errors/failures are not caused by the patch, probably due to misconfiguration ( I could not figure out)&lt;br/&gt;
   mvn -Dparallel-tests clean verify&lt;/p&gt;

&lt;p&gt;   The result is&lt;br/&gt;
   `&lt;br/&gt;
   Tests | Errors | Failures | Skipped | Success Rate | Time&lt;/p&gt;
</comment>
                            <comment id="17577600" author="githubbot" created="Tue, 9 Aug 2022 19:33:03 +0000"  >&lt;p&gt;huaxiangsun commented on code in PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#discussion_r941729359&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#discussion_r941729359&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3ADeleteOnExit.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,126 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+ * See the License for the specific language governing permissions and&lt;br/&gt;
+ * limitations under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.hadoop.fs.s3a;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.hadoop.fs.FSDataOutputStream;&lt;br/&gt;
+import org.apache.hadoop.fs.FileSystem;&lt;br/&gt;
+import org.apache.hadoop.fs.Path;&lt;br/&gt;
+import org.apache.hadoop.fs.contract.ContractTestUtils;&lt;br/&gt;
+import org.apache.hadoop.io.IOUtils;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test deleteOnExit for S3A.&lt;br/&gt;
+ * The following cases for deleteOnExit are tested:&lt;br/&gt;
+ *  1. A nonexist file, which is added to deleteOnExit set.&lt;br/&gt;
+ *  2. An existing file&lt;br/&gt;
+ *  3. A file is added to deleteOnExist set first, then created.&lt;br/&gt;
+ *  4. A directory with some files under it.&lt;br/&gt;
+ */&lt;br/&gt;
+public class ITestS3ADeleteOnExit extends AbstractS3ATestBase {&lt;br/&gt;
+&lt;br/&gt;
+  private static final String PARENT_DIR_PATH_STR = &quot;testDeleteOnExitDir&quot;;&lt;br/&gt;
+  private static final String NON_EXIST_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/nonExistFile&quot;;&lt;br/&gt;
+  private static final String INORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/inOrderFile&quot;;&lt;br/&gt;
+  private static final String OUT_OF_ORDER_FILE_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/outOfOrderFile&quot;;&lt;br/&gt;
+  private static final String SUBDIR_PATH_STR =&lt;br/&gt;
+          PARENT_DIR_PATH_STR + &quot;/subDir&quot;;&lt;br/&gt;
+  private static final String FILE_UNDER_SUBDIR_PATH_STR =&lt;br/&gt;
+          SUBDIR_PATH_STR + &quot;/subDirFile&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  @Test&lt;br/&gt;
+  public void testDeleteOnExit() throws Exception {&lt;br/&gt;
+    FileSystem fs = getFileSystem();&lt;br/&gt;
+&lt;br/&gt;
+    // Get a new filesystem object which is same as fs.&lt;br/&gt;
+    FileSystem s3aFs = new S3AFileSystem();&lt;br/&gt;
+    s3aFs.initialize(fs.getUri(), fs.getConf());&lt;br/&gt;
+    Path nonExistFilePath = path(NON_EXIST_FILE_PATH_STR);&lt;br/&gt;
+    Path inOrderFilePath = path(INORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path outOfOrderFilePath = path(OUT_OF_ORDER_FILE_PATH_STR);&lt;br/&gt;
+    Path subDirPath = path(SUBDIR_PATH_STR);&lt;br/&gt;
+    Path fileUnderSubDirPath = path(FILE_UNDER_SUBDIR_PATH_STR);&lt;br/&gt;
+    // 1. set up the test directory.&lt;br/&gt;
+    Path dir = path(&quot;testDeleteOnExitDir&quot;);&lt;br/&gt;
+    s3aFs.mkdirs(dir);&lt;br/&gt;
+&lt;br/&gt;
+    // 2. Add a nonexisting file to DeleteOnExit set.&lt;br/&gt;
+    s3aFs.deleteOnExit(nonExistFilePath);&lt;br/&gt;
+    ContractTestUtils.assertPathDoesNotExist(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + NON_EXIST_FILE_PATH_STR + &quot; should not exist&quot;, nonExistFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 3. create a file and then add it to DeleteOnExit set.&lt;br/&gt;
+    FSDataOutputStream stream = s3aFs.create(inOrderFilePath, true);&lt;br/&gt;
+    byte[] data = ContractTestUtils.dataset(16, &apos;a&apos;, 26);&lt;br/&gt;
+    try &lt;/p&gt;
{
+      stream.write(data);
+    } finally {
+      IOUtils.closeStream(stream);
+    }&lt;br/&gt;
+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + INORDER_FILE_PATH_STR + &quot; should exist&quot;, inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    s3aFs.deleteOnExit(inOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 4. add a path to DeleteOnExit set first, then create it.&lt;br/&gt;
+    s3aFs.deleteOnExit(outOfOrderFilePath);&lt;br/&gt;
+    stream = s3aFs.create(outOfOrderFilePath, true);&lt;br/&gt;
+    try {+      stream.write(data);+    }
&lt;p&gt; finally &lt;/p&gt;
{
+      IOUtils.closeStream(stream);
+    }
&lt;p&gt;+&lt;br/&gt;
+    ContractTestUtils.assertPathExists(s3aFs,&lt;br/&gt;
+            &quot;File &quot; + OUT_OF_ORDER_FILE_PATH_STR + &quot; should exist&quot;, outOfOrderFilePath);&lt;br/&gt;
+&lt;br/&gt;
+    // 5. create a subdirectory, a file under it,  and add subdirectory DeleteOnExit set.&lt;br/&gt;
+    s3aFs.mkdirs(subDirPath);&lt;br/&gt;
+    s3aFs.deleteOnExit(subDirPath);&lt;br/&gt;
+&lt;br/&gt;
+    stream = s3aFs.create(fileUnderSubDirPath, true);&lt;br/&gt;
+    try {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Done.&lt;/p&gt;


</comment>
                            <comment id="17577601" author="githubbot" created="Tue, 9 Aug 2022 19:33:54 +0000"  >&lt;p&gt;huaxiangsun commented on PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#issuecomment-1209793570&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#issuecomment-1209793570&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   I also run the new IT test without change in S3AFileSystem, it failed as expected.&lt;/p&gt;

</comment>
                            <comment id="17577625" author="githubbot" created="Tue, 9 Aug 2022 21:11:22 +0000"  >&lt;p&gt;hadoop-yetus commented on PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#issuecomment-1209900584&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#issuecomment-1209900584&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   :confetti_ball: *&lt;b&gt;+1 overall&lt;/b&gt;*&lt;/p&gt;






&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Vote &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Subsystem &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Runtime &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Logfile &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Comment &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:----:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;----------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;--------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:--------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:-------:&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  reexec  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 53s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Docker mode activated.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Prechecks _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  dupname  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  No case conflicting files found.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  codespell  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  codespell was not available.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  detsecrets  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  detect-secrets was not available.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  @author  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch does not contain any @author tags.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  test4tests  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch appears to include 2 new or modified test files.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ trunk Compile Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvninstall  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  43m 21s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 43s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 39s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  checkstyle  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 35s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvnsite  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 45s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 32s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 32s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  spotbugs  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 19s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  shadedclient  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  21m 13s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  branch has no errors when building and testing our client artifacts.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Patch Compile Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvninstall  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 31s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 36s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javac  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 36s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 29s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javac  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 29s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  blanks  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch has no blanks issues.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  checkstyle  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 19s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvnsite  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 35s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 16s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 24s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  spotbugs  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m  5s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  shadedclient  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  19m 41s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  patch has no errors when building and testing our client artifacts.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Other Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  unit  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   2m 29s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  hadoop-aws in the patch passed.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  asflicense  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 38s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch does not generate ASF License warnings.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  98m 37s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Subsystem &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Report/Notes &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;----------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:-------------&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Docker &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ClientAPI=1.41 ServerAPI=1.41 base: &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/7/artifact/out/Dockerfile&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/7/artifact/out/Dockerfile&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; GITHUB PR &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dupname asflicense compile javac javadoc mvninstall mvnsite unit shadedclient spotbugs checkstyle codespell detsecrets &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux 98c795ea550b 4.15.0-169-generic #177-Ubuntu SMP Thu Feb 3 10:50:38 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; maven &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dev-support/bin/hadoop.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / fb2ae77ed7a2f598dcd24cae9d43c944045bb81f &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Multi-JDK versions &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /usr/lib/jvm/java-11-openjdk-amd64:Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1 /usr/lib/jvm/java-8-openjdk-amd64:Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/7/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/7/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Max. process+thread count &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 554 (vs. ulimit of 5500) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: hadoop-tools/hadoop-aws U: hadoop-tools/hadoop-aws &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/7/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/7/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; versions &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git=2.25.1 maven=3.6.3 spotbugs=4.2.2 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.14.0 &lt;a href=&quot;https://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;   This message was automatically generated.&lt;/p&gt;



</comment>
                            <comment id="17577630" author="githubbot" created="Tue, 9 Aug 2022 21:17:53 +0000"  >&lt;p&gt;hadoop-yetus commented on PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#issuecomment-1209905685&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#issuecomment-1209905685&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   :confetti_ball: *&lt;b&gt;+1 overall&lt;/b&gt;*&lt;/p&gt;






&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Vote &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Subsystem &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Runtime &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Logfile &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Comment &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:----:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;----------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;--------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:--------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:-------:&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  reexec  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m  8s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Docker mode activated.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Prechecks _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  dupname  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  No case conflicting files found.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  codespell  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  1s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  codespell was not available.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  detsecrets  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  1s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  detect-secrets was not available.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  @author  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch does not contain any @author tags.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  test4tests  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch appears to include 2 new or modified test files.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ trunk Compile Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvninstall  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  41m 57s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 58s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 49s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  checkstyle  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 41s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvnsite  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 53s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 37s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 39s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  spotbugs  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 39s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  shadedclient  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  24m 33s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  branch has no errors when building and testing our client artifacts.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Patch Compile Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvninstall  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 38s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 45s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javac  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 45s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 33s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javac  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 32s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  blanks  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch has no blanks issues.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  checkstyle  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 22s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvnsite  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 39s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 19s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 31s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  spotbugs  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 23s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  shadedclient  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  24m  6s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  patch has no errors when building and testing our client artifacts.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Other Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  unit  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   2m 47s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  hadoop-aws in the patch passed.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  asflicense  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 44s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch does not generate ASF License warnings.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 107m  8s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Subsystem &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Report/Notes &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;----------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:-------------&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Docker &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ClientAPI=1.41 ServerAPI=1.41 base: &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/6/artifact/out/Dockerfile&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/6/artifact/out/Dockerfile&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; GITHUB PR &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dupname asflicense compile javac javadoc mvninstall mvnsite unit shadedclient spotbugs checkstyle codespell detsecrets &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux 107e0a86a207 4.15.0-166-generic #174-Ubuntu SMP Wed Dec 8 19:07:44 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; maven &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dev-support/bin/hadoop.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / fb2ae77ed7a2f598dcd24cae9d43c944045bb81f &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Multi-JDK versions &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /usr/lib/jvm/java-11-openjdk-amd64:Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1 /usr/lib/jvm/java-8-openjdk-amd64:Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/6/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/6/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Max. process+thread count &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 597 (vs. ulimit of 5500) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: hadoop-tools/hadoop-aws U: hadoop-tools/hadoop-aws &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/6/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/6/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; versions &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git=2.25.1 maven=3.6.3 spotbugs=4.2.2 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.14.0 &lt;a href=&quot;https://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;   This message was automatically generated.&lt;/p&gt;



</comment>
                            <comment id="17577632" author="githubbot" created="Tue, 9 Aug 2022 21:34:03 +0000"  >&lt;p&gt;hadoop-yetus commented on PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#issuecomment-1209917783&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#issuecomment-1209917783&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   :confetti_ball: *&lt;b&gt;+1 overall&lt;/b&gt;*&lt;/p&gt;






&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Vote &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Subsystem &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Runtime &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Logfile &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Comment &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:----:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;----------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;--------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:--------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:-------:&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  reexec  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m  6s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Docker mode activated.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Prechecks _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  dupname  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  No case conflicting files found.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  codespell  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  1s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  codespell was not available.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +0 :ok: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  detsecrets  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  1s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  detect-secrets was not available.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  @author  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch does not contain any @author tags.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  test4tests  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch appears to include 2 new or modified test files.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ trunk Compile Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvninstall  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  44m  2s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m  4s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 53s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  checkstyle  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 49s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvnsite  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m  3s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 44s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 49s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  spotbugs  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 33s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  trunk passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  shadedclient  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  27m 19s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  branch has no errors when building and testing our client artifacts.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Patch Compile Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvninstall  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 42s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 43s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javac  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 43s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 36s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javac  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 36s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  blanks  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m  0s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch has no blanks issues.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  checkstyle  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 27s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  mvnsite  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 44s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 22s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  javadoc  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 33s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed with JDK Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  spotbugs  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   1m 22s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  the patch passed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  shadedclient  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  26m 36s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  patch has no errors when building and testing our client artifacts.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; _ Other Tests _ &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  unit  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   2m 59s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  hadoop-aws in the patch passed.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +1 :green_heart: &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  asflicense  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   0m 53s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  The patch does not generate ASF License warnings.  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 116m 23s &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Subsystem &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Report/Notes &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;----------:&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;:-------------&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Docker &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ClientAPI=1.41 ServerAPI=1.41 base: &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/8/artifact/out/Dockerfile&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/8/artifact/out/Dockerfile&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; GITHUB PR &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dupname asflicense compile javac javadoc mvninstall mvnsite unit shadedclient spotbugs checkstyle codespell detsecrets &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux 02e1a93d5d2e 4.15.0-175-generic #184-Ubuntu SMP Thu Mar 24 17:48:36 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; maven &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dev-support/bin/hadoop.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; trunk / fb2ae77ed7a2f598dcd24cae9d43c944045bb81f &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Multi-JDK versions &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /usr/lib/jvm/java-11-openjdk-amd64:Private Build-11.0.15+10-Ubuntu-0ubuntu0.20.04.1 /usr/lib/jvm/java-8-openjdk-amd64:Private Build-1.8.0_312-8u312-b07-0ubuntu1~20.04-b07 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/8/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/8/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Max. process+thread count &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 607 (vs. ulimit of 5500) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: hadoop-tools/hadoop-aws U: hadoop-tools/hadoop-aws &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/8/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-hadoop.apache.org/job/hadoop-multibranch/job/PR-4608/8/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; versions &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git=2.25.1 maven=3.6.3 spotbugs=4.2.2 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.14.0 &lt;a href=&quot;https://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;   This message was automatically generated.&lt;/p&gt;



</comment>
                            <comment id="17578622" author="githubbot" created="Thu, 11 Aug 2022 19:25:16 +0000"  >&lt;p&gt;steveloughran merged PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17578675" author="githubbot" created="Thu, 11 Aug 2022 21:09:19 +0000"  >&lt;p&gt;huaxiangsun commented on PR #4608:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4608#issuecomment-1212494590&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4608#issuecomment-1212494590&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Thanks @steveloughran for the review, really nice comments!&lt;/p&gt;

</comment>
                            <comment id="17579009" author="huaxiangsun" created="Fri, 12 Aug 2022 15:14:01 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt; , a followup question. I saw the fix version is marked as 3.3.9. 3.3.4 is just released, the next release is 3.3.5. Trying to understand if the patch is going to be backported and included in the 3.3.5 release. Thanks.&lt;/p&gt;</comment>
                            <comment id="17579644" author="stevel@apache.org" created="Mon, 15 Aug 2022 11:18:42 +0000"  >&lt;p&gt;i moved the version number in maven of branch-3.3 to 3.3.9 to give some leeway in case we need another security fix after 3.3.4.&lt;/p&gt;

&lt;p&gt;this will be in the next 3.3.x feature release, whatever number it ends up with&lt;/p&gt;</comment>
                            <comment id="17580403" author="huaxiangsun" created="Tue, 16 Aug 2022 16:58:11 +0000"  >&lt;p&gt;Thanks for the explain, makes sense!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13004893">HADOOP-13611</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16wr4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>