<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:32:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6227] Configuration does not lock parameters marked final if they have no value.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6227</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;A use-case: Recently, we stumbled on a bug that wanted us to disable the feature to run a debug script in map/reduce on tasks that fail, specified by mapred.&lt;/p&gt;
{map|reduce}
&lt;p&gt;.task.debug.script. The best way of disabling it seemed to be to set it with no value in the cluster configuration and mark it final. This did not work, however, because the code in configuration explicitly checks if the value is not null before adding it to the list of final parameters.&lt;/p&gt;

&lt;p&gt;Without an ability to do this, there might be a need to explicitly have a special way of disabling optional features.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12434506">HADOOP-6227</key>
            <summary>Configuration does not lock parameters marked final if they have no value.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amareshwari">Amareshwari Sriramadasu</assignee>
                                    <reporter username="yhemanth">Hemanth Yamijala</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Sep 2009 11:30:09 +0000</created>
                <updated>Tue, 24 Aug 2010 20:39:35 +0000</updated>
                            <resolved>Tue, 1 Sep 2009 15:27:15 +0000</resolved>
                                                    <fixVersion>0.21.0</fixVersion>
                                    <component>conf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12749866" author="yhemanth" created="Tue, 1 Sep 2009 11:38:04 +0000"  >&lt;p&gt;The code in configuration looks like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-comment&quot;&gt;// Ignore &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; parameter &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it has already been marked as &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;&apos;&lt;/span&gt;
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (attr != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; value != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!finalParameters.contains(attr)) {
            properties.setProperty(attr, value);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (storeResource) {
              updatingResource.put(attr, name.toString());
            }
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (finalParameter)
              finalParameters.add(attr);
          } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            LOG.warn(name+&lt;span class=&quot;code-quote&quot;&gt;&quot;:a attempt to override &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; parameter: &quot;&lt;/span&gt;+attr
                     +&lt;span class=&quot;code-quote&quot;&gt;&quot;;  Ignoring.&quot;&lt;/span&gt;);
          }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While the check for value being null is required before adding the property to the &apos;properties&apos; instance, adding it to finalParameters or for that matter even updatingResource shouldn&apos;t be an issue even if the value is null. This would certainly fix the current issue. Thoughts ?&lt;/p&gt;</comment>
                            <comment id="12749887" author="amareshwari" created="Tue, 1 Sep 2009 12:37:45 +0000"  >&lt;p&gt;Patch with the fix&lt;/p&gt;</comment>
                            <comment id="12749892" author="hadoopqa" created="Tue, 1 Sep 2009 12:55:05 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12418238/patch-6227.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12418238/patch-6227.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision 809491.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/4/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/4/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/4/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/4/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/4/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/4/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/4/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/4/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12749900" author="vinodkv" created="Tue, 1 Sep 2009 13:05:45 +0000"  >&lt;p&gt;Yahoo! distribution patch. The patch for branch 0.20 will not apply to this distribution with &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6184&quot; title=&quot;Provide a configuration dump in json format.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6184&quot;&gt;&lt;del&gt;HADOOP-6184&lt;/del&gt;&lt;/a&gt; already in.&lt;/p&gt;</comment>
                            <comment id="12749907" author="yhemanth" created="Tue, 1 Sep 2009 13:30:22 +0000"  >&lt;p&gt;Code changes look fine to me. +1.&lt;/p&gt;</comment>
                            <comment id="12749914" author="vinodkv" created="Tue, 1 Sep 2009 13:59:00 +0000"  >&lt;p&gt;I just tested this fix on a single node cluster so as to enable/disable mapred debug script by setting it to null. The patch works as expected. A null value marked as final on server side can no longer be overridden by clients.&lt;/p&gt;</comment>
                            <comment id="12749920" author="acmurthy" created="Tue, 1 Sep 2009 14:18:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12749947" author="yhemanth" created="Tue, 1 Sep 2009 15:27:15 +0000"  >&lt;p&gt;I just committed this to trunk. Thanks, Amareshwari !&lt;/p&gt;

&lt;p&gt;I did not commit to the 0.20 branch, because there&apos;s an active vote in progress and did not think this existing bug should block the release. If decided otherwise, we can commit to the 0.20 branch as well.&lt;/p&gt;</comment>
                            <comment id="12749949" author="hudson" created="Tue, 1 Sep 2009 15:39:23 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #4 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/4/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/4/&lt;/a&gt;)&lt;br/&gt;
    . Fix Configuration to allow final parameters to be set to null and prevent them from being overridden. Contributed by Amareshwari Sriramadasu.&lt;/p&gt;</comment>
                            <comment id="12750389" author="hudson" created="Wed, 2 Sep 2009 11:09:22 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #82 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/82/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/82/&lt;/a&gt;)&lt;br/&gt;
    . Fix Configuration to allow final parameters to be set to null and prevent them from being overridden. Contributed by Amareshwari Sriramadasu.&lt;/p&gt;</comment>
                            <comment id="12763819" author="chansler" created="Fri, 9 Oct 2009 04:10:14 +0000"  >&lt;p&gt;Editorial pass over all release notes prior to publication of 0.21. Bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12418237" name="patch-6227-0.20.txt" size="2463" author="amareshwari" created="Tue, 1 Sep 2009 12:37:45 +0000"/>
                            <attachment id="12418242" name="patch-6227-ydist.txt" size="2670" author="vinodkv" created="Tue, 1 Sep 2009 13:05:45 +0000"/>
                            <attachment id="12418238" name="patch-6227.txt" size="2685" author="amareshwari" created="Tue, 1 Sep 2009 12:37:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02s5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14163</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>