<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:34:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-7006] hadoop fs -getmerge does not work using codebase from trunk.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-7006</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Running the codebase from trunk, the hadoop fs -getmerge command does not work.  As implemented in prior versions (i.e. 0.20.2), I could run hadoop fs -getmerge pointed at a directory containing multiple files.  It would merge all files into a single file on the local file system.  Running the same command using the codebase from trunk, it looks like nothing happens.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478209">HADOOP-7006</key>
            <summary>hadoop fs -getmerge does not work using codebase from trunk.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cnauroth">Chris Nauroth</assignee>
                                    <reporter username="cnauroth">Chris Nauroth</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Oct 2010 06:40:02 +0000</created>
                <updated>Mon, 12 Dec 2011 06:19:21 +0000</updated>
                            <resolved>Tue, 26 Oct 2010 21:16:34 +0000</resolved>
                                    <version>0.22.0</version>
                                    <fixVersion>0.22.0</fixVersion>
                                    <component>fs</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12924465" author="cnauroth" created="Mon, 25 Oct 2010 06:48:46 +0000"  >&lt;p&gt;It appears that this was introduced with changeset 949658.  Here is a partial diff of org.apache.hadoop.fs.FileUtil:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@@ -258,7 +258,7 @@
                                   Configuration conf, String addString) throws IOException {
     dstFile = checkDest(srcDir.getName(), dstFS, dstFile, false);
 
-    if (!srcFS.getFileStatus(srcDir).isDir())
+    if (srcFS.getFileStatus(srcDir).isDirectory())
       return false;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice that in addition to switching from isDir() to isDirectory(), this change also dropped the negation on the front of the condition.  I&apos;ll attach a simple one-line patch to restore functionality.  I&apos;ve also added a unit test to cover the FileUtil.copyMerge API.  I&apos;d like to volunteer for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6387&quot; title=&quot;FsShell -getmerge source file pattern is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6387&quot;&gt;&lt;del&gt;HADOOP-6387&lt;/del&gt;&lt;/a&gt; next, and I want this unit test in place as a regression test while I work on that.&lt;/p&gt;</comment>
                            <comment id="12924466" author="cnauroth" created="Mon, 25 Oct 2010 06:51:47 +0000"  >&lt;p&gt;I&apos;ve attached the patch.  Could I please have a code review?  Thank you.&lt;/p&gt;</comment>
                            <comment id="12924625" author="atm" created="Mon, 25 Oct 2010 16:39:34 +0000"  >&lt;p&gt;I&apos;ve reviewed the patch, and it looks good to me.&lt;/p&gt;</comment>
                            <comment id="12924692" author="cutting" created="Mon, 25 Oct 2010 19:43:56 +0000"  >&lt;p&gt;Tests failed for me until I also changed the file merge to sort the files.  This is probably a good idea anyway.  Here&apos;s a new version of the patch with that change.&lt;/p&gt;</comment>
                            <comment id="12925045" author="cnauroth" created="Tue, 26 Oct 2010 17:11:09 +0000"  >&lt;p&gt;Thanks, Aaron and Doug.&lt;/p&gt;

&lt;p&gt;I&apos;m following the directions from &lt;a href=&quot;http://wiki.apache.org/hadoop/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/hadoop/HowToContribute&lt;/a&gt; .  I don&apos;t see the &quot;Submit Patch&quot; link to trigger Hudson though.  Is there something else that I need to do?&lt;/p&gt;</comment>
                            <comment id="12925053" author="atm" created="Tue, 26 Oct 2010 17:21:25 +0000"  >&lt;p&gt;Doug already marked the ticket patch available.&lt;/p&gt;

&lt;p&gt;Not quite sure why Hudson hasn&apos;t picked it up yet - might just be taking some time to get around to it (the HDFS tests take quite a while to run.)&lt;/p&gt;</comment>
                            <comment id="12925099" author="cutting" created="Tue, 26 Oct 2010 19:29:31 +0000"  >&lt;p&gt;Ran test-patch by hand.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-1 overall.  

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; or modified tests.

    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Findbugs warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 system tests framework.  The patch passed system tests framework compile.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The javadoc test seems broken, as it fails even when I run test-patch with an empty patch file.&lt;/p&gt;</comment>
                            <comment id="12925142" author="cutting" created="Tue, 26 Oct 2010 21:16:34 +0000"  >&lt;p&gt;I just committed this.  Thanks, Chris!&lt;/p&gt;</comment>
                            <comment id="12925159" author="hudson" created="Tue, 26 Oct 2010 21:44:36 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #402 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/402/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/402/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7006&quot; title=&quot;hadoop fs -getmerge does not work using codebase from trunk.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7006&quot;&gt;&lt;del&gt;HADOOP-7006&lt;/del&gt;&lt;/a&gt;. Fix &apos;fs -getmerge&apos; command to not be a no-op.  Contributed by Chris Nauroth.&lt;/p&gt;</comment>
                            <comment id="12925330" author="hudson" created="Wed, 27 Oct 2010 11:21:44 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #494 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk/494/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk/494/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7006&quot; title=&quot;hadoop fs -getmerge does not work using codebase from trunk.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7006&quot;&gt;&lt;del&gt;HADOOP-7006&lt;/del&gt;&lt;/a&gt;. Fix &apos;fs -getmerge&apos; command to not be a no-op.  Contributed by Chris Nauroth.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457995" name="HADOOP-7006.patch" size="6627" author="cutting" created="Mon, 25 Oct 2010 19:43:56 +0000"/>
                            <attachment id="12457950" name="HADOOP-7006.patch" size="6180" author="cnauroth" created="Mon, 25 Oct 2010 06:51:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77575</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hyen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>