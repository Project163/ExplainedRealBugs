<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:33:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6682] NetUtils:normalizeHostName does not process hostnames starting with [a-f] correctly</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6682</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;  public static String normalizeHostName(String name) {&lt;br/&gt;
    if (Character.digit(name.charAt(0), 16) != -1) {&lt;br/&gt;
      return name;&lt;/p&gt;

&lt;p&gt;This code is attempting to short-circuit the hostname-&amp;gt;ip resolution on the assumption that if name starts with a digit, it&apos;s already an ip address.  This is of questionable value, but because it checks for a hex digit, it will fail on names starting with &lt;span class=&quot;error&quot;&gt;&amp;#91;a-f&amp;#93;&lt;/span&gt;.  Such names will not be converted to an ip address, but be returned unchanged.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12461194">HADOOP-6682</key>
            <summary>NetUtils:normalizeHostName does not process hostnames starting with [a-f] correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jghoman">Jakob Homan</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Apr 2010 23:54:16 +0000</created>
                <updated>Mon, 12 Dec 2011 06:19:23 +0000</updated>
                            <resolved>Sat, 12 Jun 2010 02:12:55 +0000</resolved>
                                                    <fixVersion>0.22.0</fixVersion>
                                    <component>io</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12853739" author="hong.tang" created="Tue, 6 Apr 2010 04:40:54 +0000"  >&lt;p&gt;Similar issue came up in &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1222&quot; title=&quot;[Mumak] We should not include nodes with numeric ips in cluster topology.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1222&quot;&gt;&lt;del&gt;MAPREDUCE-1222&lt;/del&gt;&lt;/a&gt;. The following code might be useful:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+  static Pattern IP_PATTERN;
+  
+  static {
+    // 0-255
+    String IPV4BK1 = &quot;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)&quot;;
+    // .b.c.d - where b/c/d are 0-255, and optionally adding two more
+    // backslashes before each period
+    String IPV4BKN = &quot;(?:\\\\?\\.&quot; + IPV4BK1 + &quot;){3}&quot;;
+    String IPV4_PATTERN = IPV4BK1 + IPV4BKN;
+    
+    // first hexadecimal number
+    String IPV6BK1 = &quot;(?:[0-9a-fA-F]{1,4})&quot;;
+    // remaining 7 hexadecimal numbers, each preceded with &quot;:&quot;.
+    String IPV6BKN = &quot;(?::&quot; + IPV6BK1 + &quot;){7}&quot;;
+    String IPV6_PATTERN = IPV6BK1 + IPV6BKN;
+
+    IP_PATTERN = Pattern.compile(
+        &quot;^(?:&quot; + IPV4_PATTERN + &quot;|&quot; + IPV6_PATTERN + &quot;)$&quot;);
+  }
+
+ 
+  static boolean isIPAddress(String hostname) {
+    return IP_PATTERN.matcher(hostname).matches();
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12853740" author="hong.tang" created="Tue, 6 Apr 2010 04:43:29 +0000"  >&lt;p&gt;The regex IPV4BKN needs some change because in job history dots (.) are escaped with double backslashes.&lt;/p&gt;</comment>
                            <comment id="12878160" author="jghoman" created="Sat, 12 Jun 2010 00:36:48 +0000"  >&lt;p&gt;Patch for Y20, which we forgot to upload at the time.  Not for commit.&lt;/p&gt;</comment>
                            <comment id="12878162" author="jghoman" created="Sat, 12 Jun 2010 00:39:01 +0000"  >&lt;p&gt;Patch for trunk.  Same as Y20 patch.  Just changes the base to 10 rather than 16.  &lt;/p&gt;

&lt;p&gt;Hong, I like your approach and will open another JIRA to address the general shortcoming of the normalizeHostname function.  For this one I&apos;d like to take as little risk as possible.&lt;/p&gt;

&lt;p&gt;I considered writing a unit test for the fix that would try to normalize some host name that starts with an offending hostname (ask.com), but this would violate the unit-test-shouldn&apos;t-talk-to-outside-resources guideline, and couldn&apos;t think of a better way to test it.  If someone has one, let me and I&apos;ll add it.  Otherwise, I think it&apos;s good to go without one.&lt;/p&gt;</comment>
                            <comment id="12878163" author="jghoman" created="Sat, 12 Jun 2010 00:39:18 +0000"  >&lt;p&gt;submitting patch.&lt;/p&gt;</comment>
                            <comment id="12878167" author="hadoopqa" created="Sat, 12 Jun 2010 01:02:08 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12446933/HADOOP-6682.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12446933/HADOOP-6682.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 953910.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/79/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/79/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/79/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/79/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/79/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/79/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/79/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/79/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12878172" author="devaraj" created="Sat, 12 Jun 2010 01:09:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12878174" author="jghoman" created="Sat, 12 Jun 2010 01:10:32 +0000"  >&lt;p&gt;I call bogus on the javadoc warning, since this patch doesn&apos;t affect that.  Re-run Hudson for test failure.  I don&apos;t see it on my machine, but let&apos;s see if it re-occurs.&lt;/p&gt;</comment>
                            <comment id="12878183" author="hadoopqa" created="Sat, 12 Jun 2010 01:44:30 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12446933/HADOOP-6682.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12446933/HADOOP-6682.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 953910.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/81/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/81/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/81/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/81/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/81/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/81/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/81/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h1.grid.sp2.yahoo.net/81/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12878190" author="jghoman" created="Sat, 12 Jun 2010 02:12:55 +0000"  >&lt;p&gt;I&apos;ve committed this.  Resolving as fixed.&lt;/p&gt;</comment>
                            <comment id="12878196" author="hudson" created="Sat, 12 Jun 2010 03:02:26 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #301 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/301/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/301/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6682&quot; title=&quot;NetUtils:normalizeHostName does not process hostnames starting with [a-f] correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6682&quot;&gt;&lt;del&gt;HADOOP-6682&lt;/del&gt;&lt;/a&gt;. NetUtils:normalizeHostName does not process hostnames starting with &lt;span class=&quot;error&quot;&gt;&amp;#91;a-f&amp;#93;&lt;/span&gt; correctly.&lt;/p&gt;</comment>
                            <comment id="12878252" author="hudson" created="Sat, 12 Jun 2010 11:20:26 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #364 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/364/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/364/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6682&quot; title=&quot;NetUtils:normalizeHostName does not process hostnames starting with [a-f] correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6682&quot;&gt;&lt;del&gt;HADOOP-6682&lt;/del&gt;&lt;/a&gt;. NetUtils:normalizeHostName does not process hostnames starting with &lt;span class=&quot;error&quot;&gt;&amp;#91;a-f&amp;#93;&lt;/span&gt; correctly.&lt;/p&gt;</comment>
                            <comment id="13054146" author="eli" created="Thu, 23 Jun 2011 22:34:32 +0000"  >&lt;p&gt;The Y20 patch here is bogus btw it changes from 10 to 16 instead of vice versa. Doesn&apos;t look like it was applied anywhere so not a big deal.&lt;/p&gt;</comment>
                            <comment id="13054148" author="jghoman" created="Thu, 23 Jun 2011 22:38:17 +0000"  >&lt;p&gt;hmmm... must have run the patch the wrong way.  That was one crazy week.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12466796">HADOOP-6824</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12446932" name="HADOOP-6682-Y20.patch" size="566" author="jghoman" created="Sat, 12 Jun 2010 00:36:48 +0000"/>
                            <attachment id="12446933" name="HADOOP-6682.patch" size="572" author="jghoman" created="Sat, 12 Jun 2010 00:39:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02qtr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>