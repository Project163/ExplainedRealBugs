<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:34:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6930] AvroRpcEngine doesn&apos;t work with generated Avro code</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6930</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;AvroRpcEngine uses &apos;reflect&apos; based java implementation. There should be a way to have it work with &apos;specific&apos; (generated code from avro idl).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12472644">HADOOP-6930</key>
            <summary>AvroRpcEngine doesn&apos;t work with generated Avro code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sharadag">Sharad Agarwal</assignee>
                                    <reporter username="sharadag">Sharad Agarwal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Aug 2010 21:02:58 +0000</created>
                <updated>Mon, 12 Dec 2011 06:18:51 +0000</updated>
                            <resolved>Tue, 7 Sep 2010 20:51:09 +0000</resolved>
                                                    <fixVersion>0.22.0</fixVersion>
                                    <component>ipc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="12903131" author="cutting" created="Thu, 26 Aug 2010 22:59:25 +0000"  >&lt;p&gt;Avro 1.4, which should be released next week, better integrates &apos;specific&apos; and &apos;reflect&apos;.  With a little more effort this could be make to &apos;just work&apos;, i.e., ReflectRequestor and ReflectResponder would be able to handle Specific data.  Glancing at the code, it looks like mostly what remains is fixing a few isX() methods in ReflectData so that unions would be dispatched correctly.  Making GenericArray to implement Collection would also simplify this.  Anyway, it&apos;s close.  If this sounds of interest, please file an Avro Jira requesting this.&lt;/p&gt;

&lt;p&gt;Alternately, we could simply configure things, protocol-by-protocol to use either specific or reflect.  But intermixing might then cause problems, and it might be nice to be able to move more incrementally.&lt;/p&gt;</comment>
                            <comment id="12903139" author="sharadag" created="Thu, 26 Aug 2010 23:24:58 +0000"  >&lt;p&gt;Having &apos;reflect&apos; and &apos;specific&apos; types as interoperable would be a great thing. But for now I am thinking of a simpler fix -&amp;gt; Have AvroSpecificRpcEngine (that extends AvroRpcEngine) and let AvroRpcEngine to have protected factory methods for creating Requestor and Responder.&lt;br/&gt;
Here clients HAVE to choose between &apos;reflect&apos; and &apos;specific&apos; Avro engine, but that should be ok for now.&lt;/p&gt;</comment>
                            <comment id="12903483" author="cutting" created="Fri, 27 Aug 2010 17:02:43 +0000"  >&lt;p&gt;&amp;gt; Here clients HAVE to choose between &apos;reflect&apos; and &apos;specific&apos; Avro engine, but that should be ok for now.&lt;/p&gt;

&lt;p&gt;That would work if you only transition protocols to Specific and never wish to rely on Reflect.  Since some parameter types are used by multiple protocols, this requires you to transition more (all?) protocols at once, whereas, if some parameters could use Reflect, you could transition things from Writable to Avro protocol-by-protocol, which might be easier to debug.  But AvroSpecificRpcEngine should be easy to write, and, long-term, when all protocols use Specific, we&apos;ll want this, so it&apos;d be a good addition.  +1&lt;/p&gt;</comment>
                            <comment id="12904723" author="sharadag" created="Tue, 31 Aug 2010 18:47:03 +0000"  >&lt;p&gt;Here is the patch adding AvroSpecificRpcEngine.&lt;/p&gt;

&lt;p&gt;Should we make the RpcEngine a public API instead of package private ? In order to use these engine, right now I need to be in org.apache.hadoop.ipc package.&lt;/p&gt;
</comment>
                            <comment id="12905188" author="cutting" created="Wed, 1 Sep 2010 20:05:03 +0000"  >&lt;p&gt;Looks reasonable, but I think you forgot to include the test protocol file.&lt;/p&gt;

&lt;p&gt;&amp;gt; In order to use these engine, right now I need to be in org.apache.hadoop.ipc package.&lt;/p&gt;

&lt;p&gt;The original idea was that you&apos;d use this by configuring protocols to use particular engines.  But more explicit control might be good too.  If we do make them public then we&apos;d want to make sure to mark the APIs as evolving, not stable.&lt;/p&gt;</comment>
                            <comment id="12905226" author="sharadag" created="Wed, 1 Sep 2010 21:02:03 +0000"  >&lt;p&gt;Thanks Doug for looking at this. Here is the patch which has the missed protocol file. Also I have made the classes as public and marked them evolving.&lt;/p&gt;</comment>
                            <comment id="12905271" author="cutting" created="Wed, 1 Sep 2010 22:28:53 +0000"  >&lt;p&gt;A few minor things:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;WritableRpcEngine should be made public too; and&lt;/li&gt;
	&lt;li&gt;setProtocolEngine, now public, needs javadoc.&lt;br/&gt;
Other than that, +1&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12905592" author="sharadag" created="Thu, 2 Sep 2010 17:09:22 +0000"  >&lt;p&gt;Incorporated review comments.&lt;/p&gt;</comment>
                            <comment id="12906134" author="cutting" created="Fri, 3 Sep 2010 22:10:40 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12906890" author="hadoopqa" created="Tue, 7 Sep 2010 17:32:48 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12453696/Hadoop-6930_2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12453696/Hadoop-6930_2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 992479.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 4 release audit warnings (more than the trunk&apos;s current 2 warnings).&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;    +1 system tests framework.  The patch passed system tests framework compile.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/669/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12906931" author="sharadag" created="Tue, 7 Sep 2010 18:52:38 +0000"  >&lt;p&gt;Fixed release audit warnings by adding license header to new files. javadoc warnings are not introduced by this patch.&lt;/p&gt;</comment>
                            <comment id="12906957" author="hadoopqa" created="Tue, 7 Sep 2010 20:14:11 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12454038/Hadoop-6930_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12454038/Hadoop-6930_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 992479.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;    +1 system tests framework.  The patch passed system tests framework compile.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/670/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/670/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/670/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/670/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/670/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/670/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/670/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/670/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12906967" author="sharadag" created="Tue, 7 Sep 2010 20:51:08 +0000"  >&lt;p&gt;I just committed this.&lt;/p&gt;</comment>
                            <comment id="12907840" author="hudson" created="Fri, 10 Sep 2010 00:13:41 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #374 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/374/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Hadoop-Common-trunk-Commit/374/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6930&quot; title=&quot;AvroRpcEngine doesn&amp;#39;t work with generated Avro code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6930&quot;&gt;&lt;del&gt;HADOOP-6930&lt;/del&gt;&lt;/a&gt;. AvroRpcEngine doesn&apos;t work with generated Avro code. Contributed by Sharad Agarwal.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12460169">HADOOP-6659</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12453530" name="Hadoop-6930.patch" size="8420" author="sharadag" created="Tue, 31 Aug 2010 18:47:03 +0000"/>
                            <attachment id="12453627" name="Hadoop-6930_1.patch" size="11307" author="sharadag" created="Wed, 1 Sep 2010 21:02:03 +0000"/>
                            <attachment id="12453696" name="Hadoop-6930_2.patch" size="12191" author="sharadag" created="Thu, 2 Sep 2010 17:09:22 +0000"/>
                            <attachment id="12454038" name="Hadoop-6930_3.patch" size="13833" author="sharadag" created="Tue, 7 Sep 2010 18:52:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 11 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hypj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102885</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>