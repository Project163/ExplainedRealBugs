<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:32:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6439] Shuffle deadlocks on wrong number of maps</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6439</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;The new shuffle assumes that the number of maps is correct. The new JobSubmitter sets the old value. Something misfires in the middle causing:&lt;/p&gt;

&lt;p&gt;09/12/01 00:00:15 WARN conf.Configuration: mapred.job.split.file is deprecated. Instead, use mapreduce.job.splitfile&lt;br/&gt;
09/12/01 00:00:15 WARN conf.Configuration: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps&lt;/p&gt;

&lt;p&gt;But my reduces got stuck at 2 maps / 12 when there were only 2 maps in the job.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12442015">HADOOP-6439</key>
            <summary>Shuffle deadlocks on wrong number of maps</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chaitk">V.V.Chaitanya Krishna</assignee>
                                    <reporter username="omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Dec 2009 01:05:58 +0000</created>
                <updated>Tue, 24 Aug 2010 20:41:18 +0000</updated>
                            <resolved>Wed, 21 Apr 2010 19:38:29 +0000</resolved>
                                    <version>0.21.0</version>
                    <version>0.22.0</version>
                                    <fixVersion>0.21.0</fixVersion>
                                    <component>conf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="12784011" author="hadoopqa" created="Tue, 1 Dec 2009 02:18:31 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12426479/mr-1252.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12426479/mr-1252.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 885530.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/154/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Mapreduce-Patch-h3.grid.sp2.yahoo.net/154/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12784114" author="owen.omalley" created="Tue, 1 Dec 2009 08:17:52 +0000"  >&lt;p&gt;This patch is necessary to suppress the warnings, but doesn&apos;t fix the problem.&lt;/p&gt;

&lt;p&gt;The problem is that I was using a configuration with the old attribute name. The attribute name isn&apos;t being translated during the xml loading. I&apos;m not sure how it is happening, but in some context, we get 2 and others 12. When I change the config to use the new attribute name, it all goes away.&lt;/p&gt;

&lt;p&gt;I suspect this is caused by a bug in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12784278" author="owen.omalley" created="Tue, 1 Dec 2009 16:22:10 +0000"  >&lt;p&gt;To be clearer:&lt;/p&gt;

&lt;p&gt;1. The previous patch fixes the warnings, but not the problem. Thus, it is necessary but not sufficient.&lt;br/&gt;
2. On a one node cluster with 0.21.0-dev from yesterday:&lt;br/&gt;
  a. Have mapred.map.tasks set to 12 in hadoop-site.xml.&lt;br/&gt;
  b. Submit a word count example on a two file input directory.&lt;br/&gt;
3. The 2 maps run fine.&lt;br/&gt;
4. The 2 reduces both lock up at 5.5% with a status of 2 of 12 maps fetched.&lt;/p&gt;

&lt;p&gt;Looking at the system directory the job.xml has mapreduce.job.maps = 2, but the task and the web ui show it as 12.&lt;/p&gt;

&lt;p&gt;If I change the config to use mapreduce.job.maps to set the default, everything works correctly.&lt;/p&gt;</comment>
                            <comment id="12790112" author="ravidotg" created="Mon, 14 Dec 2009 11:49:11 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt;, old key takes precedence irrespective of the order in which resources are loaded. I propose that we resolve based on the order of loading of resources irrespective of old/new key is seen.&lt;/p&gt;

&lt;p&gt;Thoughts ?&lt;/p&gt;</comment>
                            <comment id="12790114" author="ravidotg" created="Mon, 14 Dec 2009 11:57:37 +0000"  >&lt;p&gt;When mapred-site.xml has old key and job.xml has new key, the value given in mapred-site.xml is taking precedence because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12791787" author="chaitk" created="Thu, 17 Dec 2009 05:00:01 +0000"  >&lt;p&gt;Uploading patch with the following changes implemented:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The value of the key will be the one which is loaded/set most recently. (Note: As maintained previously, there will be only new keys stored in the Configuration object.)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;If the key is set to final, then that key (or the corresponding new key in case of deprecation) will be marked as final and no further changes to its value will be done. This is different from the way final parameters were handled in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt;, where the presence of old key itself mattered(irrespective of which value is set/loaded last) and precedence order had to be considered even for being final.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12791791" author="ravidotg" created="Thu, 17 Dec 2009 05:19:38 +0000"  >&lt;p&gt;For final parameters, does it allow admin to set a value in mapred-site.xml ? OR Is it making the value given in mapred-default.xml as final and not considering the value given by admin in mapred-site.xml ?&lt;/p&gt;</comment>
                            <comment id="12791793" author="ravidotg" created="Thu, 17 Dec 2009 05:35:56 +0000"  >&lt;p&gt;OK. As nothing is marked as final in *default.xml, everything should be fine.&lt;/p&gt;</comment>
                            <comment id="12791800" author="amareshwari" created="Thu, 17 Dec 2009 06:11:36 +0000"  >&lt;p&gt;Some comments on the patch:&lt;br/&gt;
1. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (finalParameter) {
            finalParameters.add(attr);
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above code is outside the check for value!= null, but it is moved inside in the patch. Please make sure it is outside.&lt;/p&gt;

&lt;p&gt;2. Shall we divide the test into two tests to simplify? First test tests the order of loading, Second one tests final parameters and order of loading.&lt;br/&gt;
3. Can you add asserts for the values after every loadResource?&lt;br/&gt;
4. Can you add test to verify null values for the final parameters?&lt;/p&gt;</comment>
                            <comment id="12791835" author="chaitk" created="Thu, 17 Dec 2009 07:49:18 +0000"  >&lt;p&gt;Uploading patch with the above comments implemented.&lt;/p&gt;</comment>
                            <comment id="12791849" author="amareshwari" created="Thu, 17 Dec 2009 08:39:51 +0000"  >&lt;p&gt;Patch looks good. Some minor comments on the test:&lt;br/&gt;
1. Javadoc for the test needs modification.&lt;br/&gt;
2. Can you add some more comments on for the tests?&lt;br/&gt;
3. Can you extend testDeprecation for &quot;set for M and get on N&quot; and &quot;set for Y and Z, get on X&quot; ?&lt;/p&gt;</comment>
                            <comment id="12792361" author="chaitk" created="Fri, 18 Dec 2009 06:08:12 +0000"  >&lt;p&gt;Uploading new patch with the above comments implemented. &lt;br/&gt;
I tested it on trunk for the scenario mentioned by Owen in the above comments. It worked successfully.&lt;br/&gt;
I&apos;m not able to test it on 0.21 due to some problem with tasktracker crashing ( logs show &lt;tt&gt;java.lang.NoSuchMethodError: org.apache.hadoop.ipc.RPC.waitForProxy&lt;/tt&gt; ).&lt;/p&gt;</comment>
                            <comment id="12792367" author="amareshwari" created="Fri, 18 Dec 2009 06:42:24 +0000"  >&lt;p&gt;Changes look fine to me.&lt;/p&gt;</comment>
                            <comment id="12792369" author="amareshwari" created="Fri, 18 Dec 2009 06:43:08 +0000"  >&lt;p&gt;Submitting for hudson&lt;/p&gt;</comment>
                            <comment id="12792374" author="hadoopqa" created="Fri, 18 Dec 2009 07:06:36 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12428406/HADOOP-6439-3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12428406/HADOOP-6439-3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 892113.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/223/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/223/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/223/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/223/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/223/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/223/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/223/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/223/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12794063" author="yhemanth" created="Wed, 23 Dec 2009 14:48:45 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In this patch, we are updating a resource in the updatingResource map, if a null value has been set for a key, but we are not adding the null value to the properties object storing the key-value mapping. So, suppose a non-null value is stored for this key from a previously loaded resource, then we would printing the value belonging to the older resource, but the name of the new resource. This is inconsistent. In general, I am very skeptical of changing any behavior in how configurations are loaded because it is so core to the entire framework. IOW, I would be happy if the old code structure in loadResource is retained when pulled to the new method loadProperty. Of course, unless there&apos;s a good reason for the change which I&apos;d be happy to see.&lt;/li&gt;
	&lt;li&gt;Also, previously whenever we are reloading the properties object, we were reseting the &apos;accessed&apos; flag for the deprecated key, which is removed in this patch.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I haven&apos;t looked at the test cases very closely - though the changes seem mostly OK so far. Cutting down the changes in Configuration.java will actually allow us to not have to write more test scenarios. So, I would like to relook at the cases after the changes above are made.&lt;/p&gt;</comment>
                            <comment id="12796134" author="chaitk" created="Mon, 4 Jan 2010 10:40:23 +0000"  >&lt;p&gt;Uploading patch with the above mentioned comments implemented.&lt;/p&gt;</comment>
                            <comment id="12797034" author="yhemanth" created="Wed, 6 Jan 2010 08:59:17 +0000"  >&lt;p&gt;This is looking good. I have a very minor comment. In the test case, I would recommend we write a deprecated key with multiple values - like the key X, and make sure that loadResource actually loads all the keys - both old and new. With this change, I think the patch is good to go.&lt;/p&gt;

&lt;p&gt;Can you please run tests with the new common jar file with both HDFS and MapReduce projects and upload results of those also here. This is in addition to Hudson validation of the common project&apos;s unit tests itself.&lt;/p&gt;</comment>
                            <comment id="12797063" author="chaitk" created="Wed, 6 Jan 2010 10:59:42 +0000"  >&lt;p&gt;Uploading patch with above suggested testcase incorporated.&lt;/p&gt;

&lt;p&gt;Also, locally running the jar with this patch on mapreduce and hdfs projects.&lt;/p&gt;</comment>
                            <comment id="12797554" author="hadoopqa" created="Thu, 7 Jan 2010 08:27:22 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12429519/HADOOP-6439-5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12429519/HADOOP-6439-5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 896691.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/266/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/266/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12797569" author="chaitk" created="Thu, 7 Jan 2010 09:35:57 +0000"  >&lt;p&gt;Uploading new patch. &lt;/p&gt;</comment>
                            <comment id="12797571" author="chaitk" created="Thu, 7 Jan 2010 09:45:04 +0000"  >&lt;p&gt;Ran the hdfs project with the common jar with the patch. &lt;br/&gt;
Some of them failed out (timeout issue) but succeeded when run individually.&lt;/p&gt;</comment>
                            <comment id="12797575" author="hadoopqa" created="Thu, 7 Jan 2010 10:05:02 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12429634/HADOOP-6439-6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12429634/HADOOP-6439-6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 896691.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/267/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/267/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/267/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/267/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/267/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/267/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/267/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/267/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12797579" author="chaitk" created="Thu, 7 Jan 2010 10:22:05 +0000"  >&lt;p&gt;Ran ant test in mapreduce successfully with the core jar containing the patch.&lt;br/&gt;
All tests passed except TestTrackerDistributedCacheManager which passed later when run individually.&lt;/p&gt;</comment>
                            <comment id="12856513" author="tomwhite" created="Tue, 13 Apr 2010 17:47:05 +0000"  >&lt;p&gt;Is this ready to be committed?&lt;/p&gt;</comment>
                            <comment id="12856732" author="chaitk" created="Wed, 14 Apr 2010 03:05:47 +0000"  >&lt;p&gt;The patch applies even after a long time. &lt;b&gt;smile&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Running through hudson again.&lt;/p&gt;</comment>
                            <comment id="12856733" author="chaitk" created="Wed, 14 Apr 2010 03:07:01 +0000"  >&lt;p&gt;Re-submitting the same patch for Hudson.&lt;/p&gt;</comment>
                            <comment id="12856796" author="chaitk" created="Wed, 14 Apr 2010 08:25:07 +0000"  >&lt;p&gt;The Hudson result doesn&apos;t seem to be posting here. The result is as below:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  [exec] BUILD SUCCESSFUL
     [exec] Total time: 7 seconds
     [exec] 
     [exec] 
     [exec] 
     [exec] 
     [exec] +1 overall.  Here are the results of testing the latest attachment 
     [exec]   http://issues.apache.org/jira/secure/attachment/12441685/HADOOP-6439-6.patch
     [exec]   against trunk revision 933810.
     [exec] 
     [exec]     +1 @author.  The patch does not contain any @author tags.
     [exec] 
     [exec]     +1 tests included.  The patch appears to include 3 new or modified tests.
     [exec] 
     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.
     [exec] 
     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.
     [exec] 
     [exec]     +1 findbugs.  The patch does not introduce any new Findbugs warnings.
     [exec] 
     [exec]     +1 release audit.  The applied patch does not increase the total number of release audit warnings.
     [exec] 
     [exec]     +1 core tests.  The patch passed core unit tests.
     [exec] 
     [exec]     +1 contrib tests.  The patch passed contrib unit tests.
     [exec] 
     [exec] Test results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/462/testReport/
     [exec] Findbugs warnings: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/462/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
     [exec] Checkstyle results: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/462/artifact/trunk/build/test/checkstyle-errors.html
     [exec] Console output: http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/462/console
     [exec] 

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12858792" author="yhemanth" created="Tue, 20 Apr 2010 09:39:08 +0000"  >&lt;p&gt;I looked at the patch as a sanity check and it seems fine. There were couple of formatting problems in the patch which I will fix and upload a new one soon. Canceling the current patch to take care of that.&lt;/p&gt;</comment>
                            <comment id="12858795" author="yhemanth" created="Tue, 20 Apr 2010 09:45:37 +0000"  >&lt;p&gt;Patch fixing minor formatting problems; no other changes.&lt;/p&gt;</comment>
                            <comment id="12858796" author="yhemanth" created="Tue, 20 Apr 2010 09:47:32 +0000"  >&lt;p&gt;Running through Hudson. Chaitanya, can you please (one last time hopefully, &lt;b&gt;smile&lt;/b&gt;), test a core jar built with this patch with mapreduce and HDFS and then I can commit this ?&lt;/p&gt;</comment>
                            <comment id="12858866" author="hadoopqa" created="Tue, 20 Apr 2010 13:09:52 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12442271/HADOOP-6439-7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12442271/HADOOP-6439-7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 934619.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/465/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/465/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/465/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/465/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/465/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/465/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/465/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/465/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12859175" author="chaitk" created="Wed, 21 Apr 2010 03:06:17 +0000"  >&lt;p&gt;Ran tests of mapreduce and hdfs with the core jar built with this patch.&lt;br/&gt;
All tests passed except for TestTrackerDistributedCacheManager in mapreduce and TestFiHFlush in hdfs. &lt;br/&gt;
These tests failed even without this patch being applied.&lt;/p&gt;</comment>
                            <comment id="12859191" author="yhemanth" created="Wed, 21 Apr 2010 04:43:26 +0000"  >&lt;p&gt;Chaitanya, thanks for running the tests. The patch for trunk is ready for commit. However, I tried to see if the patch applies to branch 0.21 as well, since this is a blocker for that version. The patch failed to apply, unfortunately. Can you please upload a patch for that as well ?&lt;/p&gt;</comment>
                            <comment id="12859195" author="amareshwari" created="Wed, 21 Apr 2010 04:51:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;However, I tried to see if the patch applies to branch 0.21 as well, since this is a blocker for that version. The patch failed to apply, unfortunately. Can you please upload a patch for that as well ? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;@Hemanth, I don&apos;t think we need to update patches for branch 0.21, as per discussion in general mailing list, branch 0.21 will be cut from trunk itself. &lt;br/&gt;
@Tom, please correct me if I&apos;m wrong.&lt;/p&gt;</comment>
                            <comment id="12859198" author="yhemanth" created="Wed, 21 Apr 2010 04:58:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;@Hemanth, I don&apos;t think we need to update patches for branch 0.21, as per discussion in general mailing list, branch 0.21 will be cut from trunk itself.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ah. If that&apos;s so, then we are good to go. I will wait for Tom&apos;s / anyone else&apos;s confirmation on this.&lt;/p&gt;</comment>
                            <comment id="12859407" author="tomwhite" created="Wed, 21 Apr 2010 16:00:34 +0000"  >&lt;p&gt;Hemanth/Amareshwari&lt;/p&gt;

&lt;p&gt;That&apos;s right - I&apos;m going to cut a new 0.21 branch from trunk on April 30, so this patch only needs to be committed to trunk. Thanks!&lt;/p&gt;

&lt;p&gt;Tom&lt;/p&gt;</comment>
                            <comment id="12859498" author="yhemanth" created="Wed, 21 Apr 2010 19:38:29 +0000"  >&lt;p&gt;I just committed this. Thanks, Chaitanya ! (Also marked the fix for version to 0.22, based on Tom&apos;s response).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12428846">HADOOP-6105</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12441685" name="ASF.LICENSE.NOT.GRANTED--HADOOP-6439-6.patch" size="21046" author="chaitk" created="Wed, 14 Apr 2010 03:07:01 +0000"/>
                            <attachment id="12428265" name="HADOOP-6439-1.patch" size="17909" author="chaitk" created="Thu, 17 Dec 2009 05:00:01 +0000"/>
                            <attachment id="12428273" name="HADOOP-6439-2.patch" size="19460" author="chaitk" created="Thu, 17 Dec 2009 07:49:17 +0000"/>
                            <attachment id="12428406" name="HADOOP-6439-3.patch" size="20899" author="chaitk" created="Fri, 18 Dec 2009 06:08:12 +0000"/>
                            <attachment id="12429328" name="HADOOP-6439-4.patch" size="20948" author="chaitk" created="Mon, 4 Jan 2010 10:40:23 +0000"/>
                            <attachment id="12429519" name="HADOOP-6439-5.patch" size="21339" author="chaitk" created="Wed, 6 Jan 2010 10:59:42 +0000"/>
                            <attachment id="12429634" name="HADOOP-6439-6.patch" size="21046" author="chaitk" created="Thu, 7 Jan 2010 09:35:57 +0000"/>
                            <attachment id="12442271" name="HADOOP-6439-7.patch" size="21171" author="yhemanth" created="Tue, 20 Apr 2010 09:45:37 +0000"/>
                            <attachment id="12426479" name="mr-1252.patch" size="797" author="omalley" created="Tue, 1 Dec 2009 01:06:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0i0hz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>103175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>