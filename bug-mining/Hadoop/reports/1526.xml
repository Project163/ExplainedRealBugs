<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:47:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10703] HttpServer2 creates multiple authentication filters</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10703</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;The HttpServer2.defineFilter creates a Filter instance for each context. By default, there are 3 contexts.&lt;br/&gt;
So there will be 3 separate AuthenticationFilter instances and corresponding AuthenticationHandler instances. This also results in 3 separate initializations of AuthenticationHandler.&lt;br/&gt;
The log file illustrating this repeated initialization is attached.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721286">HADOOP-10703</key>
            <summary>HttpServer2 creates multiple authentication filters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="benoyantony">Benoy Antony</assignee>
                                    <reporter username="benoyantony">Benoy Antony</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Jun 2014 08:55:12 +0000</created>
                <updated>Fri, 24 Apr 2015 22:49:18 +0000</updated>
                            <resolved>Thu, 19 Mar 2015 05:33:58 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.7.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="14031815" author="benoyantony" created="Sun, 15 Jun 2014 08:57:10 +0000"  >&lt;p&gt;The attached patch refactors the HttpServer2  code such that a single filter is created and is shared among different contexts.&lt;/p&gt;</comment>
                            <comment id="14031823" author="hadoopqa" created="Sun, 15 Jun 2014 09:45:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12650478/HADOOP-10703.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12650478/HADOOP-10703.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4071//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4071//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4071//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4071//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14034255" author="daryn" created="Tue, 17 Jun 2014 19:37:33 +0000"  >&lt;p&gt;I think it looks ok, but someone with more jetty knowledge should confirm there&apos;s no unexpected side-effects.&lt;/p&gt;</comment>
                            <comment id="14034277" author="tucu00" created="Tue, 17 Jun 2014 19:53:09 +0000"  >&lt;p&gt;By servlet spec it is expected that servlets/filters instances are not shared among webapps.  If we want to respect that semantics the current behavior is correct, each context (webapp) should have its own instance.&lt;/p&gt;</comment>
                            <comment id="14034358" author="benoyantony" created="Tue, 17 Jun 2014 20:52:51 +0000"  >&lt;p&gt;I quickly  scanned the servlet spec, but could not find the related text.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tucu00&quot; class=&quot;user-hover&quot; rel=&quot;tucu00&quot;&gt;tucu00&lt;/a&gt;, could you please point me to the text ?&lt;/p&gt;

&lt;p&gt;What&apos;s the benefit in creating duplicate filter instances in this use case ?&lt;/p&gt;</comment>
                            <comment id="14292255" author="benoyantony" created="Mon, 26 Jan 2015 19:12:34 +0000"  >&lt;p&gt;Could I please get a review of this patch ?&lt;br/&gt;
We have been running with this change on a our internal clusters for last 6 months and no issue has been detected. &lt;br/&gt;
I have not seen anything in the servlet spec which prohibits sharing filter s across web apps.&lt;/p&gt;</comment>
                            <comment id="14292270" author="hadoopqa" created="Mon, 26 Jan 2015 19:20:38 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12650478/HADOOP-10703.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12650478/HADOOP-10703.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 7574df1.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5482//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5482//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14342069" author="aw" created="Sun, 1 Mar 2015 08:36:09 +0000"  >&lt;p&gt;Cancelling patch, as it no longer applies.&lt;/p&gt;</comment>
                            <comment id="14351160" author="benoyantony" created="Fri, 6 Mar 2015 23:56:42 +0000"  >&lt;p&gt;Rebased the patch with trunk&lt;/p&gt;</comment>
                            <comment id="14353504" author="hadoopqa" created="Mon, 9 Mar 2015 20:09:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12703172/HADOOP-10703-002.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12703172/HADOOP-10703-002.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision de1101c.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestSshFenceByTcpPort&lt;br/&gt;
                  org.apache.hadoop.ipc.TestRPCWaitForProxy&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5892//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5892//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5892//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5892//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14359049" author="arpitagarwal" created="Thu, 12 Mar 2015 17:43:33 +0000"  >&lt;p&gt;+1 for the patch. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benoyantony&quot; class=&quot;user-hover&quot; rel=&quot;benoyantony&quot;&gt;benoyantony&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14359066" author="arpitagarwal" created="Thu, 12 Mar 2015 17:51:34 +0000"  >&lt;p&gt;Also I am holding off committing since &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tucu00&quot; class=&quot;user-hover&quot; rel=&quot;tucu00&quot;&gt;tucu00&lt;/a&gt; has not signed off yet. For my part, I didn&apos;t see anything in the documentation requiring the instances to be unique.&lt;/p&gt;</comment>
                            <comment id="14360649" author="benoyantony" created="Fri, 13 Mar 2015 17:02:01 +0000"  >&lt;p&gt;I plan to commit this on monday.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tucu00&quot; class=&quot;user-hover&quot; rel=&quot;tucu00&quot;&gt;tucu00&lt;/a&gt;, Please let me know if you found any specification which prevents sharing filter instances across webapps. Do let me know, if there are any other objections to this patch.&lt;/p&gt;</comment>
                            <comment id="14360668" author="wheat9" created="Fri, 13 Mar 2015 17:10:11 +0000"  >&lt;p&gt;Please hold off &amp;#8211; I&apos;m not fully convinced myself this is the right thing to do. I&apos;ll take a closer look at the relevant jiras in the upcoming days and come back.&lt;/p&gt;</comment>
                            <comment id="14361213" author="wheat9" created="Fri, 13 Mar 2015 22:33:27 +0000"  >&lt;p&gt;Search around and checked the source code of jetty 6. It looks like that it is common that a single servlet / filter instance serves multiple requests concurrently. Some frameworks might hide the complexity by creating new servlet instance on the fly &amp;#8211; at the very least jetty will dispatch multiple requests to the same servlet based on a quick skim over the code.&lt;/p&gt;

&lt;p&gt;The patch looks quite good for me. Some minor nits:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;     &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] USER_FACING_URLS = { &lt;span class=&quot;code-quote&quot;&gt;&quot;*.html&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;*.jsp&quot;&lt;/span&gt; };
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since we no longer have jsp, I think you can simple merge &lt;tt&gt;USER_FACING_URLS&lt;/tt&gt; into &lt;tt&gt;ALL_URLS&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void defineFilter(Context ctx, FilterHolder holder,
+      FilterMapping fmap ) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There is an additional space in the declaration. +1 once addressed.&lt;/p&gt;</comment>
                            <comment id="14367995" author="wheat9" created="Wed, 18 Mar 2015 21:49:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benoyantony&quot; class=&quot;user-hover&quot; rel=&quot;benoyantony&quot;&gt;benoyantony&lt;/a&gt;, can you please update the patch?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aw&quot; class=&quot;user-hover&quot; rel=&quot;aw&quot;&gt;aw&lt;/a&gt;, does committing this jira mean that &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-5796&quot; title=&quot;The file system browser in the namenode UI requires SPNEGO.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-5796&quot;&gt;&lt;del&gt;HDFS-5796&lt;/del&gt;&lt;/a&gt; is no longer a blocker for 2.7? What are there other things need to be done?&lt;/p&gt;</comment>
                            <comment id="14368058" author="benoyantony" created="Wed, 18 Mar 2015 22:32:56 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wheat9&quot; class=&quot;user-hover&quot; rel=&quot;wheat9&quot;&gt;wheat9&lt;/a&gt;. &lt;br/&gt;
I have updated the patch to address space issue. &lt;/p&gt;

&lt;p&gt;I am not sure about the impact of merging USER_FACING_URLS with ALL_URLS.. Can we please address this in a separate jira ?&lt;/p&gt;</comment>
                            <comment id="14368120" author="wheat9" created="Wed, 18 Mar 2015 23:21:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can we please address this in a separate jira?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure.&lt;/p&gt;

&lt;p&gt;+1 pending jenkins.&lt;/p&gt;</comment>
                            <comment id="14368260" author="hadoopqa" created="Thu, 19 Mar 2015 00:59:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12705455/HADOOP-10703-003.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12705455/HADOOP-10703-003.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 20b4922.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5967//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5967//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5967//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5967//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14368540" author="wheat9" created="Thu, 19 Mar 2015 05:33:58 +0000"  >&lt;p&gt;I&apos;ve committed the patch to trunk, branch-2 and branch-2.7. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benoyantony&quot; class=&quot;user-hover&quot; rel=&quot;benoyantony&quot;&gt;benoyantony&lt;/a&gt; for the contribution.&lt;/p&gt;</comment>
                            <comment id="14368550" author="hudson" created="Thu, 19 Mar 2015 05:47:17 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #7370 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/7370/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/7370/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10703&quot; title=&quot;HttpServer2 creates multiple authentication filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10703&quot;&gt;&lt;del&gt;HADOOP-10703&lt;/del&gt;&lt;/a&gt;. HttpServer2 creates multiple authentication filters. Contributed by Benoy Antony. (wheat9: rev 19b298f6124f98770c0831dc9e13ddfccb525a3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14368904" author="hudson" created="Thu, 19 Mar 2015 11:35:32 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #137 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/137/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/137/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10703&quot; title=&quot;HttpServer2 creates multiple authentication filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10703&quot;&gt;&lt;del&gt;HADOOP-10703&lt;/del&gt;&lt;/a&gt;. HttpServer2 creates multiple authentication filters. Contributed by Benoy Antony. (wheat9: rev 19b298f6124f98770c0831dc9e13ddfccb525a3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14368926" author="hudson" created="Thu, 19 Mar 2015 11:37:12 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #871 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/871/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/871/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10703&quot; title=&quot;HttpServer2 creates multiple authentication filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10703&quot;&gt;&lt;del&gt;HADOOP-10703&lt;/del&gt;&lt;/a&gt;. HttpServer2 creates multiple authentication filters. Contributed by Benoy Antony. (wheat9: rev 19b298f6124f98770c0831dc9e13ddfccb525a3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14369395" author="hudson" created="Thu, 19 Mar 2015 14:37:45 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #2069 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2069/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2069/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10703&quot; title=&quot;HttpServer2 creates multiple authentication filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10703&quot;&gt;&lt;del&gt;HADOOP-10703&lt;/del&gt;&lt;/a&gt;. HttpServer2 creates multiple authentication filters. Contributed by Benoy Antony. (wheat9: rev 19b298f6124f98770c0831dc9e13ddfccb525a3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14369416" author="hudson" created="Thu, 19 Mar 2015 14:39:42 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #128 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/128/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/128/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10703&quot; title=&quot;HttpServer2 creates multiple authentication filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10703&quot;&gt;&lt;del&gt;HADOOP-10703&lt;/del&gt;&lt;/a&gt;. HttpServer2 creates multiple authentication filters. Contributed by Benoy Antony. (wheat9: rev 19b298f6124f98770c0831dc9e13ddfccb525a3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14369442" author="aw" created="Thu, 19 Mar 2015 14:48:08 +0000"  >&lt;p&gt;I&apos;ll see if we can get a trunk build with this up and running today/tomorrow and see if this unblocks us for 2.7.  &lt;/p&gt;</comment>
                            <comment id="14369484" author="hudson" created="Thu, 19 Mar 2015 15:12:02 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #137 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/137/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/137/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10703&quot; title=&quot;HttpServer2 creates multiple authentication filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10703&quot;&gt;&lt;del&gt;HADOOP-10703&lt;/del&gt;&lt;/a&gt;. HttpServer2 creates multiple authentication filters. Contributed by Benoy Antony. (wheat9: rev 19b298f6124f98770c0831dc9e13ddfccb525a3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14369522" author="hudson" created="Thu, 19 Mar 2015 15:23:06 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #2087 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2087/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2087/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10703&quot; title=&quot;HttpServer2 creates multiple authentication filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10703&quot;&gt;&lt;del&gt;HADOOP-10703&lt;/del&gt;&lt;/a&gt;. HttpServer2 creates multiple authentication filters. Contributed by Benoy Antony. (wheat9: rev 19b298f6124f98770c0831dc9e13ddfccb525a3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14369876" author="rsasson" created="Thu, 19 Mar 2015 18:40:52 +0000"  >&lt;p&gt;This patch does not fix the issue for authentication with a custom alt-kerberos class, when browsing to the dfs file browser the console log says &quot;Failed to load resource: the server responded with a status of 401 (org.apache.hadoop.security.authentication.util.SignerException: Invalid signature)&quot; indicating that WebHDFS is not accepting the signature from the hadoop.auth cookie issued when accessing the namenode UI.&lt;/p&gt;

&lt;p&gt;The core of the problem is that the WebHDFS authentication filter is still being initialized differently compared to the rest of the filters (which are configured to be initialized with the AuthenticationFilterInitializer class). Unifying the initialization of the WebHDFS authentication filter with the other filters will fix this issue.&lt;/p&gt;</comment>
                            <comment id="14370161" author="wheat9" created="Thu, 19 Mar 2015 21:32:28 +0000"  >&lt;p&gt;Thanks for the explanation. Does it mean that unifying the signer for all authentication filter will resolve the issue?&lt;/p&gt;</comment>
                            <comment id="14372095" author="rsasson" created="Fri, 20 Mar 2015 21:00:59 +0000"  >&lt;p&gt;Unifying the signers and allowing WebHDFS to be configured with an alt-kerberos auth handler sub class will resolve the issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12783060">HADOOP-11728</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12721503">HADOOP-10709</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12703172" name="HADOOP-10703-002.patch" size="3762" author="benoyantony" created="Fri, 6 Mar 2015 23:56:42 +0000"/>
                            <attachment id="12705455" name="HADOOP-10703-003.patch" size="3761" author="benoyantony" created="Wed, 18 Mar 2015 22:32:56 +0000"/>
                            <attachment id="12650478" name="HADOOP-10703.patch" size="3774" author="benoyantony" created="Sun, 15 Jun 2014 08:57:10 +0000"/>
                            <attachment id="12650477" name="multiple-authenticationfilter-inits.log" size="2967" author="benoyantony" created="Sun, 15 Jun 2014 08:56:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wrqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399591</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>