<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:44:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10171] TestRPC fails intermittently on jkd7</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10171</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Branch-2 runs JDK7 which has a random test order. So we get an error in TestRPC (testStopsAllThreads) failing on the AssertEquals.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12685192">HADOOP-10171</key>
            <summary>TestRPC fails intermittently on jkd7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mitdesai">Mit Desai</assignee>
                                    <reporter username="mitdesai">Mit Desai</reporter>
                        <labels>
                            <label>java7</label>
                    </labels>
                <created>Tue, 17 Dec 2013 15:53:41 +0000</created>
                <updated>Wed, 3 Sep 2014 23:33:17 +0000</updated>
                            <resolved>Wed, 18 Dec 2013 17:13:02 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13850603" author="mitdesai" created="Tue, 17 Dec 2013 16:04:56 +0000"  >&lt;p&gt;testRPCInterruptedSimple and testRPCInterrupted started a server which they never stopped leaving some of the threads behind.&lt;/p&gt;

&lt;p&gt;Attaching the patch to solve the problrm&lt;/p&gt;</comment>
                            <comment id="13850653" author="jeagles" created="Tue, 17 Dec 2013 16:50:00 +0000"  >&lt;p&gt;Mit, Thanks for filing this issue and beginning the work. It really help move the Hadoop project allow. Couple of helpful (I hope) hints. I see the TestRPC test also fails on trunk in the same way, when running with JDK7. Perhaps let&apos;s update the summary to reflect the issue. In addition, I have been labeling jdk7 issues with the java7 label to help track all issue that fail as part of the jdk7 migration. Lastly, the patch you have provided applies to branch-2 but not trunk. Here is how contributors navigate that scenario, though there is no rule. In general, work is contributed to trunk and then merged to appropriate branches. If a patch will apply to trunk and all destination branches, then name that patch like you have. If a patch is for a particular branch then the patch name should reflect the branch so as to reflect its destination (suggestion &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10171&quot; title=&quot;TestRPC fails intermittently on jkd7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10171&quot;&gt;&lt;del&gt;HADOOP-10171&lt;/del&gt;&lt;/a&gt;-branch-2.patch). A comment can be made describing the destination of each patch files attached to the jira. In the case like we have above please provide two separate patches, one for trunk and one for branch-2. In order not to confuse jenkins, attach the patch for trunk last, since jenkins will use the last attached file and apply that to trunk to produce the Hadoop QA test-patch report. This will allow you to submit your patch, while having patches for multiple branches. Sorry for the lengthy message, but hope that it helps.&lt;/p&gt;

&lt;p&gt;Jon&lt;/p&gt;</comment>
                            <comment id="13850686" author="mitdesai" created="Tue, 17 Dec 2013 17:15:57 +0000"  >&lt;p&gt;Thanks Jon for the helpful tips.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I had checked the code for trunk and I saw that the changes that I had for branch2 were already in there. But I will investigate more and find out what is causing the problem.&lt;/li&gt;
	&lt;li&gt;For the patch name, I am deleting the old patch re-uploading the patch with the modified name to make it more clear to understand.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13850704" author="mitdesai" created="Tue, 17 Dec 2013 17:36:30 +0000"  >&lt;p&gt;Attaching the patch for trunk.&lt;/p&gt;

&lt;p&gt;Thanks Jon for pointing this out. On further investigation, I found that the server was not being stopped in #testConnectionPing. It is now fixed.&lt;/p&gt;

&lt;p&gt;PS: This test was also the issue in branch-2. I just forgot to mention the test name in the comment above&lt;/p&gt;</comment>
                            <comment id="13850714" author="jeagles" created="Tue, 17 Dec 2013 17:49:14 +0000"  >&lt;p&gt;Thanks for addressing the comments so quickly, Mit. I&apos;m +1 on these changes pending +1 from Hadoop QA.&lt;/p&gt;</comment>
                            <comment id="13850734" author="hadoopqa" created="Tue, 17 Dec 2013 18:14:44 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12619133/HADOOP-10171-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12619133/HADOOP-10171-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3364//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3364//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3364//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3364//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13851924" author="jeagles" created="Wed, 18 Dec 2013 17:13:02 +0000"  >&lt;p&gt;Thanks, Mit.&lt;/p&gt;</comment>
                            <comment id="13851926" author="hudson" created="Wed, 18 Dec 2013 17:16:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #4909 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/4909/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/4909/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10171&quot; title=&quot;TestRPC fails intermittently on jkd7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10171&quot;&gt;&lt;del&gt;HADOOP-10171&lt;/del&gt;&lt;/a&gt;. TestRPC fails intermittently on jkd7 (Mit Desai via jeagles) (jeagles: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1552024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1552024&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13853112" author="hudson" created="Thu, 19 Dec 2013 18:29:49 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #426 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/426/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/426/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10171&quot; title=&quot;TestRPC fails intermittently on jkd7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10171&quot;&gt;&lt;del&gt;HADOOP-10171&lt;/del&gt;&lt;/a&gt;. TestRPC fails intermittently on jkd7 (Mit Desai via jeagles) (jeagles: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1552024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1552024&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13853206" author="hudson" created="Thu, 19 Dec 2013 19:46:21 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1643 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1643/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1643/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10171&quot; title=&quot;TestRPC fails intermittently on jkd7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10171&quot;&gt;&lt;del&gt;HADOOP-10171&lt;/del&gt;&lt;/a&gt;. TestRPC fails intermittently on jkd7 (Mit Desai via jeagles) (jeagles: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1552024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1552024&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13853224" author="hudson" created="Thu, 19 Dec 2013 19:54:14 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1617 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1617/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1617/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10171&quot; title=&quot;TestRPC fails intermittently on jkd7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10171&quot;&gt;&lt;del&gt;HADOOP-10171&lt;/del&gt;&lt;/a&gt;. TestRPC fails intermittently on jkd7 (Mit Desai via jeagles) (jeagles: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1552024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1552024&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619132" name="HADOOP-10171-branch-2.patch" size="1035" author="mitdesai" created="Tue, 17 Dec 2013 17:15:57 +0000"/>
                            <attachment id="12619133" name="HADOOP-10171-trunk.patch" size="598" author="mitdesai" created="Tue, 17 Dec 2013 17:36:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qsdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>