<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:46:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-11161] Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-11161</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;The &lt;tt&gt;KMSClientProvider&lt;/tt&gt; class needs to be have a &lt;tt&gt;close()&lt;/tt&gt; method to shutdown back ground executor threads.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;DFSClient&lt;/tt&gt; creates an instance of a &lt;tt&gt;KeyProvider&lt;/tt&gt; during initialization. If this KP is a &lt;tt&gt;KMSClientProvider&lt;/tt&gt;, this needs to be closed to prevent thread leakage&lt;/p&gt;</description>
                <environment></environment>
        <key id="12745739">HADOOP-11161</key>
            <summary>Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asuresh">Arun Suresh</assignee>
                                    <reporter username="asuresh">Arun Suresh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Oct 2014 14:15:44 +0000</created>
                <updated>Mon, 1 Dec 2014 03:08:38 +0000</updated>
                            <resolved>Thu, 9 Oct 2014 01:02:54 +0000</resolved>
                                                    <fixVersion>2.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14158023" author="asuresh" created="Fri, 3 Oct 2014 14:16:35 +0000"  >&lt;p&gt;Uploading initial patch..&lt;/p&gt;</comment>
                            <comment id="14158129" author="atm" created="Fri, 3 Oct 2014 16:00:18 +0000"  >&lt;p&gt;Makes sense, and the patch looks good to me. +1 pending Jenkins.&lt;/p&gt;

&lt;p&gt;Thanks, Arun.&lt;/p&gt;</comment>
                            <comment id="14158272" author="asuresh" created="Fri, 3 Oct 2014 18:10:07 +0000"  >&lt;p&gt;Updating patch&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Modified &lt;tt&gt;ValueQueue&lt;/tt&gt; to prestart the executor core threads only when needed (on first request to generateEncrytedKey)..&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14158298" author="schu" created="Fri, 3 Oct 2014 18:26:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asuresh&quot; class=&quot;user-hover&quot; rel=&quot;asuresh&quot;&gt;asuresh&lt;/a&gt;, do we have to check if provider == null in DFSClient#close?&lt;/p&gt;

&lt;p&gt;I see elsewhere in DFSClient we check if provider == null before use.&lt;/p&gt;</comment>
                            <comment id="14158310" author="asuresh" created="Fri, 3 Oct 2014 18:30:52 +0000"  >&lt;p&gt;Updating patch..&lt;br/&gt;
Nice catch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schu&quot; class=&quot;user-hover&quot; rel=&quot;schu&quot;&gt;schu&lt;/a&gt; .. thanx&lt;/p&gt;</comment>
                            <comment id="14158330" author="lmccay" created="Fri, 3 Oct 2014 18:39:29 +0000"  >&lt;p&gt;I am little concerned that we are introducing a lifecycle method close() without a real lifecycle definition for KeyProviders.&lt;br/&gt;
It seems the latest update to the patch is speaking to my concern.&lt;/p&gt;

&lt;p&gt;Once you close a KeyProvider - is it capable of being used or do you need to get a new one?&lt;/p&gt;

&lt;p&gt;Do we need an initialize()?&lt;br/&gt;
Do all consumers of all KeyProviders - not just the crypto extension - need to call close when done?&lt;br/&gt;
The algorithm of traversing a configured provider.path would need to incorporate any lifecycle methods.&lt;/p&gt;

&lt;p&gt;If we need to manage internal state of the providers than we need a full lifecycle story - I think.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="14158382" author="asuresh" created="Fri, 3 Oct 2014 19:06:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lmccay&quot; class=&quot;user-hover&quot; rel=&quot;lmccay&quot;&gt;lmccay&lt;/a&gt;, thank you for the review and your feedback..&lt;br/&gt;
but, I don&apos;t think of &lt;tt&gt;close()&lt;/tt&gt; as a full lifecycle method per se. But yes, I do understand your concern about making it clear to the client that once closed, it should not be used.. Would having &lt;tt&gt;KeyProvider&lt;/tt&gt; implement &lt;tt&gt;java.io.Closable&lt;/tt&gt; address your concern ?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If we need to manage internal state of the providers than we need a full lifecycle story &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Not really sure I understand why.. consider Streams, the ByteArrayInput/OutputStream has a NO-OP close method, while most of the others have..  all of them manage some internal state.. without full lifecycle methods..&lt;/p&gt;</comment>
                            <comment id="14158402" author="lmccay" created="Fri, 3 Oct 2014 19:26:42 +0000"  >&lt;p&gt;hmmm...&lt;br/&gt;
It seems to me that if you shouldn&apos;t use the provider after calling close() that it is a lifecycle method - you just killed it. That is how I read what you said - that it shouldn&apos;t be used again. If that isn&apos;t true then I am less concerned.&lt;/p&gt;

&lt;p&gt;Otherwise, I just wanted to make sure that if we were introducing a lifecycle that each stage is represented. Seems like the need for the close() may be pointing out  a smell in the original design of KeyProvider or of the extension for crypto. We just need to address the whole smell. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;If there is no larger issue and closing and throwing away a provider after each use solves all such circumstances - then that may be just fine.&lt;/p&gt;

&lt;p&gt;Just some thoughts.&lt;/p&gt;</comment>
                            <comment id="14158435" author="atm" created="Fri, 3 Oct 2014 19:50:15 +0000"  >&lt;p&gt;I think in general a lot of classes support a &lt;tt&gt;close()&lt;/tt&gt; method to indicate that internal resources can be released, that don&apos;t need to go whole-hog with a life cycle state machine. That&apos;s why java has the &lt;tt&gt;Closeable&lt;/tt&gt; interface in the first place.&lt;/p&gt;

&lt;p&gt;In any case, I think we can entirely reasonably add a &lt;tt&gt;close()&lt;/tt&gt; call now, and revisit the need for an &lt;tt&gt;init()&lt;/tt&gt; method at a later time. Given the fact that we&apos;re introducing a no-op concrete method, and not an abstract method, there should be no compatibility implications here.&lt;/p&gt;

&lt;p&gt;Larry, to be explicit, are you OK with me committing the latest patch as-is?&lt;/p&gt;</comment>
                            <comment id="14158442" author="lmccay" created="Fri, 3 Oct 2014 19:56:42 +0000"  >&lt;p&gt;Yes, I think it is reasonable to address the need for init when it arises.&lt;br/&gt;
Thank you for asking.&lt;/p&gt;

&lt;p&gt;Can someone just confirm my assertion that providers should only be used once given this change?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;owen.omalley&lt;/a&gt; - do you have an opinion here?&lt;/p&gt;</comment>
                            <comment id="14158915" author="hadoopqa" created="Sat, 4 Oct 2014 03:19:53 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12672808/HADOOP-11161.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12672808/HADOOP-11161.3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 7f6ed7f.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.hdfs.server.namenode.ha.TestPipelinesFailover&lt;br/&gt;
                  org.apache.hadoop.hdfs.TestEncryptionZonesWithKMS&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4861//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4861//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4861//artifact/patchprocess/newPatchFindbugsWarningshadoop-hdfs.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4861//artifact/patchprocess/newPatchFindbugsWarningshadoop-hdfs.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4861//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4861//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14159087" author="asuresh" created="Sat, 4 Oct 2014 11:51:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lmccay&quot; class=&quot;user-hover&quot; rel=&quot;lmccay&quot;&gt;lmccay&lt;/a&gt;,&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;.. confirm my assertion that providers should only be used once given this change ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Short answer : Yes&lt;br/&gt;
Clients must assume that calling the &lt;tt&gt;close()&lt;/tt&gt; method implies that the KP should not be used again. But the actual behavior would depend on the implementation. To quote my previous example, Input/Output streams should in general not be used after calling &lt;tt&gt;close()&lt;/tt&gt;, but the method has no effect on &lt;tt&gt;ByteArrayInput/OputputStream&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="14161236" author="atm" created="Mon, 6 Oct 2014 23:57:53 +0000"  >&lt;p&gt;Heads up that if there are no further comments on this I&apos;m going to commit the latest patch some time tomorrow most likely.&lt;/p&gt;</comment>
                            <comment id="14164464" author="hadoopqa" created="Thu, 9 Oct 2014 00:27:40 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12672808/HADOOP-11161.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12672808/HADOOP-11161.3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 7b29f99.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;        &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.hdfs.server.namenode.ha.TestDNFencingWithReplication&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4883//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4883//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4883//artifact/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4883//artifact/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4883//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4883//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14164496" author="atm" created="Thu, 9 Oct 2014 00:56:59 +0000"  >&lt;p&gt;+1, the latest patch looks good to me. Writing a test to exercise this leak would be quite difficult, and I&apos;m confident that the release audit and test failure are unrelated. The tests fails locally for me without the patch, and the RAT warning has been showing up in other builds as well and I believe is referencing a file unrelated to this patch.&lt;/p&gt;

&lt;p&gt;I&apos;m going to commit this momentarily.&lt;/p&gt;</comment>
                            <comment id="14164505" author="atm" created="Thu, 9 Oct 2014 01:02:54 +0000"  >&lt;p&gt;I&apos;ve just committed this to trunk, branch-2, and branch-2.6.&lt;/p&gt;

&lt;p&gt;Thanks a lot for the contribution, Arun, and thanks also to Larry and Stephen for the reviews.&lt;/p&gt;</comment>
                            <comment id="14164524" author="hudson" created="Thu, 9 Oct 2014 01:11:40 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #6219 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/6219/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/6219/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11161&quot; title=&quot;Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11161&quot;&gt;&lt;del&gt;HADOOP-11161&lt;/del&gt;&lt;/a&gt;. Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources. Contribued by Arun Suresh. (atm: rev 2a51494ce1b05fc494fb3a818a7a3526f3f40070)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProviderCryptoExtension.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/ValueQueue.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/KMSClientProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProvider.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14165044" author="hudson" created="Thu, 9 Oct 2014 11:43:07 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Yarn-trunk #706 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/706/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/706/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11161&quot; title=&quot;Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11161&quot;&gt;&lt;del&gt;HADOOP-11161&lt;/del&gt;&lt;/a&gt;. Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources. Contribued by Arun Suresh. (atm: rev 2a51494ce1b05fc494fb3a818a7a3526f3f40070)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/KMSClientProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProviderCryptoExtension.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/ValueQueue.java&lt;/li&gt;
	&lt;li&gt;hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14165149" author="hudson" created="Thu, 9 Oct 2014 13:56:01 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1896 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1896/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1896/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11161&quot; title=&quot;Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11161&quot;&gt;&lt;del&gt;HADOOP-11161&lt;/del&gt;&lt;/a&gt;. Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources. Contribued by Arun Suresh. (atm: rev 2a51494ce1b05fc494fb3a818a7a3526f3f40070)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProviderCryptoExtension.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/ValueQueue.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/KMSClientProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProvider.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14165240" author="hudson" created="Thu, 9 Oct 2014 15:10:16 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1921 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1921/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1921/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11161&quot; title=&quot;Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11161&quot;&gt;&lt;del&gt;HADOOP-11161&lt;/del&gt;&lt;/a&gt;. Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources. Contribued by Arun Suresh. (atm: rev 2a51494ce1b05fc494fb3a818a7a3526f3f40070)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProviderCryptoExtension.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/KMSClientProvider.java&lt;/li&gt;
	&lt;li&gt;hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/kms/ValueQueue.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/crypto/key/KeyProvider.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12672773" name="HADOOP-11161.1.patch" size="3739" author="asuresh" created="Fri, 3 Oct 2014 14:16:35 +0000"/>
                            <attachment id="12672803" name="HADOOP-11161.2.patch" size="5684" author="asuresh" created="Fri, 3 Oct 2014 18:10:07 +0000"/>
                            <attachment id="12672808" name="HADOOP-11161.3.patch" size="5726" author="asuresh" created="Fri, 3 Oct 2014 18:30:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20rt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>