<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:55:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-16774] TestDiskChecker and TestReadWriteDiskValidator fails when run with -Pparallel-tests</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-16774</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$  mvn test -Pparallel-tests -Dtest=TestReadWriteDiskValidator,TestDiskChecker -Pnative
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Results:
[INFO] 
[ERROR] Errors: 
[ERROR]   TestDiskChecker.testCheckDir_normal:111-&amp;gt;_checkDirs:158-&amp;gt;createTempDir:153 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_normal_local:180-&amp;gt;checkDirs:205-&amp;gt;createTempDir:153 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_notDir:116-&amp;gt;_checkDirs:158-&amp;gt;createTempFile:142 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_notDir_local:185-&amp;gt;checkDirs:205-&amp;gt;createTempFile:142 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_notListable:131-&amp;gt;_checkDirs:158-&amp;gt;createTempDir:153 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_notListable_local:200-&amp;gt;checkDirs:205-&amp;gt;createTempDir:153 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_notReadable:121-&amp;gt;_checkDirs:158-&amp;gt;createTempDir:153 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_notReadable_local:190-&amp;gt;checkDirs:205-&amp;gt;createTempDir:153 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_notWritable:126-&amp;gt;_checkDirs:158-&amp;gt;createTempDir:153 &#187; NoSuchFile
[ERROR]   TestDiskChecker.testCheckDir_notWritable_local:195-&amp;gt;checkDirs:205-&amp;gt;createTempDir:153 &#187; NoSuchFile
[ERROR]   TestReadWriteDiskValidator.testCheckFailures:114 &#187; NoSuchFile /usr1/code/hadoo...
[ERROR]   TestReadWriteDiskValidator.testReadWriteDiskValidator:62 &#187; DiskError Disk Chec...
[INFO] 
[ERROR] Tests run: 16, Failures: 0, Errors: 12, Skipped: 0

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13275753">HADOOP-16774</key>
            <summary>TestDiskChecker and TestReadWriteDiskValidator fails when run with -Pparallel-tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vinayakumarb">Vinayakumar B</assignee>
                                    <reporter username="vinayakumarb">Vinayakumar B</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2019 15:55:36 +0000</created>
                <updated>Fri, 20 Dec 2019 18:51:24 +0000</updated>
                            <resolved>Fri, 20 Dec 2019 18:39:12 +0000</resolved>
                                                    <fixVersion>3.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17000988" author="vinayrpet" created="Fri, 20 Dec 2019 16:06:34 +0000"  >&lt;p&gt;Created the PR. Please review.&lt;/p&gt;

&lt;p&gt;&#160;Rootcause:&lt;/p&gt;

&lt;p&gt;These tests will not create the parent dirs for tests. If test dir is not available, then fails as above&lt;/p&gt;

&lt;p&gt;In parallel-tests separate dirs needs to be created for each fork thread.&#160;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;tt&gt;parallel-tests-createdir&lt;/tt&gt; goal was not configured with &lt;tt&gt;test.build.data&lt;/tt&gt; configuration. It was creating default dirs, but tests expect different dir.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;parallel-tests-createdir&lt;/tt&gt; also should be configured to run after &lt;tt&gt;create-log-dirs&lt;/tt&gt; to avoid deletion of test dirs. Right now, &lt;tt&gt;parallel-tests-createdir&lt;/tt&gt; runs first and creates some dirs and&#160;&lt;tt&gt;create-log-dirs&#160;&lt;/tt&gt; deletes the &lt;tt&gt;target/test/data&lt;/tt&gt; itself. Before recreating only &lt;tt&gt;target/test/data&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="17000990" author="ayushtkn" created="Fri, 20 Dec 2019 16:10:14 +0000"  >&lt;p&gt;Thanx &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vinayakumarb&quot; class=&quot;user-hover&quot; rel=&quot;vinayakumarb&quot;&gt;vinayakumarb&lt;/a&gt; for the analysis.&lt;/p&gt;

&lt;p&gt;The analysis and the fix LGTM +1&lt;/p&gt;</comment>
                            <comment id="17001080" author="vinayrpet" created="Fri, 20 Dec 2019 18:39:12 +0000"  >&lt;p&gt;PR is merged.&lt;/p&gt;</comment>
                            <comment id="17001081" author="vinayrpet" created="Fri, 20 Dec 2019 18:39:33 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ayushtkn&quot; class=&quot;user-hover&quot; rel=&quot;ayushtkn&quot;&gt;ayushtkn&lt;/a&gt;&#160;for review.&lt;/p&gt;</comment>
                            <comment id="17001089" author="hudson" created="Fri, 20 Dec 2019 18:51:24 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #17785 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/17785/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/17785/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-16774&quot; title=&quot;TestDiskChecker and TestReadWriteDiskValidator fails when run with -Pparallel-tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-16774&quot;&gt;&lt;del&gt;HADOOP-16774&lt;/del&gt;&lt;/a&gt;. TestDiskChecker and TestReadWriteDiskValidator fails when (GitHub: rev e2a5448d2b02b40ea7d5cc09787f995fe0d253d0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) hadoop-common-project/hadoop-common/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09vyo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>