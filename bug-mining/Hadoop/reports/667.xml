<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:40:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-8684] Deadlock between WritableComparator and WritableComparable</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-8684</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Classes implementing WriableComparable in Hadoop call the method WritableComparator.define() in their static initializers. This means, the classes call the method define() while thier class loading, under locking their class objects. And, the method WritableComparator.define() locks the WritableComaprator class object.&lt;/p&gt;

&lt;p&gt;On the other hand, WritableComparator.get() also locks the WritableComparator class object, and the method may create instances of the targeted comparable class, involving loading the targeted comparable class if any. This means, the method might try to lock the targeted comparable class object under locking the WritableComparator class object.&lt;/p&gt;

&lt;p&gt;There are reversed orders of locking objects, and you might fall in deadlock.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12602731">HADOOP-8684</key>
            <summary>Deadlock between WritableComparator and WritableComparable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jingzhao">Jing Zhao</assignee>
                                    <reporter username="ikeda">Hiroshi Ikeda</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Aug 2012 01:17:22 +0000</created>
                <updated>Thu, 12 May 2016 18:26:03 +0000</updated>
                            <resolved>Fri, 31 Aug 2012 17:02:06 +0000</resolved>
                                    <version>1.0.3</version>
                    <version>3.0.0-alpha1</version>
                                    <fixVersion>0.23.4</fixVersion>
                    <fixVersion>2.0.3-alpha</fixVersion>
                                    <component>io</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13432382" author="ikeda" created="Fri, 10 Aug 2012 01:46:05 +0000"  >&lt;p&gt;Sample application for the deadlock.&lt;/p&gt;</comment>
                            <comment id="13443665" author="jingzhao" created="Tue, 28 Aug 2012 23:45:04 +0000"  >&lt;p&gt;Try to switch the locking sequence in WritableComparator#get in this patch. &lt;/p&gt;</comment>
                            <comment id="13443902" author="hadoopqa" created="Wed, 29 Aug 2012 08:22:40 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12542865/Hadoop-8684.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12542865/Hadoop-8684.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1378//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1378//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1378//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1378//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13444329" author="jingzhao" created="Wed, 29 Aug 2012 19:05:46 +0000"  >&lt;p&gt;seems the comparators should be declared as volatile.&lt;/p&gt;</comment>
                            <comment id="13444365" author="hadoopqa" created="Wed, 29 Aug 2012 19:58:38 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12542965/Hadoop-8684.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12542965/Hadoop-8684.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestZKFailoverController&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1382//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1382//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1382//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1382//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13444547" author="jingzhao" created="Wed, 29 Aug 2012 23:46:03 +0000"  >&lt;p&gt;We do not need the &quot;volatile&quot; so switch back to the original version. Now in the patch, the locking sequence corresponding to WritableComparator#define() is 1) lock L1 of the targeted comparable class object, and 2) lock L2 in WritableComparator, and 3) lock L3 in WritableComparator#comparators (which is a ConcurrentHashMap), and 4) release lock L3, and 5) release lock L2, and 6) release lock in L1. The lock sequence of get: lock L3 --&amp;gt; unlock L3 --&amp;gt; lock L1 of targeted comparable class object --&amp;gt; unlock L1 --&amp;gt; lock L2 --&amp;gt; unlock L2. So we should be able to avoid the deadlock now.&lt;/p&gt;</comment>
                            <comment id="13444576" author="sureshms" created="Thu, 30 Aug 2012 00:47:53 +0000"  >&lt;p&gt;Very interesting problem! Nice solution Jing.&lt;/p&gt;

&lt;p&gt;Did you run the test code with this patch?&lt;br/&gt;
One thing I do notice is with your solution an extra call to forceInit() may be made. I believe this should not be an issue.&lt;/p&gt;</comment>
                            <comment id="13444577" author="hadoopqa" created="Thu, 30 Aug 2012 00:49:02 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12543008/Hadoop-8684.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12543008/Hadoop-8684.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1386//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1386//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1386//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1386//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13444591" author="ikeda" created="Thu, 30 Aug 2012 01:14:59 +0000"  >&lt;p&gt;I think the reentrant lock is not needed.&lt;br/&gt;
In each of the sections guraded by the reentrant lock, the concurrent map is accessed only once.&lt;/p&gt;

&lt;p&gt;Incidentally, I think it is better to make the concurrent map to be final.&lt;/p&gt;</comment>
                            <comment id="13444654" author="sureshms" created="Thu, 30 Aug 2012 04:01:26 +0000"  >&lt;p&gt;Yes,I forgot to include that - we could just use synchronized. &lt;/p&gt;

&lt;p&gt;Once you address Hiroshi&apos;s comments, I will commit the patch.&lt;/p&gt;</comment>
                            <comment id="13444671" author="jingzhao" created="Thu, 30 Aug 2012 04:38:17 +0000"  >&lt;p&gt;Suresh and Hiroshi: thanks for the comments! I changed from reentrantlock to synchronized (I use the synchronized here to keep the same semantic with the original version). And the test program runs well with the patch.&lt;/p&gt;</comment>
                            <comment id="13444688" author="hadoopqa" created="Thu, 30 Aug 2012 05:20:08 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12543033/Hadoop-8684.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12543033/Hadoop-8684.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestZKFailoverController&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1387//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1387//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1387//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1387//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13444702" author="ikeda" created="Thu, 30 Aug 2012 05:35:35 +0000"  >&lt;p&gt;I&apos;m not sure why the synchronized is needed.&lt;br/&gt;
Do you mean, it is possible that someone locks the WritableComparator class object in other places in order to interfere in the define/get methods?&lt;/p&gt;</comment>
                            <comment id="13445078" author="jingzhao" created="Thu, 30 Aug 2012 16:46:17 +0000"  >&lt;p&gt;In the WritableComparator#get() a double check is used to replace the original synchronized static method. So I keep the synchronized in the double check to make sure there is no put operation happening during the second check and the construction of a generic comparator. But the synchronized can be omitted if we do not need to keep this semantic.&lt;/p&gt;</comment>
                            <comment id="13445504" author="jingzhao" created="Fri, 31 Aug 2012 00:26:08 +0000"  >&lt;p&gt;Hiroshi, you&apos;re right! The synchronized is not necessary and since in forceInit something has been already added into the comparators. I will remove the synchronized from the patch.&lt;/p&gt;</comment>
                            <comment id="13445537" author="hadoopqa" created="Fri, 31 Aug 2012 01:04:56 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12543207/Hadoop-8684.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12543207/Hadoop-8684.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1390//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1390//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1390//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1390//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13445695" author="sureshms" created="Fri, 31 Aug 2012 05:45:04 +0000"  >&lt;p&gt;Hiroshi, given you have done a better job reviewing this than me, I will commit this if you +1 this. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13445723" author="ikeda" created="Fri, 31 Aug 2012 06:40:14 +0000"  >&lt;p&gt;+1. I think it works well. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13446131" author="sureshms" created="Fri, 31 Aug 2012 17:02:06 +0000"  >&lt;p&gt;I committed the change to Trunk. This change has been tested using the test written by Hiroshi manually.&lt;/p&gt;

&lt;p&gt;Thank you Hiroshi and Jing.&lt;/p&gt;</comment>
                            <comment id="13446139" author="hudson" created="Fri, 31 Aug 2012 17:15:02 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk-Commit #2721 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2721/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2721/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8684&quot; title=&quot;Deadlock between WritableComparator and WritableComparable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8684&quot;&gt;&lt;del&gt;HADOOP-8684&lt;/del&gt;&lt;/a&gt;. Deadlock between WritableComparator and WritableComparable. Contributed by Jing Zhao (Revision 1379506)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/WritableComparator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13446140" author="hudson" created="Fri, 31 Aug 2012 17:15:55 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #2658 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2658/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2658/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8684&quot; title=&quot;Deadlock between WritableComparator and WritableComparable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8684&quot;&gt;&lt;del&gt;HADOOP-8684&lt;/del&gt;&lt;/a&gt;. Deadlock between WritableComparator and WritableComparable. Contributed by Jing Zhao (Revision 1379506)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/WritableComparator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13446203" author="hudson" created="Fri, 31 Aug 2012 18:23:08 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk-Commit #2687 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2687/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2687/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8684&quot; title=&quot;Deadlock between WritableComparator and WritableComparable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8684&quot;&gt;&lt;del&gt;HADOOP-8684&lt;/del&gt;&lt;/a&gt;. Deadlock between WritableComparator and WritableComparable. Contributed by Jing Zhao (Revision 1379506)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/WritableComparator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13446684" author="hudson" created="Sat, 1 Sep 2012 12:56:29 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1152 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1152/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1152/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8684&quot; title=&quot;Deadlock between WritableComparator and WritableComparable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8684&quot;&gt;&lt;del&gt;HADOOP-8684&lt;/del&gt;&lt;/a&gt;. Deadlock between WritableComparator and WritableComparable. Contributed by Jing Zhao (Revision 1379506)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/WritableComparator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13446712" author="hudson" created="Sat, 1 Sep 2012 14:00:56 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1183 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1183/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1183/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8684&quot; title=&quot;Deadlock between WritableComparator and WritableComparable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8684&quot;&gt;&lt;del&gt;HADOOP-8684&lt;/del&gt;&lt;/a&gt;. Deadlock between WritableComparator and WritableComparable. Contributed by Jing Zhao (Revision 1379506)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379506&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/WritableComparator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13464074" author="revans2" created="Wed, 26 Sep 2012 19:11:55 +0000"  >&lt;p&gt;I pulled this into branch-2, and branch-0.23&lt;/p&gt;</comment>
                            <comment id="13464672" author="hudson" created="Thu, 27 Sep 2012 12:42:09 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-0.23-Build #387 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/387/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/387/&lt;/a&gt;)&lt;br/&gt;
    svn merge -c 1379506 FIXES: &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8684&quot; title=&quot;Deadlock between WritableComparator and WritableComparable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8684&quot;&gt;&lt;del&gt;HADOOP-8684&lt;/del&gt;&lt;/a&gt;. Deadlock between WritableComparator and WritableComparable. Contributed by Jing Zhao (Revision 1390677)&lt;/p&gt;

&lt;p&gt;     Result = UNSTABLE&lt;br/&gt;
bobby : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390677&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390677&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/WritableComparator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12543207" name="Hadoop-8684.patch" size="2217" author="jingzhao" created="Fri, 31 Aug 2012 00:36:00 +0000"/>
                            <attachment id="12543033" name="Hadoop-8684.patch" size="2859" author="jingzhao" created="Thu, 30 Aug 2012 04:38:17 +0000"/>
                            <attachment id="12543008" name="Hadoop-8684.patch" size="2861" author="jingzhao" created="Wed, 29 Aug 2012 23:46:03 +0000"/>
                            <attachment id="12542965" name="Hadoop-8684.patch" size="2870" author="jingzhao" created="Wed, 29 Aug 2012 19:05:46 +0000"/>
                            <attachment id="12542865" name="Hadoop-8684.patch" size="2861" author="jingzhao" created="Tue, 28 Aug 2012 23:45:04 +0000"/>
                            <attachment id="12540176" name="WritableComparatorDeadLockTestApp.java" size="1748" author="ikeda" created="Fri, 10 Aug 2012 01:46:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246726</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07sqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>