<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:32:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6243] NPE in handling deprecated configuration keys.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6243</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;I run TestFileCreation in Eclipse and get a NullPointerException. Debugging shows that &lt;tt&gt;Configuration.populateDeprecationMapping()&lt;/tt&gt; sets &lt;tt&gt;Configuration.properties&lt;/tt&gt; to null.&lt;br/&gt;
This code was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12435035">HADOOP-6243</key>
            <summary>NPE in handling deprecated configuration keys.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sreekanth">Sreekanth Ramakrishnan</assignee>
                                    <reporter username="shv">Konstantin Shvachko</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Sep 2009 19:27:35 +0000</created>
                <updated>Tue, 24 Aug 2010 20:39:43 +0000</updated>
                            <resolved>Tue, 8 Sep 2009 16:14:14 +0000</resolved>
                                    <version>0.21.0</version>
                                    <fixVersion>0.21.0</fixVersion>
                                    <component>conf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="12752246" author="shv" created="Mon, 7 Sep 2009 19:30:06 +0000"  >&lt;p&gt;Running the same test using ant command line works fine. Don&apos;t know what the difference is.&lt;/p&gt;</comment>
                            <comment id="12752324" author="yhemanth" created="Tue, 8 Sep 2009 03:48:45 +0000"  >&lt;p&gt;Chaitanya, Can you please take a look ? Please note Konstantin&apos;s helpful clues about difference in environment.&lt;/p&gt;</comment>
                            <comment id="12752373" author="yhemanth" created="Tue, 8 Sep 2009 08:01:49 +0000"  >&lt;p&gt;I am marking this a blocker, because it is breaking builds. It was not my intent that the common jar containing &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt; is committed to the M/R and HDFS projects. We were still running tests with Hudson jars. However, it appears that commit of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6133&quot; title=&quot;ReflectionUtils performance regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6133&quot;&gt;&lt;del&gt;HADOOP-6133&lt;/del&gt;&lt;/a&gt; inadvertently included this fix as well.&lt;/p&gt;</comment>
                            <comment id="12752399" author="sreekanth" created="Tue, 8 Sep 2009 09:04:08 +0000"  >&lt;p&gt;The patch fixes the &lt;tt&gt;NullPointerException&lt;/tt&gt; which was thrown when &lt;tt&gt;Configuration.get()&lt;/tt&gt; method is invoked.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;Configuration.processDeprecation()&lt;/tt&gt; used to load the classes which were present as part of &lt;tt&gt;hadoop.conf.extra.classes&lt;/tt&gt; key.&lt;/p&gt;

&lt;p&gt;If one of those classes have a static block which does an &lt;tt&gt;Configuration.addResource()&lt;/tt&gt;, the property map maintained by the Configuration is set to null causing the &lt;tt&gt;NullPointerException&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;After, offline discussion with Hemanth and Chaitanya with regards to correct fix, a new JIRA would be opened in order to discuss how best to expose the usage of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt; to consumers, and this JIRA would provide a short term fix in which consumers are expected to change the &lt;tt&gt;static&lt;/tt&gt; block in &lt;tt&gt;Configuration&lt;/tt&gt; class for using &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12752420" author="hadoopqa" created="Tue, 8 Sep 2009 10:14:53 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12418892/HADOOP-6243-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12418892/HADOOP-6243-1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 812317.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/24/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/24/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/24/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/24/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/24/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/24/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/24/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-h4.grid.sp2.yahoo.net/24/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12752430" author="yhemanth" created="Tue, 8 Sep 2009 10:53:22 +0000"  >&lt;p&gt;This seems fine to me. +1.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;After, offline discussion with Hemanth and Chaitanya with regards to correct fix, a new JIRA would be opened in order to discuss how best to expose the usage of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6105&quot; title=&quot;Provide a way to automatically handle backward compatibility of deprecated keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6105&quot;&gt;&lt;del&gt;HADOOP-6105&lt;/del&gt;&lt;/a&gt; to consumers&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6245&quot; title=&quot;Provide a way to load deprecated keys from other sub-projects into configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6245&quot;&gt;HADOOP-6245&lt;/a&gt; for tracking this.&lt;/p&gt;</comment>
                            <comment id="12752434" author="yhemanth" created="Tue, 8 Sep 2009 11:00:20 +0000"  >&lt;p&gt;I committed this to trunk. Thanks, Sreekanth !&lt;/p&gt;</comment>
                            <comment id="12752440" author="yhemanth" created="Tue, 8 Sep 2009 11:07:56 +0000"  >&lt;p&gt;Leaving this open until I commit the jars to the affected projects.&lt;/p&gt;</comment>
                            <comment id="12752443" author="hudson" created="Tue, 8 Sep 2009 11:09:05 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #89 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/89/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/89/&lt;/a&gt;)&lt;br/&gt;
    . Fix a NullPointerException in processing deprecated keys. Contributed by Sreekanth Ramakrishnan.&lt;/p&gt;</comment>
                            <comment id="12752447" author="hudson" created="Tue, 8 Sep 2009 11:17:31 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #19 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/19/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/19/&lt;/a&gt;)&lt;br/&gt;
    . Fix a NullPointerException in processing deprecated keys. Contributed by Sreekanth Ramakrishnan.&lt;/p&gt;</comment>
                            <comment id="12752458" author="yhemanth" created="Tue, 8 Sep 2009 12:08:07 +0000"  >&lt;p&gt;I committed the hadoop common jars to mapreduce project after verifying that jobs are running fine where they previously did not.&lt;/p&gt;</comment>
                            <comment id="12752477" author="hudson" created="Tue, 8 Sep 2009 12:37:51 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk-Commit #23 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/23/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/23/&lt;/a&gt;)&lt;br/&gt;
    . Fixes a NullPointerException in handling deprecated keys. Contributed by Sreekanth Ramakrishnan.&lt;/p&gt;</comment>
                            <comment id="12752586" author="yhemanth" created="Tue, 8 Sep 2009 15:56:02 +0000"  >&lt;p&gt;I ran HDFS tests with the jars got from &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/19/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/19/&lt;/a&gt; and &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/23/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/23/&lt;/a&gt; and they passed on my machine. Going to commit the jars to HDFS based on this.&lt;/p&gt;</comment>
                            <comment id="12752593" author="yhemanth" created="Tue, 8 Sep 2009 16:14:14 +0000"  >&lt;p&gt;I committed common and mapreduce jars to HDFS thus completing the fix. Thanks, Sreekanth !&lt;/p&gt;</comment>
                            <comment id="12752610" author="hudson" created="Tue, 8 Sep 2009 17:17:00 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk-Commit #20 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/20/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/20/&lt;/a&gt;)&lt;br/&gt;
    . Updating Common and Mapreduce jars fixing an NPE in handling deprecated keys. Contributed by Sreekanth Ramakrishnan.&lt;/p&gt;</comment>
                            <comment id="12752642" author="shv" created="Tue, 8 Sep 2009 17:54:34 +0000"  >&lt;p&gt;Worked for me, thanks.&lt;/p&gt;</comment>
                            <comment id="12752939" author="hudson" created="Wed, 9 Sep 2009 06:42:18 +0000"  >&lt;p&gt;Integrated in Hdfs-Patch-h2.grid.sp2.yahoo.net #5 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/5/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/5/&lt;/a&gt;)&lt;br/&gt;
    . Updating Common and Mapreduce jars fixing an NPE in handling deprecated keys. Contributed by Sreekanth Ramakrishnan.&lt;/p&gt;</comment>
                            <comment id="12753558" author="hudson" created="Thu, 10 Sep 2009 10:39:14 +0000"  >&lt;p&gt;Integrated in Hdfs-Patch-h5.grid.sp2.yahoo.net #21 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/21/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/21/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12428846">HADOOP-6105</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12418892" name="HADOOP-6243-1.patch" size="7336" author="sreekanth" created="Tue, 8 Sep 2009 09:04:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hwbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>