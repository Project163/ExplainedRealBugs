<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:48:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10786] Fix UGI#reloginFromKeytab on Java 8</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10786</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Krb5LoginModule changed subtly in java 8: in particular, if useKeyTab and storeKey are specified, then only a KeyTab object is added to the Subject&apos;s private credentials, whereas in java &amp;lt;= 7 both a KeyTab and some number of KerberosKey objects were added.&lt;/p&gt;

&lt;p&gt;The UGI constructor checks whether or not a keytab was used to login by looking if there are any KerberosKey objects in the Subject&apos;s private credentials. If there are, then isKeyTab is set to true, and otherwise it&apos;s set to false.&lt;/p&gt;

&lt;p&gt;Thus, in java 8 isKeyTab is always false given the current UGI implementation, which makes UGI#reloginFromKeytab fail silently.&lt;/p&gt;

&lt;p&gt;Attached patch will check for a KeyTab object on the Subject, instead of a KerberosKey object. This fixes relogins from kerberos keytabs on Oracle java 8, and works on Oracle java 7 as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12725544">HADOOP-10786</key>
            <summary>Fix UGI#reloginFromKeytab on Java 8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="schu">Stephen Chu</assignee>
                                    <reporter username="Tobi19">Tobi Vollebregt</reporter>
                        <labels>
                            <label>2.6.1-candidate</label>
                    </labels>
                <created>Sat, 5 Jul 2014 05:02:51 +0000</created>
                <updated>Tue, 12 Jan 2021 11:21:19 +0000</updated>
                            <resolved>Mon, 10 Nov 2014 01:49:18 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.6.1</fixVersion>
                    <fixVersion>2.7.0</fixVersion>
                    <fixVersion>3.0.0-alpha1</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>31</watches>
                                                                                                                <comments>
                            <comment id="14052800" author="hadoopqa" created="Sat, 5 Jul 2014 05:24:03 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12654166/HADOOP-10786.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12654166/HADOOP-10786.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;&lt;/font&gt;-1 javac&lt;font color=&quot;red&quot;&gt;&lt;/font&gt;.  The patch appears to cause the build to fail.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4217//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4217//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14053856" author="tobi19" created="Mon, 7 Jul 2014 16:56:28 +0000"  >&lt;p&gt;Not sure why build is failing, there are no compile errors in the log. Can&apos;t reproduce build failure locally - build is failing (flaky?) even on trunk.&lt;/p&gt;</comment>
                            <comment id="14132514" author="cwsteinbach" created="Sat, 13 Sep 2014 04:01:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Tobi&quot; class=&quot;user-hover&quot; rel=&quot;tobi&quot;&gt;Tobi&lt;/a&gt;, thanks for sharing this patch. We encountered the same problem on a Hadoop 2.3.0 cluster and were able to resolve it with this change.&lt;/p&gt;</comment>
                            <comment id="14132637" author="stevel@apache.org" created="Sat, 13 Sep 2014 11:14:19 +0000"  >&lt;ol&gt;
	&lt;li&gt;what does this do on Java 6?&lt;/li&gt;
	&lt;li&gt;It may actually be possible to write a test for this with MiniKDC; this is clearly something that&apos;s not being tested for today. Adding that test would would ensure we don&apos;t regress again&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14132639" author="stevel@apache.org" created="Sat, 13 Sep 2014 11:18:51 +0000"  >&lt;p&gt;keytab is tagged as {{ * @ since 1.7 }}, so can&apos;t go in while Hadoop is still built against Java 6.&lt;/p&gt;</comment>
                            <comment id="14137440" author="apurtell" created="Wed, 17 Sep 2014 15:54:56 +0000"  >&lt;p&gt;Shouldn&apos;t this be a higher priority than &apos;Minor&apos;? The end of public updates to Java 7 will be April 2015. A silent failure to re-login from keytab after TGT expiry dooms any long running process that wants to use secure RPC. Anyone who cares about security and about running the best performing supported Java runtime shortly will be forced to locally patch their core libraries. &lt;/p&gt;</comment>
                            <comment id="14137571" author="hadoopqa" created="Wed, 17 Sep 2014 17:12:36 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12654166/HADOOP-10786.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12654166/HADOOP-10786.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision c0c7e6f.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;&lt;/font&gt;-1 javac&lt;font color=&quot;red&quot;&gt;&lt;/font&gt;.  The patch appears to cause the build to fail.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4747//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4747//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14199589" author="schu" created="Thu, 6 Nov 2014 01:42:21 +0000"  >&lt;p&gt;We can use reflection to make this fix and still allow JDK6 to build and run.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a patch to do this, as well as added a unit test that will catch regressions. The unit test uses the MiniKDC and verifies login from keytab and relogin from keytab in addition to simply checking that isKeytab = true when it should be.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Tobi&quot; class=&quot;user-hover&quot; rel=&quot;tobi&quot;&gt;Tobi&lt;/a&gt;, thanks a lot for working on this. Let me know what you think about my suggestion and test. If you are too busy, I can also take this JIRA up.&lt;/p&gt;</comment>
                            <comment id="14199593" author="schu" created="Thu, 6 Nov 2014 01:43:56 +0000"  >&lt;p&gt;Note that the test reproduces the issue when run against JDK8 on a build without the fix.&lt;/p&gt;

&lt;p&gt;I then built and ran successfully with the fix for JDK 6, 7, and 8.&lt;/p&gt;</comment>
                            <comment id="14199672" author="hadoopqa" created="Thu, 6 Nov 2014 02:38:52 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12679752/HADOOP-10786.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12679752/HADOOP-10786.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 6ba52d8.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5039//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5039//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5039//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5039//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14199760" author="brocknoland" created="Thu, 6 Nov 2014 04:28:45 +0000"  >&lt;p&gt;That&apos;s one clean patch.&lt;/p&gt;</comment>
                            <comment id="14201079" author="tobi19" created="Thu, 6 Nov 2014 22:30:07 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schu&quot; class=&quot;user-hover&quot; rel=&quot;schu&quot;&gt;schu&lt;/a&gt;, that&apos;s a great patch. What else would need to be done to land this?&lt;/p&gt;</comment>
                            <comment id="14201093" author="schu" created="Thu, 6 Nov 2014 22:37:23 +0000"  >&lt;p&gt;Thanks, Tobi. We just need to wait for reviews and make any iterations that come from the reviews. When a committer +1&apos;s, then the approved patch can be committed.&lt;/p&gt;</comment>
                            <comment id="14201263" author="wheat9" created="Fri, 7 Nov 2014 00:15:06 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+      &lt;span class=&quot;code-comment&quot;&gt;// In JDK6 and JDK7, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; useKeyTab and storeKey are specified in the
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// Krb5LoginModule, then some number of KerberosKey objects are added
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// to the Subject&apos;s &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; credentials. However, in JDK8, a KeyTab
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// object is added instead. More details in HADOOP-10786.
&lt;/span&gt;+      keytabClass = &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-quote&quot;&gt;&quot;javax.security.auth.kerberos.KeyTab&quot;&lt;/span&gt;);
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ClassNotFoundException cnfe) {
+      &lt;span class=&quot;code-comment&quot;&gt;// Ignore. javax.security.auth.kerberos.KeyTab does not exist in JDK6.
&lt;/span&gt;+    }
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (keytabClass != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isKeytab = !subject.getPrivateCredentials(keytabClass).isEmpty();
+    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isKeytab = !subject.getPrivateCredentials(KerberosKey.class).isEmpty();
+    }
     &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isKrbTkt = !subject.getPrivateCredentials(KerberosTicket.class).isEmpty();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;forName&lt;/tt&gt; is fairly slow. Since the patch is targeting 2.7 which only supports JDK7, the code should be able to use the class in compile time, though we&apos;ll need to wait until jenkins to be switched to Java 7 before this patch can land.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+  @VisibleForTesting
+  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void setShouldRenewImmediatelyForTests(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; immediate) {
+    shouldRenewImmediatelyForTests = immediate;
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead of adding this method, it might make more sense to extract the logic of login into a separate function and call the function directly in the tests.&lt;/p&gt;</comment>
                            <comment id="14201383" author="atm" created="Fri, 7 Nov 2014 01:31:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;forName is fairly slow. Since the patch is targeting 2.7 which only supports JDK7, the code should be able to use the class in compile time, though we&apos;ll need to wait until jenkins to be switched to Java 7 before this patch can land.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;d like to commit this for 2.6, though, which will still be targeting Java 6. How about we create a constant &lt;tt&gt;KEY_TAB_CLASS&lt;/tt&gt; and then do the reflection in a static initialization block? That way we only pay the lookup penalty once per JVM and the patch still works with both version of Java.&lt;/p&gt;</comment>
                            <comment id="14201469" author="schu" created="Fri, 7 Nov 2014 02:33:55 +0000"  >&lt;p&gt;Performing the reflection in a static init block sounds like a good idea.&lt;/p&gt;

&lt;p&gt;I can see how it&apos;d be useful to extract the logic of login into a separate function and just call it directly. I&apos;d like to make sure to exercise as much of the reloginFromKeytab logic as possible (aside from waiting for a renew window), though.&lt;/p&gt;

&lt;p&gt;The test verifies isKeytab == true, which is good. However, if for some reason the way isKeytab changes in reloginFromKeytab (or something else changes before actual login), it&apos;d be good to exercise this.&lt;/p&gt;

&lt;p&gt;Attaching a patch that moves the reflection to a static block.&lt;/p&gt;

&lt;p&gt;Also, I made some additional fixes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Fix the conditional logic when using shouldRenewImmediatelyForTests by moving the check for null TGT ahead.&lt;/li&gt;
	&lt;li&gt;Remove //return&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14202506" author="schu" created="Fri, 7 Nov 2014 19:24:14 +0000"  >&lt;p&gt;Resubmitting &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;.3.patch to hopefully retrigger Hadoop QA jenkins.&lt;/p&gt;</comment>
                            <comment id="14202588" author="hadoopqa" created="Fri, 7 Nov 2014 20:19:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12680235/HADOOP-10786.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12680235/HADOOP-10786.3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 2ac1be7.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.metrics2.impl.TestMetricsSystemImpl&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5046//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5046//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5046//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5046//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14202594" author="schu" created="Fri, 7 Nov 2014 20:21:51 +0000"  >&lt;p&gt;TestMetricsSystemImpl is unrelated. I ran the test locally and successfully with the patch. Outstanding JIRA for it at &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10062&quot; title=&quot;race condition in MetricsSystemImpl#publishMetricsNow that causes incorrect results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10062&quot;&gt;&lt;del&gt;HADOOP-10062&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14202604" author="schu" created="Fri, 7 Nov 2014 20:29:32 +0000"  >&lt;p&gt;Posting a new patch to fix a mistake. Thanks to ATM for catching it.&lt;/p&gt;

&lt;p&gt;If the following conditional is true, we should return:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (tgt != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; !shouldRenewImmediatelyForTests &amp;amp;&amp;amp;
        now &amp;lt; getRefreshTime(tgt)) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I had forgotten to clean up some debugging stuff.&lt;/p&gt;</comment>
                            <comment id="14202606" author="schu" created="Fri, 7 Nov 2014 20:30:14 +0000"  >&lt;p&gt;Oops, wrong patch. Cancelling and will resubmit.&lt;/p&gt;</comment>
                            <comment id="14202609" author="schu" created="Fri, 7 Nov 2014 20:31:24 +0000"  >&lt;p&gt;Note that the correct patch is &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;.4.patch.&lt;/p&gt;</comment>
                            <comment id="14202645" author="atm" created="Fri, 7 Nov 2014 20:49:49 +0000"  >&lt;p&gt;Thanks a lot, Stephen. The latest patch looks good to me. I&apos;ll be +1 on it pending Jenkins.&lt;/p&gt;

&lt;p&gt;Haohui - just checking, has this latest patch addressed your performance concern?&lt;/p&gt;

&lt;p&gt;Thanks folks.&lt;/p&gt;</comment>
                            <comment id="14202655" author="wheat9" created="Fri, 7 Nov 2014 20:54:59 +0000"  >&lt;p&gt;Looks pretty good to me. Some nits:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; KEY_TAB_CLASS = KerberosKey.class;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;can be &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; KEY_TAB_CLASS = KerberosKey.class;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void createTestDir() {
+    workDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.dir&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;target&quot;&lt;/span&gt;));
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can use &lt;tt&gt;TemporaryFolder&lt;/tt&gt; here so that the files can be properly cleaned up after the tests.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; File getWorkDir() {
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; workDir;
+  }
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MiniKdc getKdc() {
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; kdc;
+  }
+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks like the test can simply inline these getters to make the patch even smaller.&lt;/p&gt;</comment>
                            <comment id="14202719" author="schu" created="Fri, 7 Nov 2014 21:30:00 +0000"  >&lt;p&gt;Thanks for the comments, Haohui. Attaching patch to address your comments.&lt;/p&gt;

&lt;p&gt;KEY_TAB_CLASS will be reassigned to Class.forName(&quot;javax.security.auth.kerberos.KeyTab&quot;) on JDK7/8, so I couldn&apos;t declare it final.&lt;/p&gt;

&lt;p&gt;The new patch now uses TemporaryFolder to ensure cleanup of the dir after test run.&lt;/p&gt;

&lt;p&gt;Also removed the unnecessary getters.&lt;/p&gt;</comment>
                            <comment id="14202737" author="wheat9" created="Fri, 7 Nov 2014 21:36:55 +0000"  >&lt;p&gt;Oh I see. The patch looks good to me. +1 pending jenkins.&lt;/p&gt;</comment>
                            <comment id="14202974" author="hadoopqa" created="Sat, 8 Nov 2014 00:02:02 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12680274/HADOOP-10786.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12680274/HADOOP-10786.5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 68db5b3.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5049//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5049//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/5049//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/5049//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14204227" author="wheat9" created="Mon, 10 Nov 2014 01:49:18 +0000"  >&lt;p&gt;I&apos;ve committed the patch to trunk, branch-2 and branch-2.6. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schu&quot; class=&quot;user-hover&quot; rel=&quot;schu&quot;&gt;schu&lt;/a&gt; for the contribution.&lt;/p&gt;</comment>
                            <comment id="14204229" author="wheat9" created="Mon, 10 Nov 2014 01:52:12 +0000"  >&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10287&quot; title=&quot;FSOutputSummer should support any checksum size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10287&quot;&gt;HADOOP-10287&lt;/a&gt; to track the effort of simplifying the code in 2.7.&lt;/p&gt;</comment>
                            <comment id="14204231" author="hudson" created="Mon, 10 Nov 2014 01:53:34 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #6496 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/6496/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/6496/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (wheat9: rev a37a993453c02048a618f71b5b9bc63b5a44dbf6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUGILoginFromKeytab.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14204236" author="acmurthy" created="Mon, 10 Nov 2014 02:06:17 +0000"  >&lt;p&gt;I think it&apos;s too late/risky to put this into 2.6; let&apos;s get this into 2.7. Thanks.&lt;/p&gt;</comment>
                            <comment id="14204252" author="acmurthy" created="Mon, 10 Nov 2014 02:20:38 +0000"  >&lt;p&gt;Moved to hadoop-2.7.0.&lt;/p&gt;</comment>
                            <comment id="14204253" author="hudson" created="Mon, 10 Nov 2014 02:21:04 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #6498 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/6498/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/6498/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Moved to hadoop-2.7.X. (acmurthy: rev 14b87b70a8dfc03801dcf5f33caa7fd2cc589840)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14204684" author="hudson" created="Mon, 10 Nov 2014 11:51:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Yarn-trunk #739 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/739/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/739/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (wheat9: rev a37a993453c02048a618f71b5b9bc63b5a44dbf6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUGILoginFromKeytab.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Moved to hadoop-2.7.X. (acmurthy: rev 14b87b70a8dfc03801dcf5f33caa7fd2cc589840)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14204812" author="hudson" created="Mon, 10 Nov 2014 14:15:47 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1929 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1929/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1929/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (wheat9: rev a37a993453c02048a618f71b5b9bc63b5a44dbf6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUGILoginFromKeytab.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Moved to hadoop-2.7.X. (acmurthy: rev 14b87b70a8dfc03801dcf5f33caa7fd2cc589840)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14204870" author="hudson" created="Mon, 10 Nov 2014 15:16:59 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1953 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1953/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1953/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (wheat9: rev a37a993453c02048a618f71b5b9bc63b5a44dbf6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUGILoginFromKeytab.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Moved to hadoop-2.7.X. (acmurthy: rev 14b87b70a8dfc03801dcf5f33caa7fd2cc589840)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14694182" author="cnauroth" created="Wed, 12 Aug 2015 21:14:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schu&quot; class=&quot;user-hover&quot; rel=&quot;schu&quot;&gt;schu&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Tobi&quot; class=&quot;user-hover&quot; rel=&quot;tobi&quot;&gt;Tobi&lt;/a&gt;, thank you for providing this patch.&lt;/p&gt;

&lt;p&gt;I just wanted to share with everyone that even though this bug was reported against a JDK 8 code change, it appears the same change has entered the JDK 7 code line.  I am seeing the same problem in the most recent OpenJDK build.  With JDK 1.7.0_79, I could not repro the problem. After upgrading to JDK 1.7.0_85, I could repro the problem. I don&apos;t know the exact minor version number within JDK 7 that first introduced the change, but it&apos;s somewhere in that range.&lt;/p&gt;

&lt;p&gt;I also confirmed that this patch fixes the problem for JDK 1.7.0_85 too.  To verify, I ran the test without the corresponding fixes in &lt;tt&gt;UserGroupInformation&lt;/tt&gt;.  I observed that the test failed on the assertion for &lt;tt&gt;ugi.isFromKeytab()&lt;/tt&gt;.  Then, I applied the &lt;tt&gt;UserGroupInformation&lt;/tt&gt; part of the patch, and the test passed.&lt;/p&gt;

&lt;p&gt;Bottom line: If you want to run a secured Hadoop cluster on JDK 1.7.0_85 or later, then you must run Apache Hadoop 2.7.0 or later.&lt;/p&gt;</comment>
                            <comment id="14696592" author="vinayrpet" created="Fri, 14 Aug 2015 06:56:21 +0000"  >&lt;p&gt;Cherry-picked to 2.6.1&lt;/p&gt;</comment>
                            <comment id="14696593" author="hudson" created="Fri, 14 Aug 2015 06:56:53 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #8300 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/8300/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/8300/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev 24a11e39960696d75e58df912ec6aa7283be194d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14696612" author="hudson" created="Fri, 14 Aug 2015 07:05:31 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #8301 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/8301/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/8301/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev e7aa81394dce61cc96d480e21204263a5f2ed153)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14696817" author="hudson" created="Fri, 14 Aug 2015 10:36:39 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #287 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/287/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/287/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev 24a11e39960696d75e58df912ec6aa7283be194d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev e7aa81394dce61cc96d480e21204263a5f2ed153)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14696831" author="hudson" created="Fri, 14 Aug 2015 10:38:56 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #1017 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/1017/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/1017/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev 24a11e39960696d75e58df912ec6aa7283be194d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev e7aa81394dce61cc96d480e21204263a5f2ed153)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14697032" author="hudson" created="Fri, 14 Aug 2015 13:57:46 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #284 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/284/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/284/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev 24a11e39960696d75e58df912ec6aa7283be194d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev e7aa81394dce61cc96d480e21204263a5f2ed153)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14697055" author="hudson" created="Fri, 14 Aug 2015 14:04:10 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #2233 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2233/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2233/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev 24a11e39960696d75e58df912ec6aa7283be194d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev e7aa81394dce61cc96d480e21204263a5f2ed153)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14697112" author="hudson" created="Fri, 14 Aug 2015 14:36:34 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #2214 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2214/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2214/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev 24a11e39960696d75e58df912ec6aa7283be194d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev e7aa81394dce61cc96d480e21204263a5f2ed153)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14697134" author="hudson" created="Fri, 14 Aug 2015 14:44:27 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #276 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/276/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/276/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev 24a11e39960696d75e58df912ec6aa7283be194d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu. (vinayakumarb: rev e7aa81394dce61cc96d480e21204263a5f2ed153)&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14697243" author="cnauroth" created="Fri, 14 Aug 2015 15:41:03 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vinayrpet&quot; class=&quot;user-hover&quot; rel=&quot;vinayrpet&quot;&gt;vinayrpet&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14697562" author="vinodkv" created="Fri, 14 Aug 2015 19:07:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vinayrpet&quot; class=&quot;user-hover&quot; rel=&quot;vinayrpet&quot;&gt;vinayrpet&lt;/a&gt;, please stop committing to 2.6.1 (branch-2.6 or branch-2.6.1), we have a fairly elaborate parallel release-process going on for 2.6.1 and these cherry-picks are disrupting our progress. If you want something added to 2.6.1, please post it in the mailing lists. Thanks. &lt;/p&gt;</comment>
                            <comment id="14699041" author="vinayrpet" created="Mon, 17 Aug 2015 05:43:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;we have a fairly elaborate parallel release-process going on for 2.6.1 and these cherry-picks are disrupting our progress.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vinodkv&quot; class=&quot;user-hover&quot; rel=&quot;vinodkv&quot;&gt;vinodkv&lt;/a&gt;. I am actually cherry-picking only those which are listed for 2.6.1 here &lt;a href=&quot;https://wiki.apache.org/hadoop/Release-2.6.1-Working-Notes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/hadoop/Release-2.6.1-Working-Notes&lt;/a&gt;.&lt;br/&gt;
Anyway I will stop further merges until required.&lt;br/&gt;
-Thanks&lt;/p&gt;</comment>
                            <comment id="14717871" author="vinodkv" created="Fri, 28 Aug 2015 01:26:02 +0000"  >&lt;p&gt;This wasn&apos;t originally in 2.6.1, must have been committed to 2.6, which was already 2.6.2. I just committed this to 2.6.1. Ran compilation and TestUGILoginFromKeytab before the push.&lt;/p&gt;</comment>
                            <comment id="15019197" author="taoluo" created="Sat, 21 Nov 2015 00:41:35 +0000"  >&lt;p&gt;Looks like the Krb5LoginModule change was backported to &lt;a href=&quot;http://bugs.java.com/view_bug.do?bug_id=8043932&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JDK 1.7.0_80&lt;/a&gt; as well, in case anyone else hits it.&lt;/p&gt;
</comment>
                            <comment id="15097492" author="liushaohui" created="Thu, 14 Jan 2016 02:48:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=taoluo&quot; class=&quot;user-hover&quot; rel=&quot;taoluo&quot;&gt;taoluo&lt;/a&gt;&lt;br/&gt;
Thanks for your reminding~ We hit the problem in JDK 1.7.0_80. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16388010" author="niranjan-wa" created="Tue, 6 Mar 2018 16:02:21 +0000"  >&lt;p&gt;Hey guys,&lt;/p&gt;

&lt;p&gt;I don&apos;t see this patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;.5.patch), especially this piece of code&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; KEY_TAB_CLASS = KerberosKey.class;
+  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; {
+    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+      &lt;span class=&quot;code-comment&quot;&gt;// We use KEY_TAB_CLASS to determine &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the UGI is logged in from
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// keytab. In JDK6 and JDK7, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; useKeyTab and storeKey are specified
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// in the Krb5LoginModule, then some number of KerberosKey objects
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// are added to the Subject&apos;s &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; credentials. However, in JDK8,
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// a KeyTab object is added instead. More details in HADOOP-10786.
&lt;/span&gt;+      KEY_TAB_CLASS = &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-quote&quot;&gt;&quot;javax.security.auth.kerberos.KeyTab&quot;&lt;/span&gt;);
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ClassNotFoundException cnfe) {
+      &lt;span class=&quot;code-comment&quot;&gt;// Ignore. javax.security.auth.kerberos.KeyTab does not exist in JDK6.
&lt;/span&gt;+    }
+  }
+

-    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isKeytab = !subject.getPrivateCredentials(KerberosKey.class).isEmpty();
+    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isKeytab = !subject.getPrivateCredentials(KEY_TAB_CLASS).isEmpty();

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;applied in UserGroupInformation class of Apache Hadoop 2.7.0 or 2.7.1 or in any of the subsequent versions till 3.0.0. I&apos;m not sure if&#160;above piece of code has been changed/moved somewhere in further/future commits.&lt;/p&gt;

&lt;p&gt; I&apos;ve a Kerberized Hadoop cluster&#160;that uses 2.7.3 and a client that uses 2.7.0, my client interacts with the cluster only using HDFS FileSystem API calls and I expect Kerberos ticket renewable to be automatically handled by the client&apos;s runtime dependency. Initially login from keytab is always successful but once the TGT expires, client is unable to login again, it fails with this&#160;&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.IOException: Failed on local exception: java.io.IOException: javax.security.sasl.SaslException: GSS initiate failed [Caused by GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)]; Host Details : local host is: &quot;hc4t03283/16.202.4.11&quot;; destination host is: &quot;hc4t02044.itcs.nircorp.net&quot;:8020; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;How can I ascertain or at least rule out that this issue isn&apos;t caused because of&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10786&quot; title=&quot;Fix UGI#reloginFromKeytab on Java 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10786&quot;&gt;&lt;del&gt;HADOOP-10786&lt;/del&gt;&lt;/a&gt;? This is the very reason I looked at the UserGroupInformation class&apos; code and I didn&apos;t find this patch applied. I&apos;m using JDK&#160;1.8.0_151.&#160;&lt;/p&gt;

&lt;p&gt;Please let me know if I&apos;m missing something obvious here.&#160;&lt;/p&gt;</comment>
                            <comment id="16389630" author="stevel@apache.org" created="Wed, 7 Mar 2018 14:33:27 +0000"  >&lt;p&gt;Looks like it&apos;s in branch-2.7&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;gt; git log --grep HADOOP-10786 branch-2.7
commit 8f4a09b6076de9fbd6cd8ccaddf72ba9c94429ff
Author: Vinayakumar B &amp;lt;vinayakumarb@apache.org&amp;gt;
Date:   Fri Aug 14 12:23:51 2015 +0530

    HADOOP-10786. Fix UGI#reloginFromKeytab on Java 8. Contributed by Stephen Chu.
    Moved CHANGES.txt entry to 2.6.1
    
    (cherry picked from commit e7aa81394dce61cc96d480e21204263a5f2ed153)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The code has moved on a lot since that patch went in, which is why there&apos;s no match. &lt;/p&gt;</comment>
                            <comment id="16756797" author="ckulkarni" created="Thu, 31 Jan 2019 02:39:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Tobi&quot; class=&quot;user-hover&quot; rel=&quot;tobi&quot;&gt;Tobi&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schu&quot; class=&quot;user-hover&quot; rel=&quot;schu&quot;&gt;schu&lt;/a&gt; is this also an issue for OpenJDK 1.8?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12754038">HADOOP-11287</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12741205">HADOOP-11090</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12628084">HBASE-7608</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12917992">SLIDER-1010</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12733589">HADOOP-10963</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12679752" name="HADOOP-10786.2.patch" size="7308" author="schu" created="Thu, 6 Nov 2014 01:42:21 +0000"/>
                            <attachment id="12680235" name="HADOOP-10786.3.patch" size="7515" author="schu" created="Fri, 7 Nov 2014 19:24:14 +0000"/>
                            <attachment id="12680063" name="HADOOP-10786.3.patch" size="7515" author="schu" created="Fri, 7 Nov 2014 02:33:55 +0000"/>
                            <attachment id="12680253" name="HADOOP-10786.4.patch" size="7430" author="schu" created="Fri, 7 Nov 2014 20:31:24 +0000"/>
                            <attachment id="12680274" name="HADOOP-10786.5.patch" size="7299" author="schu" created="Fri, 7 Nov 2014 21:30:00 +0000"/>
                            <attachment id="12654166" name="HADOOP-10786.patch" size="1420" author="tobi" created="Sat, 5 Jul 2014 05:04:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>403703</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xhbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>403746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>