<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:42:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9155] FsPermission should have different default value, 777 for directory and 666 for file</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9155</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;The default permission for &lt;tt&gt;FileSystem#create&lt;/tt&gt; is the same default as for &lt;tt&gt;FileSystem#mkdirs&lt;/tt&gt;, namely &lt;tt&gt;0777&lt;/tt&gt;. It would make more sense for the default to be &lt;tt&gt;0666&lt;/tt&gt; for files and &lt;tt&gt;0777&lt;/tt&gt; for directories.  The current default leads to a lot of files being created with the executable bit that really should not be.  One example is anything created with FsShell&apos;s copyToLocal.&lt;/p&gt;

&lt;p&gt;For reference, &lt;tt&gt;fopen&lt;/tt&gt; creates files with a mode of &lt;tt&gt;0666&lt;/tt&gt; (minus whatever bits are set in the umask; usually &lt;tt&gt;0022&lt;/tt&gt;.  This seems to be the standard behavior and we should follow it.  This is also a regression since branch-1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12624425">HADOOP-9155</key>
            <summary>FsPermission should have different default value, 777 for directory and 666 for file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="decster">Binglin Chang</assignee>
                                    <reporter username="decster">Binglin Chang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Dec 2012 07:56:59 +0000</created>
                <updated>Fri, 15 Feb 2013 13:12:07 +0000</updated>
                            <resolved>Wed, 9 Jan 2013 23:54:52 +0000</resolved>
                                    <version>2.0.2-alpha</version>
                                    <fixVersion>2.0.3-alpha</fixVersion>
                    <fixVersion>0.23.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="13535439" author="cmccabe" created="Tue, 18 Dec 2012 23:14:39 +0000"  >&lt;p&gt;Do &lt;tt&gt;rm -f /tmp/foo /tmp/bar; rmdir /tmp/foodir /tmp/bardir&lt;/tt&gt; and try this test program:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/stat.h&amp;gt;
#include &amp;lt;fcntl.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;

&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; main(void) {
  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; fd = creat(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/foo&quot;&lt;/span&gt;, S_IRWXU);
  close(fd);
  mkdir(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/foodir&quot;&lt;/span&gt;, S_IRWXU);
  umask(0700);
  fd = creat(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/bar&quot;&lt;/span&gt;, S_IRWXU);
  close(fd);
  mkdir(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/bardir&quot;&lt;/span&gt;, S_IRWXU);
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If, like me, your umask is set to &lt;tt&gt;022&lt;/tt&gt;, you should have two files and two directories in your /tmp directory that look like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cmccabe@keter:~/test&amp;gt; ls -ld /tmp/foo* /tmp/bar*
---------- 1 cmccabe users    0 Dec 18 15:10 /tmp/bar
d--------- 2 cmccabe users 4096 Dec 18 15:10 /tmp/bardir
-rwx------ 1 cmccabe users    0 Dec 18 15:10 /tmp/foo
drwx------ 2 cmccabe users 4096 Dec 18 15:10 /tmp/foodir
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So there is not umask bug here.  In UNIX, umask is applied consistently to files and directories; we do the same in Hadoop.&lt;/p&gt;

&lt;p&gt;However, there is a bug here-- an HDFS-specific problem, &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4319&quot; title=&quot;FSShell copyToLocal creates files with the executable bit set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4319&quot;&gt;HDFS-4319&lt;/a&gt;.  The issue is that HDFS is treating all files as executable, even though it doesn&apos;t actually store that bit for any files.  So really it would make sense to treat all files in HDFS as &lt;b&gt;not&lt;/b&gt; executable, the same way as was done in branch-1.&lt;/p&gt;</comment>
                            <comment id="13535514" author="decster" created="Wed, 19 Dec 2012 00:44:06 +0000"  >&lt;p&gt;I&apos;m not saying umask default value have bug, I&apos;m saying that the base permissions should be different for dir and file.&lt;br/&gt;
In your program, you are not using base permission(default permission) at all(you are using S_IRWXU explicitly). I think the correct test  should use mkdir and touch(or cat) to create dir and files, not low level system calls.&lt;/p&gt;</comment>
                            <comment id="13535515" author="decster" created="Wed, 19 Dec 2012 00:45:58 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;decster:/tmp&amp;gt; touch /tmp/foo
decster:/tmp&amp;gt; mkdir /tmp/foodir
decster:/tmp&amp;gt; ls -ld /tmp/foo*
-rw-r--r--  1 decster  wheel   0 Dec 19 08:44 /tmp/foo
drwxr-xr-x  2 decster  wheel  68 Dec 19 08:45 /tmp/foodir
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13535522" author="decster" created="Wed, 19 Dec 2012 01:00:38 +0000"  >&lt;p&gt;Here is some code create files and dirs using default permission:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
FileSystem.java

  /**
   * Create an FSDataOutputStream at the indicated Path with write-progress
   * reporting.
   * @param f the file name to open
   * @param overwrite &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; a file with &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; name already exists, then &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
   *   the file will be overwritten, and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; an error will be thrown.
   * @param bufferSize the size of the buffer to be used.
   * @param replication required block replication &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the file. 
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; FSDataOutputStream create(Path f,
                                            &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; overwrite,
                                            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; bufferSize,
                                            &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; replication,
                                            &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; blockSize,
                                            Progressable progress
                                            ) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.create(f, FsPermission.getDefault().applyUMask(
        FsPermission.getUMask(getConf())), overwrite, bufferSize,
        replication, blockSize, progress);
  }

  /**
   * Call {@link #mkdirs(Path, FsPermission)} with &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; permission.
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; mkdirs(Path f) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; mkdirs(f, FsPermission.getDefault());
  }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is they both use same FsPermission.getDefault() as base permission. mkdirs should use 777 and create should use 666&lt;/p&gt;</comment>
                            <comment id="13535527" author="decster" created="Wed, 19 Dec 2012 01:10:50 +0000"  >&lt;p&gt;Regarding &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4319&quot; title=&quot;FSShell copyToLocal creates files with the executable bit set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4319&quot;&gt;HDFS-4319&lt;/a&gt;, I read the code of CopyToLocal, it seams it doesn&apos;t copy fspermission from src to dest, but just use default permission, which leads to this problem?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CommandWithDestination.java
    void writeStreamToFile(InputStream in, PathData target) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
      FSDataOutputStream out = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        out = create(target);
        IOUtils.copyBytes(in, out, getConf(), &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
      } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
        IOUtils.closeStream(out); &lt;span class=&quot;code-comment&quot;&gt;// just in &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; copyBytes didn&apos;t
&lt;/span&gt;      }
    }
    
    &lt;span class=&quot;code-comment&quot;&gt;// tag created files as temp files
&lt;/span&gt;    FSDataOutputStream create(PathData item) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; create(item.path, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
      } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; { &lt;span class=&quot;code-comment&quot;&gt;// might have been created but stream was interrupted
&lt;/span&gt;        deleteOnExit(item.path);
      }
    }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13535697" author="cmccabe" created="Wed, 19 Dec 2012 06:10:34 +0000"  >&lt;p&gt;I think you&apos;re right.  The problem is that the default permission for &lt;tt&gt;FileSystem#create&lt;/tt&gt; is the same default as for &lt;tt&gt;FileSystem#mkdirs&lt;/tt&gt;, namely &lt;tt&gt;0777&lt;/tt&gt;.  It would make more sense for the default to be &lt;tt&gt;0666&lt;/tt&gt; for files and &lt;tt&gt;0777&lt;/tt&gt; for directories.&lt;/p&gt;

&lt;p&gt;I was confused by your earlier statement that &quot;Currently umask works differently as linux convention&quot;-- but as you later said, it&apos;s not umask that&apos;s working incorrectly here.  I&apos;m going to update the description and link this to &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4319&quot; title=&quot;FSShell copyToLocal creates files with the executable bit set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4319&quot;&gt;HDFS-4319&lt;/a&gt;; feel free to change it later.&lt;/p&gt;</comment>
                            <comment id="13535706" author="cmccabe" created="Wed, 19 Dec 2012 06:16:25 +0000"  >&lt;p&gt;Hi Binglin,&lt;/p&gt;

&lt;p&gt;I think you understand what is going on in this JIRA.  I&apos;ve been thinking of fixing this myself, but I won&apos;t get to it until after vacation.   If you want to take it instead, feel free.&lt;/p&gt;</comment>
                            <comment id="13537770" author="decster" created="Fri, 21 Dec 2012 09:24:56 +0000"  >&lt;p&gt;Look through the code, FsPermission::getDefault are used across all projects. Most of them are used to create dirs(and symlinks, also should have default value 0777), a few are used to create files. I think we should fix this way:&lt;/p&gt;

&lt;p&gt;1. keep the same name getDefault for compatibility, but its meaning has changed to &quot;default permission for dir and symlink&quot;, add getFileDefault() to return 0666, further we can add getDirDefault for clearity. No need for symlink cause we never let user choose symlink permission when create symlink.&lt;/p&gt;

&lt;p&gt;2. Do the same for FileContext.DEFAULT_PERM, add FileContext.FILE_DEFAULT_PERM&lt;/p&gt;

&lt;p&gt;3. Keep all mkdir(and createSymlink) call using getDefault or FileContext.DEFAULT_PERM unchanged(there are too many of them, most in test code), make all create file call use getFileDefault() or FileContext.FILE_DEFAULT_PERM, so as to keep changes at minimal.&lt;/p&gt;

&lt;p&gt;4. when creating new FileStatus with default permission, use following logic&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.permission = (permission == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) ? ((isdir || symlink!=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) ? 
        FsPermission.getDefault() : 
        FsPermission.getFileDefault()) : permission;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;5. Create multiple sub JIRAs for each sub-project.&lt;/p&gt;</comment>
                            <comment id="13538157" author="decster" created="Fri, 21 Dec 2012 15:50:16 +0000"  >&lt;p&gt;Initial patch for common sub-project.&lt;/p&gt;</comment>
                            <comment id="13538180" author="hadoopqa" created="Fri, 21 Dec 2012 16:26:56 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12562091/HADOOP-9155.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12562091/HADOOP-9155.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.fs.TestFileStatus&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1918//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1918//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1918//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1918//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13538579" author="decster" created="Sat, 22 Dec 2012 00:36:44 +0000"  >&lt;p&gt;Sorry, my code base is a little old, looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9147&quot; title=&quot;Add missing fields to FIleStatus.toString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9147&quot;&gt;&lt;del&gt;HADOOP-9147&lt;/del&gt;&lt;/a&gt; add some new test in TestFileStatus. &lt;/p&gt;</comment>
                            <comment id="13538613" author="hadoopqa" created="Sat, 22 Dec 2012 01:13:30 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12562186/HADOOP-9155.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12562186/HADOOP-9155.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1922//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1922//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1922//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1922//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13540117" author="cmccabe" created="Thu, 27 Dec 2012 19:42:14 +0000"  >&lt;p&gt;Looks good to me.  Did you test that FSShell&apos;s copyToLocal no longer creates local files with 0777? &lt;/p&gt;</comment>
                            <comment id="13540298" author="decster" created="Fri, 28 Dec 2012 04:33:27 +0000"  >&lt;p&gt;I manually test it on my macbook:&lt;br/&gt;
decster:~/hadoop-3.0.0&amp;gt; bin/hadoop fs -touchz /ffff&lt;br/&gt;
decster:~/hadoop-3.0.0&amp;gt; bin/hadoop fs -ls /&lt;br/&gt;
Found 1 items&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 decster supergroup          0 2012-12-28 12:30 /ffff&lt;br/&gt;
decster:~/hadoop-3.0.0&amp;gt; bin/hadoop fs -get /ffff .&lt;br/&gt;
12/12/28 12:30:56 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable&lt;br/&gt;
decster:~/hadoop-3.0.0&amp;gt; bin/hadoop fs -copyToLocal /ffff f2&lt;br/&gt;
12/12/28 12:32:08 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable&lt;br/&gt;
decster:~/hadoop-3.0.0&amp;gt; ll&lt;br/&gt;
total 0&lt;br/&gt;
drwxr-xr-x   7 decster  staff  238 Dec 28 11:41 bin&lt;br/&gt;
drwxr-xr-x   4 decster  staff  136 Dec 28 12:30 data&lt;br/&gt;
drwxr-xr-x   3 decster  staff  102 Dec 28 11:41 etc&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   1 decster  staff    0 Dec 28 12:32 f2&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   1 decster  staff    0 Dec 28 12:30 ffff&lt;br/&gt;
drwxr-xr-x   7 decster  staff  238 Dec 28 11:41 include&lt;br/&gt;
drwxr-xr-x   7 decster  staff  238 Dec 28 11:41 libexec&lt;br/&gt;
drwxr-xr-x   7 decster  staff  238 Dec 28 12:30 logs&lt;br/&gt;
drwxr-xr-x  22 decster  staff  748 Dec 28 11:41 sbin&lt;br/&gt;
drwxr-xr-x   4 decster  staff  136 Dec 28 11:41 share&lt;/p&gt;</comment>
                            <comment id="13540321" author="decster" created="Fri, 28 Dec 2012 05:31:04 +0000"  >&lt;p&gt;some the output format is somehow changed be jira, but the permission of the two files is correct 644 (666 apply umask 022)&lt;/p&gt;</comment>
                            <comment id="13543192" author="atm" created="Thu, 3 Jan 2013 18:57:52 +0000"  >&lt;p&gt;Patch looks pretty good to me. A few little comments:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;This comment is inaccurate:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   /**
+   * Get the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; permission &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; file.
+   */
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; FsPermission getDirDefault() {
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FsPermission((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;)00777);
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;I think this patch misses a spot in FileSystem where we should now be using one of the new default values:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; mkdirs(Path f) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; mkdirs(f, FsPermission.getDefault());
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Similarly I think this patch misses a few spots in FileContext, FTPFileSystem, and RawLocalFs.&lt;/li&gt;
	&lt;li&gt;In this change in FileStatus, why continue to use &lt;tt&gt;FsPermission.getDefault&lt;/tt&gt; instead of the new &lt;tt&gt;FsPermission.getDirDefault&lt;/tt&gt;?
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.permission = (permission == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) ? ((isdir || symlink!=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) ? 
+        FsPermission.getDefault() : 
+        FsPermission.getFileDefault()) : permission;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Should we perhaps mark the old default permissions as being &lt;tt&gt;@Deprecated&lt;/tt&gt;? I think we should.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Otherwise the patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="13543194" author="atm" created="Thu, 3 Jan 2013 19:02:17 +0000"  >&lt;p&gt;Ah, sorry, I just noticed &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9155?focusedCommentId=13537770&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13537770&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;this comment&lt;/a&gt; of yours explaining why you continue to use &lt;tt&gt;FsPermission.getDefault&lt;/tt&gt; in a few places. It seems fine to me to continue to use that in the tests, but I do think we should use the new &lt;tt&gt;FsPermission.getDirDefault&lt;/tt&gt; call in the main code.&lt;/p&gt;</comment>
                            <comment id="13543672" author="decster" created="Fri, 4 Jan 2013 07:29:21 +0000"  >&lt;p&gt;Thanks Aaron for the review.&lt;br/&gt;
New version of the patch, changes:&lt;br/&gt;
1. fix #1 in previous comment&lt;br/&gt;
2. replace all getDefault with getDirDefault when involving directory.&lt;br/&gt;
2. As for symlink, still use getDefault(for dir and symlink), cause &quot;getDirDefault&quot; is for directory only. So I&apos;m not sure about deprecating getDefault, cause it still has some value for symlink. And since user can only create symlink with default permission, getDefault should only be used internally, but not deprecated?&lt;/p&gt;</comment>
                            <comment id="13546636" author="decster" created="Tue, 8 Jan 2013 05:56:40 +0000"  >&lt;p&gt;build env has some issue recently, resubmit&lt;/p&gt;</comment>
                            <comment id="13546705" author="hadoopqa" created="Tue, 8 Jan 2013 08:44:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12563706/HADOOP-9155.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12563706/HADOOP-9155.v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestZKFailoverController&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2009//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2009//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2009//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2009//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13549182" author="atm" created="Wed, 9 Jan 2013 23:28:24 +0000"  >&lt;p&gt;Thanks, Binglin. The way you dealt with this makes sense to me.&lt;/p&gt;

&lt;p&gt;I just noticed that the latest patch needed to be rebased slightly on trunk, so here&apos;s an updated patch that&apos;s identical to the latest save for some line number offset changes.&lt;/p&gt;

&lt;p&gt;+1, I&apos;m going to commit this momentarily.&lt;/p&gt;</comment>
                            <comment id="13549183" author="atm" created="Wed, 9 Jan 2013 23:30:27 +0000"  >&lt;p&gt;Forgot to mention - I&apos;m pretty confident the test failure is unrelated. I ran the test in my env with the patch applied several times and it never failed.&lt;/p&gt;</comment>
                            <comment id="13549187" author="hadoopqa" created="Wed, 9 Jan 2013 23:33:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564057/HADOOP-9155.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564057/HADOOP-9155.v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2020//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2020//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13549189" author="hudson" created="Wed, 9 Jan 2013 23:35:01 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #3209 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/3209/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/3209/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9155&quot; title=&quot;FsPermission should have different default value, 777 for directory and 666 for file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9155&quot;&gt;&lt;del&gt;HADOOP-9155&lt;/del&gt;&lt;/a&gt;. FsPermission should have different default value, 777 for directory and 666 for file. Contributed by Binglin Chang. (Revision 1431148)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431148&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/local/RawLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileContextPermissionBase.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFSFileContextMainOperations.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystemPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocol/HdfsFileStatus.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549204" author="atm" created="Wed, 9 Jan 2013 23:54:53 +0000"  >&lt;p&gt;I&apos;ve just committed this to trunk and branch-2.&lt;/p&gt;

&lt;p&gt;Thanks a lot for the contribution, Binglin.&lt;/p&gt;</comment>
                            <comment id="13549523" author="hudson" created="Thu, 10 Jan 2013 10:47:53 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #92 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/92/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/92/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9155&quot; title=&quot;FsPermission should have different default value, 777 for directory and 666 for file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9155&quot;&gt;&lt;del&gt;HADOOP-9155&lt;/del&gt;&lt;/a&gt;. FsPermission should have different default value, 777 for directory and 666 for file. Contributed by Binglin Chang. (Revision 1431148)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431148&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/local/RawLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileContextPermissionBase.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFSFileContextMainOperations.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystemPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocol/HdfsFileStatus.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549605" author="hudson" created="Thu, 10 Jan 2013 13:21:01 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1309 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1309/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1309/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9155&quot; title=&quot;FsPermission should have different default value, 777 for directory and 666 for file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9155&quot;&gt;&lt;del&gt;HADOOP-9155&lt;/del&gt;&lt;/a&gt;. FsPermission should have different default value, 777 for directory and 666 for file. Contributed by Binglin Chang. (Revision 1431148)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431148&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/local/RawLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileContextPermissionBase.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFSFileContextMainOperations.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystemPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocol/HdfsFileStatus.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549618" author="hudson" created="Thu, 10 Jan 2013 13:25:31 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1281 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1281/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1281/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9155&quot; title=&quot;FsPermission should have different default value, 777 for directory and 666 for file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9155&quot;&gt;&lt;del&gt;HADOOP-9155&lt;/del&gt;&lt;/a&gt;. FsPermission should have different default value, 777 for directory and 666 for file. Contributed by Binglin Chang. (Revision 1431148)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
atm : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431148&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/local/RawLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileContextPermissionBase.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFSFileContextMainOperations.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystemPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocol/HdfsFileStatus.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13556463" author="tgraves" created="Thu, 17 Jan 2013 18:56:05 +0000"  >&lt;p&gt;merged to branch-0.23&lt;/p&gt;</comment>
                            <comment id="13557179" author="hudson" created="Fri, 18 Jan 2013 12:37:15 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-0.23-Build #498 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/498/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/498/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9155&quot; title=&quot;FsPermission should have different default value, 777 for directory and 666 for file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9155&quot;&gt;&lt;del&gt;HADOOP-9155&lt;/del&gt;&lt;/a&gt;. FsPermission should have different default value, 777 for directory and 666 for file (Binglin Chang via tgraves) (Revision 1434864)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tgraves : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434864&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434864&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/local/RawLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/permission/FsPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileContextPermissionBase.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFileStatus.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFSFileContextMainOperations.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestLocalFileSystemPermission.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocol/HdfsFileStatus.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12624349">HDFS-4319</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12625015">HDFS-4333</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12562091" name="HADOOP-9155.patch" size="9471" author="decster" created="Fri, 21 Dec 2012 15:51:04 +0000"/>
                            <attachment id="12562186" name="HADOOP-9155.v2.patch" size="10659" author="decster" created="Sat, 22 Dec 2012 00:36:44 +0000"/>
                            <attachment id="12564057" name="HADOOP-9155.v3.patch" size="15833" author="atm" created="Wed, 9 Jan 2013 23:28:24 +0000"/>
                            <attachment id="12563706" name="HADOOP-9155.v3.patch" size="17513" author="decster" created="Tue, 8 Jan 2013 05:56:40 +0000"/>
                            <attachment id="12563250" name="HADOOP-9155.v3.patch" size="17513" author="decster" created="Fri, 4 Jan 2013 07:29:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>299268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i160nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12323273">2.0.3-alpha</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>