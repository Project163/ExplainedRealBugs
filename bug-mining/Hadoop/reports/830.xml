<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:42:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9299] kerberos name resolution is kicking in even when kerberos is not configured</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9299</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Here&apos;s what I&apos;m observing on a fully distributed cluster deployed via Bigtop from the RC0 2.0.3-alpha tarball:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;528077-oozie-tucu-W@mr-node] Error starting action [mr-node]. ErrorType [TRANSIENT], ErrorCode [JA009], Message [JA009: org.apache.hadoop.security.authentication.util.KerberosName$NoMatchingRule: No rules applied to yarn/localhost@LOCALREALM
        at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenIdentifier.&amp;lt;init&amp;gt;(AbstractDelegationTokenIdentifier.java:68)
        at org.apache.hadoop.mapreduce.v2.api.MRDelegationTokenIdentifier.&amp;lt;init&amp;gt;(MRDelegationTokenIdentifier.java:51)
        at org.apache.hadoop.mapreduce.v2.hs.HistoryClientService$HSClientProtocolHandler.getDelegationToken(HistoryClientService.java:336)
        at org.apache.hadoop.mapreduce.v2.api.impl.pb.service.MRClientProtocolPBServiceImpl.getDelegationToken(MRClientProtocolPBServiceImpl.java:210)
        at org.apache.hadoop.yarn.proto.MRClientProtocol$MRClientProtocolService$2.callBlockingMethod(MRClientProtocol.java:240)
        at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:454)
        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1014)
        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1735)
        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1731)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:396)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1441)
        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1729)
Caused by: org.apache.hadoop.security.authentication.util.KerberosName$NoMatchingRule: No rules applied to yarn/localhost@LOCALREALM
        at org.apache.hadoop.security.authentication.util.KerberosName.getShortName(KerberosName.java:378)
        at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenIdentifier.&amp;lt;init&amp;gt;(AbstractDelegationTokenIdentifier.java:66)
        ... 12 more
]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is submitting a mapreduce job via Oozie 3.3.1. The reason I think this is a Hadoop issue rather than the oozie one is because when I hack /etc/krb5.conf to be:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[libdefaults]
   ticket_lifetime = 600
   default_realm = LOCALHOST
   default_tkt_enctypes = des3-hmac-sha1 des-cbc-crc
   default_tgs_enctypes = des3-hmac-sha1 des-cbc-crc

[realms]
   LOCALHOST = {
       kdc = localhost:88
       default_domain = .local
   }

[domain_realm]
   .local = LOCALHOST

[logging]
   kdc = FILE:/var/log/krb5kdc.log
   admin_server = FILE:/var/log/kadmin.log
   default = FILE:/var/log/krb5lib.log
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The issue goes away. &lt;/p&gt;

&lt;p&gt;Now, once again &amp;#8211; the kerberos auth is NOT configured for Hadoop, hence it should NOT pay attention to /etc/krb5.conf to begin with.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12632071">HADOOP-9299</key>
            <summary>kerberos name resolution is kicking in even when kerberos is not configured</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daryn">Daryn Sharp</assignee>
                                    <reporter username="rvs">Roman Shaposhnik</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Feb 2013 20:15:49 +0000</created>
                <updated>Wed, 3 Sep 2014 22:52:19 +0000</updated>
                            <resolved>Mon, 18 Mar 2013 20:07:05 +0000</resolved>
                                    <version>2.0.3-alpha</version>
                                    <fixVersion>2.0.4-alpha</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>19</watches>
                                                                                                                <comments>
                            <comment id="13578754" author="atm" created="Thu, 14 Feb 2013 22:23:21 +0000"  >&lt;p&gt;Changing targets version to 2.0.4, since 2.0.3 has already been released.&lt;/p&gt;</comment>
                            <comment id="13587868" author="sureshms" created="Wed, 27 Feb 2013 01:50:17 +0000"  >&lt;p&gt;If you know, please link the jira that caused this issue.&lt;/p&gt;</comment>
                            <comment id="13595869" author="acmurthy" created="Thu, 7 Mar 2013 13:36:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tucu00&quot; class=&quot;user-hover&quot; rel=&quot;tucu00&quot;&gt;tucu00&lt;/a&gt; have you triaged this too? Thanks.&lt;/p&gt;</comment>
                            <comment id="13596075" author="tucu00" created="Thu, 7 Mar 2013 17:25:32 +0000"  >&lt;p&gt;On it, taking care of this makes other things bubble up, trying to figure out if it is the same thing or a different one.&lt;/p&gt;</comment>
                            <comment id="13596181" author="acmurthy" created="Thu, 7 Mar 2013 18:51:41 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13596283" author="sseth" created="Thu, 7 Mar 2013 19:53:18 +0000"  >&lt;p&gt;One fix that is likely required is - getDelegationToken on the RM and HistoryServer need to handle security being disabled.&lt;/p&gt;</comment>
                            <comment id="13597505" author="daryn" created="Fri, 8 Mar 2013 20:14:16 +0000"  >&lt;p&gt;I know exactly what the problem is - UGI will always favor kerberos even if security isn&apos;t enabled + UGI always uses HadoopKerberosName.  So if the user has a realm, and the default realm cannot be determined, it will fail as shown above.  It&apos;s the same issues that causes unit tests on my laptop to fail unless I kdestroy first.  For the SASL work, which is on the back-burner, I had a patch that almost fixed this.&lt;/p&gt;</comment>
                            <comment id="13597693" author="acmurthy" created="Fri, 8 Mar 2013 23:33:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daryn&quot; class=&quot;user-hover&quot; rel=&quot;daryn&quot;&gt;daryn&lt;/a&gt; Thanks for the analysis. Do you mind putting up your patch? Thanks!&lt;/p&gt;</comment>
                            <comment id="13597695" author="acmurthy" created="Fri, 8 Mar 2013 23:34:16 +0000"  >&lt;p&gt;Also, do you know how/when this broke? This is a long-term issue? Why is Oozie hitting this only now?&lt;/p&gt;</comment>
                            <comment id="13597781" author="tucu00" created="Sat, 9 Mar 2013 01:22:18 +0000"  >&lt;p&gt;Daryn, Arun,&lt;/p&gt;

&lt;p&gt;I don&apos;t know when this broke as the previous version of Hadoop 2 we tested successfully in Apache Oozie was 0.23.x.&lt;/p&gt;

&lt;p&gt;When testing oozie/hadoop in bigtop for the prev release, using hadoop 2.0.2-alpha this was not a problem, so I assume something went wrong after that.&lt;/p&gt;

&lt;p&gt;By looking at the code, o.a.h.security.User constructor always does KerberosName resolution by calling &apos;new KerberosName(name).getShortName()&apos;&lt;/p&gt;

&lt;p&gt;This does not seem correct to me. IMO, the correct way &lt;del&gt;because of the fallback from secure to unsecure of the client&lt;/del&gt; is:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;If hadoop client is configured with Kerberos and the cluster has kerberos enabled, then the kerberos shortName should be used.&lt;/li&gt;
	&lt;li&gt;Regardless of the hadoop client configuration, if the cluster is unsecure, the Java System Property &apos;user.name&apos; should be used.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What change make things to break, I don&apos;t know, but unless I&apos;m missing something, if the logic just described is not done then you may end up in all sort of weird issues depending of KRB5 settings and rules settings in the core-site.xml&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="13600174" author="daryn" created="Tue, 12 Mar 2013 16:52:38 +0000"  >&lt;p&gt;I&apos;ll try to find my patch, but it was incomplete, and I tried various approaches.  First, I tried to avoid using &lt;tt&gt;KerberosName&lt;/tt&gt; if possible, but that caused problems because kerberos is always favored regardless of the client config.  I actually think that&apos;s a good thing, more on that later.  I believe the last approach was to blindly strip the realm if the client is insecure.&lt;/p&gt;

&lt;p&gt;My problem is running an insecure mini-cluster on my laptop.  If I have no TGT, the unix principal has no realm so passes the rules.  If I do have a TGT (bound to corporate directory), it wants to strip the realm from the kerberos principal.  If the default realm cannot be determined, or does not match my principal&apos;s realm, the rules fail.  &lt;/p&gt;

&lt;p&gt;On favoring kerberos:  If I&apos;m kerberos authenticated, it stands to reason that&apos;s who I am so the user should be derived from the kerberos principal regardless of whether security is enabled/disabled on the client.  Similarly, shouldn&apos;t an &quot;insecure&quot; client be allowed to communicate with a secure cluster if the user has the necessary kerberos credentials?  Maybe I&apos;m trying to copy data between secure/insecure cluster.&lt;/p&gt;

&lt;p&gt;I spoke to Owen awhile back about this issue, and we agreed that the client should be able to use kerberos credentials regardless of the client config.  Where we had mild disagreement is whether the client should be trying to apply the name rules.  I&apos;d make the case that the client should never apply rules which are meant for arbitrarily rewriting the principal.  All we are using the rules for on the client is stripping the default realm - if the client changes the username in the principal I believe it&apos;s going to fail the kerberos auth with the server due to a mismatch with the TGT.  Only the server should use the rules to arbitrarily rewrite the principal into a simple username for the namesystem.  The problem is how some of the fields in a token are converted to a simple username on the client, which Owen and I agreed is probably wrong.  We might be able to fix this w/o causing incompatibility.&lt;/p&gt;

&lt;p&gt;On a tangent: These issues illustrate the growing problem with not being able to have (semi)universal configs that allow communicating with multiple clusters.  Client security setting shouldn&apos;t matter, client shouldn&apos;t need the server&apos;s name rules.&lt;/p&gt;</comment>
                            <comment id="13600226" author="tucu00" created="Tue, 12 Mar 2013 17:40:16 +0000"  >&lt;p&gt;On the &apos;On the tangent&apos;: Yep, this has always been a pain (for Oozie) for different motives. IMO, a possible way to solve this would be (using MR that would be JT/YARN):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;client configs indicate user preferences (default MR/NN/replication factor/retries, etc)&lt;/li&gt;
	&lt;li&gt;On contacting a MR/NN the client gets the service site conf&lt;/li&gt;
	&lt;li&gt;the client configs are merged into the service site conf&lt;/li&gt;
	&lt;li&gt;the resulting conf is used to interact with the corresponding service&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13600302" author="daryn" created="Tue, 12 Mar 2013 18:33:32 +0000"  >&lt;p&gt;Great mind think alike!  I&apos;ve been internally proposing that since I started working on Hadoop...&lt;/p&gt;</comment>
                            <comment id="13600311" author="tucu00" created="Tue, 12 Mar 2013 18:39:23 +0000"  >&lt;p&gt;(or we have the same mosquito brain &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="13600348" author="daryn" created="Tue, 12 Mar 2013 19:04:38 +0000"  >&lt;p&gt;I should add I also spoke to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=atm&quot; class=&quot;user-hover&quot; rel=&quot;atm&quot;&gt;atm&lt;/a&gt; about the kerberos entangled quite awhile ago.  He said they had an issue where the static initialization of the kerberos classes were triggering dns discovery of the KDCs which overwhelmed the dns server.  I think the problem was even a bit more severe.&lt;/p&gt;

&lt;p&gt;I&apos;m trying to re-familiarize myself with the code and what I thought needed to be done w/o breaking anything.&lt;/p&gt;</comment>
                            <comment id="13600417" author="daryn" created="Tue, 12 Mar 2013 20:10:40 +0000"  >&lt;p&gt;While this is an actual low-level problem, would you please check if &lt;tt&gt;yarn.resourcemanager.principal&lt;/tt&gt; might be set to &quot;yarn/localhost@LOCALREALM&quot;?&lt;/p&gt;</comment>
                            <comment id="13600456" author="daryn" created="Tue, 12 Mar 2013 20:51:38 +0000"  >&lt;p&gt;I might know why this wasn&apos;t seen before.  Sometime back the job client was modified, for oozie, to get a HS token if the conf &lt;tt&gt;mapreduce.history.server.delegationtoken.required&lt;/tt&gt; is defined.  Acquiring a RM token will implicitly set the conf value.  If set, job submission will automatically get a HS token with a renewer of &lt;tt&gt;Master.getMasterPrincipal(conf)&lt;/tt&gt; which returns &lt;tt&gt;yarn.resourcemanager.principal&lt;/tt&gt;.  Perhaps the HS token fetching was added post-2.0.2?&lt;/p&gt;</comment>
                            <comment id="13600463" author="daryn" created="Tue, 12 Mar 2013 20:57:30 +0000"  >&lt;p&gt;Scratch that, FS tokens acquired during job submission will also use the renewer returned by &lt;tt&gt;Master.getMasterPrincipal(conf)&lt;/tt&gt;...  I&apos;m back to thinking it&apos;s a config change that broke it.&lt;/p&gt;</comment>
                            <comment id="13601644" author="sseth" created="Wed, 13 Mar 2013 21:12:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;I might know why this wasn&apos;t seen before. Sometime back the job client was modified, for oozie, to get a HS token if the conf mapreduce.history.server.delegationtoken.required is defined. Acquiring a RM token will implicitly set the conf value. If set, job submission will automatically get a HS token with a renewer of Master.getMasterPrincipal(conf) which returns yarn.resourcemanager.principal. Perhaps the HS token fetching was added post-2.0.2?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-4921&quot; title=&quot;JobClient should acquire HS token with RM principal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-4921&quot;&gt;&lt;del&gt;MAPREDUCE-4921&lt;/del&gt;&lt;/a&gt; (using Master.getMasterPrincipal(conf) as the renewer) is what exposed this. Doesn&apos;t affect the DFS tokens, since there&apos;s an explicit isSecurityEnabled() check before attempting to get HDFS delegation tokens. &lt;/p&gt;</comment>
                            <comment id="13601699" author="daryn" created="Wed, 13 Mar 2013 21:44:58 +0000"  >&lt;p&gt;That might be it.  On a tangent, there shouldn&apos;t be an explicit check because the remote server might have security enabled, but that&apos;s a separate issue...&lt;/p&gt;

&lt;p&gt;I&apos;ve got a patch I&apos;m almost done testing that will reduce principals to simple names if security is off.  I can also finally run all but a few tests when my machine is kinit-ed!&lt;/p&gt;</comment>
                            <comment id="13601712" author="rvs" created="Wed, 13 Mar 2013 21:52:58 +0000"  >&lt;p&gt;I&apos;d be more than happy to test any patches in Bigtop&lt;/p&gt;</comment>
                            <comment id="13601761" author="daryn" created="Wed, 13 Mar 2013 22:46:13 +0000"  >&lt;p&gt;This should allow kinit-ed users, or full principals, to be reduced to simple user names when the client is using SIMPLE auth.  I did this by changing the default auth_to_local value if it&apos;s not set.  Kerberos does what it did before, other auths now default to simple reduction unless explicit rules are defined.&lt;/p&gt;

&lt;p&gt;Seems to pass all the auth/token related tests.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tucu00&quot; class=&quot;user-hover&quot; rel=&quot;tucu00&quot;&gt;tucu00&lt;/a&gt;, please take a look at my removal and simplification of the seemingly awkward rules loading logic.  I traced it down to an old jira of yours that appears to have worked around a manifestation of this bug.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rvs&quot; class=&quot;user-hover&quot; rel=&quot;rvs&quot;&gt;rvs&lt;/a&gt;, sure, please give it a whirl!&lt;/p&gt;</comment>
                            <comment id="13601806" author="hadoopqa" created="Wed, 13 Mar 2013 23:30:39 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12573606/HADOOP-9299.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12573606/HADOOP-9299.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included appear to have a timeout.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2325//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2325//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2325//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2325//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13601876" author="tucu00" created="Thu, 14 Mar 2013 00:20:01 +0000"  >&lt;p&gt;In UGI, the skip check should be kept, else it will break things for things using hadoop-auth which don&apos;t use hadoop config files in their classpath (Oozie, HttpFS).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!skipRulesSetting) {
-        HadoopKerberosName.setConfiguration(conf);
-      }
+      HadoopKerberosName.setConfiguration(conf);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13601878" author="tucu00" created="Thu, 14 Mar 2013 00:22:28 +0000"  >&lt;p&gt;Unless I&apos;m missing something, we are using the Kerberos principal short name when interacting with an unsecure cluster, that seems wrong, no?&lt;/p&gt;</comment>
                            <comment id="13602271" author="daryn" created="Thu, 14 Mar 2013 13:46:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;In UGI, the skip check should be kept, else it will break things for things using hadoop-auth which don&apos;t use hadoop config files in their classpath.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think in those cases the defaults will kick in, which is the behavior we&apos;d want?  Or is there a quirk that will cause problems?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Unless I&apos;m missing something, we are using the Kerberos principal short name when interacting with an unsecure cluster, that seems wrong, no?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Please elaborate?  Overall, I don&apos;t believe this patch causes any fundamental change in behavior - other than making insecure clients/servers be able to perform simple reduction of a principal in the absence of explicit rules.  A few observations:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Within the UGI, the short name appears to be computed in the ctor for use as a key in the group name cache.  That&apos;s typically not required on the client-side.  External to the UGI usage should experience no change in behavior.  In either case, I don&apos;t think new issues have been introduced?&lt;/li&gt;
	&lt;li&gt;An IPC connection will (already) pass the full principal in the connection context.  It&apos;s up to the insecure server to reduce the principal to a short name.  I haven&apos;t tested, but w/o this patch, I think an insecure server will choke on the kerberos principal unless configured with rules.&lt;/li&gt;
	&lt;li&gt;The token operations do already inconsistently pass a short name or principal for the various fields.  Now that&apos;s wrong, and should always be the full principal, but it&apos;s a separate issue to fix.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Is there somewhere that I&apos;ve made something &quot;worse&quot;?  Or are you referring to pre-existing issues that should be addressed on another jira?&lt;/p&gt;</comment>
                            <comment id="13602358" author="daryn" created="Thu, 14 Mar 2013 15:46:24 +0000"  >&lt;p&gt;Oh, I see the problem regarding skipping rules.  Hadoop-auth is explicitly setting the rules itself.  I&apos;m surprised I missed that since I scrutinized the code after seeing that seemingly odd condition.  The interactions seem a bit fragile, but I&apos;ll put it back in. &lt;/p&gt;</comment>
                            <comment id="13602438" author="tucu00" created="Thu, 14 Mar 2013 17:06:55 +0000"  >&lt;p&gt;on the rules setting, you got it.&lt;/p&gt;

&lt;p&gt;on using the kerberos principal short name instead the uid for non-secure cluster, you are right that you are not changing behavior or making it worse, that is the current behavior. still it seems wrong to me as it would mean that a client depending on being kinit-ed or not it could be a different user for a non-secure cluster. we should not fix this as part of this ticket, but I think we should fix that.&lt;/p&gt;
</comment>
                            <comment id="13602721" author="daryn" created="Thu, 14 Mar 2013 20:57:25 +0000"  >&lt;p&gt;Restored prior behavior of rule setting, and added a bunch of tests for it.&lt;/p&gt;</comment>
                            <comment id="13602738" author="daryn" created="Thu, 14 Mar 2013 21:03:24 +0000"  >&lt;p&gt;I can see the kinit and non-secure issue going either way.  I&apos;d actually lean towards the TGT is the source of truth if present.  Having the user appear as the TGT user on a secure cluster, and as the unix user to a insecure cluster may be a bit jarring.  Or if security is enabled but then disabled on a cluster, the user may be surprised that the TGT user is no longer their identity.&lt;/p&gt;</comment>
                            <comment id="13602778" author="tucu00" created="Thu, 14 Mar 2013 21:25:19 +0000"  >&lt;p&gt;Daryin, patch looks good, still don&apos;t see the need for the skipRulesSetting to overrideNameRules logic change. Is that necessary ? I don&apos;t see how the new || condition would exercise a different selection than the previous logic.&lt;/p&gt;

&lt;p&gt;On the kerberos principal shortname and uid, I don&apos;t know what to make out of it, I don&apos;t think the current behavior is entirely correct but I see you point.&lt;/p&gt;</comment>
                            <comment id="13602792" author="hadoopqa" created="Thu, 14 Mar 2013 21:37:05 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12573765/HADOOP-9299.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12573765/HADOOP-9299.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included appear to have a timeout.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-auth hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2329//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2329//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2329//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2329//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13602803" author="daryn" created="Thu, 14 Mar 2013 21:52:04 +0000"  >&lt;p&gt;The boolean &amp;amp; corresponding logic change aren&apos;t strictly necessary.  The dispersed logic for setting rules was a bit puzzling when I started on the jira.  I thought it would be cleaner and easier to understand if all the rule logic is encapsulated within one method.&lt;/p&gt;</comment>
                            <comment id="13603401" author="daryn" created="Fri, 15 Mar 2013 14:15:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alejandro.villa&quot; class=&quot;user-hover&quot; rel=&quot;alejandro.villa&quot;&gt;alejandro.villa&lt;/a&gt;, are you ok with the implementation?&lt;/p&gt;</comment>
                            <comment id="13603471" author="tucu00" created="Fri, 15 Mar 2013 15:59:24 +0000"  >&lt;p&gt;+1 (sorry, thought I&apos;ve +1ed yesterday, my jira app may have acted up)&lt;/p&gt;</comment>
                            <comment id="13603600" author="rvs" created="Fri, 15 Mar 2013 17:56:55 +0000"  >&lt;p&gt;Daryn, thanks for providing a patch! I&apos;ve updated it to be applicable to the branch-2.0.4-alpha and pulled into Bigtop. Things did improve slighly but we don&apos;t seem to be out of the woods yet. Now, I&apos;m getting the exception that seems to be somehow krb related when Oozie tries to submit a job. I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-5088&quot; title=&quot;MR Client gets an renewer token exception while Oozie is submitting a job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-5088&quot;&gt;&lt;del&gt;HADOOP-9409&lt;/del&gt;&lt;/a&gt; to track it.&lt;/p&gt;

&lt;p&gt;Thank you guys for your help tracking this down!&lt;/p&gt;</comment>
                            <comment id="13605132" author="hudson" created="Mon, 18 Mar 2013 13:55:06 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #3484 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/3484/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/3484/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9299&quot; title=&quot;kerberos name resolution is kicking in even when kerberos is not configured&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9299&quot;&gt;&lt;del&gt;HADOOP-9299&lt;/del&gt;&lt;/a&gt;.  kerberos name resolution is kicking in even when kerberos is not configured (daryn) (Revision 1457763)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
daryn : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457763&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457763&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-auth/src/main/java/org/apache/hadoop/security/authentication/util/KerberosName.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HadoopKerberosName.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13605142" author="daryn" created="Mon, 18 Mar 2013 14:06:06 +0000"  >&lt;p&gt;Thanks!  I&apos;ve committed to branch trunk/2.&lt;/p&gt;</comment>
                            <comment id="13605193" author="rvs" created="Mon, 18 Mar 2013 15:15:47 +0000"  >&lt;p&gt;Wasn&apos;t there an agreement for this to be fixed for 2.0.4-alpha?&lt;/p&gt;</comment>
                            <comment id="13605283" author="cos" created="Mon, 18 Mar 2013 16:28:42 +0000"  >&lt;p&gt;As far as I remember it should go to 2.0.4-alpha branch. I will commit it in in the afternoon unless it is done earlier.&lt;/p&gt;</comment>
                            <comment id="13605412" author="rvs" created="Mon, 18 Mar 2013 18:03:35 +0000"  >&lt;p&gt;Thanks Cos! I&apos;m attaching a backport of the original patch into branch-2.0.4&lt;/p&gt;</comment>
                            <comment id="13605551" author="cos" created="Mon, 18 Mar 2013 20:01:27 +0000"  >&lt;p&gt;Backporting to 2.0.4-alpha&lt;/p&gt;</comment>
                            <comment id="13605557" author="cos" created="Mon, 18 Mar 2013 20:07:05 +0000"  >&lt;p&gt;Apparently it has been already merged into branch-2 earlier&lt;br/&gt;
r1457770 | daryn | 2013-03-18 07:05:09 -0700 (Mon, 18 Mar 2013) | 2 lines&lt;/p&gt;

&lt;p&gt;svn merge -c 1457763 FIXES: &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9299&quot; title=&quot;kerberos name resolution is kicking in even when kerberos is not configured&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9299&quot;&gt;&lt;del&gt;HADOOP-9299&lt;/del&gt;&lt;/a&gt;.  kerberos name resolution is kicking in even when kerberos is not configured (daryn)&lt;/p&gt;

&lt;p&gt;Thanks Daryn! The ticket hasn&apos;t been marked as such.&lt;/p&gt;</comment>
                            <comment id="13605570" author="cos" created="Mon, 18 Mar 2013 20:12:00 +0000"  >&lt;p&gt;Arguably, the record in the CHANGES.txt file should go to 2.0.4-alpha section.&lt;/p&gt;</comment>
                            <comment id="13605591" author="cos" created="Mon, 18 Mar 2013 20:32:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Apparently it has been already merged into branch-2 earlier&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;But is hasn&apos;t been ported back to branch-2.0.4-alpha. It&apos;s there now.&lt;/p&gt;</comment>
                            <comment id="13605823" author="devaraj" created="Mon, 18 Mar 2013 23:58:11 +0000"  >&lt;p&gt;Sorry, didn&apos;t mean to assign this to myself.&lt;/p&gt;</comment>
                            <comment id="13606215" author="hudson" created="Tue, 19 Mar 2013 10:47:25 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #160 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/160/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/160/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9299&quot; title=&quot;kerberos name resolution is kicking in even when kerberos is not configured&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9299&quot;&gt;&lt;del&gt;HADOOP-9299&lt;/del&gt;&lt;/a&gt;.  kerberos name resolution is kicking in even when kerberos is not configured (daryn) (Revision 1457763)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
daryn : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457763&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457763&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-auth/src/main/java/org/apache/hadoop/security/authentication/util/KerberosName.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HadoopKerberosName.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13606303" author="hudson" created="Tue, 19 Mar 2013 13:05:23 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1349 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1349/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1349/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9299&quot; title=&quot;kerberos name resolution is kicking in even when kerberos is not configured&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9299&quot;&gt;&lt;del&gt;HADOOP-9299&lt;/del&gt;&lt;/a&gt;.  kerberos name resolution is kicking in even when kerberos is not configured (daryn) (Revision 1457763)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
daryn : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457763&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457763&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-auth/src/main/java/org/apache/hadoop/security/authentication/util/KerberosName.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HadoopKerberosName.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13606318" author="hudson" created="Tue, 19 Mar 2013 13:15:19 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1377 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1377/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1377/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9299&quot; title=&quot;kerberos name resolution is kicking in even when kerberos is not configured&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9299&quot;&gt;&lt;del&gt;HADOOP-9299&lt;/del&gt;&lt;/a&gt;.  kerberos name resolution is kicking in even when kerberos is not configured (daryn) (Revision 1457763)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
daryn : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457763&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457763&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-auth/src/main/java/org/apache/hadoop/security/authentication/util/KerberosName.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HadoopKerberosName.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12644410">HADOOP-9500</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12606621">HADOOP-8779</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12574179" name="HADOOP-9299-branch2.0.4.patch" size="16222" author="rvs" created="Mon, 18 Mar 2013 18:03:45 +0000"/>
                            <attachment id="12573765" name="HADOOP-9299.patch" size="16110" author="daryn" created="Thu, 14 Mar 2013 20:57:25 +0000"/>
                            <attachment id="12573606" name="HADOOP-9299.patch" size="13018" author="daryn" created="Wed, 13 Mar 2013 22:46:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hxuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12324135">2.0.4-alpha</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>