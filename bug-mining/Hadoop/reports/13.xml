<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:31:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6123] hdfs script does not work after project split.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6123</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;There are problems running hdfs script from common.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Usage message for hdfs does not have &quot;fs&quot; option anymore.&lt;/li&gt;
	&lt;li&gt;There seem to be an undocumented option &quot;dfs&quot;, but using it throws NoClassDefFoundError or ClassNotFoundException.&lt;/li&gt;
	&lt;li&gt;Same with other options e.g. name-node.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;May I am missing something here. How do we call ls these days?&lt;br/&gt;
Do we need to move hdfs script to hdfs project.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429222">HADOOP-6123</key>
            <summary>hdfs script does not work after project split.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sharadag">Sharad Agarwal</assignee>
                                    <reporter username="shv">Konstantin Shvachko</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jun 2009 19:18:51 +0000</created>
                <updated>Tue, 24 Aug 2010 20:38:54 +0000</updated>
                            <resolved>Mon, 27 Jul 2009 18:36:04 +0000</resolved>
                                    <version>0.21.0</version>
                                    <fixVersion>0.21.0</fixVersion>
                                    <component>scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="12725929" author="sharadag" created="Wed, 1 Jul 2009 05:27:37 +0000"  >&lt;p&gt;The scripts won&apos;t run as it is for common and hdfs as the ivy lib path has changed. Classpath in hadoop-config.sh needs to include new paths.&lt;/p&gt;</comment>
                            <comment id="12725932" author="sharadag" created="Wed, 1 Jul 2009 05:30:42 +0000"  >&lt;p&gt;This patch updates the classpath after the project split.&lt;br/&gt;
Apply this patch and copy the bin folder in hdfs project. All scripts should work as it is. This eventually has to be fixed in build file of mapred and hdfs which can extract the bin folder out of the common jar.&lt;/p&gt;</comment>
                            <comment id="12728399" author="sureshms" created="Tue, 7 Jul 2009 22:40:14 +0000"  >&lt;p&gt;I tried the change. It works.&lt;/p&gt;

&lt;p&gt;I noticed that unlike before I have to setup JAVA_HOME in hadoop-env.sh. This is not picked up from JAVA_HOME environment variable from my shell.&lt;/p&gt;</comment>
                            <comment id="12728409" author="szetszwo" created="Tue, 7 Jul 2009 23:04:19 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ -d &lt;span class=&quot;code-quote&quot;&gt;&quot;$HADOOP_CORE_HOME/build/ivy/lib/Hadoop-Core/common&quot;&lt;/span&gt; ]; then
+&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; f in $HADOOP_CORE_HOME/build/ivy/lib/Hadoop-Core/common/*.jar; &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
+  CLASSPATH=${CLASSPATH}:$f;
+done
+fi
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The for-loop above can be eliminated by keeping the wild card (shown below) as what we does in the bin/hadoop script.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ -d &lt;span class=&quot;code-quote&quot;&gt;&quot;$HADOOP_CORE_HOME/build/ivy/lib/Hadoop-Core/common&quot;&lt;/span&gt; ]; then
  CLASSPATH=${CLASSPATH}:$HADOOP_CORE_HOME/build/ivy/lib/Hadoop-Core/common/*.jar;
fi
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Try also the new &quot;bin/hadoop classpath&quot; command committed (&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-5976&quot; title=&quot;create script to provide classpath for external tools&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-5976&quot;&gt;&lt;del&gt;HADOOP-5976&lt;/del&gt;&lt;/a&gt;) recently.&lt;/p&gt;</comment>
                            <comment id="12734231" author="sureshms" created="Wed, 22 Jul 2009 18:08:08 +0000"  >&lt;p&gt;when is this change going to be committed?&lt;/p&gt;</comment>
                            <comment id="12734232" author="hong.tang" created="Wed, 22 Jul 2009 18:17:29 +0000"  >&lt;p&gt;You never mark the jira &quot;patch available&quot;.&lt;/p&gt;</comment>
                            <comment id="12734233" author="szetszwo" created="Wed, 22 Jul 2009 18:23:05 +0000"  >&lt;p&gt;Hi Sharad, do you think &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6123?focusedCommentId=12728409&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12728409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;my previous comment&lt;/a&gt; making sense?&lt;/p&gt;</comment>
                            <comment id="12734452" author="sharadag" created="Thu, 23 Jul 2009 04:12:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;do you think my previous comment making sense?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I don&apos;t think the &quot;for loop&quot; can be replaced by using the wildcard. It won&apos;t expand the path in CLASSPATH.&lt;/p&gt;</comment>
                            <comment id="12734657" author="szetszwo" created="Thu, 23 Jul 2009 17:36:01 +0000"  >&lt;p&gt;&amp;gt; I don&apos;t think the &quot;for loop&quot; can be replaced by using the wildcard. It won&apos;t expand the path in CLASSPATH.&lt;br/&gt;
In the &lt;a href=&quot;http://java.sun.com/javase/6/docs/technotes/tools/solaris/java.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java man page&lt;/a&gt;, it says,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-classpath classpath&lt;br/&gt;
-cp classpath&lt;/p&gt;

&lt;p&gt;... As a special convenience, a class path element containing a basename of * is considered equivalent to specifying a list of all the files in the directory with the extension .jar or .JAR (a java program cannot tell the difference between the two invocations).&lt;/p&gt;

&lt;p&gt;For example, if directory foo contains a.jar and b.JAR, then the class path element foo/* is expanded to a A.jar:b.JAR, except that the order of jar files is unspecified.  ...&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="12734891" author="sharadag" created="Fri, 24 Jul 2009 03:42:08 +0000"  >&lt;p&gt;@Tsz When I tried, it didn&apos;t work for me. May be I am missing something. Have you tried it? If it works for you, can you post a patch?&lt;/p&gt;</comment>
                            <comment id="12735111" author="szetszwo" created="Fri, 24 Jul 2009 17:58:02 +0000"  >&lt;p&gt;I tried your for-loop patch.  It does not work.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bash-3.2$ ./bin/hdfs namenode
java.lang.NoClassDefFoundError: org/apache/hadoop/hdfs/server/namenode/NameNode
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&amp;gt; ... Have you tried it? If it works for you, can you post a patch? &lt;br/&gt;
I have not tried it.&lt;/p&gt;</comment>
                            <comment id="12735490" author="sharadag" created="Mon, 27 Jul 2009 06:16:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;I tried your for-loop patch. It does not work.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It works for me with latest trunk. By any chance you are running the command in common itself ? It should be run in HDFS. See my &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6123?focusedCommentId=12725932&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12725932&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;comment &lt;/a&gt; above.&lt;/p&gt;</comment>
                            <comment id="12735590" author="hadoopqa" created="Mon, 27 Jul 2009 12:41:12 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12412236/6123_v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12412236/6123_v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 798093.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/586/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/586/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/586/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/586/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/586/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/586/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/586/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Patch-vesta.apache.org/586/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12735698" author="szetszwo" created="Mon, 27 Jul 2009 18:29:34 +0000"  >&lt;p&gt;Tried again the patch.  It worked fine.  I probably did something wrong last time.&lt;/p&gt;

&lt;p&gt;Since the for-loop approach is already used in hadoop-config.sh, we should keep the new codes consistent with the existing codes.&lt;/p&gt;

&lt;p&gt;+1 patch looks good.&lt;/p&gt;</comment>
                            <comment id="12735700" author="szetszwo" created="Mon, 27 Jul 2009 18:36:04 +0000"  >&lt;p&gt;No new tests since this is a script change.&lt;/p&gt;

&lt;p&gt;I have committed this.  Thanks, Sharad!&lt;/p&gt;</comment>
                            <comment id="12736034" author="hudson" created="Tue, 28 Jul 2009 11:09:47 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #37 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/37/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/37/&lt;/a&gt;)&lt;br/&gt;
    . Add missing classpaths in hadoop-config.sh.  Contributed by Sharad Agarwal&lt;/p&gt;</comment>
                            <comment id="12763800" author="chansler" created="Fri, 9 Oct 2009 03:49:34 +0000"  >&lt;p&gt;Editorial pass over all release notes prior to publication of 0.21. Just a bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12412236" name="6123_v1.patch" size="765" author="sharadag" created="Wed, 1 Jul 2009 05:30:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0i1wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>103402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>