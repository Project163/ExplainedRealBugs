<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:43:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9582] Non-existent file to &quot;hadoop fs -conf&quot; doesn&apos;t throw error</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9582</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;When we run :&lt;br/&gt;
hadoop fs -conf BAD_FILE -ls /&lt;br/&gt;
we expect hadoop to throw an error,but it doesn&apos;t.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12648494">HADOOP-9582</key>
            <summary>Non-existent file to &quot;hadoop fs -conf&quot; doesn&apos;t throw error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashwinshankar77">Ashwin Shankar</assignee>
                                    <reporter username="ashwinshankar77">Ashwin Shankar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 May 2013 20:08:04 +0000</created>
                <updated>Thu, 12 May 2016 18:21:51 +0000</updated>
                            <resolved>Tue, 18 Jun 2013 22:12:46 +0000</resolved>
                                    <version>0.23.7</version>
                    <version>2.0.4-alpha</version>
                    <version>3.0.0-alpha1</version>
                                    <fixVersion>0.23.9</fixVersion>
                    <fixVersion>2.3.0</fixVersion>
                                    <component>conf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13663494" author="ashwinshankar77" created="Tue, 21 May 2013 22:27:20 +0000"  >&lt;p&gt;I&apos;ve added code to check if the argument to &quot;-conf&quot; option is a file(which exist) or not. I throw an exception if file doesn&apos;t exist.&lt;/p&gt;</comment>
                            <comment id="13663555" author="hadoopqa" created="Tue, 21 May 2013 22:58:44 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12584191/HADOOP-9582.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12584191/HADOOP-9582.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2555//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2555//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2555//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2555//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13664005" author="stevel@apache.org" created="Wed, 22 May 2013 11:01:20 +0000"  >&lt;p&gt;Looks good, both code and tests.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;there&apos;s a couple of places where an extra space or two between things would comply more with the style guidelines&lt;/li&gt;
	&lt;li&gt;the final &lt;tt&gt;assertTrue&lt;/tt&gt; could be better on diagnostics if a different fault is raised. A &lt;tt&gt;throw new AssertionFailedError(&quot;Expected FileNotFound, got: &quot;+th).initCause(th);&lt;/tt&gt; would do this.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13664207" author="ashwinshankar77" created="Wed, 22 May 2013 15:51:41 +0000"  >&lt;p&gt;Added AssertionFailedError in unit tests and corrected spacing issues.&lt;/p&gt;</comment>
                            <comment id="13664238" author="hadoopqa" created="Wed, 22 May 2013 16:36:18 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12584323/HADOOP-9582.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12584323/HADOOP-9582.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2557//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2557//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2557//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2557//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13664282" author="stevel@apache.org" created="Wed, 22 May 2013 17:26:33 +0000"  >&lt;p&gt;I&apos;ve been looking at this a bit more, and now I&apos;m worried about some compatibility issue. It looks like &lt;tt&gt;-conf&lt;/tt&gt; can be used to specify any resource path. Is this right, or am I misreading it?&lt;/p&gt;

&lt;p&gt;If I am right, I could go &lt;tt&gt;-&lt;del&gt;conf &lt;a href=&quot;ftp://common/stdconf.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://common/stdconf.xml&lt;/a&gt;&lt;/tt&gt;, or &lt;tt&gt;&lt;/del&gt;-conf &lt;a href=&quot;http://service/cluster-site.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://service/cluster-site.xml&lt;/a&gt;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This could be handy -so I&apos;m worried that some people may already be using it. If they are, we&apos;ve got a problem.&lt;/p&gt;

&lt;p&gt;At the same time, delving into &lt;tt&gt;Configuration.loadResource()&lt;/tt&gt; looks like it gets the URI of the &lt;tt&gt;Path&lt;/tt&gt; instance, calls &lt;tt&gt;getPath()&lt;/tt&gt; on it and then converts it to a file for loading (skipping missing entries).&lt;/p&gt;

&lt;p&gt;Is that right? That the &lt;tt&gt;Path&lt;/tt&gt; representation of a command line path is simply an intermediate state -and that it doesn&apos;t interfere with the intermediate state.&lt;/p&gt;

&lt;p&gt;If backwards compatibility isn&apos;t at risk &lt;del&gt;which I think is the case&lt;/del&gt; then this check is something we can keep in, though it may be safer to build the &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  resource = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(value)
  File confFile = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File((resource).toUri().getPath()); &lt;span class=&quot;code-comment&quot;&gt;//from Configuration
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (! confFile.exists()) { &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; ... }
  conf.addResource(resource);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The advantage with this approach is we can be confident the relative path resolution logic is consistent in both places. Which is something that tests could look for as well.&lt;/p&gt;

&lt;p&gt;(I&apos;m just adding extra work here, aren&apos;t I? Sorry)&lt;/p&gt;
</comment>
                            <comment id="13664341" author="stevel@apache.org" created="Wed, 22 May 2013 17:59:03 +0000"  >&lt;p&gt;My current (&lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-117&quot; title=&quot;Enhance YARN service model&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-117&quot;&gt;&lt;del&gt;YARN-117&lt;/del&gt;&lt;/a&gt;) fork of Hadoop trunk has an extra test in Configuration -it doesn&apos;t load empty files. This is the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9453&quot; title=&quot;Configuration.loadResource should skip empty resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9453&quot;&gt;HADOOP-9453&lt;/a&gt;, adding a &lt;tt&gt;file.length() &amp;gt; 0&lt;/tt&gt; to the criteria, and stopping the XML parser failing on an empty file.&lt;/p&gt;

&lt;p&gt;Should your -conf code reject empty files too? Today that triggers the XML parser failure -it&apos;s hard to see why we&apos;d want to permit it once &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9453&quot; title=&quot;Configuration.loadResource should skip empty resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9453&quot;&gt;HADOOP-9453&lt;/a&gt; gets checked in&lt;/p&gt;</comment>
                            <comment id="13664558" author="ashwinshankar77" created="Wed, 22 May 2013 21:36:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ve been looking at this a bit more, and now I&apos;m worried about some compatibility issue. It looks like -conf can be used to specify any resource path. Is this right, or am I misreading it?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m not sure whether URIs are allowed for &apos;-conf&apos; option.I checked up the documentation and javadoc, it doesn&apos;t talk about URIs. But I would tend to believe that URIs are allowed ,since its allowed for other options like hadoop fs -fs &amp;lt;URI&amp;gt;.If this is the case,then you&apos;re right,we have a problem.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;At the same time, delving into Configuration.loadResource() looks like it gets the URI of the Path instance, calls getPath() on it and then converts it to a file for loading (skipping missing entries).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes,that&apos;s right. Here is where it gets interesting and I have a question for you.&lt;br/&gt;
Configuration.loadResource() has the following code :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (doc == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; root == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (quiet)
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(resource + &lt;span class=&quot;code-quote&quot;&gt;&quot; not found&quot;&lt;/span&gt;);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looking at the code,it seems that if &apos;file&apos; doesn&apos;t exist we do throw RuntimeException if the &apos;quiet&apos; flag is false,which means removing the &apos;quiet&apos; flag seems to solve our problem.My question is why is there a &apos;quiet&apos; flag in the first place ? I tried to look at svn file history and this particular code snippet goes back to early days(2006),hence no documentation about it. &lt;br/&gt;
Do you know about this flag ?&lt;br/&gt;
Is there some ancient use-case where its legal to give a non-existent config file as arguments while loading it &apos;quietly&apos; ? because this patch will break that.   &lt;/p&gt;</comment>
                            <comment id="13665048" author="stevel@apache.org" created="Thu, 23 May 2013 10:03:33 +0000"  >&lt;p&gt;Ashwin &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;I don&apos;t know the history of that, let&apos;s ask.&lt;/li&gt;
	&lt;li&gt;fs shell calls &lt;tt&gt;setQuietMode(true)&lt;/tt&gt; in &lt;tt&gt;init()&lt;/tt&gt; and doesn&apos;t provide a way to turn it off. So even if we consider your current patch surplus, we do still need a way to turn the flag on.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13666618" author="ashwinshankar77" created="Fri, 24 May 2013 19:58:42 +0000"  >&lt;p&gt;I&apos;ve turned on the &apos;quiet&apos; flag in FsShell.&lt;br/&gt;
This would cause a Runtime exception to be raised when the user gives a nonexistent resource. I&apos;ve also changed INFO logs(which depends on the flag) to debug so that output is not verbose.&lt;/p&gt;</comment>
                            <comment id="13666641" author="hadoopqa" created="Fri, 24 May 2013 20:27:51 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12584745/HADOOP-9582.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12584745/HADOOP-9582.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2569//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2569//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2569//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2569//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13671683" author="jlowe" created="Fri, 31 May 2013 17:46:52 +0000"  >&lt;p&gt;This would solve the problem for &quot;hadoop fs&quot; but since -conf is a GenericOptionsParser thing, it doesn&apos;t address the many other places where -conf could be specified and processed by GenericOptionsParser.  Is the real fix in a more central location like GenericOptionsParser or Configuration?  If we just target FsShell then we&apos;ll have to address this behavior in many places and open the door to inconsistencies with missing configuration files based on who&apos;s using GenericOptionsParser.&lt;/p&gt;</comment>
                            <comment id="13675372" author="ashwinshankar77" created="Tue, 4 Jun 2013 22:49:25 +0000"  >&lt;p&gt;Hi Jason,&lt;br/&gt;
Thanks for your comments. Yes this patch doesn&apos;t address the problem in other places apart from FsShell. But could we check this in so that we are good atleast from the FsShell standpoint. Maybe we could create another JIRA to investigate whether we break any use-case if we make the change directly in GenericOptionsParser.   &lt;/p&gt;</comment>
                            <comment id="13682845" author="jlowe" created="Thu, 13 Jun 2013 22:34:29 +0000"  >&lt;p&gt;Seems reasonable to at least make a small improvement to FsShell to catch bad -conf parameters, and that should be lower risk than having GenericOptionsParser start blindly setting all Configurations passed to it as non-quiet.&lt;/p&gt;

&lt;p&gt;Some comments on the latest patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;TestGenericOptionsParser change now seems moot, since we didn&apos;t modify GenericOptionsParser and it doesn&apos;t test the FsShell change.&lt;/li&gt;
	&lt;li&gt;Nit: In TestFsShell rather than wielding AssertionFailedError directly we can simply use assertTrue(th instanceof RuntimeException)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13683829" author="ashwinshankar77" created="Fri, 14 Jun 2013 21:45:57 +0000"  >&lt;blockquote&gt;
&lt;p&gt;TestGenericOptionsParser change now seems moot, since we didn&apos;t modify GenericOptionsParser and it doesn&apos;t test the FsShell change.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes,right. I&apos;ve reverted that change in the latest patch.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Nit: In TestFsShell rather than wielding AssertionFailedError directly we can simply use assertTrue(th instanceof RuntimeException)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I did do this in one my previous patch,however Steve(on 22/May/13 06:01) recommended that raising AssertionFailedError would be better for diagnostics.&lt;br/&gt;
Should I still use assertTrue ?&lt;/p&gt;</comment>
                            <comment id="13683845" author="hadoopqa" created="Fri, 14 Jun 2013 22:10:48 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12587893/HADOOP-9582-4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12587893/HADOOP-9582-4.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2647//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2647//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2647//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2647//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13687022" author="jlowe" created="Tue, 18 Jun 2013 18:10:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;I did do this in one my previous patch,however Steve(on 22/May/13 06:01) recommended that raising AssertionFailedError would be better for diagnostics.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ah, yes, that makes sense for better diagnostics.&lt;/p&gt;

&lt;p&gt;I&apos;m +1 on the latest patch and will commit later today.&lt;/p&gt;</comment>
                            <comment id="13687268" author="hudson" created="Tue, 18 Jun 2013 22:05:43 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #3970 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/3970/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/3970/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9582&quot; title=&quot;Non-existent file to &amp;quot;hadoop fs -conf&amp;quot; doesn&amp;#39;t throw error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9582&quot;&gt;&lt;del&gt;HADOOP-9582&lt;/del&gt;&lt;/a&gt;. Non-existent file to &quot;hadoop fs -conf&quot; doesn&apos;t throw error. Contributed by Ashwin Shankar (Revision 1494331)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jlowe : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494331&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FsShell.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShell.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13687273" author="jlowe" created="Tue, 18 Jun 2013 22:12:46 +0000"  >&lt;p&gt;Thanks, Ashwin!  I committed this to trunk, branch-2, and branch-0.23.&lt;/p&gt;</comment>
                            <comment id="13687849" author="hudson" created="Wed, 19 Jun 2013 10:41:37 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #245 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/245/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/245/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9582&quot; title=&quot;Non-existent file to &amp;quot;hadoop fs -conf&amp;quot; doesn&amp;#39;t throw error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9582&quot;&gt;&lt;del&gt;HADOOP-9582&lt;/del&gt;&lt;/a&gt;. Non-existent file to &quot;hadoop fs -conf&quot; doesn&apos;t throw error. Contributed by Ashwin Shankar (Revision 1494331)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jlowe : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494331&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FsShell.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShell.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13687932" author="hudson" created="Wed, 19 Jun 2013 12:41:40 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-0.23-Build #643 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/643/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/643/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9582&quot; title=&quot;Non-existent file to &amp;quot;hadoop fs -conf&amp;quot; doesn&amp;#39;t throw error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9582&quot;&gt;&lt;del&gt;HADOOP-9582&lt;/del&gt;&lt;/a&gt;. Non-existent file to &quot;hadoop fs -conf&quot; doesn&apos;t throw error. Contributed by Ashwin Shankar (Revision 1494338)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jlowe : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494338&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FsShell.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShell.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13687950" author="hudson" created="Wed, 19 Jun 2013 13:04:22 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1435 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1435/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1435/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9582&quot; title=&quot;Non-existent file to &amp;quot;hadoop fs -conf&amp;quot; doesn&amp;#39;t throw error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9582&quot;&gt;&lt;del&gt;HADOOP-9582&lt;/del&gt;&lt;/a&gt;. Non-existent file to &quot;hadoop fs -conf&quot; doesn&apos;t throw error. Contributed by Ashwin Shankar (Revision 1494331)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jlowe : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494331&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FsShell.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShell.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13687995" author="hudson" created="Wed, 19 Jun 2013 13:38:08 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1462 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1462/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1462/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9582&quot; title=&quot;Non-existent file to &amp;quot;hadoop fs -conf&amp;quot; doesn&amp;#39;t throw error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9582&quot;&gt;&lt;del&gt;HADOOP-9582&lt;/del&gt;&lt;/a&gt;. Non-existent file to &quot;hadoop fs -conf&quot; doesn&apos;t throw error. Contributed by Ashwin Shankar (Revision 1494331)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jlowe : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494331&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FsShell.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShell.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12665341">HADOOP-9900</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587892" name="HADOOP-9582-4-b23.txt" size="3971" author="ashwinshankar77" created="Fri, 14 Jun 2013 21:21:12 +0000"/>
                            <attachment id="12587893" name="HADOOP-9582-4.txt" size="3984" author="ashwinshankar77" created="Fri, 14 Jun 2013 21:21:26 +0000"/>
                            <attachment id="12584745" name="HADOOP-9582.txt" size="6392" author="ashwinshankar77" created="Fri, 24 May 2013 19:58:42 +0000"/>
                            <attachment id="12584323" name="HADOOP-9582.txt" size="3856" author="ashwinshankar77" created="Wed, 22 May 2013 15:51:41 +0000"/>
                            <attachment id="12584191" name="HADOOP-9582.txt" size="3665" author="ashwinshankar77" created="Tue, 21 May 2013 22:23:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kqk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329191</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12324030">2.1.0-beta</customfieldvalue>
    <customfieldvalue id="12324562">0.23.9</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>