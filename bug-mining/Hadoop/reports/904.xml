<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:43:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9637] Adding Native Fstat for Windows as needed by YARN</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9637</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;In the YARN, nodemanager need to enforce the log file can only be accessed by the owner. At various places, &lt;tt&gt;SecureIOUtils.openForRead()&lt;/tt&gt; was called to enforce this check. We don&apos;t have &lt;tt&gt;NativeIO.Posix.getFstat()&lt;/tt&gt; used by &lt;tt&gt;SecureIOUtils.openForRead()&lt;/tt&gt; on Windows, and this make the check fail on Windows. The YARN unit tests TestAggregatedLogFormat.testContainerLogsFileAccess and TestContainerLogsPage.testContainerLogPageAccess fail on Windows because of this.&lt;/p&gt;

&lt;p&gt;The JIRA try to provide a Windows implementation of &lt;tt&gt;NativeIO.Posix.getFstat()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;TestAggregatedLogFormat.testContainerLogsFileAccess test case fails on Windows. The test case try to simulate a situation where first log file is owned by different user (probably symlink) and second one by the user itself. In this situation, the attempt to try to aggregate the logs should fail with the error message &quot;Owner ... for path ... did not match expected owner ...&quot;.&lt;/p&gt;

&lt;p&gt;The check on file owner happens at &lt;tt&gt;AggregatedLogFormat.write()&lt;/tt&gt; method. The method calls &lt;tt&gt;SecureIOUtils.openForRead()&lt;/tt&gt; to read the log files before writing out to the OutputStream.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;SecureIOUtils.openForRead()&lt;/tt&gt; use &lt;tt&gt;NativeIO.Posix.getFstat()&lt;/tt&gt; to get the file owner and group. We don&apos;t have &lt;tt&gt;NativeIO.Posix.getFstat()&lt;/tt&gt; implementation on Windows; thus, the failure.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652132">HADOOP-9637</key>
            <summary>Adding Native Fstat for Windows as needed by YARN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chuanliu">Chuan Liu</assignee>
                                    <reporter username="chuanliu">Chuan Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jun 2013 01:32:05 +0000</created>
                <updated>Thu, 12 May 2016 18:27:06 +0000</updated>
                            <resolved>Tue, 18 Jun 2013 22:27:14 +0000</resolved>
                                    <version>2.1.0-beta</version>
                    <version>3.0.0-alpha1</version>
                                    <fixVersion>2.1.0-beta</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13680235" author="chuanliu" created="Tue, 11 Jun 2013 06:02:03 +0000"  >&lt;p&gt;Post a patch. In this patch, I implemented &lt;tt&gt;NativeIO.POSIX.getFstat()&lt;/tt&gt; for Windows. There are some minimal refactoring in winutils to make this work, including:&lt;/p&gt;

&lt;p&gt;1. Moved symlink and directory check from &apos;&lt;tt&gt;Ls()&lt;/tt&gt;&apos; method to &apos;&lt;tt&gt;FindFileOwnerAndPermission()&lt;/tt&gt;&apos;.&lt;/p&gt;

&lt;p&gt;2. Added an additional mode flag equivalent of S_IFREG on Linux.&lt;/p&gt;

&lt;p&gt;3. Added &apos;&lt;tt&gt;FindFileOwnerAndPermissionByHandle()&lt;/tt&gt;&apos; method &amp;#8211; a lightweight method that calls &apos;&lt;tt&gt;FindFileOwnerAndPermission()&lt;/tt&gt;&apos;. The Java native method &lt;tt&gt;fstat()&lt;/tt&gt; on Windows directly calls this new method to get file stat.&lt;/p&gt;

&lt;p&gt;4. Enabled two TestNativeIO test cases, &lt;tt&gt;testFstat&lt;/tt&gt; and &lt;tt&gt;testFstatClosedFdfor&lt;/tt&gt;, that are previously disabled on Windows.&lt;/p&gt;

&lt;p&gt;5. In &lt;tt&gt;NativeIO.POSIX.getFstat()&lt;/tt&gt;, I used the similar pattern as &lt;tt&gt;NativeIO.POSIX.chmod()&lt;/tt&gt; to map the Windows Error 6 (ERROR_INVALID_HANDLE: The handle is invalid ) to Linux exception Errno.EBADF. In analog, &lt;tt&gt;chmod()&lt;/tt&gt; maps Windows error code 3 ERROR_PATH_NOT_FOUND to Linux Errno.ENOENT.&lt;/p&gt;</comment>
                            <comment id="13681630" author="hadoopqa" created="Wed, 12 Jun 2013 20:58:34 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12587204/HADOOP-9637-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12587204/HADOOP-9637-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2642//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2642//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2642//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2642//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13685072" author="chuanliu" created="Mon, 17 Jun 2013 07:57:36 +0000"  >&lt;p&gt;The patch can also fix TestContainerLogsPage.&lt;/p&gt;</comment>
                            <comment id="13685751" author="cnauroth" created="Mon, 17 Jun 2013 17:43:22 +0000"  >&lt;p&gt;Nice work, Chuan!  Here are a couple of questions:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (Shell.WINDOWS) {
          &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = owner.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;\\&apos;&lt;/span&gt;);
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (i != -1)
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.owner = owner.substring(i + 1);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I understand correctly, this is intended to remove the domain portion from a username.  (Am I understanding it correctly?)  Does Windows ever prepend domain to the group name too?  Do we need similar logic for initializing &lt;tt&gt;this.group&lt;/tt&gt;?&lt;/p&gt;

&lt;p&gt;It seems that this logic would treat user DOMAIN1\cnauroth the same as DOMAIN2\cnauroth, when in reality the same username in 2 different domains might not be the same person.  Consumers of fstat would end up seeing &quot;cnauroth&quot; as the owner without being able to differentiate between the 2 different users in 2 different domains.  Is this acceptable?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  stat_ctor2 = (*env)-&amp;gt;GetMethodID(env, stat_clazz, &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;init&amp;gt;&quot;&lt;/span&gt;,
	  &lt;span class=&quot;code-quote&quot;&gt;&quot;(Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;I)V&quot;&lt;/span&gt;);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!stat_ctor2) {
	  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;; &lt;span class=&quot;code-comment&quot;&gt;// exception has been raised
&lt;/span&gt;  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Minor nit: use 2-space indentation in the above code.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  dwRtnCode = GetFinalPathNameByHandle(fileHandle, path, cchPathLen, 0);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (dwRtnCode == 0)
  {
    ret = GetLastError();
    &lt;span class=&quot;code-keyword&quot;&gt;goto&lt;/span&gt; FindFileOwnerAndPermissionByHandleEnd;
  }
  cchPathLen = dwRtnCode;
  path = (LPWSTR) LocalAlloc(LPTR, cchPathLen * sizeof(WCHAR));
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (path == NULL)
  {
    ret = GetLastError();
    &lt;span class=&quot;code-keyword&quot;&gt;goto&lt;/span&gt; FindFileOwnerAndPermissionByHandleEnd;
  }

  dwRtnCode = GetFinalPathNameByHandle(fileHandle, path, cchPathLen, 0);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (dwRtnCode != cchPathLen - 1)
  {
    ret = GetLastError();
    &lt;span class=&quot;code-keyword&quot;&gt;goto&lt;/span&gt; FindFileOwnerAndPermissionByHandleEnd;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I read up on the MSDN docs for &lt;tt&gt;GetFinalPathNameByHandle&lt;/tt&gt; here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://msdn.microsoft.com/en-us/library/windows/desktop/aa364962(v=vs.85).aspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://msdn.microsoft.com/en-us/library/windows/desktop/aa364962(v=vs.85).aspx&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The first call returns the required buffer length, including null terminator:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If the function fails because lpszFilePath is too small to hold the string plus the terminating null character, the return value is the required buffer size, in TCHARs. This value includes the size of the terminating null character.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;However, the value of &lt;tt&gt;cchFilePath&lt;/tt&gt; passed to the function in the second call is expected to exclude the null terminator:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;cchFilePath &lt;span class=&quot;error&quot;&gt;&amp;#91;in&amp;#93;&lt;/span&gt;&lt;br/&gt;
The size of lpszFilePath, in TCHARs. This value does not include a NULL termination character.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Does this mean that we need to subtract 1 from &lt;tt&gt;cchPathLen&lt;/tt&gt; earlier, such as when we assign &lt;tt&gt;cchPathLen = dwRtnCode&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="13685762" author="vinodkv" created="Mon, 17 Jun 2013 17:51:09 +0000"  >&lt;p&gt;May be you should edit the title to be something in the line of &quot;Adding Native Fstat for Windows as needed by YARN&quot;.&lt;/p&gt;</comment>
                            <comment id="13685978" author="chuanliu" created="Mon, 17 Jun 2013 20:57:57 +0000"  >&lt;p&gt;&amp;gt;May be you should edit the title to be something in the line of &quot;Adding Native Fstat for Windows as needed by YARN&quot;.&lt;br/&gt;
Thanks for the suggestion! I have changed the title; will update the description shortly.&lt;/p&gt;</comment>
                            <comment id="13686247" author="chuanliu" created="Tue, 18 Jun 2013 00:46:45 +0000"  >&lt;p&gt;Thanks for reviewing, Chris!&lt;/p&gt;

&lt;p&gt;&amp;gt;If I understand correctly, this is intended to remove the domain portion from a username. (Am I understanding it correctly?) Does Windows ever prepend domain to the group name too? Do we need similar logic for initializing this.group?&lt;/p&gt;

&lt;p&gt;You are right. We also need this for group name. I will fix this in a new patch.&lt;/p&gt;

&lt;p&gt;&amp;gt;It seems that this logic would treat user DOMAIN1\cnauroth the same as DOMAIN2\cnauroth, when in reality the same username in 2 different domains might not be the same person. Consumers of fstat would end up seeing &quot;cnauroth&quot; as the owner without being able to differentiate between the 2 different users in 2 different domains. Is this acceptable?&lt;/p&gt;

&lt;p&gt;This is by design right now. UserGroupInformation, NativeIO.Windows.getOwner(), and a few other places all assume this pattern, i.e. username without domain. (UserGroupInformation does not explicitly strip the domain, however, the Java API it used only returns username.) There are some discussions on this in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8455&quot; title=&quot;Address user name format on domain joined Windows machines&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8455&quot;&gt;HADOOP-8455&lt;/a&gt;. The main scenario we want to support (for unsecure Hadoop on Windows) is to allow local users of the same name to run Hadoop cluster without a domain controller. For example, users can create local user &apos;Alex&apos; on the two machines &apos;Win1&apos; and &apos;Win2&apos;, and run Hadoop under the local user &apos;Alex&apos;. I think it is acceptable for now; I have outlined some thoughts on how we can improve this in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8455&quot; title=&quot;Address user name format on domain joined Windows machines&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8455&quot;&gt;HADOOP-8455&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&amp;gt;Minor nit: use 2-space indentation in the above code.&lt;/p&gt;

&lt;p&gt;Thanks for pointing this out; will fix in new patch.&lt;/p&gt;

&lt;p&gt;&amp;gt;Does this mean that we need to subtract 1 from cchPathLen earlier, such as when we assign cchPathLen = dwRtnCode?&lt;/p&gt;

&lt;p&gt;Not necessary. I have similar thoughts when I wrote the code. I intentionally make the buffer size 1 char larger; so the last character is the NULL terminator. Because without NULL terminator, some functions, e.g. wcslen(), will fail on the string, including some Windows function like GetNamedSecurityInfo() that is called on the path later. I think the MSDN document means the buffer only need to be as large as string length without null terminator. However, it does not require the buffer to be exact size. You may notice the example given at the MSDN page also used a larger buffer to save the path.&lt;/p&gt;</comment>
                            <comment id="13686432" author="hadoopqa" created="Tue, 18 Jun 2013 06:27:10 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12588295/HADOOP-9637-trunk.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12588295/HADOOP-9637-trunk.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2663//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2663//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2663//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2663//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13686983" author="cnauroth" created="Tue, 18 Jun 2013 17:23:55 +0000"  >&lt;p&gt;Thanks for addressing my questions.  It all makes sense.  I have just one more comment about the new patch.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (Shell.WINDOWS) {
          &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = owner.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;\\&apos;&lt;/span&gt;);
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (i != -1)
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.owner = owner.substring(i + 1);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code is identical for username and group, so let&apos;s refactor it behind a helper function.  We also can add comments stating that the reason for this is to remove domain.&lt;/p&gt;</comment>
                            <comment id="13687140" author="chuanliu" created="Tue, 18 Jun 2013 20:21:18 +0000"  >&lt;p&gt;Attaching a new patch.&lt;/p&gt;</comment>
                            <comment id="13687168" author="hadoopqa" created="Tue, 18 Jun 2013 20:48:55 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12588442/HADOOP-9637-trunk.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12588442/HADOOP-9637-trunk.3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2665//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2665//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2665//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2665//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13687276" author="cnauroth" created="Tue, 18 Jun 2013 22:14:33 +0000"  >&lt;p&gt;+1 for the patch.  I verified on Mac (without native libs), Linux (with native libs), and Windows (with native libs).  Chuan, thank you for incorporating all of the feedback.  I&apos;ll commit this.&lt;/p&gt;</comment>
                            <comment id="13687292" author="hudson" created="Tue, 18 Jun 2013 22:25:14 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #3971 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/3971/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/3971/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9637&quot; title=&quot;Adding Native Fstat for Windows as needed by YARN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9637&quot;&gt;&lt;del&gt;HADOOP-9637&lt;/del&gt;&lt;/a&gt;. Adding Native Fstat for Windows as needed by YARN. Contributed by Chuan Liu. (Revision 1494341)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cnauroth : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494341&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494341&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chmod.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chown.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/include/winutils.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/libwinutils.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/ls.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestNativeIO.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13687294" author="cnauroth" created="Tue, 18 Jun 2013 22:27:14 +0000"  >&lt;p&gt;I committed this to trunk, branch-2, and branch-2.1-beta.  Chuan, thank you for the contribution.&lt;/p&gt;</comment>
                            <comment id="13687842" author="hudson" created="Wed, 19 Jun 2013 10:41:36 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #245 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/245/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/245/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9637&quot; title=&quot;Adding Native Fstat for Windows as needed by YARN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9637&quot;&gt;&lt;del&gt;HADOOP-9637&lt;/del&gt;&lt;/a&gt;. Adding Native Fstat for Windows as needed by YARN. Contributed by Chuan Liu. (Revision 1494341)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cnauroth : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494341&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494341&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chmod.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chown.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/include/winutils.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/libwinutils.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/ls.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestNativeIO.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13687943" author="hudson" created="Wed, 19 Jun 2013 13:04:20 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1435 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1435/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1435/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9637&quot; title=&quot;Adding Native Fstat for Windows as needed by YARN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9637&quot;&gt;&lt;del&gt;HADOOP-9637&lt;/del&gt;&lt;/a&gt;. Adding Native Fstat for Windows as needed by YARN. Contributed by Chuan Liu. (Revision 1494341)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cnauroth : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494341&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494341&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chmod.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chown.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/include/winutils.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/libwinutils.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/ls.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestNativeIO.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13687988" author="hudson" created="Wed, 19 Jun 2013 13:38:06 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1462 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1462/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1462/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9637&quot; title=&quot;Adding Native Fstat for Windows as needed by YARN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9637&quot;&gt;&lt;del&gt;HADOOP-9637&lt;/del&gt;&lt;/a&gt;. Adding Native Fstat for Windows as needed by YARN. Contributed by Chuan Liu. (Revision 1494341)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cnauroth : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494341&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494341&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/io/nativeio/NativeIO.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chmod.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/chown.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/include/winutils.h&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/libwinutils.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/winutils/ls.c&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/nativeio/TestNativeIO.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12614174">YARN-191</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12588295" name="HADOOP-9637-trunk.2.patch" size="14985" author="chuanliu" created="Tue, 18 Jun 2013 05:45:32 +0000"/>
                            <attachment id="12588442" name="HADOOP-9637-trunk.3.patch" size="15858" author="chuanliu" created="Tue, 18 Jun 2013 20:21:18 +0000"/>
                            <attachment id="12587204" name="HADOOP-9637-trunk.patch" size="14774" author="chuanliu" created="Tue, 11 Jun 2013 06:02:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lcov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12324030">2.1.0-beta</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>