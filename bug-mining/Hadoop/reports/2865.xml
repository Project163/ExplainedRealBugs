<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:57:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-18330] S3AFileSystem removes Path when calling createS3Client</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-18330</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;when using hadoop and spark to read/write data from an s3 bucket like -&amp;gt; s3a://bucket/path and using a custom Credentials Provider, the path is removed from the s3a URI and the credentials provider fails because the full path is gone.&lt;/p&gt;

&lt;p&gt;In Spark 3.2,&lt;br/&gt;
It was invoked as -&amp;gt; s3 = ReflectionUtils.newInstance(s3ClientFactoryClass, conf)&lt;br/&gt;
.createS3Client(name, bucket, credentials);&#160;&lt;/p&gt;

&lt;p&gt;But In spark 3.3.3&lt;br/&gt;
It is invoked as s3 = ReflectionUtils.newInstance(s3ClientFactoryClass, conf).createS3Client(getUri(), parameters);&lt;br/&gt;
the getUri() removes the path from the s3a URI&lt;/p&gt;</description>
                <environment></environment>
        <key id="13470718">HADOOP-18330</key>
            <summary>S3AFileSystem removes Path when calling createS3Client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshpant">Ashutosh Pant</assignee>
                                    <reporter username="ashutoshpant">Ashutosh Pant</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 8 Jul 2022 14:36:35 +0000</created>
                <updated>Mon, 3 Apr 2023 09:13:49 +0000</updated>
                            <resolved>Tue, 26 Jul 2022 11:00:36 +0000</resolved>
                                    <version>3.3.0</version>
                    <version>3.3.1</version>
                    <version>3.3.2</version>
                    <version>3.3.3</version>
                                    <fixVersion>3.3.5</fixVersion>
                                    <component>fs/s3</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="13800">3h 50m</timespent>
                                <comments>
                            <comment id="17564599" author="stevel@apache.org" created="Sat, 9 Jul 2022 17:10:07 +0000"  >&lt;p&gt;looks like it was triggered by &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-14556&quot; title=&quot;S3A to support Delegation Tokens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-14556&quot;&gt;&lt;del&gt;HADOOP-14556&lt;/del&gt;&lt;/a&gt;, though it&apos;s a bit more complex than that as there&apos;s some canonicalisation taking place for delegation tokens to work.&lt;/p&gt;

&lt;p&gt;the way to fix this would be for an extra client attribute to be added to the S3ClientCreationParameters and then passed in. that way, we can be sure there will be no regressions.&lt;/p&gt;

&lt;p&gt;patch welcome... i can see you are working in the code at a depth where you are familiar with how to change this&lt;/p&gt;</comment>
                            <comment id="17566029" author="JIRAUSER292511" created="Tue, 12 Jul 2022 21:52:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt; Sorry for creating another PR but I was finally able to test the changes and remove any errors with it. Tested by packaging the jar and using the jar to read and write to an s3 bucket. Please review &lt;a href=&quot;https://github.com/apache/hadoop/pull/4557&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;GitHub Pull Request #4557&lt;/a&gt; and lmk if any changes need to be made!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17568174" author="JIRAUSER292511" created="Mon, 18 Jul 2022 19:17:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stevel%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;stevel@apache.org&quot;&gt;stevel@apache.org&lt;/a&gt; please review &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17646162" author="githubbot" created="Mon, 12 Dec 2022 15:27:21 +0000"  >&lt;p&gt;khancon commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1346700452&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1346700452&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Greetings, I was wondering what version of hadoop was this change merged into? Is it in 3.3.4 or will this come out with 3.3.5 release? &lt;/p&gt;

</comment>
                            <comment id="17646231" author="githubbot" created="Mon, 12 Dec 2022 17:24:59 +0000"  >&lt;p&gt;steveloughran commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1346920739&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1346920739&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   look at the jira; comming in 3.3.5 which will be at release candiate 0 this week &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-18330&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-18330&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17656707" author="githubbot" created="Tue, 10 Jan 2023 16:51:28 +0000"  >&lt;p&gt;khancon commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1377559923&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1377559923&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Greetings. It looks 3.3.5 still hasnt released even though it has been a month. Looks like the current version is still 3.3.4. Can you give us an exact date of when this will release and do so ASAP? &lt;/p&gt;

</comment>
                            <comment id="17676735" author="githubbot" created="Fri, 13 Jan 2023 19:11:28 +0000"  >&lt;p&gt;steveloughran commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1382267572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1382267572&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   The first release candidate is up for testing. Download and test it. This is the only way you can be sure that the actual shipped version does what you need. &lt;/p&gt;

</comment>
                            <comment id="17677976" author="githubbot" created="Tue, 17 Jan 2023 20:39:19 +0000"  >&lt;p&gt;khancon commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1386021580&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1386021580&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   where can I download this &quot;candidate&quot; 3.3.5 version you are talking about? It&apos;s nowhere on your website.&lt;/p&gt;

</comment>
                            <comment id="17680247" author="githubbot" created="Tue, 24 Jan 2023 15:02:42 +0000"  >&lt;p&gt;khancon commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1402091270&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1402091270&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Hi, I would appreciate a response to this question above. Thanks&lt;/p&gt;

</comment>
                            <comment id="17681276" author="githubbot" created="Fri, 27 Jan 2023 11:00:13 +0000"  >&lt;p&gt;steveloughran commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1406340730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1406340730&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   we put up RCs for review through our dev lists; if you really want to get involved in pre-release code you should subscribe. here is the announcement. as it warns, I&apos;ve been on vacation for most of the month, hence my lack of replies.&lt;/p&gt;

&lt;p&gt;   -------&lt;/p&gt;



&lt;p&gt;   --------&lt;/p&gt;</comment>
                            <comment id="17701321" author="githubbot" created="Thu, 16 Mar 2023 18:06:24 +0000"  >&lt;p&gt;khancon commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1472470803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1472470803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Hi there! When can we expect the official release for version 3.3.5. I&#8217;m curious what the hold up is.&lt;/p&gt;

</comment>
                            <comment id="17707867" author="githubbot" created="Mon, 3 Apr 2023 09:13:49 +0000"  >&lt;p&gt;steveloughran commented on PR #4572:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/4572#issuecomment-1493964374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/4572#issuecomment-1493964374&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt;  When can we expect the official release for version 3.3.5.&lt;br/&gt;
   its out&lt;/p&gt;

&lt;p&gt;   &amp;gt; I&#8217;m curious what the hold up is.&lt;/p&gt;

&lt;p&gt;   one of the big problems is lack of testing of release candidates. it is very frustating to have a release ready and then, during the week of voting on it, not enough people review it. One contribution everyone can make to any of the ASF project is to help validate the release.&lt;/p&gt;

&lt;p&gt;   If you depend on something working, this is an important thing to do. If any bug surfaces now, it wont get fixed for three months at least.&lt;/p&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13081175">HADOOP-14556</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16prk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>