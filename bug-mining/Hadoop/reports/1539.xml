<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:47:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-11787] OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-11787</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;In OpensslSecureRandom.c, pthread_threadid_np is being used with an unsigned long, but the type signature requires a uint64_t.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782441">HADOOP-11787</key>
            <summary>OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kiranmr">Kiran Kumar M R</assignee>
                                    <reporter username="cmccabe">Colin McCabe</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2015 01:46:08 +0000</created>
                <updated>Fri, 10 Apr 2015 20:04:33 +0000</updated>
                            <resolved>Wed, 1 Apr 2015 18:52:46 +0000</resolved>
                                    <version>2.7.0</version>
                                    <fixVersion>2.7.0</fixVersion>
                                    <component>native</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14364488" author="cnauroth" created="Tue, 17 Mar 2015 03:28:21 +0000"  >&lt;p&gt;Hello, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kiranmr&quot; class=&quot;user-hover&quot; rel=&quot;kiranmr&quot;&gt;kiranmr&lt;/a&gt;.  Are you interested in taking this as a follow-up?&lt;/p&gt;</comment>
                            <comment id="14364704" author="kiranmr" created="Tue, 17 Mar 2015 07:23:18 +0000"  >&lt;p&gt;I am continuing discussion on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmccabe&quot; class=&quot;user-hover&quot; rel=&quot;cmccabe&quot;&gt;cmccabe&lt;/a&gt; comment &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11638?focusedCommentId=14364215&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14364215&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-11638?focusedCommentId=14364215&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14364215&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I looked at this and found that &lt;tt&gt;pthread_threadid_np&lt;/tt&gt; on Mac has the type signature: &lt;tt&gt;int pthread_threadid_np(pthread_t thread, __uint64_t *thread_id)&lt;/tt&gt; This doesn&apos;t match with using an &lt;tt&gt;unsigned long&lt;/tt&gt;. I&apos;m not sure under what conditions an unsigned long is different than a &lt;tt&gt;uint64_t&lt;/tt&gt; on Mac (on Linux, that would be the case with 32-bit compilation). So this patch may have a buffer overflow in that case.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree there may be a buffer overflow in case of 32-bit compilation on Mac. I went ahead with patch since 64-bit build was mostly used. I will submit a patch soon to use &lt;tt&gt;uint64_t&lt;/tt&gt; and cast it to &lt;tt&gt;unsigned long&lt;/tt&gt; &lt;/p&gt;</comment>
                            <comment id="14365638" author="cmccabe" created="Tue, 17 Mar 2015 17:46:14 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kiranmr&quot; class=&quot;user-hover&quot; rel=&quot;kiranmr&quot;&gt;kiranmr&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14386885" author="kiranmr" created="Mon, 30 Mar 2015 15:44:41 +0000"  >&lt;p&gt;Chris, need your help to verify this patch on Mac OS X&lt;/p&gt;</comment>
                            <comment id="14386965" author="hadoopqa" created="Mon, 30 Mar 2015 16:50:27 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12708170/HDFS-7938-001.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12708170/HDFS-7938-001.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision e7ea2a8.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/10111//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/10111//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HDFS-Build/10111//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HDFS-Build/10111//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14391223" author="cnauroth" created="Wed, 1 Apr 2015 18:52:46 +0000"  >&lt;p&gt;+1 for the patch.  I verified this on Mac.  I committed this to trunk, branch-2 and branch-2.7.  Kiran, thank you for the patch.  Colin, thank you for reporting the problem.&lt;/p&gt;</comment>
                            <comment id="14391337" author="kiranmr" created="Wed, 1 Apr 2015 20:04:55 +0000"  >&lt;p&gt;Chris, thanks for verifying on Mac and comitting&lt;/p&gt;</comment>
                            <comment id="14391343" author="hudson" created="Wed, 1 Apr 2015 20:07:52 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #7487 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/7487/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/7487/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11787&quot; title=&quot;OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11787&quot;&gt;&lt;del&gt;HADOOP-11787&lt;/del&gt;&lt;/a&gt;. OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac. Contributed by Kiran Kumar M R. (cnauroth: rev a3a96a07faf0c6f6aa3ed33608271c2b1657e437)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/crypto/random/OpensslSecureRandom.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14392545" author="hudson" created="Thu, 2 Apr 2015 10:44:41 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #885 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/885/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/885/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11787&quot; title=&quot;OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11787&quot;&gt;&lt;del&gt;HADOOP-11787&lt;/del&gt;&lt;/a&gt;. OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac. Contributed by Kiran Kumar M R. (cnauroth: rev a3a96a07faf0c6f6aa3ed33608271c2b1657e437)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/crypto/random/OpensslSecureRandom.c&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14392599" author="hudson" created="Thu, 2 Apr 2015 11:34:27 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #151 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/151/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/151/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11787&quot; title=&quot;OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11787&quot;&gt;&lt;del&gt;HADOOP-11787&lt;/del&gt;&lt;/a&gt;. OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac. Contributed by Kiran Kumar M R. (cnauroth: rev a3a96a07faf0c6f6aa3ed33608271c2b1657e437)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/crypto/random/OpensslSecureRandom.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14392660" author="hudson" created="Thu, 2 Apr 2015 12:45:46 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #2083 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2083/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/2083/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11787&quot; title=&quot;OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11787&quot;&gt;&lt;del&gt;HADOOP-11787&lt;/del&gt;&lt;/a&gt;. OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac. Contributed by Kiran Kumar M R. (cnauroth: rev a3a96a07faf0c6f6aa3ed33608271c2b1657e437)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/crypto/random/OpensslSecureRandom.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14392793" author="hudson" created="Thu, 2 Apr 2015 14:57:30 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #142 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/142/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/142/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11787&quot; title=&quot;OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11787&quot;&gt;&lt;del&gt;HADOOP-11787&lt;/del&gt;&lt;/a&gt;. OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac. Contributed by Kiran Kumar M R. (cnauroth: rev a3a96a07faf0c6f6aa3ed33608271c2b1657e437)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/crypto/random/OpensslSecureRandom.c&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14392874" author="hudson" created="Thu, 2 Apr 2015 15:53:15 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #151 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/151/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/151/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11787&quot; title=&quot;OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11787&quot;&gt;&lt;del&gt;HADOOP-11787&lt;/del&gt;&lt;/a&gt;. OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac. Contributed by Kiran Kumar M R. (cnauroth: rev a3a96a07faf0c6f6aa3ed33608271c2b1657e437)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/crypto/random/OpensslSecureRandom.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14393124" author="hudson" created="Thu, 2 Apr 2015 18:34:29 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #2101 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2101/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2101/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11787&quot; title=&quot;OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11787&quot;&gt;&lt;del&gt;HADOOP-11787&lt;/del&gt;&lt;/a&gt;. OpensslSecureRandom.c pthread_threadid_np usage signature is wrong on 32-bit Mac. Contributed by Kiran Kumar M R. (cnauroth: rev a3a96a07faf0c6f6aa3ed33608271c2b1657e437)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/native/src/org/apache/hadoop/crypto/random/OpensslSecureRandom.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12777938">HADOOP-11638</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12708170" name="HDFS-7938-001.patch" size="1028" author="kiranmr" created="Mon, 30 Mar 2015 15:43:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26ugn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327583">2.7.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>