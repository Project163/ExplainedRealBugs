<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:46:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-11221] JAVA specification for hashcode does not enforce it to be non-negative, but IdentityHashStore assumes System.identityHashCode() is non-negative</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-11221</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;The following code snippet shows that IdentityHashStore assumes the hashCode is always non-negative.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void putInternal(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; k, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; v) {
     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; hash = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.identityHashCode(k);
     &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; numEntries = buffer.length / 2;
     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index = hash % numEntries;
	 ...
   }
   
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getElementIndex(K k) {
     ...
     &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; numEntries = buffer.length / 2;
     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; hash = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.identityHashCode(k);
     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index = hash % numEntries;
     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; firstIndex = index;
     ...
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12750149">HADOOP-11221</key>
            <summary>JAVA specification for hashcode does not enforce it to be non-negative, but IdentityHashStore assumes System.identityHashCode() is non-negative</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwang302">Jinghui Wang</assignee>
                                    <reporter username="jwang302">Jinghui Wang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Oct 2014 18:18:00 +0000</created>
                <updated>Mon, 1 Dec 2014 03:10:04 +0000</updated>
                            <resolved>Thu, 30 Oct 2014 18:02:26 +0000</resolved>
                                    <version>2.4.1</version>
                                    <fixVersion>2.6.0</fixVersion>
                                    <component>util</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14181706" author="jwang302" created="Thu, 23 Oct 2014 18:21:28 +0000"  >&lt;p&gt;This causes failures with IBM JAVA where System.identityHashCode can return negative values. Attached patch fixes the problem.&lt;/p&gt;</comment>
                            <comment id="14181811" author="hadoopqa" created="Thu, 23 Oct 2014 19:32:04 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12676663/HADOOP-11221.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12676663/HADOOP-11221.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision d71d40a.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 3 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.metrics2.impl.TestMetricsSystemImpl&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4938//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4938//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4938//artifact/patchprocess/newPatchFindbugsWarningshadoop-common.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4938//artifact/patchprocess/newPatchFindbugsWarningshadoop-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4938//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4938//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14181962" author="chris.douglas" created="Thu, 23 Oct 2014 21:04:56 +0000"  >&lt;p&gt;&lt;tt&gt;Math.abs(Integer.MIN_VALUE)&lt;/tt&gt; is still negative.&lt;/p&gt;</comment>
                            <comment id="14182279" author="jwang302" created="Fri, 24 Oct 2014 01:11:59 +0000"  >&lt;p&gt;Hi Chris,&lt;/p&gt;

&lt;p&gt;Thanks for pointing out the edge case there. I have updated the patch.&lt;/p&gt;</comment>
                            <comment id="14182281" author="chris.douglas" created="Fri, 24 Oct 2014 01:18:42 +0000"  >&lt;p&gt;How about &lt;tt&gt;hash = System.identityHashCode(k) &amp;amp; Integer.MAX_VALUE;&lt;/tt&gt; ?&lt;/p&gt;</comment>
                            <comment id="14182305" author="hadoopqa" created="Fri, 24 Oct 2014 02:02:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12676803/HADOOP-11221.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12676803/HADOOP-11221.v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision db45f04.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4943//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4943//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4943//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4943//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14182327" author="szetszwo" created="Fri, 24 Oct 2014 02:22:18 +0000"  >&lt;p&gt;The capacity of an IdentityHashStore and buffer.length (=4*capacity) are powers of 2.  Therefore, we may use &amp;amp; to calculate positive mod, i.e.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; hash = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.identityHashCode(k);
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; numEntries = buffer.length &amp;gt;&amp;gt; 1;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index = hash &amp;amp; (numEntries - 1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14183230" author="jwang302" created="Fri, 24 Oct 2014 18:27:58 +0000"  >&lt;p&gt;Hi Nicholas,&lt;/p&gt;

&lt;p&gt;Thanks for the suggestion, I double checked the code looks like the capacity of buffer.length will always be power of 2. Will update the patch.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; IdentityHashStore(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; capacity) {
    Preconditions.checkArgument(capacity &amp;gt;= 0);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (capacity == 0) {
      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.capacity = 0;
      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.buffer = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      &lt;span class=&quot;code-comment&quot;&gt;// Round the capacity we need up to a power of 2.
&lt;/span&gt;      realloc((&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(2,
          &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.ceil(&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.log(capacity) / &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.log(2))));
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14183248" author="jwang302" created="Fri, 24 Oct 2014 18:41:13 +0000"  >&lt;p&gt;Hi Nicholas,&lt;/p&gt;

&lt;p&gt;A follow up question, why the right shift by 1 on the second line. Doing that will make the index &amp;lt; numEntries/2 rather than index &amp;lt; numEntries. i.e. numEntries is 8, by shifting right 1 bit, index will be between 0 and 3.&lt;/p&gt;</comment>
                            <comment id="14183267" author="szetszwo" created="Fri, 24 Oct 2014 18:49:24 +0000"  >&lt;p&gt;The original code has &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; numEntries = buffer.length / 2;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I just change &quot; / 2&quot; to &quot; &amp;gt;&amp;gt; 1&quot; for better performance.&lt;/p&gt;</comment>
                            <comment id="14183503" author="jwang302" created="Fri, 24 Oct 2014 21:14:11 +0000"  >&lt;p&gt;Thanks for the clarification. I missed the orignal divide by 2. Patch updated.&lt;/p&gt;</comment>
                            <comment id="14183615" author="szetszwo" created="Fri, 24 Oct 2014 22:06:35 +0000"  >&lt;p&gt;+1 patch looks good.&lt;/p&gt;</comment>
                            <comment id="14183621" author="hadoopqa" created="Fri, 24 Oct 2014 22:12:05 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12677008/HADOOP-11221.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12677008/HADOOP-11221.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision dc6e819.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4952//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4952//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4952//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4952//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14185346" author="cmccabe" created="Mon, 27 Oct 2014 16:39:41 +0000"  >&lt;p&gt;Thanks, Jinghui.  +1&lt;/p&gt;

&lt;p&gt;Can you add a comment to the code stating that numEntries must be a power of 2 for this hashing code to work?&lt;/p&gt;</comment>
                            <comment id="14185406" author="jwang302" created="Mon, 27 Oct 2014 17:04:28 +0000"  >&lt;p&gt;Patch updated with comments.&lt;/p&gt;</comment>
                            <comment id="14185491" author="cmccabe" created="Mon, 27 Oct 2014 17:46:29 +0000"  >&lt;p&gt;Great.  +1 pending jenkins&lt;/p&gt;</comment>
                            <comment id="14185516" author="hadoopqa" created="Mon, 27 Oct 2014 18:02:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12677335/HADOOP-11221.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12677335/HADOOP-11221.v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 463aec1.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4960//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4960//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4960//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4960//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14190495" author="szetszwo" created="Thu, 30 Oct 2014 18:02:26 +0000"  >&lt;p&gt;I have committed this.  Thanks, Jinghui!&lt;/p&gt;</comment>
                            <comment id="14190497" author="hudson" created="Thu, 30 Oct 2014 18:02:55 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #6396 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/6396/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/6396/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11221&quot; title=&quot;JAVA specification for hashcode does not enforce it to be non-negative, but IdentityHashStore assumes System.identityHashCode() is non-negative&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11221&quot;&gt;&lt;del&gt;HADOOP-11221&lt;/del&gt;&lt;/a&gt;. IdentityHashStore assumes System.identityHashCode() is non-negative. Contributed by Jinghui Wang (szetszwo: rev a3dacc07e2c08bb4ecfce7b5e6d5602273989e9c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/IdentityHashStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14191713" author="hudson" created="Fri, 31 Oct 2014 11:42:10 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #729 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/729/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/729/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11221&quot; title=&quot;JAVA specification for hashcode does not enforce it to be non-negative, but IdentityHashStore assumes System.identityHashCode() is non-negative&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11221&quot;&gt;&lt;del&gt;HADOOP-11221&lt;/del&gt;&lt;/a&gt;. IdentityHashStore assumes System.identityHashCode() is non-negative. Contributed by Jinghui Wang (szetszwo: rev a3dacc07e2c08bb4ecfce7b5e6d5602273989e9c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/IdentityHashStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14191788" author="hudson" created="Fri, 31 Oct 2014 13:20:31 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1918 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1918/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1918/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11221&quot; title=&quot;JAVA specification for hashcode does not enforce it to be non-negative, but IdentityHashStore assumes System.identityHashCode() is non-negative&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11221&quot;&gt;&lt;del&gt;HADOOP-11221&lt;/del&gt;&lt;/a&gt;. IdentityHashStore assumes System.identityHashCode() is non-negative. Contributed by Jinghui Wang (szetszwo: rev a3dacc07e2c08bb4ecfce7b5e6d5602273989e9c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/IdentityHashStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14191919" author="hudson" created="Fri, 31 Oct 2014 15:15:04 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1943 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1943/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1943/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-11221&quot; title=&quot;JAVA specification for hashcode does not enforce it to be non-negative, but IdentityHashStore assumes System.identityHashCode() is non-negative&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-11221&quot;&gt;&lt;del&gt;HADOOP-11221&lt;/del&gt;&lt;/a&gt;. IdentityHashStore assumes System.identityHashCode() is non-negative. Contributed by Jinghui Wang (szetszwo: rev a3dacc07e2c08bb4ecfce7b5e6d5602273989e9c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/IdentityHashStore.java&lt;/li&gt;
	&lt;li&gt;hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12676802" name="HADOOP-11221.patch" size="978" author="jwang302" created="Fri, 24 Oct 2014 01:05:40 +0000"/>
                            <attachment id="12676803" name="HADOOP-11221.v1.patch" size="1368" author="jwang302" created="Fri, 24 Oct 2014 01:08:41 +0000"/>
                            <attachment id="12677008" name="HADOOP-11221.v2.patch" size="1363" author="jwang302" created="Fri, 24 Oct 2014 21:13:01 +0000"/>
                            <attachment id="12677335" name="HADOOP-11221.v3.patch" size="1509" author="jwang302" created="Mon, 27 Oct 2014 17:03:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21ie7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>