<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:42:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-8857] hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-8857</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;The docs and default.xml state that the secret is randomly generated if the secret.file is not present, this is incorrect as the secret must be shared across all nodes in the cluster as it is used to verify the signature of the hadoop.auth cookie. If randomly generated it would be diff in all nodes.&lt;/p&gt;



&lt;p&gt;ORIGINAL DESCRIPTION:&lt;/p&gt;

&lt;p&gt;AuthenticationFilterInitializer#initFilter fails if the configured &lt;tt&gt;hadoop.http.authentication.signature.secret.file&lt;/tt&gt; does not exist, eg:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.RuntimeException: Could not read HTTP signature secret file: /var/lib/hadoop-hdfs/hadoop-http-auth-signature-secret
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Creating /var/lib/hadoop-hdfs/hadoop-http-auth-signature-secret (populated with a string) fixes the issue. Per the auth docs &quot;If a secret is not provided a random secret is generated at start up time.&quot;, which sounds like it means the file should be generated at startup with a random secrete, which doesn&apos;t seem to be the case. Also the instructions in the docs should be more clear in this regard.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609310">HADOOP-8857</key>
            <summary>hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tucu00">Alejandro Abdelnur</assignee>
                                    <reporter username="eli">Eli Collins</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Sep 2012 21:45:02 +0000</created>
                <updated>Sat, 2 Feb 2013 12:40:32 +0000</updated>
                            <resolved>Fri, 25 Jan 2013 17:28:57 +0000</resolved>
                                    <version>2.0.0-alpha</version>
                                    <fixVersion>0.23.7</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13464457" author="eli" created="Thu, 27 Sep 2012 05:28:16 +0000"  >&lt;p&gt;Also, the documentation refers to the config as &quot;signature.secret&quot; not &quot;signature.secret.file&quot;. It should also mention that it should be created on each host in the cluster that runs an auth-enabled Web UI.&lt;/p&gt;
</comment>
                            <comment id="13466087" author="owen.omalley" created="Sat, 29 Sep 2012 02:33:43 +0000"  >&lt;p&gt;Actually, we need to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;remove the default value from core-default.xml&lt;/li&gt;
	&lt;li&gt;if the value isn&apos;t defined, let the lower layer generate random bytes&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Saving the random bytes lowers the security of the system.&lt;/p&gt;</comment>
                            <comment id="13467865" author="eli" created="Tue, 2 Oct 2012 17:02:51 +0000"  >&lt;p&gt;We should be able to get away with that, IIUC the only reason to save the randomly generated bytes was for users that need to share the secret across hosts, but we can require they generate their own secret.&lt;/p&gt;</comment>
                            <comment id="13562247" author="tucu00" created="Fri, 25 Jan 2013 01:13:06 +0000"  >&lt;p&gt;The secret cannot be generated randomly in the case of a cluster as the secret must be shared by ALL machines. We have to update the docs removing the &apos;generated randomly&apos; comment.&lt;/p&gt;</comment>
                            <comment id="13562249" author="tucu00" created="Fri, 25 Jan 2013 01:17:57 +0000"  >&lt;p&gt;patch updating docs and default.xml&lt;/p&gt;</comment>
                            <comment id="13562256" author="atm" created="Fri, 25 Jan 2013 01:35:02 +0000"  >&lt;p&gt;+1, this change looks good to me. I agree with Tucu that it&apos;s not reasonable to generate this value randomly given that this cookie will need to be validated by all of the hosts in the cluster.&lt;/p&gt;</comment>
                            <comment id="13562265" author="hadoopqa" created="Fri, 25 Jan 2013 01:47:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12566424/HADOOP-8857.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12566424/HADOOP-8857.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2090//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2090//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2090//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2090//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13562855" author="tucu00" created="Fri, 25 Jan 2013 17:28:57 +0000"  >&lt;p&gt;Committed to trunk and branch-2.&lt;/p&gt;</comment>
                            <comment id="13562858" author="hudson" created="Fri, 25 Jan 2013 17:34:41 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #3280 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/3280/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/3280/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8857&quot; title=&quot;hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8857&quot;&gt;&lt;del&gt;HADOOP-8857&lt;/del&gt;&lt;/a&gt;. hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated. (tucu) (Revision 1438601)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438601&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438601&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/resources/core-default.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/site/apt/HttpAuthentication.apt.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563434" author="hudson" created="Sat, 26 Jan 2013 10:39:29 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #108 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/108/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/108/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8857&quot; title=&quot;hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8857&quot;&gt;&lt;del&gt;HADOOP-8857&lt;/del&gt;&lt;/a&gt;. hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated. (tucu) (Revision 1438601)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438601&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438601&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/resources/core-default.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/site/apt/HttpAuthentication.apt.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563478" author="hudson" created="Sat, 26 Jan 2013 12:56:19 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1297 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1297/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1297/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8857&quot; title=&quot;hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8857&quot;&gt;&lt;del&gt;HADOOP-8857&lt;/del&gt;&lt;/a&gt;. hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated. (tucu) (Revision 1438601)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438601&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438601&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/resources/core-default.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/site/apt/HttpAuthentication.apt.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563484" author="hudson" created="Sat, 26 Jan 2013 13:21:17 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1325 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1325/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1325/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8857&quot; title=&quot;hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8857&quot;&gt;&lt;del&gt;HADOOP-8857&lt;/del&gt;&lt;/a&gt;. hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated. (tucu) (Revision 1438601)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438601&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438601&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/resources/core-default.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/site/apt/HttpAuthentication.apt.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13569527" author="hudson" created="Sat, 2 Feb 2013 12:40:32 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-0.23-Build #513 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/513/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/513/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8857&quot; title=&quot;hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8857&quot;&gt;&lt;del&gt;HADOOP-8857&lt;/del&gt;&lt;/a&gt;. hadoop.http.authentication.signature.secret.file docs should not state that secret is randomly generated. (tucu) (Revision 1441567)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tgraves : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1441567&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1441567&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/resources/core-default.xml&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/site/apt/HttpAuthentication.apt.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566424" name="HADOOP-8857.patch" size="1779" author="tucu00" created="Fri, 25 Jan 2013 01:17:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02i6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12548</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>