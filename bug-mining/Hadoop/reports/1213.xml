<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:45:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10468] TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10468</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;&lt;tt&gt;TestMetricsSystemImpl.testMultiThreadedPublish&lt;/tt&gt; can fail intermediately due to the insufficient size of the sink queue:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2014-04-06 21:34:55,269 WARN  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:putMetricsImmediate(107)) - Collector has a full queue and can&apos;t consume the given metrics.
2014-04-06 21:34:55,270 WARN  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:putMetricsImmediate(107)) - Collector has a full queue and can&apos;t consume the given metrics.
2014-04-06 21:34:55,271 WARN  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:putMetricsImmediate(107)) - Collector has a full queue and can&apos;t consume the given metrics.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The unit test should increase the default queue size to avoid intermediate failure.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12707085">HADOOP-10468</key>
            <summary>TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aajisaka">Akira Ajisaka</assignee>
                                    <reporter username="wheat9">Haohui Mai</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Apr 2014 00:54:12 +0000</created>
                <updated>Fri, 15 Aug 2014 05:39:31 +0000</updated>
                            <resolved>Tue, 15 Jul 2014 20:01:17 +0000</resolved>
                                    <version>2.5.0</version>
                                    <fixVersion>2.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13962525" author="wheat9" created="Tue, 8 Apr 2014 02:16:33 +0000"  >&lt;p&gt;The problem is that the configuration value is not picked up in the unit test. Investigation shows that the &lt;tt&gt;MetricsConfig&lt;/tt&gt; class converts the prefix into lowercase string, internally the prefix is used to look up the configuration value. The mismatch of letter cases causes the system fails to pick up the configuration values.&lt;/p&gt;</comment>
                            <comment id="13962549" author="hadoopqa" created="Tue, 8 Apr 2014 03:05:34 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12639122/HADOOP-10468.000.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12639122/HADOOP-10468.000.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.metrics2.impl.TestMetricsSystemImpl&lt;br/&gt;
                  org.apache.hadoop.metrics2.impl.TestGangliaMetrics&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3753//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3753//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3753//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3753//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13962558" author="hadoopqa" created="Tue, 8 Apr 2014 04:04:55 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12639127/HADOOP-10468.001.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12639127/HADOOP-10468.001.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3755//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3755//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3755//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3755//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13962626" author="arpitagarwal" created="Tue, 8 Apr 2014 06:20:58 +0000"  >&lt;p&gt;+1 for the patch.&lt;/p&gt;</comment>
                            <comment id="13962696" author="wheat9" created="Tue, 8 Apr 2014 08:22:03 +0000"  >&lt;p&gt;I&apos;ve committed the patch to trunk and branch-2. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arpitagarwal&quot; class=&quot;user-hover&quot; rel=&quot;arpitagarwal&quot;&gt;arpitagarwal&lt;/a&gt; for the review.&lt;/p&gt;</comment>
                            <comment id="13962716" author="hudson" created="Tue, 8 Apr 2014 08:49:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #5468 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/5468/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/5468/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt;. TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately. Contributed by Haohui Mai. (wheat9: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1585659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1585659&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestMetricsSystemImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13962771" author="hudson" created="Tue, 8 Apr 2014 11:08:15 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #533 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/533/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/533/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt;. TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately. Contributed by Haohui Mai. (wheat9: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1585659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1585659&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestMetricsSystemImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13962961" author="hudson" created="Tue, 8 Apr 2014 13:32:30 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1751 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1751/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1751/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt;. TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately. Contributed by Haohui Mai. (wheat9: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1585659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1585659&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestMetricsSystemImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13962972" author="hudson" created="Tue, 8 Apr 2014 13:36:26 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1725 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1725/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1725/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt;. TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately. Contributed by Haohui Mai. (wheat9: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1585659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1585659&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestMetricsSystemImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14042545" author="jlowe" created="Tue, 24 Jun 2014 19:10:12 +0000"  >&lt;p&gt;Reopening this issue as it breaks all existing metrics2 property files.  Before this change the properties needed to be lower-cased but now they must be camel-cased (e.g.: namenode.* now must be NameNode.*).&lt;/p&gt;

&lt;p&gt;The release note states that the metrics2 file became case-sensitive, but I don&apos;t believe that&apos;s the case.  MetricsConfig uses org.apache.commons.configuration.SubsetConfiguration which I think has always been case-sensitive.&lt;/p&gt;

&lt;p&gt;I&apos;m hoping there&apos;s a way we can fix the underlying issue without breaking existing metrics2 property files, because the way in which they break is silent.  The settings are simply ignored rather than an error being thrown for unrecognized/unhandled properties.&lt;/p&gt;</comment>
                            <comment id="14052185" author="ajisakaa" created="Fri, 4 Jul 2014 05:55:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m hoping there&apos;s a way we can fix the underlying issue without breaking existing metrics2 property files&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree with you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlowe&quot; class=&quot;user-hover&quot; rel=&quot;jlowe&quot;&gt;jlowe&lt;/a&gt;. I&apos;m trying to find the way.&lt;/p&gt;</comment>
                            <comment id="14052200" author="ajisakaa" created="Fri, 4 Jul 2014 06:48:27 +0000"  >&lt;p&gt;Attaching a patch to revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt; and make &apos;Collector&apos; to lower case.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-      .add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Test.sink.Collector.&quot;&lt;/span&gt; + MetricsConfig.QUEUE_CAPACITY_KEY,
+      .add(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.sink.collector.&quot;&lt;/span&gt; + MetricsConfig.QUEUE_CAPACITY_KEY,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-    ms.registerSink(&lt;span class=&quot;code-quote&quot;&gt;&quot;Collector&quot;&lt;/span&gt;,
+    ms.registerSink(&lt;span class=&quot;code-quote&quot;&gt;&quot;collector&quot;&lt;/span&gt;,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Using debugger, I confirmed the queue capacity of the sink was set to 10.&lt;/p&gt;</comment>
                            <comment id="14052244" author="hadoopqa" created="Fri, 4 Jul 2014 08:01:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12654056/HADOOP-10468.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12654056/HADOOP-10468.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The following test timeouts occurred in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.http.TestHttpServer&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4208//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4208//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4208//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4208//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14052246" author="ajisakaa" created="Fri, 4 Jul 2014 08:09:56 +0000"  >&lt;p&gt;The test timeout is not related to the patch. It was reported at &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10289&quot; title=&quot;o.a.h.u.ReflectionUtils.printThreadInfo() causes deadlock in TestHttpServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10289&quot;&gt;HADOOP-10289&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14057159" author="ajisakaa" created="Thu, 10 Jul 2014 05:48:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlowe&quot; class=&quot;user-hover&quot; rel=&quot;jlowe&quot;&gt;jlowe&lt;/a&gt;, would you please review the latest patch?&lt;/p&gt;</comment>
                            <comment id="14059215" author="vinodkv" created="Fri, 11 Jul 2014 19:16:03 +0000"  >&lt;p&gt;Per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlowe&quot; class=&quot;user-hover&quot; rel=&quot;jlowe&quot;&gt;jlowe&lt;/a&gt;, marking this to be a blocker for 2.5. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wheat9&quot; class=&quot;user-hover&quot; rel=&quot;wheat9&quot;&gt;wheat9&lt;/a&gt;, can you please help with this?&lt;/p&gt;</comment>
                            <comment id="14059290" author="jlowe" created="Fri, 11 Jul 2014 20:19:39 +0000"  >&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ajisakaa&quot; class=&quot;user-hover&quot; rel=&quot;ajisakaa&quot;&gt;ajisakaa&lt;/a&gt;!  It looks OK to me, although I hesitate to commit it since the original change by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wheat9&quot; class=&quot;user-hover&quot; rel=&quot;wheat9&quot;&gt;wheat9&lt;/a&gt; was to not fix the test but change the behavior of the metrics system in an incompatible way.  I&apos;m wondering if there&apos;s something subtle we&apos;re missing that would reappear if we reverted the original fix, so I&apos;m hoping to hear from Haohui on what he thinks of the change.&lt;/p&gt;

&lt;p&gt;My preference would be to just fix the test if that&apos;s sufficient since it retains the semantic behavior.  However if we really need to remove the lowercase call as in the original patch then I think we should also change the places where we register metrics to register them with lowercase strings.  That would retain compatibility with existing metrics properties configuration files.&lt;/p&gt;</comment>
                            <comment id="14061022" author="wheat9" created="Mon, 14 Jul 2014 18:52:17 +0000"  >&lt;p&gt;Looking at the code for a while to refresh my memory. Here is a quick recap:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Metric2 implements hierarchical configuration with &lt;tt&gt;SubsetConfiguration&lt;/tt&gt;. The configuration key has the format &lt;tt&gt;foo.bar.spam&lt;/tt&gt;, where  each parts of the configuration is a hierarchy. For example, &lt;tt&gt;spam&lt;/tt&gt; is a child of &lt;tt&gt;bar&lt;/tt&gt;, and &lt;tt&gt;bar&lt;/tt&gt; is a children of {{foo}. Metric2 turns some parts of the hierarchy keys in lowercase: (MetricsConfig:87)&lt;/li&gt;
&lt;/ol&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  MetricsConfig(Configuration c, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; prefix) {
    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(c, prefix.toLowerCase(Locale.US), &lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All keys of immediate children will be stored in lowercase strings (MetricConfig:151)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, MetricsConfig&amp;gt; getInstanceConfigs(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type) {
    Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, MetricsConfig&amp;gt; map = Maps.newHashMap();
    MetricsConfig sub = subset(type);

    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key : sub.keys()) {
      Matcher matcher = INSTANCE_REGEX.matcher(key);
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (matcher.matches()) {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; instance = matcher.group(1);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!map.containsKey(instance)) {
          map.put(instance, sub.subset(instance));
        }
      }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; map;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
	&lt;li&gt;To look up the value in the hierarchical configuration, &lt;tt&gt;MetricConfig&lt;/tt&gt; first finds the key in itself and then reconstructs the full key for its parent by concatenating the prefix, the delimiter and the key itself (SubsetConfiguration:88):&lt;/li&gt;
&lt;/ol&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getParentKey(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key)
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&quot;&quot;.equals(key) || key == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; prefix;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; delimiter == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? prefix + key : prefix + delimiter + key;
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this test case, the reconstructed key is &lt;tt&gt;test.sink.collector.queue.capacity&lt;/tt&gt; instead of &lt;tt&gt;test.sink.Collector.queue.capacity&lt;/tt&gt;, which leads to the failure.&lt;/p&gt;</comment>
                            <comment id="14061031" author="wheat9" created="Mon, 14 Jul 2014 18:59:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;My preference would be to just fix the test if that&apos;s sufficient since it retains the semantic behavior. However if we really need to remove the lowercase call as in the original patch then I think we should also change the places where we register metrics to register them with lowercase strings. That would retain compatibility with existing metrics properties configuration files.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Fixing only the test looks okay to me. The current semantic of the metric configuration, however, seems pretty confusing. For example, the original test case in &lt;tt&gt;testMultiThreadedPublish()&lt;/tt&gt; actually looks quite legit. I did a quick search and it does not seem that the behavior is documented, I suspect that many configurations are silently ignored as there are no messages on unrecognized values. Therefore, I think it might be worthwhile to fix the semantic in trunk. Thoughts?&lt;/p&gt;</comment>
                            <comment id="14061068" author="jlowe" created="Mon, 14 Jul 2014 19:15:51 +0000"  >&lt;p&gt;Thanks for commenting, Haohui.  +1 to just fixing the test case in branch-2 for now.  Given it&apos;s been this way for 4 years I&apos;m hesitant to change this, even in trunk, because other systems outside of Hadoop core could be using it and changing the case could break them in a similar way.  If we do change the semantics in trunk then I strongly suggest we go ahead and lowercase the registered names of existing entities, e.g.: &lt;tt&gt;DefaultMetricsSystem.initialize(&quot;namenode&quot;);&lt;/tt&gt; instead of &lt;tt&gt;DefaultMetricsSystem.initialize(&quot;NameNode&quot;);&lt;/tt&gt; to minimize the breakage to existing metrics2 config files.&lt;/p&gt;

&lt;p&gt;So I propose we commit this to trunk, branch-2, and branch-2.5 and track the proposed change to trunk in a separate JIRA where we can discuss whether the backwards compatibility breakage is worth it.  Objections?&lt;/p&gt;</comment>
                            <comment id="14061159" author="wheat9" created="Mon, 14 Jul 2014 20:20:26 +0000"  >&lt;p&gt;The proposed solution looks good to me. We can file a separate jira to discuss the semantic and compatibility concerns.&lt;/p&gt;</comment>
                            <comment id="14061465" author="ajisakaa" created="Tue, 15 Jul 2014 00:15:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;So I propose we commit this to trunk, branch-2, and branch-2.5 and track the proposed change to trunk in a separate JIRA where we can discuss whether the backwards compatibility breakage is worth it. Objections?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree to the proposal. Thanks for the comments, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlowe&quot; class=&quot;user-hover&quot; rel=&quot;jlowe&quot;&gt;jlowe&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wheat9&quot; class=&quot;user-hover&quot; rel=&quot;wheat9&quot;&gt;wheat9&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="14062531" author="jlowe" created="Tue, 15 Jul 2014 19:33:22 +0000"  >&lt;p&gt;+1 for the latest patch, committing this.  I&apos;ll file a separate JIRA to discuss potential changes to metrics2 semantics.&lt;/p&gt;</comment>
                            <comment id="14062564" author="jlowe" created="Tue, 15 Jul 2014 20:01:17 +0000"  >&lt;p&gt;Thanks Akira for the contribution, and thanks to Haohui for additional review!  I committed the addendum patch to trunk, branch-2, and branch-2.5.&lt;/p&gt;</comment>
                            <comment id="14062566" author="hudson" created="Tue, 15 Jul 2014 20:03:14 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-trunk-Commit #5885 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/5885/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/5885/&lt;/a&gt;)&lt;br/&gt;
Addendum patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt; TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately. Contributed by Akira AJISAKA (jlowe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1610829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1610829&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestMetricsSystemImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14063359" author="hudson" created="Wed, 16 Jul 2014 10:37:10 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #614 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/614/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/614/&lt;/a&gt;)&lt;br/&gt;
Addendum patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt; TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately. Contributed by Akira AJISAKA (jlowe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1610829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1610829&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestMetricsSystemImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14063471" author="hudson" created="Wed, 16 Jul 2014 13:31:10 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1833 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1833/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1833/&lt;/a&gt;)&lt;br/&gt;
Addendum patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt; TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately. Contributed by Akira AJISAKA (jlowe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1610829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1610829&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestMetricsSystemImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14063500" author="hudson" created="Wed, 16 Jul 2014 13:50:31 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1806 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1806/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1806/&lt;/a&gt;)&lt;br/&gt;
Addendum patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10468&quot; title=&quot;TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10468&quot;&gt;&lt;del&gt;HADOOP-10468&lt;/del&gt;&lt;/a&gt; TestMetricsSystemImpl.testMultiThreadedPublish fails intermediately. Contributed by Akira AJISAKA (jlowe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1610829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1610829&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/impl/MetricsConfig.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestMetricsSystemImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12721029">HADOOP-10692</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12639122" name="HADOOP-10468.000.patch" size="2085" author="wheat9" created="Tue, 8 Apr 2014 02:13:53 +0000"/>
                            <attachment id="12639127" name="HADOOP-10468.001.patch" size="6568" author="wheat9" created="Tue, 8 Apr 2014 03:13:22 +0000"/>
                            <attachment id="12654056" name="HADOOP-10468.2.patch" size="6438" author="aajisaka" created="Fri, 4 Jul 2014 06:48:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ue9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326263">2.5.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>