<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:44:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10270] getfacl does not display effective permissions of masked entries.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10270</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;The mask entry of an ACL can be changed to restrict permissions that would be otherwise granted via named user and group entries.  In these cases, the typical implementation of getfacl also displays the effective permissions after applying the mask.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690850">HADOOP-10270</key>
            <summary>getfacl does not display effective permissions of masked entries.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cnauroth">Chris Nauroth</assignee>
                                    <reporter username="cnauroth">Chris Nauroth</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 19:07:21 +0000</created>
                <updated>Tue, 25 Feb 2014 00:30:41 +0000</updated>
                            <resolved>Fri, 31 Jan 2014 18:59:59 +0000</resolved>
                                    <version>HDFS ACLs (HDFS-4685)</version>
                                    <fixVersion>HDFS ACLs (HDFS-4685)</fixVersion>
                                    <component>fs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13880247" author="cnauroth" created="Thu, 23 Jan 2014 19:18:28 +0000"  >&lt;p&gt;See below for example output from getfacl on Linux.  The logic for this would be:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Find the mask entry within the scope, either access or &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.
Go back and iterate through all entries.
If entry is named user, named group, or unnamed group
  Calculate effective permissions by applying the mask from the same scope using {{FsAction#and}}.
  If effective permissions are different from actual permissions
    Also display effective permissions.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The effective permissions are not displayed if the mask doesn&apos;t turn any permissions off.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt; getfacl dir1
# file: dir1
# owner: cnauroth
# group: cnauroth
user::rw-
user:bruce:rwx                  #effective:r--
user:diana:r--
group::rw-                      #effective:r--
mask::r--
other::r--
user::rw-
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:user:bruce:rwx          #effective:r--
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:user:diana:r--
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:group::rw-              #effective:r--
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:mask::r--
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:other::r--
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13886944" author="cnauroth" created="Thu, 30 Jan 2014 19:19:49 +0000"  >&lt;p&gt;I&apos;m attaching a patch to display effective permissions from getfacl as needed.  While I was in here, I also fixed a bug that caused getfacl to print the group entry with &quot;mask&quot; as the label when the file has only a default ACL (no access ACL).  I&apos;ve also added 2 new tests to testAclCli.xml to cover both of those fixes.&lt;/p&gt;</comment>
                            <comment id="13888004" author="arpitagarwal" created="Fri, 31 Jan 2014 18:52:18 +0000"  >&lt;p&gt;+1 for the patch.&lt;/p&gt;</comment>
                            <comment id="13888017" author="cnauroth" created="Fri, 31 Jan 2014 18:59:59 +0000"  >&lt;p&gt;Thanks for another code review, Arpit.  I committed this to the &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4685&quot; title=&quot;Implementation of ACLs in HDFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4685&quot;&gt;&lt;del&gt;HDFS-4685&lt;/del&gt;&lt;/a&gt; feature branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12686476">HADOOP-10184</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12697032">HADOOP-10361</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12626152" name="HADOOP-10270.1.patch" size="8686" author="cnauroth" created="Thu, 30 Jan 2014 19:19:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rp9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12325672">HDFS ACLs (HDFS-4685)</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>