<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:56:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-17844] Upgrade JSON smart to 2.4.7</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-17844</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Currently we are using JSON Smart 2.4.2 version which is vulnerable to -&#160;CVE-2021-31684.&lt;/p&gt;

&lt;p&gt;We can upgrade the version to 2.4.7 (2.4.5 or later).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13394607">HADOOP-17844</key>
            <summary>Upgrade JSON smart to 2.4.7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasad-acit">Renukaprasad C</assignee>
                                    <reporter username="prasad-acit">Renukaprasad C</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 11 Aug 2021 10:06:47 +0000</created>
                <updated>Sun, 11 Feb 2024 14:27:46 +0000</updated>
                            <resolved>Sat, 14 Aug 2021 11:32:35 +0000</resolved>
                                    <version>3.4.0</version>
                    <version>3.2.3</version>
                    <version>3.3.2</version>
                                    <fixVersion>3.4.0</fixVersion>
                    <fixVersion>3.2.3</fixVersion>
                    <fixVersion>3.3.2</fixVersion>
                                    <component>build</component>
                    <component>common</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6000">1h 40m</timespent>
                                <comments>
                            <comment id="17399162" author="ajisakaa" created="Sat, 14 Aug 2021 11:32:35 +0000"  >&lt;p&gt;Committed to trunk, branch-3.3, branch-3.2, and branch-3.2.3.&lt;/p&gt;</comment>
                            <comment id="17643136" author="githubbot" created="Mon, 5 Dec 2022 06:41:08 +0000"  >&lt;p&gt;sangys commented on PR #3299:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/3299#issuecomment-1336820014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/3299#issuecomment-1336820014&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @prasad-acit , can you do more help to check the upgrade?  From hadoop-client-runtime.jar version 3.3.2 ~ 3.3.4, the shaded jason-smart still showing version 1.3.2.  Which cause vulnerability scan report CVE-2021-31684 issue. &lt;/p&gt;

&lt;p&gt;   !&lt;span class=&quot;error&quot;&gt;&amp;#91;image&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://user-images.githubusercontent.com/47388262/205565980-0439a99b-8f6c-4385-8788-9e1e06d32ca0.png&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://user-images.githubusercontent.com/47388262/205565980-0439a99b-8f6c-4385-8788-9e1e06d32ca0.png&lt;/a&gt;)&lt;/p&gt;



</comment>
                            <comment id="17695268" author="stevel@apache.org" created="Wed, 1 Mar 2023 18:59:16 +0000"  >&lt;p&gt;these are all the json jars of any kind in hadoop-3.3.&lt;br/&gt;
j&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hadoop-3.3.5 find . -print | grep &lt;span class=&quot;code-quote&quot;&gt;&quot;\.jar&quot;&lt;/span&gt; | grep json
./share/hadoop/yarn/lib/jackson-jaxrs-json-provider-2.12.7.jar
./share/hadoop/yarn/lib/json-io-2.5.1.jar
./share/hadoop/common/lib/jersey-json-1.20.jar
./share/hadoop/common/lib/json-smart-2.4.7.jar
./share/hadoop/hdfs/lib/jersey-json-1.20.jar
./share/hadoop/hdfs/lib/json-simple-1.1.1.jar
./share/hadoop/hdfs/lib/json-smart-2.4.7.jar

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17701408" author="githubbot" created="Thu, 16 Mar 2023 22:12:29 +0000"  >&lt;p&gt;degant commented on PR #3299:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/3299#issuecomment-1472825586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/3299#issuecomment-1472825586&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @steveloughran as pointed out by @sangys there are still 3 jars as part of hadoop 3.3.4 that include json-smart 1.3.2. As a result hadoop 3.3.4 continues to get flagged for &lt;span class=&quot;error&quot;&gt;&amp;#91;CVE-2021-31684&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/advisories/GHSA-fg2v-w576-w4v3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/advisories/GHSA-fg2v-w576-w4v3&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   I used the below to check all versions of json-smart inside all packages:&lt;br/&gt;
   ```&lt;br/&gt;
   jar_files=$(find . -iname &quot;*.jar&quot; | xargs -I &apos;{}&apos; sh -c &quot;jar tf &apos;{}&apos; | grep -e &apos;json-smart&apos; -q --label=&apos;{}&apos; &amp;amp;&amp;amp; echo &apos;{}&apos; &quot;)&lt;br/&gt;
   echo &quot;$jar_files&quot; | xargs -I &apos;{}&apos; sh -c &quot;bsdtar -xO -f &apos;{}&apos; &apos;META-INF/maven/net.minidev/json-smart/pom.properties&apos; | grep -i version &amp;amp;&amp;amp; echo &apos;{}&apos;&quot;&lt;br/&gt;
   ```&lt;br/&gt;
   which returns&lt;/p&gt;

&lt;p&gt;   &amp;gt; version=1.3.2&lt;br/&gt;
   &amp;gt; ./share/hadoop/client/hadoop-client-runtime-3.3.4.jar&lt;br/&gt;
   &amp;gt; version=1.3.2&lt;br/&gt;
   &amp;gt; ./share/hadoop/hdfs/lib/nimbus-jose-jwt-9.8.1.jar&lt;br/&gt;
   &amp;gt; version=2.4.7&lt;br/&gt;
   &amp;gt; ./share/hadoop/hdfs/lib/json-smart-2.4.7.jar&lt;br/&gt;
   &amp;gt; version=1.3.2&lt;br/&gt;
   &amp;gt; ./share/hadoop/common/lib/nimbus-jose-jwt-9.8.1.jar&lt;br/&gt;
   &amp;gt; version=2.4.7&lt;br/&gt;
   &amp;gt; ./share/hadoop/common/lib/json-smart-2.4.7.jar&lt;/p&gt;

&lt;p&gt;   hadoop-client-runtime-3.3.4 and nimbus-jose-jwt-9.8.1 both include the shaded json-smart 1.3.2&lt;/p&gt;

</comment>
                            <comment id="17701778" author="githubbot" created="Fri, 17 Mar 2023 14:06:35 +0000"  >&lt;p&gt;steveloughran commented on PR #3299:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/hadoop/pull/3299#issuecomment-1473898361&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/pull/3299#issuecomment-1473898361&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   this is 3.3.5; looks like nimbus-jose has it; the client jar simply includes that&lt;br/&gt;
   ```&lt;br/&gt;
   version=2.4.7&lt;br/&gt;
   ./share/hadoop/common/lib/json-smart-2.4.7.jar&lt;br/&gt;
   version=1.3.2&lt;br/&gt;
   ./share/hadoop/common/lib/nimbus-jose-jwt-9.8.1.jar&lt;br/&gt;
   version=2.4.7&lt;br/&gt;
   ./share/hadoop/hdfs/lib/json-smart-2.4.7.jar&lt;br/&gt;
   version=1.3.2&lt;br/&gt;
   ./share/hadoop/hdfs/lib/nimbus-jose-jwt-9.8.1.jar&lt;br/&gt;
   version=1.3.2&lt;br/&gt;
   ./share/hadoop/client/hadoop-client-runtime-3.3.5.jar&lt;br/&gt;
   ```&lt;br/&gt;
   @degant feel free to start work on a patch to upgrade nimbus-jose-jwt. If you could show that this introduced any server-side vulnerabilities, that would help.&lt;/p&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13398783">HADOOP-17885</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13371140">HADOOP-17633</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0tsq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12346894">3.4.0</customfieldvalue>
    <customfieldvalue id="12348791">3.2.3</customfieldvalue>
    <customfieldvalue id="12350181">3.3.2</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>