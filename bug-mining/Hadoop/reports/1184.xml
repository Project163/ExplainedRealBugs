<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:45:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10683] Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10683</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;We have enabled kerberos authentication in our clusters, but we see the following in the log files &lt;/p&gt;

&lt;p&gt;2014-06-11 11:07:05,903 INFO SecurityLogger.org.apache.hadoop.ipc.Server: Auth successful for X@Y.COM (&lt;b&gt;auth:SIMPLE&lt;/b&gt;)&lt;br/&gt;
2014-06-11 11:07:05,914 INFO SecurityLogger.org.apache.hadoop.security.authorize.ServiceAuthorizationManager: Authorization successful for X@Y.COM (auth:KERBEROS) for protocol=interface &lt;/p&gt;

&lt;p&gt;This is quite confusing for administrators.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720668">HADOOP-10683</key>
            <summary>Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="benoyantony">Benoy Antony</assignee>
                                    <reporter username="benoyantony">Benoy Antony</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 19:36:58 +0000</created>
                <updated>Thu, 12 May 2016 18:23:31 +0000</updated>
                            <resolved>Mon, 16 Jun 2014 20:32:25 +0000</resolved>
                                    <version>2.4.0</version>
                    <version>3.0.0-alpha1</version>
                                    <fixVersion>2.5.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14028294" author="benoyantony" created="Wed, 11 Jun 2014 19:37:36 +0000"  >&lt;p&gt;This is because AuthenticationMethod is hardcoded to SIMPLE in &lt;em&gt;UserGroupInformation.createRemoteUser&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;UserGroupInformation.createRemoteUser&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;UserGroupInformation result = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UserGroupInformation(subject);
result.setAuthenticationMethod(AuthenticationMethod.SIMPLE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14028300" author="benoyantony" created="Wed, 11 Jun 2014 19:41:28 +0000"  >&lt;p&gt;Attaching a patch which overloads &lt;em&gt;UserGroupInformation.createRemoteUser&lt;/em&gt;  to accept AuthMethod as an additional parameter.&lt;br/&gt;
The current &lt;em&gt;UserGroupInformation.createRemoteUser&lt;/em&gt;  is modified to invoke overloaded method with AuthMethod.SIMPLE.&lt;br/&gt;
A test case is also added.&lt;/p&gt;</comment>
                            <comment id="14028372" author="hadoopqa" created="Wed, 11 Jun 2014 20:47:33 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12649863/HADOOP-10683.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12649863/HADOOP-10683.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4046//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4046//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/4046//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/4046//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14029741" author="benoyantony" created="Thu, 12 Jun 2014 20:19:55 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vinayrpet&quot; class=&quot;user-hover&quot; rel=&quot;vinayrpet&quot;&gt;vinayrpet&lt;/a&gt;,  Could you please review this jira ?&lt;/p&gt;</comment>
                            <comment id="14032884" author="cnauroth" created="Mon, 16 Jun 2014 20:25:12 +0000"  >&lt;p&gt;+1 for the patch.  Nice catch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benoyantony&quot; class=&quot;user-hover&quot; rel=&quot;benoyantony&quot;&gt;benoyantony&lt;/a&gt;.  I reviewed call sites that use the return value of &lt;tt&gt;UserGroupInformation#getAuthenticationMethod&lt;/tt&gt;, and I didn&apos;t see any potential problems with this change.  I&apos;ll commit it.&lt;/p&gt;</comment>
                            <comment id="14032897" author="cnauroth" created="Mon, 16 Jun 2014 20:32:25 +0000"  >&lt;p&gt;I committed this to trunk and branch-2.  Benoy, thank you for contributing the patch.&lt;/p&gt;</comment>
                            <comment id="14032908" author="hudson" created="Mon, 16 Jun 2014 20:37:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #5710 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/5710/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/5710/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10683&quot; title=&quot;Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10683&quot;&gt;&lt;del&gt;HADOOP-10683&lt;/del&gt;&lt;/a&gt;. Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE. Contributed by Benoy Antony. (cnauroth: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1602991&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1602991&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14033452" author="vinayrpet" created="Tue, 17 Jun 2014 05:36:19 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benoyantony&quot; class=&quot;user-hover&quot; rel=&quot;benoyantony&quot;&gt;benoyantony&lt;/a&gt;, &lt;br/&gt;
Sorry for coming late here as I was on travel, &lt;br/&gt;
Nice catch and fix. Thanks for the patch and thanks Chris for review and commit .&lt;/p&gt;</comment>
                            <comment id="14033675" author="hudson" created="Tue, 17 Jun 2014 11:27:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Yarn-trunk #586 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/586/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/586/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10683&quot; title=&quot;Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10683&quot;&gt;&lt;del&gt;HADOOP-10683&lt;/del&gt;&lt;/a&gt;. Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE. Contributed by Benoy Antony. (cnauroth: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1602991&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1602991&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14033827" author="hudson" created="Tue, 17 Jun 2014 14:10:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Hdfs-trunk #1777 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1777/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1777/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10683&quot; title=&quot;Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10683&quot;&gt;&lt;del&gt;HADOOP-10683&lt;/del&gt;&lt;/a&gt;. Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE. Contributed by Benoy Antony. (cnauroth: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1602991&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1602991&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14033907" author="hudson" created="Tue, 17 Jun 2014 15:23:20 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1804 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1804/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1804/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10683&quot; title=&quot;Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10683&quot;&gt;&lt;del&gt;HADOOP-10683&lt;/del&gt;&lt;/a&gt;. Users authenticated with KERBEROS are recorded as being authenticated with SIMPLE. Contributed by Benoy Antony. (cnauroth: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1602991&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1602991&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Server.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestUserGroupInformation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14033979" author="daryn" created="Tue, 17 Jun 2014 16:19:27 +0000"  >&lt;p&gt;Instead of creating yet another UGI method, why not just have Server call the existing setAuthenticationMethod?&lt;/p&gt;</comment>
                            <comment id="14033999" author="cnauroth" created="Tue, 17 Jun 2014 16:31:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daryn&quot; class=&quot;user-hover&quot; rel=&quot;daryn&quot;&gt;daryn&lt;/a&gt;, thanks for taking a look.  I slightly prefer the patch from Benoy that has been committed already.  The new method better communicates the intent of the call site and doesn&apos;t create the object in a temporary incorrect state with &lt;tt&gt;AuthenticationMethod#SIMPLE&lt;/tt&gt;.  If you feel strongly about it though, I won&apos;t object to the change you suggested.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12649863" name="HADOOP-10683.patch" size="4355" author="benoyantony" created="Wed, 11 Jun 2014 19:41:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wo3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398989</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326263">2.5.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>