<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:43:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9455] HADOOP_CLIENT_OPTS appended twice causes JVM failures</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9455</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;If you set HADOOP_CLIENT_OPTS and run hadoop, you&apos;ll find that the HADOOP_CLIENT_OPTS value gets appended twice, and leads to JVM start failures for cases like adding debug flags.&lt;/p&gt;

&lt;p&gt;For example,&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;HADOOP_CLIENT_OPTS=&apos;-agentlib:jdwp=transport=dt_socket,address=localhost:9009,server=y,suspend=y&apos; hadoop jar anything

ERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.
Error occurred during initialization of VM
agent library failed to init: jdwp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12640793">HADOOP-9455</key>
            <summary>HADOOP_CLIENT_OPTS appended twice causes JVM failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cnauroth">Chris Nauroth</assignee>
                                    <reporter username="sjlee0">Sangjin Lee</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Apr 2013 15:48:06 +0000</created>
                <updated>Thu, 12 May 2016 18:23:30 +0000</updated>
                            <resolved>Wed, 1 May 2013 16:13:52 +0000</resolved>
                                    <version>2.0.3-alpha</version>
                    <version>3.0.0-alpha1</version>
                                    <fixVersion>2.1.0-beta</fixVersion>
                                    <component>bin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13622436" author="sjlee0" created="Thu, 4 Apr 2013 15:50:55 +0000"  >&lt;p&gt;HADOOP_CLIENT_OPTS is added by hadoop-env.sh and then by hadoop/hdfs/mapred again.&lt;/p&gt;</comment>
                            <comment id="13626723" author="cnauroth" created="Tue, 9 Apr 2013 15:38:27 +0000"  >&lt;p&gt;Hi, Sangjin.  I&apos;ve been reviewing this and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3936&quot; title=&quot;Remote debug failed with hadoop 0.23X, hadoop 2.X&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3936&quot;&gt;&lt;del&gt;HIVE-3936&lt;/del&gt;&lt;/a&gt;.  I haven&apos;t been able to repro this problem running just the hadoop script, but I do see how an interaction between the hive script and the hadoop script could cause this problem if running hive with both the --debug option and a HADOOP_CLIENT_OPTS environment variable containing the JDWP options:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;hive with --debug option calls get_debug_params in ext/debug.sh.&lt;/li&gt;
	&lt;li&gt;get_debug_params exports HIVE_MAIN_CLIENT_DEBUG_OPTS with value set to JDWP options.&lt;/li&gt;
	&lt;li&gt;hive appends HIVE_MAIN_CLIENT_DEBUG_OPTS to HADOOP_CLIENT_OPTS.  If your HADOOP_CLIENT_OPTS already contained the JDWP options, then they would be duplicated after this step executes.&lt;/li&gt;
	&lt;li&gt;hive service scripts like ext/hiveserver.sh and ext/jar.sh run hadoop.&lt;/li&gt;
	&lt;li&gt;hadoop launches JVM, and we get the failure you described.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This problem would be triggered only by running hive with both --debug and HADOOP_CLIENT_OPTS containing the JDWP options.  Can you check to see if this is how you were running it?  &lt;/p&gt;</comment>
                            <comment id="13626752" author="sjlee0" created="Tue, 9 Apr 2013 16:03:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;, I am able to reproduce it without hive (in fact I don&apos;t have hive installed on the machine where I saw this). I can download the 2.0.3-alpha build into a new directory, and reproduce this.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;which hadoop (ensure hadoop is not present and not in the path)
tar -zxvf hadoop-2.0.3-alpha.tar.gz
HADOOP_CLIENT_OPTS=&apos;-agentlib:jdwp=transport=dt_socket,address=localhost:9009,server=y,suspend=y&apos; hadoop-2.0.3-alpha/bin/hadoop jar anything
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Could you try the above and see if you see a different behavior?&lt;/p&gt;

&lt;p&gt;From what I can see, the hadoop script calls hadoop-config.sh which in turn calls hadoop-env.sh. Both the hadoop script and the hadoop-env.sh script append the value of HADOOP_CLIENT_OPTS to HADOOP_OPTS.&lt;/p&gt;</comment>
                            <comment id="13626846" author="cnauroth" created="Tue, 9 Apr 2013 17:25:49 +0000"  >&lt;p&gt;Sangjin, thank you for the extra details.  I can repro now.  I tend to override my hadoop-env.sh locally, so I didn&apos;t notice it at first.&lt;/p&gt;

&lt;p&gt;I think we can remove the append of HADOOP_CLIENT_OPS from hadoop-env.sh, considering that the main entry points all take care of appending it.  The hadoop script appends HADOOP_CLIENT_OPTS, the hdfs script appends HADOOP_CLIENT_OPTS, and the yarn script appends YARN_CLIENT_OPTS.  I&apos;m uploading a patch.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eli&quot; class=&quot;user-hover&quot; rel=&quot;eli&quot;&gt;eli&lt;/a&gt;, you added this version of hadoop-env.sh in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8287&quot; title=&quot;etc/hadoop is missing hadoop-env.sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8287&quot;&gt;&lt;del&gt;HADOOP-8287&lt;/del&gt;&lt;/a&gt;.  Can I please get your opinion on whether or not this patch is a safe change?  Thanks!&lt;/p&gt;</comment>
                            <comment id="13626894" author="hadoopqa" created="Tue, 9 Apr 2013 18:07:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12577835/HADOOP-9455.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12577835/HADOOP-9455.1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2432//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2432//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2432//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2432//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13626912" author="cnauroth" created="Tue, 9 Apr 2013 18:21:55 +0000"  >&lt;p&gt;Jenkins reported no new tests, because the patch changes a shell script only.&lt;/p&gt;</comment>
                            <comment id="13627001" author="eli" created="Tue, 9 Apr 2013 19:48:12 +0000"  >&lt;p&gt;Wouldn&apos;t it be better to only append HADOOP_CLIENT_OPTS once in hadoop-env.sh rather than in each per-project bin script?  Each can have a per-project variable like Yarn if needed.&lt;/p&gt;

&lt;p&gt;It looks like hadoop-config.sh handles the case where hadoop-env.sh doesn&apos;t exist which is perhaps why all the bin scripts set it, but I don&apos;t think we need to worry about hadoop-env.sh not existing post &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8287&quot; title=&quot;etc/hadoop is missing hadoop-env.sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8287&quot;&gt;&lt;del&gt;HADOOP-8287&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13628194" author="cnauroth" created="Wed, 10 Apr 2013 20:13:46 +0000"  >&lt;p&gt;Eli, thank you for taking a look.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Wouldn&apos;t it be better to only append HADOOP_CLIENT_OPTS once in hadoop-env.sh rather than in each per-project bin script?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This would cause a subtle change in behavior.  Right now, the hdfs script only appends HADOOP_CLIENT_OPTS for a subset of the interactive commands: dfs, dfsadmin, haadmin, and fsck.  This is not done for the daemon commands: namenode, datanode, secondarynamenode, etc.  It appears that the intent is that when you want to override options to a daemon, you use the daemon-specific environment variable instead: HADOOP_NAMENODE_OPTS, HADOOP_DATANODE_OPTS, HADOOP_SECONDARYNAMENODE_OPTS, etc.  It could be erroneous to combine options set in HADOOP_CLIENT_OPTS with options set for a daemon.  For example, I could imagine an operator wanting to maintain a single hadoop-env.sh that sets both HADOOP_NAMENODE_OPTS and HADOOP_CLIENT_OPTS, but set different values for max heap size within each one.&lt;/p&gt;</comment>
                            <comment id="13630730" author="eli" created="Fri, 12 Apr 2013 23:04:31 +0000"  >&lt;p&gt;Makes sense, thanks Chris.&lt;/p&gt;</comment>
                            <comment id="13632944" author="cnauroth" created="Tue, 16 Apr 2013 16:01:16 +0000"  >&lt;p&gt;Attaching an updated patch to do the same thing in the Windows cmd script.  I tested this on Windows.&lt;/p&gt;</comment>
                            <comment id="13632988" author="hadoopqa" created="Tue, 16 Apr 2013 16:36:42 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12578954/HADOOP-9455.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12578954/HADOOP-9455.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2451//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2451//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2451//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2451//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13632998" author="cnauroth" created="Tue, 16 Apr 2013 16:43:52 +0000"  >&lt;blockquote&gt;
&lt;p&gt;-1 tests included. The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
Please justify why no new tests are needed for this patch.&lt;br/&gt;
Also please list what manual steps were performed to verify this patch.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No tests, because this is a change in scripting only.  I built distribution tarballs on both Mac and Windows and tested using HADOOP_CLIENT_OPTS to specify the remote debugging options that Sangjin used in the bug report.&lt;/p&gt;</comment>
                            <comment id="13633036" author="arpitagarwal" created="Tue, 16 Apr 2013 17:28:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Thanks Chris.&lt;/p&gt;</comment>
                            <comment id="13633044" author="sjlee0" created="Tue, 16 Apr 2013 17:36:50 +0000"  >&lt;p&gt;+1. Thanks!&lt;/p&gt;</comment>
                            <comment id="13645939" author="cnauroth" created="Tue, 30 Apr 2013 20:28:18 +0000"  >&lt;p&gt;Attaching a separate patch for branch-2, because branch-2 doesn&apos;t have the Windows cmd scripts.&lt;/p&gt;</comment>
                            <comment id="13645976" author="hadoopqa" created="Tue, 30 Apr 2013 20:59:42 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12581221/HADOOP-9455-branch-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12581221/HADOOP-9455-branch-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2497//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2497//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2497//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2497//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13646606" author="sureshms" created="Wed, 1 May 2013 14:09:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;Attaching a separate patch for branch-2, because branch-2 doesn&apos;t have the Windows cmd scripts.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I would rather see this done in two jiras - one for windows that is only in trunk and second one for shell scripts that is applicable to both branch-2 and trunk. That way when a jira change is merged, it does not have different content for trunk and branch-2.&lt;/p&gt;</comment>
                            <comment id="13646651" author="cnauroth" created="Wed, 1 May 2013 15:34:10 +0000"  >&lt;p&gt;Suresh, I&apos;m attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9455&quot; title=&quot;HADOOP_CLIENT_OPTS appended twice causes JVM failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9455&quot;&gt;&lt;del&gt;HADOOP-9455&lt;/del&gt;&lt;/a&gt;.3.patch, which contains just the sh script change.  This patch applies cleanly to trunk and branch-2.&lt;/p&gt;

&lt;p&gt;For Windows, I&apos;ve filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9532&quot; title=&quot;HADOOP_CLIENT_OPTS is appended twice by Windows cmd scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9532&quot;&gt;&lt;del&gt;HADOOP-9532&lt;/del&gt;&lt;/a&gt; and attached a separate patch there.&lt;/p&gt;</comment>
                            <comment id="13646675" author="hadoopqa" created="Wed, 1 May 2013 16:09:01 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12581365/HADOOP-9455.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12581365/HADOOP-9455.3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2504//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2504//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2504//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2504//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13646676" author="cnauroth" created="Wed, 1 May 2013 16:11:46 +0000"  >&lt;blockquote&gt;
&lt;p&gt;-1 tests included. The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
Please justify why no new tests are needed for this patch.&lt;br/&gt;
Also please list what manual steps were performed to verify this patch.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is a script change only.  I manually tested by building the distro and verifying that I could run client commands with the remote debugging options specified in HADOOP_CLIENT_OPTS.&lt;/p&gt;</comment>
                            <comment id="13646680" author="sureshms" created="Wed, 1 May 2013 16:13:52 +0000"  >&lt;p&gt;I have committed the patch to trunk and branch-2. Thank you Chris.&lt;/p&gt;</comment>
                            <comment id="13646681" author="hudson" created="Wed, 1 May 2013 16:16:38 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #3706 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/3706/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/3706/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9455&quot; title=&quot;HADOOP_CLIENT_OPTS appended twice causes JVM failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9455&quot;&gt;&lt;del&gt;HADOOP-9455&lt;/del&gt;&lt;/a&gt;. HADOOP_CLIENT_OPTS appended twice causes JVM failures. Contributed by Chris Nauroth. (Revision 1478067)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1478067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1478067&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-env.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13647428" author="hudson" created="Thu, 2 May 2013 10:49:50 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #201 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/201/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/201/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9455&quot; title=&quot;HADOOP_CLIENT_OPTS appended twice causes JVM failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9455&quot;&gt;&lt;del&gt;HADOOP-9455&lt;/del&gt;&lt;/a&gt;. HADOOP_CLIENT_OPTS appended twice causes JVM failures. Contributed by Chris Nauroth. (Revision 1478067)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1478067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1478067&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-env.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13647492" author="hudson" created="Thu, 2 May 2013 12:56:28 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1390 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1390/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1390/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9455&quot; title=&quot;HADOOP_CLIENT_OPTS appended twice causes JVM failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9455&quot;&gt;&lt;del&gt;HADOOP-9455&lt;/del&gt;&lt;/a&gt;. HADOOP_CLIENT_OPTS appended twice causes JVM failures. Contributed by Chris Nauroth. (Revision 1478067)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1478067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1478067&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-env.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13647547" author="hudson" created="Thu, 2 May 2013 14:06:31 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1417 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1417/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1417/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9455&quot; title=&quot;HADOOP_CLIENT_OPTS appended twice causes JVM failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9455&quot;&gt;&lt;del&gt;HADOOP-9455&lt;/del&gt;&lt;/a&gt;. HADOOP_CLIENT_OPTS appended twice causes JVM failures. Contributed by Chris Nauroth. (Revision 1478067)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
suresh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1478067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1478067&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-env.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12551139">HADOOP-8287</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12629067">HIVE-3936</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12645638">HADOOP-9532</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12581221" name="HADOOP-9455-branch-2.patch" size="794" author="cnauroth" created="Tue, 30 Apr 2013 20:28:18 +0000"/>
                            <attachment id="12577835" name="HADOOP-9455.1.patch" size="586" author="cnauroth" created="Tue, 9 Apr 2013 17:25:49 +0000"/>
                            <attachment id="12578954" name="HADOOP-9455.2.patch" size="1305" author="cnauroth" created="Tue, 16 Apr 2013 16:01:16 +0000"/>
                            <attachment id="12581365" name="HADOOP-9455.3.patch" size="586" author="cnauroth" created="Wed, 1 May 2013 15:34:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jfgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12324135">2.0.4-alpha</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>