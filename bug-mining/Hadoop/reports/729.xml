<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:42:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-8589] ViewFs tests fail when tests and home dirs are nested</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-8589</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;TestFSMainOperationsLocalFileSystem fails in case when the test root directory is under the user&apos;s home directory, and the user&apos;s home dir is deeper than 2 levels from /. This happens with the default 1-node installation of Jenkins. &lt;/p&gt;

&lt;p&gt;This is the failure log:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.hadoop.fs.FileAlreadyExistsException: Path /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; already exists as dir; cannot create link here
	at org.apache.hadoop.fs.viewfs.InodeTree.createLink(InodeTree.java:244)
	at org.apache.hadoop.fs.viewfs.InodeTree.&amp;lt;init&amp;gt;(InodeTree.java:334)
	at org.apache.hadoop.fs.viewfs.ViewFileSystem$1.&amp;lt;init&amp;gt;(ViewFileSystem.java:167)
	at org.apache.hadoop.fs.viewfs.ViewFileSystem.initialize(ViewFileSystem.java:167)
	at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2094)
	at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:79)
	at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2128)
	at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2110)
	at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:290)
	at org.apache.hadoop.fs.viewfs.ViewFileSystemTestSetup.setupForViewFileSystem(ViewFileSystemTestSetup.java:76)
	at org.apache.hadoop.fs.viewfs.TestFSMainOperationsLocalFileSystem.setUp(TestFSMainOperationsLocalFileSystem.java:40)

...

Standard Output
2012-07-11 22:07:20,239 INFO  mortbay.log (Slf4jLog.java:info(67)) - Home dir base /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason for the failure is that the code tries to mount links for both &quot;/var&quot; and &quot;/var/lib&quot;, and it fails for the 2nd one as the &quot;/var&quot; is mounted already.&lt;/p&gt;

&lt;p&gt;The fix was provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8036&quot; title=&quot;TestViewFsTrash assumes the user&amp;#39;s home directory is 2 levels deep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8036&quot;&gt;&lt;del&gt;HADOOP-8036&lt;/del&gt;&lt;/a&gt; but later it was reverted in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8129&quot; title=&quot;ViewFileSystemTestSetup setupForViewFileSystem is erring when the user&amp;#39;s home directory is somewhere other than /home (eg. /User) etc.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8129&quot;&gt;&lt;del&gt;HADOOP-8129&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598473">HADOOP-8589</key>
            <summary>ViewFs tests fail when tests and home dirs are nested</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sanjay.radia">Sanjay Radia</assignee>
                                    <reporter username="aklochkov">Andrey Klochkov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2012 23:27:00 +0000</created>
                <updated>Wed, 3 Sep 2014 23:11:07 +0000</updated>
                            <resolved>Thu, 8 Nov 2012 06:17:55 +0000</resolved>
                                    <version>0.23.1</version>
                    <version>2.0.0-alpha</version>
                                    <fixVersion>2.0.3-alpha</fixVersion>
                                    <component>fs</component>
                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="13412370" author="aklochkov" created="Wed, 11 Jul 2012 23:49:31 +0000"  >&lt;p&gt;I&apos;m proposing a simple fix: mount the top level components of both test root dir (which is being done already) and home dir. In this case it would work fine in the described case. I tested it on a default Jenkins installation (1-node), on a Jenkins with slaves, on a MacOS laptop and on a Linux machine to verify it&apos;s addressing all kinds of home directories correctly.&lt;/p&gt;</comment>
                            <comment id="13412462" author="hadoopqa" created="Thu, 12 Jul 2012 02:30:04 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12536143/HADOOP-8859.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12536143/HADOOP-8859.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1195//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1195//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1195//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1195//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13414248" author="ahmed.radwan" created="Sat, 14 Jul 2012 01:31:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8129&quot; title=&quot;ViewFileSystemTestSetup setupForViewFileSystem is erring when the user&amp;#39;s home directory is somewhere other than /home (eg. /User) etc.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8129&quot;&gt;&lt;del&gt;HADOOP-8129&lt;/del&gt;&lt;/a&gt; just brought back the test link, since &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8036&quot; title=&quot;TestViewFsTrash assumes the user&amp;#39;s home directory is 2 levels deep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8036&quot;&gt;&lt;del&gt;HADOOP-8036&lt;/del&gt;&lt;/a&gt; implicitly assumed that the tests are run under home and replaced the test link with the home link. So after &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8129&quot; title=&quot;ViewFileSystemTestSetup setupForViewFileSystem is erring when the user&amp;#39;s home directory is somewhere other than /home (eg. /User) etc.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8129&quot;&gt;&lt;del&gt;HADOOP-8129&lt;/del&gt;&lt;/a&gt; we have the two links.&lt;/p&gt;

&lt;p&gt;Your patch basically changes how &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8036&quot; title=&quot;TestViewFsTrash assumes the user&amp;#39;s home directory is 2 levels deep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8036&quot;&gt;&lt;del&gt;HADOOP-8036&lt;/del&gt;&lt;/a&gt; adds the home link:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-    ConfigUtil.addLink(conf, homeDirRoot,
-        fsTarget.makeQualified(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(homeDirRoot)).toUri());
+    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; homeDirFirstComponent = getDirFirstComponent(homeDirRoot);
+    ConfigUtil.addLink(conf, homeDirFirstComponent,
+        fsTarget.makeQualified(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(homeDirFirstComponent)).toUri());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Versus what was done in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8036&quot; title=&quot;TestViewFsTrash assumes the user&amp;#39;s home directory is 2 levels deep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8036&quot;&gt;&lt;del&gt;HADOOP-8036&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; homeDirRoot = fsTarget.getHomeDirectory()
+        .getParent().toUri().getPath();
+    ConfigUtil.addLink(conf, homeDirRoot,
+        fsTarget.makeQualified(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(homeDirRoot)).toUri());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, the statement in your description: &quot;The fix was provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8036&quot; title=&quot;TestViewFsTrash assumes the user&amp;#39;s home directory is 2 levels deep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8036&quot;&gt;&lt;del&gt;HADOOP-8036&lt;/del&gt;&lt;/a&gt; but later it was reverted in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8129&quot; title=&quot;ViewFileSystemTestSetup setupForViewFileSystem is erring when the user&amp;#39;s home directory is somewhere other than /home (eg. /User) etc.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8129&quot;&gt;&lt;del&gt;HADOOP-8129&lt;/del&gt;&lt;/a&gt;&quot; looks confusing, since your patch is basically changing how &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8036&quot; title=&quot;TestViewFsTrash assumes the user&amp;#39;s home directory is 2 levels deep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8036&quot;&gt;&lt;del&gt;HADOOP-8036&lt;/del&gt;&lt;/a&gt; adds the home link. Can you please clarify?&lt;/p&gt;</comment>
                            <comment id="13415460" author="aklochkov" created="Mon, 16 Jul 2012 18:03:25 +0000"  >&lt;p&gt;The problem with the current code is that those 2 links can point to nested directories. In case of tests being run on a Jenkins master in it&apos;s default configuration one of the links the code will try to create will point to &quot;/var&quot; and another to &quot;/var/lib&quot;, and the creation of the second link will fail with &quot;Path /var already exists as dir; cannot create link&quot;. I&apos;m proposing to use just the first component of the path for both links, i.e. cut off everything after &quot;/var&quot; in my example. It&apos;s already being done for the test link, and my patch is adding the same logic for the home link.&lt;/p&gt;</comment>
                            <comment id="13415525" author="ahmed.radwan" created="Mon, 16 Jul 2012 18:59:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m proposing to use just the first component of the path for both links, i.e. cut off everything after &quot;/var&quot; in my example. It&apos;s already being done for the test link, and my patch is adding the same logic for the home link.&lt;/p&gt;&lt;/blockquote&gt;

&lt;ul&gt;
	&lt;li&gt;Can you clarify that in the ticket description since it is misleading?&lt;/li&gt;
	&lt;li&gt;Would it be better to check if (homeDirFirstComponent == testDirFirstComponent), and just add a single link, instead of adding the same link twice?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13415545" author="daryn" created="Mon, 16 Jul 2012 19:13:59 +0000"  >&lt;p&gt;I&apos;d like to see viewfs tests only accessing directories mounted under the build.test.dir.  There&apos;s been a number of recurring bugs centered around the mounting of the user&apos;s home dir.&lt;/p&gt;

&lt;p&gt;Are you aware the trash test tries to blow away your home directory to verify it won&apos;t delete an ancestor of the trash dir?  Shining illustration of why everything should be under build.test.dir.&lt;/p&gt;
</comment>
                            <comment id="13415587" author="ahmed.radwan" created="Mon, 16 Jul 2012 20:04:17 +0000"  >&lt;p&gt;I agree Daryn. Yes, TestViewFsTrash tries to delete the user&apos;s home directory!! Which raise the question of what if this testcase fails and it successfully deletes the user&apos;s home directory. I think this specific issue need to be prioritized and addressed in a separate ticket. &lt;/p&gt;</comment>
                            <comment id="13415601" author="daryn" created="Mon, 16 Jul 2012 20:22:03 +0000"  >&lt;p&gt;What I&apos;m trying to say is if the viewfs tests are confined to build.test.dir, then the mount path problems &lt;em&gt;and&lt;/em&gt; the trash problem are both solved.  They are only orthogonal if you believe that viewfs should mount your home dir, and trust it to not munge the contents of you home directory, and/or your ~/.Trash if you are on OS X.  This is at least the third jira to &quot;fix&quot; mounting home dirs.  It always fixes for some &amp;amp; breaks for others.&lt;/p&gt;

&lt;p&gt;Are there drawbacks to confining the tests to mounts within build.test.dir?&lt;/p&gt;</comment>
                            <comment id="13416407" author="aklochkov" created="Tue, 17 Jul 2012 18:00:13 +0000"  >&lt;p&gt;Providing an alternative patch:&lt;br/&gt;
1. An overloaded implementation of LocalFileSystem is used to a) override the tests root dir as the home dir b) validate that there are no &quot;delete&quot; operations executed out of the tests root dir&lt;br/&gt;
2. Just one link is created in the ViewFS mount table, the one for the tests root dir&lt;/p&gt;</comment>
                            <comment id="13416427" author="hadoopqa" created="Tue, 17 Jul 2012 18:24:21 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12536856/HADOOP-8589.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12536856/HADOOP-8589.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified test files.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 eclipse:eclipse.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1200//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1200//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1200//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1200//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13461481" author="qwertymaniac" created="Sun, 23 Sep 2012 18:28:41 +0000"  >&lt;p&gt;This is indeed still a problem on trunk:&lt;/p&gt;

&lt;p&gt;/home/foo/bar&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running org.apache.hadoop.fs.viewfs.TestFSMainOperationsLocalFileSystem
Tests run: 49, Failures: 0, Errors: 49, Skipped: 0, Time elapsed: 1.28 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;/home/harsh&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running org.apache.hadoop.fs.viewfs.TestFSMainOperationsLocalFileSystem
Tests run: 49, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.574 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;/foo&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running org.apache.hadoop.fs.viewfs.TestFSMainOperationsLocalFileSystem
Tests run: 49, Failures: 0, Errors: 49, Skipped: 0, Time elapsed: 1.29 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13462033" author="daryn" created="Mon, 24 Sep 2012 19:38:23 +0000"  >&lt;p&gt;Is that even with Andrey&apos;s latest patch applied?&lt;/p&gt;</comment>
                            <comment id="13462468" author="qwertymaniac" created="Tue, 25 Sep 2012 05:56:53 +0000"  >&lt;p&gt;No I didn&apos;t apply it, let me try today since I have the user env. anyway.&lt;/p&gt;</comment>
                            <comment id="13465557" author="qwertymaniac" created="Fri, 28 Sep 2012 12:18:11 +0000"  >&lt;p&gt;Confirming - Applying Andrey&apos;s patch does solve the issue in all 3 cases (same as above, all org.apache.hadoop.fs.viewfs.TestFSMainOperationsLocalFileSystem tests passed in each count).&lt;/p&gt;

&lt;p&gt;I&apos;ve rebased his patch for trunk as it didn&apos;t apply cleanly (line offset issues). Lets have a jenkins run of the same again.&lt;/p&gt;</comment>
                            <comment id="13465586" author="hadoopqa" created="Fri, 28 Sep 2012 13:01:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12546983/HADOOP-8589.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12546983/HADOOP-8589.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.ha.TestZKFailoverController&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1540//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1540//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1540//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1540//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13466168" author="qwertymaniac" created="Sat, 29 Sep 2012 09:52:17 +0000"  >&lt;p&gt;Daryn - Want to give this another look? Looks clean and passes on /foo, /home/harsh and /home/foo/bar as home directories.&lt;/p&gt;</comment>
                            <comment id="13466794" author="daryn" created="Mon, 1 Oct 2012 13:30:26 +0000"  >&lt;p&gt;I like the sanity check in &lt;tt&gt;TestLFS#delete&lt;/tt&gt;, but should the local fs maybe just use a chrooted fs to the build test dir?  That would help ensure that viewfs doesn&apos;t try to mount / - I think it does or used to do that.&lt;/p&gt;</comment>
                            <comment id="13474598" author="sanjay.radia" created="Thu, 11 Oct 2012 23:01:31 +0000"  >&lt;p&gt;I had missed this jira and recently fixed this in another jira (will I will close as a duplicate).&lt;br/&gt;
This fixes the buig by linking the first component in tests and home dir (same as what others have suggested in this jira).&lt;br/&gt;
It also fixes the tests when run via eclipse where the test dir is relative to wd - ie it sets up wd correctly for viewfs.&lt;/p&gt;

&lt;p&gt;I have cleaned up things so that all the set up is done in a single setup routing (one for viewFs and one viewFileSystem)&lt;/p&gt;

&lt;p&gt;As part of this testing I found another bug for homedir and chrootedfs - also fixed this.&lt;/p&gt;

&lt;p&gt;I have attached the patch here. &lt;/p&gt;</comment>
                            <comment id="13474649" author="hadoopqa" created="Fri, 12 Oct 2012 00:03:46 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12548817/hadoop-8589-sanjay.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12548817/hadoop-8589-sanjay.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1615//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1615//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1615//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1615//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13474680" author="sanjay.radia" created="Fri, 12 Oct 2012 00:45:45 +0000"  >&lt;p&gt;Andrey&lt;br/&gt;
   in your patch why did you move TestLFS from TestViewFsTrash to ViewFileSystemTestSetup?&lt;br/&gt;
While ViewFileSystemTestSetup is used in many tests, TestLFS is used in only in ViewFileSystemTestSetup.&lt;/p&gt;</comment>
                            <comment id="13474718" author="sanjay.radia" created="Fri, 12 Oct 2012 01:38:29 +0000"  >&lt;p&gt;I think we should separate the trash fix into a separate jira. I have extracted it out and, andrey if you agree I can create a new jira (assigned to you) and attach the trash patch to the new jira. &lt;/p&gt;</comment>
                            <comment id="13474724" author="aklochkov" created="Fri, 12 Oct 2012 01:51:37 +0000"  >&lt;p&gt;Sanjay, can you please describe the changes you&apos;re making in your patch? It&apos;s just so much bigger and seems to be fixing a part of the problem. Right now I don&apos;t see a necessity to do further work if the issue was fixed already and the patch was validated (see comments from Harsh).&lt;/p&gt;</comment>
                            <comment id="13474740" author="sanjay.radia" created="Fri, 12 Oct 2012 02:33:18 +0000"  >&lt;p&gt;My patch does the following (well commented in the patch it self)&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;sets the mount points =
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+ * We set a viewFileSystems with 3 mount points: 
+ * 1) /&amp;lt;firstComponent&amp;gt;&quot; of testdir  pointing to same in  target fs
+ * 2)   /&amp;lt;firstComponent&amp;gt;&quot; of home  pointing to same in  target fs 
+ * 3)  /&amp;lt;firstComponent&amp;gt;&quot; of wd  pointing to same in  target fs
+ * (note in many cases the link may be the same - viewFileSytem handles &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;sets viewfs&apos;s wd  since otherwise if you runs the tests in eclipse it create the testdirs in your home dir.&lt;/li&gt;
	&lt;li&gt;teardown ensures that junk is not left in your home dir (due to previous wd fix).&lt;/li&gt;
	&lt;li&gt;the above changes are made for BOTH viewfs and viewFileSystem tests&lt;/li&gt;
	&lt;li&gt;a couple of tests now calls the common setup routines&lt;/li&gt;
	&lt;li&gt;the chroot test fails on mac - fixed that&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I tried  doing some of the above in separate patches but then some tests were failing in either mac or linux.&lt;/p&gt;

&lt;p&gt;My patch does not fix trash issue. I believe this should be separate patch (but if you prefer i can incorporate it here).&lt;br/&gt;
However the TestLFS should be moved back to where it was as I have indicated in a previous comment:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;in your patch why did you move TestLFS from TestViewFsTrash to ViewFileSystemTestSetup?&lt;br/&gt;
While ViewFileSystemTestSetup is used in many tests, TestLFS is used in only in ViewFileSystemTestSetup.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If you prefer we can let your patch through (but move the TestLFS back to TestViewFsTrash since it is used only there).&lt;br/&gt;
I can then do the cleanup I want to do in a separate jira. &lt;/p&gt;</comment>
                            <comment id="13474984" author="daryn" created="Fri, 12 Oct 2012 13:23:16 +0000"  >&lt;p&gt;Is it possible to just make sure everything is rooted under build.test.data?  Then we may not need to worry about how deep the home dir is in the directory structure?&lt;/p&gt;</comment>
                            <comment id="13475084" author="daryn" created="Fri, 12 Oct 2012 15:38:55 +0000"  >&lt;p&gt;Maybe use a chroot fs over local fs to lock it down to build.test.data?&lt;/p&gt;</comment>
                            <comment id="13475204" author="sanjay.radia" created="Fri, 12 Oct 2012 18:07:42 +0000"  >&lt;p&gt;I had planned to make chroot fs a full fledged fs but it turns out it cannot and now it is used mostly internally in viewfs as a implementation. (I can&apos;t remember the reasons for why it cannot be made a full fledged file system.)&lt;br/&gt;
Are you suggesting this because trash test can delete your home dir? BTW  the issue of a trash test  deleting the home dir is also possible in the other trash tests (ie the non-viewfs trash tests).&lt;br/&gt;
I suggest we move the trash issue to another jira.&lt;/p&gt;</comment>
                            <comment id="13475333" author="sanjay.radia" created="Fri, 12 Oct 2012 20:39:02 +0000"  >&lt;blockquote&gt;
&lt;p&gt;This is indeed still a problem on trunk:&lt;br/&gt;
/home/foo/bar&lt;br/&gt;
...&lt;br/&gt;
/home/harsh&lt;br/&gt;
..&lt;br/&gt;
/foo&lt;br/&gt;
..&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Harsh what did you mean in your comment above - did you run the tests with  the home directory or wd set to the above 3 paths?&lt;/p&gt;</comment>
                            <comment id="13475348" author="aklochkov" created="Fri, 12 Oct 2012 20:51:36 +0000"  >&lt;p&gt;Sanjay,&lt;br/&gt;
The idea of moving TestLFS into ViewFileSystemTestSetup was to make all tests related to viewfs use the same configuration with 1) home dir located under test dir 2) preventing any delete operations outside of test dir. I agree that using chroot fs would be even better - all the changes in the local FS would be locked under test dir, which is the right thing, but I really don&apos;t know any details on whether chroot is capable of that.&lt;/p&gt;</comment>
                            <comment id="13475605" author="qwertymaniac" created="Sat, 13 Oct 2012 13:22:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;Harsh what did you mean in your comment above - did you run the tests with the home directory or wd set to the above 3 paths?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I created 3 users - bar, harsh and foo with those HOME dirs and cloned the patched trunk repo into each of them to run the tests from (i.e. in an su&apos;d environment).&lt;/p&gt;

&lt;p&gt;Lemme know if you&apos;d like me to repeat the tests with your patch!&lt;/p&gt;</comment>
                            <comment id="13476396" author="sanjay.radia" created="Mon, 15 Oct 2012 20:21:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;The idea of moving TestLFS into ViewFileSystemTestSetup ...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;b&gt;Only&lt;/b&gt; the trash tests use TestLFS &amp;#8211; TestLFS is not used in any of the other viewfs tests.&lt;br/&gt;
ViewFileSystemTestSetup should not be setting up things that only ONE of the many tests that call it need.&lt;br/&gt;
Indeed TestLFS should move to a more general test-helper class because TestLFS is used in non-viewfs test - the other test trash (e.g. TestTrash) has its own copy of TestLFS. &lt;/p&gt;

&lt;p&gt;But your fix to TestLFS to ensure that there is no accidental delete during a TestTrash of home dirs is fine. I suggest we file a jira to make that change. If as part of that fix you also want to create a common TestLFS (for viewfs tests and for TestTrash) then that also makes sense.&lt;/p&gt;

&lt;p&gt;At this stage I suggest we do the following&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;file a jira to fix TestLFS - extract your fix from this patch in this jira.&lt;/li&gt;
	&lt;li&gt;either
	&lt;ul&gt;
		&lt;li&gt;let a modified version of your patch without TestLFS go through and then I file another Jira to get my patch through (since it does more cleanup) OR&lt;/li&gt;
		&lt;li&gt;just let my patch go through in&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13476404" author="aklochkov" created="Mon, 15 Oct 2012 20:27:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;just let my patch go through in&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m fine with this if you&apos;re saying it does additional cleanup. I&apos;m OK with extracting changes in TestLFS too.&lt;/p&gt;</comment>
                            <comment id="13476453" author="sanjay.radia" created="Mon, 15 Oct 2012 21:11:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;Lemme know if you&apos;d like me to repeat the tests with your patch!&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Harsh, please repeat your  tests against the my patch  - thanks.&lt;/p&gt;</comment>
                            <comment id="13488697" author="qwertymaniac" created="Thu, 1 Nov 2012 13:48:46 +0000"  >&lt;p&gt;Sorry for the delay:&lt;/p&gt;

&lt;p&gt;With Sanjay&apos;s patch, with various HOMEDIRs: &lt;tt&gt;mvn clean install -Dtest=TestChRootedFileSystem,TestChRootedFs,TestFcMainOperationsLocalFs,TestFSMainOperationsLocalFileSystem&lt;/tt&gt;:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;/home/harsh &lt;span class=&quot;error&quot;&gt;&amp;#91;Regular home dir&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests run: 174, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running org.apache.hadoop.fs.TestFSMainOperationsLocalFileSystem
Tests run: 49, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.583 sec
Running org.apache.hadoop.fs.viewfs.TestChRootedFileSystem
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.25 sec
Running org.apache.hadoop.fs.viewfs.TestChRootedFs
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.085 sec
Running org.apache.hadoop.fs.viewfs.TestFSMainOperationsLocalFileSystem
Tests run: 49, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.071 sec
Running org.apache.hadoop.fs.viewfs.TestFcMainOperationsLocalFs
Tests run: 54, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.279 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
	&lt;li&gt;/foo &lt;span class=&quot;error&quot;&gt;&amp;#91;For user &amp;#39;foo&amp;#39;&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests run: 277, Failures: 0, Errors: 206, Skipped: 0&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running org.apache.hadoop.fs.TestFSMainOperationsLocalFileSystem
Tests run: 49, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.701 sec
Running org.apache.hadoop.fs.viewfs.TestFcMainOperationsLocalFs
Tests run: 108, Failures: 0, Errors: 108, Skipped: 0, Time elapsed: 2.171 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
testFsStatus(org.apache.hadoop.fs.viewfs.TestFcMainOperationsLocalFs)  Time elapsed: 644 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -1
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.substring(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:1949)
	at org.apache.hadoop.fs.viewfs.ViewFsTestSetup.linkUpFirstComponents(ViewFsTestSetup.java:115)
	at org.apache.hadoop.fs.viewfs.ViewFsTestSetup.setupForViewFsLocalFs(ViewFsTestSetup.java:76)
	at org.apache.hadoop.fs.viewfs.TestFcMainOperationsLocalFs.setUp(TestFcMainOperationsLocalFs.java:42)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)
	at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)

testFsStatus(org.apache.hadoop.fs.viewfs.TestFcMainOperationsLocalFs)  Time elapsed: 645 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.NullPointerException
	at org.apache.hadoop.fs.FileContextTestHelper.getAbsoluteTestRootPath(FileContextTestHelper.java:82)
	at org.apache.hadoop.fs.FileContextMainOperationsBaseTest.tearDown(FileContextMainOperationsBaseTest.java:105)
	at org.apache.hadoop.fs.viewfs.TestFcMainOperationsLocalFs.tearDown(TestFcMainOperationsLocalFs.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:37)
	at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
--truncated--
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
	&lt;li&gt;/home/bar/eggs &lt;span class=&quot;error&quot;&gt;&amp;#91;For user &amp;#39;eggs&amp;#39;&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests run: 174, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running org.apache.hadoop.fs.TestFSMainOperationsLocalFileSystem
Tests run: 49, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.648 sec
Running org.apache.hadoop.fs.viewfs.TestChRootedFileSystem
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.268 sec
Running org.apache.hadoop.fs.viewfs.TestChRootedFs
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.094 sec
Running org.apache.hadoop.fs.viewfs.TestFSMainOperationsLocalFileSystem
Tests run: 49, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.967 sec
Running org.apache.hadoop.fs.viewfs.TestFcMainOperationsLocalFs
Tests run: 54, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.025 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Edit: Truncated command so that all web page loads do not need to serve back MBs of logs now that its no longer useful.&lt;/p&gt;</comment>
                            <comment id="13488904" author="aklochkov" created="Thu, 1 Nov 2012 18:19:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sanjay.radia&quot; class=&quot;user-hover&quot; rel=&quot;sanjay.radia&quot;&gt;sanjay.radia&lt;/a&gt;, can you please reassign to yourself? Thanks.&lt;/p&gt;</comment>
                            <comment id="13490949" author="sanjay.radia" created="Mon, 5 Nov 2012 21:35:20 +0000"  >&lt;p&gt;Updated patch that fixes the bug related to home dir being at root (e.g. /joe).&lt;br/&gt;
I ran the tests though 3 different home dirs: /Users/foo, /foo, /x/y/foo&lt;/p&gt;</comment>
                            <comment id="13490981" author="hadoopqa" created="Mon, 5 Nov 2012 22:16:38 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12552168/Hadoop-8589.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12552168/Hadoop-8589.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1707//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1707//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1707//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1707//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13491720" author="szetszwo" created="Tue, 6 Nov 2012 19:11:05 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+++ hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ChRootedFileSystem.java
@@ -156,8 +156,11 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Path getResolvedQualifiedPath(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Path f)
   
   @Override
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Path getHomeDirectory() {
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getHomeDirectory();
+    /*
     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/user/&quot;&lt;/span&gt;+&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;user.name&quot;&lt;/span&gt;)).makeQualified(
           getUri(), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
+          */
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The getHomeDirectory() in ChRootedFileSystem only calls super.getHomeDirectory().  Then, we can simply remove the entire method but not overriding it.  Patch looks good other than that.&lt;/p&gt;</comment>
                            <comment id="13492590" author="sanjay.radia" created="Wed, 7 Nov 2012 19:01:04 +0000"  >&lt;p&gt;Update patch - incorporates Nicolas&apos;s feedaback and run successfully against homedir of /joe, /x/joe, /x/y/joe&lt;/p&gt;</comment>
                            <comment id="13492612" author="szetszwo" created="Wed, 7 Nov 2012 19:18:39 +0000"  >&lt;p&gt;+1 the new patch looks good.&lt;/p&gt;</comment>
                            <comment id="13492631" author="hadoopqa" created="Wed, 7 Nov 2012 19:36:19 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12552511/Hadoop-8589-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12552511/Hadoop-8589-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1718//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1718//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1718//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1718//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13493009" author="hudson" created="Thu, 8 Nov 2012 06:58:59 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #2977 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/2977/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/2977/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8589&quot; title=&quot;ViewFs tests fail when tests and home dirs are nested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8589&quot;&gt;&lt;del&gt;HADOOP-8589&lt;/del&gt;&lt;/a&gt; ViewFs tests fail when tests and home dirs are nested (sanjay Radia) (Revision 1406939)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
sradia : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406939&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/DelegateToFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ChRootedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ViewFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ViewFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileSystemTestHelper.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestChRootedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestChRootedFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcMainOperationsLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFileSystemTestSetup.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFsTestSetup.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13493106" author="hudson" created="Thu, 8 Nov 2012 10:46:43 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #30 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/30/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/30/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8589&quot; title=&quot;ViewFs tests fail when tests and home dirs are nested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8589&quot;&gt;&lt;del&gt;HADOOP-8589&lt;/del&gt;&lt;/a&gt; ViewFs tests fail when tests and home dirs are nested (sanjay Radia) (Revision 1406939)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
sradia : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406939&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/DelegateToFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ChRootedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ViewFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ViewFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileSystemTestHelper.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestChRootedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestChRootedFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcMainOperationsLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFileSystemTestSetup.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFsTestSetup.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13493157" author="hudson" created="Thu, 8 Nov 2012 13:01:53 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1220 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1220/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1220/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8589&quot; title=&quot;ViewFs tests fail when tests and home dirs are nested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8589&quot;&gt;&lt;del&gt;HADOOP-8589&lt;/del&gt;&lt;/a&gt; ViewFs tests fail when tests and home dirs are nested (sanjay Radia) (Revision 1406939)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
sradia : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406939&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/DelegateToFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ChRootedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ViewFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ViewFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileSystemTestHelper.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestChRootedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestChRootedFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcMainOperationsLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFileSystemTestSetup.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFsTestSetup.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13493188" author="hudson" created="Thu, 8 Nov 2012 14:02:30 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1250 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1250/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1250/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8589&quot; title=&quot;ViewFs tests fail when tests and home dirs are nested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8589&quot;&gt;&lt;del&gt;HADOOP-8589&lt;/del&gt;&lt;/a&gt; ViewFs tests fail when tests and home dirs are nested (sanjay Radia) (Revision 1406939)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
sradia : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406939&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/DelegateToFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ChRootedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ViewFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/viewfs/ViewFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/FileSystemTestHelper.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestChRootedFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestChRootedFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/TestFcMainOperationsLocalFs.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFileSystemTestSetup.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/viewfs/ViewFsTestSetup.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13500451" author="aklochkov" created="Mon, 19 Nov 2012 18:12:09 +0000"  >&lt;p&gt;The reported issue is still not fixed. If tests are run on a Jenkins master node, with Jenkins using it&apos;s default home (/var/lib/jenkins), view fs tests fail with the error given in the description of this Jira.&lt;/p&gt;</comment>
                            <comment id="13500470" author="aklochkov" created="Mon, 19 Nov 2012 18:28:14 +0000"  >&lt;p&gt;Apparently it&apos;s fixed in trunk only, while the &quot;target versions&quot; field points to 3.x/0.23/2.x. Can it be backported to 2.x/0.23 as well?&lt;/p&gt;</comment>
                            <comment id="13554240" author="eli" created="Tue, 15 Jan 2013 19:45:43 +0000"  >&lt;p&gt;I merged this change to branch-2.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12541751">HADOOP-8036</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12546983" name="HADOOP-8589.patch" size="6354" author="qwertymaniac" created="Fri, 28 Sep 2012 12:18:10 +0000"/>
                            <attachment id="12536856" name="HADOOP-8589.patch" size="6501" author="aklochkov" created="Tue, 17 Jul 2012 18:00:13 +0000"/>
                            <attachment id="12536143" name="HADOOP-8859.patch" size="1951" author="aklochkov" created="Wed, 11 Jul 2012 23:49:57 +0000"/>
                            <attachment id="12552511" name="Hadoop-8589-v2.patch" size="20331" author="sanjay.radia" created="Wed, 7 Nov 2012 19:01:04 +0000"/>
                            <attachment id="12552168" name="Hadoop-8589.patch" size="20255" author="sanjay.radia" created="Mon, 5 Nov 2012 21:35:20 +0000"/>
                            <attachment id="12548817" name="hadoop-8589-sanjay.patch" size="17521" author="sanjay.radia" created="Thu, 11 Oct 2012 23:01:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00rcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12323314">0.23.5</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>