<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:44:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10241] Clean up output of FsShell getfacl.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10241</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;This patch will clean up a few formatting issues in the output of the getfacl command:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Currently, the file name is output as the full URI with &quot;hdfs&quot; scheme.  We&apos;ll change this to print just the path portion for consistency with other shell commands like ls.&lt;/li&gt;
	&lt;li&gt;Print a blank line after printing an ACL.  Linux getfacl does this.  It&apos;s particularly helpful with getfacl -R, so that you get a visual indicator in between each returned ACL.&lt;/li&gt;
	&lt;li&gt;The &apos;+&apos; indicator appended to the permissions when the ACL bit is on throws off the nicely aligned table formatting of ls.&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="12689649">HADOOP-10241</key>
            <summary>Clean up output of FsShell getfacl.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cnauroth">Chris Nauroth</assignee>
                                    <reporter username="cnauroth">Chris Nauroth</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Jan 2014 17:34:04 +0000</created>
                <updated>Tue, 25 Feb 2014 00:26:59 +0000</updated>
                            <resolved>Tue, 21 Jan 2014 21:21:05 +0000</resolved>
                                    <version>HDFS ACLs (HDFS-4685)</version>
                                    <fixVersion>HDFS ACLs (HDFS-4685)</fixVersion>
                                    <component>fs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13875703" author="cnauroth" created="Sat, 18 Jan 2014 17:35:08 +0000"  >&lt;p&gt;I have a patch in progress, so I&apos;m assigning this to myself.&lt;/p&gt;</comment>
                            <comment id="13877795" author="cnauroth" created="Tue, 21 Jan 2014 20:00:44 +0000"  >&lt;p&gt;I&apos;m attaching the patch.  Summary:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;getfacl now uses &lt;tt&gt;PathData#toString&lt;/tt&gt; so that it prints either the path&apos;s full URI or just the path, depending on whether the user called the command with a full URI or just path.  This behavior is consistent with other commands like ls.&lt;/li&gt;
	&lt;li&gt;getfacl now prints a blank line after every path&apos;s ACL.&lt;/li&gt;
	&lt;li&gt;The column formatting of ls now considers the possibility of an extra &apos;+&apos; character on the end of the permission string to calculate padding.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;There are no tests in this patch, because &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vinayrpet&quot; class=&quot;user-hover&quot; rel=&quot;vinayrpet&quot;&gt;vinayrpet&lt;/a&gt; plans to add a comprehensive test suite for the new ACL CLI commands in &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-5702&quot; title=&quot;FsShell Cli: Add XML based End-to-End test for getfacl and setfacl commands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-5702&quot;&gt;&lt;del&gt;HDFS-5702&lt;/del&gt;&lt;/a&gt;.  For now, I tested the changes manually by building a distro from the &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4685&quot; title=&quot;Implementation of ACLs in HDFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4685&quot;&gt;&lt;del&gt;HDFS-4685&lt;/del&gt;&lt;/a&gt; branch.  I also ran &lt;tt&gt;TestCLI&lt;/tt&gt; and &lt;tt&gt;TestHDFSCLI&lt;/tt&gt; to verify that there are no regressions.&lt;/p&gt;

&lt;p&gt;While working on this, I discovered an existing bug in the column formatting for recursive ls.  That&apos;s a trunk bug, so I&apos;m not going to attempt to fix it here.  Instead, I reported the bug in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10247&quot; title=&quot;FsShell -ls -R output misaligned if child path has longer string representation than parent.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10247&quot;&gt;HADOOP-10247&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13877848" author="wheat9" created="Tue, 21 Jan 2014 20:57:03 +0000"  >&lt;p&gt;+1. I&apos;ll commit it shortly.&lt;/p&gt;</comment>
                            <comment id="13877867" author="wheat9" created="Tue, 21 Jan 2014 21:21:05 +0000"  >&lt;p&gt;I&apos;ve committed the patch. Thanks Chris for the contribution.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12686502">HDFS-5702</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12690091">HADOOP-10247</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12686476">HADOOP-10184</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12697032">HADOOP-10361</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12624185" name="HADOOP-10241.1.patch" size="2759" author="cnauroth" created="Tue, 21 Jan 2014 20:00:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368616</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 44 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rj9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12325672">HDFS ACLs (HDFS-4685)</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>