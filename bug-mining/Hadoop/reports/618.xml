<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:40:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-8552] Conflict: Same security.log.file for multiple users. </title>
                <link>https://issues.apache.org/jira/browse/HADOOP-8552</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;In log4j.properties, hadoop.security.log.file is set to SecurityAuth.audit. In the presence of multiple users, this can lead to a potential conflict.&lt;/p&gt;

&lt;p&gt;Adding username to the log file would avoid this scenario.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12597358">HADOOP-8552</key>
            <summary>Conflict: Same security.log.file for multiple users. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kasha">Karthik Kambatla</assignee>
                                    <reporter username="kasha">Karthik Kambatla</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jul 2012 22:21:11 +0000</created>
                <updated>Mon, 3 Nov 2014 18:33:26 +0000</updated>
                            <resolved>Mon, 16 Jul 2012 17:31:36 +0000</resolved>
                                    <version>1.0.3</version>
                    <version>2.0.0-alpha</version>
                                    <fixVersion>1.1.0</fixVersion>
                    <fixVersion>2.0.1-alpha</fixVersion>
                                    <component>conf</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="13406123" author="sureshms" created="Tue, 3 Jul 2012 22:31:51 +0000"  >&lt;p&gt;Usename is in the log entries right. Can you describe the problem better?&lt;/p&gt;</comment>
                            <comment id="13406131" author="kkambatl" created="Tue, 3 Jul 2012 22:39:05 +0000"  >&lt;p&gt;Hi Suresh,&lt;/p&gt;

&lt;p&gt;Thanks for looking into this. &lt;/p&gt;

&lt;p&gt;The problem we came across was &amp;#8211; at times, multiple (2 in our case) users might write to the same file (at least attempt to open the file) simultaneously, because the hadoop.security.log.file is set to the same value. &lt;/p&gt;

&lt;p&gt;Please let me know if I am missing something here.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13406132" author="kkambatl" created="Tue, 3 Jul 2012 22:39:49 +0000"  >&lt;p&gt;I am uploading patches for branch-1 and branch-2.&lt;/p&gt;</comment>
                            <comment id="13408546" author="hadoopqa" created="Sat, 7 Jul 2012 02:33:12 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12535000/HADOOP-8552_branch2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12535000/HADOOP-8552_branch2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1180//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1180//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13412399" author="kkambatl" created="Thu, 12 Jul 2012 00:16:22 +0000"  >&lt;p&gt;Updating the patch after testing.&lt;/p&gt;

&lt;p&gt;Tested it on a secure cluster, and the appropriate log file is created.&lt;/p&gt;</comment>
                            <comment id="13412444" author="hadoopqa" created="Thu, 12 Jul 2012 01:31:20 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12536148/HADOOP-8552_branch1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12536148/HADOOP-8552_branch1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1194//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1194//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13413127" author="tucu00" created="Thu, 12 Jul 2012 19:53:35 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13413213" author="devaraj" created="Thu, 12 Jul 2012 21:02:56 +0000"  >&lt;p&gt;Hi Karthik, is this on the client or on the server side? (Guessing its on client.. please confirm). In general, the audit log stuff doesn&apos;t make sense on the client side. It&apos;s meant to be used on the server side only (and in deployments I know about, the security audit logging is turned off on the client side). &lt;br/&gt;
Your patch will work though. But I&apos;ll note that it might be introducing compatibility issues due to the filename change of the log file (if someone is collecting logs based on file names, etc.).&lt;/p&gt;</comment>
                            <comment id="13413317" author="kkambatl" created="Thu, 12 Jul 2012 23:10:35 +0000"  >&lt;p&gt;Devaraj, thanks for the feedback.&lt;/p&gt;

&lt;p&gt;It is both on the client/server side. By server side, I mean for the jobtracker/namenode. Thanks for pointing the potential compatibility issue, I agree we need to note the incompatibility in log file change.&lt;/p&gt;</comment>
                            <comment id="13415387" author="tucu00" created="Mon, 16 Jul 2012 17:01:44 +0000"  >&lt;p&gt;Devaraj, are you OK with this patch after Karthik&apos;s clarifications?&lt;/p&gt;</comment>
                            <comment id="13415412" author="devaraj" created="Mon, 16 Jul 2012 17:23:35 +0000"  >&lt;p&gt;Yes.&lt;/p&gt;</comment>
                            <comment id="13415420" author="tucu00" created="Mon, 16 Jul 2012 17:31:36 +0000"  >&lt;p&gt;Thanks Karthik. Committed to trunk, branch-1 and branch-2.&lt;/p&gt;</comment>
                            <comment id="13415423" author="hudson" created="Mon, 16 Jul 2012 17:34:38 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk-Commit #2545 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2545/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/2545/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8552&quot; title=&quot;Conflict: Same security.log.file for multiple users. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8552&quot;&gt;&lt;del&gt;HADOOP-8552&lt;/del&gt;&lt;/a&gt;. Conflict: Same security.log.file for multiple users. (kkambatl via tucu) (Revision 1362151)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13415426" author="hudson" created="Mon, 16 Jul 2012 17:35:38 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #2480 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2480/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/2480/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8552&quot; title=&quot;Conflict: Same security.log.file for multiple users. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8552&quot;&gt;&lt;del&gt;HADOOP-8552&lt;/del&gt;&lt;/a&gt;. Conflict: Same security.log.file for multiple users. (kkambatl via tucu) (Revision 1362151)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13415439" author="hudson" created="Mon, 16 Jul 2012 17:43:13 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk-Commit #2500 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2500/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/2500/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8552&quot; title=&quot;Conflict: Same security.log.file for multiple users. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8552&quot;&gt;&lt;del&gt;HADOOP-8552&lt;/del&gt;&lt;/a&gt;. Conflict: Same security.log.file for multiple users. (kkambatl via tucu) (Revision 1362151)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13416109" author="hudson" created="Tue, 17 Jul 2012 11:40:42 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1106 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1106/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1106/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8552&quot; title=&quot;Conflict: Same security.log.file for multiple users. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8552&quot;&gt;&lt;del&gt;HADOOP-8552&lt;/del&gt;&lt;/a&gt;. Conflict: Same security.log.file for multiple users. (kkambatl via tucu) (Revision 1362151)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13416220" author="hudson" created="Tue, 17 Jul 2012 14:04:09 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1139 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1139/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1139/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8552&quot; title=&quot;Conflict: Same security.log.file for multiple users. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8552&quot;&gt;&lt;del&gt;HADOOP-8552&lt;/del&gt;&lt;/a&gt;. Conflict: Same security.log.file for multiple users. (kkambatl via tucu) (Revision 1362151)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tucu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1362151&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/log4j.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/packages/templates/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13416598" author="sureshms" created="Tue, 17 Jul 2012 21:05:05 +0000"  >&lt;p&gt;Alejandro, when committing incompatible changes, could you please add the change description in CHANGES.txt under INCOMPATIBLE CHANGES section. Also could you please add release notes on what is incompatible here and how to get around it.&lt;/p&gt;</comment>
                            <comment id="13416620" author="sureshms" created="Tue, 17 Jul 2012 21:24:43 +0000"  >&lt;p&gt;I also added this change in CHANGES.txt in branch 1.1.&lt;/p&gt;</comment>
                            <comment id="13478145" author="mattf" created="Wed, 17 Oct 2012 18:27:25 +0000"  >&lt;p&gt;Closed upon release of Hadoop-1.1.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12536148" name="HADOOP-8552_branch1.patch" size="1211" author="kkambatl" created="Thu, 12 Jul 2012 00:16:22 +0000"/>
                            <attachment id="12535000" name="HADOOP-8552_branch2.patch" size="1688" author="kkambatl" created="Tue, 3 Jul 2012 22:39:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0188n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>