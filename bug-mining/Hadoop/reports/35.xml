<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:32:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-6250] test-patch.sh doesn&apos;t clean up conf/*.xml files after the trunk run.</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-6250</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;test-patch.sh doesn&apos;t clean up conf/*.xml files after trunk run. This is a problem as after applying patch , the *.xml files are not updated by the template files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12435291">HADOOP-6250</key>
            <summary>test-patch.sh doesn&apos;t clean up conf/*.xml files after the trunk run.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rksingh">rahul k singh</assignee>
                                    <reporter username="rksingh">rahul k singh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Sep 2009 09:28:18 +0000</created>
                <updated>Tue, 24 Aug 2010 20:39:44 +0000</updated>
                            <resolved>Tue, 15 Sep 2009 13:17:43 +0000</resolved>
                                                    <fixVersion>0.21.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12753522" author="rksingh" created="Thu, 10 Sep 2009 09:32:08 +0000"  >&lt;p&gt;test-patch.sh does the following in checkout() method.&lt;br/&gt;
&quot;&lt;br/&gt;
   $SVN revert -R .&lt;br/&gt;
    rm -rf `$SVN status --no-ignore`&lt;br/&gt;
    $SVN update&lt;br/&gt;
&quot;&lt;/p&gt;

&lt;p&gt;This makes sure that any .xml files in conf directory is deleted and updated from .template .&lt;/p&gt;

&lt;p&gt;test-patch.sh first runs the tests on trunk . This results in generation of these xml files again in conf directory , hence when patch is applied the new template file changes &lt;br/&gt;
are not copied to existing xml file , this results in test case failures .&lt;/p&gt;</comment>
                            <comment id="12753528" author="gkesavan" created="Thu, 10 Sep 2009 09:45:01 +0000"  >&lt;p&gt;I think this had to be addressed in the build.xml, perhaps we can make the ant clean target to remove the xml files.&lt;/p&gt;</comment>
                            <comment id="12754824" author="yhemanth" created="Mon, 14 Sep 2009 05:09:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think this had to be addressed in the build.xml, perhaps we can make the ant clean target to remove the xml files.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I am not sure if this is the right solution. We don&apos;t overwrite xml files in the conf folder because they may have user configured values. It seems to me this is only a problem in the build setup. Hence, Rahul&apos;s solution of removing the ignored files after applying the patch in test-patch.sh seems fine to me.&lt;/p&gt;</comment>
                            <comment id="12754933" author="rksingh" created="Mon, 14 Sep 2009 11:22:57 +0000"  >&lt;p&gt;attaching the patch which cleans up the conf/*.xml for template files&lt;/p&gt;</comment>
                            <comment id="12755130" author="szetszwo" created="Mon, 14 Sep 2009 18:41:29 +0000"  >&lt;p&gt;What happens if there are user xml files in conf?  Would these files be deleted by test-patch.sh?&lt;/p&gt;</comment>
                            <comment id="12755321" author="rksingh" created="Tue, 15 Sep 2009 03:16:30 +0000"  >&lt;p&gt;Patch only delete files , if they have  corresponding template files.&lt;/p&gt;</comment>
                            <comment id="12755401" author="yhemanth" created="Tue, 15 Sep 2009 07:27:57 +0000"  >&lt;p&gt;I think this patch is fine, except, I think this should be done only if its being run on HUDSON. That will keep parity with what is done in the checkout method and thus not cause side effects to developers using test-patch. Rahul, since we can&apos;t run this patch itself through hudson, can you please make sure that test-patch is functional when used with projects like map-reduce and then I can commit it  to unblock &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-861&quot; title=&quot;Modify queue configuration format and parsing to support a hierarchy of queues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-861&quot;&gt;&lt;del&gt;MAPREDUCE-861&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="12755440" author="rksingh" created="Tue, 15 Sep 2009 10:12:58 +0000"  >&lt;p&gt;Attaching the new patch with hemanth&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="12755471" author="yhemanth" created="Tue, 15 Sep 2009 13:04:55 +0000"  >&lt;p&gt;Attaching a new patch that just formats the new method as per convention. I ran test-patch locally with a Map/Reduce patch and verified it still works fine. Will commit the patch based on this.&lt;/p&gt;</comment>
                            <comment id="12755475" author="yhemanth" created="Tue, 15 Sep 2009 13:17:43 +0000"  >&lt;p&gt;I committed this to trunk. Thanks, Rahul !&lt;/p&gt;</comment>
                            <comment id="12755482" author="hudson" created="Tue, 15 Sep 2009 13:29:29 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #32 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/32/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk-Commit/32/&lt;/a&gt;)&lt;br/&gt;
    . Modify test-patch to delete copied XML files before running patch build. Contributed by Rahul Kumar Singh.&lt;/p&gt;</comment>
                            <comment id="12755515" author="hudson" created="Tue, 15 Sep 2009 14:53:19 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk-Commit #35 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/35/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/35/&lt;/a&gt;)&lt;br/&gt;
    . Modify test-patch to delete copied XML files before running patch build. Contributed by Rahul Kumar Singh.&lt;/p&gt;</comment>
                            <comment id="12755553" author="hudson" created="Tue, 15 Sep 2009 16:19:25 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #83 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk/83/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk/83/&lt;/a&gt;)&lt;br/&gt;
    . Modify test-patch to delete copied XML files before running patch build. Contributed by Rahul Kumar Singh.&lt;/p&gt;</comment>
                            <comment id="12755565" author="hudson" created="Tue, 15 Sep 2009 16:43:42 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk-Commit #39 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/39/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Mapreduce-trunk-Commit/39/&lt;/a&gt;)&lt;br/&gt;
    . Modify test-patch to delete copied XML files before running patch build. Contributed by Rahul Kumar Singh.&lt;/p&gt;</comment>
                            <comment id="12755693" author="hudson" created="Tue, 15 Sep 2009 21:05:46 +0000"  >&lt;p&gt;Integrated in Hdfs-Patch-h5.grid.sp2.yahoo.net #29 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/29/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/29/&lt;/a&gt;)&lt;br/&gt;
    . Modify test-patch to delete copied XML files before running patch build. Contributed by Rahul Kumar Singh.&lt;/p&gt;</comment>
                            <comment id="12755981" author="hudson" created="Wed, 16 Sep 2009 11:09:09 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk #97 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/97/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Common-trunk/97/&lt;/a&gt;)&lt;br/&gt;
    . Modify test-patch to delete copied XML files before running patch build. Contributed by Rahul Kumar Singh.&lt;/p&gt;</comment>
                            <comment id="12756005" author="hudson" created="Wed, 16 Sep 2009 12:48:24 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #85 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk/85/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk/85/&lt;/a&gt;)&lt;br/&gt;
    . Modify test-patch to delete copied XML files before running patch build. Contributed by Rahul Kumar Singh.&lt;/p&gt;</comment>
                            <comment id="12757605" author="hudson" created="Sat, 19 Sep 2009 02:12:03 +0000"  >&lt;p&gt;Integrated in Hdfs-Patch-h2.grid.sp2.yahoo.net #11 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/11/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/11/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12419618" name="HADOOP-6250-2.patch" size="666" author="rksingh" created="Tue, 15 Sep 2009 10:12:58 +0000"/>
                            <attachment id="12419628" name="HADOOP-6250-3.patch" size="680" author="yhemanth" created="Tue, 15 Sep 2009 13:04:55 +0000"/>
                            <attachment id="12419511" name="HADOOP-6250.patch" size="625" author="rksingh" created="Mon, 14 Sep 2009 11:22:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0i1cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>103314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>