<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:35:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-7507] jvm metrics all use the same namespace</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-7507</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Ganglia jvm metrics don&apos;t make sense because it&apos;s not clear which java process the metrics refer to. In fact, all hadoop java processes running on a node report their jvm metrics to the same namespace.&lt;/p&gt;

&lt;p&gt;The metrics are exposed by the &quot;jvm&quot; context in JvmMetrics.java. This leads to confusing and nonsensical graphs in ganglia and maybe other monitoring tools.&lt;/p&gt;

&lt;p&gt;One way to fix this is to make sure the process name is reported in the jvm context, making it clear which process is associated with the context, and separating out the jvm metrics per process.&lt;/p&gt;

&lt;p&gt;This is marked as an &quot;incompatible change&quot; because the fix provided removes the JVM metrics and replaces it with process-specific metrics.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12517810">HADOOP-7507</key>
            <summary>jvm metrics all use the same namespace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tucu00">Alejandro Abdelnur</assignee>
                                    <reporter username="jwfbean">Jeff Bean</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Aug 2011 17:18:12 +0000</created>
                <updated>Tue, 15 Nov 2011 00:50:39 +0000</updated>
                            <resolved>Wed, 7 Sep 2011 23:00:28 +0000</resolved>
                                    <version>0.20.2</version>
                                    <fixVersion>0.23.0</fixVersion>
                    <fixVersion>0.24.0</fixVersion>
                                    <component>metrics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13078862" author="jwfbean" created="Wed, 3 Aug 2011 17:21:34 +0000"  >&lt;p&gt;Proposed fix. - a one line change to JvmMetrics.java and a sample hadoop-metrics.properties which includes process-specific metrics. &lt;/p&gt;</comment>
                            <comment id="13078863" author="jwfbean" created="Wed, 3 Aug 2011 17:22:35 +0000"  >&lt;p&gt;This screen shot shows how process-specific jvm metrics can appear in ganglia. &lt;/p&gt;</comment>
                            <comment id="13084481" author="tucu00" created="Sat, 13 Aug 2011 00:06:11 +0000"  >&lt;p&gt;Patch based on Jeff&apos;s changes (thanks Jeff)&lt;/p&gt;</comment>
                            <comment id="13084486" author="vicaya" created="Sat, 13 Aug 2011 00:21:27 +0000"  >&lt;p&gt;This is actually not the right fix as jvm metrics already set the processName tag. The right place to fix this is actually in ganglia plugin to encode tags as part of the metrics names, as the problem not only happens to jvm metrics but also other per tag metrics as well, say per queue metrics in capacity scheduler.&lt;/p&gt;

&lt;p&gt;Both metrics1 and metrics2 Ganglia&lt;/p&gt;
{Plugin,Sink}
&lt;p&gt; needs to be fixed. Metrics2 is what hadoop will be using for trunk/0.23. Some downstream projects like HBase will still use metrics1 for compatibility reasons (working with multiple hadoop releases from 0.20 to 0.23 etc.)&lt;/p&gt;</comment>
                            <comment id="13085547" author="michaelk" created="Tue, 16 Aug 2011 05:48:12 +0000"  >&lt;p&gt;Ran into this issue as well. Haven&apos;t fully tested the patch yet (functionally), but uploading for reference.&lt;/p&gt;</comment>
                            <comment id="13085551" author="hadoopqa" created="Tue, 16 Aug 2011 05:59:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12490506/HADOOP-7507-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12490506/HADOOP-7507-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;    +1 system test framework.  The patch passed system test framework compile.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/40//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/40//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/40//artifact/trunk/target/newPatchFindbugsWarningshadoop-common.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/40//artifact/trunk/target/newPatchFindbugsWarningshadoop-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/40//artifact/trunk/target/newPatchFindbugsWarningshadoop-annotations.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/40//artifact/trunk/target/newPatchFindbugsWarningshadoop-annotations.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/40//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/40//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13091423" author="tucu00" created="Thu, 25 Aug 2011 23:38:37 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;I&apos;ve applied &apos;v2&apos; patch and manually tested with the different versions of ganglia, names are now namespaced. I.e.:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;METRIC NAME=&lt;span class=&quot;code-quote&quot;&gt;&quot;jvm.NameNode.metrics.logWarn&quot;&lt;/span&gt; VAL=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; TYPE=&lt;span class=&quot;code-quote&quot;&gt;&quot;int32&quot;&lt;/span&gt; UNITS=&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; TN=&quot;&lt;/span&gt;5&lt;span class=&quot;code-quote&quot;&gt;&quot; TMAX=&quot;&lt;/span&gt;60&lt;span class=&quot;code-quote&quot;&gt;&quot; DMAX=&quot;&lt;/span&gt;0&lt;span class=&quot;code-quote&quot;&gt;&quot; SLOPE=&quot;&lt;/span&gt;both&quot;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13091434" author="tucu00" created="Thu, 25 Aug 2011 23:51:04 +0000"  >&lt;p&gt;patch has to be rebased to new layout. And there is concatenation typo.&lt;/p&gt;</comment>
                            <comment id="13091449" author="tucu00" created="Fri, 26 Aug 2011 00:08:50 +0000"  >&lt;p&gt;rebased and concat typo fixed&lt;/p&gt;</comment>
                            <comment id="13092115" author="tlipcon" created="Fri, 26 Aug 2011 22:53:25 +0000"  >&lt;p&gt;+1 pending Hudson&lt;/p&gt;</comment>
                            <comment id="13092139" author="vicaya" created="Fri, 26 Aug 2011 23:50:25 +0000"  >&lt;p&gt;The patch only works around the jvm metrics problem. It doesn&apos;t really fix the underlying issue of the Ganglia support: lack of tag/dimension/group support (They are &lt;a href=&quot;http://www.mail-archive.com/ganglia-general@lists.sourceforge.net/msg06822.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;working on tags support&lt;/a&gt;). Our current workaround is flatten the namespace, but in a inconsistent way, so the it still won&apos;t work for QueueMetrics in CapacityScheduler.&lt;/p&gt;

&lt;p&gt;I think for metrics1, the hardcoded workaround is probably OK (to minimize disruption to old systems) but for metrics2, we could do something like this for the groupName:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (MetricsTag t : tags) {
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (t.value() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
    sb.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;).append(t.value());
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="13092140" author="vicaya" created="Fri, 26 Aug 2011 23:54:28 +0000"  >&lt;p&gt;Probably should exclude hostname, as ganglia handles it explicitly:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (MetricsTag t : tags) {
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (t.info() != MsInfo.Hostname &amp;amp;&amp;amp; t.value() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
    sb.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;).append(t.value());
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13092143" author="tlipcon" created="Sat, 27 Aug 2011 00:14:35 +0000"  >&lt;p&gt;We&apos;d also want a consistent ordering of tags, right? (perhaps sorted by their keys)&lt;/p&gt;</comment>
                            <comment id="13092983" author="vicaya" created="Mon, 29 Aug 2011 17:18:21 +0000"  >&lt;p&gt;The ordering of the tags is determined by the metrics sources (typically managed by MetricsRegistry, which uses a LinkedHashMap to manage tags). The same metrics record with different tags are from different instances of the same metrics classes. So sorting is not necessary. I personally would prefer being able control the ordering.&lt;/p&gt;</comment>
                            <comment id="13093054" author="tucu00" created="Mon, 29 Aug 2011 18:23:14 +0000"  >&lt;p&gt;v4 patch.&lt;/p&gt;

&lt;p&gt;Integrates Luke&apos;s suggestions.&lt;/p&gt;

&lt;p&gt;I&apos;ve checked with Matt regarding the exclusion of the Hostname tag, and he indicated that it is a good idea. His argument is that hostnames are case insensitive and different DNSes may have the host with different case and this could create shadow groups if a process starts getting a different case DNS name.&lt;/p&gt;</comment>
                            <comment id="13093062" author="vicaya" created="Mon, 29 Aug 2011 18:32:44 +0000"  >&lt;p&gt;v4 patch integrated generic tags handling in jvm context only &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; i.e., the outer if check for jvm context is unnecessary.&lt;/p&gt;</comment>
                            <comment id="13093067" author="hadoopqa" created="Mon, 29 Aug 2011 18:36:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12492109/HADOOP-7507v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12492109/HADOOP-7507v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 4 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed these unit tests:&lt;/p&gt;



&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-annotations.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-common.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/96//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13095493" author="tucu00" created="Thu, 1 Sep 2011 18:16:25 +0000"  >&lt;p&gt;v5 patch addressing last comment from Luke.&lt;/p&gt;</comment>
                            <comment id="13095506" author="hadoopqa" created="Thu, 1 Sep 2011 18:32:50 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12492641/HADOOP-7507v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12492641/HADOOP-7507v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed these unit tests:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.io.serializer.avro.TestAvroSerialization&lt;br/&gt;
                  org.apache.hadoop.io.TestText&lt;br/&gt;
                  org.apache.hadoop.conf.TestConfiguration&lt;br/&gt;
                  org.apache.hadoop.io.TestEnumSetWritable&lt;br/&gt;
                  org.apache.hadoop.fs.TestPath&lt;br/&gt;
                  org.apache.hadoop.ipc.TestAvroRpc&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-annotations.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth-examples.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-common.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/121//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13095524" author="tlipcon" created="Thu, 1 Sep 2011 18:48:58 +0000"  >&lt;p&gt;Thinking about this a bit... it seems like doing the generic tag handling won&apos;t work well in Ganglia, given that the JT has job-specific metrics tagged by the job ID (eg fairscheduler job level metrics). Over time, the JT will accumulate an unbounded number of metrics in ganglia, and I don&apos;t think Ganglia ever &quot;ages off&quot; a gmetric that it hasn&apos;t seen in a while. I think we need some sort of config for the ganglia context that says which tag names need to be included as part of a metric (and perhaps which metrics shouldn&apos;t be reported at all in ganglia?)&lt;/p&gt;</comment>
                            <comment id="13095536" author="tucu00" created="Thu, 1 Sep 2011 19:00:18 +0000"  >&lt;p&gt;there is something wrong in the logic, checking.&lt;/p&gt;</comment>
                            <comment id="13095613" author="vicaya" created="Thu, 1 Sep 2011 21:24:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;generic tag handling won&apos;t work well in Ganglia, given that the JT has job-specific metrics tagged by the job ID (eg fairscheduler job level metrics)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ganglia cannot handle this type of metrics correctly anyway. metrics2 can be configured (dynamically) to filter out certain portion of metrics (by context/source/metrics/tag with glob pattern and regex) per metrics sink.&lt;/p&gt;</comment>
                            <comment id="13095617" author="vicaya" created="Thu, 1 Sep 2011 21:28:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;there is something wrong in the logic, checking.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;ProcessName checking and the break is unnecessary. The whole block of logic should look like the code in &lt;a href=&quot;#comment-13092140&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;this comment&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13095637" author="tucu00" created="Thu, 1 Sep 2011 22:05:05 +0000"  >&lt;p&gt;v6, &lt;/p&gt;

&lt;p&gt;For &apos;metrics&apos; the original fix stays, just prefixing the processName to the &apos;jvm&apos; context. &lt;/p&gt;

&lt;p&gt;For &apos;metrics2&apos; rewritten (as per Todd&apos;s suggestion) to be able to specify which tags are to be used for the prefix.&lt;/p&gt;

&lt;p&gt;In the hadoop-metrics2.properties the property &lt;b&gt;PROCESS_NAME.sink.ganglia.tagsForPrefix.CONTEXT_NAME&lt;/b&gt; indicates which tags are used. If not specified, no tag is used, if &apos;*&apos; is specified all tags are used, individual tags can be specified separated by commas.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;namenode.sink.ganglia.tagsForPrefix.jvm=*
namenode.sink.ganglia.tagsForPrefix.dfs=*
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Context and Hostname tags are never used.&lt;/p&gt;

&lt;p&gt;Because the default is no tags, the default behavior is backwards compatible.&lt;/p&gt;
</comment>
                            <comment id="13096358" author="hadoopqa" created="Fri, 2 Sep 2011 22:01:14 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12492679/HADOOP-7507v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12492679/HADOOP-7507v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed these unit tests:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.io.serializer.avro.TestAvroSerialization&lt;br/&gt;
                  org.apache.hadoop.io.TestText&lt;br/&gt;
                  org.apache.hadoop.conf.TestConfiguration&lt;br/&gt;
                  org.apache.hadoop.io.TestEnumSetWritable&lt;br/&gt;
                  org.apache.hadoop.fs.TestPath&lt;br/&gt;
                  org.apache.hadoop.ipc.TestAvroRpc&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-annotations.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth-examples.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-common.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/127//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13099229" author="tlipcon" created="Wed, 7 Sep 2011 19:12:26 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In hadoop-metrics2.properties, we should probably default tagsForPrefix.jvm=ProcessName, right? So that the default behavior with the new metrics system solves the original issue of this JIRA&lt;/li&gt;
	&lt;li&gt;TAGS_FOR_PREFIX_PROPERTY can be private&lt;/li&gt;
	&lt;li&gt;minor efficiency nit: change createPrefix() to be appendPrefix(MetricsRecord record, StringBuilder builder) so you can just call appendPrefix(record, sb);&lt;/li&gt;
	&lt;li&gt;createPrefix could be package-private, right?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13099580" author="tucu00" created="Wed, 7 Sep 2011 21:39:20 +0000"  >&lt;p&gt;v7 addresses Todd&apos;s comments with a minor twist, using @InterfaceAudience.Private annotation because the testcase is in a different package.&lt;/p&gt;</comment>
                            <comment id="13099589" author="tlipcon" created="Wed, 7 Sep 2011 21:47:55 +0000"  >&lt;p&gt;I was thinking the default for the jvm prefix would be uncommented in the file. So, if you enable Ganglia metrics, it&apos;s set up correctly by default with no other changes. You could uncomment all of the lines, to be consistent, right? the uncommented line with an empty value would be equivalent to the commented-out line?&lt;/p&gt;

&lt;p&gt;For the method being accessible to tests, I think the @VisibleForTests annotation from Guava is more appropriate.&lt;/p&gt;</comment>
                            <comment id="13099596" author="hadoopqa" created="Wed, 7 Sep 2011 21:51:05 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12493507/HADOOP-7507v7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12493507/HADOOP-7507v7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in hadoop-common-project.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-common.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-annotations.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth-examples.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-auth-examples.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/148//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13099611" author="tucu00" created="Wed, 7 Sep 2011 22:12:10 +0000"  >&lt;p&gt;On the annotation, are we using Guava annotations for that in Hadoop?&lt;/p&gt;

&lt;p&gt;Regarding uncommenting the &lt;b&gt;.sink.ganglia.tagsForPrefix.jvm=, that is a good idea, but what are the &apos;&lt;/b&gt;&apos; in the new world (MR2)? Can we defer this to a follow up tune-up JIRA?&lt;/p&gt;
</comment>
                            <comment id="13099634" author="tlipcon" created="Wed, 7 Sep 2011 22:56:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;On the annotation, are we using Guava annotations for that in Hadoop?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Not a lot, yet - I&apos;ve used it a few places in HDFS, but that&apos;s about it. I&apos;m fine with leaving it as you have it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Can we defer this to a follow up tune-up JIRA?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Oh, I see what you&apos;re saying. Let&apos;s defer to a followup once metrics2 starts getting real usage, like you said.&lt;/p&gt;

&lt;p&gt;+1, I&apos;ll commit this momentarily&lt;/p&gt;</comment>
                            <comment id="13099636" author="tlipcon" created="Wed, 7 Sep 2011 23:00:28 +0000"  >&lt;p&gt;Committed to trunk and 0.23. Should we include this in the 0.20 series as well? Since it&apos;s a slightly incompatible change, maybe we need to add a config flag to enable the fixed &quot;jvm&quot; metric in metrics1 in the 0.20 backport?&lt;/p&gt;</comment>
                            <comment id="13099640" author="hudson" created="Wed, 7 Sep 2011 23:03:14 +0000"  >&lt;p&gt;Integrated in Hadoop-Common-trunk-Commit #845 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/845/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Common-trunk-Commit/845/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7507&quot; title=&quot;jvm metrics all use the same namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7507&quot;&gt;&lt;del&gt;HADOOP-7507&lt;/del&gt;&lt;/a&gt;. Allow ganglia metrics to include the metrics system tags in the gmetric names. Contributed by Alejandro Abdelnur.&lt;/p&gt;

&lt;p&gt;todd : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-metrics2.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics/ganglia/GangliaContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/sink/ganglia/GangliaSink30.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13099641" author="hudson" created="Wed, 7 Sep 2011 23:03:45 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk-Commit #922 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/922/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk-Commit/922/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7507&quot; title=&quot;jvm metrics all use the same namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7507&quot;&gt;&lt;del&gt;HADOOP-7507&lt;/del&gt;&lt;/a&gt;. Allow ganglia metrics to include the metrics system tags in the gmetric names. Contributed by Alejandro Abdelnur.&lt;/p&gt;

&lt;p&gt;todd : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-metrics2.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics/ganglia/GangliaContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/sink/ganglia/GangliaSink30.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13099645" author="hudson" created="Wed, 7 Sep 2011 23:05:48 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk-Commit #856 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/856/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Commit/856/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7507&quot; title=&quot;jvm metrics all use the same namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7507&quot;&gt;&lt;del&gt;HADOOP-7507&lt;/del&gt;&lt;/a&gt;. Allow ganglia metrics to include the metrics system tags in the gmetric names. Contributed by Alejandro Abdelnur.&lt;/p&gt;

&lt;p&gt;todd : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-metrics2.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics/ganglia/GangliaContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/sink/ganglia/GangliaSink30.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13100273" author="hudson" created="Thu, 8 Sep 2011 12:50:50 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #787 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/787/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/787/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7507&quot; title=&quot;jvm metrics all use the same namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7507&quot;&gt;&lt;del&gt;HADOOP-7507&lt;/del&gt;&lt;/a&gt;. Allow ganglia metrics to include the metrics system tags in the gmetric names. Contributed by Alejandro Abdelnur.&lt;/p&gt;

&lt;p&gt;todd : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-metrics2.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics/ganglia/GangliaContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/sink/ganglia/GangliaSink30.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13100292" author="hudson" created="Thu, 8 Sep 2011 13:06:00 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #810 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/810/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/810/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7507&quot; title=&quot;jvm metrics all use the same namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7507&quot;&gt;&lt;del&gt;HADOOP-7507&lt;/del&gt;&lt;/a&gt;. Allow ganglia metrics to include the metrics system tags in the gmetric names. Contributed by Alejandro Abdelnur.&lt;/p&gt;

&lt;p&gt;todd : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166460&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/conf/hadoop-metrics2.properties&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics/ganglia/GangliaContext.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/sink/ganglia/GangliaSink30.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/metrics2/impl/TestGangliaMetrics.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12489220" name="ASF.LICENSE.NOT.GRANTED--screenshot-1.jpg" size="171410" author="jwfbean" created="Wed, 3 Aug 2011 17:22:35 +0000"/>
                            <attachment id="12490506" name="HADOOP-7507-v2.patch" size="2137" author="michaelk" created="Tue, 16 Aug 2011 05:48:12 +0000"/>
                            <attachment id="12490307" name="HADOOP-7507v1.patch" size="2285" author="tucu00" created="Sat, 13 Aug 2011 00:06:11 +0000"/>
                            <attachment id="12491713" name="HADOOP-7507v3.patch" size="2491" author="tucu00" created="Fri, 26 Aug 2011 00:08:09 +0000"/>
                            <attachment id="12492109" name="HADOOP-7507v4.patch" size="2577" author="tucu00" created="Mon, 29 Aug 2011 18:23:14 +0000"/>
                            <attachment id="12492641" name="HADOOP-7507v5.patch" size="2700" author="tucu00" created="Thu, 1 Sep 2011 18:16:25 +0000"/>
                            <attachment id="12492679" name="HADOOP-7507v6.patch" size="8867" author="tucu00" created="Thu, 1 Sep 2011 22:05:04 +0000"/>
                            <attachment id="12493507" name="HADOOP-7507v7.patch" size="9141" author="tucu00" created="Wed, 7 Sep 2011 21:39:20 +0000"/>
                            <attachment id="12489219" name="JvmMetrics.java" size="7340" author="jwfbean" created="Wed, 3 Aug 2011 17:21:34 +0000"/>
                            <attachment id="12489218" name="hadoop-metrics.properties" size="2024" author="jwfbean" created="Wed, 3 Aug 2011 17:21:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ow7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>JVM metrics published to Ganglia now include the process name as part of the gmetric name.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>