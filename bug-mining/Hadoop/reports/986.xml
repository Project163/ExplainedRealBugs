<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:43:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9981] globStatus should minimize its listStatus and getFileStatus calls</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9981</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9652&quot; title=&quot;Allow RawLocalFs#getFileLinkStatus to fill in the link owner and mode if requested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9652&quot;&gt;&lt;del&gt;HADOOP-9652&lt;/del&gt;&lt;/a&gt;, listStatus() or globStatus() calls against a local file system directory is very slow.  A user was loading data from local file system to Hive and it took about 30 seconds. The same operation took less than a second pre-&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9652&quot; title=&quot;Allow RawLocalFs#getFileLinkStatus to fill in the link owner and mode if requested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9652&quot;&gt;&lt;del&gt;HADOOP-9652&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;The input path had many other files beside the input files and strace showed that fork &amp;amp; exec of stat against each and every one of them. jstack confirmed that this was being done from getNativeFileLinkStatus().&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12669562">HADOOP-9981</key>
            <summary>globStatus should minimize its listStatus and getFileStatus calls</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cmccabe">Colin McCabe</assignee>
                                    <reporter username="kihwal">Kihwal Lee</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2013 21:39:18 +0000</created>
                <updated>Mon, 24 Feb 2014 20:57:01 +0000</updated>
                            <resolved>Wed, 25 Sep 2013 20:56:12 +0000</resolved>
                                    <version>2.3.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="13772365" author="kihwal" created="Thu, 19 Sep 2013 21:46:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmccabe&quot; class=&quot;user-hover&quot; rel=&quot;cmccabe&quot;&gt;cmccabe&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.wang&quot; class=&quot;user-hover&quot; rel=&quot;andrew.wang&quot;&gt;andrew.wang&lt;/a&gt;: Any thoughts on how to improve it? How about extending NativeIO for this and keeping what we have today as fallback?&lt;/p&gt;</comment>
                            <comment id="13772403" author="andrew.wang" created="Thu, 19 Sep 2013 22:37:44 +0000"  >&lt;p&gt;Hey Kihwal,&lt;/p&gt;

&lt;p&gt;We could definitely use &lt;tt&gt;lstat(2)&lt;/tt&gt; system call instead of &lt;tt&gt;stat(1)&lt;/tt&gt;, it just requires a bit more work. &lt;tt&gt;lstat(2)&lt;/tt&gt; only provides the uid and gid, so these would need to be translated into string names via &lt;tt&gt;getpwnam&lt;/tt&gt; and &lt;tt&gt;getgrname&lt;/tt&gt;. It&apos;d also require calling &lt;tt&gt;readlink(2)&lt;/tt&gt; to get the link target if it&apos;s a link. I agree we can keep the existing behavior as a fallback for not having native code.&lt;/p&gt;

&lt;p&gt;As a side note, all of this should really be a fallback for JDK7&apos;s lstat, which we theoretically should be allowed to use since JDK6 is EOL.&lt;/p&gt;</comment>
                            <comment id="13773248" author="cmccabe" created="Fri, 20 Sep 2013 18:01:48 +0000"  >&lt;p&gt;I think a JNI implementation for JDK6 would not be too difficult to create.  It&apos;s probably just a few lines of code.&lt;/p&gt;</comment>
                            <comment id="13773329" author="kihwal" created="Fri, 20 Sep 2013 19:19:42 +0000"  >&lt;p&gt;I think the new Globber added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9817&quot; title=&quot;FileSystem#globStatus and FileContext#globStatus need to work with symlinks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9817&quot;&gt;&lt;del&gt;HADOOP-9817&lt;/del&gt;&lt;/a&gt; causes listStaus() of parents when globStatus() is called as in the Hive use case. The large number of files were actually in the parent directory of the data directory.  While fixing stat will make it go faster, the Globber needs to be fixed as well to avoid unnecessary stats.&lt;/p&gt;</comment>
                            <comment id="13773374" author="cmccabe" created="Fri, 20 Sep 2013 20:24:08 +0000"  >&lt;p&gt;yes, I think the globber can be fixed to avoid listStatus on non-wildcard path components.  It will be a little tricky to do this while not breaking support for symlinks, but I think it can be done.&lt;/p&gt;</comment>
                            <comment id="13776010" author="cnauroth" created="Tue, 24 Sep 2013 05:46:01 +0000"  >&lt;p&gt;We&apos;ve also seen a performance impact for Hive queries caused by the &lt;tt&gt;Globber&lt;/tt&gt; changes.  (Thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;gopalv&lt;/a&gt; for providing some profiling data.)  Is it best to revert so that we unblock people who are seeing this performance impact, or do we expect this can be fixed quickly?&lt;/p&gt;</comment>
                            <comment id="13776397" author="cmccabe" created="Tue, 24 Sep 2013 15:42:02 +0000"  >&lt;p&gt;I have a patch for this.  I&apos;ll post it later today.&lt;/p&gt;</comment>
                            <comment id="13776439" author="cnauroth" created="Tue, 24 Sep 2013 16:21:54 +0000"  >&lt;p&gt;Great!  Thanks for the quick update, Colin.&lt;/p&gt;</comment>
                            <comment id="13776483" author="cmccabe" created="Tue, 24 Sep 2013 17:04:03 +0000"  >&lt;p&gt;Here&apos;s a patch which fixes this issue.&lt;/p&gt;

&lt;p&gt;We should never call listStatus unless it&apos;s necessary.&lt;/p&gt;

&lt;p&gt;I added a test for listing a path in &lt;tt&gt;/.reserved/.inodes&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I removed the &quot;globbing symlinks&quot; tests for now, since the behavior of globStatus with symlinks is changing in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9984&quot; title=&quot;FileSystem#globStatus and FileSystem#listStatus should resolve symlinks by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9984&quot;&gt;HADOOP-9984&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13776665" author="hadoopqa" created="Tue, 24 Sep 2013 19:37:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12604835/HADOOP-9981.001.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12604835/HADOOP-9981.001.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.fs.TestPath&lt;br/&gt;
                  org.apache.hadoop.cli.TestHDFSCLI&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3117//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3117//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3117//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3117//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13776739" author="cmccabe" created="Tue, 24 Sep 2013 21:01:00 +0000"  >&lt;p&gt;Fix an issue with using paths that contained globber metacharacters.&lt;/p&gt;</comment>
                            <comment id="13777066" author="andrew.wang" created="Wed, 25 Sep 2013 01:57:23 +0000"  >&lt;p&gt;Hi Colin, thanks for the patch. Review as follows:&lt;/p&gt;

&lt;p&gt;Nitty: lines longer than 80 chars:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((componentIdx &amp;lt; components.size() - 1) &amp;amp;&amp;amp; (!globFilter.hasPattern())) {
...
            FileStatus childStatus = getFileStatus(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(candidate.getPath(), component));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
	&lt;li&gt;Let&apos;s use @Ignore annotations on the tests instead of removing them, I assume we want to add them back in eventually?&lt;/li&gt;
	&lt;li&gt;I think we have an existing bug in the paths of the returned FileStatus. When going through a glob, it sets the path to the built-up path which can include symlinks, while for a non-glob it&apos;s using &lt;tt&gt;getFileStatus&lt;/tt&gt; which has a resolved path. I&apos;m pretty sure FileStatus are supposed to have a resolved path. This is complicated by how PathFilter still needs to compare against the complete built-up path; maybe we could do something like:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (filter.accept(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(prefix, status.getPath().getName()))) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Our symlink resolution right now is inconsistent: listStatus does not resolve results, getFileStatus does. Shouldn&apos;t this be getFileLinkStatus? Or are we waiting to fix this again in &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-9877&quot; title=&quot;HDFS Namenode UI: Fix browsing directories that need to be encoded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-9877&quot;&gt;&lt;del&gt;HDFS-9877&lt;/del&gt;&lt;/a&gt; when it gets recommitted? I know &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9972&quot; title=&quot;new APIs for listStatus and globStatus to deal with symlinks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9972&quot;&gt;HADOOP-9972&lt;/a&gt; with the new APIs is coming down the pipe, so I just wanted to bring this up.&lt;/li&gt;
	&lt;li&gt;I&apos;d like to see tests that would have caught these correctness concerns: that resolved paths are returned correctly (with and without a wildcard), that PathFilters are matching against built-up paths as expected (with and without wildcards), and the looping &lt;tt&gt;/a/b -&amp;gt; ..&lt;/tt&gt; symlink case you mentioned in a comment. Whether it&apos;s a terminal or intermediate wildcard also matters here. There are unfortunately a lot of edge cases.&lt;/li&gt;
	&lt;li&gt;Also noticed that we have a little duplication in TestGlobPaths: &lt;tt&gt;trueFilter&lt;/tt&gt; is the same as &lt;tt&gt;AcceptAllFilter&lt;/tt&gt;. &lt;tt&gt;AcceptPathsEndingInZ&lt;/tt&gt; is also only used in the removed test.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13777134" author="hadoopqa" created="Wed, 25 Sep 2013 04:15:20 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12604875/HADOOP-9981.002.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12604875/HADOOP-9981.002.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3119//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3119//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3119//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3119//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13777805" author="cmccabe" created="Wed, 25 Sep 2013 17:52:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;lines longer than 80 chars&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;fixed&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Let&apos;s use @Ignore annotations on the tests instead of removing them, I assume we want to add them back in eventually?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;good idea.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Our symlink resolution right now is inconsistent: listStatus does not resolve results, getFileStatus does...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Let&apos;s tackle the symlinks semantics for globStatus as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9984&quot; title=&quot;FileSystem#globStatus and FileSystem#listStatus should resolve symlinks by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9984&quot;&gt;HADOOP-9984&lt;/a&gt;.  This JIRA is just about the efficiency concerns.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also noticed that we have a little duplication in TestGlobPaths: trueFilter is the same as AcceptAllFilter. AcceptPathsEndingInZ is also only used in the removed test.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I added back in the tests with an &lt;tt&gt;ignore&lt;/tt&gt;, and made &lt;tt&gt;trueFilter&lt;/tt&gt; an instance of &lt;tt&gt;AcceptAllFilter&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13777845" author="andrew.wang" created="Wed, 25 Sep 2013 18:14:24 +0000"  >&lt;p&gt;+1 thanks Colin. I&apos;m alright with punting the semantics questions to &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9984&quot; title=&quot;FileSystem#globStatus and FileSystem#listStatus should resolve symlinks by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9984&quot;&gt;HADOOP-9984&lt;/a&gt;, I&apos;ll cross-post my review feedback there.&lt;/p&gt;</comment>
                            <comment id="13778055" author="hadoopqa" created="Wed, 25 Sep 2013 20:44:48 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12605058/HADOOP-9981.003.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12605058/HADOOP-9981.003.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3123//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3123//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3123//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3123//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13778068" author="cmccabe" created="Wed, 25 Sep 2013 20:56:12 +0000"  >&lt;p&gt;committed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kihwal&quot; class=&quot;user-hover&quot; rel=&quot;kihwal&quot;&gt;kihwal&lt;/a&gt;, can you validate that this fixes your issue with &lt;tt&gt;LocalFileSystem&lt;/tt&gt;?&lt;/p&gt;

&lt;p&gt;There are other optimizations we could do, but if possible, I&apos;d like to hold off for now since a lot of this will improve with JDK7 (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9769&quot; title=&quot;Remove org.apache.hadoop.fs.Stat when JDK6 support is dropped&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9769&quot;&gt;HADOOP-9769&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13778070" author="hudson" created="Wed, 25 Sep 2013 20:56:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #4466 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/4466/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/4466/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9981&quot; title=&quot;globStatus should minimize its listStatus and getFileStatus calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9981&quot;&gt;&lt;del&gt;HADOOP-9981&lt;/del&gt;&lt;/a&gt;. globStatus should minimize its listStatus and getFileStatus calls.  (Contributed by Colin Patrick McCabe) (cmccabe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526297&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Globber.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestGlobPaths.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13778088" author="hadoopqa" created="Wed, 25 Sep 2013 21:12:28 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12605058/HADOOP-9981.003.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12605058/HADOOP-9981.003.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common hadoop-hdfs-project/hadoop-hdfs.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3124//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3124//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3124//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3124//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13778653" author="hudson" created="Thu, 26 Sep 2013 10:57:50 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Yarn-trunk #344 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/344/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/344/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9981&quot; title=&quot;globStatus should minimize its listStatus and getFileStatus calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9981&quot;&gt;&lt;del&gt;HADOOP-9981&lt;/del&gt;&lt;/a&gt;. globStatus should minimize its listStatus and getFileStatus calls.  (Contributed by Colin Patrick McCabe) (cmccabe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526297&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Globber.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestGlobPaths.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13778756" author="hudson" created="Thu, 26 Sep 2013 13:24:25 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Mapreduce-trunk #1560 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1560/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1560/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9981&quot; title=&quot;globStatus should minimize its listStatus and getFileStatus calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9981&quot;&gt;&lt;del&gt;HADOOP-9981&lt;/del&gt;&lt;/a&gt;. globStatus should minimize its listStatus and getFileStatus calls.  (Contributed by Colin Patrick McCabe) (cmccabe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526297&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Globber.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestGlobPaths.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13778770" author="hudson" created="Thu, 26 Sep 2013 13:29:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Hdfs-trunk #1534 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1534/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1534/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9981&quot; title=&quot;globStatus should minimize its listStatus and getFileStatus calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9981&quot;&gt;&lt;del&gt;HADOOP-9981&lt;/del&gt;&lt;/a&gt;. globStatus should minimize its listStatus and getFileStatus calls.  (Contributed by Colin Patrick McCabe) (cmccabe: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526297&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Globber.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/fs/TestGlobPaths.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12663898">HADOOP-9877</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12679853">HADOOP-10112</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12659687">HADOOP-9769</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12653594">HADOOP-9652</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12604835" name="HADOOP-9981.001.patch" size="15927" author="cmccabe" created="Tue, 24 Sep 2013 17:04:03 +0000"/>
                            <attachment id="12604875" name="HADOOP-9981.002.patch" size="16582" author="cmccabe" created="Tue, 24 Sep 2013 21:01:00 +0000"/>
                            <attachment id="12605058" name="HADOOP-9981.003.patch" size="10161" author="cmccabe" created="Wed, 25 Sep 2013 18:01:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o9gn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>