<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:44:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-10070] RPC client doesn&apos;t use per-connection conf to determine server&apos;s expected Kerberos principal name</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-10070</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;Currently, RPC client caches the &lt;tt&gt;Configuration&lt;/tt&gt; object that was passed in to its constructor and uses that same conf for every connection it sets up thereafter. This can cause problems when security is enabled if the &lt;tt&gt;Configuration&lt;/tt&gt; object provided when the first RPC connection was made does not contain all possible entries for all server principals that will later be used by subsequent connections. When this happens, it will result in later RPC connections incorrectly failing with the error &quot;Failed to specify server&apos;s Kerberos principal name&quot; even though the principal name was specified in the &lt;tt&gt;Configuration&lt;/tt&gt; object provided on later RPC connection attempts.&lt;/p&gt;

&lt;p&gt;I believe this means that we&apos;ve inadvertently reintroduced &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6907&quot; title=&quot;Rpc client doesn&amp;#39;t use the per-connection conf to figure out server&amp;#39;s Kerberos principal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6907&quot;&gt;&lt;del&gt;HADOOP-6907&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675644">HADOOP-10070</key>
            <summary>RPC client doesn&apos;t use per-connection conf to determine server&apos;s expected Kerberos principal name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="atm">Aaron Myers</assignee>
                                    <reporter username="atm">Aaron Myers</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Oct 2013 01:46:47 +0000</created>
                <updated>Thu, 4 Sep 2014 01:16:46 +0000</updated>
                            <resolved>Tue, 4 Mar 2014 18:54:16 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.4.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="13804939" author="atm" created="Fri, 25 Oct 2013 02:10:52 +0000"  >&lt;p&gt;This issue is impossible to reproduce without Kerberos enabled, so I&apos;m going to first upload the script I used to exercise this issue. This is obviously specific to my environment, but the gist should be pretty clear. You&apos;ll see that two separate &lt;tt&gt;Configuration&lt;/tt&gt; objects are used to create two separate RPC connections, neither of which contains the principal name for the other service. Without the fix, the second RPC connection (to the YARN RM) will fail with a &quot;Failed to specify server&apos;s Kerberos principal name&quot; error, even though I did specify the principal name in the &lt;tt&gt;Configuration&lt;/tt&gt; object for that connection. With the fix, both connections succeed.&lt;/p&gt;</comment>
                            <comment id="13804941" author="atm" created="Fri, 25 Oct 2013 02:12:13 +0000"  >&lt;p&gt;Here&apos;s a patch containing the actual fix for this issue.&lt;/p&gt;</comment>
                            <comment id="13805109" author="hadoopqa" created="Fri, 25 Oct 2013 07:09:28 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12610224/HADOOP-10070.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12610224/HADOOP-10070.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3247//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3247//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3247//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3247//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13805127" author="hadoopqa" created="Fri, 25 Oct 2013 07:42:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12610224/HADOOP-10070.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12610224/HADOOP-10070.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3248//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3248//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3248//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3248//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13805420" author="atm" created="Fri, 25 Oct 2013 16:15:11 +0000"  >&lt;p&gt;As previously mentioned, no tests are included since doing so would require Kerberos to be enabled. I tested this manually using the TestKerberosClient program also attached to this JIRA.&lt;/p&gt;</comment>
                            <comment id="13806899" author="tucu00" created="Mon, 28 Oct 2013 16:30:18 +0000"  >&lt;p&gt;FYI, with hadoop-minikdc you can fire a kdc on the fly from a testcase. The hadoop-auth testcases are already doing this.&lt;/p&gt;</comment>
                            <comment id="13807249" author="daryn" created="Mon, 28 Oct 2013 21:29:21 +0000"  >&lt;p&gt;+1 to the approach.  I wonder if it would make sense to remove the other &quot;cached&quot; conf values that are likely only there because the user provided conf to make the connection is/was not being used?  I always wondered why a small subset of values are being saved off.&lt;/p&gt;</comment>
                            <comment id="13897502" author="atm" created="Tue, 11 Feb 2014 03:35:50 +0000"  >&lt;p&gt;Good thinking, Daryn. How does this look to you?&lt;/p&gt;</comment>
                            <comment id="13897521" author="hadoopqa" created="Tue, 11 Feb 2014 04:27:17 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12628146/HADOOP-10070.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12628146/HADOOP-10070.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  There were no new javadoc warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests in hadoop-common-project/hadoop-common:&lt;/p&gt;

&lt;p&gt;                  org.apache.hadoop.metrics2.impl.TestMetricsSystemImpl&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3555//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3555//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/3555//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/3555//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13897893" author="daryn" created="Tue, 11 Feb 2014 14:54:30 +0000"  >&lt;p&gt;Will this completely fix the issue?  Ex. Client1 uses a conf with a principal1 and establishes a connection.  Client2 uses an equivalent conf with a different principal.  Unless the connection from client1 has closed, won&apos;t client2 reuse the open connection?  If correct, is this valid behavior in your case?&lt;/p&gt;

&lt;p&gt;Truly fixing the problem requires a calculating equivalence of all keys that affect the ipc client connection.  Ideally the connectionId would consider all &quot;ipc.client.*&quot; kvps predicated on the client only using values in that range which may not be true.  Extracting/calculating equivalence for just the subset is likely not performant...  Even serializing those keys back into another conf key as a cached value would help but it&apos;d need to updated if one of the cached values changes which is back to re-checking all the keys.  Sigh.&lt;/p&gt;</comment>
                            <comment id="13898107" author="atm" created="Tue, 11 Feb 2014 18:31:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;Ex. Client1 uses a conf with a principal1 and establishes a connection. Client2 uses an equivalent conf with a different principal.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t follow this example. Could you perhaps be a bit more explicit? Are you suggesting in the above that &quot;principal1&quot; is the client or server principal? Note that connections are uniquely identified by (remote address, protocol, client UGI).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Unless the connection from client1 has closed, won&apos;t client2 reuse the open connection? If correct, is this valid behavior in your case?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Take a look at the example repro case I provided in TestKerberosClient.java. With this fix, one need not close the first-opened connection before opening the second. The issue I&apos;m trying to address is that, regardless of whether or not the first client is closed, the second client will use the Configuration of the first, which is clearly incorrect.&lt;/p&gt;</comment>
                            <comment id="13899674" author="atm" created="Wed, 12 Feb 2014 22:19:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daryn&quot; class=&quot;user-hover&quot; rel=&quot;daryn&quot;&gt;daryn&lt;/a&gt; - any comments on the above? I&apos;d really like to get this resolved ASAP.&lt;/p&gt;</comment>
                            <comment id="13900639" author="daryn" created="Thu, 13 Feb 2014 19:30:38 +0000"  >&lt;p&gt;+1 It&apos;s a good change, but I&apos;m confused how it solves this problem.  The ConnectionId is based on addr, so the yarn connection should have already created a new connection and used the principal from the second config - although it would have continued using that principal for future connections even if it changed?  I think your patch solves the latter.&lt;/p&gt;</comment>
                            <comment id="13909088" author="atm" created="Sat, 22 Feb 2014 01:07:56 +0000"  >&lt;p&gt;Yes, that&apos;s correct - this fixes the latter issue.&lt;/p&gt;

&lt;p&gt;I&apos;m going to go ahead and commit this momentarily based on Daryn&apos;s +1.&lt;/p&gt;</comment>
                            <comment id="13909131" author="hudson" created="Sat, 22 Feb 2014 01:45:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-trunk-Commit #5210 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/5210/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/5210/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10070&quot; title=&quot;RPC client doesn&amp;#39;t use per-connection conf to determine server&amp;#39;s expected Kerberos principal name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10070&quot;&gt;&lt;del&gt;HADOOP-10070&lt;/del&gt;&lt;/a&gt;. RPC client doesn&apos;t use per-connection conf to determine server&apos;s expected Kerberos principal name. Contributed by Aaron T. Myers. (atm: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1570776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1570776&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/ClientCache.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/SaslRpcClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13909332" author="hudson" created="Sat, 22 Feb 2014 11:15:06 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Yarn-trunk #489 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/489/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/489/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10070&quot; title=&quot;RPC client doesn&amp;#39;t use per-connection conf to determine server&amp;#39;s expected Kerberos principal name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10070&quot;&gt;&lt;del&gt;HADOOP-10070&lt;/del&gt;&lt;/a&gt;. RPC client doesn&apos;t use per-connection conf to determine server&apos;s expected Kerberos principal name. Contributed by Aaron T. Myers. (atm: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1570776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1570776&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/ClientCache.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/SaslRpcClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13909370" author="hudson" created="Sat, 22 Feb 2014 13:28:42 +0000"  >&lt;p&gt;FAILURE: Integrated in Hadoop-Hdfs-trunk #1681 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1681/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1681/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10070&quot; title=&quot;RPC client doesn&amp;#39;t use per-connection conf to determine server&amp;#39;s expected Kerberos principal name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10070&quot;&gt;&lt;del&gt;HADOOP-10070&lt;/del&gt;&lt;/a&gt;. RPC client doesn&apos;t use per-connection conf to determine server&apos;s expected Kerberos principal name. Contributed by Aaron T. Myers. (atm: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1570776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1570776&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/ClientCache.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/SaslRpcClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13909400" author="hudson" created="Sat, 22 Feb 2014 14:53:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hadoop-Mapreduce-trunk #1706 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1706/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1706/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10070&quot; title=&quot;RPC client doesn&amp;#39;t use per-connection conf to determine server&amp;#39;s expected Kerberos principal name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10070&quot;&gt;&lt;del&gt;HADOOP-10070&lt;/del&gt;&lt;/a&gt;. RPC client doesn&apos;t use per-connection conf to determine server&apos;s expected Kerberos principal name. Contributed by Aaron T. Myers. (atm: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1570776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1570776&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/Client.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/ipc/ClientCache.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/SaslRpcClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13919762" author="daryn" created="Tue, 4 Mar 2014 18:54:16 +0000"  >&lt;p&gt;Noticed this isn&apos;t resolved.&lt;/p&gt;</comment>
                            <comment id="13941267" author="arpitagarwal" created="Thu, 20 Mar 2014 01:15:26 +0000"  >&lt;p&gt;I committed this to branch-2.4 to resolve a test failure after committing &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10221&quot; title=&quot;Add a plugin to specify SaslProperties for RPC protocol based on connection properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10221&quot;&gt;&lt;del&gt;HADOOP-10221&lt;/del&gt;&lt;/a&gt; (as investigated by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benoyantony&quot; class=&quot;user-hover&quot; rel=&quot;benoyantony&quot;&gt;benoyantony&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10221?focusedCommentId=13941170&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13941170&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The fix version was already set to 2.4.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628146" name="HADOOP-10070.patch" size="6969" author="atm" created="Tue, 11 Feb 2014 03:35:50 +0000"/>
                            <attachment id="12610224" name="HADOOP-10070.patch" size="5306" author="atm" created="Fri, 25 Oct 2013 02:12:13 +0000"/>
                            <attachment id="12610223" name="TestKerberosClient.java" size="1999" author="atm" created="Fri, 25 Oct 2013 02:10:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p8mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326144">2.4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>