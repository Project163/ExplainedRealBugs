<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:42:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HADOOP-9154] SortedMapWritable#putAll() doesn&apos;t add key/value classes to the map</title>
                <link>https://issues.apache.org/jira/browse/HADOOP-9154</link>
                <project id="12310240" key="HADOOP">Hadoop Common</project>
                    <description>&lt;p&gt;In the following code from &lt;tt&gt;SortedMapWritable&lt;/tt&gt;, #putAll() doesn&apos;t add key/value classes to the class-id maps.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Writable put(WritableComparable key, Writable value) {
    addToMap(key.getClass());
    addToMap(value.getClass());
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; instance.put(key, value);
  }

  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void putAll(Map&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; WritableComparable, ? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Writable&amp;gt; t){
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Map.Entry&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; WritableComparable, ? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Writable&amp;gt; e:
      t.entrySet()) {
      
      instance.put(e.getKey(), e.getValue());
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12624410">HADOOP-9154</key>
            <summary>SortedMapWritable#putAll() doesn&apos;t add key/value classes to the map</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kasha">Karthik Kambatla</assignee>
                                    <reporter username="kasha">Karthik Kambatla</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Dec 2012 04:37:43 +0000</created>
                <updated>Mon, 3 Nov 2014 18:33:48 +0000</updated>
                            <resolved>Thu, 14 Feb 2013 14:10:40 +0000</resolved>
                                    <version>1.1.1</version>
                    <version>2.0.2-alpha</version>
                                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>0.23.7</fixVersion>
                    <fixVersion>2.1.0-beta</fixVersion>
                                    <component>io</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13539267" author="snihalani" created="Mon, 24 Dec 2012 13:14:13 +0000"  >&lt;p&gt;So, using SortedMapWritable&apos;s put will solve this rather than manually adding Map&apos;s Key &amp;amp; Value classes once because generic type could be an interface and we don&apos;t want to miss out on each objects specific class, right?&lt;/p&gt;</comment>
                            <comment id="13539297" author="kkambatl" created="Mon, 24 Dec 2012 17:50:01 +0000"  >&lt;p&gt;Yes, that should suffice.&lt;/p&gt;</comment>
                            <comment id="13539300" author="kkambatl" created="Mon, 24 Dec 2012 18:03:21 +0000"  >&lt;p&gt;A better approach might be to add a protected &lt;tt&gt;Map&lt;/tt&gt; instance to &lt;tt&gt;AbstractMapWritable&lt;/tt&gt; to be instantiated in subclasses - &lt;tt&gt;SortedMapWritable&lt;/tt&gt; and &lt;tt&gt;MapWritable&lt;/tt&gt;. All the methods in &lt;tt&gt;Map&lt;/tt&gt; can be implemented in the abstract class, while specific methods like &lt;tt&gt;#headMap()&lt;/tt&gt; can be implemented in subclasses.&lt;/p&gt;

&lt;p&gt;That would let us avoid code duplication.&lt;/p&gt;</comment>
                            <comment id="13539317" author="kkambatl" created="Mon, 24 Dec 2012 20:05:19 +0000"  >&lt;p&gt;Uploading first draft of the patch. The patch moves all common map functionality to AbstractMapWritable.&lt;/p&gt;</comment>
                            <comment id="13539409" author="snihalani" created="Tue, 25 Dec 2012 15:10:35 +0000"  >&lt;p&gt;It&apos;s my understanding that merging the tests is my part here. If work division is different, please correct me.&lt;/p&gt;

&lt;p&gt;Now, we can merge the TestMapWritable &amp;amp; TestSortedMapWritable into one TestAbstractMap. However deleting the older files doesn&apos;t seem like a good option because incase MapWritable &amp;amp; SortedMapWritable change, we need the developer to be aware what he&apos;s changing, but, keeping them would mean code duplication. I was going through JUnit&apos;s offering. I think we&apos;ll have to create an abstract test class and then extend it in all files (TestMapWritable, TestSortedMapWritable, TestAbstractMap)&lt;br/&gt;
with right initialization in a setup method. &lt;/p&gt;

&lt;p&gt;Is there a more elegant way to do this?&lt;/p&gt;</comment>
                            <comment id="13539416" author="kkambatl" created="Tue, 25 Dec 2012 17:18:10 +0000"  >&lt;p&gt;Thanks for chipping in, Suresh. I didn&apos;t have any particular work division in mind.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think we&apos;ll have to create an abstract test class and then extend it in all files (TestMapWritable, TestSortedMapWritable, TestAbstractMap)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;with right initialization in a setup method.&lt;/p&gt;

&lt;p&gt;I mostly agree. I was thinking of having an abstract test class &lt;tt&gt;AbstractMapWritableTest&lt;/tt&gt; that has tests for each of the map methods. &lt;tt&gt;TestMapWritable&lt;/tt&gt; and &lt;tt&gt;TestSortedMapWritable&lt;/tt&gt; should have the right initialization as you mention. We shouldn&apos;t need &lt;tt&gt;TestAbstractMap&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13539490" author="snihalani" created="Wed, 26 Dec 2012 07:32:32 +0000"  >{Thanks for chipping in, Suresh.}
&lt;p&gt;It&apos;s Suren. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;In MapWritable&apos;s implementation, &lt;br/&gt;
{{&lt;br/&gt;
  @Override&lt;br/&gt;
  public int hashCode() &lt;/p&gt;
{
    return 1 + this.instance.hashCode();
  }
&lt;p&gt;}}&lt;/p&gt;

&lt;p&gt;What&apos;s the purpose of adding one to instance&apos;s hashCode?&lt;/p&gt;

</comment>
                            <comment id="13539491" author="snihalani" created="Wed, 26 Dec 2012 07:39:49 +0000"  >&lt;p&gt;Take a look at the merged tests.&lt;/p&gt;</comment>
                            <comment id="13539568" author="kkambatl" created="Wed, 26 Dec 2012 15:55:31 +0000"  >&lt;p&gt;Extremely sorry for messing up the name - I was thinking Suren, but typed Suresh (my co-advisor&apos;s name is Suresh, force of habit).&lt;/p&gt;

&lt;p&gt;I took a cursory look at the patch - it seems to be coming along very well. Let me try to take a closer look and add anything that I see we should. Regarding the hashCode() implementation, I don&apos;t understand the motive behind adding 1 to the hashCode either.&lt;/p&gt;</comment>
                            <comment id="13539590" author="snihalani" created="Wed, 26 Dec 2012 16:35:10 +0000"  >&lt;p&gt;No worries about the name.&lt;/p&gt;

&lt;p&gt;Just realized,&lt;br/&gt;
{{&lt;br/&gt;
  @SuppressWarnings(&quot;rawtypes&quot;)&lt;br/&gt;
  @Override&lt;br/&gt;
  public boolean equals(Object obj) {&lt;br/&gt;
    if(obj == null)&lt;/p&gt;
{
      return false;
    }
&lt;p&gt;    if (this == obj) &lt;/p&gt;
{
      return true;
    }
&lt;p&gt;    if (obj.getClass() == this.getClass()) {&lt;br/&gt;
      Map other = (Map) obj;&lt;br/&gt;
      if (size() != other.size()) &lt;/p&gt;
{
        return false;
      }
&lt;p&gt;      return entrySet().equals(other.entrySet());&lt;br/&gt;
    }&lt;br/&gt;
    return false;&lt;br/&gt;
  }&lt;br/&gt;
  }}&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t we be using instanceof instead of matching for classes? because incase some class extends MapWritable, we won&apos;t hit the branch because of exact match of the class check.&lt;/p&gt;</comment>
                            <comment id="13545266" author="snihalani" created="Sun, 6 Jan 2013 01:31:40 +0000"  >&lt;p&gt;Karthik, Had a chance to review the patch?&lt;/p&gt;</comment>
                            <comment id="13545348" author="kkambatl" created="Sun, 6 Jan 2013 08:33:55 +0000"  >&lt;p&gt;Hi Suren,&lt;/p&gt;

&lt;p&gt;Sorry I couldn&apos;t work on this. I ll try to take a look sometime this week.&lt;/p&gt;

&lt;p&gt;Regarding matching classes, this method is to be called on MapWritable and SortedMapWritable objects and hence couldn&apos;t use instanceof. The other option is to implement this method separately in those classes. In this case, I thought this should be okay.&lt;/p&gt;</comment>
                            <comment id="13545457" author="kkambatl" created="Sun, 6 Jan 2013 18:37:01 +0000"  >&lt;p&gt;Suren, I took a closer look. Indeed the patch looks good. We might be able to clean up a little to make it. Let me take a shot at it, and post my changes here.&lt;/p&gt;</comment>
                            <comment id="13545459" author="snihalani" created="Sun, 6 Jan 2013 18:42:47 +0000"  >&lt;p&gt;Karthik, I would highly appreciate it if you let me know what changes I need to make, so this way I&apos;ll be learning and this will bring up my coding workflow closer to what&apos;s the standard expectation, Instead of me examining the patch. Saves you time to code a trivial patch and I&apos;ll learn too.&lt;/p&gt;</comment>
                            <comment id="13545470" author="kkambatl" created="Sun, 6 Jan 2013 19:33:36 +0000"  >&lt;p&gt;Suren, saw your comment slightly late. I ll keep it in mind the next time.&lt;/p&gt;

&lt;p&gt;Here is a patch that cleans up Suren&apos;s earlier patch.&lt;/p&gt;</comment>
                            <comment id="13545471" author="kkambatl" created="Sun, 6 Jan 2013 19:40:29 +0000"  >&lt;p&gt;Forgot to add a file to the previous patch. Here is the right patch.&lt;/p&gt;</comment>
                            <comment id="13545473" author="kkambatl" created="Sun, 6 Jan 2013 19:44:20 +0000"  >&lt;p&gt;In its current form, the patch looks good to go. &lt;/p&gt;

&lt;p&gt;The only nit (I am not particular though) is in test messages: String &lt;tt&gt;failureReason&lt;/tt&gt; is being initialized for every assertion. This is not required for a single assertion of that kind.&lt;/p&gt;</comment>
                            <comment id="13545479" author="hadoopqa" created="Sun, 6 Jan 2013 20:20:49 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12563498/hadoop-9154.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12563498/hadoop-9154.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1951//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1951//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/1951//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/1951//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13545499" author="snihalani" created="Sun, 6 Jan 2013 21:26:25 +0000"  >&lt;p&gt;I debated initializing &lt;tt&gt;failureReason&lt;/tt&gt; for a single assertion with myself when I was coding it and I went ahead it for three reasons:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Makes the code consistent. If you read the test from the start, you kinda start expecting it to have been initialized before every assert.&lt;/li&gt;
	&lt;li&gt;Easy extension. If anyone adds a bit more to the test, he/she wouldn&apos;t have to add initialization statement.&lt;/li&gt;
	&lt;li&gt;Code looks pretty and keeps all the assert statements (single assert ones especially) within 80 characters limit.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;If you think it&apos;s not worth above reasons, I am happy to change it and upload the patch.&lt;/p&gt;</comment>
                            <comment id="13545500" author="kkambatl" created="Sun, 6 Jan 2013 21:34:39 +0000"  >&lt;p&gt;Suren, The points make sense. It is different from other tests in the code base, but that is no reason to not do it this way. Do you agree with my refactoring of the tests?&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13547019" author="snihalani" created="Tue, 8 Jan 2013 17:08:42 +0000"  >&lt;p&gt;I agree with the refactoring. So, I just +1 and a this will be considered for commit, right?&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13547273" author="kkambatl" created="Tue, 8 Jan 2013 21:12:26 +0000"  >&lt;p&gt;That is right. At least one of the committers should review the patch and commit it.&lt;/p&gt;</comment>
                            <comment id="13560600" author="tomwhite" created="Wed, 23 Jan 2013 11:59:12 +0000"  >&lt;p&gt;Sorry to come to this late, but I feel that we should just fix the bug and not perform such extensive refactoring here. This is stable code and we need to be sure that such a change doesn&apos;t break compatibility.&lt;/p&gt;

&lt;p&gt;The following fix plus a unit test to show the problem should suffice, no?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SortedMapWritable.java b/hadoop-common-p
index eee744e..b533d94 100644
--- a/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SortedMapWritable.java
+++ b/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SortedMapWritable.java
@@ -141,7 +141,7 @@ public void putAll(Map&amp;lt;? extends WritableComparable, ? extends Writable&amp;gt; t) {
     for (Map.Entry&amp;lt;? extends WritableComparable, ? extends Writable&amp;gt; e:
       t.entrySet()) {
       
-      instance.put(e.getKey(), e.getValue());
+      put(e.getKey(), e.getValue());
     }
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13560812" author="snihalani" created="Wed, 23 Jan 2013 16:41:50 +0000"  >&lt;p&gt;I see better maintainability in this refactoring. If you feel otherwise, that&apos;s ok too. &lt;/p&gt;

&lt;p&gt;Since both &lt;tt&gt;MapWritable}}s extend {{AbstractMapWritable&lt;/tt&gt; the one line fix and the unit tests should suffice.&lt;/p&gt;</comment>
                            <comment id="13562264" author="kkambatl" created="Fri, 25 Jan 2013 01:45:24 +0000"  >&lt;p&gt;Thanks for your inputs, Tom. I am uploading a fresh patch by the approach you suggested.&lt;/p&gt;

&lt;p&gt;The added test doesn&apos;t pass yet due to its dependency on &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9124&quot; title=&quot;SortedMapWritable violates contract of Map interface for equals() and hashCode()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9124&quot;&gt;&lt;del&gt;HADOOP-9124&lt;/del&gt;&lt;/a&gt;. I ll upload another patch once we are done with &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9124&quot; title=&quot;SortedMapWritable violates contract of Map interface for equals() and hashCode()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9124&quot;&gt;&lt;del&gt;HADOOP-9124&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13564722" author="kkambatl" created="Mon, 28 Jan 2013 21:52:11 +0000"  >&lt;p&gt;Uploading a patch that applies on top of the latest patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9124&quot; title=&quot;SortedMapWritable violates contract of Map interface for equals() and hashCode()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9124&quot;&gt;&lt;del&gt;HADOOP-9124&lt;/del&gt;&lt;/a&gt;. Will submit the patch after &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9124&quot; title=&quot;SortedMapWritable violates contract of Map interface for equals() and hashCode()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9124&quot;&gt;&lt;del&gt;HADOOP-9124&lt;/del&gt;&lt;/a&gt; gets submitted.&lt;/p&gt;</comment>
                            <comment id="13568947" author="hadoopqa" created="Fri, 1 Feb 2013 18:35:50 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12567610/hadoop-9154.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12567610/hadoop-9154.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified test files.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 eclipse:eclipse&lt;/font&gt;.  The patch built with eclipse:eclipse.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in hadoop-common-project/hadoop-common.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 contrib tests&lt;/font&gt;.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2132//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2132//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2132//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2132//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13573768" author="kkambatl" created="Thu, 7 Feb 2013 18:47:03 +0000"  >&lt;p&gt;Uploading fresh patches for trunk and branch-1, now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9124&quot; title=&quot;SortedMapWritable violates contract of Map interface for equals() and hashCode()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9124&quot;&gt;&lt;del&gt;HADOOP-9124&lt;/del&gt;&lt;/a&gt; is committed to all branches.&lt;/p&gt;</comment>
                            <comment id="13573773" author="hadoopqa" created="Thu, 7 Feb 2013 18:52:35 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12568438/hadoop-9154-branch1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12568438/hadoop-9154-branch1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HADOOP-Build/2161//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HADOOP-Build/2161//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13578389" author="tomwhite" created="Thu, 14 Feb 2013 14:10:40 +0000"  >&lt;p&gt;I just committed this. Thanks Karthik!&lt;/p&gt;</comment>
                            <comment id="13578393" author="hudson" created="Thu, 14 Feb 2013 14:15:28 +0000"  >&lt;p&gt;Integrated in Hadoop-trunk-Commit #3361 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-trunk-Commit/3361/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-trunk-Commit/3361/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9154&quot; title=&quot;SortedMapWritable#putAll() doesn&amp;#39;t add key/value classes to the map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9154&quot;&gt;&lt;del&gt;HADOOP-9154&lt;/del&gt;&lt;/a&gt;. SortedMapWritable#putAll() doesn&apos;t add key/value classes to the map. Contributed by Karthik Kambatla. (Revision 1446183)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tomwhite : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446183&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/AbstractMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SortedMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSortedMapWritable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13579089" author="hudson" created="Fri, 15 Feb 2013 10:47:38 +0000"  >&lt;p&gt;Integrated in Hadoop-Yarn-trunk #128 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Yarn-trunk/128/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Yarn-trunk/128/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9154&quot; title=&quot;SortedMapWritable#putAll() doesn&amp;#39;t add key/value classes to the map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9154&quot;&gt;&lt;del&gt;HADOOP-9154&lt;/del&gt;&lt;/a&gt;. SortedMapWritable#putAll() doesn&apos;t add key/value classes to the map. Contributed by Karthik Kambatla. (Revision 1446183)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tomwhite : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446183&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/AbstractMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SortedMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSortedMapWritable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13579136" author="hudson" created="Fri, 15 Feb 2013 12:40:37 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-0.23-Build #526 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/526/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/526/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9154&quot; title=&quot;SortedMapWritable#putAll() doesn&amp;#39;t add key/value classes to the map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9154&quot;&gt;&lt;del&gt;HADOOP-9154&lt;/del&gt;&lt;/a&gt;. SortedMapWritable#putAll() doesn&apos;t add key/value classes to the map. (Karthik Kambatla via tgraves) (Revision 1446271)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tgraves : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446271&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446271&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/AbstractMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SortedMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSortedMapWritable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13579149" author="hudson" created="Fri, 15 Feb 2013 13:02:33 +0000"  >&lt;p&gt;Integrated in Hadoop-Hdfs-trunk #1317 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1317/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Hdfs-trunk/1317/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9154&quot; title=&quot;SortedMapWritable#putAll() doesn&amp;#39;t add key/value classes to the map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9154&quot;&gt;&lt;del&gt;HADOOP-9154&lt;/del&gt;&lt;/a&gt;. SortedMapWritable#putAll() doesn&apos;t add key/value classes to the map. Contributed by Karthik Kambatla. (Revision 1446183)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tomwhite : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446183&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/AbstractMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SortedMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSortedMapWritable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13579193" author="hudson" created="Fri, 15 Feb 2013 14:05:22 +0000"  >&lt;p&gt;Integrated in Hadoop-Mapreduce-trunk #1345 (See &lt;a href=&quot;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1345/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1345/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9154&quot; title=&quot;SortedMapWritable#putAll() doesn&amp;#39;t add key/value classes to the map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9154&quot;&gt;&lt;del&gt;HADOOP-9154&lt;/del&gt;&lt;/a&gt;. SortedMapWritable#putAll() doesn&apos;t add key/value classes to the map. Contributed by Karthik Kambatla. (Revision 1446183)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tomwhite : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1446183&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/AbstractMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SortedMapWritable.java&lt;/li&gt;
	&lt;li&gt;/hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSortedMapWritable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13658023" author="mattf" created="Wed, 15 May 2013 05:16:07 +0000"  >&lt;p&gt;Closed upon release of Hadoop 1.2.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12622997">HADOOP-9124</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12562374" name="HADOOP-9124.patch" size="29515" author="snihalani" created="Wed, 26 Dec 2012 07:39:49 +0000"/>
                            <attachment id="12568438" name="hadoop-9154-branch1.patch" size="2413" author="kkambatl" created="Thu, 7 Feb 2013 18:47:03 +0000"/>
                            <attachment id="12566432" name="hadoop-9154-draft.patch" size="4093" author="kkambatl" created="Fri, 25 Jan 2013 01:45:24 +0000"/>
                            <attachment id="12562330" name="hadoop-9154-draft.patch" size="9044" author="kkambatl" created="Mon, 24 Dec 2012 20:05:19 +0000"/>
                            <attachment id="12568437" name="hadoop-9154.patch" size="3133" author="kkambatl" created="Thu, 7 Feb 2013 18:47:03 +0000"/>
                            <attachment id="12567610" name="hadoop-9154.patch" size="3153" author="kkambatl" created="Fri, 1 Feb 2013 17:53:42 +0000"/>
                            <attachment id="12566831" name="hadoop-9154.patch" size="4233" author="kkambatl" created="Mon, 28 Jan 2013 21:52:11 +0000"/>
                            <attachment id="12563498" name="hadoop-9154.patch" size="28509" author="kkambatl" created="Sun, 6 Jan 2013 19:40:29 +0000"/>
                            <attachment id="12563497" name="hadoop-9154.patch" size="20253" author="kkambatl" created="Sun, 6 Jan 2013 19:33:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>299249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i160iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12321659">1.2.0</customfieldvalue>
    <customfieldvalue id="12323273">2.0.3-alpha</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>