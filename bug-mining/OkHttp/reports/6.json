{"url":"https://api.github.com/repos/square/okhttp/issues/596","repository_url":"https://api.github.com/repos/square/okhttp","labels_url":"https://api.github.com/repos/square/okhttp/issues/596/labels{/name}","comments_url":"https://api.github.com/repos/square/okhttp/issues/596/comments","events_url":"https://api.github.com/repos/square/okhttp/issues/596/events","html_url":"https://github.com/square/okhttp/issues/596","id":28738545,"node_id":"MDU6SXNzdWUyODczODU0NQ==","number":596,"title":"HpackDraft05.Reader fails to read the compressed headers written with HpackDraft05.Writer","user":{"login":"lhwa","id":6061309,"node_id":"MDQ6VXNlcjYwNjEzMDk=","avatar_url":"https://avatars.githubusercontent.com/u/6061309?v=4","gravatar_id":"","url":"https://api.github.com/users/lhwa","html_url":"https://github.com/lhwa","followers_url":"https://api.github.com/users/lhwa/followers","following_url":"https://api.github.com/users/lhwa/following{/other_user}","gists_url":"https://api.github.com/users/lhwa/gists{/gist_id}","starred_url":"https://api.github.com/users/lhwa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lhwa/subscriptions","organizations_url":"https://api.github.com/users/lhwa/orgs","repos_url":"https://api.github.com/users/lhwa/repos","events_url":"https://api.github.com/users/lhwa/events{/privacy}","received_events_url":"https://api.github.com/users/lhwa/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2014-03-04T20:38:42Z","updated_at":"2014-03-12T04:22:37Z","closed_at":"2014-03-05T05:07:42Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"To repro the bug, feed HpackDraft05.Writer writeHeaders() method with the following request headers and use HpackDraft05.Reader to try read out the headers. \n\n```\n     \"headers\": [\n        {\n          \"name\": \":host\",\n          \"value\": \"www.facebook.com\"\n        },\n        {\n          \"name\": \"accept-encoding\",\n          \"value\": \"gzip,deflate,sdch\"\n        },\n        {\n          \"name\": \"accept-language\",\n          \"value\": \"en-US,en;q=0.8,ro;q=0.6\"\n        },\n        {\n          \"name\": \"user-agent\",\n          \"value\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36\"\n        },\n        {\n          \"name\": \":path\",\n          \"value\": \"/ajax/pagelet/generic.php/SidebarNavigationPagelet?data=%7B%7D&__user=1820231647&__a=1&__dyn=7n8a9EAMNoBUSt2u5KIGKaExEW9JeK9y9VpbGiWFa&__req=o&__rev=1037057\"\n        },\n        {\n          \"name\": \"accept\",\n          \"value\": \"*/*\"\n        },\n        {\n          \"name\": \":version\",\n          \"value\": \"HTTP/1.1\"\n        }\n   ]\n```\n\n HpackDraft05.Reader fails to decode the value for \"user-agent‚Äù because the value was not Huffman encoded but the reader tried to Huffman decode the bytes. \n","closed_by":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/square/okhttp/issues/596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/square/okhttp/issues/596/timeline","performed_via_github_app":null,"state_reason":"completed"}