{"url":"https://api.github.com/repos/square/okhttp/issues/1392","repository_url":"https://api.github.com/repos/square/okhttp","labels_url":"https://api.github.com/repos/square/okhttp/issues/1392/labels{/name}","comments_url":"https://api.github.com/repos/square/okhttp/issues/1392/comments","events_url":"https://api.github.com/repos/square/okhttp/issues/1392/events","html_url":"https://github.com/square/okhttp/issues/1392","id":57384407,"node_id":"MDU6SXNzdWU1NzM4NDQwNw==","number":1392,"title":"Provide a way to catch that cleartext HTTP traffic was attempted","user":{"login":"klyubin","id":6598762,"node_id":"MDQ6VXNlcjY1OTg3NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6598762?v=4","gravatar_id":"","url":"https://api.github.com/users/klyubin","html_url":"https://github.com/klyubin","followers_url":"https://api.github.com/users/klyubin/followers","following_url":"https://api.github.com/users/klyubin/following{/other_user}","gists_url":"https://api.github.com/users/klyubin/gists{/gist_id}","starred_url":"https://api.github.com/users/klyubin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klyubin/subscriptions","organizations_url":"https://api.github.com/users/klyubin/orgs","repos_url":"https://api.github.com/users/klyubin/repos","events_url":"https://api.github.com/users/klyubin/events{/privacy}","received_events_url":"https://api.github.com/users/klyubin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-02-11T22:02:54Z","updated_at":"2015-02-12T03:48:00Z","closed_at":"2015-02-12T03:48:00Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a follow-up to feature request 1058 where okhttp offers a way to disallow cleartext traffic. Just blocking cleartext traffic is insufficient for some apps. Some app developers want to not only block cleartext traffic but also report to their servers that their app attempted cleartext traffic. This is so that regressions from HTTPS to cleartext HTTP can be investigated and fixed quicker.\n\nAt the moment, when okhttp blocks a cleartext HTTP request, it throws a new SocketException(\"No route to ... ; exhausted connection specs: ...\"). Please provide a way to differentiate the exception thrown in this case from other IOExceptions. For example, when blocking cleartext HTTP okhttp could throw its own special subclass of IOException or perhaps a java.lang.SecurityException or an IOException caused by a SecurityException.\n\nI'm happy to implement the changes once a decision reached about what exception to throw.\n","closed_by":{"login":"swankjesse","id":133019,"node_id":"MDQ6VXNlcjEzMzAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/133019?v=4","gravatar_id":"","url":"https://api.github.com/users/swankjesse","html_url":"https://github.com/swankjesse","followers_url":"https://api.github.com/users/swankjesse/followers","following_url":"https://api.github.com/users/swankjesse/following{/other_user}","gists_url":"https://api.github.com/users/swankjesse/gists{/gist_id}","starred_url":"https://api.github.com/users/swankjesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swankjesse/subscriptions","organizations_url":"https://api.github.com/users/swankjesse/orgs","repos_url":"https://api.github.com/users/swankjesse/repos","events_url":"https://api.github.com/users/swankjesse/events{/privacy}","received_events_url":"https://api.github.com/users/swankjesse/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/square/okhttp/issues/1392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/square/okhttp/issues/1392/timeline","performed_via_github_app":null,"state_reason":"completed"}