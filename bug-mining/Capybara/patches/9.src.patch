diff --git a/lib/capybara/xpath.rb b/lib/capybara/xpath.rb
index b4b87fbf..aaf0a088 100644
--- a/lib/capybara/xpath.rb
+++ b/lib/capybara/xpath.rb
@@ -66,7 +66,7 @@ module Capybara
     end
 
     def content(locator)
-      append("/descendant-or-self::*[contains(.,#{s(locator)})]")
+      append("/descendant-or-self::*[contains(normalize-space(.),#{s(locator)})]")
     end
 
     def table(locator, options={})
diff --git a/spec/dsl/has_content_spec.rb b/spec/dsl/has_content_spec.rb
index 6c72ae2c..16075c68 100644
--- a/spec/dsl/has_content_spec.rb
+++ b/spec/dsl/has_content_spec.rb
@@ -27,6 +27,11 @@ shared_examples_for "has_content" do
       @session.should have_content('exercitation ullamco laboris')
     end
 
+    it "should ignore extra whitespace and newlines" do
+      @session.visit('/with_html')
+      @session.should have_content('text with whitespace')
+    end
+
     it "should be false if the given content is not on the page" do
       @session.visit('/with_html')
       @session.should_not have_content('xxxxyzzz')
diff --git a/spec/views/with_html.erb b/spec/views/with_html.erb
index 6d262949..3ab2dd73 100644
--- a/spec/views/with_html.erb
+++ b/spec/views/with_html.erb
@@ -12,7 +12,10 @@
 <p id="second">
   Duis aute irure dolor in reprehenderit in voluptate velit esse cillum
   dolore eu fugiat <a href="/redirect" id="red">Redirect</a> pariatur. Excepteur sint occaecat cupidatat non proident,
-  sunt in culpa qui officia deserunt mollit anim id est laborum.
+  sunt in culpa qui officia
+  text   with
+  whitespace
+  id est laborum.
 </p>
 
 <p>
