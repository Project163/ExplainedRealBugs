{"url":"https://api.github.com/repos/teamcapybara/capybara/issues/1144","repository_url":"https://api.github.com/repos/teamcapybara/capybara","labels_url":"https://api.github.com/repos/teamcapybara/capybara/issues/1144/labels{/name}","comments_url":"https://api.github.com/repos/teamcapybara/capybara/issues/1144/comments","events_url":"https://api.github.com/repos/teamcapybara/capybara/issues/1144/events","html_url":"https://github.com/teamcapybara/capybara/issues/1144","id":18252552,"node_id":"MDU6SXNzdWUxODI1MjU1Mg==","number":1144,"title":"save_and_open_page tries to open invalid URL instead of local file","user":{"login":"Fryie","id":1214238,"node_id":"MDQ6VXNlcjEyMTQyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1214238?v=4","gravatar_id":"","url":"https://api.github.com/users/Fryie","html_url":"https://github.com/Fryie","followers_url":"https://api.github.com/users/Fryie/followers","following_url":"https://api.github.com/users/Fryie/following{/other_user}","gists_url":"https://api.github.com/users/Fryie/gists{/gist_id}","starred_url":"https://api.github.com/users/Fryie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fryie/subscriptions","organizations_url":"https://api.github.com/users/Fryie/orgs","repos_url":"https://api.github.com/users/Fryie/repos","events_url":"https://api.github.com/users/Fryie/events{/privacy}","received_events_url":"https://api.github.com/users/Fryie/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2013-08-19T17:36:06Z","updated_at":"2019-08-17T15:14:00Z","closed_at":"2013-08-26T12:54:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When trying to call save_and_open_page (in a cucumber hook, in case that matters), my browser tries to open the (invalid) URL \"http://capybara-whatever.html\" instead of a local file relative to the directory i'm running the command from.\n\nLooking at the code of the method, I found the line:\n\"path = File.expand_path(path, Capybara.save_and_open_page_path) if Capybara.save_and_open_page_path\"\n\nSo I assigned Capybara.save_and_open_page_path to the project's root directory in my env.rb. This worked fine.\n\nHowever, shouldn't the default behaviour be to open the page in the root directory automatically? After all, that's where it was saved.\n\nJust prepending something like \"./\" to the path might help. When I call Launchy.open(\"test.html\"), this also fails in the similar way, while Launchy.open(\"./test.html\") works (provided that file exists).\n\nDetails about my system:\n\nRuby 2.0.0-p247\nUbuntu 13.04 64-bit\nChrome version 28.0.1500.95\nCapybara 2.1.0\nLaunchy 2.3.0\n","closed_by":{"login":"jnicklas","id":134,"node_id":"MDQ6VXNlcjEzNA==","avatar_url":"https://avatars.githubusercontent.com/u/134?v=4","gravatar_id":"","url":"https://api.github.com/users/jnicklas","html_url":"https://github.com/jnicklas","followers_url":"https://api.github.com/users/jnicklas/followers","following_url":"https://api.github.com/users/jnicklas/following{/other_user}","gists_url":"https://api.github.com/users/jnicklas/gists{/gist_id}","starred_url":"https://api.github.com/users/jnicklas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnicklas/subscriptions","organizations_url":"https://api.github.com/users/jnicklas/orgs","repos_url":"https://api.github.com/users/jnicklas/repos","events_url":"https://api.github.com/users/jnicklas/events{/privacy}","received_events_url":"https://api.github.com/users/jnicklas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/teamcapybara/capybara/issues/1144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/teamcapybara/capybara/issues/1144/timeline","performed_via_github_app":null,"state_reason":"completed"}