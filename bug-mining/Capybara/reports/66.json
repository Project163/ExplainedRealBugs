{"url":"https://api.github.com/repos/teamcapybara/capybara/issues/960","repository_url":"https://api.github.com/repos/teamcapybara/capybara","labels_url":"https://api.github.com/repos/teamcapybara/capybara/issues/960/labels{/name}","comments_url":"https://api.github.com/repos/teamcapybara/capybara/issues/960/comments","events_url":"https://api.github.com/repos/teamcapybara/capybara/issues/960/events","html_url":"https://github.com/teamcapybara/capybara/issues/960","id":11073584,"node_id":"MDU6SXNzdWUxMTA3MzU4NA==","number":960,"title":"Possible driver API breakage for Capybara 2.1","user":{"login":"jnicklas","id":134,"node_id":"MDQ6VXNlcjEzNA==","avatar_url":"https://avatars.githubusercontent.com/u/134?v=4","gravatar_id":"","url":"https://api.github.com/users/jnicklas","html_url":"https://github.com/jnicklas","followers_url":"https://api.github.com/users/jnicklas/followers","following_url":"https://api.github.com/users/jnicklas/following{/other_user}","gists_url":"https://api.github.com/users/jnicklas/gists{/gist_id}","starred_url":"https://api.github.com/users/jnicklas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnicklas/subscriptions","organizations_url":"https://api.github.com/users/jnicklas/orgs","repos_url":"https://api.github.com/users/jnicklas/repos","events_url":"https://api.github.com/users/jnicklas/events{/privacy}","received_events_url":"https://api.github.com/users/jnicklas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2013-02-16T18:18:26Z","updated_at":"2019-08-17T18:14:14Z","closed_at":"2013-02-17T13:47:43Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is really a question to @jonleighton, @jcoglan and @mhoran mostly, but really anyone who authors capybara drivers.\n\nI want to break the driver API for Capybara 2.1 by introducing a new method `#full_text` on nodes, as opposed to the regular `#text`. This would return the text of the node as it appears in the source, ignoring visibility. The name of this method doesn't really matter as it wouldn't be exposed to regular users, so I'm open to suggestions.\n\nThe idea is to have `Capybara::Element#text` take a boolean flag which would control which driver method is called. The default would be to use `Capybara.ignore_hidden_elements`, so that the behaviour matches that of finding elements and can be controlled through a config option. In order to not break semver, we'll include a config option which makes sure that text always returns only visible text, something like `Capybara.only_visible_text = true`.\n\nWe're changing some other defaults as well, so I'm not too concerned about breaking compatibility of the public API, but obviously this would break the driver API.\n\nI know @jonleighton was campaigning for this even before 2.0 was released, and I should have listened then. Sorry about that.\n\nAre you guys okay with that breakage?\n","closed_by":{"login":"jnicklas","id":134,"node_id":"MDQ6VXNlcjEzNA==","avatar_url":"https://avatars.githubusercontent.com/u/134?v=4","gravatar_id":"","url":"https://api.github.com/users/jnicklas","html_url":"https://github.com/jnicklas","followers_url":"https://api.github.com/users/jnicklas/followers","following_url":"https://api.github.com/users/jnicklas/following{/other_user}","gists_url":"https://api.github.com/users/jnicklas/gists{/gist_id}","starred_url":"https://api.github.com/users/jnicklas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnicklas/subscriptions","organizations_url":"https://api.github.com/users/jnicklas/orgs","repos_url":"https://api.github.com/users/jnicklas/repos","events_url":"https://api.github.com/users/jnicklas/events{/privacy}","received_events_url":"https://api.github.com/users/jnicklas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/teamcapybara/capybara/issues/960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/teamcapybara/capybara/issues/960/timeline","performed_via_github_app":null,"state_reason":"completed"}