{"url":"https://api.github.com/repos/teamcapybara/capybara/issues/740","repository_url":"https://api.github.com/repos/teamcapybara/capybara","labels_url":"https://api.github.com/repos/teamcapybara/capybara/issues/740/labels{/name}","comments_url":"https://api.github.com/repos/teamcapybara/capybara/issues/740/comments","events_url":"https://api.github.com/repos/teamcapybara/capybara/issues/740/events","html_url":"https://github.com/teamcapybara/capybara/issues/740","id":5406973,"node_id":"MDU6SXNzdWU1NDA2OTcz","number":740,"title":"Problems using regexp with has_content?","user":{"login":"johnpaulashenfelter","id":19890,"node_id":"MDQ6VXNlcjE5ODkw","avatar_url":"https://avatars.githubusercontent.com/u/19890?v=4","gravatar_id":"","url":"https://api.github.com/users/johnpaulashenfelter","html_url":"https://github.com/johnpaulashenfelter","followers_url":"https://api.github.com/users/johnpaulashenfelter/followers","following_url":"https://api.github.com/users/johnpaulashenfelter/following{/other_user}","gists_url":"https://api.github.com/users/johnpaulashenfelter/gists{/gist_id}","starred_url":"https://api.github.com/users/johnpaulashenfelter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnpaulashenfelter/subscriptions","organizations_url":"https://api.github.com/users/johnpaulashenfelter/orgs","repos_url":"https://api.github.com/users/johnpaulashenfelter/repos","events_url":"https://api.github.com/users/johnpaulashenfelter/events{/privacy}","received_events_url":"https://api.github.com/users/johnpaulashenfelter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2012-07-03T13:38:38Z","updated_at":"2019-08-17T22:14:22Z","closed_at":"2012-07-09T15:40:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Maybe I'm doing it wrong. I have a page that contains text like this\n\n<li>Applicants: 25</li>\n\nI wanted to write a cucumber step that just ensured there was the text and number there\n\n```\npage.should have_content(/Applicants: \\d+/)\n```\n\nWhich results in \n\n```\nexpected there to be content \"(?-mix:Applicants: \\\\d+)\" in \"Admissions\\n\\n\\n\\n\\n\\n\\n\\n\\nAdmissions\\n\\nPrograms\\nProgram Instances\\nCampuses\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nApplications\\nTest Program\\nTST - GA World HQ\\n\\nInstructor\\nMr Instructor\\n\\n\\nSchedule\\nTomorrow\\n\\nApplicants: 0\\nAdmitted\n```\n\nDid some googling, checked my regexp in a console. Regexp is fine.\n\nWhat's weird is that this works\n\n```\npage.should have_css('li', text: Regexp.new(/Applicants: \\d+/))\n```\n\nSo I'm pretty sure I'm misunderstanding something and that its user error. But this still fails\n\n```\npage.should have_content(Regexp.new(/Applicants: \\d+/))\n```\n\non the same page. (Same results with Regexp and // syntax)\n\nAm I just \"doing it wrong?\" This was more to drive out the feature than to worry about details -- I don't want to match \"in this case, applicants should be 5, in this other, 15\" since that's handled in specs. \n\nFWIW, I can' get even this to work\n\n```\npage.should have_content(Regexp.new(/Applicants/))\n```\n\nso pretty sure have_content isn't doing something right or I'm not doing it right. No luck from the google or StackOverflow so far.\n","closed_by":{"login":"jnicklas","id":134,"node_id":"MDQ6VXNlcjEzNA==","avatar_url":"https://avatars.githubusercontent.com/u/134?v=4","gravatar_id":"","url":"https://api.github.com/users/jnicklas","html_url":"https://github.com/jnicklas","followers_url":"https://api.github.com/users/jnicklas/followers","following_url":"https://api.github.com/users/jnicklas/following{/other_user}","gists_url":"https://api.github.com/users/jnicklas/gists{/gist_id}","starred_url":"https://api.github.com/users/jnicklas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnicklas/subscriptions","organizations_url":"https://api.github.com/users/jnicklas/orgs","repos_url":"https://api.github.com/users/jnicklas/repos","events_url":"https://api.github.com/users/jnicklas/events{/privacy}","received_events_url":"https://api.github.com/users/jnicklas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/teamcapybara/capybara/issues/740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/teamcapybara/capybara/issues/740/timeline","performed_via_github_app":null,"state_reason":"completed"}