{"url":"https://api.github.com/repos/babel/babel/issues/9178","repository_url":"https://api.github.com/repos/babel/babel","labels_url":"https://api.github.com/repos/babel/babel/issues/9178/labels{/name}","comments_url":"https://api.github.com/repos/babel/babel/issues/9178/comments","events_url":"https://api.github.com/repos/babel/babel/issues/9178/events","html_url":"https://github.com/babel/babel/issues/9178","id":390757719,"node_id":"MDU6SXNzdWUzOTA3NTc3MTk=","number":9178,"title":"Cannot parse yield expression in pipeline","user":{"login":"thiagoarrais","id":3014,"node_id":"MDQ6VXNlcjMwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3014?v=4","gravatar_id":"","url":"https://api.github.com/users/thiagoarrais","html_url":"https://github.com/thiagoarrais","followers_url":"https://api.github.com/users/thiagoarrais/followers","following_url":"https://api.github.com/users/thiagoarrais/following{/other_user}","gists_url":"https://api.github.com/users/thiagoarrais/gists{/gist_id}","starred_url":"https://api.github.com/users/thiagoarrais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thiagoarrais/subscriptions","organizations_url":"https://api.github.com/users/thiagoarrais/orgs","repos_url":"https://api.github.com/users/thiagoarrais/repos","events_url":"https://api.github.com/users/thiagoarrais/events{/privacy}","received_events_url":"https://api.github.com/users/thiagoarrais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":711597368,"node_id":"MDU6TGFiZWw3MTE1OTczNjg=","url":"https://api.github.com/repos/babel/babel/labels/Spec:%20Pipeline%20Operator","name":"Spec: Pipeline Operator","color":"1d76db","default":false,"description":null},{"id":919437103,"node_id":"MDU6TGFiZWw5MTk0MzcxMDM=","url":"https://api.github.com/repos/babel/babel/labels/outdated","name":"outdated","color":"ededed","default":false,"description":"A closed issue/PR that is archived due to age. Recommended to make a new issue"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-12-13T16:28:11Z","updated_at":"2019-03-24T16:09:34Z","closed_at":"2018-12-23T16:09:19Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a problem in the current parser (master version) for pipeline operators with yield expressions. In order to reproduce it, the pipeline proposal mode needs to be set to \"smart\" (see `options.json` below).\r\n\r\n**Current Behavior**\r\nYield expressions inside pipelines do not parse (see input code below). Instead the parser spits the following error message:\r\n\r\n```\r\nUnexpected token, expected \",\" (4:12)\r\n\r\n      2 |   const value = -5.9\r\n      3 |   |> Math.abs\r\n    > 4 |   |> (yield #);\r\n        |             ^\r\n      5 | }\r\n```\r\n\r\n**Input Code**\r\n```js\r\nfunction *myGenerator() {\r\n  const value = -5.9\r\n  |> Math.abs\r\n  |> (yield #);\r\n}\r\n```\r\n\r\n**Expected behavior/code**\r\nBabel Parser should be able to parse.\r\n\r\n\r\n**Babel Configuration (.babelrc, package.json, cli command)**\r\n\r\noptions.json\r\n```js\r\n{\r\n  \"plugins\": [\r\n    [\"proposal-pipeline-operator\", { \"proposal\": \"smart\" }],\r\n    \"syntax-async-generators\"\r\n  ]\r\n}\r\n```\r\n\r\n**Environment**\r\n- Babel version(s): master\r\n- Node/npm version: Node 11/npm 6 (should reproduce in any version)\r\n- OS: Ubuntu/docker node:11 (should reproduce in any version)\r\n- How you are using Babel: `make test`\r\n\r\n\r\n**Additional context/Screenshots**\r\n\r\nRunning tests on [this branch](https://github.com/thiagoarrais/babel/tree/cannot-parse-yield-expression-in-pipeline-9178) should reproduce the error: https://github.com/thiagoarrais/babel/tree/cannot-parse-yield-expression-in-pipeline-9178\r\n","closed_by":{"login":"nicolo-ribaudo","id":7000710,"node_id":"MDQ6VXNlcjcwMDA3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/7000710?v=4","gravatar_id":"","url":"https://api.github.com/users/nicolo-ribaudo","html_url":"https://github.com/nicolo-ribaudo","followers_url":"https://api.github.com/users/nicolo-ribaudo/followers","following_url":"https://api.github.com/users/nicolo-ribaudo/following{/other_user}","gists_url":"https://api.github.com/users/nicolo-ribaudo/gists{/gist_id}","starred_url":"https://api.github.com/users/nicolo-ribaudo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicolo-ribaudo/subscriptions","organizations_url":"https://api.github.com/users/nicolo-ribaudo/orgs","repos_url":"https://api.github.com/users/nicolo-ribaudo/repos","events_url":"https://api.github.com/users/nicolo-ribaudo/events{/privacy}","received_events_url":"https://api.github.com/users/nicolo-ribaudo/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/babel/babel/issues/9178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/babel/babel/issues/9178/timeline","performed_via_github_app":null,"state_reason":"completed"}