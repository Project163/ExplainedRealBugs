{"url":"https://api.github.com/repos/babel/babel/issues/11885","repository_url":"https://api.github.com/repos/babel/babel","labels_url":"https://api.github.com/repos/babel/babel/issues/11885/labels{/name}","comments_url":"https://api.github.com/repos/babel/babel/issues/11885/comments","events_url":"https://api.github.com/repos/babel/babel/issues/11885/events","html_url":"https://github.com/babel/babel/issues/11885","id":667363635,"node_id":"MDU6SXNzdWU2NjczNjM2MzU=","number":11885,"title":"[@babel/plugin-transform-runtime] Option absoluteRuntime not working as expected","user":{"login":"sz-coder","id":65417876,"node_id":"MDQ6VXNlcjY1NDE3ODc2","avatar_url":"https://avatars.githubusercontent.com/u/65417876?v=4","gravatar_id":"","url":"https://api.github.com/users/sz-coder","html_url":"https://github.com/sz-coder","followers_url":"https://api.github.com/users/sz-coder/followers","following_url":"https://api.github.com/users/sz-coder/following{/other_user}","gists_url":"https://api.github.com/users/sz-coder/gists{/gist_id}","starred_url":"https://api.github.com/users/sz-coder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sz-coder/subscriptions","organizations_url":"https://api.github.com/users/sz-coder/orgs","repos_url":"https://api.github.com/users/sz-coder/repos","events_url":"https://api.github.com/users/sz-coder/events{/privacy}","received_events_url":"https://api.github.com/users/sz-coder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":919437103,"node_id":"MDU6TGFiZWw5MTk0MzcxMDM=","url":"https://api.github.com/repos/babel/babel/labels/outdated","name":"outdated","color":"ededed","default":false,"description":"A closed issue/PR that is archived due to age. Recommended to make a new issue"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-28T20:45:51Z","updated_at":"2020-10-30T04:08:27Z","closed_at":"2020-07-30T14:35:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bug Report\r\n\r\n<!-- If you would like to implement a PR, we are more than happy to help you go through the process!-->\r\n- [x] I would like to work on a fix!\r\n\r\n<!--\r\n@babel/eslint-parser:\r\n  If you are having issues with JSX you might want to check out eslint-plugin-react. If there's an issue with new experimental syntax you might need check if it's supported by @babel/eslint-plugin.\r\n-->\r\n\r\n**Current behavior**\r\nA clear and concise description of the behavior.\r\n\r\n- Clone [this](https://github.com/sz-coder/babel-issue-11885) repository.\r\n- Run `npm install && npm run build`\r\n\r\nNot all required runtime functions are `require`d with an absolute path:\r\n\r\n```js\r\nvar _interopRequireDefault = require(\"<ABSOLUTE_PATH>/@babel/runtime-corejs3/helpers/interopRequireDefault\");\r\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\r\n// ...\r\n```\r\n\r\n**Input Code**\r\n\r\n```js\r\n[1,2,3].map(console.log)\r\n```\r\n\r\n**Expected behavior**\r\nRequired runtime functions should be `require`d with an absolute path:\r\n\r\n```js\r\nvar _interopRequireDefault = require(\"<ABSOLUTE_PATH>/@babel/runtime-corejs3/helpers/interopRequireDefault\");\r\nvar _map = _interopRequireDefault(require(\"<ABSOLUTE_PATH>/@babel/runtime-corejs3/core-js-stable/instance/map\"));\r\n// ...\r\n```\r\n\r\n**Babel Configuration (babel.config.js, .babelrc, package.json#babel, cli command, .eslintrc)**\r\n- Filename: `.babelrc`\r\n\r\n```js\r\n{\r\n\t\"presets\": [\"@babel/preset-env\"],\r\n\t\"plugins\": [[\"@babel/plugin-transform-runtime\", {\r\n\t\t\"helpers\": true,\r\n\t\t\"absoluteRuntime\": true,\r\n\t\t\"corejs\": 3\r\n\t}]]\r\n}\r\n\r\n```\r\n\r\n**Environment**\r\n<!--- Tip: Instead of filling out the questions below, you can run `npx envinfo --preset babel` and paste the result below ``` -->\r\n```\r\n  System:\r\n    OS: macOS 10.15.6\r\n  Binaries:\r\n    Node: 12.18.2 - ~/.nvm/versions/node/v12.18.2/bin/node\r\n    npm: 6.14.5 - ~/.nvm/versions/node/v12.18.2/bin/npm\r\n  npmPackages:\r\n    @babel/cli: ^7.10.5 => 7.10.5\r\n    @babel/core: ^7.10.5 => 7.10.5\r\n    @babel/plugin-transform-runtime: ^7.10.5 => 7.10.5\r\n    @babel/preset-env: ^7.10.4 => 7.10.4\r\n    @babel/runtime: ^7.10.5 => 7.10.5\r\n    @babel/runtime-corejs3: ^7.10.5 => 7.10.5\r\n```\r\n- Babel version(s): 7.10.5 (@babel/core 7.10.5)\r\n- Node/npm version: v12.18.2 / 6.14.5\r\n- OS: macOS 10.15.6\r\n- Monorepo: no\r\n- How you are using Babel: cli, node api\r\n\r\n**Possible Solution**\r\n<!--- If you have suggestions on a fix for the bug -->\r\n\r\n**Additional context**\r\nAdd any other context about the problem here. Or a screenshot if applicable\r\n","closed_by":{"login":"JLHwung","id":3607926,"node_id":"MDQ6VXNlcjM2MDc5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/3607926?v=4","gravatar_id":"","url":"https://api.github.com/users/JLHwung","html_url":"https://github.com/JLHwung","followers_url":"https://api.github.com/users/JLHwung/followers","following_url":"https://api.github.com/users/JLHwung/following{/other_user}","gists_url":"https://api.github.com/users/JLHwung/gists{/gist_id}","starred_url":"https://api.github.com/users/JLHwung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JLHwung/subscriptions","organizations_url":"https://api.github.com/users/JLHwung/orgs","repos_url":"https://api.github.com/users/JLHwung/repos","events_url":"https://api.github.com/users/JLHwung/events{/privacy}","received_events_url":"https://api.github.com/users/JLHwung/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/babel/babel/issues/11885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/babel/babel/issues/11885/timeline","performed_via_github_app":null,"state_reason":"completed"}