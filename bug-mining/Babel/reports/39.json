{"url":"https://api.github.com/repos/babel/babel/issues/6848","repository_url":"https://api.github.com/repos/babel/babel","labels_url":"https://api.github.com/repos/babel/babel/issues/6848/labels{/name}","comments_url":"https://api.github.com/repos/babel/babel/issues/6848/comments","events_url":"https://api.github.com/repos/babel/babel/issues/6848/events","html_url":"https://github.com/babel/babel/issues/6848","id":274884901,"node_id":"MDU6SXNzdWUyNzQ4ODQ5MDE=","number":6848,"title":"transform-block-scoping's tdz crashes","user":{"login":"nicolo-ribaudo","id":7000710,"node_id":"MDQ6VXNlcjcwMDA3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/7000710?v=4","gravatar_id":"","url":"https://api.github.com/users/nicolo-ribaudo","html_url":"https://github.com/nicolo-ribaudo","followers_url":"https://api.github.com/users/nicolo-ribaudo/followers","following_url":"https://api.github.com/users/nicolo-ribaudo/following{/other_user}","gists_url":"https://api.github.com/users/nicolo-ribaudo/gists{/gist_id}","starred_url":"https://api.github.com/users/nicolo-ribaudo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicolo-ribaudo/subscriptions","organizations_url":"https://api.github.com/users/nicolo-ribaudo/orgs","repos_url":"https://api.github.com/users/nicolo-ribaudo/repos","events_url":"https://api.github.com/users/nicolo-ribaudo/events{/privacy}","received_events_url":"https://api.github.com/users/nicolo-ribaudo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":555615173,"node_id":"MDU6TGFiZWw1NTU2MTUxNzM=","url":"https://api.github.com/repos/babel/babel/labels/claimed","name":"claimed","color":"bfdadc","default":false,"description":null},{"id":919437103,"node_id":"MDU6TGFiZWw5MTk0MzcxMDM=","url":"https://api.github.com/repos/babel/babel/labels/outdated","name":"outdated","color":"ededed","default":false,"description":"A closed issue/PR that is archived due to age. Recommended to make a new issue"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-17T14:38:47Z","updated_at":"2019-10-20T05:29:02Z","closed_at":"2019-07-21T04:34:43Z","author_association":"MEMBER","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!---\r\nThanks for filing an issue ðŸ˜„ ! Before you submit, please read the following:\r\n\r\nSearch open/closed issues before submitting since someone might have asked the same thing before!\r\n\r\nIf you have a support request or question please submit them to one of this resources:\r\n\r\n* Slack Community: https://slack.babeljs.io/\r\n* StackOverflow: http://stackoverflow.com/questions/tagged/babeljs using the tag `babeljs`\r\n* Also have a look at the readme for more information on how to get support:\r\n  https://github.com/babel/babel/blob/master/README.md\r\n\r\nIssues on GitHub are only related to problems of Babel itself and we cannot answer \r\nsupport questions here.\r\n-->\r\n\r\n### Demo\r\n\r\nhttps://runkit.com/embed/wx1vpm3rag2x\r\n\r\n<!--- Provide a general summary of the issue in the title above -->\r\n\r\n### Input Code\r\n<!--- If you're describing a bug, please let us know which sample code reproduces your problem -->\r\n<!--- If you have link to our REPL or a standalone repo please link that! -->\r\n\r\n```js\r\na = 2;\r\nlet a = 4;\r\n```\r\n\r\n### Babel/Babylon Configuration (.babelrc, package.json, cli command)\r\n<!--- If describing a bug, tell us what your babel configuration looks like -->\r\n\r\n```js\r\n{\r\n  plugins: [\r\n    [require(\"@babel/plugin-transform-block-scoping\"), { tdz: true }]\r\n  ]\r\n}\r\n```\r\n\r\n### Current behavior\r\n\r\n```\r\nTypeError: _this.addHelper is not a function\r\n  at Object.addHelper in @babel/plugin-transform-block-scoping/lib/index.js â€” line 564\r\n  at buildTDZAssert in @babel/plugin-transform-block-scoping/lib/tdz.js â€” line 21\r\n  at Object.exit in @babel/plugin-transform-block-scoping/lib/tdz.js â€” line 71\r\n  ...\r\n```\r\n\r\n### Your Environment\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version(s)\r\n| ---------------- | -------\r\n| Babel            |  7.0.0-beta.32\r\n| Babylon          | <!-- This is only needed if you are using Babylon directly -->\r\n| node             | \r\n| npm              | \r\n| Operating System | \r\n","closed_by":{"login":"nicolo-ribaudo","id":7000710,"node_id":"MDQ6VXNlcjcwMDA3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/7000710?v=4","gravatar_id":"","url":"https://api.github.com/users/nicolo-ribaudo","html_url":"https://github.com/nicolo-ribaudo","followers_url":"https://api.github.com/users/nicolo-ribaudo/followers","following_url":"https://api.github.com/users/nicolo-ribaudo/following{/other_user}","gists_url":"https://api.github.com/users/nicolo-ribaudo/gists{/gist_id}","starred_url":"https://api.github.com/users/nicolo-ribaudo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicolo-ribaudo/subscriptions","organizations_url":"https://api.github.com/users/nicolo-ribaudo/orgs","repos_url":"https://api.github.com/users/nicolo-ribaudo/repos","events_url":"https://api.github.com/users/nicolo-ribaudo/events{/privacy}","received_events_url":"https://api.github.com/users/nicolo-ribaudo/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/babel/babel/issues/6848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/babel/babel/issues/6848/timeline","performed_via_github_app":null,"state_reason":"completed"}