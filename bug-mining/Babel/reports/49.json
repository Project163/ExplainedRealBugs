{"url":"https://api.github.com/repos/babel/babel/issues/10339","repository_url":"https://api.github.com/repos/babel/babel","labels_url":"https://api.github.com/repos/babel/babel/issues/10339/labels{/name}","comments_url":"https://api.github.com/repos/babel/babel/issues/10339/comments","events_url":"https://api.github.com/repos/babel/babel/issues/10339/events","html_url":"https://github.com/babel/babel/issues/10339","id":480964296,"node_id":"MDU6SXNzdWU0ODA5NjQyOTY=","number":10339,"title":"[@babel/plugin-proposal-object-rest-spread] TypeError: Cannot read property 'references' of undefined","user":{"login":"mvila","id":381671,"node_id":"MDQ6VXNlcjM4MTY3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/381671?v=4","gravatar_id":"","url":"https://api.github.com/users/mvila","html_url":"https://github.com/mvila","followers_url":"https://api.github.com/users/mvila/followers","following_url":"https://api.github.com/users/mvila/following{/other_user}","gists_url":"https://api.github.com/users/mvila/gists{/gist_id}","starred_url":"https://api.github.com/users/mvila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvila/subscriptions","organizations_url":"https://api.github.com/users/mvila/orgs","repos_url":"https://api.github.com/users/mvila/repos","events_url":"https://api.github.com/users/mvila/events{/privacy}","received_events_url":"https://api.github.com/users/mvila/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":711597189,"node_id":"MDU6TGFiZWw3MTE1OTcxODk=","url":"https://api.github.com/repos/babel/babel/labels/Spec:%20Object%20Rest/Spread","name":"Spec: Object Rest/Spread","color":"1d76db","default":false,"description":null},{"id":919437103,"node_id":"MDU6TGFiZWw5MTk0MzcxMDM=","url":"https://api.github.com/repos/babel/babel/labels/outdated","name":"outdated","color":"ededed","default":false,"description":"A closed issue/PR that is archived due to age. Recommended to make a new issue"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-08-15T02:16:21Z","updated_at":"2020-01-07T18:35:20Z","closed_at":"2019-10-08T17:43:13Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bug Report\r\n\r\n**Current Behavior**\r\n\r\nWhile transpiling some code involving object destructuring, the following error is thrown:\r\n```\r\nTypeError: Cannot read property 'references' of undefined\r\n    at Object.keys.forEach.bindingName (.../node_modules/@babel/plugin-proposal-object-rest-spread/lib/index.js:146:45)\r\n```\r\n\r\n**Input Code**\r\n\r\n- REPL link: https://babeljs.io/en/repl#?babili=false&browsers=safari%2010&build=&builtIns=false&spec=false&loose=true&code_lz=GYVwdgxgLglg9mABFApgZygCgCZwiAWxTCjQEpEBvAKEUWDgCdFMIEMqZsAaRAOgHAYKADbY0AX0RxgiXPiIlyVWnURswHUJEQBeFhV0A-FWrUa0cESj4i4Ac0xcyAblV0Jb9_XARMr7wsrGztHIVFxAI9qCWogA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=env&prettier=false&targets=&version=7.5.5&externalPlugins=\r\n\r\n```js\r\nfunction test(documents) {\r\n  for (const {id, ...fields} of documents) {\r\n    const func = () => {\r\n      console.log(id);\r\n    };\r\n\r\n    func();\r\n    console.log(fields);\r\n  }\r\n}\r\n```\r\n\r\n**Expected behavior/code**\r\n\r\n@babel/plugin-proposal-object-rest-spread shouldn't throw an error.\r\n\r\n**Babel Configuration**\r\n\r\nEnv preset browsers: 'safari 10' (see REPL link above)\r\n\r\n**Environment**\r\n\r\n- Babel v7.5.5 running in the official REPL (see REPL link above)\r\n","closed_by":{"login":"nicolo-ribaudo","id":7000710,"node_id":"MDQ6VXNlcjcwMDA3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/7000710?v=4","gravatar_id":"","url":"https://api.github.com/users/nicolo-ribaudo","html_url":"https://github.com/nicolo-ribaudo","followers_url":"https://api.github.com/users/nicolo-ribaudo/followers","following_url":"https://api.github.com/users/nicolo-ribaudo/following{/other_user}","gists_url":"https://api.github.com/users/nicolo-ribaudo/gists{/gist_id}","starred_url":"https://api.github.com/users/nicolo-ribaudo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicolo-ribaudo/subscriptions","organizations_url":"https://api.github.com/users/nicolo-ribaudo/orgs","repos_url":"https://api.github.com/users/nicolo-ribaudo/repos","events_url":"https://api.github.com/users/nicolo-ribaudo/events{/privacy}","received_events_url":"https://api.github.com/users/nicolo-ribaudo/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/babel/babel/issues/10339/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/babel/babel/issues/10339/timeline","performed_via_github_app":null,"state_reason":"completed"}