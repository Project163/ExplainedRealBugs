diff --git a/include/spdlog/details/os.h b/include/spdlog/details/os.h
index cd586e14..243a4fb8 100644
--- a/include/spdlog/details/os.h
+++ b/include/spdlog/details/os.h
@@ -84,7 +84,7 @@ SPDLOG_API bool is_color_terminal() SPDLOG_NOEXCEPT;
 SPDLOG_API bool in_terminal(FILE *file) SPDLOG_NOEXCEPT;
 
 #if (defined(SPDLOG_WCHAR_TO_UTF8_SUPPORT) || defined(SPDLOG_WCHAR_FILENAMES)) && defined(_WIN32)
-void wstr_to_utf8buf(wstring_view_t wstr, memory_buf_t &target);
+SPDLOG_API void wstr_to_utf8buf(wstring_view_t wstr, memory_buf_t &target);
 #endif
 
 // Return directory name from given path or empty string
