diff --git a/CMakeLists.txt b/CMakeLists.txt
index fa9e1fab..abceb307 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -82,11 +82,15 @@ message(STATUS "Build type: " ${CMAKE_BUILD_TYPE})
 set(SPDLOG_SRCS
         src/spdlog.cpp
         src/stdout_sinks.cpp
-        src/fmt.cpp
         src/color_sinks.cpp
         src/file_sinks.cpp
         src/async.cpp)
 
+
+if(NOT SPDLOG_FMT_EXTERNAL)
+    list(APPEND SPDLOG_SRCS src/fmt.cpp)
+endif()
+
 if (SPDLOG_BUILD_SHARED)
     if(WIN32)
         message(FATAL_ERROR "spdlog shared lib is not yet supported under windows")
