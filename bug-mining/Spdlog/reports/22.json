{"url":"https://api.github.com/repos/gabime/spdlog/issues/961","repository_url":"https://api.github.com/repos/gabime/spdlog","labels_url":"https://api.github.com/repos/gabime/spdlog/issues/961/labels{/name}","comments_url":"https://api.github.com/repos/gabime/spdlog/issues/961/comments","events_url":"https://api.github.com/repos/gabime/spdlog/issues/961/events","html_url":"https://github.com/gabime/spdlog/issues/961","id":398860351,"node_id":"MDU6SXNzdWUzOTg4NjAzNTE=","number":961,"title":"Win32: failed to link to benchmark","user":{"login":"myd7349","id":5435649,"node_id":"MDQ6VXNlcjU0MzU2NDk=","avatar_url":"https://avatars.githubusercontent.com/u/5435649?v=4","gravatar_id":"","url":"https://api.github.com/users/myd7349","html_url":"https://github.com/myd7349","followers_url":"https://api.github.com/users/myd7349/followers","following_url":"https://api.github.com/users/myd7349/following{/other_user}","gists_url":"https://api.github.com/users/myd7349/gists{/gist_id}","starred_url":"https://api.github.com/users/myd7349/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myd7349/subscriptions","organizations_url":"https://api.github.com/users/myd7349/orgs","repos_url":"https://api.github.com/users/myd7349/repos","events_url":"https://api.github.com/users/myd7349/events{/privacy}","received_events_url":"https://api.github.com/users/myd7349/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-01-14T12:07:36Z","updated_at":"2019-01-14T13:53:31Z","closed_at":"2019-01-14T13:53:31Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When I was trying to update `vcpkg`'s spdlog to 1.3.0, the linker complains that: \r\n>LINK : warning LNK4044: unrecognized option '/lbenchmark'; ignored\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"void __cdecl benchmark::Initialize(int *,char * *)\" (?Initialize@benchmark@@YAXPAHPAPAD@Z) referenced in function _main\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"unsigned int __cdecl benchmark::RunSpecifiedBenchmarks(void)\" (?RunSpecifiedBenchmarks@benchmark@@YAIXZ) referenced in function _main\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"void __cdecl benchmark::internal::UseCharPointer(char const volatile *)\" (?UseCharPointer@internal@benchmark@@YAXPDD@Z) referenced in function \"void __cdecl benchmark::DoNotOptimize<int>(int const &)\" (??$DoNotOptimize@H@benchmark@@YAXABH@Z)\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"class benchmark::internal::Benchmark * __cdecl benchmark::internal::RegisterBenchmarkInternal(class benchmark::internal::Benchmark *)\" (?RegisterBenchmarkInternal@internal@benchmark@@YAPAVBenchmark@12@PAV312@@Z) referenced in function \"class benchmark::internal::Benchmark * __cdecl benchmark::RegisterBenchmark<class <lambda_217ee79a96ba3e5823c7b6e5b5e8b443> >(char const *,class <lambda_217ee79a96ba3e5823c7b6e5b5e8b443> &&)\" (??$RegisterBenchmark@V<lambda_217ee79a96ba3e5823c7b6e5b5e8b443>@@@benchmark@@YAPAVBenchmark@internal@0@PBD$$QAV<lambda_217ee79a96ba3e5823c7b6e5b5e8b443>@@@Z)\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"int __cdecl benchmark::internal::InitializeStreams(void)\" (?InitializeStreams@internal@benchmark@@YAHXZ) referenced in function \"void __cdecl benchmark::internal::`dynamic initializer for 'stream_init_anchor''(void)\" (??__Estream_init_anchor@internal@benchmark@@YAXXZ)\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"private: void __thiscall benchmark::State::StartKeepRunning(void)\" (?StartKeepRunning@State@benchmark@@AAEXXZ) referenced in function \"public: struct benchmark::State::StateIterator __thiscall benchmark::State::end(void)\" (?end@State@benchmark@@QAE?AUStateIterator@12@XZ)\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"private: void __thiscall benchmark::State::FinishKeepRunning(void)\" (?FinishKeepRunning@State@benchmark@@AAEXXZ) referenced in function \"public: bool __thiscall benchmark::State::StateIterator::operator!=(struct benchmark::State::StateIterator const &)const \" (??9StateIterator@State@benchmark@@QBE_NABU012@@Z)\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"public: virtual __thiscall benchmark::internal::Benchmark::~Benchmark(void)\" (??1Benchmark@internal@benchmark@@UAE@XZ) referenced in function \"public: virtual __thiscall benchmark::internal::LambdaBenchmark<class <lambda_217ee79a96ba3e5823c7b6e5b5e8b443> >::~LambdaBenchmark<class <lambda_217ee79a96ba3e5823c7b6e5b5e8b443> >(void)\" (??1?$LambdaBenchmark@V<lambda_217ee79a96ba3e5823c7b6e5b5e8b443>@@@internal@benchmark@@UAE@XZ)\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"public: class benchmark::internal::Benchmark * __thiscall benchmark::internal::Benchmark::UseRealTime(void)\" (?UseRealTime@Benchmark@internal@benchmark@@QAEPAV123@XZ) referenced in function _main\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"public: class benchmark::internal::Benchmark * __thiscall benchmark::internal::Benchmark::Threads(int)\" (?Threads@Benchmark@internal@benchmark@@QAEPAV123@H@Z) referenced in function _main\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"protected: __thiscall benchmark::internal::Benchmark::Benchmark(char const *)\" (??0Benchmark@internal@benchmark@@IAE@PBD@Z) referenced in function \"private: __thiscall benchmark::internal::LambdaBenchmark<class <lambda_217ee79a96ba3e5823c7b6e5b5e8b443> >::LambdaBenchmark<class <lambda_217ee79a96ba3e5823c7b6e5b5e8b443> ><class <lambda_217ee79a96ba3e5823c7b6e5b5e8b443> >(char const *,class <lambda_217ee79a96ba3e5823c7b6e5b5e8b443> &&)\" (??$?0V<lambda_217ee79a96ba3e5823c7b6e5b5e8b443>@@@?$LambdaBenchmark@V<lambda_217ee79a96ba3e5823c7b6e5b5e8b443>@@@internal@benchmark@@AAE@PBD$$QAV<lambda_217ee79a96ba3e5823c7b6e5b5e8b443>@@@Z)\r\nlatency.cpp.obj : error LNK2019: unresolved external symbol \"public: static struct benchmark::CPUInfo const & __cdecl benchmark::CPUInfo::Get(void)\" (?Get@CPUInfo@benchmark@@SAABU12@XZ) referenced in function _main\r\nbench\\latency.exe : fatal error LNK1120: 12 unresolved externals\r\n[23/26] cmd.exe /C \"cd . && E:\\vcpkg\\downloads\\tools\\cmake-3.12.4-windows\\cmake-3.12.4-win32-x86\\bin\\cmake.exe -E vs_link_exe --intdir=bench\\CMakeFiles\\bench.dir --manifests  -- C:\\PROGRA~2\\MIB055~1\\2017\\ENTERP~1\\VC\\Tools\\MSVC\\1415~1.267\\bin\\Hostx64\\x86\\link.exe  bench\\CMakeFiles\\bench.dir\\bench.cpp.obj  /out:bench\\bench.exe /implib:bench\\bench.lib /pdb:bench\\bench.pdb /version:0.0  /machine:X86 /debug /INCREMENTAL  /subsystem:console  E:\\vcpkg\\installed\\x86-windows\\debug\\lib\\fmtd.lib -lbenchmark && cd .\"","closed_by":{"login":"gabime","id":6052198,"node_id":"MDQ6VXNlcjYwNTIxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6052198?v=4","gravatar_id":"","url":"https://api.github.com/users/gabime","html_url":"https://github.com/gabime","followers_url":"https://api.github.com/users/gabime/followers","following_url":"https://api.github.com/users/gabime/following{/other_user}","gists_url":"https://api.github.com/users/gabime/gists{/gist_id}","starred_url":"https://api.github.com/users/gabime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gabime/subscriptions","organizations_url":"https://api.github.com/users/gabime/orgs","repos_url":"https://api.github.com/users/gabime/repos","events_url":"https://api.github.com/users/gabime/events{/privacy}","received_events_url":"https://api.github.com/users/gabime/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/gabime/spdlog/issues/961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gabime/spdlog/issues/961/timeline","performed_via_github_app":null,"state_reason":"completed"}