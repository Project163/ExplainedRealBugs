{"url":"https://api.github.com/repos/gabime/spdlog/issues/1176","repository_url":"https://api.github.com/repos/gabime/spdlog","labels_url":"https://api.github.com/repos/gabime/spdlog/issues/1176/labels{/name}","comments_url":"https://api.github.com/repos/gabime/spdlog/issues/1176/comments","events_url":"https://api.github.com/repos/gabime/spdlog/issues/1176/events","html_url":"https://github.com/gabime/spdlog/issues/1176","id":475639742,"node_id":"MDU6SXNzdWU0NzU2Mzk3NDI=","number":1176,"title":"cannot ouput wide string using spdlog 1.4.0","user":{"login":"artemyv","id":24264210,"node_id":"MDQ6VXNlcjI0MjY0MjEw","avatar_url":"https://avatars.githubusercontent.com/u/24264210?v=4","gravatar_id":"","url":"https://api.github.com/users/artemyv","html_url":"https://github.com/artemyv","followers_url":"https://api.github.com/users/artemyv/followers","following_url":"https://api.github.com/users/artemyv/following{/other_user}","gists_url":"https://api.github.com/users/artemyv/gists{/gist_id}","starred_url":"https://api.github.com/users/artemyv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artemyv/subscriptions","organizations_url":"https://api.github.com/users/artemyv/orgs","repos_url":"https://api.github.com/users/artemyv/repos","events_url":"https://api.github.com/users/artemyv/events{/privacy}","received_events_url":"https://api.github.com/users/artemyv/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"gabime","id":6052198,"node_id":"MDQ6VXNlcjYwNTIxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6052198?v=4","gravatar_id":"","url":"https://api.github.com/users/gabime","html_url":"https://github.com/gabime","followers_url":"https://api.github.com/users/gabime/followers","following_url":"https://api.github.com/users/gabime/following{/other_user}","gists_url":"https://api.github.com/users/gabime/gists{/gist_id}","starred_url":"https://api.github.com/users/gabime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gabime/subscriptions","organizations_url":"https://api.github.com/users/gabime/orgs","repos_url":"https://api.github.com/users/gabime/repos","events_url":"https://api.github.com/users/gabime/events{/privacy}","received_events_url":"https://api.github.com/users/gabime/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"gabime","id":6052198,"node_id":"MDQ6VXNlcjYwNTIxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6052198?v=4","gravatar_id":"","url":"https://api.github.com/users/gabime","html_url":"https://github.com/gabime","followers_url":"https://api.github.com/users/gabime/followers","following_url":"https://api.github.com/users/gabime/following{/other_user}","gists_url":"https://api.github.com/users/gabime/gists{/gist_id}","starred_url":"https://api.github.com/users/gabime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gabime/subscriptions","organizations_url":"https://api.github.com/users/gabime/orgs","repos_url":"https://api.github.com/users/gabime/repos","events_url":"https://api.github.com/users/gabime/events{/privacy}","received_events_url":"https://api.github.com/users/gabime/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":10,"created_at":"2019-08-01T11:54:46Z","updated_at":"2020-12-15T15:05:32Z","closed_at":"2019-08-09T07:16:35Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm trying to use spdlog version 1.4.0 Latest commit 88b4ade  with wchar_t string and got following results (Windows VS2019 ver 16.2)\r\n\r\n```c++\r\n`#include \"spdlog/spdlog.h\"\r\n\r\nint main(int, char* [])\r\n{\r\n    spdlog::info(\"Welcome to spdlog version {}.{}.{}  !\", SPDLOG_VER_MAJOR, SPDLOG_VER_MINOR, SPDLOG_VER_PATCH);\r\n    spdlog::debug(L\"{}\" , L\"This message should be displayed..\");\r\n}\r\n```\r\n\r\nWith SPDLOG_WCHAR_TO_UTF8_SUPPORT results in missing output\r\n`[2019-08-01 14:37:49.683] [info] Welcome to spdlog version 1.4.0  !\r\n\r\nD:\\dev\\Samples\\spdlog-1.x\\Demo_issue\\test_spdlog\\Debug\\test_spdlog.exe (process 13480) exited with code 0.`\r\n\r\nWithout SPDLOG_WCHAR_TO_UTF8_SUPPORT \r\n\r\n`test_spdlog.cpp(6,64): error C2664:  'void spdlog::debug<wchar_t[35]>(spdlog::string_view_t,const wchar_t (&)[35])': cannot convert argument 1 from 'const wchar_t [3]' to 'spdlog::string_view_t'`\r\n\r\nSame code with narrow format\r\n`#include \"spdlog/spdlog.h\"\r\n\r\nint main(int, char* [])\r\n{\r\n    spdlog::info(\"Welcome to spdlog version {}.{}.{}  !\", SPDLOG_VER_MAJOR, SPDLOG_VER_MINOR, SPDLOG_VER_PATCH);\r\n    spdlog::debug(\"{}\" , L\"This message should be displayed..\");\r\n}`\r\n\r\nWith or without SPDLOG_WCHAR_TO_UTF8_SUPPORT gives a lot of errors\r\n\r\n`include\\spdlog\\fmt\\bundled\\core.h(1069,1): error C2440:  'return': cannot convert from 'void' to 'fmt::v5::internal::value<Context>'\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1069,1): error C2440:         with\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1069,1): error C2440:         [\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1069,1): error C2440:             Context=fmt::v5::format_context\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1069,1): error C2440:         ]\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1069,3): message :  Expressions of type void cannot be converted to other types\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1179): message :  see reference to function template instantiation 'fmt::v5::internal::value<Context> fmt::v5::internal::make_arg<true,Context,wchar_t[35]>(const T (&))' being compiled\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1179): message :         with\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1179): message :         [\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1179): message :             Context=fmt::v5::format_context,\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1179): message :             T=wchar_t [35]\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1179): message :         ]\r\ninclude\\spdlog\\fmt\\bundled\\core.h(1179): message :  while compiling class template member function 'fmt::v5::format_arg_store<context,wchar_t [35]>::format_arg_store(const wchar_t (&)[35])'\r\ninclude\\spdlog\\fmt\\bundled\\format.h(3257): message :  see reference to function template instantiation 'fmt::v5::format_arg_store<context,wchar_t [35]>::format_arg_store(const wchar_t (&)[35])' being compiled\r\ninclude\\spdlog\\fmt\\bundled\\format.h(3254): message :  see reference to class template instantiation 'fmt::v5::format_arg_store<context,wchar_t [35]>' being compiled\r\ninclude\\spdlog\\logger.h(74): message :  see reference to function template instantiation 'OutputIt fmt::v5::format_to<spdlog::string_view_t,wchar_t[35],500,char>(fmt::v5::basic_memory_buffer<char,500,std::allocator<char>> &,const S &,const wchar_t (&)[35])' being compiled\r\ninclude\\spdlog\\logger.h(74): message :         with\r\ninclude\\spdlog\\logger.h(74): message :         [\r\ninclude\\spdlog\\logger.h(74): message :             OutputIt=std::back_insert_iterator<fmt::v5::internal::basic_buffer<char>>,\r\ninclude\\spdlog\\logger.h(74): message :             S=spdlog::string_view_t\r\ninclude\\spdlog\\logger.h(74): message :         ]\r\ninclude\\spdlog\\logger.h(87): message :  see reference to function template instantiation 'void spdlog::logger::force_log<wchar_t[35]>(spdlog::source_loc,spdlog::level::level_enum,spdlog::string_view_t,const wchar_t (&)[35])' being compiled\r\ninclude\\spdlog\\logger.h(96): message :  see reference to function template instantiation 'void spdlog::logger::log<wchar_t[35]>(spdlog::source_loc,spdlog::level::level_enum,spdlog::string_view_t,const wchar_t (&)[35])' being compiled\r\ninclude\\spdlog\\logger.h(111): message :  see reference to function template instantiation 'void spdlog::logger::log<wchar_t[35]>(spdlog::level::level_enum,spdlog::string_view_t,const wchar_t (&)[35])' being compiled\r\ninclude\\spdlog\\spdlog.h(137): message :  see reference to function template instantiation 'void spdlog::logger::debug<wchar_t[35]>(spdlog::string_view_t,const wchar_t (&)[35])' being compiled\r\nDemo_issue\\test_spdlog\\test_spdlog.cpp(6): message :  see reference to function template instantiation 'void spdlog::debug<wchar_t[35]>(spdlog::string_view_t,const wchar_t (&)[35])' being compiled\r\n`\r\n\r\nIs it possible somehow to output the wide strings still?","closed_by":{"login":"gabime","id":6052198,"node_id":"MDQ6VXNlcjYwNTIxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6052198?v=4","gravatar_id":"","url":"https://api.github.com/users/gabime","html_url":"https://github.com/gabime","followers_url":"https://api.github.com/users/gabime/followers","following_url":"https://api.github.com/users/gabime/following{/other_user}","gists_url":"https://api.github.com/users/gabime/gists{/gist_id}","starred_url":"https://api.github.com/users/gabime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gabime/subscriptions","organizations_url":"https://api.github.com/users/gabime/orgs","repos_url":"https://api.github.com/users/gabime/repos","events_url":"https://api.github.com/users/gabime/events{/privacy}","received_events_url":"https://api.github.com/users/gabime/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/gabime/spdlog/issues/1176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gabime/spdlog/issues/1176/timeline","performed_via_github_app":null,"state_reason":"completed"}