{"url":"https://api.github.com/repos/gabime/spdlog/issues/1195","repository_url":"https://api.github.com/repos/gabime/spdlog","labels_url":"https://api.github.com/repos/gabime/spdlog/issues/1195/labels{/name}","comments_url":"https://api.github.com/repos/gabime/spdlog/issues/1195/comments","events_url":"https://api.github.com/repos/gabime/spdlog/issues/1195/events","html_url":"https://github.com/gabime/spdlog/issues/1195","id":485956347,"node_id":"MDU6SXNzdWU0ODU5NTYzNDc=","number":1195,"title":"Fails to build against system fmtlib 6.0.0","user":{"login":"jbeich","id":11153579,"node_id":"MDQ6VXNlcjExMTUzNTc5","avatar_url":"https://avatars.githubusercontent.com/u/11153579?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeich","html_url":"https://github.com/jbeich","followers_url":"https://api.github.com/users/jbeich/followers","following_url":"https://api.github.com/users/jbeich/following{/other_user}","gists_url":"https://api.github.com/users/jbeich/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeich/subscriptions","organizations_url":"https://api.github.com/users/jbeich/orgs","repos_url":"https://api.github.com/users/jbeich/repos","events_url":"https://api.github.com/users/jbeich/events{/privacy}","received_events_url":"https://api.github.com/users/jbeich/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-08-27T18:10:24Z","updated_at":"2019-08-28T21:34:18Z","closed_at":"2019-08-28T21:28:07Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Regressed by https://github.com/fmtlib/fmt/commit/9a777b9e1c610f86f137c7cb3ac18be6eab06cce\r\n\r\n```\r\n$ c++ -v\r\nFreeBSD clang version 8.0.1 (tags/RELEASE_801/final 366581) (based on LLVM 8.0.1)\r\nTarget: x86_64-unknown-freebsd13.0\r\nThread model: posix\r\nInstalledDir: /usr/bin\r\n\r\n$ pkg info -x fmt spdl\r\nlibfmt-6.0.0\r\nspdlog-1.3.1_1\r\n\r\n$ fgrep -r FMT_VERSION /usr/local/include\r\n/usr/local/include/spdlog/fmt/bundled/core.h:#define FMT_VERSION 50300\r\n/usr/local/include/fmt/core.h:#define FMT_VERSION 60000\r\n\r\n$ git describe --tags --always\r\nv1.3.1-509-g3adfeeec\r\n```\r\n\r\n```c++\r\n$ cmake -GNinja -DSPDLOG_FMT_EXTERNAL=on .\r\n$ ninja\r\n[...]\r\nFAILED: example/CMakeFiles/example.dir/example.cpp.o\r\n/usr/bin/c++  -DFMT_SHARED -DSPDLOG_COMPILED_LIB -DSPDLOG_FMT_EXTERNAL -Iinclude -isystem /usr/local/include -O3 -DNDEBUG   -Wall -Wextra -Wconversion -pedantic -Wfatal-errors -std=c++11 -MD -MT example/CMakeFiles/example.dir/example.cpp.o -MF example/CMakeFiles/example.dir/example.cpp.o.d -o example/CMakeFiles/example.dir/example.cpp.o -c example/example.cpp\r\nIn file included from example/example.cpp:141:\r\ninclude/spdlog/fmt/bin_to_hex.h:119:29: fatal error: no member named 'begin' in 'fmt::v6::basic_format_context<std::__1::back_insert_iterator<fmt::v6::internal::buffer<char> >, char>'\r\n        auto inserter = ctx.begin();\r\n                        ~~~ ^\r\n/usr/local/include/fmt/core.h:740:22: note: in instantiation of function template specialization 'fmt::v6::formatter<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> >, char, void>::format<fmt::v6::basic_format_context<std::__1::back_insert_iterator<fmt::v6::internal::buffer<char> >, char>, std::__1::__wrap_iter<const char *> >' requested here\r\n    ctx.advance_to(f.format(*static_cast<const T*>(arg), ctx));\r\n                     ^\r\n/usr/local/include/fmt/core.h:724:21: note: in instantiation of function template specialization 'fmt::v6::internal::value<fmt::v6::basic_format_context<std::__1::back_insert_iterator<fmt::v6::internal::buffer<char> >, char> >::format_custom_arg<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> >, fmt::v6::formatter<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> >, char, void> >' requested here\r\n    custom.format = format_custom_arg<\r\n                    ^\r\n/usr/local/include/fmt/core.h:1015:10: note: in instantiation of function template specialization 'fmt::v6::internal::value<fmt::v6::basic_format_context<std::__1::back_insert_iterator<fmt::v6::internal::buffer<char> >, char> >::value<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> > >' requested here\r\n  return arg_mapper<Context>().map(val);\r\n         ^\r\n/usr/local/include/fmt/core.h:1106:25: note: in instantiation of function template specialization 'fmt::v6::internal::make_arg<true, fmt::v6::basic_format_context<std::__1::back_insert_iterator<fmt::v6::internal::buffer<char> >, char>, spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> >, 0>' requested here\r\n      : data_{internal::make_arg<is_packed, Context>(args)...} {}\r\n                        ^\r\n/usr/local/include/fmt/core.h:1120:10: note: in instantiation of member function 'fmt::v6::format_arg_store<fmt::v6::basic_format_context<std::__1::back_insert_iterator<fmt::v6::internal::buffer<char> >, char>, spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> > >::format_arg_store' requested here\r\n  return {args...};\r\n         ^\r\n/usr/local/include/fmt/format.h:3347:32: note: (skipping 2 contexts in backtrace; use -ftemplate-backtrace-limit=0 to see all)\r\n                              {make_format_args<context>(args...)});\r\n                               ^\r\ninclude/spdlog/logger.h:93:13: note: in instantiation of function template specialization 'spdlog::logger::force_log<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> > >' requested here\r\n            force_log(loc, lvl, fmt, args...);\r\n            ^\r\ninclude/spdlog/logger.h:100:9: note: in instantiation of function template specialization 'spdlog::logger::log<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> > >' requested here\r\n        log(source_loc{}, lvl, fmt, args...);\r\n        ^\r\ninclude/spdlog/logger.h:121:9: note: in instantiation of function template specialization 'spdlog::logger::log<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> > >' requested here\r\n        log(level::info, fmt, args...);\r\n        ^\r\ninclude/spdlog/spdlog.h:144:27: note: in instantiation of function template specialization 'spdlog::logger::info<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> > >' requested here\r\n    default_logger_raw()->info(fmt, args...);\r\n                          ^\r\nexample/example.cpp:149:13: note: in instantiation of function template specialization 'spdlog::info<spdlog::details::bytes_range<std::__1::__wrap_iter<const char *> > >' requested here\r\n    spdlog::info(\"Binary example: {}\", spdlog::to_hex(buf));\r\n            ^\r\n1 error generated.\r\n```\r\n","closed_by":{"login":"gabime","id":6052198,"node_id":"MDQ6VXNlcjYwNTIxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6052198?v=4","gravatar_id":"","url":"https://api.github.com/users/gabime","html_url":"https://github.com/gabime","followers_url":"https://api.github.com/users/gabime/followers","following_url":"https://api.github.com/users/gabime/following{/other_user}","gists_url":"https://api.github.com/users/gabime/gists{/gist_id}","starred_url":"https://api.github.com/users/gabime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gabime/subscriptions","organizations_url":"https://api.github.com/users/gabime/orgs","repos_url":"https://api.github.com/users/gabime/repos","events_url":"https://api.github.com/users/gabime/events{/privacy}","received_events_url":"https://api.github.com/users/gabime/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/gabime/spdlog/issues/1195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gabime/spdlog/issues/1195/timeline","performed_via_github_app":null,"state_reason":"completed"}