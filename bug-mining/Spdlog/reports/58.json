{"url":"https://api.github.com/repos/gabime/spdlog/issues/1439","repository_url":"https://api.github.com/repos/gabime/spdlog","labels_url":"https://api.github.com/repos/gabime/spdlog/issues/1439/labels{/name}","comments_url":"https://api.github.com/repos/gabime/spdlog/issues/1439/comments","events_url":"https://api.github.com/repos/gabime/spdlog/issues/1439/events","html_url":"https://github.com/gabime/spdlog/issues/1439","id":565718442,"node_id":"MDU6SXNzdWU1NjU3MTg0NDI=","number":1439,"title":"deprecated warning with C++14 and external fmt lib","user":{"login":"ClausKlein","id":1833050,"node_id":"MDQ6VXNlcjE4MzMwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1833050?v=4","gravatar_id":"","url":"https://api.github.com/users/ClausKlein","html_url":"https://github.com/ClausKlein","followers_url":"https://api.github.com/users/ClausKlein/followers","following_url":"https://api.github.com/users/ClausKlein/following{/other_user}","gists_url":"https://api.github.com/users/ClausKlein/gists{/gist_id}","starred_url":"https://api.github.com/users/ClausKlein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ClausKlein/subscriptions","organizations_url":"https://api.github.com/users/ClausKlein/orgs","repos_url":"https://api.github.com/users/ClausKlein/repos","events_url":"https://api.github.com/users/ClausKlein/events{/privacy}","received_events_url":"https://api.github.com/users/ClausKlein/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-15T08:44:54Z","updated_at":"2020-02-15T08:57:34Z","closed_at":"2020-02-15T08:57:13Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```shell\r\nbash-5.0$ make\r\nmkdir -p ../.build-spdlog-Debug\r\ncd ../.build-spdlog-Debug && cmake -G Ninja -Wdeprecated -Wdev \\\r\n      -DUSE_LCOV=OFF -DCMAKE_BUILD_TYPE=Debug \\\r\n      -DCMAKE_PREFIX_PATH=\"/tmp/staging/spdlog//usr/local;/usr/local;/opt/local;/usr\" \\\r\n      -DCMAKE_STAGING_PREFIX=/usr/local \\\r\n      -DSPDLOG_BUILD_EXAMPLE_HO=off -DCMAKE_CXX_COMPILER_LAUNCHER=ccache \\\r\n      -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DCMAKE_C_COMPILER=/opt/local/bin/gcc -DCMAKE_CXX_COMPILER=/opt/local/bin/g++ /Users/clausklein/Workspace/cpp/spdlog\r\n-- clang-tidy found: /Users/clausklein/scripts/run-clang-tidy.py\r\n-- cmake source dir: /Users/clausklein/Workspace/cpp/spdlog\r\n-- check target added\r\n-- The CXX compiler identification is GNU 10.0.0\r\n-- Checking whether CXX compiler has -isysroot\r\n-- Checking whether CXX compiler has -isysroot - yes\r\n-- Checking whether CXX compiler supports OSX deployment target flag\r\n-- Checking whether CXX compiler supports OSX deployment target flag - yes\r\n-- Check for working CXX compiler: /opt/local/bin/g++\r\n-- Check for working CXX compiler: /opt/local/bin/g++ -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Build spdlog: 1.5.0\r\n-- Looking for C++ include pthread.h\r\n-- Looking for C++ include pthread.h - found\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success\r\n-- Found Threads: TRUE  \r\n-- Build type: Debug\r\n-- Generating examples\r\n-- Generating tests\r\n-- Found PkgConfig: /usr/local/bin/pkg-config (found version \"0.29.2\") \r\n-- Checking for module 'libsystemd'\r\n--   No package 'libsystemd' found\r\n-- Generating install\r\n-- Configuring done\r\n-- Generating done\r\nCMake Warning:\r\n  Manually-specified variables were not used by the project:\r\n\r\n    USE_LCOV\r\n\r\n\r\n-- Build files have been written to: /Users/clausklein/Workspace/cpp/.build-spdlog-Debug\r\ntouch .configure-Debug\r\nln -sf /Users/clausklein/Workspace/cpp/spdlog/../.build-spdlog-Debug/compile_commands.json .\r\ncmake --build ../.build-spdlog-Debug\r\n[1/26] Building CXX object CMakeFiles/spdlog.dir/src/color_sinks.cpp.o\r\nIn file included from /Users/clausklein/Workspace/cpp/spdlog/src/color_sinks.cpp:24:\r\n/Users/clausklein/Workspace/cpp/spdlog/include/spdlog/sinks/ansicolor_sink-inl.h: In member function 'void spdlog::sinks::ansicolor_sink<ConsoleMutex>::print_ccode_(const string_view_t&)':\r\n/Users/clausklein/Workspace/cpp/spdlog/include/spdlog/sinks/ansicolor_sink-inl.h:114:53: warning: 'using char_type = char' is deprecated [-Wdeprecated-declarations]\r\n  114 |     fwrite(color_code.data(), sizeof(string_view_t::char_type), color_code.size(), target_file_);\r\n      |                                                     ^~~~~~~~~\r\nIn file included from /Users/clausklein/Workspace/cpp/spdlog/include/spdlog/fmt/fmt.h:25,\r\n                 from /Users/clausklein/Workspace/cpp/spdlog/include/spdlog/common.h:38,\r\n                 from /Users/clausklein/Workspace/cpp/spdlog/include/spdlog/logger.h:17,\r\n                 from /Users/clausklein/Workspace/cpp/spdlog/include/spdlog/async_logger.h:17,\r\n                 from /Users/clausklein/Workspace/cpp/spdlog/include/spdlog/async.h:17,\r\n                 from /Users/clausklein/Workspace/cpp/spdlog/src/color_sinks.cpp:11:\r\n/usr/local/include/fmt/core.h:316:9: note: declared here\r\n  316 |   using char_type FMT_DEPRECATED_ALIAS = Char;\r\n      |         ^~~~~~~~~\r\n[25/26] Building CXX object tests/CMakeFiles/spdlog-utests.dir/main.cpp.o\r\nFAILED: tests/CMakeFiles/spdlog-utests.dir/main.cpp.o \r\nccache /opt/local/bin/g++  -DFMT_LOCALE -DSPDLOG_COMPILED_LIB -DSPDLOG_FMT_EXTERNAL -I/Users/clausklein/Workspace/cpp/spdlog/include -isystem /usr/local/include -g   -Wall -Wextra -Wconversion -pedantic -Wfatal-errors -std=c++14 -MD -MT tests/CMakeFiles/spdlog-utests.dir/main.cpp.o -MF tests/CMakeFiles/spdlog-utests.dir/main.cpp.o.d -o tests/CMakeFiles/spdlog-utests.dir/main.cpp.o -c /Users/clausklein/Workspace/cpp/spdlog/tests/main.cpp\r\nIn file included from /Users/clausklein/Workspace/cpp/spdlog/tests/main.cpp:2:\r\n/Users/clausklein/Workspace/cpp/spdlog/tests/catch.hpp: In constructor 'Catch::AssertionHandler::AssertionHandler(const Catch::StringRef&, const Catch::SourceLineInfo&, Catch::StringRef, Catch::ResultDisposition::Flags)':\r\n/Users/clausklein/Workspace/cpp/spdlog/tests/catch.hpp:6516:5: error: incorrect sharing of tree nodes\r\n 6516 |     AssertionHandler::AssertionHandler\r\n      |     ^~~~~~~~~~~~~~~~\r\ncompilation terminated due to -Wfatal-errors.\r\nninja: build stopped: subcommand failed.\r\nmake: *** [GNUmakefile:72: all] Fehler 1\r\nbash-5.0$ \r\n\r\ncc (MacPorts gcc10 10-20200105_1) 10.0.0 20200105 (experimental)\r\nCopyright (C) 2020 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\nbash-5.0$ \r\n````\r\n[build.log](https://github.com/gabime/spdlog/files/4207947/build.log)\r\n","closed_by":{"login":"gabime","id":6052198,"node_id":"MDQ6VXNlcjYwNTIxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6052198?v=4","gravatar_id":"","url":"https://api.github.com/users/gabime","html_url":"https://github.com/gabime","followers_url":"https://api.github.com/users/gabime/followers","following_url":"https://api.github.com/users/gabime/following{/other_user}","gists_url":"https://api.github.com/users/gabime/gists{/gist_id}","starred_url":"https://api.github.com/users/gabime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gabime/subscriptions","organizations_url":"https://api.github.com/users/gabime/orgs","repos_url":"https://api.github.com/users/gabime/repos","events_url":"https://api.github.com/users/gabime/events{/privacy}","received_events_url":"https://api.github.com/users/gabime/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/gabime/spdlog/issues/1439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gabime/spdlog/issues/1439/timeline","performed_via_github_app":null,"state_reason":"completed"}