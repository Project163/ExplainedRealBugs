[{"id":14657937174,"node_id":"MEE_lADNIULOmk52ms8AAAADaa5fFg","url":"https://api.github.com/repos/rails/rails/issues/events/14657937174","actor":{"login":"OuYangJinTing","id":33079237,"node_id":"MDQ6VXNlcjMzMDc5MjM3","avatar_url":"https://avatars.githubusercontent.com/u/33079237?v=4","gravatar_id":"","url":"https://api.github.com/users/OuYangJinTing","html_url":"https://github.com/OuYangJinTing","followers_url":"https://api.github.com/users/OuYangJinTing/followers","following_url":"https://api.github.com/users/OuYangJinTing/following{/other_user}","gists_url":"https://api.github.com/users/OuYangJinTing/gists{/gist_id}","starred_url":"https://api.github.com/users/OuYangJinTing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OuYangJinTing/subscriptions","organizations_url":"https://api.github.com/users/OuYangJinTing/orgs","repos_url":"https://api.github.com/users/OuYangJinTing/repos","events_url":"https://api.github.com/users/OuYangJinTing/events{/privacy}","received_events_url":"https://api.github.com/users/OuYangJinTing/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-10-15T13:44:21Z","performed_via_github_app":null},{"id":14657937197,"node_id":"SE_lADNIULOmk52ms8AAAADaa5fLQ","url":"https://api.github.com/repos/rails/rails/issues/events/14657937197","actor":{"login":"OuYangJinTing","id":33079237,"node_id":"MDQ6VXNlcjMzMDc5MjM3","avatar_url":"https://avatars.githubusercontent.com/u/33079237?v=4","gravatar_id":"","url":"https://api.github.com/users/OuYangJinTing","html_url":"https://github.com/OuYangJinTing","followers_url":"https://api.github.com/users/OuYangJinTing/followers","following_url":"https://api.github.com/users/OuYangJinTing/following{/other_user}","gists_url":"https://api.github.com/users/OuYangJinTing/gists{/gist_id}","starred_url":"https://api.github.com/users/OuYangJinTing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OuYangJinTing/subscriptions","organizations_url":"https://api.github.com/users/OuYangJinTing/orgs","repos_url":"https://api.github.com/users/OuYangJinTing/repos","events_url":"https://api.github.com/users/OuYangJinTing/events{/privacy}","received_events_url":"https://api.github.com/users/OuYangJinTing/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-10-15T13:44:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2413976446","html_url":"https://github.com/rails/rails/issues/53317#issuecomment-2413976446","issue_url":"https://api.github.com/repos/rails/rails/issues/53317","id":2413976446,"node_id":"IC_kwDNIULOj-Jbfg","user":{"login":"matthewd","id":1034,"node_id":"MDQ6VXNlcjEwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1034?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewd","html_url":"https://github.com/matthewd","followers_url":"https://api.github.com/users/matthewd/followers","following_url":"https://api.github.com/users/matthewd/following{/other_user}","gists_url":"https://api.github.com/users/matthewd/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewd/subscriptions","organizations_url":"https://api.github.com/users/matthewd/orgs","repos_url":"https://api.github.com/users/matthewd/repos","events_url":"https://api.github.com/users/matthewd/events{/privacy}","received_events_url":"https://api.github.com/users/matthewd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-15T13:49:15Z","updated_at":"2024-10-15T13:49:15Z","body":"@kamipo I can't decide whether this is a breaking change we need to be concerned about, or just evidence that we-GitHub were previously misusing the API in a way no-one else is likely to.\r\n\r\n#48139 is for sure the more correct behaviour... it might just be too hard to provide a more gradual transition, even if we wanted to? ü§î ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2413976446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"matthewd","id":1034,"node_id":"MDQ6VXNlcjEwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1034?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewd","html_url":"https://github.com/matthewd","followers_url":"https://api.github.com/users/matthewd/followers","following_url":"https://api.github.com/users/matthewd/following{/other_user}","gists_url":"https://api.github.com/users/matthewd/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewd/subscriptions","organizations_url":"https://api.github.com/users/matthewd/orgs","repos_url":"https://api.github.com/users/matthewd/repos","events_url":"https://api.github.com/users/matthewd/events{/privacy}","received_events_url":"https://api.github.com/users/matthewd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14658026487,"node_id":"MEE_lADNIULOmk52ms8AAAADaa-79w","url":"https://api.github.com/repos/rails/rails/issues/events/14658026487","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-10-15T13:49:16Z","performed_via_github_app":null},{"id":14658026512,"node_id":"SE_lADNIULOmk52ms8AAAADaa-8EA","url":"https://api.github.com/repos/rails/rails/issues/events/14658026512","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-10-15T13:49:16Z","performed_via_github_app":null},{"id":14683334633,"node_id":"MIE_lADNIULOmk52ms8AAAADazHn6Q","url":"https://api.github.com/repos/rails/rails/issues/events/14683334633","actor":{"login":"matthewd","id":1034,"node_id":"MDQ6VXNlcjEwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1034?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewd","html_url":"https://github.com/matthewd","followers_url":"https://api.github.com/users/matthewd/followers","following_url":"https://api.github.com/users/matthewd/following{/other_user}","gists_url":"https://api.github.com/users/matthewd/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewd/subscriptions","organizations_url":"https://api.github.com/users/matthewd/orgs","repos_url":"https://api.github.com/users/matthewd/repos","events_url":"https://api.github.com/users/matthewd/events{/privacy}","received_events_url":"https://api.github.com/users/matthewd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-10-16T15:42:24Z","milestone":{"title":"8.0.0"},"performed_via_github_app":null},{"id":14692982923,"node_id":"AE_lADNIULOmk52ms8AAAADa8Ugiw","url":"https://api.github.com/repos/rails/rails/issues/events/14692982923","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-10-17T05:24:26Z","assignee":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2418531969","html_url":"https://github.com/rails/rails/issues/53317#issuecomment-2418531969","issue_url":"https://api.github.com/repos/rails/rails/issues/53317","id":2418531969,"node_id":"IC_kwDNIULOkCfegQ","user":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T05:28:09Z","updated_at":"2024-10-17T05:28:09Z","body":"I've identified it is a potential bug of `map_avoiding_infinite_recursion` introduced at 5bb26008ce7c979a87f0d8aef0dd10514838787f.\r\nI'll make a fix soon.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2418531969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2419444753","html_url":"https://github.com/rails/rails/issues/53317#issuecomment-2419444753","issue_url":"https://api.github.com/repos/rails/rails/issues/53317","id":2419444753,"node_id":"IC_kwDNIULOkDXMEQ","user":{"login":"matthewd","id":1034,"node_id":"MDQ6VXNlcjEwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1034?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewd","html_url":"https://github.com/matthewd","followers_url":"https://api.github.com/users/matthewd/followers","following_url":"https://api.github.com/users/matthewd/following{/other_user}","gists_url":"https://api.github.com/users/matthewd/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewd/subscriptions","organizations_url":"https://api.github.com/users/matthewd/orgs","repos_url":"https://api.github.com/users/matthewd/repos","events_url":"https://api.github.com/users/matthewd/events{/privacy}","received_events_url":"https://api.github.com/users/matthewd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T12:43:22Z","updated_at":"2024-10-17T12:43:22Z","body":"Ah, I hadn't considered that it might be something specific to the fact it's a DateTime value -- interesting! ü§î \r\n\r\nI think my general concern is whether there are going to be other instances of the more broad situation, which is just \"application is currently providing a value that [works when serialized, but] converts to a different stored value when we `cast` it first\". Our integer-into-nil case is extreme, but I wonder if there could be others.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2419444753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"matthewd","id":1034,"node_id":"MDQ6VXNlcjEwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1034?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewd","html_url":"https://github.com/matthewd","followers_url":"https://api.github.com/users/matthewd/followers","following_url":"https://api.github.com/users/matthewd/following{/other_user}","gists_url":"https://api.github.com/users/matthewd/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewd/subscriptions","organizations_url":"https://api.github.com/users/matthewd/orgs","repos_url":"https://api.github.com/users/matthewd/repos","events_url":"https://api.github.com/users/matthewd/events{/privacy}","received_events_url":"https://api.github.com/users/matthewd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14712059114,"node_id":"REFE_lADNIULOmk52ms8AAAADbOg06g","url":"https://api.github.com/repos/rails/rails/issues/events/14712059114","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c4264d69a837f14e506e7b764cfe4ffa02e59dae","commit_url":"https://api.github.com/repos/kamipo/rails/commits/c4264d69a837f14e506e7b764cfe4ffa02e59dae","created_at":"2024-10-18T05:29:08Z","performed_via_github_app":null},{"actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T05:30:25Z","updated_at":"2024-10-18T05:30:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rails/rails/issues/53359","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/53359/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/53359/comments","events_url":"https://api.github.com/repos/rails/rails/issues/53359/events","html_url":"https://github.com/rails/rails/pull/53359","id":2596457103,"node_id":"PR_kwDNIULOfw1wRA","number":53359,"title":"Fix time zone-aware custom attributes not to hit the circuit breaker for infinite recursion","user":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":107190,"node_id":"MDU6TGFiZWwxMDcxOTA=","url":"https://api.github.com/repos/rails/rails/labels/activemodel","name":"activemodel","color":"00E5FF","default":false,"description":null},{"id":107191,"node_id":"MDU6TGFiZWwxMDcxOTE=","url":"https://api.github.com/repos/rails/rails/labels/activerecord","name":"activerecord","color":"0b02e1","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-18T05:30:24Z","updated_at":"2024-10-19T00:22:02Z","closed_at":"2024-10-19T00:21:59Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":8514,"node_id":"MDEwOlJlcG9zaXRvcnk4NTE0","name":"rails","full_name":"rails/rails","private":false,"owner":{"login":"rails","id":4223,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQyMjM=","avatar_url":"https://avatars.githubusercontent.com/u/4223?v=4","gravatar_id":"","url":"https://api.github.com/users/rails","html_url":"https://github.com/rails","followers_url":"https://api.github.com/users/rails/followers","following_url":"https://api.github.com/users/rails/following{/other_user}","gists_url":"https://api.github.com/users/rails/gists{/gist_id}","starred_url":"https://api.github.com/users/rails/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails/subscriptions","organizations_url":"https://api.github.com/users/rails/orgs","repos_url":"https://api.github.com/users/rails/repos","events_url":"https://api.github.com/users/rails/events{/privacy}","received_events_url":"https://api.github.com/users/rails/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rails/rails","description":"Ruby on Rails","fork":false,"url":"https://api.github.com/repos/rails/rails","forks_url":"https://api.github.com/repos/rails/rails/forks","keys_url":"https://api.github.com/repos/rails/rails/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rails/rails/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rails/rails/teams","hooks_url":"https://api.github.com/repos/rails/rails/hooks","issue_events_url":"https://api.github.com/repos/rails/rails/issues/events{/number}","events_url":"https://api.github.com/repos/rails/rails/events","assignees_url":"https://api.github.com/repos/rails/rails/assignees{/user}","branches_url":"https://api.github.com/repos/rails/rails/branches{/branch}","tags_url":"https://api.github.com/repos/rails/rails/tags","blobs_url":"https://api.github.com/repos/rails/rails/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rails/rails/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rails/rails/git/refs{/sha}","trees_url":"https://api.github.com/repos/rails/rails/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rails/rails/statuses/{sha}","languages_url":"https://api.github.com/repos/rails/rails/languages","stargazers_url":"https://api.github.com/repos/rails/rails/stargazers","contributors_url":"https://api.github.com/repos/rails/rails/contributors","subscribers_url":"https://api.github.com/repos/rails/rails/subscribers","subscription_url":"https://api.github.com/repos/rails/rails/subscription","commits_url":"https://api.github.com/repos/rails/rails/commits{/sha}","git_commits_url":"https://api.github.com/repos/rails/rails/git/commits{/sha}","comments_url":"https://api.github.com/repos/rails/rails/comments{/number}","issue_comment_url":"https://api.github.com/repos/rails/rails/issues/comments{/number}","contents_url":"https://api.github.com/repos/rails/rails/contents/{+path}","compare_url":"https://api.github.com/repos/rails/rails/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rails/rails/merges","archive_url":"https://api.github.com/repos/rails/rails/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rails/rails/downloads","issues_url":"https://api.github.com/repos/rails/rails/issues{/number}","pulls_url":"https://api.github.com/repos/rails/rails/pulls{/number}","milestones_url":"https://api.github.com/repos/rails/rails/milestones{/number}","notifications_url":"https://api.github.com/repos/rails/rails/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rails/rails/labels{/name}","releases_url":"https://api.github.com/repos/rails/rails/releases{/id}","deployments_url":"https://api.github.com/repos/rails/rails/deployments","created_at":"2008-04-11T02:19:47Z","updated_at":"2025-11-10T02:03:47Z","pushed_at":"2025-11-10T00:33:52Z","git_url":"git://github.com/rails/rails.git","ssh_url":"git@github.com:rails/rails.git","clone_url":"https://github.com/rails/rails.git","svn_url":"https://github.com/rails/rails","homepage":"https://rubyonrails.org","size":271619,"stargazers_count":57840,"watchers_count":57840,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":22025,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1341,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["activejob","activerecord","framework","html","mvc","rails","ruby"],"visibility":"public","forks":22025,"open_issues":1341,"watchers":57840,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rails/rails/pulls/53359","html_url":"https://github.com/rails/rails/pull/53359","diff_url":"https://github.com/rails/rails/pull/53359.diff","patch_url":"https://github.com/rails/rails/pull/53359.patch","merged_at":"2024-10-19T00:21:58Z"},"body":"When `time_zone_aware_attributes = true` and a type is included in `time_zone_aware_types`, that type is wrapped by `TimeZoneConverter`.\r\n\r\nhttps://github.com/rails/rails/blob/e71a6d410e57589fc9e4b13c918eed427c936152/activerecord/lib/active_record/attribute_methods/time_zone_conversion.rb#L77-L90\r\n\r\n302e9235 was to work `TimeZoneConverter` on `tsrange` and `tstzrange` types, but that commit mistakenly yield the subtype processing even for types other than array/range, causing an infinite recursion.\r\n\r\nTo address that infinite recursion, 5bb26008 introduced the circuit breaker `map_avoiding_infinite_recursion`, hitting the circuit breaker unintentionally is why wrapped `custom_type.cast(timestamp.to_i)` for a time zone-aware custom type in #53317 returns nil when `time_zone_aware_attributes = true`.\r\n\r\nThis makes that yield the subtype processing only for array/range types, and removes the circuit breaker `map_avoiding_infinite_recursion`, so that `type.cast(...)` on a time zone-aware type returns a consistent value whether or not `time_zone_aware_attributes = true` is set.\r\n\r\nFixes #53317.\r\n","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/53359/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rails/rails/issues/53359/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14712324609,"node_id":"REFE_lADNIULOmk52ms8AAAADbOxCAQ","url":"https://api.github.com/repos/rails/rails/issues/events/14712324609","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1bfbd4624d853acff67d9b8699ddde9d010d133f","commit_url":"https://api.github.com/repos/kamipo/rails/commits/1bfbd4624d853acff67d9b8699ddde9d010d133f","created_at":"2024-10-18T05:58:25Z","performed_via_github_app":null},{"id":14714558510,"node_id":"REFE_lADNIULOmk52ms8AAAADbQ5YLg","url":"https://api.github.com/repos/rails/rails/issues/events/14714558510","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6805fab018dee25dafe64e59369574fab2017398","commit_url":"https://api.github.com/repos/kamipo/rails/commits/6805fab018dee25dafe64e59369574fab2017398","created_at":"2024-10-18T08:05:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2422022487","html_url":"https://github.com/rails/rails/issues/53317#issuecomment-2422022487","issue_url":"https://api.github.com/repos/rails/rails/issues/53317","id":2422022487,"node_id":"IC_kwDNIULOkF0hVw","user":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T09:56:13Z","updated_at":"2024-10-18T09:56:13Z","body":"I've made a fix #53359.\r\n\r\nI see your concern, so I checked all attribute types which are provided by us.\r\n\r\nhttps://github.com/rails/rails/blob/e71a6d410e57589fc9e4b13c918eed427c936152/activemodel/lib/active_model/type/value.rb#L37-L59\r\nhttps://github.com/rails/rails/blob/e71a6d410e57589fc9e4b13c918eed427c936152/activemodel/lib/active_model/type/value.rb#L149-L154\r\n\r\nSince `Type::Value#deserialize` method is defined as `def deserialize(value) = cast(value)`, almost all our provided types define `cast` or `cast_value`\r\n\r\n(except `OID::Bytea` (use `unescape_bytea` to the raw input from database), and types that include `Mutable` helper such as `Json` (`Mutable` helper provides `def cast(value) = deserialize(serialize(value))`, so requires `deserialize` or `cast` over-ridden),\r\n\r\nso when valid serialized values are given, all our provided both `cast` and `deserialize` can properly type-cast that values to Ruby world's objects.\r\n\r\nThe integer-into-nil case is a bug which will be fixed by #53359. At least it is possible to override only `deserialize` (but borrow `cast` from the original type) to make it behave asymmetrically as `cast`, but if any users create an asymmetry that makes it impossible to cast valid serialized values, `Post.insert!({ expires_at: serialized_value })` does work but `Post.create!(expires_at: serialized_value)` does not.\r\n\r\nSo I don't suppose there are any users who are using custom types that cannot cast valid serialized values, but we could conservatively fall back to the original value.\r\n\r\n```diff\r\ndiff --git a/activerecord/lib/active_record/insert_all.rb b/activerecord/lib/active_record/insert_all.rb\r\nindex 66a6c3204b..82bff4212d 100644\r\n--- a/activerecord/lib/active_record/insert_all.rb\r\n+++ b/activerecord/lib/active_record/insert_all.rb\r\n@@ -240,7 +240,7 @@ def values_list\r\n \r\n           values_list = insert_all.map_key_with_value do |key, value|\r\n             next value if Arel::Nodes::SqlLiteral === value\r\n-            types[key].serialize(types[key].cast(value))\r\n+            types[key].serialize(types[key].cast(value) || value)\r\n           end\r\n \r\n           connection.visitor.compile(Arel::Nodes::ValuesList.new(values_list))\r\n```\r\n\r\nDo you think we should do that?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2422022487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14716967755,"node_id":"REFE_lADNIULOmk52ms8AAAADbTMbSw","url":"https://api.github.com/repos/rails/rails/issues/events/14716967755","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3a276f787a7babc7101f8b90629bb342989e46d9","commit_url":"https://api.github.com/repos/kamipo/rails/commits/3a276f787a7babc7101f8b90629bb342989e46d9","created_at":"2024-10-18T10:07:58Z","performed_via_github_app":null},{"id":14717039058,"node_id":"REFE_lADNIULOmk52ms8AAAADbTQx0g","url":"https://api.github.com/repos/rails/rails/issues/events/14717039058","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e875b2df0147b12d129ecce763c9cd5cd7ef8862","commit_url":"https://api.github.com/repos/kamipo/rails/commits/e875b2df0147b12d129ecce763c9cd5cd7ef8862","created_at":"2024-10-18T10:12:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2422968125","html_url":"https://github.com/rails/rails/issues/53317#issuecomment-2422968125","issue_url":"https://api.github.com/repos/rails/rails/issues/53317","id":2422968125,"node_id":"IC_kwDNIULOkGuPPQ","user":{"login":"matthewd","id":1034,"node_id":"MDQ6VXNlcjEwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1034?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewd","html_url":"https://github.com/matthewd","followers_url":"https://api.github.com/users/matthewd/followers","following_url":"https://api.github.com/users/matthewd/following{/other_user}","gists_url":"https://api.github.com/users/matthewd/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewd/subscriptions","organizations_url":"https://api.github.com/users/matthewd/orgs","repos_url":"https://api.github.com/users/matthewd/repos","events_url":"https://api.github.com/users/matthewd/events{/privacy}","received_events_url":"https://api.github.com/users/matthewd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T17:54:58Z","updated_at":"2024-10-18T17:54:58Z","body":"> `Post.insert!({ expires_at: serialized_value })` does work but `Post.create!(expires_at: serialized_value)` does not\r\n\r\nYeah.. I was definitely surprised to realise that that was our situation -- I assume our call sites had added the `to_i` specifically as a work-around for the previously-missing `cast`.\r\n\r\n> we could conservatively fall back to the original value\r\n\r\nThat would have helped in this particular situation, because the extra `cast` was producing a `nil`, but I don't think that would be the general case.\r\n\r\nAgree that [apart from identified #53359 üôáüèª‚Äç‚ôÇÔ∏è] our internal types would expect to work with the addition of a \"bonus\" `cast`, even where (as in our example `to_i` situation) the current callsite has implemented the first cast manually... and that's probably the best we can do.\r\n\r\n> Do you think we should do that?\r\n\r\nNo, thanks for talking it through with me. I think #48139 is doing the right thing as is. There is some chance that someone might have an arguably-broken custom Type that would have a problem here during an upgrade, but I don't think there's anything we can do about that beyond apologising (üëãüèª future readers üòÖ), and recommending that `cast` should generally work for an already-cast value.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2422968125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"matthewd","id":1034,"node_id":"MDQ6VXNlcjEwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1034?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewd","html_url":"https://github.com/matthewd","followers_url":"https://api.github.com/users/matthewd/followers","following_url":"https://api.github.com/users/matthewd/following{/other_user}","gists_url":"https://api.github.com/users/matthewd/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewd/subscriptions","organizations_url":"https://api.github.com/users/matthewd/orgs","repos_url":"https://api.github.com/users/matthewd/repos","events_url":"https://api.github.com/users/matthewd/events{/privacy}","received_events_url":"https://api.github.com/users/matthewd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14728511143,"node_id":"CE_lADNIULOmk52ms8AAAADbeM-pw","url":"https://api.github.com/repos/rails/rails/issues/events/14728511143","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-10-19T00:22:00Z","state_reason":null,"performed_via_github_app":null},{"id":14728511150,"node_id":"CE_lADNIULOmk52ms8AAAADbeM-rg","url":"https://api.github.com/repos/rails/rails/issues/events/14728511150","actor":{"login":"kamipo","id":12642,"node_id":"MDQ6VXNlcjEyNjQy","avatar_url":"https://avatars.githubusercontent.com/u/12642?v=4","gravatar_id":"","url":"https://api.github.com/users/kamipo","html_url":"https://github.com/kamipo","followers_url":"https://api.github.com/users/kamipo/followers","following_url":"https://api.github.com/users/kamipo/following{/other_user}","gists_url":"https://api.github.com/users/kamipo/gists{/gist_id}","starred_url":"https://api.github.com/users/kamipo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamipo/subscriptions","organizations_url":"https://api.github.com/users/kamipo/orgs","repos_url":"https://api.github.com/users/kamipo/repos","events_url":"https://api.github.com/users/kamipo/events{/privacy}","received_events_url":"https://api.github.com/users/kamipo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"e875b2df0147b12d129ecce763c9cd5cd7ef8862","commit_url":"https://api.github.com/repos/rails/rails/commits/e875b2df0147b12d129ecce763c9cd5cd7ef8862","created_at":"2024-10-19T00:22:00Z","state_reason":null,"performed_via_github_app":null}]