[{"id":12308433036,"node_id":"UE_lADNIULOhAnUns8AAAAC3aPIjA","url":"https://api.github.com/repos/rails/rails/issues/events/12308433036","actor":{"login":"dmcge","id":85393840,"node_id":"MDQ6VXNlcjg1MzkzODQw","avatar_url":"https://avatars.githubusercontent.com/u/85393840?v=4","gravatar_id":"","url":"https://api.github.com/users/dmcge","html_url":"https://github.com/dmcge","followers_url":"https://api.github.com/users/dmcge/followers","following_url":"https://api.github.com/users/dmcge/following{/other_user}","gists_url":"https://api.github.com/users/dmcge/gists{/gist_id}","starred_url":"https://api.github.com/users/dmcge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmcge/subscriptions","organizations_url":"https://api.github.com/users/dmcge/orgs","repos_url":"https://api.github.com/users/dmcge/repos","events_url":"https://api.github.com/users/dmcge/events{/privacy}","received_events_url":"https://api.github.com/users/dmcge/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unsubscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-01T08:52:08Z","performed_via_github_app":null},{"id":12321347734,"node_id":"LE_lADNIULOhAnUns8AAAAC3mjYlg","url":"https://api.github.com/repos/rails/rails/issues/events/12321347734","actor":{"login":"yahonda","id":73684,"node_id":"MDQ6VXNlcjczNjg0","avatar_url":"https://avatars.githubusercontent.com/u/73684?v=4","gravatar_id":"","url":"https://api.github.com/users/yahonda","html_url":"https://github.com/yahonda","followers_url":"https://api.github.com/users/yahonda/followers","following_url":"https://api.github.com/users/yahonda/following{/other_user}","gists_url":"https://api.github.com/users/yahonda/gists{/gist_id}","starred_url":"https://api.github.com/users/yahonda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahonda/subscriptions","organizations_url":"https://api.github.com/users/yahonda/orgs","repos_url":"https://api.github.com/users/yahonda/repos","events_url":"https://api.github.com/users/yahonda/events{/privacy}","received_events_url":"https://api.github.com/users/yahonda/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-04-02T08:33:29Z","label":{"name":"activerecord","color":"0b02e1"},"performed_via_github_app":null},{"id":12321347746,"node_id":"LE_lADNIULOhAnUns8AAAAC3mjYog","url":"https://api.github.com/repos/rails/rails/issues/events/12321347746","actor":{"login":"yahonda","id":73684,"node_id":"MDQ6VXNlcjczNjg0","avatar_url":"https://avatars.githubusercontent.com/u/73684?v=4","gravatar_id":"","url":"https://api.github.com/users/yahonda","html_url":"https://github.com/yahonda","followers_url":"https://api.github.com/users/yahonda/followers","following_url":"https://api.github.com/users/yahonda/following{/other_user}","gists_url":"https://api.github.com/users/yahonda/gists{/gist_id}","starred_url":"https://api.github.com/users/yahonda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahonda/subscriptions","organizations_url":"https://api.github.com/users/yahonda/orgs","repos_url":"https://api.github.com/users/yahonda/repos","events_url":"https://api.github.com/users/yahonda/events{/privacy}","received_events_url":"https://api.github.com/users/yahonda/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-04-02T08:33:29Z","label":{"name":"PostgreSQL","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2033015072","html_url":"https://github.com/rails/rails/issues/51448#issuecomment-2033015072","issue_url":"https://api.github.com/repos/rails/rails/issues/51448","id":2033015072,"node_id":"IC_kwDNIULOeS1ZIA","user":{"login":"rebase-master","id":2090011,"node_id":"MDQ6VXNlcjIwOTAwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/2090011?v=4","gravatar_id":"","url":"https://api.github.com/users/rebase-master","html_url":"https://github.com/rebase-master","followers_url":"https://api.github.com/users/rebase-master/followers","following_url":"https://api.github.com/users/rebase-master/following{/other_user}","gists_url":"https://api.github.com/users/rebase-master/gists{/gist_id}","starred_url":"https://api.github.com/users/rebase-master/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rebase-master/subscriptions","organizations_url":"https://api.github.com/users/rebase-master/orgs","repos_url":"https://api.github.com/users/rebase-master/repos","events_url":"https://api.github.com/users/rebase-master/events{/privacy}","received_events_url":"https://api.github.com/users/rebase-master/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-02T20:14:08Z","updated_at":"2024-04-02T20:14:08Z","body":"@bogdan Correct me if you think I am wrong but I don't think this is an issue with Rails/Activerecord. \r\nIf I understood you correctly, what you are trying to do from this statement:\r\n```\r\nvalue = ActiveRecord::Base.connection.select_value(\r\n      \"select cast('2024-01-01' as date)\"\r\n    )\r\nassert_equal Date.new(2024, 01, 01), value\r\n```\r\nis to extract the date from the database by casting it as date and comparing it with a Date object. I don't think that's the right way to go about it.\r\n\r\n`Date.new(2024, 01, 01)` gives you a date object and your ActiveRecord query is giving you a string. So the comparison will fail. What you can do is to parse the date result from ActiveRecord and then compare it against the date object:\r\n\r\n`assert_equal Date.new(2024, 01, 01), Date.parse(value)`. \r\n\r\nAdditionally, since `Date.new(2024, 01, 01)` object will give you `Mon, 01 Jan 2024` so you need to have the same format of date returned from ActiveRecord. You can do this in the following way:\r\n```\r\nvalue = ActiveRecord::Base.connection.select_value(\r\n   \"SELECT TO_CHAR(DATE '2024-01-01', 'Dy, DD Mon YYYY');\"\r\n  )\r\n```\r\nNow if you compare the two dates: \r\n```\r\nassert_equal Date.new(2024, 01, 01), Date.parse(value)\r\n```\r\n, it should be equal.\r\n\r\nLet me know if that works for you.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2033015072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rebase-master","id":2090011,"node_id":"MDQ6VXNlcjIwOTAwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/2090011?v=4","gravatar_id":"","url":"https://api.github.com/users/rebase-master","html_url":"https://github.com/rebase-master","followers_url":"https://api.github.com/users/rebase-master/followers","following_url":"https://api.github.com/users/rebase-master/following{/other_user}","gists_url":"https://api.github.com/users/rebase-master/gists{/gist_id}","starred_url":"https://api.github.com/users/rebase-master/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rebase-master/subscriptions","organizations_url":"https://api.github.com/users/rebase-master/orgs","repos_url":"https://api.github.com/users/rebase-master/repos","events_url":"https://api.github.com/users/rebase-master/events{/privacy}","received_events_url":"https://api.github.com/users/rebase-master/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12331601764,"node_id":"MEE_lADNIULOhAnUns8AAAAC3wVPZA","url":"https://api.github.com/repos/rails/rails/issues/events/12331601764","actor":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-02T20:14:10Z","performed_via_github_app":null},{"id":12331601775,"node_id":"SE_lADNIULOhAnUns8AAAAC3wVPbw","url":"https://api.github.com/repos/rails/rails/issues/events/12331601775","actor":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-02T20:14:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2033316303","html_url":"https://github.com/rails/rails/issues/51448#issuecomment-2033316303","issue_url":"https://api.github.com/repos/rails/rails/issues/51448","id":2033316303,"node_id":"IC_kwDNIULOeTHxzw","user":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T00:18:41Z","updated_at":"2024-04-03T00:18:41Z","body":"@bogdan This is not a bug in Rails. `select_value` is a pretty low level API. \r\n\r\nIt unpacks the result object from the raw underlying connection adapter, but it doesn't convert or interpret types of the _results_ (It does type casting for params/bindings). \r\n\r\nWhen trying with the Mysql2 adapter, dates are parsed to a Ruby Date object, because the `Mysql2` gem itself is doing it inside the C extension. \r\n\r\nThe PG gems does [support mechanism for type casting](https://github.com/ramfjord/ruby-pg/blob/3c87f0cb3edf9df45e311a90a4056a598ed72983/spec/pg/basic_type_mapping_spec.rb#L49-L64), but those are never called by `select_value`. \r\n\r\nYou can cast the result by passing it to:  `ActiveModel::Type::Date.new.cast`.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2033316303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12333434985,"node_id":"MEE_lADNIULOhAnUns8AAAAC3yFIaQ","url":"https://api.github.com/repos/rails/rails/issues/events/12333434985","actor":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-03T00:18:43Z","performed_via_github_app":null},{"id":12333434989,"node_id":"SE_lADNIULOhAnUns8AAAAC3yFIbQ","url":"https://api.github.com/repos/rails/rails/issues/events/12333434989","actor":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-03T00:18:43Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2033809189","html_url":"https://github.com/rails/rails/issues/51448#issuecomment-2033809189","issue_url":"https://api.github.com/repos/rails/rails/issues/51448","id":2033809189,"node_id":"IC_kwDNIULOeTl3JQ","user":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T07:54:06Z","updated_at":"2024-04-03T07:54:06Z","body":"Ok, so I tried a few tests using `pg` directly:\r\n\r\n``` ruby\r\nrequire 'pg'\r\n\r\n# Replace these with your actual database credentials\r\ndbname = 'rails_test'\r\nuser = 'bogdan'\r\npassword = nil\r\nhost = 'localhost'  # or the appropriate host\r\n\r\n# Establish a connection to the database\r\nconn = PG.connect(dbname: dbname, user: user, password: password, host: host)\r\n\r\n# Execute a query\r\nquery = \"select cast('2024-01-01' as date)\"\r\nputs conn.exec(query).to_a.inspect\r\nquery = \"select cast('2024-01-01' as timestamp)\"\r\nputs conn.exec(query).to_a.inspect\r\n\r\n# Close the database connection\r\nconn.close\r\n```\r\n\r\nOutputs:\r\n\r\n```\r\n[{\"date\"=>\"2024-01-01\"}]\r\n[{\"timestamp\"=>\"2024-01-01 00:00:00\"}]\r\n```\r\n\r\nWhich means that it doens't perform typecast neither for timestamp nor for date.\r\nBut `select_value` does perform typecast only for timestamp:\r\n\r\n```\r\nActiveRecord::Base.connection.select_value(\"  SELECT '2024-01-01'::timestamp \")\r\n# => 2024-01-01 00:00:00 UTC\r\n ActiveRecord::Base.connection.select_value(\"  SELECT '2024-01-01'::date \")\r\n# => \"2024-01-01\"\r\n```\r\n\r\nIf so, who is performing typecast for `timestamp` within ActiveRecord and why it should do it only for `timestamp` but not for `date`?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2033809189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2035083919","html_url":"https://github.com/rails/rails/issues/51448#issuecomment-2035083919","issue_url":"https://api.github.com/repos/rails/rails/issues/51448","id":2035083919,"node_id":"IC_kwDNIULOeUzqjw","user":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T16:39:46Z","updated_at":"2024-04-03T16:39:46Z","body":"Interesting. I missed this because the typecasting doesn't happen inside of Rails, but Rails [does add some decoders to the connection when initializing it.](https://github.com/rails/rails/blob/main/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb#L1151-L1162)\r\n\r\nThe impact radius is pretty big, just adding date here works, but could break a bunch of stuff downstream. \r\nPerhaps it can be added, we already have timestamp after all, but we wouldn't want an expectation of type casting at this point since all adapters would have to support it. \r\n\r\nI'll check if it blows up the test suite later.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2035083919/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12349654476,"node_id":"REFE_lADNIULOhAnUns8AAAAC4BjFzA","url":"https://api.github.com/repos/rails/rails/issues/events/12349654476","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4040d06af4f715392bead0a41a3938f95a650112","commit_url":"https://api.github.com/repos/JoeDupuis/rails/commits/4040d06af4f715392bead0a41a3938f95a650112","created_at":"2024-04-03T23:51:38Z","performed_via_github_app":null},{"id":12349731974,"node_id":"REFE_lADNIULOhAnUns8AAAAC4Bn0hg","url":"https://api.github.com/repos/rails/rails/issues/events/12349731974","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ea64815caf8318dfad8ce7c589dc87213c0b330c","commit_url":"https://api.github.com/repos/JoeDupuis/rails/commits/ea64815caf8318dfad8ce7c589dc87213c0b330c","created_at":"2024-04-04T00:07:58Z","performed_via_github_app":null},{"actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T00:27:33Z","updated_at":"2024-04-04T00:27:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rails/rails/issues/51483","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/51483/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/51483/comments","events_url":"https://api.github.com/repos/rails/rails/issues/51483/events","html_url":"https://github.com/rails/rails/pull/51483","id":2224165865,"node_id":"PR_kwDNIULOa6KL8g","number":51483,"title":"Add a Date decoder to the pg adapter ","user":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":107191,"node_id":"MDU6TGFiZWwxMDcxOTE=","url":"https://api.github.com/repos/rails/rails/labels/activerecord","name":"activerecord","color":"0b02e1","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2024-04-04T00:27:33Z","updated_at":"2024-05-08T04:15:08Z","closed_at":"2024-04-30T11:32:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":8514,"node_id":"MDEwOlJlcG9zaXRvcnk4NTE0","name":"rails","full_name":"rails/rails","private":false,"owner":{"login":"rails","id":4223,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQyMjM=","avatar_url":"https://avatars.githubusercontent.com/u/4223?v=4","gravatar_id":"","url":"https://api.github.com/users/rails","html_url":"https://github.com/rails","followers_url":"https://api.github.com/users/rails/followers","following_url":"https://api.github.com/users/rails/following{/other_user}","gists_url":"https://api.github.com/users/rails/gists{/gist_id}","starred_url":"https://api.github.com/users/rails/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails/subscriptions","organizations_url":"https://api.github.com/users/rails/orgs","repos_url":"https://api.github.com/users/rails/repos","events_url":"https://api.github.com/users/rails/events{/privacy}","received_events_url":"https://api.github.com/users/rails/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rails/rails","description":"Ruby on Rails","fork":false,"url":"https://api.github.com/repos/rails/rails","forks_url":"https://api.github.com/repos/rails/rails/forks","keys_url":"https://api.github.com/repos/rails/rails/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rails/rails/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rails/rails/teams","hooks_url":"https://api.github.com/repos/rails/rails/hooks","issue_events_url":"https://api.github.com/repos/rails/rails/issues/events{/number}","events_url":"https://api.github.com/repos/rails/rails/events","assignees_url":"https://api.github.com/repos/rails/rails/assignees{/user}","branches_url":"https://api.github.com/repos/rails/rails/branches{/branch}","tags_url":"https://api.github.com/repos/rails/rails/tags","blobs_url":"https://api.github.com/repos/rails/rails/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rails/rails/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rails/rails/git/refs{/sha}","trees_url":"https://api.github.com/repos/rails/rails/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rails/rails/statuses/{sha}","languages_url":"https://api.github.com/repos/rails/rails/languages","stargazers_url":"https://api.github.com/repos/rails/rails/stargazers","contributors_url":"https://api.github.com/repos/rails/rails/contributors","subscribers_url":"https://api.github.com/repos/rails/rails/subscribers","subscription_url":"https://api.github.com/repos/rails/rails/subscription","commits_url":"https://api.github.com/repos/rails/rails/commits{/sha}","git_commits_url":"https://api.github.com/repos/rails/rails/git/commits{/sha}","comments_url":"https://api.github.com/repos/rails/rails/comments{/number}","issue_comment_url":"https://api.github.com/repos/rails/rails/issues/comments{/number}","contents_url":"https://api.github.com/repos/rails/rails/contents/{+path}","compare_url":"https://api.github.com/repos/rails/rails/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rails/rails/merges","archive_url":"https://api.github.com/repos/rails/rails/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rails/rails/downloads","issues_url":"https://api.github.com/repos/rails/rails/issues{/number}","pulls_url":"https://api.github.com/repos/rails/rails/pulls{/number}","milestones_url":"https://api.github.com/repos/rails/rails/milestones{/number}","notifications_url":"https://api.github.com/repos/rails/rails/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rails/rails/labels{/name}","releases_url":"https://api.github.com/repos/rails/rails/releases{/id}","deployments_url":"https://api.github.com/repos/rails/rails/deployments","created_at":"2008-04-11T02:19:47Z","updated_at":"2025-11-10T02:03:47Z","pushed_at":"2025-11-10T00:33:52Z","git_url":"git://github.com/rails/rails.git","ssh_url":"git@github.com:rails/rails.git","clone_url":"https://github.com/rails/rails.git","svn_url":"https://github.com/rails/rails","homepage":"https://rubyonrails.org","size":271619,"stargazers_count":57840,"watchers_count":57840,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":22025,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1341,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["activejob","activerecord","framework","html","mvc","rails","ruby"],"visibility":"public","forks":22025,"open_issues":1341,"watchers":57840,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rails/rails/pulls/51483","html_url":"https://github.com/rails/rails/pull/51483","diff_url":"https://github.com/rails/rails/pull/51483.diff","patch_url":"https://github.com/rails/rails/pull/51483.patch","merged_at":"2024-04-30T11:32:07Z"},"body":"Fix #51448\r\n\r\nAdd a Date decoder to the pg adapter to type cast dates at the connection level\r\n\r\nThis would type cast columns of type `date` to ruby `Date` when running a raw query through `ActiveRecord::Base.connection.select_all`.\r\n\r\nBefore:\r\n\r\n```ruby\r\nActiveRecord::Base.connection.select_value(\"select '2024-01-01'::date\").class \r\n#=> String\r\n```\r\n\r\nAfter:\r\n```ruby\r\nActiveRecord::Base.connection.select_value(\"select '2024-01-01'::date\").class \r\n#=>  Date \r\n```\r\n\r\n\r\nWhile I don't think we'd want to to set a type cast expectation at this level (not all adapters have dates), this would brings the PG adapter to parity (for dates) with the Mysql2 adapter. \r\n\r\nWe already convert timestamp, it would makes sense to also convert dates. \r\n\r\nI wasn't sure if I should add a test. I am thinking that a test sets an expectation about type casting at the adapter level. \r\nThis changes a public API, albeit a pretty low level one, but it seems like we don't test the other types either. I removed timestamps + float/numeric and all tests still pass. \r\n\r\nI added a message in the changelog entry to make sure it doesn't burn anyone. \r\n\r\nUnsure if we should merge this. Impact radius is large, but after digging into it and running the tests, it looks pretty benign.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/51483/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rails/rails/issues/51483/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12349852053,"node_id":"REFE_lADNIULOhAnUns8AAAAC4BvJlQ","url":"https://api.github.com/repos/rails/rails/issues/events/12349852053","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"92f7d37a2ecd43d353bcf81889f1372975dd2a53","commit_url":"https://api.github.com/repos/JoeDupuis/rails/commits/92f7d37a2ecd43d353bcf81889f1372975dd2a53","created_at":"2024-04-04T00:29:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2038051223","html_url":"https://github.com/rails/rails/issues/51448#issuecomment-2038051223","issue_url":"https://api.github.com/repos/rails/rails/issues/51448","id":2038051223,"node_id":"IC_kwDNIULOeXoxlw","user":{"login":"rebase-master","id":2090011,"node_id":"MDQ6VXNlcjIwOTAwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/2090011?v=4","gravatar_id":"","url":"https://api.github.com/users/rebase-master","html_url":"https://github.com/rebase-master","followers_url":"https://api.github.com/users/rebase-master/followers","following_url":"https://api.github.com/users/rebase-master/following{/other_user}","gists_url":"https://api.github.com/users/rebase-master/gists{/gist_id}","starred_url":"https://api.github.com/users/rebase-master/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rebase-master/subscriptions","organizations_url":"https://api.github.com/users/rebase-master/orgs","repos_url":"https://api.github.com/users/rebase-master/repos","events_url":"https://api.github.com/users/rebase-master/events{/privacy}","received_events_url":"https://api.github.com/users/rebase-master/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T19:27:33Z","updated_at":"2024-04-04T19:27:33Z","body":"@bogdan This is what chatGPT is telling me:\r\n\r\nThe difference in return types from these ActiveRecord queries when casting to `Date` and `Timestamp` in PostgreSQL comes down to how ActiveRecord interprets and converts the SQL result sets into Ruby objects, based on the data types returned by PostgreSQL.\r\n\r\n1. **Casting to `Date`**:\r\n   - When you cast a value to `Date` in PostgreSQL and fetch it through ActiveRecord with `select_value`, PostgreSQL returns just a date without time information (`YYYY-MM-DD`).\r\n   - ActiveRecord receives this value and, recognizing it as a simple date string without time information, returns it directly as a string in Ruby. There's no time zone information or time component to consider, which makes it straightforward for ActiveRecord to handle it as a string.\r\n\r\n2. **Casting to `Timestamp`**:\r\n   - Casting to `Timestamp` in PostgreSQL includes both date and time information (`YYYY-MM-DD HH:MM:SS`). When time information is present, PostgreSQL also associates time zone information with the timestamp (even if it's not explicitly set, it uses the default time zone of the server or the session).\r\n   - ActiveRecord sees this as a more complex data type that includes both date and time components. It uses Ruby's `Time` class to represent this type of data because `Time` can accurately represent both date and time, including time zone information.\r\n   - Thus, when you fetch a `Timestamp` value from PostgreSQL through ActiveRecord, ActiveRecord converts it into a Ruby `Time` object, which represents the date, time, and time zone (UTC in this case, if not specified otherwise).\r\n\r\nThis behavior underscores ActiveRecord's design to map SQL data types to Ruby's data types intuitively. For simple dates, a string is often sufficient and follows Ruby's principle of least surprise. For timestamps, which inherently carry more complexity due to the inclusion of time (and potentially time zone), a more capable object like Ruby's `Time` is returned.\r\n\r\nThis automatic conversion facilitates easier manipulation and comparison of date and time values within Ruby, adhering to the conventions of the Ruby language and the expectations of developers working within its ecosystem.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2038051223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rebase-master","id":2090011,"node_id":"MDQ6VXNlcjIwOTAwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/2090011?v=4","gravatar_id":"","url":"https://api.github.com/users/rebase-master","html_url":"https://github.com/rebase-master","followers_url":"https://api.github.com/users/rebase-master/followers","following_url":"https://api.github.com/users/rebase-master/following{/other_user}","gists_url":"https://api.github.com/users/rebase-master/gists{/gist_id}","starred_url":"https://api.github.com/users/rebase-master/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rebase-master/subscriptions","organizations_url":"https://api.github.com/users/rebase-master/orgs","repos_url":"https://api.github.com/users/rebase-master/repos","events_url":"https://api.github.com/users/rebase-master/events{/privacy}","received_events_url":"https://api.github.com/users/rebase-master/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12363654277,"node_id":"MEE_lADNIULOhAnUns8AAAAC4O5khQ","url":"https://api.github.com/repos/rails/rails/issues/events/12363654277","actor":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-04T19:27:35Z","performed_via_github_app":null},{"id":12363654312,"node_id":"SE_lADNIULOhAnUns8AAAAC4O5kqA","url":"https://api.github.com/repos/rails/rails/issues/events/12363654312","actor":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-04T19:27:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2039508057","html_url":"https://github.com/rails/rails/issues/51448#issuecomment-2039508057","issue_url":"https://api.github.com/repos/rails/rails/issues/51448","id":2039508057,"node_id":"IC_kwDNIULOeZBsWQ","user":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-05T10:59:12Z","updated_at":"2024-04-05T10:59:12Z","body":"@rebase-master well, @JoeDupuis's answer looks better to me, really happy that human defeated the machine on this tiny case.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2039508057/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bogdan","id":122436,"node_id":"MDQ6VXNlcjEyMjQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/122436?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdan","html_url":"https://github.com/bogdan","followers_url":"https://api.github.com/users/bogdan/followers","following_url":"https://api.github.com/users/bogdan/following{/other_user}","gists_url":"https://api.github.com/users/bogdan/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdan/subscriptions","organizations_url":"https://api.github.com/users/bogdan/orgs","repos_url":"https://api.github.com/users/bogdan/repos","events_url":"https://api.github.com/users/bogdan/events{/privacy}","received_events_url":"https://api.github.com/users/bogdan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12372036023,"node_id":"MEE_lADNIULOhAnUns8AAAAC4W5Jtw","url":"https://api.github.com/repos/rails/rails/issues/events/12372036023","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-05T10:59:13Z","performed_via_github_app":null},{"id":12372036026,"node_id":"SE_lADNIULOhAnUns8AAAAC4W5Jug","url":"https://api.github.com/repos/rails/rails/issues/events/12372036026","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-05T10:59:13Z","performed_via_github_app":null},{"id":12372036040,"node_id":"MEE_lADNIULOhAnUns8AAAAC4W5JyA","url":"https://api.github.com/repos/rails/rails/issues/events/12372036040","actor":{"login":"rebase-master","id":2090011,"node_id":"MDQ6VXNlcjIwOTAwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/2090011?v=4","gravatar_id":"","url":"https://api.github.com/users/rebase-master","html_url":"https://github.com/rebase-master","followers_url":"https://api.github.com/users/rebase-master/followers","following_url":"https://api.github.com/users/rebase-master/following{/other_user}","gists_url":"https://api.github.com/users/rebase-master/gists{/gist_id}","starred_url":"https://api.github.com/users/rebase-master/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rebase-master/subscriptions","organizations_url":"https://api.github.com/users/rebase-master/orgs","repos_url":"https://api.github.com/users/rebase-master/repos","events_url":"https://api.github.com/users/rebase-master/events{/privacy}","received_events_url":"https://api.github.com/users/rebase-master/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-05T10:59:13Z","performed_via_github_app":null},{"id":12372036048,"node_id":"SE_lADNIULOhAnUns8AAAAC4W5J0A","url":"https://api.github.com/repos/rails/rails/issues/events/12372036048","actor":{"login":"rebase-master","id":2090011,"node_id":"MDQ6VXNlcjIwOTAwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/2090011?v=4","gravatar_id":"","url":"https://api.github.com/users/rebase-master","html_url":"https://github.com/rebase-master","followers_url":"https://api.github.com/users/rebase-master/followers","following_url":"https://api.github.com/users/rebase-master/following{/other_user}","gists_url":"https://api.github.com/users/rebase-master/gists{/gist_id}","starred_url":"https://api.github.com/users/rebase-master/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rebase-master/subscriptions","organizations_url":"https://api.github.com/users/rebase-master/orgs","repos_url":"https://api.github.com/users/rebase-master/repos","events_url":"https://api.github.com/users/rebase-master/events{/privacy}","received_events_url":"https://api.github.com/users/rebase-master/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-05T10:59:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/2040290194","html_url":"https://github.com/rails/rails/issues/51448#issuecomment-2040290194","issue_url":"https://api.github.com/repos/rails/rails/issues/51448","id":2040290194,"node_id":"IC_kwDNIULOeZxbkg","user":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-05T17:17:36Z","updated_at":"2024-04-05T17:17:36Z","body":"> really happy that human defeated the machine\r\n\r\nTake that robot!\r\n\r\n![giphy](https://github.com/rails/rails/assets/1518299/76633f5e-04e0-4e1d-b43a-7ffafde59923)\r\n\r\n\r\nYou probably saw that I submitted a PR #51483 for it already, but it could be rejected.\r\nCasting with `ActiveModel::Type::Date.new.cast` would futureproof your code as it doesn't choke on a date input.\r\n\r\nUnrelated, but I am a big fan of your datagrid gem. Thank you for writing it  ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/2040290194/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12651287668,"node_id":"REFE_lADNIULOhAnUns8AAAAC8hNUdA","url":"https://api.github.com/repos/rails/rails/issues/events/12651287668","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fc9871d5cca335213eefb8b7ead650a0da078331","commit_url":"https://api.github.com/repos/JoeDupuis/rails/commits/fc9871d5cca335213eefb8b7ead650a0da078331","created_at":"2024-04-30T02:08:51Z","performed_via_github_app":null},{"id":12651332789,"node_id":"REFE_lADNIULOhAnUns8AAAAC8hQEtQ","url":"https://api.github.com/repos/rails/rails/issues/events/12651332789","actor":{"login":"JoeDupuis","id":1518299,"node_id":"MDQ6VXNlcjE1MTgyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1518299?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeDupuis","html_url":"https://github.com/JoeDupuis","followers_url":"https://api.github.com/users/JoeDupuis/followers","following_url":"https://api.github.com/users/JoeDupuis/following{/other_user}","gists_url":"https://api.github.com/users/JoeDupuis/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeDupuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeDupuis/subscriptions","organizations_url":"https://api.github.com/users/JoeDupuis/orgs","repos_url":"https://api.github.com/users/JoeDupuis/repos","events_url":"https://api.github.com/users/JoeDupuis/events{/privacy}","received_events_url":"https://api.github.com/users/JoeDupuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2c88c80fc7eca97bfa9becedc79f65187a5b74a5","commit_url":"https://api.github.com/repos/JoeDupuis/rails/commits/2c88c80fc7eca97bfa9becedc79f65187a5b74a5","created_at":"2024-04-30T02:16:25Z","performed_via_github_app":null},{"id":12656508095,"node_id":"CE_lADNIULOhAnUns8AAAAC8mL8vw","url":"https://api.github.com/repos/rails/rails/issues/events/12656508095","actor":{"login":"byroot","id":44640,"node_id":"MDQ6VXNlcjQ0NjQw","avatar_url":"https://avatars.githubusercontent.com/u/44640?v=4","gravatar_id":"","url":"https://api.github.com/users/byroot","html_url":"https://github.com/byroot","followers_url":"https://api.github.com/users/byroot/followers","following_url":"https://api.github.com/users/byroot/following{/other_user}","gists_url":"https://api.github.com/users/byroot/gists{/gist_id}","starred_url":"https://api.github.com/users/byroot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byroot/subscriptions","organizations_url":"https://api.github.com/users/byroot/orgs","repos_url":"https://api.github.com/users/byroot/repos","events_url":"https://api.github.com/users/byroot/events{/privacy}","received_events_url":"https://api.github.com/users/byroot/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-04-30T11:32:08Z","state_reason":null,"performed_via_github_app":null},{"id":12787380311,"node_id":"REFE_lADNIULOhAnUns8AAAAC-i_wVw","url":"https://api.github.com/repos/rails/rails/issues/events/12787380311","actor":{"login":"fractaledmind","id":5077225,"node_id":"MDQ6VXNlcjUwNzcyMjU=","avatar_url":"https://avatars.githubusercontent.com/u/5077225?v=4","gravatar_id":"","url":"https://api.github.com/users/fractaledmind","html_url":"https://github.com/fractaledmind","followers_url":"https://api.github.com/users/fractaledmind/followers","following_url":"https://api.github.com/users/fractaledmind/following{/other_user}","gists_url":"https://api.github.com/users/fractaledmind/gists{/gist_id}","starred_url":"https://api.github.com/users/fractaledmind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fractaledmind/subscriptions","organizations_url":"https://api.github.com/users/fractaledmind/orgs","repos_url":"https://api.github.com/users/fractaledmind/repos","events_url":"https://api.github.com/users/fractaledmind/events{/privacy}","received_events_url":"https://api.github.com/users/fractaledmind/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5122635707a1aa821fc899c9678fe64bb8f98fb8","commit_url":"https://api.github.com/repos/fractaledmind/rails/commits/5122635707a1aa821fc899c9678fe64bb8f98fb8","created_at":"2024-05-13T13:25:50Z","performed_via_github_app":null},{"id":13091796105,"node_id":"REFE_lADNIULOhAnUns8AAAADDFT0iQ","url":"https://api.github.com/repos/rails/rails/issues/events/13091796105","actor":{"login":"xjunior","id":8156,"node_id":"MDQ6VXNlcjgxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/8156?v=4","gravatar_id":"","url":"https://api.github.com/users/xjunior","html_url":"https://github.com/xjunior","followers_url":"https://api.github.com/users/xjunior/followers","following_url":"https://api.github.com/users/xjunior/following{/other_user}","gists_url":"https://api.github.com/users/xjunior/gists{/gist_id}","starred_url":"https://api.github.com/users/xjunior/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xjunior/subscriptions","organizations_url":"https://api.github.com/users/xjunior/orgs","repos_url":"https://api.github.com/users/xjunior/repos","events_url":"https://api.github.com/users/xjunior/events{/privacy}","received_events_url":"https://api.github.com/users/xjunior/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8e4d44331d9f6d2c563762fa16112e2a24b9e7b5","commit_url":"https://api.github.com/repos/xjunior/rails/commits/8e4d44331d9f6d2c563762fa16112e2a24b9e7b5","created_at":"2024-06-09T15:41:53Z","performed_via_github_app":null},{"id":13417922780,"node_id":"REFE_lADNIULOhAnUns8AAAADH8VA3A","url":"https://api.github.com/repos/rails/rails/issues/events/13417922780","actor":{"login":"Set2005","id":209831,"node_id":"MDQ6VXNlcjIwOTgzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/209831?v=4","gravatar_id":"","url":"https://api.github.com/users/Set2005","html_url":"https://github.com/Set2005","followers_url":"https://api.github.com/users/Set2005/followers","following_url":"https://api.github.com/users/Set2005/following{/other_user}","gists_url":"https://api.github.com/users/Set2005/gists{/gist_id}","starred_url":"https://api.github.com/users/Set2005/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Set2005/subscriptions","organizations_url":"https://api.github.com/users/Set2005/orgs","repos_url":"https://api.github.com/users/Set2005/repos","events_url":"https://api.github.com/users/Set2005/events{/privacy}","received_events_url":"https://api.github.com/users/Set2005/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"967b78431ea6828fa13c7387a7f4ea29ed2d73c8","commit_url":"https://api.github.com/repos/Set2005/fix-association-initialize-order/commits/967b78431ea6828fa13c7387a7f4ea29ed2d73c8","created_at":"2024-07-08T05:31:22Z","performed_via_github_app":null}]