[{"id":9755086971,"node_id":"REFE_lADNIULOaucNec8AAAACRXLQew","url":"https://api.github.com/repos/rails/rails/issues/events/9755086971","actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2d205143839024bf251ebc274ae9140bd46bc6be","commit_url":"https://api.github.com/repos/maximerety/rails/commits/2d205143839024bf251ebc274ae9140bd46bc6be","created_at":"2023-07-07T13:15:32Z","performed_via_github_app":null},{"actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-07T13:18:03Z","updated_at":"2023-07-07T13:18:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rails/rails/issues/48686","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/48686/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/48686/comments","events_url":"https://api.github.com/repos/rails/rails/issues/48686/events","html_url":"https://github.com/rails/rails/pull/48686","id":1793537744,"node_id":"PR_kwDNIULOVOrDyQ","number":48686,"title":"[Fix #48685] Make the encryptor agnostic of the type of data to decrypt","user":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":107191,"node_id":"MDU6TGFiZWwxMDcxOTE=","url":"https://api.github.com/repos/rails/rails/labels/activerecord","name":"activerecord","color":"0b02e1","default":false,"description":null},{"id":150377,"node_id":"MDU6TGFiZWwxNTAzNzc=","url":"https://api.github.com/repos/rails/rails/labels/docs","name":"docs","color":"02d7e1","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2023-07-07T13:18:03Z","updated_at":"2024-01-05T18:11:33Z","closed_at":"2024-01-05T18:06:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":8514,"node_id":"MDEwOlJlcG9zaXRvcnk4NTE0","name":"rails","full_name":"rails/rails","private":false,"owner":{"login":"rails","id":4223,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQyMjM=","avatar_url":"https://avatars.githubusercontent.com/u/4223?v=4","gravatar_id":"","url":"https://api.github.com/users/rails","html_url":"https://github.com/rails","followers_url":"https://api.github.com/users/rails/followers","following_url":"https://api.github.com/users/rails/following{/other_user}","gists_url":"https://api.github.com/users/rails/gists{/gist_id}","starred_url":"https://api.github.com/users/rails/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails/subscriptions","organizations_url":"https://api.github.com/users/rails/orgs","repos_url":"https://api.github.com/users/rails/repos","events_url":"https://api.github.com/users/rails/events{/privacy}","received_events_url":"https://api.github.com/users/rails/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rails/rails","description":"Ruby on Rails","fork":false,"url":"https://api.github.com/repos/rails/rails","forks_url":"https://api.github.com/repos/rails/rails/forks","keys_url":"https://api.github.com/repos/rails/rails/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rails/rails/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rails/rails/teams","hooks_url":"https://api.github.com/repos/rails/rails/hooks","issue_events_url":"https://api.github.com/repos/rails/rails/issues/events{/number}","events_url":"https://api.github.com/repos/rails/rails/events","assignees_url":"https://api.github.com/repos/rails/rails/assignees{/user}","branches_url":"https://api.github.com/repos/rails/rails/branches{/branch}","tags_url":"https://api.github.com/repos/rails/rails/tags","blobs_url":"https://api.github.com/repos/rails/rails/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rails/rails/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rails/rails/git/refs{/sha}","trees_url":"https://api.github.com/repos/rails/rails/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rails/rails/statuses/{sha}","languages_url":"https://api.github.com/repos/rails/rails/languages","stargazers_url":"https://api.github.com/repos/rails/rails/stargazers","contributors_url":"https://api.github.com/repos/rails/rails/contributors","subscribers_url":"https://api.github.com/repos/rails/rails/subscribers","subscription_url":"https://api.github.com/repos/rails/rails/subscription","commits_url":"https://api.github.com/repos/rails/rails/commits{/sha}","git_commits_url":"https://api.github.com/repos/rails/rails/git/commits{/sha}","comments_url":"https://api.github.com/repos/rails/rails/comments{/number}","issue_comment_url":"https://api.github.com/repos/rails/rails/issues/comments{/number}","contents_url":"https://api.github.com/repos/rails/rails/contents/{+path}","compare_url":"https://api.github.com/repos/rails/rails/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rails/rails/merges","archive_url":"https://api.github.com/repos/rails/rails/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rails/rails/downloads","issues_url":"https://api.github.com/repos/rails/rails/issues{/number}","pulls_url":"https://api.github.com/repos/rails/rails/pulls{/number}","milestones_url":"https://api.github.com/repos/rails/rails/milestones{/number}","notifications_url":"https://api.github.com/repos/rails/rails/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rails/rails/labels{/name}","releases_url":"https://api.github.com/repos/rails/rails/releases{/id}","deployments_url":"https://api.github.com/repos/rails/rails/deployments","created_at":"2008-04-11T02:19:47Z","updated_at":"2025-11-10T02:03:47Z","pushed_at":"2025-11-10T00:33:52Z","git_url":"git://github.com/rails/rails.git","ssh_url":"git@github.com:rails/rails.git","clone_url":"https://github.com/rails/rails.git","svn_url":"https://github.com/rails/rails","homepage":"https://rubyonrails.org","size":271619,"stargazers_count":57840,"watchers_count":57840,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":22025,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1341,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["activejob","activerecord","framework","html","mvc","rails","ruby"],"visibility":"public","forks":22025,"open_issues":1341,"watchers":57840,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rails/rails/pulls/48686","html_url":"https://github.com/rails/rails/pull/48686","diff_url":"https://github.com/rails/rails/pull/48686.diff","patch_url":"https://github.com/rails/rails/pull/48686.patch","merged_at":null},"body":"### Motivation / Background\r\n\r\nThis Pull Request has been created to fix https://github.com/rails/rails/issues/48685.\r\n\r\n### Detail\r\n\r\n[Fix #48685] Make the encryptor agnostic of the type of data to decrypt\r\n    \r\nThe default message serializer will raise a `TypeError` when invoking `JSON.parse` on any non-`String` input. This error will subsequently be translated into an `ActiveRecord::Encryption::Errors::Encoding` error and then a `ActiveRecord::Encryption::Errors::Decryption` error by the encryptor, which does not change the current behavior at the encryptor level.\r\n\r\nThis change clarifies that it is the role of the underlying serializer to accept or reject the data to decrypt depending on its type. This behavior mirrors what is done at encryption, where the serializer asserts that the input is an `ActiveRecord::Encryption::Message`.\r\n\r\nThis change is a no-op when using the default `MessageSerializer` class, but it enables the use a wider variety of custom serializers.\r\n\r\nBy being agnostic of the type of data to decrypt at the encryptor level, it is now possible to serialize and store messages in a binary format (e.g. in a `bytea` column in PostgreSQL). A custom message serializer is now able to decrypt binary values coming from the database (`String`) or from user input (`ActiveModel::Type::Binary::Data`) without having an exception raised at the encryptor level because the type is not `String`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/48686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rails/rails/issues/48686/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-07T17:17:19Z","updated_at":"2023-07-07T17:17:19Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rails/rails/issues/48689","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/48689/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/48689/comments","events_url":"https://api.github.com/repos/rails/rails/issues/48689/events","html_url":"https://github.com/rails/rails/issues/48689","id":1793880804,"node_id":"I_kwDNIULOauxy5A","number":48689,"title":"Custom serialization & storage in ActiveRecord::Encryption (beyond strings)","user":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":107191,"node_id":"MDU6TGFiZWwxMDcxOTE=","url":"https://api.github.com/repos/rails/rails/labels/activerecord","name":"activerecord","color":"0b02e1","default":false,"description":null},{"id":12449438,"node_id":"MDU6TGFiZWwxMjQ0OTQzOA==","url":"https://api.github.com/repos/rails/rails/labels/stale","name":"stale","color":"444444","default":false,"description":null},{"id":5511275119,"node_id":"LA_kwDNIULPAAAAAUh_Ym8","url":"https://api.github.com/repos/rails/rails/labels/encryption","name":"encryption","color":"8D3EA8","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-07-07T17:17:19Z","updated_at":"2023-12-20T11:03:04Z","closed_at":"2023-12-20T11:03:04Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":8514,"node_id":"MDEwOlJlcG9zaXRvcnk4NTE0","name":"rails","full_name":"rails/rails","private":false,"owner":{"login":"rails","id":4223,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQyMjM=","avatar_url":"https://avatars.githubusercontent.com/u/4223?v=4","gravatar_id":"","url":"https://api.github.com/users/rails","html_url":"https://github.com/rails","followers_url":"https://api.github.com/users/rails/followers","following_url":"https://api.github.com/users/rails/following{/other_user}","gists_url":"https://api.github.com/users/rails/gists{/gist_id}","starred_url":"https://api.github.com/users/rails/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails/subscriptions","organizations_url":"https://api.github.com/users/rails/orgs","repos_url":"https://api.github.com/users/rails/repos","events_url":"https://api.github.com/users/rails/events{/privacy}","received_events_url":"https://api.github.com/users/rails/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rails/rails","description":"Ruby on Rails","fork":false,"url":"https://api.github.com/repos/rails/rails","forks_url":"https://api.github.com/repos/rails/rails/forks","keys_url":"https://api.github.com/repos/rails/rails/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rails/rails/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rails/rails/teams","hooks_url":"https://api.github.com/repos/rails/rails/hooks","issue_events_url":"https://api.github.com/repos/rails/rails/issues/events{/number}","events_url":"https://api.github.com/repos/rails/rails/events","assignees_url":"https://api.github.com/repos/rails/rails/assignees{/user}","branches_url":"https://api.github.com/repos/rails/rails/branches{/branch}","tags_url":"https://api.github.com/repos/rails/rails/tags","blobs_url":"https://api.github.com/repos/rails/rails/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rails/rails/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rails/rails/git/refs{/sha}","trees_url":"https://api.github.com/repos/rails/rails/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rails/rails/statuses/{sha}","languages_url":"https://api.github.com/repos/rails/rails/languages","stargazers_url":"https://api.github.com/repos/rails/rails/stargazers","contributors_url":"https://api.github.com/repos/rails/rails/contributors","subscribers_url":"https://api.github.com/repos/rails/rails/subscribers","subscription_url":"https://api.github.com/repos/rails/rails/subscription","commits_url":"https://api.github.com/repos/rails/rails/commits{/sha}","git_commits_url":"https://api.github.com/repos/rails/rails/git/commits{/sha}","comments_url":"https://api.github.com/repos/rails/rails/comments{/number}","issue_comment_url":"https://api.github.com/repos/rails/rails/issues/comments{/number}","contents_url":"https://api.github.com/repos/rails/rails/contents/{+path}","compare_url":"https://api.github.com/repos/rails/rails/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rails/rails/merges","archive_url":"https://api.github.com/repos/rails/rails/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rails/rails/downloads","issues_url":"https://api.github.com/repos/rails/rails/issues{/number}","pulls_url":"https://api.github.com/repos/rails/rails/pulls{/number}","milestones_url":"https://api.github.com/repos/rails/rails/milestones{/number}","notifications_url":"https://api.github.com/repos/rails/rails/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rails/rails/labels{/name}","releases_url":"https://api.github.com/repos/rails/rails/releases{/id}","deployments_url":"https://api.github.com/repos/rails/rails/deployments","created_at":"2008-04-11T02:19:47Z","updated_at":"2025-11-10T02:03:47Z","pushed_at":"2025-11-10T00:33:52Z","git_url":"git://github.com/rails/rails.git","ssh_url":"git@github.com:rails/rails.git","clone_url":"https://github.com/rails/rails.git","svn_url":"https://github.com/rails/rails","homepage":"https://rubyonrails.org","size":271619,"stargazers_count":57840,"watchers_count":57840,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":22025,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1341,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["activejob","activerecord","framework","html","mvc","rails","ruby"],"visibility":"public","forks":22025,"open_issues":1341,"watchers":57840,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Steps to reproduce\r\n\r\nIn https://guides.rubyonrails.org/active_record_encryption.html#supported-types, it is clearly stated:\r\n\r\n> **`active_record.encryption` will serialize values using the underlying type before encrypting them, but they must be serializable as strings**. Structured types like serialized are supported out of the box.\r\n\r\nAs long as you only have string values, a `text`/`varchar` column in the database, and a message serializer that emits and consumes strings (the situation currently described in the docs), everything works just fine.\r\n\r\nBut I'd like to propose to support a wider range of use cases by **allowing custom serializers that output another type than strings**.\r\n\r\nA typical use case would be to use a binary column in the database (e.g. `bytea` in PostgreSQL) and serialize encrypted values using a compact binary format such as the one provided by [MessagePack](https://github.com/msgpack/msgpack-ruby) (example given below), instead of the default JSON string format provided by the default message serializer.\r\n\r\nSetting a custom serializer via `config.active_record.encryption.message_serializer` is already supported (https://guides.rubyonrails.org/active_record_encryption.html#encryption-contexts). Unfortunately, it's not possible to make your custom serializer produce binary values and have things work right out of the box.\r\n\r\nOne small inconvenience is the problem described in https://github.com/rails/rails/issues/48685 (quite straitghforward to fix: https://github.com/rails/rails/pull/48686), but a bigger problem lies in the current design of `ActiveRecord::Encryption::EncryptedAttributeType`.\r\n\r\nTo make my explanation a bit visual, this is what we have today:\r\n\r\n```plaintext\r\nAttribute without encryption:\r\n                          ┌──────┐     \r\n  user-provided value ───►┤ cast ├───► value for the db\r\n                          └──────┘     \r\n                                        \r\n                          ┌──────┐     \r\n   value for the user ◄───┤ cast ├◄─── db-provided value\r\n                          └──────┘     \r\n\r\n\r\nAttribute with encryption:\r\n                          ┌────────┐    ┌─────────┐    ┌─────────────┐    ┌────────┐     \r\n  user-provided value ───►┤ cast A ├───►┤ encrypt ├───►┤  serialize  ├───►┤ cast B ├───► value for the db\r\n                          └────────┘    └─────────┘    └─────────────┘    └────────┘     \r\n                                                                                         \r\n                          ┌────────┐    ┌─────────┐    ┌─────────────┐    ┌────────┐     \r\n   value for the user ◄───┤ cast A ├◄───┤ decrypt ├◄───┤ deserialize ├◄───┤ cast B ├◄─── db-provided value\r\n                          └────────┘    └─────────┘    └─────────────┘    └────────┘     \r\n```\r\n\r\nAs of today, the default implementation of `ActiveRecord::Encryption::EncryptedAttributeType` uses the type of the database column as `cast_type` to perform the `cast A` step in the figure, and there is no `cast B` step.\r\n\r\nWhen a value is extracted from the database, there is no type casting before sending it to the message serializer for deserialization. Conversely, a value serialized with the message serializer is sent directly to the database without any further type casting. So, by default, there is no `cast B` step, and only strings are expected to be sent to/received from the database.\r\n\r\nAs long as you only have string values, a `text`/`varchar` column in the database, and a message serializer that emits and consumes strings (the situation currently described in the docs), everything works just fine.\r\n\r\nBut with this model, you can't easily switch to a `bytea` column and serialize in database-compatible binary format, because you have no built-in way to perform a `cast B` (binary) which is different from `cast A` (strings).\r\n\r\nI think we should recognize the need for two distinct types of casting:\r\n\r\n* Casting clear values before encryption (e.g. ensuring correct type/encoding), and;\r\n* Casting encrypted+serialized values before sending them to the database (e.g. sending a message that is serialized in binary format).\r\n\r\nIdeally, the framework should allow developers to specify the type of casting they need in a particular place, instead of using the database column type for `cast A` (not always appropriate), and providing no support for `cast B`.\r\n\r\n**If you think this could be a good addition to the framework, I would volunteer to help make this happen.**\r\n\r\nFor completeness, a possible workaround is:\r\n\r\n1. To declare the attribute as a string (despite the attribute being stored in a binary format in the database) in order to trick the framework to use a `:string` attribute type when performing `cast A` (see figure above):\r\n\r\n    ```diff\r\n      create_table(:records, force: true) do |t|\r\n        t.bytea :some_attribute\r\n      end\r\n\r\n      class Record < ActiveRecord::Base\r\n    +   attribute :some_attribute, :string\r\n        encrypts :some_attribute\r\n      end\r\n    ```\r\n\r\n2. To perform `cast B` yourself in the serializer, here an example of a binary message serializer using [MessagePack](https://github.com/msgpack/msgpack-ruby) (some details omitted - don't use this in your project):\r\n\r\n    ```ruby\r\n    class ByteaSerializer < ActiveRecord::Encryption::MessageSerializer\r\n      def load(escaped_content)  \r\n        encoded_content = binary_type.deserialize(escaped_content)\r\n        parse_message(MessagePack.unpack(encoded_content), 1)\r\n      end\r\n    \r\n      def dump(message)\r\n        encoded_content = MessagePack.pack message_to_json(message)\r\n        binary_type.serialize(encoded_content)\r\n      end\r\n    \r\n      private\r\n    \r\n      def encode_if_needed(value) = value\r\n      def decode_if_needed(value) = value\r\n    \r\n      def binary_type\r\n        @binary_type ||= ActiveRecord::Type.lookup(:binary, adapter: :postgresql)\r\n      end\r\n    end\r\n    ```\r\n\r\nAlthough this gives us a picture of what we're trying to achieve, I think we'd do better to make `ActiveRecord::Encryption::EncryptedAttributeType` more versatile so that it's possible to achieve this goal without using dangerous tricks.\r\n\r\n### Expected behavior\r\n\r\nVarious database column types and message serializers are supported for encrypted attributes.\r\n\r\n### Actual behavior\r\n\r\nYou can only have string values, a `text`/`varchar` column in the database, and a message serializer that emits and consumes strings.\r\n\r\n### System configuration\r\n\r\n**Rails version**: 7.0.6\r\n\r\n**Ruby version**: 3.2.2\r\n\r\n---------\r\n\r\n**Edit on `2023-07-10`**\r\n\r\nI reworded the explanations around `cast B`, which is a step that does not exist in the default implementation, but which is needed in custom ones.","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/48689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rails/rails/issues/48689/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":9863571528,"node_id":"LE_lADNIULOaucNec8AAAACS-ooSA","url":"https://api.github.com/repos/rails/rails/issues/events/9863571528","actor":{"login":"fatkodima","id":5657035,"node_id":"MDQ6VXNlcjU2NTcwMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5657035?v=4","gravatar_id":"","url":"https://api.github.com/users/fatkodima","html_url":"https://github.com/fatkodima","followers_url":"https://api.github.com/users/fatkodima/followers","following_url":"https://api.github.com/users/fatkodima/following{/other_user}","gists_url":"https://api.github.com/users/fatkodima/gists{/gist_id}","starred_url":"https://api.github.com/users/fatkodima/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fatkodima/subscriptions","organizations_url":"https://api.github.com/users/fatkodima/orgs","repos_url":"https://api.github.com/users/fatkodima/repos","events_url":"https://api.github.com/users/fatkodima/events{/privacy}","received_events_url":"https://api.github.com/users/fatkodima/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-19T14:44:48Z","label":{"name":"activerecord","color":"0b02e1"},"performed_via_github_app":null},{"id":9863571541,"node_id":"LE_lADNIULOaucNec8AAAACS-ooVQ","url":"https://api.github.com/repos/rails/rails/issues/events/9863571541","actor":{"login":"fatkodima","id":5657035,"node_id":"MDQ6VXNlcjU2NTcwMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5657035?v=4","gravatar_id":"","url":"https://api.github.com/users/fatkodima","html_url":"https://github.com/fatkodima","followers_url":"https://api.github.com/users/fatkodima/followers","following_url":"https://api.github.com/users/fatkodima/following{/other_user}","gists_url":"https://api.github.com/users/fatkodima/gists{/gist_id}","starred_url":"https://api.github.com/users/fatkodima/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fatkodima/subscriptions","organizations_url":"https://api.github.com/users/fatkodima/orgs","repos_url":"https://api.github.com/users/fatkodima/repos","events_url":"https://api.github.com/users/fatkodima/events{/privacy}","received_events_url":"https://api.github.com/users/fatkodima/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-19T14:44:48Z","label":{"name":"encryption","color":"8D3EA8"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rails/rails/issues/comments/1766596550","html_url":"https://github.com/rails/rails/issues/48685#issuecomment-1766596550","issue_url":"https://api.github.com/repos/rails/rails/issues/48685","id":1766596550,"node_id":"IC_kwDNIULOaUwfxg","user":{"login":"rails-bot[bot]","id":28418009,"node_id":"MDM6Qm90Mjg0MTgwMDk=","avatar_url":"https://avatars.githubusercontent.com/in/2272?v=4","gravatar_id":"","url":"https://api.github.com/users/rails-bot%5Bbot%5D","html_url":"https://github.com/apps/rails-bot","followers_url":"https://api.github.com/users/rails-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/rails-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/rails-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/rails-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/rails-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/rails-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-17T14:58:41Z","updated_at":"2023-10-17T14:58:41Z","body":"This issue has been automatically marked as stale because it has not been commented on for at least three months.\nThe resources of the Rails team are limited, and so we are asking for your help.\nIf you can still reproduce this error on the `7-1-stable` branch or on `main`, please reply with all of the information you have about it in order to keep the issue open.\nThank you for all your contributions.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rails/rails/issues/comments/1766596550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rails-bot[bot]","id":28418009,"node_id":"MDM6Qm90Mjg0MTgwMDk=","avatar_url":"https://avatars.githubusercontent.com/in/2272?v=4","gravatar_id":"","url":"https://api.github.com/users/rails-bot%5Bbot%5D","html_url":"https://github.com/apps/rails-bot","followers_url":"https://api.github.com/users/rails-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/rails-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/rails-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/rails-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/rails-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/rails-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":10679869008,"node_id":"LE_lADNIULOaucNec8AAAACfJHeUA","url":"https://api.github.com/repos/rails/rails/issues/events/10679869008","actor":{"login":"rails-bot[bot]","id":28418009,"node_id":"MDM6Qm90Mjg0MTgwMDk=","avatar_url":"https://avatars.githubusercontent.com/in/2272?v=4","gravatar_id":"","url":"https://api.github.com/users/rails-bot%5Bbot%5D","html_url":"https://github.com/apps/rails-bot","followers_url":"https://api.github.com/users/rails-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/rails-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/rails-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/rails-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/rails-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/rails-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-10-17T14:58:43Z","label":{"name":"stale","color":"444444"},"performed_via_github_app":null},{"id":10755440075,"node_id":"CE_lADNIULOaucNec8AAAACgRL9yw","url":"https://api.github.com/repos/rails/rails/issues/events/10755440075","actor":{"login":"rails-bot[bot]","id":28418009,"node_id":"MDM6Qm90Mjg0MTgwMDk=","avatar_url":"https://avatars.githubusercontent.com/in/2272?v=4","gravatar_id":"","url":"https://api.github.com/users/rails-bot%5Bbot%5D","html_url":"https://github.com/apps/rails-bot","followers_url":"https://api.github.com/users/rails-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/rails-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/rails-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/rails-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/rails-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/rails-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-10-24T15:06:32Z","state_reason":null,"performed_via_github_app":null},{"id":10803754412,"node_id":"REE_lADNIULOaucNec8AAAACg_Q1rA","url":"https://api.github.com/repos/rails/rails/issues/events/10803754412","actor":{"login":"zzak","id":277819,"node_id":"MDQ6VXNlcjI3NzgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/277819?v=4","gravatar_id":"","url":"https://api.github.com/users/zzak","html_url":"https://github.com/zzak","followers_url":"https://api.github.com/users/zzak/followers","following_url":"https://api.github.com/users/zzak/following{/other_user}","gists_url":"https://api.github.com/users/zzak/gists{/gist_id}","starred_url":"https://api.github.com/users/zzak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzak/subscriptions","organizations_url":"https://api.github.com/users/zzak/orgs","repos_url":"https://api.github.com/users/zzak/repos","events_url":"https://api.github.com/users/zzak/events{/privacy}","received_events_url":"https://api.github.com/users/zzak/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2023-10-30T07:43:35Z","state_reason":"reopened","performed_via_github_app":null},{"id":10803754711,"node_id":"UNLE_lADNIULOaucNec8AAAACg_Q21w","url":"https://api.github.com/repos/rails/rails/issues/events/10803754711","actor":{"login":"rails-bot[bot]","id":28418009,"node_id":"MDM6Qm90Mjg0MTgwMDk=","avatar_url":"https://avatars.githubusercontent.com/in/2272?v=4","gravatar_id":"","url":"https://api.github.com/users/rails-bot%5Bbot%5D","html_url":"https://github.com/apps/rails-bot","followers_url":"https://api.github.com/users/rails-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/rails-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/rails-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/rails-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rails-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/rails-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/rails-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/rails-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-10-30T07:43:37Z","label":{"name":"stale","color":"444444"},"performed_via_github_app":null},{"id":10803755224,"node_id":"LE_lADNIULOaucNec8AAAACg_Q42A","url":"https://api.github.com/repos/rails/rails/issues/events/10803755224","actor":{"login":"zzak","id":277819,"node_id":"MDQ6VXNlcjI3NzgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/277819?v=4","gravatar_id":"","url":"https://api.github.com/users/zzak","html_url":"https://github.com/zzak","followers_url":"https://api.github.com/users/zzak/followers","following_url":"https://api.github.com/users/zzak/following{/other_user}","gists_url":"https://api.github.com/users/zzak/gists{/gist_id}","starred_url":"https://api.github.com/users/zzak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzak/subscriptions","organizations_url":"https://api.github.com/users/zzak/orgs","repos_url":"https://api.github.com/users/zzak/repos","events_url":"https://api.github.com/users/zzak/events{/privacy}","received_events_url":"https://api.github.com/users/zzak/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-10-30T07:43:41Z","label":{"name":"attached PR","color":"006b75"},"performed_via_github_app":null},{"id":11339461598,"node_id":"REFE_lADNIULOaucNec8AAAACo-Jz3g","url":"https://api.github.com/repos/rails/rails/issues/events/11339461598","actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e5a1de3763d7cb2bfd4a042f44d493a103d1ebcd","commit_url":"https://api.github.com/repos/maximerety/rails/commits/e5a1de3763d7cb2bfd4a042f44d493a103d1ebcd","created_at":"2023-12-26T13:22:59Z","performed_via_github_app":null},{"id":11368519143,"node_id":"REFE_lADNIULOaucNec8AAAACpZ3V5w","url":"https://api.github.com/repos/rails/rails/issues/events/11368519143","actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"146cf3a8ca42119deb7aec8543fc16b22a71167f","commit_url":"https://api.github.com/repos/maximerety/rails/commits/146cf3a8ca42119deb7aec8543fc16b22a71167f","created_at":"2024-01-02T09:31:36Z","performed_via_github_app":null},{"id":11377981027,"node_id":"REFE_lADNIULOaucNec8AAAACpi42Yw","url":"https://api.github.com/repos/rails/rails/issues/events/11377981027","actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2fb00003597c5c9d3ef4590897e75a114b79042b","commit_url":"https://api.github.com/repos/maximerety/rails/commits/2fb00003597c5c9d3ef4590897e75a114b79042b","created_at":"2024-01-03T11:01:39Z","performed_via_github_app":null},{"id":11387406621,"node_id":"REFE_lADNIULOaucNec8AAAACpr4JHQ","url":"https://api.github.com/repos/rails/rails/issues/events/11387406621","actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"de870963eaebdbe54ed57c5549c23f061492dea7","commit_url":"https://api.github.com/repos/maximerety/rails/commits/de870963eaebdbe54ed57c5549c23f061492dea7","created_at":"2024-01-04T09:27:52Z","performed_via_github_app":null},{"id":11401163066,"node_id":"REFE_lADNIULOaucNec8AAAACp4_xOg","url":"https://api.github.com/repos/rails/rails/issues/events/11401163066","actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e43690908326180e35f9820be1986918e2fdbb53","commit_url":"https://api.github.com/repos/maximerety/rails/commits/e43690908326180e35f9820be1986918e2fdbb53","created_at":"2024-01-05T13:22:30Z","performed_via_github_app":null},{"id":11402771302,"node_id":"REFE_lADNIULOaucNec8AAAACp6h7Zg","url":"https://api.github.com/repos/rails/rails/issues/events/11402771302","actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7f2a0b33ecad8423f2d842f0aa59bc77df6ceedd","commit_url":"https://api.github.com/repos/maximerety/rails/commits/7f2a0b33ecad8423f2d842f0aa59bc77df6ceedd","created_at":"2024-01-05T16:05:53Z","performed_via_github_app":null},{"id":11402866148,"node_id":"REFE_lADNIULOaucNec8AAAACp6nt5A","url":"https://api.github.com/repos/rails/rails/issues/events/11402866148","actor":{"login":"maximerety","id":58582,"node_id":"MDQ6VXNlcjU4NTgy","avatar_url":"https://avatars.githubusercontent.com/u/58582?v=4","gravatar_id":"","url":"https://api.github.com/users/maximerety","html_url":"https://github.com/maximerety","followers_url":"https://api.github.com/users/maximerety/followers","following_url":"https://api.github.com/users/maximerety/following{/other_user}","gists_url":"https://api.github.com/users/maximerety/gists{/gist_id}","starred_url":"https://api.github.com/users/maximerety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximerety/subscriptions","organizations_url":"https://api.github.com/users/maximerety/orgs","repos_url":"https://api.github.com/users/maximerety/repos","events_url":"https://api.github.com/users/maximerety/events{/privacy}","received_events_url":"https://api.github.com/users/maximerety/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"30941ec1169c9bd0951cccabec233e4f67227220","commit_url":"https://api.github.com/repos/maximerety/rails/commits/30941ec1169c9bd0951cccabec233e4f67227220","created_at":"2024-01-05T16:15:42Z","performed_via_github_app":null},{"id":11403875547,"node_id":"CE_lADNIULOaucNec8AAAACp7lU2w","url":"https://api.github.com/repos/rails/rails/issues/events/11403875547","actor":{"login":"eileencodes","id":1080678,"node_id":"MDQ6VXNlcjEwODA2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1080678?v=4","gravatar_id":"","url":"https://api.github.com/users/eileencodes","html_url":"https://github.com/eileencodes","followers_url":"https://api.github.com/users/eileencodes/followers","following_url":"https://api.github.com/users/eileencodes/following{/other_user}","gists_url":"https://api.github.com/users/eileencodes/gists{/gist_id}","starred_url":"https://api.github.com/users/eileencodes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eileencodes/subscriptions","organizations_url":"https://api.github.com/users/eileencodes/orgs","repos_url":"https://api.github.com/users/eileencodes/repos","events_url":"https://api.github.com/users/eileencodes/events{/privacy}","received_events_url":"https://api.github.com/users/eileencodes/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"d0f3b007b25f9e267ce7748f116197ef7f844140","commit_url":"https://api.github.com/repos/rails/rails/commits/d0f3b007b25f9e267ce7748f116197ef7f844140","created_at":"2024-01-05T18:05:59Z","state_reason":null,"performed_via_github_app":null},{"id":11601981944,"node_id":"REFE_lADNIULOaucNec8AAAACs4gx-A","url":"https://api.github.com/repos/rails/rails/issues/events/11601981944","actor":{"login":"bhumi1102","id":1966473,"node_id":"MDQ6VXNlcjE5NjY0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1966473?v=4","gravatar_id":"","url":"https://api.github.com/users/bhumi1102","html_url":"https://github.com/bhumi1102","followers_url":"https://api.github.com/users/bhumi1102/followers","following_url":"https://api.github.com/users/bhumi1102/following{/other_user}","gists_url":"https://api.github.com/users/bhumi1102/gists{/gist_id}","starred_url":"https://api.github.com/users/bhumi1102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhumi1102/subscriptions","organizations_url":"https://api.github.com/users/bhumi1102/orgs","repos_url":"https://api.github.com/users/bhumi1102/repos","events_url":"https://api.github.com/users/bhumi1102/events{/privacy}","received_events_url":"https://api.github.com/users/bhumi1102/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d0f3b007b25f9e267ce7748f116197ef7f844140","commit_url":"https://api.github.com/repos/bhumi1102/rails/commits/d0f3b007b25f9e267ce7748f116197ef7f844140","created_at":"2024-01-25T20:21:58Z","performed_via_github_app":null},{"id":16620119630,"node_id":"REFE_lADNIULOaucNec8AAAAD3qLmTg","url":"https://api.github.com/repos/rails/rails/issues/events/16620119630","actor":{"login":"yoones","id":1333898,"node_id":"MDQ6VXNlcjEzMzM4OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1333898?v=4","gravatar_id":"","url":"https://api.github.com/users/yoones","html_url":"https://github.com/yoones","followers_url":"https://api.github.com/users/yoones/followers","following_url":"https://api.github.com/users/yoones/following{/other_user}","gists_url":"https://api.github.com/users/yoones/gists{/gist_id}","starred_url":"https://api.github.com/users/yoones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoones/subscriptions","organizations_url":"https://api.github.com/users/yoones/orgs","repos_url":"https://api.github.com/users/yoones/repos","events_url":"https://api.github.com/users/yoones/events{/privacy}","received_events_url":"https://api.github.com/users/yoones/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"026742cb18bd42b986faea8e77284b2d556a8c45","commit_url":"https://api.github.com/repos/yoones/rails/commits/026742cb18bd42b986faea8e77284b2d556a8c45","created_at":"2025-03-06T16:29:32Z","performed_via_github_app":null}]