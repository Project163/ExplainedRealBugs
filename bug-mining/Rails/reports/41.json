{"url":"https://api.github.com/repos/rails/rails/issues/48185","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/48185/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/48185/comments","events_url":"https://api.github.com/repos/rails/rails/issues/48185/events","html_url":"https://github.com/rails/rails/issues/48185","id":1703067636,"node_id":"I_kwDNIULOZYK_9A","number":48185,"title":"HealthCheck for ActionCable Standalone","user":{"login":"nbluis","id":24320,"node_id":"MDQ6VXNlcjI0MzIw","avatar_url":"https://avatars.githubusercontent.com/u/24320?v=4","gravatar_id":"","url":"https://api.github.com/users/nbluis","html_url":"https://github.com/nbluis","followers_url":"https://api.github.com/users/nbluis/followers","following_url":"https://api.github.com/users/nbluis/following{/other_user}","gists_url":"https://api.github.com/users/nbluis/gists{/gist_id}","starred_url":"https://api.github.com/users/nbluis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbluis/subscriptions","organizations_url":"https://api.github.com/users/nbluis/orgs","repos_url":"https://api.github.com/users/nbluis/repos","events_url":"https://api.github.com/users/nbluis/events{/privacy}","received_events_url":"https://api.github.com/users/nbluis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-05-10T03:42:27Z","updated_at":"2023-05-30T20:35:14Z","closed_at":"2023-05-30T20:35:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Dear Rails folks.\r\n\r\nIn our environment, we decided to separate the Web and ActionCable servers to have a better visibility of the impact of each instance.\r\n\r\nWe are using an ALB (AWS) in front of our Standalone ActionCable instances. Here the problems begin. For the load balancer to work correctly, we need a HealthCheck route so that it can know when the instances are Healthy so that it can register them.\r\n\r\nI saw that the current version of rails (not released) has a default HealthCheck controller that can be mounted in our routes file (https://github.com/rails/rails/pull/46936). But from what I could see this is not mounted in the ActionCable by default and we don't have a simple way (without monkey patching) to register it.\r\n\r\nI think it would be very useful if this route were available by default (or through some simple configuration) for ActionCable Standalone instances.\r\n\r\n### System configuration\r\n**Rails version**:\r\n7.0.4.3\r\n\r\n**Ruby version**:\r\n3.2","closed_by":{"login":"rafaelfranca","id":47848,"node_id":"MDQ6VXNlcjQ3ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/47848?v=4","gravatar_id":"","url":"https://api.github.com/users/rafaelfranca","html_url":"https://github.com/rafaelfranca","followers_url":"https://api.github.com/users/rafaelfranca/followers","following_url":"https://api.github.com/users/rafaelfranca/following{/other_user}","gists_url":"https://api.github.com/users/rafaelfranca/gists{/gist_id}","starred_url":"https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rafaelfranca/subscriptions","organizations_url":"https://api.github.com/users/rafaelfranca/orgs","repos_url":"https://api.github.com/users/rafaelfranca/repos","events_url":"https://api.github.com/users/rafaelfranca/events{/privacy}","received_events_url":"https://api.github.com/users/rafaelfranca/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rails/rails/issues/48185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rails/rails/issues/48185/timeline","performed_via_github_app":null,"state_reason":"completed"}