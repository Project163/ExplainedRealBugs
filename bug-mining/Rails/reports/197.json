{"url":"https://api.github.com/repos/rails/rails/issues/54795","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/54795/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/54795/comments","events_url":"https://api.github.com/repos/rails/rails/issues/54795/events","html_url":"https://github.com/rails/rails/issues/54795","id":2938828418,"node_id":"I_kwDNIULOryr2gg","number":54795,"title":"Action Text package.json is missing reference to rollup-plugin-terser","user":{"login":"voxik","id":14406,"node_id":"MDQ6VXNlcjE0NDA2","avatar_url":"https://avatars.githubusercontent.com/u/14406?v=4","gravatar_id":"","url":"https://api.github.com/users/voxik","html_url":"https://github.com/voxik","followers_url":"https://api.github.com/users/voxik/followers","following_url":"https://api.github.com/users/voxik/following{/other_user}","gists_url":"https://api.github.com/users/voxik/gists{/gist_id}","starred_url":"https://api.github.com/users/voxik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voxik/subscriptions","organizations_url":"https://api.github.com/users/voxik/orgs","repos_url":"https://api.github.com/users/voxik/repos","events_url":"https://api.github.com/users/voxik/events{/privacy}","received_events_url":"https://api.github.com/users/voxik/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":41328116,"node_id":"MDU6TGFiZWw0MTMyODExNg==","url":"https://api.github.com/repos/rails/rails/labels/attached%20PR","name":"attached PR","color":"006b75","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-03-21T15:55:11Z","updated_at":"2025-03-25T11:20:09Z","closed_at":"2025-03-25T11:20:09Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am not Node.js / NPM expert, but it seems `rollup-plugin-terser` is missing from Action Text 8.0.1 `package.json`, trying to rebuild the javascripts as follows:\n\n~~~\n$ npm install\nnpm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\nnpm warn deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\nnpm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported\n\nadded 40 packages, and audited 41 packages in 2s\n\n7 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\n$ npx rollup --config rollup.config.js\n[!] Error: Cannot find module 'rollup-plugin-terser'\nRequire stack:\n- /builddir/build/BUILD/rubygem-actiontext-8.0.1-build/actiontext-8.0.1/rollup.config.js\n- /builddir/build/BUILD/rubygem-actiontext-8.0.1-build/actiontext-8.0.1/node_modules/rollup/dist/shared/loadConfigFile.js\n- /builddir/build/BUILD/rubygem-actiontext-8.0.1-build/actiontext-8.0.1/node_modules/rollup/dist/bin/rollup\nError: Cannot find module 'rollup-plugin-terser'\nRequire stack:\n- /builddir/build/BUILD/rubygem-actiontext-8.0.1-build/actiontext-8.0.1/rollup.config.js\n- /builddir/build/BUILD/rubygem-actiontext-8.0.1-build/actiontext-8.0.1/node_modules/rollup/dist/shared/loadConfigFile.js\n- /builddir/build/BUILD/rubygem-actiontext-8.0.1-build/actiontext-8.0.1/node_modules/rollup/dist/bin/rollup\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)\n    at Module._load (node:internal/modules/cjs/loader:1055:27)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Module.require (node:internal/modules/cjs/loader:1311:12)\n    at require (node:internal/modules/helpers:136:16)\n    at Object.<anonymous> (/builddir/build/BUILD/rubygem-actiontext-8.0.1-build/actiontext-8.0.1/rollup.config.js:7:26)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at require.extensions.<computed> [as .js] (/builddir/build/BUILD/rubygem-actiontext-8.0.1-build/actiontext-8.0.1/node_modules/rollup/dist/shared/loadConfigFile.js:621:20)\n    at Module.load (node:internal/modules/cjs/loader:1289:32)\n~~~\n\nInstalling the package helps to resolve the issue:\n\n~~~\n$ npm install rollup-plugin-terser\nnpm warn deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead\nnpm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\nnpm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported\nnpm warn deprecated rollup-plugin-terser@7.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser\n\nadded 64 packages, and audited 65 packages in 3s\n\n8 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\n$ npx rollup --config rollup.config.js\n\napp/javascript/actiontext/index.js → app/assets/javascripts/actiontext.js...\ncreated app/assets/javascripts/actiontext.js in 350ms\n\napp/javascript/actiontext/index.js → app/assets/javascripts/actiontext.esm.js...\ncreated app/assets/javascripts/actiontext.esm.js in 296ms\n~~~","closed_by":{"login":"byroot","id":44640,"node_id":"MDQ6VXNlcjQ0NjQw","avatar_url":"https://avatars.githubusercontent.com/u/44640?v=4","gravatar_id":"","url":"https://api.github.com/users/byroot","html_url":"https://github.com/byroot","followers_url":"https://api.github.com/users/byroot/followers","following_url":"https://api.github.com/users/byroot/following{/other_user}","gists_url":"https://api.github.com/users/byroot/gists{/gist_id}","starred_url":"https://api.github.com/users/byroot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byroot/subscriptions","organizations_url":"https://api.github.com/users/byroot/orgs","repos_url":"https://api.github.com/users/byroot/repos","events_url":"https://api.github.com/users/byroot/events{/privacy}","received_events_url":"https://api.github.com/users/byroot/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rails/rails/issues/54795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rails/rails/issues/54795/timeline","performed_via_github_app":null,"state_reason":"completed"}