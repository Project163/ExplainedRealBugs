diff --git a/railties/lib/rails/generators.rb b/railties/lib/rails/generators.rb
index 7050bc00df..8568bad425 100644
--- a/railties/lib/rails/generators.rb
+++ b/railties/lib/rails/generators.rb
@@ -61,6 +61,10 @@ module Generators
       }
     }
 
+    # We need to store the RAILS_DEV_PATH in a constant, otherwise the path
+    # can change when we FileUtils.cd.
+    RAILS_DEV_PATH = File.expand_path("../../..", __dir__) # :nodoc:
+
     class << self
       def configure!(config) # :nodoc:
         api_only! if config.api_only
diff --git a/railties/lib/rails/generators/rails/app/app_generator.rb b/railties/lib/rails/generators/rails/app/app_generator.rb
index 5e9ebbabe2..ca8b184f20 100644
--- a/railties/lib/rails/generators/rails/app/app_generator.rb
+++ b/railties/lib/rails/generators/rails/app/app_generator.rb
@@ -283,10 +283,6 @@ def devcontainer
   end
 
   module Generators
-    # We need to store the RAILS_DEV_PATH in a constant, otherwise the path
-    # can change in Ruby 1.8.7 when we FileUtils.cd.
-    RAILS_DEV_PATH = File.expand_path("../../../../../..", __dir__)
-
     class AppGenerator < AppBase
       # :stopdoc:
 
diff --git a/railties/test/generators/devcontainer_generator_test.rb b/railties/test/generators/devcontainer_generator_test.rb
new file mode 100644
index 0000000000..1f8427ec11
--- /dev/null
+++ b/railties/test/generators/devcontainer_generator_test.rb
@@ -0,0 +1,40 @@
+# frozen_string_literal: true
+
+require "generators/generators_test_helper"
+require "rails/generators/rails/devcontainer/devcontainer_generator"
+
+module Rails
+  module Generators
+    class DevcontainerGeneratorTest < Rails::Generators::TestCase
+      include GeneratorsTestHelper
+
+      def test_generates_devcontainer_files
+        run_generator
+
+        assert_file ".devcontainer/compose.yaml"
+        assert_file ".devcontainer/Dockerfile"
+        assert_file ".devcontainer/devcontainer.json"
+      end
+
+      def test_default_json_has_no_mounts
+        run_generator
+
+        assert_devcontainer_json_file do |devcontainer_config|
+          assert_nil devcontainer_config["mounts"]
+        end
+      end
+
+      def test_dev_option_devcontainer_json_mounts_local_rails
+        run_generator ["--dev"]
+
+        assert_devcontainer_json_file do |devcontainer_json|
+          mounts = devcontainer_json["mounts"].sole
+
+          assert_equal "bind", mounts["type"]
+          assert_equal Rails::Generators::RAILS_DEV_PATH, mounts["source"]
+          assert_equal Rails::Generators::RAILS_DEV_PATH, mounts["target"]
+        end
+      end
+    end
+  end
+end
