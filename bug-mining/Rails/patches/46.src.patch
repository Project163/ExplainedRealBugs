diff --git a/activerecord/CHANGELOG.md b/activerecord/CHANGELOG.md
index 6a27f8ac67..78fbf05a34 100644
--- a/activerecord/CHANGELOG.md
+++ b/activerecord/CHANGELOG.md
@@ -1,3 +1,9 @@
+*   Disable database prepared statements when query logs are enabled
+
+    Prepared Statements and Query Logs are incompatible features due to query logs making every query unique.
+
+    *zzak, Jean Boussier*
+
 *   Support decrypting data encrypted non-deterministically with a SHA1 hash digest.
 
     This adds a new Active Record encryption option to support decrypting data encrypted
diff --git a/activerecord/lib/active_record.rb b/activerecord/lib/active_record.rb
index 16aa05d9a9..b6085fd9a2 100644
--- a/activerecord/lib/active_record.rb
+++ b/activerecord/lib/active_record.rb
@@ -174,6 +174,9 @@ module Tasks
     autoload :SQLiteDatabaseTasks, "active_record/tasks/sqlite_database_tasks"
   end
 
+  singleton_class.attr_accessor :disable_prepared_statements
+  self.disable_prepared_statements = false
+
   # Lazily load the schema cache. This option will load the schema cache
   # when a connection is established rather than on boot. If set,
   # +config.active_record.use_schema_cache_dump+ will be set to false.
diff --git a/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb b/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb
index 282df33c3d..7853abc304 100644
--- a/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb
+++ b/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb
@@ -160,7 +160,7 @@ def initialize(config_or_deprecated_connection, deprecated_logger = nil, depreca
         @statements = build_statement_pool
         self.lock_thread = nil
 
-        @prepared_statements = self.class.type_cast_config_to_boolean(
+        @prepared_statements = !ActiveRecord.disable_prepared_statements && self.class.type_cast_config_to_boolean(
           @config.fetch(:prepared_statements) { default_prepared_statements }
         )
 
diff --git a/activerecord/lib/active_record/railtie.rb b/activerecord/lib/active_record/railtie.rb
index 7b3e48a45d..abcbaeb400 100644
--- a/activerecord/lib/active_record/railtie.rb
+++ b/activerecord/lib/active_record/railtie.rb
@@ -396,6 +396,7 @@ class Railtie < Rails::Railtie # :nodoc:
             db_host:      ->(context) { context[:connection].pool.db_config.host },
             database:     ->(context) { context[:connection].pool.db_config.database }
           )
+          ActiveRecord.disable_prepared_statements = true
 
           if app.config.active_record.query_log_tags.present?
             ActiveRecord::QueryLogs.tags = app.config.active_record.query_log_tags
diff --git a/activerecord/test/cases/adapter_test.rb b/activerecord/test/cases/adapter_test.rb
index 2c7dc9f7fc..69c06bfcd1 100644
--- a/activerecord/test/cases/adapter_test.rb
+++ b/activerecord/test/cases/adapter_test.rb
@@ -158,6 +158,23 @@ def test_not_specifying_database_name_for_cross_database_selects
       end
     end
 
+    unless in_memory_db?
+      def test_disable_prepared_statements
+        original_prepared_statements = ActiveRecord.disable_prepared_statements
+        db_config = ActiveRecord::Base.configurations.configs_for(env_name: "arunit", name: "primary")
+        ActiveRecord::Base.establish_connection(db_config.configuration_hash.merge(prepared_statements: true))
+
+        assert_predicate ActiveRecord::Base.connection, :prepared_statements?
+
+        ActiveRecord.disable_prepared_statements = true
+        ActiveRecord::Base.establish_connection(db_config.configuration_hash.merge(prepared_statements: true))
+        assert_not_predicate ActiveRecord::Base.connection, :prepared_statements?
+      ensure
+        ActiveRecord.disable_prepared_statements = original_prepared_statements
+        ActiveRecord::Base.establish_connection :arunit
+      end
+    end
+
     def test_table_alias
       def @connection.test_table_alias_length() 10; end
       class << @connection
diff --git a/guides/source/configuring.md b/guides/source/configuring.md
index b2b9851c39..d6954791c8 100644
--- a/guides/source/configuring.md
+++ b/guides/source/configuring.md
@@ -1345,6 +1345,8 @@ The default value depends on the `config.load_defaults` target version:
 Specifies whether or not to enable adapter-level query comments. Defaults to
 `false`.
 
+NOTE: When this is set to `true` database prepared statements will be automatically disabled.
+
 #### `config.active_record.query_log_tags`
 
 Define an `Array` specifying the key/value tags to be inserted in an SQL
diff --git a/railties/test/application/query_logs_test.rb b/railties/test/application/query_logs_test.rb
index d9b8565203..f47cb4d71d 100644
--- a/railties/test/application/query_logs_test.rb
+++ b/railties/test/application/query_logs_test.rb
@@ -10,6 +10,7 @@ class QueryLogsTest < ActiveSupport::TestCase
 
     def setup
       build_app(multi_db: true)
+      add_to_config "config.active_record.sqlite3_production_warning = false"
       rails("generate", "scaffold", "Pet", "name:string", "--database=animals")
       app_file "app/models/user.rb", <<-RUBY
         class User < ActiveRecord::Base
@@ -78,8 +79,20 @@ def app
       assert_includes ActiveRecord.query_transformers, ActiveRecord::QueryLogs
     end
 
+    test "disables prepared statements when enabled" do
+      add_to_config "config.active_record.query_log_tags_enabled = true"
+
+      boot_app
+
+      assert_predicate ActiveRecord, :disable_prepared_statements
+    end
+
     test "controller and job tags are defined by default" do
       add_to_config "config.active_record.query_log_tags_enabled = true"
+      app_file "config/initializers/active_record.rb", <<-RUBY
+        raise "Expected prepared_statements to be enabled" unless ActiveRecord::Base.connection.prepared_statements
+        ActiveRecord::Base.connection.execute("SELECT 1")
+      RUBY
 
       boot_app
 
