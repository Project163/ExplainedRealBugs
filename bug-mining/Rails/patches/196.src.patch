diff --git a/railties/CHANGELOG.md b/railties/CHANGELOG.md
index 984e295ad4..103edb9682 100644
--- a/railties/CHANGELOG.md
+++ b/railties/CHANGELOG.md
@@ -1,3 +1,8 @@
+*   Skip generating mailer-related files in authentication generator if the application does
+    not use ActionMailer
+
+    *Rami Massoud*
+
 *   Introduce `bin/ci` for running your tests, style checks, and security audits locally or in the cloud.
 
     The specific steps are defined by a new DSL in `config/ci.rb`.
diff --git a/railties/lib/rails/generators/rails/authentication/authentication_generator.rb b/railties/lib/rails/generators/rails/authentication/authentication_generator.rb
index ad7524da96..6defc45987 100644
--- a/railties/lib/rails/generators/rails/authentication/authentication_generator.rb
+++ b/railties/lib/rails/generators/rails/authentication/authentication_generator.rb
@@ -25,12 +25,15 @@ def create_authentication_files
 
         template "app/channels/application_cable/connection.rb" if defined?(ActionCable::Engine)
 
-        template "app/mailers/passwords_mailer.rb"
+        if defined?(ActionMailer::Railtie)
+          template "app/mailers/passwords_mailer.rb"
 
-        template "app/views/passwords_mailer/reset.html.erb"
-        template "app/views/passwords_mailer/reset.text.erb"
+          template "app/views/passwords_mailer/reset.html.erb"
+          template "app/views/passwords_mailer/reset.text.erb"
+
+          template "test/mailers/previews/passwords_mailer_preview.rb"
+        end
 
-        template "test/mailers/previews/passwords_mailer_preview.rb"
         template "test/test_helpers/session_test_helper.rb"
       end
 
diff --git a/railties/lib/rails/generators/rails/authentication/templates/app/controllers/passwords_controller.rb.tt b/railties/lib/rails/generators/rails/authentication/templates/app/controllers/passwords_controller.rb.tt
index f95ec7874d..7fdcfc86c8 100644
--- a/railties/lib/rails/generators/rails/authentication/templates/app/controllers/passwords_controller.rb.tt
+++ b/railties/lib/rails/generators/rails/authentication/templates/app/controllers/passwords_controller.rb.tt
@@ -1,10 +1,13 @@
 class PasswordsController < ApplicationController
   allow_unauthenticated_access
   before_action :set_user_by_token, only: %i[ edit update ]
+  <% if defined?(ActionMailer::Railtie) -%>
   rate_limit to: 10, within: 3.minutes, only: :create, with: -> { redirect_to new_password_path, alert: "Try again later." }
+  <% end -%>
 
   def new
   end
+  <% if defined?(ActionMailer::Railtie) -%>
 
   def create
     if user = User.find_by(email_address: params[:email_address])
@@ -13,6 +16,7 @@ class PasswordsController < ApplicationController
 
     redirect_to new_session_path, notice: "Password reset instructions sent (if user with that email address exists)."
   end
+  <% end -%>
 
   def edit
   end
diff --git a/railties/test/generators/authentication_generator_test.rb b/railties/test/generators/authentication_generator_test.rb
index b1eca76bf2..0d6e3c2b73 100644
--- a/railties/test/generators/authentication_generator_test.rb
+++ b/railties/test/generators/authentication_generator_test.rb
@@ -138,6 +138,26 @@ def test_connection_class_skipped_without_action_cable
     ActionCable.const_set(:Engine, old_value)
   end
 
+  def test_authentication_generator_without_action_mailer
+    old_value = ActionMailer.const_get(:Railtie)
+    ActionMailer.send(:remove_const, :Railtie)
+    generator([destination_root])
+    run_generator_instance
+
+    assert_no_file "app/mailers/application_mailer.rb"
+    assert_no_file "app/mailers/passwords_mailer.rb"
+    assert_no_file "app/views/passwords_mailer/reset.html.erb"
+    assert_no_file "app/views/passwords_mailer/reset.text.erb"
+    assert_no_file "test/mailers/previews/passwords_mailer_preview.rb"
+
+    assert_file "app/controllers/passwords_controller.rb" do |content|
+      assert_no_match(/def create\n    end/, content)
+      assert_no_match(/rate_limit/, content)
+    end
+  ensure
+    ActionCable.const_set(:Railtie, old_value)
+  end
+
   private
     def run_generator_instance
       @bundle_commands = []
