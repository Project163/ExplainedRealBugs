diff --git a/activerecord/CHANGELOG.md b/activerecord/CHANGELOG.md
index 4090cc02ee..ee196ef8e3 100644
--- a/activerecord/CHANGELOG.md
+++ b/activerecord/CHANGELOG.md
@@ -1,3 +1,8 @@
+*   Using `Model.query_constraints` with a single non-primary-key column used to raise as expected, but with an
+    incorrect error message. This has been fixed to raise with a more appropriate error message.
+
+    *Joshua Young*
+
 *   Fix `has_one` association autosave setting the foreign key attribute when it is unchanged.
 
     This behaviour is also inconsistent with autosaving `belongs_to` and can have unintended side effects like raising
diff --git a/activerecord/lib/active_record/reflection.rb b/activerecord/lib/active_record/reflection.rb
index 4f7c8396c5..327fd82de7 100644
--- a/activerecord/lib/active_record/reflection.rb
+++ b/activerecord/lib/active_record/reflection.rb
@@ -787,7 +787,7 @@ def derive_fk_query_constraints(foreign_key)
           primary_query_constraints = active_record.query_constraints_list
           owner_pk = active_record.primary_key
 
-          if primary_query_constraints.size != 2
+          if primary_query_constraints.size > 2
             raise ArgumentError, <<~MSG.squish
               The query constraints list on the `#{active_record}` model has more than 2
               attributes. Active Record is unable to derive the query constraints
diff --git a/activerecord/test/cases/associations_test.rb b/activerecord/test/cases/associations_test.rb
index 3d390e51ed..af13e75b32 100644
--- a/activerecord/test/cases/associations_test.rb
+++ b/activerecord/test/cases/associations_test.rb
@@ -368,14 +368,29 @@ def test_assign_composite_foreign_key_belongs_to_association
     assert_equal(another_blog.id, comment.blog_id)
   end
 
-  def test_query_constraints_that_dont_include_the_primary_key_raise
+  def test_query_constraints_that_dont_include_the_primary_key_raise_with_a_single_column
+    original = Sharded::BlogPost.instance_variable_get(:@query_constraints_list)
+    Sharded::BlogPost.query_constraints :title
+    Sharded::BlogPost.has_many :comments_without_single_column_query_constraints, primary_key: [:blog_id, :id], class_name: "Comment"
+    blog_post = sharded_blog_posts(:great_post_blog_one)
+
+    error = assert_raises ArgumentError do
+      blog_post.comments_without_single_column_query_constraints.to_a
+    end
+
+    assert_equal "The query constraints on the `Sharded::BlogPost` model does not include the primary key so Active Record is unable to derive the foreign key constraints for the association. You need to explicitly define the query constraints for this association.", error.message
+  ensure
+    Sharded::BlogPost.instance_variable_set(:@query_constraints_list, original)
+  end
+
+  def test_query_constraints_that_dont_include_the_primary_key_raise_with_multiple_columns
     original = Sharded::BlogPost.instance_variable_get(:@query_constraints_list)
     Sharded::BlogPost.query_constraints :title, :revision
-    Sharded::BlogPost.has_many :comments_without_query_constraints, primary_key: [:blog_id, :id], class_name: "Comment"
+    Sharded::BlogPost.has_many :comments_without_multiple_column_query_constraints, primary_key: [:blog_id, :id], class_name: "Comment"
     blog_post = sharded_blog_posts(:great_post_blog_one)
 
     error = assert_raises ArgumentError do
-      blog_post.comments_without_query_constraints.to_a
+      blog_post.comments_without_multiple_column_query_constraints.to_a
     end
 
     assert_equal "The query constraints on the `Sharded::BlogPost` model does not include the primary key so Active Record is unable to derive the foreign key constraints for the association. You need to explicitly define the query constraints for this association.", error.message
