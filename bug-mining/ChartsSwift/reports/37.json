{"url":"https://api.github.com/repos/ChartsOrg/Charts/issues/771","repository_url":"https://api.github.com/repos/ChartsOrg/Charts","labels_url":"https://api.github.com/repos/ChartsOrg/Charts/issues/771/labels{/name}","comments_url":"https://api.github.com/repos/ChartsOrg/Charts/issues/771/comments","events_url":"https://api.github.com/repos/ChartsOrg/Charts/issues/771/events","html_url":"https://github.com/ChartsOrg/Charts/issues/771","id":135802124,"node_id":"MDU6SXNzdWUxMzU4MDIxMjQ=","number":771,"title":"Can't set ChartViewBase's data property back to nil to clear out data","user":{"login":"ospr","id":10637420,"node_id":"MDQ6VXNlcjEwNjM3NDIw","avatar_url":"https://avatars.githubusercontent.com/u/10637420?v=4","gravatar_id":"","url":"https://api.github.com/users/ospr","html_url":"https://github.com/ospr","followers_url":"https://api.github.com/users/ospr/followers","following_url":"https://api.github.com/users/ospr/following{/other_user}","gists_url":"https://api.github.com/users/ospr/gists{/gist_id}","starred_url":"https://api.github.com/users/ospr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ospr/subscriptions","organizations_url":"https://api.github.com/users/ospr/orgs","repos_url":"https://api.github.com/users/ospr/repos","events_url":"https://api.github.com/users/ospr/events{/privacy}","received_events_url":"https://api.github.com/users/ospr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-02-23T17:19:14Z","updated_at":"2016-02-28T20:22:33Z","closed_at":"2016-02-28T20:22:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`ChartViewBase`'s `_data` property is defined as an implicitly unwrapped optional when really it should be a plain optional. The value starts off as nil, but then once it has been set you can no longer set it back to nil to clear out the data in the graph. By making the `_data` property optional that will allow for clearing the chart data (which will allow the `noDataText` to be shown again) and will make use of `_data` safer because its not implicitly unwrapped (eg could cause a runtime error if the property is nil and is accessed).\n\nRight now this code exists to prevent you from setting the `_data` property back to nil.\n\n```\n if newValue == nil\n {\n      print(\"Charts: data argument is nil on setData()\", terminator: \"\\n\")\n      return\n}\n```\n\nNote that if `_data` is changed from `data!` to `data?` that we'll need to handle all of the optional cases properly throughout the code base.\n","closed_by":{"login":"danielgindi","id":366926,"node_id":"MDQ6VXNlcjM2NjkyNg==","avatar_url":"https://avatars.githubusercontent.com/u/366926?v=4","gravatar_id":"","url":"https://api.github.com/users/danielgindi","html_url":"https://github.com/danielgindi","followers_url":"https://api.github.com/users/danielgindi/followers","following_url":"https://api.github.com/users/danielgindi/following{/other_user}","gists_url":"https://api.github.com/users/danielgindi/gists{/gist_id}","starred_url":"https://api.github.com/users/danielgindi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielgindi/subscriptions","organizations_url":"https://api.github.com/users/danielgindi/orgs","repos_url":"https://api.github.com/users/danielgindi/repos","events_url":"https://api.github.com/users/danielgindi/events{/privacy}","received_events_url":"https://api.github.com/users/danielgindi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/ChartsOrg/Charts/issues/771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ChartsOrg/Charts/issues/771/timeline","performed_via_github_app":null,"state_reason":"completed"}