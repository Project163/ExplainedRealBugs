diff --git a/test/test-spawn.c b/test/test-spawn.c
index 0a355af0..d11e5a8e 100644
--- a/test/test-spawn.c
+++ b/test/test-spawn.c
@@ -146,10 +146,13 @@ static void timer_cb(uv_timer_t* handle, int status) {
 
 
 TEST_IMPL(spawn_fails) {
+  int r;
+
   init_process_options("", fail_cb);
   options.file = options.args[0] = "program-that-had-better-not-exist";
 
-  ASSERT(UV_ENOENT == uv_spawn(uv_default_loop(), &process, &options));
+  r = uv_spawn(uv_default_loop(), &process, &options);
+  ASSERT(r == UV_ENOENT || r == UV_EACCES);
   ASSERT(0 == uv_is_active((uv_handle_t*) &process));
   ASSERT(0 == uv_run(uv_default_loop(), UV_RUN_DEFAULT));
 
