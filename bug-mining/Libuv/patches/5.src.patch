diff --git a/.gitignore b/.gitignore
index 96f557f3..f688d25b 100644
--- a/.gitignore
+++ b/.gitignore
@@ -19,7 +19,6 @@ ev/libtool
 ev/stamp-h1
 ev/autom4te.cache
 /ipch/
-/Win32/
-/x64/
+/build
 test/run-tests
 test/run-benchmarks
diff --git a/liboio.sln b/liboio.sln
deleted file mode 100644
index 75b3ad0c..00000000
--- a/liboio.sln
+++ /dev/null
@@ -1,46 +0,0 @@
-﻿
-Microsoft Visual Studio Solution File, Format Version 11.00
-# Visual Studio 2010
-Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "liboio", "liboio.vcxproj", "{301FE650-CD34-14E5-6B63-42E383FA02BC}"
-EndProject
-Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "liboio-test", "liboio-test.vcxproj", "{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}"
-EndProject
-Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "liboio-benchmark", "liboio-benchmark.vcxproj", "{595734A6-DDB3-9EB6-906F-E8534ADD789B}"
-EndProject
-Global
-	GlobalSection(SolutionConfigurationPlatforms) = preSolution
-		Debug|Win32 = Debug|Win32
-		Debug|x64 = Debug|x64
-		Release|Win32 = Release|Win32
-		Release|x64 = Release|x64
-	EndGlobalSection
-	GlobalSection(ProjectConfigurationPlatforms) = postSolution
-		{301FE650-CD34-14E5-6B63-42E383FA02BC}.Debug|Win32.ActiveCfg = Debug|Win32
-		{301FE650-CD34-14E5-6B63-42E383FA02BC}.Debug|Win32.Build.0 = Debug|Win32
-		{301FE650-CD34-14E5-6B63-42E383FA02BC}.Debug|x64.ActiveCfg = Debug|x64
-		{301FE650-CD34-14E5-6B63-42E383FA02BC}.Debug|x64.Build.0 = Debug|x64
-		{301FE650-CD34-14E5-6B63-42E383FA02BC}.Release|Win32.ActiveCfg = Release|Win32
-		{301FE650-CD34-14E5-6B63-42E383FA02BC}.Release|Win32.Build.0 = Release|Win32
-		{301FE650-CD34-14E5-6B63-42E383FA02BC}.Release|x64.ActiveCfg = Release|x64
-		{301FE650-CD34-14E5-6B63-42E383FA02BC}.Release|x64.Build.0 = Release|x64
-		{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}.Debug|Win32.ActiveCfg = Debug|Win32
-		{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}.Debug|Win32.Build.0 = Debug|Win32
-		{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}.Debug|x64.ActiveCfg = Debug|x64
-		{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}.Debug|x64.Build.0 = Debug|x64
-		{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}.Release|Win32.ActiveCfg = Release|Win32
-		{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}.Release|Win32.Build.0 = Release|Win32
-		{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}.Release|x64.ActiveCfg = Release|x64
-		{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}.Release|x64.Build.0 = Release|x64
-		{595734A6-DDB3-9EB6-906F-E8534ADD789B}.Debug|Win32.ActiveCfg = Debug|Win32
-		{595734A6-DDB3-9EB6-906F-E8534ADD789B}.Debug|Win32.Build.0 = Debug|Win32
-		{595734A6-DDB3-9EB6-906F-E8534ADD789B}.Debug|x64.ActiveCfg = Debug|x64
-		{595734A6-DDB3-9EB6-906F-E8534ADD789B}.Debug|x64.Build.0 = Debug|x64
-		{595734A6-DDB3-9EB6-906F-E8534ADD789B}.Release|Win32.ActiveCfg = Release|Win32
-		{595734A6-DDB3-9EB6-906F-E8534ADD789B}.Release|Win32.Build.0 = Release|Win32
-		{595734A6-DDB3-9EB6-906F-E8534ADD789B}.Release|x64.ActiveCfg = Release|x64
-		{595734A6-DDB3-9EB6-906F-E8534ADD789B}.Release|x64.Build.0 = Release|x64
-	EndGlobalSection
-	GlobalSection(SolutionProperties) = preSolution
-		HideSolutionNode = FALSE
-	EndGlobalSection
-EndGlobal
diff --git a/liboio-benchmark.vcxproj b/msvs/liboio-benchmark.vcxproj
similarity index 87%
rename from liboio-benchmark.vcxproj
rename to msvs/liboio-benchmark.vcxproj
index f9c243e2..4827f34f 100644
--- a/liboio-benchmark.vcxproj
+++ b/msvs/liboio-benchmark.vcxproj
@@ -56,23 +56,23 @@
   <PropertyGroup Label="UserMacros" />
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
     <LinkIncremental>true</LinkIncremental>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
     <LinkIncremental>true</LinkIncremental>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
     <LinkIncremental>true</LinkIncremental>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
     <LinkIncremental>true</LinkIncremental>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
   </PropertyGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
     <ClCompile>
@@ -135,30 +135,30 @@
     </Link>
   </ItemDefinitionGroup>
   <ItemGroup>
-    <ClCompile Include="test\benchmark-ping-pongs.c" />
-    <ClCompile Include="test\echo-server.c" />
-    <ClCompile Include="test\run-benchmarks.c" />
-    <ClCompile Include="test\runner-unix.c">
+    <ClCompile Include="..\test\benchmark-ping-pongs.c" />
+    <ClCompile Include="..\test\echo-server.c" />
+    <ClCompile Include="..\test\run-benchmarks.c" />
+    <ClCompile Include="..\test\runner-unix.c">
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|x64'">true</ExcludedFromBuild>
     </ClCompile>
-    <ClCompile Include="test\runner-win.c" />
-    <ClCompile Include="test\runner.c" />
-    <ClCompile Include="test\benchmark-dummy.c" />
+    <ClCompile Include="..\test\runner-win.c" />
+    <ClCompile Include="..\test\runner.c" />
+    <ClCompile Include="..\test\benchmark-dummy.c" />
   </ItemGroup>
   <ItemGroup>
-    <ClInclude Include="test\benchmark-list.h" />
-    <ClInclude Include="test\runner-unix.h">
+    <ClInclude Include="..\test\benchmark-list.h" />
+    <ClInclude Include="..\test\runner-unix.h">
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|x64'">true</ExcludedFromBuild>
     </ClInclude>
-    <ClInclude Include="test\runner-win.h" />
-    <ClInclude Include="test\runner.h" />
-    <ClInclude Include="test\task.h" />
+    <ClInclude Include="..\test\runner-win.h" />
+    <ClInclude Include="..\test\runner.h" />
+    <ClInclude Include="..\test\task.h" />
   </ItemGroup>
   <ItemGroup>
     <ProjectReference Include="liboio.vcxproj">
diff --git a/liboio-test.vcxproj b/msvs/liboio-test.vcxproj
similarity index 84%
rename from liboio-test.vcxproj
rename to msvs/liboio-test.vcxproj
index db88031f..cae3d87c 100644
--- a/liboio-test.vcxproj
+++ b/msvs/liboio-test.vcxproj
@@ -57,23 +57,23 @@
   <PropertyGroup Label="UserMacros" />
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
     <LinkIncremental>true</LinkIncremental>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
     <LinkIncremental>true</LinkIncremental>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
     <LinkIncremental>true</LinkIncremental>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
     <LinkIncremental>true</LinkIncremental>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
   </PropertyGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
     <ClCompile>
@@ -136,37 +136,37 @@
     </Link>
   </ItemDefinitionGroup>
   <ItemGroup>
-    <ClCompile Include="test\echo-server.c" />
-    <ClCompile Include="test\runner-unix.c">
+    <ClCompile Include="..\test\echo-server.c" />
+    <ClCompile Include="..\test\runner-unix.c">
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|x64'">true</ExcludedFromBuild>
     </ClCompile>
-    <ClCompile Include="test\test-delayed-accept.c" />
-    <ClCompile Include="test\test-callback-stack.c" />
-    <ClCompile Include="test\test-connection-fail.c" />
-    <ClCompile Include="test\test-fail-always.c" />
-    <ClCompile Include="test\test-pass-always.c" />
-    <ClCompile Include="test\test-ping-pong.c" />
-    <ClCompile Include="test\runner-win.c" />
-    <ClCompile Include="test\runner.c" />
-    <ClCompile Include="test\test-bind-error.c" />
-    <ClCompile Include="test\test-tcp-writealot.c" />
-    <ClCompile Include="test\test-timeout.c" />
-    <ClCompile Include="test\run-tests.c" />
+    <ClCompile Include="..\test\test-delayed-accept.c" />
+    <ClCompile Include="..\test\test-callback-stack.c" />
+    <ClCompile Include="..\test\test-connection-fail.c" />
+    <ClCompile Include="..\test\test-fail-always.c" />
+    <ClCompile Include="..\test\test-pass-always.c" />
+    <ClCompile Include="..\test\test-ping-pong.c" />
+    <ClCompile Include="..\test\runner-win.c" />
+    <ClCompile Include="..\test\runner.c" />
+    <ClCompile Include="..\test\test-bind-error.c" />
+    <ClCompile Include="..\test\test-tcp-writealot.c" />
+    <ClCompile Include="..\test\test-timeout.c" />
+    <ClCompile Include="..\test\run-tests.c" />
   </ItemGroup>
   <ItemGroup>
-    <ClInclude Include="test\runner-unix.h">
+    <ClInclude Include="..\test\runner-unix.h">
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|x64'">true</ExcludedFromBuild>
     </ClInclude>
-    <ClInclude Include="test\test-list.h" />
-    <ClInclude Include="test\runner-win.h" />
-    <ClInclude Include="test\runner.h" />
-    <ClInclude Include="test\task.h" />
+    <ClInclude Include="..\test\test-list.h" />
+    <ClInclude Include="..\test\runner-win.h" />
+    <ClInclude Include="..\test\runner.h" />
+    <ClInclude Include="..\test\task.h" />
   </ItemGroup>
   <ItemGroup>
     <ProjectReference Include="liboio.vcxproj">
diff --git a/msvs/liboio.sln b/msvs/liboio.sln
new file mode 100644
index 00000000..a810e5d7
--- /dev/null
+++ b/msvs/liboio.sln
@@ -0,0 +1,22 @@
+﻿
+Microsoft Visual Studio Solution File, Format Version 11.00
+# Visual Studio 2010
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "liboio", "liboio.vcxproj", "{301FE650-CD34-14E5-6B63-42E383FA02BC}"
+EndProject
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "liboio-test", "liboio-test.vcxproj", "{1D7C3F6C-A4AF-DD73-2D20-B2FC919B3744}"
+EndProject
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "liboio-benchmark", "liboio-benchmark.vcxproj", "{65312F30-3B19-A87E-E8D1-491D0F4A6536}"
+EndProject
+Global
+	GlobalSection(SolutionConfigurationPlatforms) = preSolution
+		Debug|Win32 = Debug|Win32
+		Debug|x64 = Debug|x64
+		Release|Win32 = Release|Win32
+		Release|x64 = Release|x64
+	EndGlobalSection
+	GlobalSection(ProjectConfigurationPlatforms) = postSolution
+	EndGlobalSection
+	GlobalSection(SolutionProperties) = preSolution
+		HideSolutionNode = FALSE
+	EndGlobalSection
+EndGlobal
diff --git a/liboio.vcxproj b/msvs/liboio.vcxproj
similarity index 85%
rename from liboio.vcxproj
rename to msvs/liboio.vcxproj
index f8d5fde0..979a661d 100644
--- a/liboio.vcxproj
+++ b/msvs/liboio.vcxproj
@@ -56,20 +56,20 @@
   </ImportGroup>
   <PropertyGroup Label="UserMacros" />
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
-    <OutDir>$(SolutionDir)$(Platform)\$(Configuration)\</OutDir>
-    <IntDir>$(Platform)\$(Configuration)\</IntDir>
+    <OutDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</OutDir>
+    <IntDir>$(SolutionDir)..\build\$(Platform)\$(Configuration)\</IntDir>
   </PropertyGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
     <ClCompile>
@@ -100,32 +100,32 @@
     </ClCompile>
   </ItemDefinitionGroup>
   <ItemGroup>
-    <ClInclude Include="ngx-queue.h" />
-    <ClInclude Include="oio-unix.h">
+    <ClInclude Include="..\ngx-queue.h" />
+    <ClInclude Include="..\oio-unix.h">
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|x64'">true</ExcludedFromBuild>
     </ClInclude>
-    <ClInclude Include="oio-win.h" />
-    <ClInclude Include="oio.h" />
-    <ClInclude Include="tree.h" />
+    <ClInclude Include="..\oio-win.h" />
+    <ClInclude Include="..\oio.h" />
+    <ClInclude Include="..\tree.h" />
   </ItemGroup>
   <ItemGroup>
-    <ClCompile Include="oio-unix.c">
+    <ClCompile Include="..\oio-unix.c">
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">true</ExcludedFromBuild>
       <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|x64'">true</ExcludedFromBuild>
     </ClCompile>
-    <ClCompile Include="oio-win.c" />
+    <ClCompile Include="..\oio-win.c" />
   </ItemGroup>
   <ItemGroup>
-    <None Include="AUTHORS" />
-    <None Include="iocp-links.html" />
-    <None Include="LICENSE" />
-    <None Include="Makefile" />
-    <None Include="README" />
+    <None Include="..\AUTHORS" />
+    <None Include="..\iocp-links.html" />
+    <None Include="..\LICENSE" />
+    <None Include="..\Makefile" />
+    <None Include="..\README" />
   </ItemGroup>
   <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
   <ImportGroup Label="ExtensionTargets">
