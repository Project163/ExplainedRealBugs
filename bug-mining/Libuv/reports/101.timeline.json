[{"id":16782896133,"node_id":"RTE_lADOAOIGQ86uI5F9zwAAAAPoVqwF","url":"https://api.github.com/repos/libuv/libuv/issues/events/16782896133","actor":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2025-03-15T02:13:01Z","rename":{"from":"Serious hang issue in Windows named pipes support","to":"Hang issue in Windows named pipes support"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2726126003","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2726126003","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2726126003,"node_id":"IC_kwDOAOIGQ86ifWGz","user":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-15T02:14:42Z","updated_at":"2025-03-15T02:14:42Z","body":"This issue can be closed; it was caused by calling `uv_read_start()` again inside the `uv_read_cb` read callback, which is undefined behavior according to the documentation.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2726126003/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16782901838,"node_id":"CE_lADOAOIGQ86uI5F9zwAAAAPoVsJO","url":"https://api.github.com/repos/libuv/libuv/issues/events/16782901838","actor":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-03-15T02:14:42Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-03T09:22:56Z","updated_at":"2025-05-03T09:22:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/nodejs/node/issues/58135","repository_url":"https://api.github.com/repos/nodejs/node","labels_url":"https://api.github.com/repos/nodejs/node/issues/58135/labels{/name}","comments_url":"https://api.github.com/repos/nodejs/node/issues/58135/comments","events_url":"https://api.github.com/repos/nodejs/node/issues/58135/events","html_url":"https://github.com/nodejs/node/issues/58135","id":3037297058,"node_id":"I_kwDOAZ7xs861CXmi","number":58135,"title":"Node sometimes locks up when reading from named pipe on Windows","user":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":166236401,"node_id":"MDU6TGFiZWwxNjYyMzY0MDE=","url":"https://api.github.com/repos/nodejs/node/labels/windows","name":"windows","color":"9944dd","default":false,"description":"Issues and PRs related to the Windows platform."},{"id":214431115,"node_id":"MDU6TGFiZWwyMTQ0MzExMTU=","url":"https://api.github.com/repos/nodejs/node/labels/libuv","name":"libuv","color":"bfd4f2","default":false,"description":"Issues and PRs related to the libuv dependency or the uv binding."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2025-05-03T09:22:55Z","updated_at":"2025-09-03T07:22:41Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":27193779,"node_id":"MDEwOlJlcG9zaXRvcnkyNzE5Mzc3OQ==","name":"node","full_name":"nodejs/node","private":false,"owner":{"login":"nodejs","id":9950313,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5NTAzMTM=","avatar_url":"https://avatars.githubusercontent.com/u/9950313?v=4","gravatar_id":"","url":"https://api.github.com/users/nodejs","html_url":"https://github.com/nodejs","followers_url":"https://api.github.com/users/nodejs/followers","following_url":"https://api.github.com/users/nodejs/following{/other_user}","gists_url":"https://api.github.com/users/nodejs/gists{/gist_id}","starred_url":"https://api.github.com/users/nodejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nodejs/subscriptions","organizations_url":"https://api.github.com/users/nodejs/orgs","repos_url":"https://api.github.com/users/nodejs/repos","events_url":"https://api.github.com/users/nodejs/events{/privacy}","received_events_url":"https://api.github.com/users/nodejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/nodejs/node","description":"Node.js JavaScript runtime âœ¨ðŸ¢ðŸš€âœ¨","fork":false,"url":"https://api.github.com/repos/nodejs/node","forks_url":"https://api.github.com/repos/nodejs/node/forks","keys_url":"https://api.github.com/repos/nodejs/node/keys{/key_id}","collaborators_url":"https://api.github.com/repos/nodejs/node/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/nodejs/node/teams","hooks_url":"https://api.github.com/repos/nodejs/node/hooks","issue_events_url":"https://api.github.com/repos/nodejs/node/issues/events{/number}","events_url":"https://api.github.com/repos/nodejs/node/events","assignees_url":"https://api.github.com/repos/nodejs/node/assignees{/user}","branches_url":"https://api.github.com/repos/nodejs/node/branches{/branch}","tags_url":"https://api.github.com/repos/nodejs/node/tags","blobs_url":"https://api.github.com/repos/nodejs/node/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/nodejs/node/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/nodejs/node/git/refs{/sha}","trees_url":"https://api.github.com/repos/nodejs/node/git/trees{/sha}","statuses_url":"https://api.github.com/repos/nodejs/node/statuses/{sha}","languages_url":"https://api.github.com/repos/nodejs/node/languages","stargazers_url":"https://api.github.com/repos/nodejs/node/stargazers","contributors_url":"https://api.github.com/repos/nodejs/node/contributors","subscribers_url":"https://api.github.com/repos/nodejs/node/subscribers","subscription_url":"https://api.github.com/repos/nodejs/node/subscription","commits_url":"https://api.github.com/repos/nodejs/node/commits{/sha}","git_commits_url":"https://api.github.com/repos/nodejs/node/git/commits{/sha}","comments_url":"https://api.github.com/repos/nodejs/node/comments{/number}","issue_comment_url":"https://api.github.com/repos/nodejs/node/issues/comments{/number}","contents_url":"https://api.github.com/repos/nodejs/node/contents/{+path}","compare_url":"https://api.github.com/repos/nodejs/node/compare/{base}...{head}","merges_url":"https://api.github.com/repos/nodejs/node/merges","archive_url":"https://api.github.com/repos/nodejs/node/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/nodejs/node/downloads","issues_url":"https://api.github.com/repos/nodejs/node/issues{/number}","pulls_url":"https://api.github.com/repos/nodejs/node/pulls{/number}","milestones_url":"https://api.github.com/repos/nodejs/node/milestones{/number}","notifications_url":"https://api.github.com/repos/nodejs/node/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/nodejs/node/labels{/name}","releases_url":"https://api.github.com/repos/nodejs/node/releases{/id}","deployments_url":"https://api.github.com/repos/nodejs/node/deployments","created_at":"2014-11-26T19:57:11Z","updated_at":"2025-11-10T12:48:45Z","pushed_at":"2025-11-10T12:35:31Z","git_url":"git://github.com/nodejs/node.git","ssh_url":"git@github.com:nodejs/node.git","clone_url":"https://github.com/nodejs/node.git","svn_url":"https://github.com/nodejs/node","homepage":"https://nodejs.org","size":1369932,"stargazers_count":114213,"watchers_count":114213,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":33724,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2386,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["javascript","js","linux","macos","mit","node","nodejs","runtime","windows"],"visibility":"public","forks":33724,"open_issues":2386,"watchers":114213,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Version\n\nv22.13.1\n\n### Platform\n\n```text\nMicrosoft Windows NT 10.0.26100.0 x64\n```\n\n### Subsystem\n\n_No response_\n\n### What steps will reproduce the bug?\n\nNode is sometimes locking up completely. Unfortunately, it happens only in production, and we have not yet been able to reproduce it. However, we received a memory dump of the nodejs process which shows that it hangs in the following call stack:\n\n```\n \tntdll.dll!NtWaitForSingleObject()\tUnbekannt\n \tKERNELBASE.dll!WaitForSingleObjectEx()\tUnbekannt\n \tKERNELBASE.dll!GetOverlappedResult()\tUnbekannt\n \tnode.exe!uv__pipe_read_data(uv_loop_s * loop, uv_pipe_s * handle, unsigned long * bytes_read, unsigned long max_bytes) Zeile 2008\tC\n \tnode.exe!uv__process_pipe_read_req(uv_loop_s * loop, uv_pipe_s * handle, uv_req_s * req) Zeile 2162\tC\n \t[Inlineframe] node.exe!uv__process_reqs(uv_loop_s *) Zeile 159\tC\n \tnode.exe!uv_run(uv_loop_s * loop, uv_run_mode mode) Zeile 639\tC\n \tnode.exe!node::SpinEventLoopInternal(node::Environment * env) Zeile 42\tC++\n \t[Inlineframe] node.exe!node::NodeMainInstance::Run(node::ExitCode *) Zeile 110\tC++\n \tnode.exe!node::NodeMainInstance::Run() Zeile 100\tC++\n \tnode.exe!node::StartInternal(int argc, char * * argv) Zeile 1540\tC++\n \tnode.exe!node::Start(int argc, char * * argv) Zeile 1548\tC++\n \tnode.exe!wmain(int argc, wchar_t * * wargv) Zeile 91\tC++\n \t[Inlineframe] node.exe!invoke_main() Zeile 90\tC++\n \tnode.exe!__scrt_common_main_seh() Zeile 288\tC++\n \tkernel32.dll!BaseThreadInitThunk()\tUnbekannt\n \tntdll.dll!RtlUserThreadStart()\tUnbekannt\n```\n\nI looked in the node and libuv issues and it looks very much like https://github.com/libuv/libuv/issues/4738 . Unfortunately, the submitter closed this issue without any input from the developers.\n\nI think this issue is real and under some circumstances, node triggers it and as a result completely locks up.\n\n### How often does it reproduce? Is there a required condition?\n\nAt the customer's site this is reliably reproducable. However, the data used to trigger the issue cannot be shared with us. We'll try to reproduce it locally, but this might prove somewhat difficult. I think https://github.com/libuv/libuv/issues/4738 and the analysis contained within is the key to solving this.\n\n### What is the expected behavior? Why is that the expected behavior?\n\nNode should not lock up\n\n### What do you see instead?\n\nNode locks up\n\n### Additional information\n\n_No response_","reactions":{"url":"https://api.github.com/repos/nodejs/node/issues/58135/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nodejs/node/issues/58135/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":17507361607,"node_id":"SE_lADOAOIGQ86uI5F9zwAAAAQThSNH","url":"https://api.github.com/repos/libuv/libuv/issues/events/17507361607","actor":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-03T09:24:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2848538547","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2848538547","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2848538547,"node_id":"IC_kwDOAOIGQ86pyT-z","user":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-03T09:25:49Z","updated_at":"2025-05-03T09:25:49Z","body":"See https://github.com/nodejs/node/issues/58135 for an instance where this happens in nodejs, not using libuv directly. So I think this issue is not solved and should be reopened.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2848538547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2848692957","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2848692957","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2848692957,"node_id":"IC_kwDOAOIGQ86py5rd","user":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-03T16:15:26Z","updated_at":"2025-05-03T16:15:26Z","body":"Not unless there are clear steps to reproduce. As it stands that node issue is inactionable, therefore doubly so this one.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2848692957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2859249175","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2859249175","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2859249175,"node_id":"IC_kwDOAOIGQ86qbK4X","user":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-07T16:33:21Z","updated_at":"2025-05-07T16:33:21Z","body":"@bnoordhuis I added a minimal reproducing example to https://github.com/nodejs/node/issues/58135.\n\nI would appreciate if you could take a look.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2859249175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17559862273,"node_id":"MEE_lADOAOIGQ86uI5F9zwAAAAQWpjwB","url":"https://api.github.com/repos/libuv/libuv/issues/events/17559862273","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-05-07T16:33:22Z","performed_via_github_app":null},{"id":17559862298,"node_id":"SE_lADOAOIGQ86uI5F9zwAAAAQWpjwa","url":"https://api.github.com/repos/libuv/libuv/issues/events/17559862298","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-07T16:33:22Z","performed_via_github_app":null},{"id":17567868454,"node_id":"SE_lADOAOIGQ86uI5F9zwAAAAQXIGYm","url":"https://api.github.com/repos/libuv/libuv/issues/events/17567868454","actor":{"login":"viyaha","id":44086665,"node_id":"MDQ6VXNlcjQ0MDg2NjY1","avatar_url":"https://avatars.githubusercontent.com/u/44086665?v=4","gravatar_id":"","url":"https://api.github.com/users/viyaha","html_url":"https://github.com/viyaha","followers_url":"https://api.github.com/users/viyaha/followers","following_url":"https://api.github.com/users/viyaha/following{/other_user}","gists_url":"https://api.github.com/users/viyaha/gists{/gist_id}","starred_url":"https://api.github.com/users/viyaha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viyaha/subscriptions","organizations_url":"https://api.github.com/users/viyaha/orgs","repos_url":"https://api.github.com/users/viyaha/repos","events_url":"https://api.github.com/users/viyaha/events{/privacy}","received_events_url":"https://api.github.com/users/viyaha/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-08T06:28:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867318350","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2867318350","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2867318350,"node_id":"IC_kwDOAOIGQ86q585O","user":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-09T17:07:22Z","updated_at":"2025-05-09T17:07:22Z","body":"Thanks, I stepped through the example code and think I see the issue: compared to your C example, there is a pair of calls inside that nodejs read callback:\n```\nuv_read_stop()\nuv_read_start()\n```\n\nInside that `uv_read_start` there is a call to `/* Do 0-read */`, which will cause any future attempts to examine the pipe to fail until this first read is completed or interrupted. We need to decide who's responsible for resuming that read: does `uv_read_start` re-arm the reader, and `uv_read_cb` reject any attempts at optimization when UV_HANDLE_READ_PENDING is set? Or does `uv_read_start` need to realize that it is being called from within `uv_read_cb` and not attempt to initiate a new read? According to the existing code, the first one (do not optimize for performance when being called from the normal nodejs code patterns) seems the intended behavior, but I don't think that is necessary best.\n\nThere was an earlier claim in this thread that the documentation for libuv claims that what nodejs does here is invalid (https://github.com/libuv/libuv/issues/4738#issuecomment-2726126003), but I don't think that is true.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867318350/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867335433","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2867335433","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2867335433,"node_id":"IC_kwDOAOIGQ86q6BEJ","user":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-09T17:16:06Z","updated_at":"2025-05-09T17:16:06Z","body":"A minimal fix (tested against your nodejs reproducer to avoid the issue, though it essentially does just set more=0 always for the default nodejs configuration, so it is not necessarily the best performance option for nodejs):\n```diff\ndiff --git a/deps/uv/src/win/pipe.c b/deps/uv/src/win/pipe.c\nindex d05bfd28aec..8f86a1fee2e 100644\n--- a/deps/uv/src/win/pipe.c\n+++ b/deps/uv/src/win/pipe.c\n@@ -2149,7 +2149,8 @@ void uv__process_pipe_read_req(uv_loop_t* loop,\n   } else {\n     /* The zero-read completed without error, indicating there is data\n      * available in the kernel buffer. */\n-    while (handle->flags & UV_HANDLE_READING) {\n+    while (handle->flags & UV_HANDLE_READING &&\n+           !(handle->flags & UV_HANDLE_READ_PENDING)) {\n       bytes_requested = 65536;\n       /* Depending on the type of pipe, read either IPC frames or raw data. */\n       if (handle->ipc)\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867335433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17594438226,"node_id":"REE_lADOAOIGQ86uI5F9zwAAAAQYtdJS","url":"https://api.github.com/repos/libuv/libuv/issues/events/17594438226","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2025-05-09T17:16:09Z","state_reason":"reopened","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867407732","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2867407732","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2867407732,"node_id":"IC_kwDOAOIGQ86q6St0","user":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-09T17:36:25Z","updated_at":"2025-05-09T17:36:25Z","body":"> There was an earlier claim in this thread that the documentation for libuv claims that what nodejs does here is invalid ([#4738 (comment)](https://github.com/libuv/libuv/issues/4738#issuecomment-2726126003)), but I don't think that is true.\n\nThe documentation states, in the case of uv_read_cb(...): \"Trying to read from the stream again is undefined.\". I have debugged the libuv code step by step and realized that it is actually true, if you try to call uv_read_start() inside uv_read_cb() the handle is not re-added to the list of handles for GetQueuedCompletionStatus() and no one will wait for the next read operation to complete, so the loop will stall.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867407732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867450648","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2867450648","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2867450648,"node_id":"IC_kwDOAOIGQ86q6dMY","user":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-09T17:45:14Z","updated_at":"2025-05-09T17:45:14Z","body":"`GetQueuedCompletionStatus` doesn't have a list of handles, so I don't quite follow that. The documentation only says that after an error, it is undefined whether the stream will have more data","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867450648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867527239","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2867527239","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2867527239,"node_id":"IC_kwDOAOIGQ86q6v5H","user":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-09T18:14:23Z","updated_at":"2025-05-09T18:15:27Z","body":"> `GetQueuedCompletionStatus` doesn't have a list of handles, so I don't quite follow that. The documentation only says that after an error, it is undefined whether the stream will have more data\n\nI can't fully switch context to this issue due to time constraints, but: in win/core.c, around line 485 (at least in 1.50.0 that I was working with), in uv__poll(), there is a call to GetQueuedCompletionStatusEx which has a list of OVERLAPPED entries. If you call uv_read_start inside the read callback, that handle's OVERLAPPED structure will not be added to the list of entries that GetQueuedCompletionStatusEx is waiting for on the next loop. The key is to also look in the uv_run which does some calls to uv__process_reqs, besides the uv__poll. I found exactly where some handle state was overwritten after exiting the read callback (so rendering the uv_read_start inside useless) and this prevented re-adding the OVERLAPPED structure to the list, but I can't remember those details right now.\n\nInstead of calling uv_read_start in uv_read_cb, I did an uv_async_send and I called uv_read_start in the async_send's callback on a later loop cycle. The problem was completely fixed. \n\nFor me, the documentation was quite clear.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867527239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867749912","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2867749912","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2867749912,"node_id":"IC_kwDOAOIGQ86q7mQY","user":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-09T19:54:37Z","updated_at":"2025-05-09T19:54:37Z","body":"The explanation still isn't quite coherent, since GetQueuedCompletionStatusEx does not have a list of OVERLAPPED entires (it waits on an IOCP handle). There is the reported bug here, where indeed the state from uv_read_start will get overwritten by uv__process_pipe_read_req upon return, leading to deadlock. The documentation is wrong if it seems to indicate uv_read_start is not able to be used in that way, and there is not supposed to be a need for a badly performing workaround like you indicate.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2867749912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2871667124","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2871667124","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2871667124,"node_id":"IC_kwDOAOIGQ86rKim0","user":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-12T09:07:08Z","updated_at":"2025-05-12T09:07:08Z","body":"> A minimal fix (tested against your nodejs reproducer to avoid the issue, though it essentially does just set more=0 always for the default nodejs configuration, so it is not necessarily the best performance option for nodejs):\n> [...]\n\nThanks for taking a look, figuring out the missing puzzle piece and reopening this issue @vtjnash \n\nWe have already reverted to node 22.11, which also fixes the issue. But we'd of course be interested in a proper fix.\n\nI don't know enough about node internals to contribute but AFAIUI there are potentially two issues here.\n\nFirst, in libuv, `uv_read_stop(); uv_read_start()` inside `uv_read_cb` leads to an inconsistent state. Ideally this can be fixed, but if not, maybe this should just be detected and raise an error? So that users like node can figure out that it has happened and avoid this usage pattern.\n\nBut the other issue I don't understand is: why does node stop the read in the first place? AFAIUI, the callback for the \"readable\" event is executed inside the `uv_read_cb`. If the event listener is kept in place, I don't see a reason why the read should be stopped and restarted at all.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2871667124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mika-fischer","id":426158,"node_id":"MDQ6VXNlcjQyNjE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/426158?v=4","gravatar_id":"","url":"https://api.github.com/users/mika-fischer","html_url":"https://github.com/mika-fischer","followers_url":"https://api.github.com/users/mika-fischer/followers","following_url":"https://api.github.com/users/mika-fischer/following{/other_user}","gists_url":"https://api.github.com/users/mika-fischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mika-fischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mika-fischer/subscriptions","organizations_url":"https://api.github.com/users/mika-fischer/orgs","repos_url":"https://api.github.com/users/mika-fischer/repos","events_url":"https://api.github.com/users/mika-fischer/events{/privacy}","received_events_url":"https://api.github.com/users/mika-fischer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17612432850,"node_id":"MEE_lADOAOIGQ86uI5F9zwAAAAQZyGXS","url":"https://api.github.com/repos/libuv/libuv/issues/events/17612432850","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-05-12T09:07:09Z","performed_via_github_app":null},{"id":17612432862,"node_id":"SE_lADOAOIGQ86uI5F9zwAAAAQZyGXe","url":"https://api.github.com/repos/libuv/libuv/issues/events/17612432862","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-12T09:07:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2872329815","html_url":"https://github.com/libuv/libuv/issues/4738#issuecomment-2872329815","issue_url":"https://api.github.com/repos/libuv/libuv/issues/4738","id":2872329815,"node_id":"IC_kwDOAOIGQ86rNEZX","user":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-12T12:17:41Z","updated_at":"2025-05-12T12:17:41Z","body":"> But the other issue I don't understand is: why does node stop the read in the first place? AFAIUI, the callback for the \"readable\" event is executed inside the `uv_read_cb`. If the event listener is kept in place, I don't see a reason why the read should be stopped and restarted at all.\n\nLibuv doesn't actually stop the read; but libuv users usually have a state machine that is transitioned to a \"read finished\" state when enough data has been received. They call uv_read_stop(). And then the state machine goes to a new state in which a new read is required. A new call to uv_read_start() is made, while the client may not be aware (and honestly should not be aware) that it was called from a callback in which uv_read_start() calls are \"illegal\". At least that's what happened in my original case. It did work before the major Windows pipe code rewrite done in v1.49.0 (if I remember correctly the version).\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/2872329815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cstavaru","id":18140680,"node_id":"MDQ6VXNlcjE4MTQwNjgw","avatar_url":"https://avatars.githubusercontent.com/u/18140680?v=4","gravatar_id":"","url":"https://api.github.com/users/cstavaru","html_url":"https://github.com/cstavaru","followers_url":"https://api.github.com/users/cstavaru/followers","following_url":"https://api.github.com/users/cstavaru/following{/other_user}","gists_url":"https://api.github.com/users/cstavaru/gists{/gist_id}","starred_url":"https://api.github.com/users/cstavaru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstavaru/subscriptions","organizations_url":"https://api.github.com/users/cstavaru/orgs","repos_url":"https://api.github.com/users/cstavaru/repos","events_url":"https://api.github.com/users/cstavaru/events{/privacy}","received_events_url":"https://api.github.com/users/cstavaru/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17617237895,"node_id":"REFE_lADOAOIGQ86uI5F9zwAAAAQaEbeH","url":"https://api.github.com/repos/libuv/libuv/issues/events/17617237895","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9f342d220479e0a096de1472b68a06dde1f81ec3","commit_url":"https://api.github.com/repos/vtjnash/libuv/commits/9f342d220479e0a096de1472b68a06dde1f81ec3","created_at":"2025-05-12T13:49:25Z","performed_via_github_app":null},{"actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-12T13:49:32Z","updated_at":"2025-05-12T13:49:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/libuv/libuv/issues/4784","repository_url":"https://api.github.com/repos/libuv/libuv","labels_url":"https://api.github.com/repos/libuv/libuv/issues/4784/labels{/name}","comments_url":"https://api.github.com/repos/libuv/libuv/issues/4784/comments","events_url":"https://api.github.com/repos/libuv/libuv/issues/4784/events","html_url":"https://github.com/libuv/libuv/pull/4784","id":3057051889,"node_id":"PR_kwDOAOIGQ86V17zy","number":4784,"title":"win,pipe: minimal fix to uv_read_cb->uv_read_start recursion bug","user":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-05-12T13:49:31Z","updated_at":"2025-07-10T13:08:38Z","closed_at":"2025-07-10T13:08:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":14812739,"node_id":"MDEwOlJlcG9zaXRvcnkxNDgxMjczOQ==","name":"libuv","full_name":"libuv/libuv","private":false,"owner":{"login":"libuv","id":4030929,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQwMzA5Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4030929?v=4","gravatar_id":"","url":"https://api.github.com/users/libuv","html_url":"https://github.com/libuv","followers_url":"https://api.github.com/users/libuv/followers","following_url":"https://api.github.com/users/libuv/following{/other_user}","gists_url":"https://api.github.com/users/libuv/gists{/gist_id}","starred_url":"https://api.github.com/users/libuv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/libuv/subscriptions","organizations_url":"https://api.github.com/users/libuv/orgs","repos_url":"https://api.github.com/users/libuv/repos","events_url":"https://api.github.com/users/libuv/events{/privacy}","received_events_url":"https://api.github.com/users/libuv/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/libuv/libuv","description":"Cross-platform asynchronous I/O","fork":false,"url":"https://api.github.com/repos/libuv/libuv","forks_url":"https://api.github.com/repos/libuv/libuv/forks","keys_url":"https://api.github.com/repos/libuv/libuv/keys{/key_id}","collaborators_url":"https://api.github.com/repos/libuv/libuv/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/libuv/libuv/teams","hooks_url":"https://api.github.com/repos/libuv/libuv/hooks","issue_events_url":"https://api.github.com/repos/libuv/libuv/issues/events{/number}","events_url":"https://api.github.com/repos/libuv/libuv/events","assignees_url":"https://api.github.com/repos/libuv/libuv/assignees{/user}","branches_url":"https://api.github.com/repos/libuv/libuv/branches{/branch}","tags_url":"https://api.github.com/repos/libuv/libuv/tags","blobs_url":"https://api.github.com/repos/libuv/libuv/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/libuv/libuv/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/libuv/libuv/git/refs{/sha}","trees_url":"https://api.github.com/repos/libuv/libuv/git/trees{/sha}","statuses_url":"https://api.github.com/repos/libuv/libuv/statuses/{sha}","languages_url":"https://api.github.com/repos/libuv/libuv/languages","stargazers_url":"https://api.github.com/repos/libuv/libuv/stargazers","contributors_url":"https://api.github.com/repos/libuv/libuv/contributors","subscribers_url":"https://api.github.com/repos/libuv/libuv/subscribers","subscription_url":"https://api.github.com/repos/libuv/libuv/subscription","commits_url":"https://api.github.com/repos/libuv/libuv/commits{/sha}","git_commits_url":"https://api.github.com/repos/libuv/libuv/git/commits{/sha}","comments_url":"https://api.github.com/repos/libuv/libuv/comments{/number}","issue_comment_url":"https://api.github.com/repos/libuv/libuv/issues/comments{/number}","contents_url":"https://api.github.com/repos/libuv/libuv/contents/{+path}","compare_url":"https://api.github.com/repos/libuv/libuv/compare/{base}...{head}","merges_url":"https://api.github.com/repos/libuv/libuv/merges","archive_url":"https://api.github.com/repos/libuv/libuv/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/libuv/libuv/downloads","issues_url":"https://api.github.com/repos/libuv/libuv/issues{/number}","pulls_url":"https://api.github.com/repos/libuv/libuv/pulls{/number}","milestones_url":"https://api.github.com/repos/libuv/libuv/milestones{/number}","notifications_url":"https://api.github.com/repos/libuv/libuv/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/libuv/libuv/labels{/name}","releases_url":"https://api.github.com/repos/libuv/libuv/releases{/id}","deployments_url":"https://api.github.com/repos/libuv/libuv/deployments","created_at":"2013-11-30T00:29:56Z","updated_at":"2025-11-10T12:47:39Z","pushed_at":"2025-11-06T21:34:45Z","git_url":"git://github.com/libuv/libuv.git","ssh_url":"git@github.com:libuv/libuv.git","clone_url":"https://github.com/libuv/libuv.git","svn_url":"https://github.com/libuv/libuv","homepage":"https://libuv.org/","size":16928,"stargazers_count":26166,"watchers_count":26166,"language":"C","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":3784,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":205,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["asynchronous","deep-io","io","networking","unicorns","unix","velociraptors","windows"],"visibility":"public","forks":3784,"open_issues":205,"watchers":26166,"default_branch":"v1.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/libuv/libuv/pulls/4784","html_url":"https://github.com/libuv/libuv/pull/4784","diff_url":"https://github.com/libuv/libuv/pull/4784.diff","patch_url":"https://github.com/libuv/libuv/pull/4784.patch","merged_at":"2025-07-10T13:08:36Z"},"body":"Starting a new read after uv_read_cb returns causes memory corruption on the OVERLAPPED read_req if uv_read_stop+uv_read_start was called during the callback after the latest refactoring. This apparently also forces the kernel to deadlock us, since it apparently cannot cancel the second read while the first one is pending (reads apparently are not permitted to finish out of order). Avoid that simply by not issuing another read (set more=0) if there is already a read pending (from uv_read_start).\r\n\r\nThere are probably better things we could do here (such as bring back `uv_active_tcp_streams_threshold`), but the current `alloc_cb` design may not currently permit that without making breaking changes. We could also detect in `uv_read_start` that we are inside of of the `read_cb` for that stream, and defer the actual zero-read until the read_cb returns, but that would likely be a larger change.\r\n\r\nFix #4738","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/4784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libuv/libuv/issues/4784/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":18565729749,"node_id":"REFE_lADOAOIGQ86uI5F9zwAAAARSmo3V","url":"https://api.github.com/repos/libuv/libuv/issues/events/18565729749","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7026ae0fe26693ae825e7673a08a2831e59f363f","commit_url":"https://api.github.com/repos/libuv/libuv/commits/7026ae0fe26693ae825e7673a08a2831e59f363f","created_at":"2025-07-10T13:08:38Z","performed_via_github_app":null},{"id":18565729755,"node_id":"CE_lADOAOIGQ86uI5F9zwAAAARSmo3b","url":"https://api.github.com/repos/libuv/libuv/issues/events/18565729755","actor":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-07-10T13:08:38Z","state_reason":null,"performed_via_github_app":null}]