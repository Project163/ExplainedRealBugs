[{"id":406720152,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDA2NzIwMTUy","url":"https://api.github.com/repos/libuv/libuv/issues/events/406720152","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2015-09-11T04:31:17Z","rename":{"from":"`uv_write` close / cancel `UV_ECANCELED` bug","to":"`uv_write` `uv_close` status == `UV_ECANCELED` bug"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139472365","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139472365","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139472365,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3MjM2NQ==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T07:29:51Z","updated_at":"2015-09-11T07:29:51Z","body":"`uv_write_t` requests have never supported explicit cancellation using `uv_cancel`, but they do support implicit cancellation when the handle is closed via `uv_close`.\n\nWhen you call `uv_write`, we try to write immediately, and often succeed, but the callback is made asynchronously. So even if you call `uv_write` and immediately after `uv_close`, the write miught have succeeded and the callback will be called with a successful error code. Which is why the assert you added blows up.\n\nI'm not aware of any issue in this area. If you can write a test exhibiting the issue I can look into it, but what you're currently testing is incorrect.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139472365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139477074","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139477074","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139477074,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3NzA3NA==","user":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T07:54:04Z","updated_at":"2015-09-11T08:00:11Z","body":"@saghul The libuv sample gives a similar situation we are experiencing in our application.\n\nFor example whether it be mid-writing to the `client` or mid-writing to the `upstream` when it's counterpart disconnects/timeouts https://github.com/libuv/libuv/blob/v1.x/samples/socks5-proxy/client.c#L536 is called setting `c_dead` properties on both connections. As you said the `uv_write` callback is still called with a successful error code and thus https://github.com/libuv/libuv/blob/v1.x/samples/socks5-proxy/client.c#L715 is triggered due to `c_dead` being set.\n\nThis happens in the sample application and our own and we're not sure how to handle this as the sample also indicated use of `UV_ECANCELED`.\n\nIs the best solution just to return in the write callback if `c_dead` is set?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139477074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":406814931,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2ODE0OTMx","url":"https://api.github.com/repos/libuv/libuv/issues/events/406814931","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-11T07:54:04Z","performed_via_github_app":null},{"id":406814932,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjgxNDkzMg==","url":"https://api.github.com/repos/libuv/libuv/issues/events/406814932","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-11T07:54:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139478039","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139478039","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139478039,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3ODAzOQ==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T07:59:42Z","updated_at":"2015-09-11T07:59:42Z","body":"@2ix That sample hasn't been modified in the last couple of years, unfortunately. IIRC writing immediately in `uv_write` was added after, and the sample might have some builtin assumptions which no longer hold true.\n\n> Is the best solution just to return in the same callback if c_dead is set?\n\nI only had a quick look, but I'd say so.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139478039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":406818546,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2ODE4NTQ2","url":"https://api.github.com/repos/libuv/libuv/issues/events/406818546","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-11T07:59:42Z","performed_via_github_app":null},{"id":406818548,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjgxODU0OA==","url":"https://api.github.com/repos/libuv/libuv/issues/events/406818548","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-11T07:59:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139478180","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139478180","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139478180,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3ODE4MA==","user":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:00:36Z","updated_at":"2015-09-11T08:00:36Z","body":"@saghul What are the reasons for `uv_write` not supporting `UV_ECANCELED` in the same way `uv_connect` does even if the write was successful it would be great to know it was cancelled when it's handle was `uv_close` in the same loop interation.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139478180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":406819131,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2ODE5MTMx","url":"https://api.github.com/repos/libuv/libuv/issues/events/406819131","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:00:36Z","performed_via_github_app":null},{"id":406819132,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjgxOTEzMg==","url":"https://api.github.com/repos/libuv/libuv/issues/events/406819132","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:00:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139478946","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139478946","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139478946,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3ODk0Ng==","user":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:06:02Z","updated_at":"2015-09-11T08:06:02Z","body":"Eg: https://github.com/libuv/libuv/blob/v1.x/test/test-tcp-connect-timeout.c#L42\n\nit's very elegant, even though connect may have succeeded because `uv_close` was called on the tcp handler, the connect callback sets the status to `UV_ECANCELED`.\n\nPerhaps `uv_write` could behave in a similar fashion because even though it may have written, if we have `uv_close` and the callback is still called because we closed before the write callback completed, it would be great to know we have cancelled it in the same fashion?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139478946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479379","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139479379","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139479379,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3OTM3OQ==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:07:30Z","updated_at":"2015-09-11T08:07:30Z","body":"> What are the reasons for uv_write not supporting UV_ECANCELED in the same way uv_connect does even if the write was successful it would be great to know it was cancelled when it's handle was uv_close in the same loop interation.\n\nIt does support it. You need to consider the fact that `uv_write` might succeed **immediately**, but the callback will always be async. So if you succeeded to write and then closed the connection it would incorrect to give a UV_ECANCELED error, because the write did succeed.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479496","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139479496","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139479496,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3OTQ5Ng==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:08:25Z","updated_at":"2015-09-11T08:08:25Z","body":"> Perhaps uv_write could behave in a similar fashion because even though it may have written, if we have uv_close and the callback is still called because we closed before the write callback completed, it would be great to know we have cancelled it in the same fashion?\n\nI strongly disagree. The data arrived at the other end, we cannot say it didn't.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479840","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139479840","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139479840,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3OTg0MA==","user":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:11:09Z","updated_at":"2015-09-11T08:11:31Z","body":"@saghul You make a very strong point. Okay, we will check for the `c_dead` property in the callback. Is having a `CONTAINER_OF` macro the right approach to pass a `struct` between callbacks as per the sample, or is there a new methodology since then?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479888","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139479888","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139479888,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3OTg4OA==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:11:29Z","updated_at":"2015-09-11T08:11:29Z","body":"I quickly browsed to the code, and I think I know where you're coming from.\n\nEven if the connect succeeded immediately, we always defer its processing, so if `uv_close` is called we'll always say it was cancelled. When you call `uv_close` the socket is closed, so saying that the connection succeeded would be weird. Saying which which writes succeeded before the connection was closed is important, of course, because the data was actually received.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":406826297,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2ODI2Mjk3","url":"https://api.github.com/repos/libuv/libuv/issues/events/406826297","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:11:31Z","performed_via_github_app":null},{"id":406826298,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjgyNjI5OA==","url":"https://api.github.com/repos/libuv/libuv/issues/events/406826298","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:11:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479983","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139479983","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139479983,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ3OTk4Mw==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:12:10Z","updated_at":"2015-09-11T08:12:10Z","body":"> Is having a CONTAINER_OF macro the right approach to pass a struct between callbacks as per the sample, or is there a new methodology since then?\n\nIt's a lot more elegant than storing pointers to containing elements in `data` :-)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139479983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139480102","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139480102","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139480102,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ4MDEwMg==","user":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:12:50Z","updated_at":"2015-09-11T08:13:04Z","body":"@saghul Great, thank you! :) Really loving libuv it's an amazing piece of engineering. Thank you for your help and for clearing up my misconceptions\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139480102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":406827221,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2ODI3MjIx","url":"https://api.github.com/repos/libuv/libuv/issues/events/406827221","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:12:50Z","performed_via_github_app":null},{"id":406827223,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjgyNzIyMw==","url":"https://api.github.com/repos/libuv/libuv/issues/events/406827223","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:12:50Z","performed_via_github_app":null},{"id":406827226,"node_id":"MDExOkNsb3NlZEV2ZW50NDA2ODI3MjI2","url":"https://api.github.com/repos/libuv/libuv/issues/events/406827226","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:12:50Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139480173","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139480173","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139480173,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ4MDE3Mw==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:13:13Z","updated_at":"2015-09-11T08:13:13Z","body":":heart_eyes: \n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139480173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139480861","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139480861","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139480861,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ4MDg2MQ==","user":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:18:03Z","updated_at":"2015-09-11T08:19:28Z","body":"@saghul I'm not able to create a pull request from this machine currently but we will need to update https://raw.githubusercontent.com/libuv/libuv/v1.x/docs/src/handle.rst \"In-progress requests, like uv_connect_t ~~or uv_write_t~~, are cancelled and have their callbacks called asynchronously with status=UV_ECANCELED.\" as it refers to `uv_close` :cry:\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139480861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":406830519,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDA2ODMwNTE5","url":"https://api.github.com/repos/libuv/libuv/issues/events/406830519","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:18:03Z","performed_via_github_app":null},{"id":406830520,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQwNjgzMDUyMA==","url":"https://api.github.com/repos/libuv/libuv/issues/events/406830520","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-11T08:18:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139483182","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139483182","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139483182,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ4MzE4Mg==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:25:56Z","updated_at":"2015-09-11T08:25:56Z","body":"But that is still correct. If the write request is in progress, that is. If it was immediately completed it will have the right status value. I you call `uv_write` 10 times in a row, you'll get UV_ECANCELED for 9 of them.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139483182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139484019","html_url":"https://github.com/libuv/libuv/issues/522#issuecomment-139484019","issue_url":"https://api.github.com/repos/libuv/libuv/issues/522","id":139484019,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ4NDAxOQ==","user":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-11T08:27:51Z","updated_at":"2015-09-11T08:27:51Z","body":"Okay I see, I really misunderstood this in the documentation then. Thank you again.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/139484019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rynz","id":2523492,"node_id":"MDQ6VXNlcjI1MjM0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2523492?v=4","gravatar_id":"","url":"https://api.github.com/users/rynz","html_url":"https://github.com/rynz","followers_url":"https://api.github.com/users/rynz/followers","following_url":"https://api.github.com/users/rynz/following{/other_user}","gists_url":"https://api.github.com/users/rynz/gists{/gist_id}","starred_url":"https://api.github.com/users/rynz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rynz/subscriptions","organizations_url":"https://api.github.com/users/rynz/orgs","repos_url":"https://api.github.com/users/rynz/repos","events_url":"https://api.github.com/users/rynz/events{/privacy}","received_events_url":"https://api.github.com/users/rynz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"zfl9","id":22726048,"node_id":"MDQ6VXNlcjIyNzI2MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/22726048?v=4","gravatar_id":"","url":"https://api.github.com/users/zfl9","html_url":"https://github.com/zfl9","followers_url":"https://api.github.com/users/zfl9/followers","following_url":"https://api.github.com/users/zfl9/following{/other_user}","gists_url":"https://api.github.com/users/zfl9/gists{/gist_id}","starred_url":"https://api.github.com/users/zfl9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zfl9/subscriptions","organizations_url":"https://api.github.com/users/zfl9/orgs","repos_url":"https://api.github.com/users/zfl9/repos","events_url":"https://api.github.com/users/zfl9/events{/privacy}","received_events_url":"https://api.github.com/users/zfl9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T11:21:03Z","updated_at":"2020-01-13T11:21:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/zfl9/ipt2socks/issues/9","repository_url":"https://api.github.com/repos/zfl9/ipt2socks","labels_url":"https://api.github.com/repos/zfl9/ipt2socks/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/zfl9/ipt2socks/issues/9/comments","events_url":"https://api.github.com/repos/zfl9/ipt2socks/issues/9/events","html_url":"https://github.com/zfl9/ipt2socks/issues/9","id":529798560,"node_id":"MDU6SXNzdWU1Mjk3OTg1NjA=","number":9,"title":"Segmentation fault","user":{"login":"lxf1992521","id":2181609,"node_id":"MDQ6VXNlcjIxODE2MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2181609?v=4","gravatar_id":"","url":"https://api.github.com/users/lxf1992521","html_url":"https://github.com/lxf1992521","followers_url":"https://api.github.com/users/lxf1992521/followers","following_url":"https://api.github.com/users/lxf1992521/following{/other_user}","gists_url":"https://api.github.com/users/lxf1992521/gists{/gist_id}","starred_url":"https://api.github.com/users/lxf1992521/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxf1992521/subscriptions","organizations_url":"https://api.github.com/users/lxf1992521/orgs","repos_url":"https://api.github.com/users/lxf1992521/repos","events_url":"https://api.github.com/users/lxf1992521/events{/privacy}","received_events_url":"https://api.github.com/users/lxf1992521/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1592198693,"node_id":"MDU6TGFiZWwxNTkyMTk4Njkz","url":"https://api.github.com/repos/zfl9/ipt2socks/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-11-28T09:40:23Z","updated_at":"2020-04-10T08:37:34Z","closed_at":"2020-04-10T08:37:34Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":212471152,"node_id":"MDEwOlJlcG9zaXRvcnkyMTI0NzExNTI=","name":"ipt2socks","full_name":"zfl9/ipt2socks","private":false,"owner":{"login":"zfl9","id":22726048,"node_id":"MDQ6VXNlcjIyNzI2MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/22726048?v=4","gravatar_id":"","url":"https://api.github.com/users/zfl9","html_url":"https://github.com/zfl9","followers_url":"https://api.github.com/users/zfl9/followers","following_url":"https://api.github.com/users/zfl9/following{/other_user}","gists_url":"https://api.github.com/users/zfl9/gists{/gist_id}","starred_url":"https://api.github.com/users/zfl9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zfl9/subscriptions","organizations_url":"https://api.github.com/users/zfl9/orgs","repos_url":"https://api.github.com/users/zfl9/repos","events_url":"https://api.github.com/users/zfl9/events{/privacy}","received_events_url":"https://api.github.com/users/zfl9/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zfl9/ipt2socks","description":" iptables/nftables  socks5 ","fork":false,"url":"https://api.github.com/repos/zfl9/ipt2socks","forks_url":"https://api.github.com/repos/zfl9/ipt2socks/forks","keys_url":"https://api.github.com/repos/zfl9/ipt2socks/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zfl9/ipt2socks/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zfl9/ipt2socks/teams","hooks_url":"https://api.github.com/repos/zfl9/ipt2socks/hooks","issue_events_url":"https://api.github.com/repos/zfl9/ipt2socks/issues/events{/number}","events_url":"https://api.github.com/repos/zfl9/ipt2socks/events","assignees_url":"https://api.github.com/repos/zfl9/ipt2socks/assignees{/user}","branches_url":"https://api.github.com/repos/zfl9/ipt2socks/branches{/branch}","tags_url":"https://api.github.com/repos/zfl9/ipt2socks/tags","blobs_url":"https://api.github.com/repos/zfl9/ipt2socks/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zfl9/ipt2socks/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zfl9/ipt2socks/git/refs{/sha}","trees_url":"https://api.github.com/repos/zfl9/ipt2socks/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zfl9/ipt2socks/statuses/{sha}","languages_url":"https://api.github.com/repos/zfl9/ipt2socks/languages","stargazers_url":"https://api.github.com/repos/zfl9/ipt2socks/stargazers","contributors_url":"https://api.github.com/repos/zfl9/ipt2socks/contributors","subscribers_url":"https://api.github.com/repos/zfl9/ipt2socks/subscribers","subscription_url":"https://api.github.com/repos/zfl9/ipt2socks/subscription","commits_url":"https://api.github.com/repos/zfl9/ipt2socks/commits{/sha}","git_commits_url":"https://api.github.com/repos/zfl9/ipt2socks/git/commits{/sha}","comments_url":"https://api.github.com/repos/zfl9/ipt2socks/comments{/number}","issue_comment_url":"https://api.github.com/repos/zfl9/ipt2socks/issues/comments{/number}","contents_url":"https://api.github.com/repos/zfl9/ipt2socks/contents/{+path}","compare_url":"https://api.github.com/repos/zfl9/ipt2socks/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zfl9/ipt2socks/merges","archive_url":"https://api.github.com/repos/zfl9/ipt2socks/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zfl9/ipt2socks/downloads","issues_url":"https://api.github.com/repos/zfl9/ipt2socks/issues{/number}","pulls_url":"https://api.github.com/repos/zfl9/ipt2socks/pulls{/number}","milestones_url":"https://api.github.com/repos/zfl9/ipt2socks/milestones{/number}","notifications_url":"https://api.github.com/repos/zfl9/ipt2socks/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zfl9/ipt2socks/labels{/name}","releases_url":"https://api.github.com/repos/zfl9/ipt2socks/releases{/id}","deployments_url":"https://api.github.com/repos/zfl9/ipt2socks/deployments","created_at":"2019-10-03T00:53:32Z","updated_at":"2025-11-10T10:37:32Z","pushed_at":"2025-08-17T01:38:34Z","git_url":"git://github.com/zfl9/ipt2socks.git","ssh_url":"git@github.com:zfl9/ipt2socks.git","clone_url":"https://github.com/zfl9/ipt2socks.git","svn_url":"https://github.com/zfl9/ipt2socks","homepage":"","size":405,"stargazers_count":494,"watchers_count":494,"language":"C","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":110,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["iptables","linux","nftables","proxy","redirect","redsocks","relay","socks4","socks5","ss-tproxy","tproxy","transparent-proxy"],"visibility":"public","forks":110,"open_issues":2,"watchers":494,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"CentOS 7.6\r\nTproxy-p udp -j TPROXY --on-port 12345 --on-ip 0.0.0.0 --tproxy-mark 0x1/0x1\r\nsocks5gost -L socks5://127.0.0.1:10801\r\nsudo -u nobody /usr/bin/ipt2socks -U -4 -s 127.0.0.1 -p 10801 -b 0.0.0.0 -l 12345 -o 5 -G -v\r\n\r\n......\r\n2019-11-28 17:30:57 INF: [udp_socket_listen_cb] try to connect to socks5 server: 127.0.0.1#10801\r\nSegmentation fault\r\n","reactions":{"url":"https://api.github.com/repos/zfl9/ipt2socks/issues/9/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/zfl9/ipt2socks/issues/9/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]