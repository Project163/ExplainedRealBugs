[{"id":785816451,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc4NTgxNjQ1MQ==","url":"https://api.github.com/repos/libuv/libuv/issues/events/785816451","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b19763536bdc055876dd180e399468be89ddde18","commit_url":"https://api.github.com/repos/bnoordhuis/libuv/commits/b19763536bdc055876dd180e399468be89ddde18","created_at":"2016-09-12T11:44:17Z","performed_via_github_app":null},{"actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-12T11:45:18Z","updated_at":"2016-09-12T11:45:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/libuv/libuv/issues/1046","repository_url":"https://api.github.com/repos/libuv/libuv","labels_url":"https://api.github.com/repos/libuv/libuv/issues/1046/labels{/name}","comments_url":"https://api.github.com/repos/libuv/libuv/issues/1046/comments","events_url":"https://api.github.com/repos/libuv/libuv/issues/1046/events","html_url":"https://github.com/libuv/libuv/pull/1046","id":176355682,"node_id":"MDExOlB1bGxSZXF1ZXN0ODQ4NTczMzE=","number":1046,"title":"unix: don't use alphasort in uv_fs_scandir()","user":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-09-12T11:45:18Z","updated_at":"2016-09-12T15:59:36Z","closed_at":"2016-09-12T15:59:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":14812739,"node_id":"MDEwOlJlcG9zaXRvcnkxNDgxMjczOQ==","name":"libuv","full_name":"libuv/libuv","private":false,"owner":{"login":"libuv","id":4030929,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQwMzA5Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4030929?v=4","gravatar_id":"","url":"https://api.github.com/users/libuv","html_url":"https://github.com/libuv","followers_url":"https://api.github.com/users/libuv/followers","following_url":"https://api.github.com/users/libuv/following{/other_user}","gists_url":"https://api.github.com/users/libuv/gists{/gist_id}","starred_url":"https://api.github.com/users/libuv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/libuv/subscriptions","organizations_url":"https://api.github.com/users/libuv/orgs","repos_url":"https://api.github.com/users/libuv/repos","events_url":"https://api.github.com/users/libuv/events{/privacy}","received_events_url":"https://api.github.com/users/libuv/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/libuv/libuv","description":"Cross-platform asynchronous I/O","fork":false,"url":"https://api.github.com/repos/libuv/libuv","forks_url":"https://api.github.com/repos/libuv/libuv/forks","keys_url":"https://api.github.com/repos/libuv/libuv/keys{/key_id}","collaborators_url":"https://api.github.com/repos/libuv/libuv/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/libuv/libuv/teams","hooks_url":"https://api.github.com/repos/libuv/libuv/hooks","issue_events_url":"https://api.github.com/repos/libuv/libuv/issues/events{/number}","events_url":"https://api.github.com/repos/libuv/libuv/events","assignees_url":"https://api.github.com/repos/libuv/libuv/assignees{/user}","branches_url":"https://api.github.com/repos/libuv/libuv/branches{/branch}","tags_url":"https://api.github.com/repos/libuv/libuv/tags","blobs_url":"https://api.github.com/repos/libuv/libuv/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/libuv/libuv/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/libuv/libuv/git/refs{/sha}","trees_url":"https://api.github.com/repos/libuv/libuv/git/trees{/sha}","statuses_url":"https://api.github.com/repos/libuv/libuv/statuses/{sha}","languages_url":"https://api.github.com/repos/libuv/libuv/languages","stargazers_url":"https://api.github.com/repos/libuv/libuv/stargazers","contributors_url":"https://api.github.com/repos/libuv/libuv/contributors","subscribers_url":"https://api.github.com/repos/libuv/libuv/subscribers","subscription_url":"https://api.github.com/repos/libuv/libuv/subscription","commits_url":"https://api.github.com/repos/libuv/libuv/commits{/sha}","git_commits_url":"https://api.github.com/repos/libuv/libuv/git/commits{/sha}","comments_url":"https://api.github.com/repos/libuv/libuv/comments{/number}","issue_comment_url":"https://api.github.com/repos/libuv/libuv/issues/comments{/number}","contents_url":"https://api.github.com/repos/libuv/libuv/contents/{+path}","compare_url":"https://api.github.com/repos/libuv/libuv/compare/{base}...{head}","merges_url":"https://api.github.com/repos/libuv/libuv/merges","archive_url":"https://api.github.com/repos/libuv/libuv/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/libuv/libuv/downloads","issues_url":"https://api.github.com/repos/libuv/libuv/issues{/number}","pulls_url":"https://api.github.com/repos/libuv/libuv/pulls{/number}","milestones_url":"https://api.github.com/repos/libuv/libuv/milestones{/number}","notifications_url":"https://api.github.com/repos/libuv/libuv/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/libuv/libuv/labels{/name}","releases_url":"https://api.github.com/repos/libuv/libuv/releases{/id}","deployments_url":"https://api.github.com/repos/libuv/libuv/deployments","created_at":"2013-11-30T00:29:56Z","updated_at":"2025-11-10T12:47:39Z","pushed_at":"2025-11-06T21:34:45Z","git_url":"git://github.com/libuv/libuv.git","ssh_url":"git@github.com:libuv/libuv.git","clone_url":"https://github.com/libuv/libuv.git","svn_url":"https://github.com/libuv/libuv","homepage":"https://libuv.org/","size":16928,"stargazers_count":26166,"watchers_count":26166,"language":"C","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":3784,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":205,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["asynchronous","deep-io","io","networking","unicorns","unix","velociraptors","windows"],"visibility":"public","forks":3784,"open_issues":205,"watchers":26166,"default_branch":"v1.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/libuv/libuv/pulls/1046","html_url":"https://github.com/libuv/libuv/pull/1046","diff_url":"https://github.com/libuv/libuv/pull/1046.diff","patch_url":"https://github.com/libuv/libuv/pull/1046.patch","merged_at":"2016-09-12T15:59:36Z"},"body":"alphasort() uses strcoll() in some libcs (notably glibc and musl) which\nmakes it locale-sensitive.\n\nReplace it with a simple strcmp-based lexicographic comparison for\nconsistent behavior across platforms.\n\nRemove the special-casing for OpenBSD.  It has been exporting function\nprototypes conforming to POSIX.1-2008 since OpenBSD 5.3 and that was\nreleased more than three years ago.\n\nOS X 10.7 is now the only special case left.\n\nFixes: https://github.com/libuv/libuv/issues/1045\nCI: https://ci.nodejs.org/job/libuv-test-commit/129/\n","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/1046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libuv/libuv/issues/1046/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":786182276,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc4NjE4MjI3Ng==","url":"https://api.github.com/repos/libuv/libuv/issues/events/786182276","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e7bc260c4260658517cab4de077e2195c0c7c235","commit_url":"https://api.github.com/repos/bnoordhuis/libuv/commits/e7bc260c4260658517cab4de077e2195c0c7c235","created_at":"2016-09-12T15:59:31Z","performed_via_github_app":null},{"id":786182403,"node_id":"MDExOkNsb3NlZEV2ZW50Nzg2MTgyNDAz","url":"https://api.github.com/repos/libuv/libuv/issues/events/786182403","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2016-09-12T15:59:36Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/586672838","html_url":"https://github.com/libuv/libuv/issues/1045#issuecomment-586672838","issue_url":"https://api.github.com/repos/libuv/libuv/issues/1045","id":586672838,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjY3MjgzOA==","user":{"login":"Xaekai","id":594255,"node_id":"MDQ6VXNlcjU5NDI1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/594255?v=4","gravatar_id":"","url":"https://api.github.com/users/Xaekai","html_url":"https://github.com/Xaekai","followers_url":"https://api.github.com/users/Xaekai/followers","following_url":"https://api.github.com/users/Xaekai/following{/other_user}","gists_url":"https://api.github.com/users/Xaekai/gists{/gist_id}","starred_url":"https://api.github.com/users/Xaekai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xaekai/subscriptions","organizations_url":"https://api.github.com/users/Xaekai/orgs","repos_url":"https://api.github.com/users/Xaekai/repos","events_url":"https://api.github.com/users/Xaekai/events{/privacy}","received_events_url":"https://api.github.com/users/Xaekai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-16T06:02:18Z","updated_at":"2020-02-16T06:02:18Z","body":"I'm curious what the impetus for applying any sort of sorting was in the first place? Found this digging from rabbit hole of https://github.com/nodejs/node/issues/3232.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/586672838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Xaekai","id":594255,"node_id":"MDQ6VXNlcjU5NDI1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/594255?v=4","gravatar_id":"","url":"https://api.github.com/users/Xaekai","html_url":"https://github.com/Xaekai","followers_url":"https://api.github.com/users/Xaekai/followers","following_url":"https://api.github.com/users/Xaekai/following{/other_user}","gists_url":"https://api.github.com/users/Xaekai/gists{/gist_id}","starred_url":"https://api.github.com/users/Xaekai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xaekai/subscriptions","organizations_url":"https://api.github.com/users/Xaekai/orgs","repos_url":"https://api.github.com/users/Xaekai/repos","events_url":"https://api.github.com/users/Xaekai/events{/privacy}","received_events_url":"https://api.github.com/users/Xaekai/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/586691999","html_url":"https://github.com/libuv/libuv/issues/1045#issuecomment-586691999","issue_url":"https://api.github.com/repos/libuv/libuv/issues/1045","id":586691999,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjY5MTk5OQ==","user":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-16T10:50:11Z","updated_at":"2020-02-16T10:50:11Z","body":"It was to harmonize the behavior of node's sync and async versions of `fs.readdir()`. One returned results in directory order, the other in sorted order.\r\n\r\nBefore the switch to libuv, the sync version was implemented in terms of `readdir()` or `scandir()`, whereas the async version was a thin wrapper around libeio's `eio_readdir()`.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/586691999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/586695842","html_url":"https://github.com/libuv/libuv/issues/1045#issuecomment-586695842","issue_url":"https://api.github.com/repos/libuv/libuv/issues/1045","id":586695842,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjY5NTg0Mg==","user":{"login":"Xaekai","id":594255,"node_id":"MDQ6VXNlcjU5NDI1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/594255?v=4","gravatar_id":"","url":"https://api.github.com/users/Xaekai","html_url":"https://github.com/Xaekai","followers_url":"https://api.github.com/users/Xaekai/followers","following_url":"https://api.github.com/users/Xaekai/following{/other_user}","gists_url":"https://api.github.com/users/Xaekai/gists{/gist_id}","starred_url":"https://api.github.com/users/Xaekai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xaekai/subscriptions","organizations_url":"https://api.github.com/users/Xaekai/orgs","repos_url":"https://api.github.com/users/Xaekai/repos","events_url":"https://api.github.com/users/Xaekai/events{/privacy}","received_events_url":"https://api.github.com/users/Xaekai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-16T11:34:05Z","updated_at":"2020-02-16T11:34:05Z","body":"Thank you for the insight into this behaviors origins.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/586695842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Xaekai","id":594255,"node_id":"MDQ6VXNlcjU5NDI1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/594255?v=4","gravatar_id":"","url":"https://api.github.com/users/Xaekai","html_url":"https://github.com/Xaekai","followers_url":"https://api.github.com/users/Xaekai/followers","following_url":"https://api.github.com/users/Xaekai/following{/other_user}","gists_url":"https://api.github.com/users/Xaekai/gists{/gist_id}","starred_url":"https://api.github.com/users/Xaekai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xaekai/subscriptions","organizations_url":"https://api.github.com/users/Xaekai/orgs","repos_url":"https://api.github.com/users/Xaekai/repos","events_url":"https://api.github.com/users/Xaekai/events{/privacy}","received_events_url":"https://api.github.com/users/Xaekai/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"billiegoose","id":587740,"node_id":"MDQ6VXNlcjU4Nzc0MA==","avatar_url":"https://avatars.githubusercontent.com/u/587740?v=4","gravatar_id":"","url":"https://api.github.com/users/billiegoose","html_url":"https://github.com/billiegoose","followers_url":"https://api.github.com/users/billiegoose/followers","following_url":"https://api.github.com/users/billiegoose/following{/other_user}","gists_url":"https://api.github.com/users/billiegoose/gists{/gist_id}","starred_url":"https://api.github.com/users/billiegoose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billiegoose/subscriptions","organizations_url":"https://api.github.com/users/billiegoose/orgs","repos_url":"https://api.github.com/users/billiegoose/repos","events_url":"https://api.github.com/users/billiegoose/events{/privacy}","received_events_url":"https://api.github.com/users/billiegoose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-01T04:36:34Z","updated_at":"2020-03-01T04:36:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues/37","repository_url":"https://api.github.com/repos/isomorphic-git/lightning-fs","labels_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues/37/labels{/name}","comments_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues/37/comments","events_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues/37/events","html_url":"https://github.com/isomorphic-git/lightning-fs/issues/37","id":532391128,"node_id":"MDU6SXNzdWU1MzIzOTExMjg=","number":37,"title":"Why does readdir not return an alphabetized list?","user":{"login":"fasiha","id":37649,"node_id":"MDQ6VXNlcjM3NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/37649?v=4","gravatar_id":"","url":"https://api.github.com/users/fasiha","html_url":"https://github.com/fasiha","followers_url":"https://api.github.com/users/fasiha/followers","following_url":"https://api.github.com/users/fasiha/following{/other_user}","gists_url":"https://api.github.com/users/fasiha/gists{/gist_id}","starred_url":"https://api.github.com/users/fasiha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fasiha/subscriptions","organizations_url":"https://api.github.com/users/fasiha/orgs","repos_url":"https://api.github.com/users/fasiha/repos","events_url":"https://api.github.com/users/fasiha/events{/privacy}","received_events_url":"https://api.github.com/users/fasiha/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-12-04T01:51:36Z","updated_at":"2020-03-01T05:17:14Z","closed_at":"2020-03-01T05:17:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":162842464,"node_id":"MDEwOlJlcG9zaXRvcnkxNjI4NDI0NjQ=","name":"lightning-fs","full_name":"isomorphic-git/lightning-fs","private":false,"owner":{"login":"isomorphic-git","id":34904042,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM0OTA0MDQy","avatar_url":"https://avatars.githubusercontent.com/u/34904042?v=4","gravatar_id":"","url":"https://api.github.com/users/isomorphic-git","html_url":"https://github.com/isomorphic-git","followers_url":"https://api.github.com/users/isomorphic-git/followers","following_url":"https://api.github.com/users/isomorphic-git/following{/other_user}","gists_url":"https://api.github.com/users/isomorphic-git/gists{/gist_id}","starred_url":"https://api.github.com/users/isomorphic-git/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isomorphic-git/subscriptions","organizations_url":"https://api.github.com/users/isomorphic-git/orgs","repos_url":"https://api.github.com/users/isomorphic-git/repos","events_url":"https://api.github.com/users/isomorphic-git/events{/privacy}","received_events_url":"https://api.github.com/users/isomorphic-git/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/isomorphic-git/lightning-fs","description":"A lean and fast 'fs' for the browser","fork":false,"url":"https://api.github.com/repos/isomorphic-git/lightning-fs","forks_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/forks","keys_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/teams","hooks_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/hooks","issue_events_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues/events{/number}","events_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/events","assignees_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/assignees{/user}","branches_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/branches{/branch}","tags_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/tags","blobs_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/git/refs{/sha}","trees_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/statuses/{sha}","languages_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/languages","stargazers_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/stargazers","contributors_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/contributors","subscribers_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/subscribers","subscription_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/subscription","commits_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/commits{/sha}","git_commits_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/git/commits{/sha}","comments_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/comments{/number}","issue_comment_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues/comments{/number}","contents_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/contents/{+path}","compare_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/merges","archive_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/downloads","issues_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues{/number}","pulls_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/pulls{/number}","milestones_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/milestones{/number}","notifications_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/labels{/name}","releases_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/releases{/id}","deployments_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/deployments","created_at":"2018-12-22T21:01:01Z","updated_at":"2025-11-07T02:26:41Z","pushed_at":"2025-08-06T18:37:04Z","git_url":"git://github.com/isomorphic-git/lightning-fs.git","ssh_url":"git@github.com:isomorphic-git/lightning-fs.git","clone_url":"https://github.com/isomorphic-git/lightning-fs.git","svn_url":"https://github.com/isomorphic-git/lightning-fs","homepage":null,"size":1459,"stargazers_count":554,"watchers_count":554,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":59,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":31,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":59,"open_issues":31,"watchers":554,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I ran into unexpected behavior in an app because LightningFS' `readdir` can return non-sorted strings. The following example shows the issue in Node.js (make sure you `npm install --save-dev fake-indexeddb` first), but the issue was first identified in the browser (Firefox and Safari):\r\n\r\n```js\r\nrequire(\"fake-indexeddb/auto\"); // HAS to come first for Node.js to have indexedDB\r\nconst FS = require('@isomorphic-git/lightning-fs');\r\n\r\nconst fs = new FS(\"testfs\", {wipe: true});\r\nconst pfs = fs.promises;\r\n\r\n(async function() {\r\n  await pfs.mkdir('/hi');\r\n  const max = 15;\r\n  const randN = Array.from(Array(50), _ => Math.floor(Math.random() * max));\r\n  // write & append fifteen files in random order with random data\r\n  for (const r of randN) {\r\n    const fname = `/hi/${r}`;\r\n    pfs.writeFile(fname, Math.random());\r\n  }\r\n  const contents = await pfs.readdir('/hi');\r\n  console.log(contents);\r\n})();\r\n```\r\n\r\nThe script above writes to a set of fifteen files (whose names are between '0' and '14') in random order, and then prints the output of `readdir`. Running this script several times shows the issue: an unsorted list of files:\r\n```console\r\n$ node demo.js\r\n[\r\n  '13', '2', '14', '9',\r\n  '4',  '3', '8',  '11',\r\n  '0',  '1', '7',  '12',\r\n  '10', '6', '5'\r\n]\r\n$ node demo.js\r\n[\r\n  '7',  '14', '4',  '1',\r\n  '2',  '8',  '10', '3',\r\n  '9',  '13', '11', '5',\r\n  '12', '6',  '0'\r\n]\r\n$ node demo.js\r\n[\r\n  '8',  '11', '14', '0',\r\n  '13', '3',  '4',  '5',\r\n  '6',  '9',  '7',  '12',\r\n  '10', '2'\r\n]\r\n```\r\nThis behavior persists whether I use numeric or alphanumeric filenames.\r\n\r\nIn contrast, if I use Node's `fs` module, `readdir` returns sorted strings.\r\n\r\nIs this an IndexedDB limitation? If it is, a `sort` on each `readdir` may be too expensive. But if not, maybe there's a workaround in the library itself?\r\n\r\nLoving the LightningFS + isomorphic-git lifestyle, thank you for your continued hard work on these projects!","reactions":{"url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/isomorphic-git/lightning-fs/issues/37/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]