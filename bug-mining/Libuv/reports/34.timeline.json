[{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/140906106","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-140906106","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":140906106,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDkwNjEwNg==","user":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-16T21:55:12Z","updated_at":"2015-09-16T21:56:22Z","body":"What do you suggest as a solution?  You can find the motivation for libuv's behavior in the commit log of b197515367d1a996dca9009483d202b306f9474e.\n\nEDIT: It's basically the same as what the comment says.  Just wanted to make clear that it has a history.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/140906106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/140975372","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-140975372","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":140975372,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDk3NTM3Mg==","user":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T05:45:10Z","updated_at":"2015-09-17T05:45:10Z","body":"libuv should only reopen /dev/tty if it's sure, that the given fd is bound to this tty.\n\nA naive implementation would check if the fd is <= 3. But this would break all dup'ed fds. \n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/140975372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/140994491","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-140994491","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":140994491,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDk5NDQ5MQ==","user":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T07:46:24Z","updated_at":"2015-09-17T07:46:24Z","body":"Speaking of dup... I'm not sure if this would have any side effects but would dup(fd) have the same effect as open(\"/dev/tty\", ...)?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/140994491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141000910","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-141000910","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":141000910,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTAwMDkxMA==","user":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T08:20:30Z","updated_at":"2015-09-17T08:22:00Z","body":"## Steps to reproduce\n\nCompile this program and run it:\n\n``` c\n// cc -luv -lutil pty_bug.c -o pty_bug\n\n#include <uv.h>\n#include <pty.h>\n#include <stdlib.h>\n#include <stdio.h>\n\nvoid on_write(uv_write_t* req, int status) {\n    printf(\"Write Done\\n\");\n}\n\nint main(int argc, char *argv[]) {\n    int master, slave;\n    struct winsize w;\n    uv_loop_t *loop = uv_default_loop();\n    uv_buf_t b = { .base = \"This should go to the PTY\\n\", .len = 26 };\n    uv_write_t req = { 0 };\n    uv_tty_t tty = { 0 };\n\n    openpty(&master, &slave, NULL, NULL, &w);\n    uv_tty_init(loop, &tty, master, 0);\n    uv_write(&req, (uv_stream_t*) &tty, &b, 1, on_write);\n    uv_run(loop, UV_RUN_DEFAULT);\n}\n```\n\n## Expected behavior\n\nThe string `This should go to the PTY` should be written to the newly created PTY and therefore not be visible on the screen.\n\n## Actual behavior\n\nThe string appears on the tty of the current program.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141000910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141028709","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-141028709","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":141028709,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTAyODcwOQ==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T09:58:14Z","updated_at":"2015-09-17T09:58:14Z","body":"We reopen it if `isatty` returns 1. @Gottox do you know what extra check would be required to know if the tty is (or isn't) the current one? Also, we'd have to be careful not to break existing behavior.\n\nAlternatively, we could have some `uv_tty_open` which blindly takes the fd without checks, a la `uv_tcp/udp/pipe_open`.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141028709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":411925137,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDExOTI1MTM3","url":"https://api.github.com/repos/libuv/libuv/issues/events/411925137","actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-17T09:58:14Z","performed_via_github_app":null},{"id":411925138,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxMTkyNTEzOA==","url":"https://api.github.com/repos/libuv/libuv/issues/events/411925138","actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-17T09:58:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141037932","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-141037932","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":141037932,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTAzNzkzMg==","user":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T10:26:12Z","updated_at":"2015-09-17T10:26:12Z","body":"A naive implementation would just check fd <= 3. But as I said, this breaks dup'ed fds and is no real guarentee.\n\nI just tested on Linux: You can fstat `0`, fstat `fd`, and compare its inodes. If they are the same, the fd is a dup of 0 (stdin). I don't know if that's portable.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141037932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141039187","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-141039187","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":141039187,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTAzOTE4Nw==","user":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T10:34:41Z","updated_at":"2015-09-17T10:41:04Z","body":"This should do the job: (pseudocode, unchecked)\n\n``` c\nstruct stat ttyStat, fdStat;\nint tty_fd = 0; // or 1 or 2...\nfstat(tty_fd, &ttyStat);\nfstat(fd, &fdStat);\n\nif(ttyStat.st_ino == fdStat.st_ino) {\n  // fd points to /dev/tty, reopen.\n}\n```\n\nYou could also check `ttyname(fd) == ctermid(...)`. But the output of ctermid may be no unique identifier for the tty. See http://man7.org/linux/man-pages/man3/ctermid.3.html BUGS section. (This bug is also true for the code above.)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141039187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141044721","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-141044721","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":141044721,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTA0NDcyMQ==","user":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T11:08:11Z","updated_at":"2015-09-17T11:08:11Z","body":"``` c\nint is_own_tty(int fd) {\n    int tty_fd = 0;\n    struct stat tty_stat, fd_stat;\n    for(; tty_fd < 3 && !isatty(tty_fd); tty_fd++);\n    if(tty_fd == 3)\n        return 0;\n    if(fstat(tty_fd, &tty_stat) < 0 || fstat(fd, &fd_stat) < 0)\n        return 0;\n    return tty_stat.st_ino == fd_stat.st_ino;\n}\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141044721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141046305","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-141046305","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":141046305,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTA0NjMwNQ==","user":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T11:16:59Z","updated_at":"2015-09-17T11:16:59Z","body":"I think we'd entertain a pull request.  I do kind of worry it may end up fixing one use case while breaking another...\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141046305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141048324","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-141048324","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":141048324,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTA0ODMyNA==","user":{"login":"brody4hire","id":1559888,"node_id":"MDQ6VXNlcjE1NTk4ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1559888?v=4","gravatar_id":"","url":"https://api.github.com/users/brody4hire","html_url":"https://github.com/brody4hire","followers_url":"https://api.github.com/users/brody4hire/followers","following_url":"https://api.github.com/users/brody4hire/following{/other_user}","gists_url":"https://api.github.com/users/brody4hire/gists{/gist_id}","starred_url":"https://api.github.com/users/brody4hire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brody4hire/subscriptions","organizations_url":"https://api.github.com/users/brody4hire/orgs","repos_url":"https://api.github.com/users/brody4hire/repos","events_url":"https://api.github.com/users/brody4hire/events{/privacy}","received_events_url":"https://api.github.com/users/brody4hire/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T11:23:59Z","updated_at":"2015-09-17T11:23:59Z","body":"I would favor the idea by @saghul to add another function such as `uv_tty_open` that handles this case.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/141048324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brody4hire","id":1559888,"node_id":"MDQ6VXNlcjE1NTk4ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1559888?v=4","gravatar_id":"","url":"https://api.github.com/users/brody4hire","html_url":"https://github.com/brody4hire","followers_url":"https://api.github.com/users/brody4hire/followers","following_url":"https://api.github.com/users/brody4hire/following{/other_user}","gists_url":"https://api.github.com/users/brody4hire/gists{/gist_id}","starred_url":"https://api.github.com/users/brody4hire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brody4hire/subscriptions","organizations_url":"https://api.github.com/users/brody4hire/orgs","repos_url":"https://api.github.com/users/brody4hire/repos","events_url":"https://api.github.com/users/brody4hire/events{/privacy}","received_events_url":"https://api.github.com/users/brody4hire/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":411990392,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDExOTkwMzky","url":"https://api.github.com/repos/libuv/libuv/issues/events/411990392","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-17T11:23:59Z","performed_via_github_app":null},{"id":411990393,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxMTk5MDM5Mw==","url":"https://api.github.com/repos/libuv/libuv/issues/events/411990393","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-17T11:23:59Z","performed_via_github_app":null},{"actor":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-17T15:51:38Z","updated_at":"2015-09-17T15:51:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/libuv/libuv/issues/528","repository_url":"https://api.github.com/repos/libuv/libuv","labels_url":"https://api.github.com/repos/libuv/libuv/issues/528/labels{/name}","comments_url":"https://api.github.com/repos/libuv/libuv/issues/528/comments","events_url":"https://api.github.com/repos/libuv/libuv/issues/528/events","html_url":"https://github.com/libuv/libuv/pull/528","id":107015390,"node_id":"MDExOlB1bGxSZXF1ZXN0NDUzMDc0NTk=","number":528,"title":"unix: check before reopening tty","user":{"login":"Gottox","id":1056976,"node_id":"MDQ6VXNlcjEwNTY5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1056976?v=4","gravatar_id":"","url":"https://api.github.com/users/Gottox","html_url":"https://github.com/Gottox","followers_url":"https://api.github.com/users/Gottox/followers","following_url":"https://api.github.com/users/Gottox/following{/other_user}","gists_url":"https://api.github.com/users/Gottox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gottox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gottox/subscriptions","organizations_url":"https://api.github.com/users/Gottox/orgs","repos_url":"https://api.github.com/users/Gottox/repos","events_url":"https://api.github.com/users/Gottox/events{/privacy}","received_events_url":"https://api.github.com/users/Gottox/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/libuv/libuv/milestones/4","html_url":"https://github.com/libuv/libuv/milestone/4","labels_url":"https://api.github.com/repos/libuv/libuv/milestones/4/labels","id":1460078,"node_id":"MDk6TWlsZXN0b25lMTQ2MDA3OA==","number":4,"title":"v1.9.0","description":"","creator":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":8,"state":"closed","created_at":"2015-12-14T20:18:26Z","updated_at":"2016-04-18T17:58:13Z","due_on":null,"closed_at":"2016-04-18T17:58:13Z"},"comments":53,"created_at":"2015-09-17T15:50:55Z","updated_at":"2016-03-23T22:41:59Z","closed_at":"2016-03-23T22:41:59Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":14812739,"node_id":"MDEwOlJlcG9zaXRvcnkxNDgxMjczOQ==","name":"libuv","full_name":"libuv/libuv","private":false,"owner":{"login":"libuv","id":4030929,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQwMzA5Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4030929?v=4","gravatar_id":"","url":"https://api.github.com/users/libuv","html_url":"https://github.com/libuv","followers_url":"https://api.github.com/users/libuv/followers","following_url":"https://api.github.com/users/libuv/following{/other_user}","gists_url":"https://api.github.com/users/libuv/gists{/gist_id}","starred_url":"https://api.github.com/users/libuv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/libuv/subscriptions","organizations_url":"https://api.github.com/users/libuv/orgs","repos_url":"https://api.github.com/users/libuv/repos","events_url":"https://api.github.com/users/libuv/events{/privacy}","received_events_url":"https://api.github.com/users/libuv/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/libuv/libuv","description":"Cross-platform asynchronous I/O","fork":false,"url":"https://api.github.com/repos/libuv/libuv","forks_url":"https://api.github.com/repos/libuv/libuv/forks","keys_url":"https://api.github.com/repos/libuv/libuv/keys{/key_id}","collaborators_url":"https://api.github.com/repos/libuv/libuv/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/libuv/libuv/teams","hooks_url":"https://api.github.com/repos/libuv/libuv/hooks","issue_events_url":"https://api.github.com/repos/libuv/libuv/issues/events{/number}","events_url":"https://api.github.com/repos/libuv/libuv/events","assignees_url":"https://api.github.com/repos/libuv/libuv/assignees{/user}","branches_url":"https://api.github.com/repos/libuv/libuv/branches{/branch}","tags_url":"https://api.github.com/repos/libuv/libuv/tags","blobs_url":"https://api.github.com/repos/libuv/libuv/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/libuv/libuv/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/libuv/libuv/git/refs{/sha}","trees_url":"https://api.github.com/repos/libuv/libuv/git/trees{/sha}","statuses_url":"https://api.github.com/repos/libuv/libuv/statuses/{sha}","languages_url":"https://api.github.com/repos/libuv/libuv/languages","stargazers_url":"https://api.github.com/repos/libuv/libuv/stargazers","contributors_url":"https://api.github.com/repos/libuv/libuv/contributors","subscribers_url":"https://api.github.com/repos/libuv/libuv/subscribers","subscription_url":"https://api.github.com/repos/libuv/libuv/subscription","commits_url":"https://api.github.com/repos/libuv/libuv/commits{/sha}","git_commits_url":"https://api.github.com/repos/libuv/libuv/git/commits{/sha}","comments_url":"https://api.github.com/repos/libuv/libuv/comments{/number}","issue_comment_url":"https://api.github.com/repos/libuv/libuv/issues/comments{/number}","contents_url":"https://api.github.com/repos/libuv/libuv/contents/{+path}","compare_url":"https://api.github.com/repos/libuv/libuv/compare/{base}...{head}","merges_url":"https://api.github.com/repos/libuv/libuv/merges","archive_url":"https://api.github.com/repos/libuv/libuv/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/libuv/libuv/downloads","issues_url":"https://api.github.com/repos/libuv/libuv/issues{/number}","pulls_url":"https://api.github.com/repos/libuv/libuv/pulls{/number}","milestones_url":"https://api.github.com/repos/libuv/libuv/milestones{/number}","notifications_url":"https://api.github.com/repos/libuv/libuv/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/libuv/libuv/labels{/name}","releases_url":"https://api.github.com/repos/libuv/libuv/releases{/id}","deployments_url":"https://api.github.com/repos/libuv/libuv/deployments","created_at":"2013-11-30T00:29:56Z","updated_at":"2025-11-10T12:47:39Z","pushed_at":"2025-11-06T21:34:45Z","git_url":"git://github.com/libuv/libuv.git","ssh_url":"git@github.com:libuv/libuv.git","clone_url":"https://github.com/libuv/libuv.git","svn_url":"https://github.com/libuv/libuv","homepage":"https://libuv.org/","size":16928,"stargazers_count":26166,"watchers_count":26166,"language":"C","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":3784,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":205,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["asynchronous","deep-io","io","networking","unicorns","unix","velociraptors","windows"],"visibility":"public","forks":3784,"open_issues":205,"watchers":26166,"default_branch":"v1.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/libuv/libuv/pulls/528","html_url":"https://github.com/libuv/libuv/pull/528","diff_url":"https://github.com/libuv/libuv/pull/528.diff","patch_url":"https://github.com/libuv/libuv/pull/528.patch","merged_at":null},"body":"uv_tty_init() now checks if the given fd has the same inode as stdin, stdout, or stderr. Only then the fd is reopened.\n\nfixes #526\n","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libuv/libuv/issues/528/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/153636427","html_url":"https://github.com/libuv/libuv/issues/526#issuecomment-153636427","issue_url":"https://api.github.com/repos/libuv/libuv/issues/526","id":153636427,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzYzNjQyNw==","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T08:37:32Z","updated_at":"2015-11-04T08:37:32Z","body":"Closing since this continues in #528 \n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/comments/153636427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":454178603,"node_id":"MDExOkNsb3NlZEV2ZW50NDU0MTc4NjAz","url":"https://api.github.com/repos/libuv/libuv/issues/events/454178603","actor":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2015-11-04T08:37:33Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"ELLIOTTCABLE","id":200,"node_id":"MDQ6VXNlcjIwMA==","avatar_url":"https://avatars.githubusercontent.com/u/200?v=4","gravatar_id":"","url":"https://api.github.com/users/ELLIOTTCABLE","html_url":"https://github.com/ELLIOTTCABLE","followers_url":"https://api.github.com/users/ELLIOTTCABLE/followers","following_url":"https://api.github.com/users/ELLIOTTCABLE/following{/other_user}","gists_url":"https://api.github.com/users/ELLIOTTCABLE/gists{/gist_id}","starred_url":"https://api.github.com/users/ELLIOTTCABLE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ELLIOTTCABLE/subscriptions","organizations_url":"https://api.github.com/users/ELLIOTTCABLE/orgs","repos_url":"https://api.github.com/users/ELLIOTTCABLE/repos","events_url":"https://api.github.com/users/ELLIOTTCABLE/events{/privacy}","received_events_url":"https://api.github.com/users/ELLIOTTCABLE/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-10T01:32:00Z","updated_at":"2015-12-10T01:32:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/nodejs/node/issues/4222","repository_url":"https://api.github.com/repos/nodejs/node","labels_url":"https://api.github.com/repos/nodejs/node/issues/4222/labels{/name}","comments_url":"https://api.github.com/repos/nodejs/node/issues/4222/comments","events_url":"https://api.github.com/repos/nodejs/node/issues/4222/events","html_url":"https://github.com/nodejs/node/issues/4222","id":121368108,"node_id":"MDU6SXNzdWUxMjEzNjgxMDg=","number":4222,"title":"Node ignoring redirections when redirected to a tty","user":{"login":"ELLIOTTCABLE","id":200,"node_id":"MDQ6VXNlcjIwMA==","avatar_url":"https://avatars.githubusercontent.com/u/200?v=4","gravatar_id":"","url":"https://api.github.com/users/ELLIOTTCABLE","html_url":"https://github.com/ELLIOTTCABLE","followers_url":"https://api.github.com/users/ELLIOTTCABLE/followers","following_url":"https://api.github.com/users/ELLIOTTCABLE/following{/other_user}","gists_url":"https://api.github.com/users/ELLIOTTCABLE/gists{/gist_id}","starred_url":"https://api.github.com/users/ELLIOTTCABLE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ELLIOTTCABLE/subscriptions","organizations_url":"https://api.github.com/users/ELLIOTTCABLE/orgs","repos_url":"https://api.github.com/users/ELLIOTTCABLE/repos","events_url":"https://api.github.com/users/ELLIOTTCABLE/events{/privacy}","received_events_url":"https://api.github.com/users/ELLIOTTCABLE/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":151728674,"node_id":"MDU6TGFiZWwxNTE3Mjg2NzQ=","url":"https://api.github.com/repos/nodejs/node/labels/confirmed-bug","name":"confirmed-bug","color":"fc2929","default":false,"description":"Issues with confirmed bugs."},{"id":214431115,"node_id":"MDU6TGFiZWwyMTQ0MzExMTU=","url":"https://api.github.com/repos/nodejs/node/labels/libuv","name":"libuv","color":"bfd4f2","default":false,"description":"Issues and PRs related to the libuv dependency or the uv binding."},{"id":245766380,"node_id":"MDU6TGFiZWwyNDU3NjYzODA=","url":"https://api.github.com/repos/nodejs/node/labels/tty","name":"tty","color":"8ad857","default":false,"description":"Issues and PRs related to the tty subsystem."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2015-12-09T23:45:41Z","updated_at":"2016-06-06T19:14:47Z","closed_at":"2016-06-06T18:45:05Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":27193779,"node_id":"MDEwOlJlcG9zaXRvcnkyNzE5Mzc3OQ==","name":"node","full_name":"nodejs/node","private":false,"owner":{"login":"nodejs","id":9950313,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5NTAzMTM=","avatar_url":"https://avatars.githubusercontent.com/u/9950313?v=4","gravatar_id":"","url":"https://api.github.com/users/nodejs","html_url":"https://github.com/nodejs","followers_url":"https://api.github.com/users/nodejs/followers","following_url":"https://api.github.com/users/nodejs/following{/other_user}","gists_url":"https://api.github.com/users/nodejs/gists{/gist_id}","starred_url":"https://api.github.com/users/nodejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nodejs/subscriptions","organizations_url":"https://api.github.com/users/nodejs/orgs","repos_url":"https://api.github.com/users/nodejs/repos","events_url":"https://api.github.com/users/nodejs/events{/privacy}","received_events_url":"https://api.github.com/users/nodejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/nodejs/node","description":"Node.js JavaScript runtime ","fork":false,"url":"https://api.github.com/repos/nodejs/node","forks_url":"https://api.github.com/repos/nodejs/node/forks","keys_url":"https://api.github.com/repos/nodejs/node/keys{/key_id}","collaborators_url":"https://api.github.com/repos/nodejs/node/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/nodejs/node/teams","hooks_url":"https://api.github.com/repos/nodejs/node/hooks","issue_events_url":"https://api.github.com/repos/nodejs/node/issues/events{/number}","events_url":"https://api.github.com/repos/nodejs/node/events","assignees_url":"https://api.github.com/repos/nodejs/node/assignees{/user}","branches_url":"https://api.github.com/repos/nodejs/node/branches{/branch}","tags_url":"https://api.github.com/repos/nodejs/node/tags","blobs_url":"https://api.github.com/repos/nodejs/node/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/nodejs/node/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/nodejs/node/git/refs{/sha}","trees_url":"https://api.github.com/repos/nodejs/node/git/trees{/sha}","statuses_url":"https://api.github.com/repos/nodejs/node/statuses/{sha}","languages_url":"https://api.github.com/repos/nodejs/node/languages","stargazers_url":"https://api.github.com/repos/nodejs/node/stargazers","contributors_url":"https://api.github.com/repos/nodejs/node/contributors","subscribers_url":"https://api.github.com/repos/nodejs/node/subscribers","subscription_url":"https://api.github.com/repos/nodejs/node/subscription","commits_url":"https://api.github.com/repos/nodejs/node/commits{/sha}","git_commits_url":"https://api.github.com/repos/nodejs/node/git/commits{/sha}","comments_url":"https://api.github.com/repos/nodejs/node/comments{/number}","issue_comment_url":"https://api.github.com/repos/nodejs/node/issues/comments{/number}","contents_url":"https://api.github.com/repos/nodejs/node/contents/{+path}","compare_url":"https://api.github.com/repos/nodejs/node/compare/{base}...{head}","merges_url":"https://api.github.com/repos/nodejs/node/merges","archive_url":"https://api.github.com/repos/nodejs/node/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/nodejs/node/downloads","issues_url":"https://api.github.com/repos/nodejs/node/issues{/number}","pulls_url":"https://api.github.com/repos/nodejs/node/pulls{/number}","milestones_url":"https://api.github.com/repos/nodejs/node/milestones{/number}","notifications_url":"https://api.github.com/repos/nodejs/node/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/nodejs/node/labels{/name}","releases_url":"https://api.github.com/repos/nodejs/node/releases{/id}","deployments_url":"https://api.github.com/repos/nodejs/node/deployments","created_at":"2014-11-26T19:57:11Z","updated_at":"2025-11-10T12:48:45Z","pushed_at":"2025-11-10T12:35:31Z","git_url":"git://github.com/nodejs/node.git","ssh_url":"git@github.com:nodejs/node.git","clone_url":"https://github.com/nodejs/node.git","svn_url":"https://github.com/nodejs/node","homepage":"https://nodejs.org","size":1369932,"stargazers_count":114213,"watchers_count":114213,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":33724,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2386,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["javascript","js","linux","macos","mit","node","nodejs","runtime","windows"],"visibility":"public","forks":33724,"open_issues":2386,"watchers":114213,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"So, although redirects to other active file-descriptors work as expected, as do redirections to files and the `/dev/null` device, I _cannot_ redirect successfully to a different `tty`:\n\n``` sh\n$ node -e 'process.stdout.write(\"wtf!\\n\")' 1>/dev/ttys014\nwtf!\n```\n#### Example:\n\n``` txt\n# First term:                                                           # Second term:\n                                                                        \n$ tty                                                                   $ tty\n/dev/ttys013                                                            /dev/ttys014\n$ echo 'abc' 1>/dev/ttys014                                             $ cat\n$ ruby -e '$stdout.puts \"okay\"' 1>/dev/ttys014                          abc\n$ node -e 'process.stdout.write(\"wtf!\\n\")' 1>/dev/ttys014               okay\nwtf!                                                                    \n$ node -e 'process.stdout.write(\"this works\\n\")' 1>/dev/null            \n$ node -e 'process.stdout.write(\"this too\\n\")' 1>output                 \n$ cat output                                                            \nthis too                                                                \n```\n#### Environment:\n\nSystem: Mac OS X El Capitan `10.11.1`\nShell: Zsh `5.1.1 (x86_64-apple-darwin15.0.0)`\nNode: v`4.2.3`\n","reactions":{"url":"https://api.github.com/repos/nodejs/node/issues/4222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nodejs/node/issues/4222/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]