{"url":"https://api.github.com/repos/libuv/libuv/issues/669","repository_url":"https://api.github.com/repos/libuv/libuv","labels_url":"https://api.github.com/repos/libuv/libuv/issues/669/labels{/name}","comments_url":"https://api.github.com/repos/libuv/libuv/issues/669/comments","events_url":"https://api.github.com/repos/libuv/libuv/issues/669/events","html_url":"https://github.com/libuv/libuv/issues/669","id":124623684,"node_id":"MDU6SXNzdWUxMjQ2MjM2ODQ=","number":669,"title":"Default worker thread stack size (Mac OS X mostly)","user":{"login":"saper","id":248374,"node_id":"MDQ6VXNlcjI0ODM3NA==","avatar_url":"https://avatars.githubusercontent.com/u/248374?v=4","gravatar_id":"","url":"https://api.github.com/users/saper","html_url":"https://github.com/saper","followers_url":"https://api.github.com/users/saper/followers","following_url":"https://api.github.com/users/saper/following{/other_user}","gists_url":"https://api.github.com/users/saper/gists{/gist_id}","starred_url":"https://api.github.com/users/saper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saper/subscriptions","organizations_url":"https://api.github.com/users/saper/orgs","repos_url":"https://api.github.com/users/saper/repos","events_url":"https://api.github.com/users/saper/events{/privacy}","received_events_url":"https://api.github.com/users/saper/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-01-03T02:14:45Z","updated_at":"2016-01-05T16:13:11Z","closed_at":"2016-01-05T08:08:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When running a foreign C++ code in a worker thread (https://github.com/sass/node-sass/issues/1289) we have run into a [Mac OS X limitation](https://developer.apple.com/library/mac/qa/qa1419/_index.htm): a default stack size for `pthread_create()`'d threads seems to 512 kilobytes.\n\nI am still not sure how to handle this properly, the symptom of a problem are crashes only when the application runs in a libuv worker thread on Mac OS X. When running standalone (8 MB limit applies) or on some other platform there are no issues.\n\nWhat worries me here is that one platform is disadvantaged in some way and libuv does a fantastic work at making things cross-platform.\n","closed_by":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libuv/libuv/issues/669/timeline","performed_via_github_app":null,"state_reason":"completed"}