{"url":"https://api.github.com/repos/libuv/libuv/issues/1025","repository_url":"https://api.github.com/repos/libuv/libuv","labels_url":"https://api.github.com/repos/libuv/libuv/issues/1025/labels{/name}","comments_url":"https://api.github.com/repos/libuv/libuv/issues/1025/comments","events_url":"https://api.github.com/repos/libuv/libuv/issues/1025/events","html_url":"https://github.com/libuv/libuv/issues/1025","id":174460880,"node_id":"MDU6SXNzdWUxNzQ0NjA4ODA=","number":1025,"title":"[v2] remove suggested_size from alloc_cb?","user":{"login":"saghul","id":317464,"node_id":"MDQ6VXNlcjMxNzQ2NA==","avatar_url":"https://avatars.githubusercontent.com/u/317464?v=4","gravatar_id":"","url":"https://api.github.com/users/saghul","html_url":"https://github.com/saghul","followers_url":"https://api.github.com/users/saghul/followers","following_url":"https://api.github.com/users/saghul/following{/other_user}","gists_url":"https://api.github.com/users/saghul/gists{/gist_id}","starred_url":"https://api.github.com/users/saghul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saghul/subscriptions","organizations_url":"https://api.github.com/users/saghul/orgs","repos_url":"https://api.github.com/users/saghul/repos","events_url":"https://api.github.com/users/saghul/events{/privacy}","received_events_url":"https://api.github.com/users/saghul/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":443570196,"node_id":"MDU6TGFiZWw0NDM1NzAxOTY=","url":"https://api.github.com/repos/libuv/libuv/labels/good%20first%20issue","name":"good first issue","color":"3cb72c","default":true,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/libuv/libuv/milestones/5","html_url":"https://github.com/libuv/libuv/milestone/5","labels_url":"https://api.github.com/repos/libuv/libuv/milestones/5/labels","id":1703178,"node_id":"MDk6TWlsZXN0b25lMTcwMzE3OA==","number":5,"title":"v2.0.0","description":"","creator":{"login":"bnoordhuis","id":275871,"node_id":"MDQ6VXNlcjI3NTg3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/275871?v=4","gravatar_id":"","url":"https://api.github.com/users/bnoordhuis","html_url":"https://github.com/bnoordhuis","followers_url":"https://api.github.com/users/bnoordhuis/followers","following_url":"https://api.github.com/users/bnoordhuis/following{/other_user}","gists_url":"https://api.github.com/users/bnoordhuis/gists{/gist_id}","starred_url":"https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnoordhuis/subscriptions","organizations_url":"https://api.github.com/users/bnoordhuis/orgs","repos_url":"https://api.github.com/users/bnoordhuis/repos","events_url":"https://api.github.com/users/bnoordhuis/events{/privacy}","received_events_url":"https://api.github.com/users/bnoordhuis/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":2,"closed_issues":20,"state":"open","created_at":"2016-04-13T08:01:02Z","updated_at":"2023-08-21T11:37:53Z","due_on":null,"closed_at":null},"comments":20,"created_at":"2016-09-01T08:04:39Z","updated_at":"2021-07-13T15:20:56Z","closed_at":"2021-07-13T15:20:55Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Our allocation callback has got that `suggested_size` parameter since the dawn of time, but it doesn't really do much since for the most part (except Windows in a couple of places) it's set to 64K.  It seems to throw some pople off, thinking they always need 64K.\n\nSo I wonder: should we remove it and have the user allocate as much as they want?  We can just work with it no problem.\n\nI thought if maybe in the future we could do something to make it more accurate... but it hasn't happened in the past 5 years so I guess it wouldn't be happening any time soon.  Technically users can already use `uv_fileno` and then `ioctl(fd, FIONREAD)` (on supported platforms) in the callback to allocate size, so we're not that away.\n\nThoughts? @libuv/collaborators \n","closed_by":{"login":"vtjnash","id":330950,"node_id":"MDQ6VXNlcjMzMDk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/330950?v=4","gravatar_id":"","url":"https://api.github.com/users/vtjnash","html_url":"https://github.com/vtjnash","followers_url":"https://api.github.com/users/vtjnash/followers","following_url":"https://api.github.com/users/vtjnash/following{/other_user}","gists_url":"https://api.github.com/users/vtjnash/gists{/gist_id}","starred_url":"https://api.github.com/users/vtjnash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtjnash/subscriptions","organizations_url":"https://api.github.com/users/vtjnash/orgs","repos_url":"https://api.github.com/users/vtjnash/repos","events_url":"https://api.github.com/users/vtjnash/events{/privacy}","received_events_url":"https://api.github.com/users/vtjnash/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libuv/libuv/issues/1025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libuv/libuv/issues/1025/timeline","performed_via_github_app":null,"state_reason":"completed"}