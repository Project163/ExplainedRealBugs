diff --git a/src/main/java/com/jcabi/aether/Classpath.java b/src/main/java/com/jcabi/aether/Classpath.java
index 13535d4..f52d915 100644
--- a/src/main/java/com/jcabi/aether/Classpath.java
+++ b/src/main/java/com/jcabi/aether/Classpath.java
@@ -222,16 +222,13 @@ public final class Classpath extends AbstractSet<File> {
                     final Artifact newer = Classpath.newer(child, found);
                     if (newer.equals(child)) {
                         artifacts.remove(found);
-                        artifacts.add(newer);
                     } else {
                         artifacts.remove(child);
-                        artifacts.add(newer);
                     }
+                    artifacts.add(newer);
+                } else if (!root.excluded(child)) {
+                    artifacts.add(child);
                 }
-                if (root.excluded(child)) {
-                    continue;
-                }
-                artifacts.add(child);
             }
         }
         return artifacts;
diff --git a/src/test/java/com/jcabi/aether/ClasspathTest.java b/src/test/java/com/jcabi/aether/ClasspathTest.java
index a296676..4e8bd1a 100644
--- a/src/test/java/com/jcabi/aether/ClasspathTest.java
+++ b/src/test/java/com/jcabi/aether/ClasspathTest.java
@@ -32,6 +32,8 @@ package com.jcabi.aether;
 import java.io.File;
 import java.util.Arrays;
 import java.util.List;
+import java.util.regex.Matcher;
+
 import org.apache.maven.model.Dependency;
 import org.apache.maven.project.MavenProject;
 import org.hamcrest.MatcherAssert;
@@ -113,22 +115,32 @@ public final class ClasspathTest {
                     )
                 ), this.temp.newFolder(), JavaScopes.TEST
             ),
-            Matchers.<File>hasItems(
-                Matchers.hasToString(
-                    Matchers.endsWith(
-                        String.format(
-                            // @checkstyle MultipleStringLiterals (2 lines)
-                            "%sas%<sdirectory",
-                            System.getProperty("file.separator")
+            Matchers.allOf(
+                Matchers.<File>hasItems(
+                    Matchers.hasToString(
+                        Matchers.endsWith(
+                            String.format(
+                                // @checkstyle MultipleStringLiterals (2 lines)
+                                "%sas%<sdirectory",
+                                System.getProperty("file.separator")
+                            )
                         )
-                    )
+                    ),
+                    Matchers.hasToString(Matchers.endsWith("junit-4.11.jar"))
                 ),
-                Matchers.hasToString(Matchers.endsWith("junit-4.11.jar")),
                 Matchers.not(
-                    Matchers.hasToString(Matchers.endsWith("junit-4.8.jar"))
+                    Matchers.<File>hasItems(
+                        Matchers.hasToString(
+                            Matchers.endsWith("junit-4.8.jar")
+                        )
+                    )
                 ),
                 Matchers.not(
-                    Matchers.hasToString(Matchers.endsWith("junit-4.8.2.jar"))
+                    Matchers.<File>hasItems(
+                        Matchers.hasToString(
+                            Matchers.endsWith("junit-4.8.2.jar")
+                        )
+                    )
                 )
             )
         );
