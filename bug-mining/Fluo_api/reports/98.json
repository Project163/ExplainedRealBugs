{"url":"https://api.github.com/repos/apache/accumulo-fluo/issues/714","repository_url":"https://api.github.com/repos/apache/accumulo-fluo","labels_url":"https://api.github.com/repos/apache/accumulo-fluo/issues/714/labels{/name}","comments_url":"https://api.github.com/repos/apache/accumulo-fluo/issues/714/comments","events_url":"https://api.github.com/repos/apache/accumulo-fluo/issues/714/events","html_url":"https://github.com/apache/accumulo-fluo/issues/714","id":166624301,"node_id":"MDU6SXNzdWUxNjY2MjQzMDE=","number":714,"title":"Use Charsequence in API","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-07-20T16:26:19Z","updated_at":"2016-09-07T16:25:51Z","closed_at":"2016-09-07T16:25:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In methods that currently take String as a parameter in the API package, it would be better to take Charsequence.  Since String can be assigned to Charsequence this will support all existing code, plus more like the assignment of StringBuffer etc.\n\nFor example we can change\n\n``` java\n   Bytes.of(String s)\n```\n\nto \n\n``` java\n   Bytes.of(Charsequence s)\n```\n\nMethods that return String should not be changed.  The following is take from [a stackoverflow post](http://stackoverflow.com/questions/11323962/exact-difference-between-charsequence-and-string-in-java) and I think this makes sense.\n\n> Any method which accepts a CharSequence can operate on all of these equally well. Any method which only accepts a String will require conversion. So using CharSequence as an argument type in all the places where you don't care about the internals is prudent. However you should use String as a return type if you actually return a String, because that avoids possible conversions of returned values if the calling method actually does require a String.\n\nIt would be ok for now to change the implementation to call `cs.toString().getBytes()` where `cs` is a CharSequence.  Once the API change is made, its easy to optimize the implementation in the future w/o impacting users.\n","closed_by":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/apache/accumulo-fluo/issues/714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/apache/accumulo-fluo/issues/714/timeline","performed_via_github_app":null,"state_reason":"completed"}