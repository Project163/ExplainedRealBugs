diff --git a/.github/workflows/upload_binary.yml b/.github/workflows/upload_binary.yml
index 766f37c..8f44d4e 100644
--- a/.github/workflows/upload_binary.yml
+++ b/.github/workflows/upload_binary.yml
@@ -16,14 +16,17 @@ jobs:
             pathsep: ";"
             asset_name: black_windows.exe
             executable_mime: "application/vnd.microsoft.portable-executable"
+            platform: windows
           - os: ubuntu-20.04
             pathsep: ":"
             asset_name: black_linux
             executable_mime: "application/x-executable"
+            platform: unix
           - os: macos-latest
             pathsep: ":"
             asset_name: black_macos
             executable_mime: "application/x-mach-binary"
+            platform: macos
 
     steps:
       - uses: actions/checkout@v2
@@ -40,8 +43,10 @@ jobs:
           python -m pip install pyinstaller
 
       - name: Build binary
-        run: |
-          python -m PyInstaller -F --name ${{ matrix.asset_name }} --add-data 'src/blib2to3${{ matrix.pathsep }}blib2to3' src/black/__main__.py
+        run: >
+          python -m PyInstaller -F --name ${{ matrix.asset_name }} --add-data
+          'src/blib2to3${{ matrix.pathsep }}blib2to3' --hidden-import platformdirs.${{
+          matrix.platform }} src/black/__main__.py
 
       - name: Upload binary as release asset
         uses: actions/upload-release-asset@v1
diff --git a/CHANGES.md b/CHANGES.md
index 576e3c8..ef0a57d 100644
--- a/CHANGES.md
+++ b/CHANGES.md
@@ -1,5 +1,11 @@
 # Change Log
 
+## Unreleased
+
+### Packaging
+
+- Fix missing modules in self-contained binaries (#2466)
+
 ## 21.8b0
 
 ### _Black_
