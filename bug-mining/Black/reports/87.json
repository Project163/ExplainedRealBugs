{"url":"https://api.github.com/repos/psf/black/issues/277","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/277/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/277/comments","events_url":"https://api.github.com/repos/psf/black/issues/277/events","html_url":"https://github.com/psf/black/issues/277","id":327553747,"node_id":"MDU6SXNzdWUzMjc1NTM3NDc=","number":277,"title":"Struggling to run within pycharm","user":{"login":"olly-writes-code","id":7778402,"node_id":"MDQ6VXNlcjc3Nzg0MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7778402?v=4","gravatar_id":"","url":"https://api.github.com/users/olly-writes-code","html_url":"https://github.com/olly-writes-code","followers_url":"https://api.github.com/users/olly-writes-code/followers","following_url":"https://api.github.com/users/olly-writes-code/following{/other_user}","gists_url":"https://api.github.com/users/olly-writes-code/gists{/gist_id}","starred_url":"https://api.github.com/users/olly-writes-code/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olly-writes-code/subscriptions","organizations_url":"https://api.github.com/users/olly-writes-code/orgs","repos_url":"https://api.github.com/users/olly-writes-code/repos","events_url":"https://api.github.com/users/olly-writes-code/events{/privacy}","received_events_url":"https://api.github.com/users/olly-writes-code/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432803,"node_id":"MDU6TGFiZWw4Njc0MzI4MDM=","url":"https://api.github.com/repos/psf/black/labels/T:%20user%20support","name":"T: user support","color":"d876e3","default":false,"description":"OP looking for assistance or answers to a question"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":21,"created_at":"2018-05-30T02:44:35Z","updated_at":"2019-06-05T17:03:46Z","closed_at":"2018-06-20T05:57:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Black works totally fine from the command line - my issue is running it from within pycharm.  I've followed the instructions to install for pycharm in the README.\r\n\r\nI get the following error when I run it \r\n\r\n```Traceback (most recent call last):\r\n  File \"/usr/local/bin/black\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.6/site-packages/click/core.py\", line 722, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/click/core.py\", line 676, in main\r\n    _verify_python3_env()\r\n  File \"/usr/local/lib/python3.6/site-packages/click/_unicodefun.py\", line 118, in _verify_python3_env\r\n    'for mitigation steps.' + extra)\r\nRuntimeError: Click will abort further execution because Python 3 was configured to use ASCII as encoding for the environment.  Consult http://click.pocoo.org/python3/for mitigation steps.\r\n\r\nThis system lists a couple of UTF-8 supporting locales that\r\nyou can pick from.  The following suitable locales where\r\ndiscovered: af_ZA.UTF-8, am_ET.UTF-8, be_BY.UTF-8, bg_BG.UTF-8, ca_ES.UTF-8, cs_CZ.UTF-8, da_DK.UTF-8, de_AT.UTF-8, de_CH.UTF-8, de_DE.UTF-8, el_GR.UTF-8, en_AU.UTF-8, en_CA.UTF-8, en_GB.UTF-8, en_IE.UTF-8, en_NZ.UTF-8, en_US.UTF-8, es_ES.UTF-8, et_EE.UTF-8, eu_ES.UTF-8, fi_FI.UTF-8, fr_BE.UTF-8, fr_CA.UTF-8, fr_CH.UTF-8, fr_FR.UTF-8, he_IL.UTF-8, hr_HR.UTF-8, hu_HU.UTF-8, hy_AM.UTF-8, is_IS.UTF-8, it_CH.UTF-8, it_IT.UTF-8, ja_JP.UTF-8, kk_KZ.UTF-8, ko_KR.UTF-8, lt_LT.UTF-8, nl_BE.UTF-8, nl_NL.UTF-8, no_NO.UTF-8, pl_PL.UTF-8, pt_BR.UTF-8, pt_PT.UTF-8, ro_RO.UTF-8, ru_RU.UTF-8, sk_SK.UTF-8, sl_SI.UTF-8, sr_YU.UTF-8, sv_SE.UTF-8, tr_TR.UTF-8, uk_UA.UTF-8, zh_CN.UTF-8, zh_HK.UTF-8, zh_TW.UTF-8\r\n```\r\n\r\nI've tried fixed like such but I still get the same error \r\n\r\n```\r\nexport LC_ALL=en_us.UTF-8\r\nexport LANG=en_us.UTF-8\r\n```\r\n\r\nIf I run the following from within the shell of my virtualenv or my global python3 shell everything looks fine.\r\n\r\n```âžœ  ~ python3\r\nPython 3.6.5 (default, Apr 25 2018, 14:23:58)\r\n[GCC 4.2.1 Compatible Apple LLVM 9.1.0 (clang-902.0.39.1)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import locale\r\n>>> locale.getlocale()\r\n('en_US', 'UTF-8')\r\n```\r\n\r\n\r\nOperating system: Mac OS High Sierra 10.13.4\r\nPython version: 3.6.5\r\nBlack version: black 18.5b1\r\n","closed_by":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/psf/black/issues/277/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/277/timeline","performed_via_github_app":null,"state_reason":"completed"}