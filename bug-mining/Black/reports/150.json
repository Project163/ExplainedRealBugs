{"url":"https://api.github.com/repos/psf/black/issues/1601","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1601/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1601/comments","events_url":"https://api.github.com/repos/psf/black/issues/1601/events","html_url":"https://github.com/psf/black/issues/1601","id":679112653,"node_id":"MDU6SXNzdWU2NzkxMTI2NTM=","number":1601,"title":"Crash on docstring with tabs","user":{"login":"foozzi","id":1178208,"node_id":"MDQ6VXNlcjExNzgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/1178208?v=4","gravatar_id":"","url":"https://api.github.com/users/foozzi","html_url":"https://github.com/foozzi","followers_url":"https://api.github.com/users/foozzi/followers","following_url":"https://api.github.com/users/foozzi/following{/other_user}","gists_url":"https://api.github.com/users/foozzi/gists{/gist_id}","starred_url":"https://api.github.com/users/foozzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foozzi/subscriptions","organizations_url":"https://api.github.com/users/foozzi/orgs","repos_url":"https://api.github.com/users/foozzi/repos","events_url":"https://api.github.com/users/foozzi/events{/privacy}","received_events_url":"https://api.github.com/users/foozzi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":867438288,"node_id":"MDU6TGFiZWw4Njc0MzgyODg=","url":"https://api.github.com/repos/psf/black/labels/C:%20invalid%20code","name":"C: invalid code","color":"ff0000","default":false,"description":"Black destroyed a valid Python file"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2020-08-14T12:05:27Z","updated_at":"2020-11-09T19:58:23Z","closed_at":"2020-11-09T19:58:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug** A clear and concise description of what the bug is.\r\n\r\n**To Reproduce** Steps to reproduce the behavior:\r\n\r\n1. Take this file (in text)\r\n2. Run _Black_ on it without any arguments\r\n3. See error\r\n\r\n**Expected behavior** Work\r\n\r\n**Environment (please complete the following information):**\r\n```bash\r\nerror: cannot format /home/user/cilantropy/dist_worker.py: INTERNAL ERROR: Black produced code that is not equivalent to the source.  Please report a bug on https://github.com/psf/black/issues.  This diff might be helpful: /tmp/blk_rifw8eif.log\r\nOh no! ðŸ’¥ ðŸ’” ðŸ’¥\r\n10 files left unchanged, 1 file failed to reformat.\r\n```\r\n\r\n- Version: 19.10b0\r\n- OS and Python version: Linux (arch linux)/Python 3.8.3\r\n\r\n**Does this bug also happen on master?** To answer this, you have two options:\r\npip install git+git://github.com/psf/black\r\n\r\n**Additional context:**\r\nLog:\r\n```bash\r\n--- src\r\n+++ dst\r\n@@ -62,11 +62,11 @@\r\n       body=\r\n         Expr(\r\n           value=\r\n             Constant(\r\n               value=\r\n-                'main worker for run subproccess and return result or error\\n\\n:param cmd: full command for run\\t\\n:return: result string and status error',  # str\r\n+                'main worker for run subproccess and return result or error\\n\\n:param cmd: full command for run\\n:return: result string and status error',  # str\r\n             )  # /Constant\r\n         )  # /Expr\r\n         Try(\r\n           body=\r\n             Assign(\r\n```\r\nand my code:\r\n```python\r\ndef main_worker(cmd):\r\n\t\"\"\" \r\n\tmain worker for run subproccess and return result or error\r\n\r\n\t:param cmd: full command for run\t\r\n\t:return: result string and status error\r\n\t\"\"\"\t\r\n\r\n\ttry:\r\n\t\tcmd_response = subprocess.run(\r\n\t\t\tcmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True\r\n\t\t)\r\n\texcept subprocess.CalledProcessError as e:\r\n\t\treturn \"The pip command did not succeed: {stderr}\".format(\r\n\t\t\t\tstderr=e.stderr.decode(\"utf-8\")\r\n\t\t\t), True\r\n\t\t\r\n\treturn cmd_response.stdout.decode(\"utf-8\").replace(\" \"*6,\"\\n\"), False\r\n```\r\n\r\n","closed_by":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/psf/black/issues/1601/reactions","total_count":9,"+1":9,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1601/timeline","performed_via_github_app":null,"state_reason":"completed"}