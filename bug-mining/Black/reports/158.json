{"url":"https://api.github.com/repos/psf/black/issues/1656","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1656/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1656/comments","events_url":"https://api.github.com/repos/psf/black/issues/1656/events","html_url":"https://github.com/psf/black/issues/1656","id":688622338,"node_id":"MDU6SXNzdWU2ODg2MjIzMzg=","number":1656,"title":"Should Black remove optional parentheses that wrap assignment expressions?","user":{"login":"ichard26","id":63936253,"node_id":"MDQ6VXNlcjYzOTM2MjUz","avatar_url":"https://avatars.githubusercontent.com/u/63936253?v=4","gravatar_id":"","url":"https://api.github.com/users/ichard26","html_url":"https://github.com/ichard26","followers_url":"https://api.github.com/users/ichard26/followers","following_url":"https://api.github.com/users/ichard26/following{/other_user}","gists_url":"https://api.github.com/users/ichard26/gists{/gist_id}","starred_url":"https://api.github.com/users/ichard26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ichard26/subscriptions","organizations_url":"https://api.github.com/users/ichard26/orgs","repos_url":"https://api.github.com/users/ichard26/repos","events_url":"https://api.github.com/users/ichard26/events{/privacy}","received_events_url":"https://api.github.com/users/ichard26/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":959878692,"node_id":"MDU6TGFiZWw5NTk4Nzg2OTI=","url":"https://api.github.com/repos/psf/black/labels/F:%20parentheses","name":"F: parentheses","color":"BFD4F2","default":false,"description":"Too many parentheses, not enough parentheses, and so on."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-08-29T23:46:22Z","updated_at":"2021-02-28T01:20:27Z","closed_at":"2021-02-28T01:20:27Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the style change** \r\n\r\nBlack would now remove optional parentheses that surround assignment expressions. Also Black will now have to take into account of situations where such removal would be unsafe (e.g. top level unparenthesized assignment expressions are illegal).\r\n\r\n**Examples in the current style**\r\n\r\n```python\r\nwhile (temp := True):\r\n    pass\r\n\r\nif (temp := True):\r\n    pass\r\n```\r\n\r\n**Examples in the new style**:\r\n\r\n```python\r\nwhile temp := True:\r\n    pass\r\n\r\nif temp := True:\r\n    pass\r\n```\r\n\r\n**Things to discuss**:\r\n\r\n* What are the conditions where Black would remove/keep the wrapping parentheses? Perhaps we can use this [specification](https://github.com/psf/black/blob/master/docs/the_black_code_style.md#parentheses) as a starting point?\r\n\r\n* Do we want this in the first place?\r\n\r\n**Additional context**:\r\n\r\nThis was originally filed in #1522 by @xrisk. I closed it as a duplicate of another issue and broke out the other topic in it as this new issue.\r\n\r\nRelated comments in original issue:\r\n\r\n1. JelleZijlstra\r\n> I'm not as sure we should remove the parentheses, maybe it's better for clarity to have them? Black is opinionated, but we should make sure we're opinionated in the right way.\r\n\r\n2. xrisk (author of original issue)\r\n> [snipped mention] black does convert if (expr): to if expr: soâ€¦\r\n>\r\n> And there are multiple examples in the PEP that omit the parentheses when there is no RHS.\r\n","closed_by":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/psf/black/issues/1656/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1656/timeline","performed_via_github_app":null,"state_reason":"completed"}