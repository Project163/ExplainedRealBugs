[{"id":3722735715,"node_id":"MDEyOkxhYmVsZWRFdmVudDM3MjI3MzU3MTU=","url":"https://api.github.com/repos/psf/black/issues/events/3722735715","actor":{"login":"andersk","id":26471,"node_id":"MDQ6VXNlcjI2NDcx","avatar_url":"https://avatars.githubusercontent.com/u/26471?v=4","gravatar_id":"","url":"https://api.github.com/users/andersk","html_url":"https://github.com/andersk","followers_url":"https://api.github.com/users/andersk/followers","following_url":"https://api.github.com/users/andersk/following{/other_user}","gists_url":"https://api.github.com/users/andersk/gists{/gist_id}","starred_url":"https://api.github.com/users/andersk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andersk/subscriptions","organizations_url":"https://api.github.com/users/andersk/orgs","repos_url":"https://api.github.com/users/andersk/repos","events_url":"https://api.github.com/users/andersk/events{/privacy}","received_events_url":"https://api.github.com/users/andersk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-09-03T03:42:52Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":3722893428,"node_id":"MDEyOkxhYmVsZWRFdmVudDM3MjI4OTM0Mjg=","url":"https://api.github.com/repos/psf/black/issues/events/3722893428","actor":{"login":"ichard26","id":63936253,"node_id":"MDQ6VXNlcjYzOTM2MjUz","avatar_url":"https://avatars.githubusercontent.com/u/63936253?v=4","gravatar_id":"","url":"https://api.github.com/users/ichard26","html_url":"https://github.com/ichard26","followers_url":"https://api.github.com/users/ichard26/followers","following_url":"https://api.github.com/users/ichard26/following{/other_user}","gists_url":"https://api.github.com/users/ichard26/gists{/gist_id}","starred_url":"https://api.github.com/users/ichard26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ichard26/subscriptions","organizations_url":"https://api.github.com/users/ichard26/orgs","repos_url":"https://api.github.com/users/ichard26/repos","events_url":"https://api.github.com/users/ichard26/events{/privacy}","received_events_url":"https://api.github.com/users/ichard26/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-09-03T05:03:30Z","label":{"name":"trailing comma","color":"45426d"},"performed_via_github_app":null},{"id":3722896283,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3MjI4OTYyODM=","url":"https://api.github.com/repos/psf/black/issues/events/3722896283","actor":{"login":"andersk","id":26471,"node_id":"MDQ6VXNlcjI2NDcx","avatar_url":"https://avatars.githubusercontent.com/u/26471?v=4","gravatar_id":"","url":"https://api.github.com/users/andersk","html_url":"https://github.com/andersk","followers_url":"https://api.github.com/users/andersk/followers","following_url":"https://api.github.com/users/andersk/following{/other_user}","gists_url":"https://api.github.com/users/andersk/gists{/gist_id}","starred_url":"https://api.github.com/users/andersk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andersk/subscriptions","organizations_url":"https://api.github.com/users/andersk/orgs","repos_url":"https://api.github.com/users/andersk/repos","events_url":"https://api.github.com/users/andersk/events{/privacy}","received_events_url":"https://api.github.com/users/andersk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"67dc700c1676d03e3097ee82dd053e0aa15608e1","commit_url":"https://api.github.com/repos/andersk/zulip/commits/67dc700c1676d03e3097ee82dd053e0aa15608e1","created_at":"2020-09-03T05:04:55Z","performed_via_github_app":null},{"id":3722931214,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3MjI5MzEyMTQ=","url":"https://api.github.com/repos/psf/black/issues/events/3722931214","actor":{"login":"andersk","id":26471,"node_id":"MDQ6VXNlcjI2NDcx","avatar_url":"https://avatars.githubusercontent.com/u/26471?v=4","gravatar_id":"","url":"https://api.github.com/users/andersk","html_url":"https://github.com/andersk","followers_url":"https://api.github.com/users/andersk/followers","following_url":"https://api.github.com/users/andersk/following{/other_user}","gists_url":"https://api.github.com/users/andersk/gists{/gist_id}","starred_url":"https://api.github.com/users/andersk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andersk/subscriptions","organizations_url":"https://api.github.com/users/andersk/orgs","repos_url":"https://api.github.com/users/andersk/repos","events_url":"https://api.github.com/users/andersk/events{/privacy}","received_events_url":"https://api.github.com/users/andersk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4aa4c92d4bc0b9c3770b91099f03dd83521d554f","commit_url":"https://api.github.com/repos/andersk/zulip/commits/4aa4c92d4bc0b9c3770b91099f03dd83521d554f","created_at":"2020-09-03T05:20:59Z","performed_via_github_app":null},{"id":3727355181,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3MjczNTUxODE=","url":"https://api.github.com/repos/psf/black/issues/events/3727355181","actor":{"login":"timabbott","id":2746074,"node_id":"MDQ6VXNlcjI3NDYwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2746074?v=4","gravatar_id":"","url":"https://api.github.com/users/timabbott","html_url":"https://github.com/timabbott","followers_url":"https://api.github.com/users/timabbott/followers","following_url":"https://api.github.com/users/timabbott/following{/other_user}","gists_url":"https://api.github.com/users/timabbott/gists{/gist_id}","starred_url":"https://api.github.com/users/timabbott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timabbott/subscriptions","organizations_url":"https://api.github.com/users/timabbott/orgs","repos_url":"https://api.github.com/users/timabbott/repos","events_url":"https://api.github.com/users/timabbott/events{/privacy}","received_events_url":"https://api.github.com/users/timabbott/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3b301f522bcf87d3d1381bb7b63af93890ef0b88","commit_url":"https://api.github.com/repos/zulip/zulip/commits/3b301f522bcf87d3d1381bb7b63af93890ef0b88","created_at":"2020-09-04T00:51:12Z","performed_via_github_app":null},{"id":3785852120,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3ODU4NTIxMjA=","url":"https://api.github.com/repos/psf/black/issues/events/3785852120","actor":{"login":"Amitsinghyadav","id":44755056,"node_id":"MDQ6VXNlcjQ0NzU1MDU2","avatar_url":"https://avatars.githubusercontent.com/u/44755056?v=4","gravatar_id":"","url":"https://api.github.com/users/Amitsinghyadav","html_url":"https://github.com/Amitsinghyadav","followers_url":"https://api.github.com/users/Amitsinghyadav/followers","following_url":"https://api.github.com/users/Amitsinghyadav/following{/other_user}","gists_url":"https://api.github.com/users/Amitsinghyadav/gists{/gist_id}","starred_url":"https://api.github.com/users/Amitsinghyadav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Amitsinghyadav/subscriptions","organizations_url":"https://api.github.com/users/Amitsinghyadav/orgs","repos_url":"https://api.github.com/users/Amitsinghyadav/repos","events_url":"https://api.github.com/users/Amitsinghyadav/events{/privacy}","received_events_url":"https://api.github.com/users/Amitsinghyadav/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"68fcdbd18f5b177a854f035ed362521b713a88d8","commit_url":"https://api.github.com/repos/Amitsinghyadav/zulip/commits/68fcdbd18f5b177a854f035ed362521b713a88d8","created_at":"2020-09-20T06:10:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/850761357","html_url":"https://github.com/psf/black/issues/1671#issuecomment-850761357","issue_url":"https://api.github.com/repos/psf/black/issues/1671","id":850761357,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDc2MTM1Nw==","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-29T03:28:56Z","updated_at":"2021-05-29T03:28:56Z","body":"This is still broken (noting this because a similar bug with the magic trailing comma was fixed).","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/850761357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"PeterJCLaw","id":336212,"node_id":"MDQ6VXNlcjMzNjIxMg==","avatar_url":"https://avatars.githubusercontent.com/u/336212?v=4","gravatar_id":"","url":"https://api.github.com/users/PeterJCLaw","html_url":"https://github.com/PeterJCLaw","followers_url":"https://api.github.com/users/PeterJCLaw/followers","following_url":"https://api.github.com/users/PeterJCLaw/following{/other_user}","gists_url":"https://api.github.com/users/PeterJCLaw/gists{/gist_id}","starred_url":"https://api.github.com/users/PeterJCLaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PeterJCLaw/subscriptions","organizations_url":"https://api.github.com/users/PeterJCLaw/orgs","repos_url":"https://api.github.com/users/PeterJCLaw/repos","events_url":"https://api.github.com/users/PeterJCLaw/events{/privacy}","received_events_url":"https://api.github.com/users/PeterJCLaw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-30T10:11:59Z","updated_at":"2021-05-30T10:11:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/2279","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/2279/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/2279/comments","events_url":"https://api.github.com/repos/psf/black/issues/2279/events","html_url":"https://github.com/psf/black/issues/2279","id":906705558,"node_id":"MDU6SXNzdWU5MDY3MDU1NTg=","number":2279,"title":"Inconsistent wrapping for long call chain","user":{"login":"PeterJCLaw","id":336212,"node_id":"MDQ6VXNlcjMzNjIxMg==","avatar_url":"https://avatars.githubusercontent.com/u/336212?v=4","gravatar_id":"","url":"https://api.github.com/users/PeterJCLaw","html_url":"https://github.com/PeterJCLaw","followers_url":"https://api.github.com/users/PeterJCLaw/followers","following_url":"https://api.github.com/users/PeterJCLaw/following{/other_user}","gists_url":"https://api.github.com/users/PeterJCLaw/gists{/gist_id}","starred_url":"https://api.github.com/users/PeterJCLaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PeterJCLaw/subscriptions","organizations_url":"https://api.github.com/users/PeterJCLaw/orgs","repos_url":"https://api.github.com/users/PeterJCLaw/repos","events_url":"https://api.github.com/users/PeterJCLaw/events{/privacy}","received_events_url":"https://api.github.com/users/PeterJCLaw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432794,"node_id":"MDU6TGFiZWw4Njc0MzI3OTQ=","url":"https://api.github.com/repos/psf/black/labels/R:%20duplicate","name":"R: duplicate","color":"ffffff","default":false,"description":"This issue or pull request already exists"},{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":3042873307,"node_id":"MDU6TGFiZWwzMDQyODczMzA3","url":"https://api.github.com/repos/psf/black/labels/F:%20linebreak","name":"F: linebreak","color":"BFD4F2","default":false,"description":"How should we split up lines?"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2021-05-30T10:11:59Z","updated_at":"2022-01-31T22:03:08Z","closed_at":"2022-01-31T12:20:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Method chaining is inconsistent when the overall expression is a call (rather than, say, an assignment). Not sure if this is a style change or a bug.\r\n\r\n**Describe the style change**\r\n\r\nIt would be great if black were consistent in its wrapping such that it _either_ chained horizontally _or_ vertically, but not both within the same expression (at least within the same level in the call-nesting of an expression).\r\n\r\n**Examples in the current _Black_ style**\r\n\r\n```python\r\ndef func():\r\n    thing(\"argument-1\").thing(\"argument-2\").thing(\"argument-3\").thing(\r\n        \"argument-4\",\r\n    ).thing(\"argument-5\").thing(\"argument-6\").thing(\"argument-7\").thing(\r\n        \"argument-8\",\r\n    ).thing(\r\n        \"argument-9\",\r\n    ).thing(\r\n        \"argument-10\"\r\n    ).thing(\r\n        \"argument-11\"\r\n    ).thing(\r\n        \"argument-12\"\r\n    )\r\n```\r\n\r\nAdding trailing commas doesn't help, though I understand that that's a separate issue (https://github.com/psf/black/issues/1671):\r\n\r\n```python\r\ndef func():\r\n    thing(\"argument-1\",).thing(\"argument-2\",).thing(\"argument-3\",).thing(\r\n        \"argument-4\",\r\n    ).thing(\"argument-5\",).thing(\"argument-6\",).thing(\"argument-7\",).thing(\r\n        \"argument-8\",\r\n    ).thing(\r\n        \"argument-9\",\r\n    ).thing(\r\n        \"argument-10\"\r\n    ).thing(\r\n        \"argument-11\"\r\n    ).thing(\r\n        \"argument-12\"\r\n    )\r\n```\r\n\r\n**Desired style**\r\n\r\n```python\r\ndef func():\r\n    thing(\r\n        \"argument-1\",\r\n    ).thing(\r\n        \"argument-2\",\r\n    ).thing(\r\n        \"argument-3\",\r\n    ).thing(\r\n        \"argument-4\",\r\n    ).thing(\r\n        \"argument-5\",\r\n    ).thing(\r\n        \"argument-6\",\r\n    ).thing(\r\n        \"argument-7\",\r\n    ).thing(\r\n        \"argument-8\",\r\n    ).thing(\r\n        \"argument-9\",\r\n    ).thing(\r\n        \"argument-10\"\r\n    ).thing(\r\n        \"argument-11\"\r\n    ).thing(\r\n        \"argument-12\"\r\n    )\r\n```\r\n\r\n**Additional context**\r\n\r\nPossibly related issues:\r\n- https://github.com/psf/black/issues/1671\r\n- https://github.com/psf/black/issues/571\r\n- https://github.com/psf/black/issues/1723\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/2279/reactions","total_count":7,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/2279/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/1114147172","html_url":"https://github.com/psf/black/issues/1671#issuecomment-1114147172","issue_url":"https://api.github.com/repos/psf/black/issues/1671","id":1114147172,"node_id":"IC_kwDOB3dpmM5CaIlk","user":{"login":"thatlittleboy","id":30731072,"node_id":"MDQ6VXNlcjMwNzMxMDcy","avatar_url":"https://avatars.githubusercontent.com/u/30731072?v=4","gravatar_id":"","url":"https://api.github.com/users/thatlittleboy","html_url":"https://github.com/thatlittleboy","followers_url":"https://api.github.com/users/thatlittleboy/followers","following_url":"https://api.github.com/users/thatlittleboy/following{/other_user}","gists_url":"https://api.github.com/users/thatlittleboy/gists{/gist_id}","starred_url":"https://api.github.com/users/thatlittleboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thatlittleboy/subscriptions","organizations_url":"https://api.github.com/users/thatlittleboy/orgs","repos_url":"https://api.github.com/users/thatlittleboy/repos","events_url":"https://api.github.com/users/thatlittleboy/events{/privacy}","received_events_url":"https://api.github.com/users/thatlittleboy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-01T06:29:02Z","updated_at":"2022-05-01T06:33:49Z","body":"This is still broken on v22.3.0. Does anybody have any workarounds?\r\n\r\nThe only thing I can do now is to put parentheses around the method calls, then `black` will format the example in the original post like this:\r\n```python\r\n(\r\n    zero(\r\n        one,\r\n    )\r\n    .two(\r\n        three,\r\n    )\r\n    .four(\r\n        five,\r\n    )\r\n)\r\n```\r\n\r\n---\r\n\r\nOr maybe to kickstart potential PRs, can any `black` maintainer point us to the rough area in the codebase to look at which is causing this issue? Thanks.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1114147172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"thatlittleboy","id":30731072,"node_id":"MDQ6VXNlcjMwNzMxMDcy","avatar_url":"https://avatars.githubusercontent.com/u/30731072?v=4","gravatar_id":"","url":"https://api.github.com/users/thatlittleboy","html_url":"https://github.com/thatlittleboy","followers_url":"https://api.github.com/users/thatlittleboy/followers","following_url":"https://api.github.com/users/thatlittleboy/following{/other_user}","gists_url":"https://api.github.com/users/thatlittleboy/gists{/gist_id}","starred_url":"https://api.github.com/users/thatlittleboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thatlittleboy/subscriptions","organizations_url":"https://api.github.com/users/thatlittleboy/orgs","repos_url":"https://api.github.com/users/thatlittleboy/repos","events_url":"https://api.github.com/users/thatlittleboy/events{/privacy}","received_events_url":"https://api.github.com/users/thatlittleboy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-24T17:18:48Z","updated_at":"2022-06-24T17:18:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/3137","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/3137/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/3137/comments","events_url":"https://api.github.com/repos/psf/black/issues/3137/events","html_url":"https://github.com/psf/black/issues/3137","id":1283906466,"node_id":"I_kwDOB3dpmM5Mhtui","number":3137,"title":"black mishandles magic comma in context managers","user":{"login":"graingert","id":413772,"node_id":"MDQ6VXNlcjQxMzc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/413772?v=4","gravatar_id":"","url":"https://api.github.com/users/graingert","html_url":"https://github.com/graingert","followers_url":"https://api.github.com/users/graingert/followers","following_url":"https://api.github.com/users/graingert/following{/other_user}","gists_url":"https://api.github.com/users/graingert/gists{/gist_id}","starred_url":"https://api.github.com/users/graingert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graingert/subscriptions","organizations_url":"https://api.github.com/users/graingert/orgs","repos_url":"https://api.github.com/users/graingert/repos","events_url":"https://api.github.com/users/graingert/events{/privacy}","received_events_url":"https://api.github.com/users/graingert/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":970487886,"node_id":"MDU6TGFiZWw5NzA0ODc4ODY=","url":"https://api.github.com/repos/psf/black/labels/F:%20trailing%20comma","name":"F: trailing comma","color":"BFD4F2","default":false,"description":"Full of magic"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-06-24T15:47:15Z","updated_at":"2025-07-23T18:29:31Z","closed_at":"2025-07-23T18:29:31Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Black https://github.com/psf/black/commit/fa6caa**\r\n\r\n[Playground link](https://black.vercel.app/?version=main&state=_Td6WFoAAATm1rRGAgAhARYAAAB0L-Wj4AKmAM9dAD2IimZxl1N_WjI0u8OlQwlDaW_q2T6yXYKpJV2Ms7631k4yBqy56lCTIqRUTO7RQfL4L0LbDjztMJmTJn6WP0vXD9_ROkJgkWvy4Sc5iihUJVUNLWUaNZhEnYPNCXFRM00VXhFvAgG0QPSgtwq8W7aHYP-gQF6as_9ALsHmLTuyJK-Y_tu-wE6otbgecVvnkxLKTqRpDEYDQMuz2CWs0g7mah3738lSP8J_CSjCKJrNEEDsSk5oPnX32Xee_fBFvnJEFl1H65JjvISE2ECKqwAAY9b7lWGhrQoAAesBpwUAAHv1wVSxxGf7AgAAAAAEWVo=)\r\n\r\n## Options\r\n\r\n`--line-length=88`\r\n`--safe`\r\n\r\n## Input\r\n\r\n```python\r\n@gen_test()\r\nasync def test_eq():\r\n    async with Cluster(\r\n        asynchronous=True,\r\n        name=\"A\",\r\n    ) as clusterA, Cluster(\r\n        asynchronous=True,\r\n        name=\"A2\",\r\n    ) as clusterA2, Cluster(\r\n        asynchronous=True,\r\n        name=\"B\",\r\n    ) as clusterB:\r\n        assert clusterA != \"A\"\r\n        assert not (clusterA == \"A\")\r\n        assert clusterA == clusterA\r\n        assert not (clusterA != clusterA)\r\n        assert clusterA != clusterA2\r\n        assert not (clusterA == clusterA2)\r\n        assert clusterA != clusterB\r\n        assert not (clusterA == clusterB)\r\n```\r\n\r\n## Output\r\n\r\n```python\r\n@gen_test()\r\nasync def test_eq():\r\n    async with Cluster(asynchronous=True, name=\"A\",) as clusterA, Cluster(\r\n        asynchronous=True,\r\n        name=\"A2\",\r\n    ) as clusterA2, Cluster(\r\n        asynchronous=True,\r\n        name=\"B\",\r\n    ) as clusterB:\r\n        assert clusterA != \"A\"\r\n        assert not (clusterA == \"A\")\r\n        assert clusterA == clusterA\r\n        assert not (clusterA != clusterA)\r\n        assert clusterA != clusterA2\r\n        assert not (clusterA == clusterA2)\r\n        assert clusterA != clusterB\r\n        assert not (clusterA == clusterB)\r\n\r\n```\r\n\r\n## Expected\r\nidempotency","reactions":{"url":"https://api.github.com/repos/psf/black/issues/3137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/3137/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":7029579216,"node_id":"RTE_lADOB3dpmM4pOR5LzwAAAAGi_t3Q","url":"https://api.github.com/repos/psf/black/issues/events/7029579216","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2022-07-20T13:47:23Z","rename":{"from":"Only the last trailing comma in a series of chained method calls is magic","to":"Only the last trailing comma in a statement is magic"},"performed_via_github_app":null},{"actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T13:47:26Z","updated_at":"2022-07-20T13:47:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/2498","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/2498/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/2498/comments","events_url":"https://api.github.com/repos/psf/black/issues/2498/events","html_url":"https://github.com/psf/black/issues/2498","id":999513760,"node_id":"I_kwDOB3dpmM47k16g","number":2498,"title":"magic trailing comma is ignored in function return type if function has args","user":{"login":"nik-sm","id":29764926,"node_id":"MDQ6VXNlcjI5NzY0OTI2","avatar_url":"https://avatars.githubusercontent.com/u/29764926?v=4","gravatar_id":"","url":"https://api.github.com/users/nik-sm","html_url":"https://github.com/nik-sm","followers_url":"https://api.github.com/users/nik-sm/followers","following_url":"https://api.github.com/users/nik-sm/following{/other_user}","gists_url":"https://api.github.com/users/nik-sm/gists{/gist_id}","starred_url":"https://api.github.com/users/nik-sm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik-sm/subscriptions","organizations_url":"https://api.github.com/users/nik-sm/orgs","repos_url":"https://api.github.com/users/nik-sm/repos","events_url":"https://api.github.com/users/nik-sm/events{/privacy}","received_events_url":"https://api.github.com/users/nik-sm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":970487886,"node_id":"MDU6TGFiZWw5NzA0ODc4ODY=","url":"https://api.github.com/repos/psf/black/labels/F:%20trailing%20comma","name":"F: trailing comma","color":"BFD4F2","default":false,"description":"Full of magic"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-09-17T16:06:59Z","updated_at":"2022-07-20T17:08:21Z","closed_at":"2022-07-20T13:47:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the style change**\r\n\r\nFor a function with no args, magic trailing comma lets us control how the return type looks.\r\n\r\nHowever, if we add an arg, the magic trailing comma is ignored, and the return type stays on one huge line. \r\nInstead, it should be split across lines.\r\n\r\n**Examples in the current _Black_ style**\r\n\r\nFor brevity, suppose all snippets begin with\r\n```python\r\nfrom typing import Tuple\r\n\r\nclass Value:\r\n    pass\r\n````\r\n\r\nConsider the case of `--line-length 120`. Length is not a factor here; in all cases, the entire definition _could_ fit on one line.\r\n\r\nWith no arguments to `def fn()`, adding the comma will take us from this:\r\n```python\r\ndef fn() -> Tuple[Tuple[Value, Value, Value], Tuple[Value, Value, Value], Tuple[Value, Value, Value]]:\r\n    ...\r\n```\r\n... to this:\r\n\r\n```python\r\ndef fn() -> Tuple[\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n]:\r\n    ...\r\n```\r\n\r\nThis is nice - the function has an unwieldy return type, and presented on one line, it is not very unreadable.\r\nThis multi-line version is also better for a git diff.\r\n\r\n---\r\n\r\nNow the if the function has an arg, the magic comma will take us from this:\r\n```python\r\ndef fn(arg) -> Tuple[Tuple[Value, Value, Value], Tuple[Value, Value, Value], Tuple[Value, Value, Value]]:\r\n    ...\r\n```\r\n... to this:\r\n\r\n```python\r\ndef fn(\r\n    arg,\r\n) -> Tuple[Tuple[Value, Value, Value], Tuple[Value, Value, Value], Tuple[Value, Value, Value],]: \r\n    ...\r\n```\r\n\r\nNotice the two changes that were made.\r\n1. `arg` receives a trailing comma and its own line\r\n2. The return type's trailing comma is ignored, and it stays on one huge line\r\n\r\nThis also produces a flake8 error `E231` (missing whitespace after `,`).\r\n\r\n\r\n**Desired style**\r\n\r\nI can think of two desired results.\r\n\r\nFirst (preferred):\r\n\r\n```python\r\ndef fn(arg) -> Tuple[   # single arg, no need for additional newline\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n]:\r\n    ...\r\n\r\n```\r\n\r\nSecond:\r\n\r\n```python\r\ndef fn(\r\n    arg,  # Extra newline - not really necessary, but more consistent with example below\r\n) -> Tuple[\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n]:\r\n    ...\r\n```\r\n\r\nThis second version is consistent with how the function would look when the return type grows and exceeds line length.\r\nIt's not ideal that the arguments are exploded unnecessarily, but it seems like this is possibly a separate topic.\r\n\r\n```python\r\ndef fn(\r\n    arg,\r\n) -> Tuple[\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],\r\n    Tuple[Value, Value, Value],  # Here it cannot fit on one line\r\n]:\r\n    ...\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/2498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/2498/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/1190310853","html_url":"https://github.com/psf/black/issues/1671#issuecomment-1190310853","issue_url":"https://api.github.com/repos/psf/black/issues/1671","id":1190310853,"node_id":"IC_kwDOB3dpmM5G8rPF","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T13:48:05Z","updated_at":"2022-07-20T13:48:05Z","body":"#2498 has some examples showing this is more general: if a statement contains multiple magic trailing commas, the magic only extends to one of them.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1190310853/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/1205347809","html_url":"https://github.com/psf/black/issues/1671#issuecomment-1205347809","issue_url":"https://api.github.com/repos/psf/black/issues/1671","id":1205347809,"node_id":"IC_kwDOB3dpmM5H2CXh","user":{"login":"Toreno96","id":16722326,"node_id":"MDQ6VXNlcjE2NzIyMzI2","avatar_url":"https://avatars.githubusercontent.com/u/16722326?v=4","gravatar_id":"","url":"https://api.github.com/users/Toreno96","html_url":"https://github.com/Toreno96","followers_url":"https://api.github.com/users/Toreno96/followers","following_url":"https://api.github.com/users/Toreno96/following{/other_user}","gists_url":"https://api.github.com/users/Toreno96/gists{/gist_id}","starred_url":"https://api.github.com/users/Toreno96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Toreno96/subscriptions","organizations_url":"https://api.github.com/users/Toreno96/orgs","repos_url":"https://api.github.com/users/Toreno96/repos","events_url":"https://api.github.com/users/Toreno96/events{/privacy}","received_events_url":"https://api.github.com/users/Toreno96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-04T14:37:21Z","updated_at":"2022-08-04T14:37:21Z","body":"What's the status of this issue? This is still broken on `v22.6.0`  ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1205347809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Toreno96","id":16722326,"node_id":"MDQ6VXNlcjE2NzIyMzI2","avatar_url":"https://avatars.githubusercontent.com/u/16722326?v=4","gravatar_id":"","url":"https://api.github.com/users/Toreno96","html_url":"https://github.com/Toreno96","followers_url":"https://api.github.com/users/Toreno96/followers","following_url":"https://api.github.com/users/Toreno96/following{/other_user}","gists_url":"https://api.github.com/users/Toreno96/gists{/gist_id}","starred_url":"https://api.github.com/users/Toreno96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Toreno96/subscriptions","organizations_url":"https://api.github.com/users/Toreno96/orgs","repos_url":"https://api.github.com/users/Toreno96/repos","events_url":"https://api.github.com/users/Toreno96/events{/privacy}","received_events_url":"https://api.github.com/users/Toreno96/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T02:14:41Z","updated_at":"2022-09-02T02:14:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/3239","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/3239/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/3239/comments","events_url":"https://api.github.com/repos/psf/black/issues/3239/events","html_url":"https://github.com/psf/black/issues/3239","id":1351754390,"node_id":"I_kwDOB3dpmM5QkiKW","number":3239,"title":"magic trailing comma not working in certain scenario","user":{"login":"nipunn1313","id":1300387,"node_id":"MDQ6VXNlcjEzMDAzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1300387?v=4","gravatar_id":"","url":"https://api.github.com/users/nipunn1313","html_url":"https://github.com/nipunn1313","followers_url":"https://api.github.com/users/nipunn1313/followers","following_url":"https://api.github.com/users/nipunn1313/following{/other_user}","gists_url":"https://api.github.com/users/nipunn1313/gists{/gist_id}","starred_url":"https://api.github.com/users/nipunn1313/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nipunn1313/subscriptions","organizations_url":"https://api.github.com/users/nipunn1313/orgs","repos_url":"https://api.github.com/users/nipunn1313/repos","events_url":"https://api.github.com/users/nipunn1313/events{/privacy}","received_events_url":"https://api.github.com/users/nipunn1313/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":970487886,"node_id":"MDU6TGFiZWw5NzA0ODc4ODY=","url":"https://api.github.com/repos/psf/black/labels/F:%20trailing%20comma","name":"F: trailing comma","color":"BFD4F2","default":false,"description":"Full of magic"},{"id":2955782663,"node_id":"MDU6TGFiZWwyOTU1NzgyNjYz","url":"https://api.github.com/repos/psf/black/labels/S:%20awaiting%20response","name":"S: awaiting response","color":"F9D0C4","default":false,"description":"Waiting for futher information from OP"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2022-08-26T05:10:56Z","updated_at":"2022-09-02T02:17:55Z","closed_at":"2022-09-02T02:17:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the bug**\r\n\r\nTrailing commas are incorrectly being ruthlessly collapsed into one line\r\n\r\n**To Reproduce**\r\n\r\nReproes in the black playground\r\n```python\r\ndef method(\r\n    self,\r\n) -> typing_extensions.Literal[\r\n    \"l1\",\r\n    \"l2\",\r\n]: pass\r\n```\r\n\r\nResult is\r\n```python\r\ndef method(\r\n    self,\r\n) -> typing_extensions.Literal[\"l1\", \"l2\",]:\r\n    pass\r\n```\r\n\r\n**Expected behavior**\r\n\r\nI'd expect no change to the Literal writeout.\r\n\r\n**Environment**\r\n\r\nBlack 22.6.0 in the black playground.\r\n\r\n**Additional context**\r\n\r\nI noticed that if we eliminate the `self` argument, then black works correctly. Seems to have something to do with the fact that there are two trailing command in the method definition. Second one is not respected.","reactions":{"url":"https://api.github.com/repos/psf/black/issues/3239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/3239/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"actor":{"login":"yilei","id":581947,"node_id":"MDQ6VXNlcjU4MTk0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/581947?v=4","gravatar_id":"","url":"https://api.github.com/users/yilei","html_url":"https://github.com/yilei","followers_url":"https://api.github.com/users/yilei/followers","following_url":"https://api.github.com/users/yilei/following{/other_user}","gists_url":"https://api.github.com/users/yilei/gists{/gist_id}","starred_url":"https://api.github.com/users/yilei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yilei/subscriptions","organizations_url":"https://api.github.com/users/yilei/orgs","repos_url":"https://api.github.com/users/yilei/repos","events_url":"https://api.github.com/users/yilei/events{/privacy}","received_events_url":"https://api.github.com/users/yilei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T03:19:07Z","updated_at":"2022-11-01T03:19:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/3368","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/3368/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/3368/comments","events_url":"https://api.github.com/repos/psf/black/issues/3368/events","html_url":"https://github.com/psf/black/pull/3368","id":1430590957,"node_id":"PR_kwDOB3dpmM5B7GAc","number":3368,"title":"Prefer splitting right hand side of assignment statements.","user":{"login":"yilei","id":581947,"node_id":"MDQ6VXNlcjU4MTk0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/581947?v=4","gravatar_id":"","url":"https://api.github.com/users/yilei","html_url":"https://github.com/yilei","followers_url":"https://api.github.com/users/yilei/followers","following_url":"https://api.github.com/users/yilei/following{/other_user}","gists_url":"https://api.github.com/users/yilei/gists{/gist_id}","starred_url":"https://api.github.com/users/yilei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yilei/subscriptions","organizations_url":"https://api.github.com/users/yilei/orgs","repos_url":"https://api.github.com/users/yilei/repos","events_url":"https://api.github.com/users/yilei/events{/privacy}","received_events_url":"https://api.github.com/users/yilei/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2022-10-31T22:42:21Z","updated_at":"2024-05-15T22:35:15Z","closed_at":"2022-12-15T23:58:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/psf/black/pulls/3368","html_url":"https://github.com/psf/black/pull/3368","diff_url":"https://github.com/psf/black/pull/3368.diff","patch_url":"https://github.com/psf/black/pull/3368.patch","merged_at":"2022-12-15T23:58:51Z"},"body":"<!-- Hello! Thanks for submitting a PR. To help make things go a bit more\r\n     smoothly we would appreciate that you go through this template. -->\r\n\r\n### Description\r\n\r\nWhen an assignment statement's left hand side fits on a single line, prefer splitting the right hand side's outer optional parens.\r\n\r\nFixes #1498.\r\n\r\n<!-- Good things to put here include: reasoning for the change (please link\r\n     any relevant issues!), any noteworthy (or hacky) choices to be aware of,\r\n     or what the problem resolved here looked like ... we won't mind a ranty\r\n     story :) -->\r\n\r\n### Checklist - did you ...\r\n\r\n<!-- If any of the following items aren't relevant for your contribution\r\n     please still tick them so we know you've gone through the checklist.\r\n\r\n    All user-facing changes should get an entry. Otherwise, signal to us\r\n    this should get the magical label to silence the CHANGELOG entry check.\r\n    Tests are required for bugfixes and new features. Documentation changes\r\n    are necessary for formatting and most enhancement changes. -->\r\n\r\n- [x] Add an entry in `CHANGES.md` if necessary?\r\n- [x] Add / update tests if necessary?\r\n- [x] Add new / update outdated documentation?\r\n\r\n<!-- Just as a reminder, everyone in all psf/black spaces including PRs\r\n     must follow the PSF Code of Conduct (link below).\r\n\r\n     Finally, once again thanks for your time and effort. If you have any\r\n     feedback in regards to your experience contributing here, please\r\n     let us know!\r\n\r\n     Helpful links:\r\n\r\n      PSF COC: https://www.python.org/psf/conduct/\r\n      Contributing docs: https://black.readthedocs.io/en/latest/contributing/index.html\r\n      Chat on Python Discord: https://discord.gg/RtVdv86PrH -->\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/3368/reactions","total_count":5,"+1":0,"-1":0,"laugh":0,"hooray":4,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/3368/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"yilei","id":581947,"node_id":"MDQ6VXNlcjU4MTk0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/581947?v=4","gravatar_id":"","url":"https://api.github.com/users/yilei","html_url":"https://github.com/yilei","followers_url":"https://api.github.com/users/yilei/followers","following_url":"https://api.github.com/users/yilei/following{/other_user}","gists_url":"https://api.github.com/users/yilei/gists{/gist_id}","starred_url":"https://api.github.com/users/yilei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yilei/subscriptions","organizations_url":"https://api.github.com/users/yilei/orgs","repos_url":"https://api.github.com/users/yilei/repos","events_url":"https://api.github.com/users/yilei/events{/privacy}","received_events_url":"https://api.github.com/users/yilei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T07:39:42Z","updated_at":"2022-11-01T07:39:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/3370","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/3370/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/3370/comments","events_url":"https://api.github.com/repos/psf/black/issues/3370/events","html_url":"https://github.com/psf/black/pull/3370","id":1431013409,"node_id":"PR_kwDOB3dpmM5B8fJK","number":3370,"title":"Correctly handle trailing commas that are inside a line's leading non-nested parens","user":{"login":"yilei","id":581947,"node_id":"MDQ6VXNlcjU4MTk0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/581947?v=4","gravatar_id":"","url":"https://api.github.com/users/yilei","html_url":"https://github.com/yilei","followers_url":"https://api.github.com/users/yilei/followers","following_url":"https://api.github.com/users/yilei/following{/other_user}","gists_url":"https://api.github.com/users/yilei/gists{/gist_id}","starred_url":"https://api.github.com/users/yilei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yilei/subscriptions","organizations_url":"https://api.github.com/users/yilei/orgs","repos_url":"https://api.github.com/users/yilei/repos","events_url":"https://api.github.com/users/yilei/events{/privacy}","received_events_url":"https://api.github.com/users/yilei/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-11-01T07:39:42Z","updated_at":"2022-12-11T05:16:53Z","closed_at":"2022-11-09T23:08:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/psf/black/pulls/3370","html_url":"https://github.com/psf/black/pull/3370","diff_url":"https://github.com/psf/black/pull/3370.diff","patch_url":"https://github.com/psf/black/pull/3370.patch","merged_at":"2022-11-09T23:08:52Z"},"body":"<!-- Hello! Thanks for submitting a PR. To help make things go a bit more\r\n     smoothly we would appreciate that you go through this template. -->\r\n\r\n### Description\r\n\r\n<!-- Good things to put here include: reasoning for the change (please link\r\n     any relevant issues!), any noteworthy (or hacky) choices to be aware of,\r\n     or what the problem resolved here looked like ... we won't mind a ranty\r\n     story :) -->\r\n\r\nCorrectly handle trailing commas that are inside a line's leading non-nested parens.\r\n\r\n- Fixes #1671\r\n- Fixes #3229\r\n\r\n### Checklist - did you ...\r\n\r\n<!-- If any of the following items aren't relevant for your contribution\r\n     please still tick them so we know you've gone through the checklist.\r\n\r\n    All user-facing changes should get an entry. Otherwise, signal to us\r\n    this should get the magical label to silence the CHANGELOG entry check.\r\n    Tests are required for bugfixes and new features. Documentation changes\r\n    are necessary for formatting and most enhancement changes. -->\r\n\r\n- [x] Add an entry in `CHANGES.md` if necessary?\r\n- [x] Add / update tests if necessary?\r\n- [x] Add new / update outdated documentation?\r\n\r\n<!-- Just as a reminder, everyone in all psf/black spaces including PRs\r\n     must follow the PSF Code of Conduct (link below).\r\n\r\n     Finally, once again thanks for your time and effort. If you have any\r\n     feedback in regards to your experience contributing here, please\r\n     let us know!\r\n\r\n     Helpful links:\r\n\r\n      PSF COC: https://www.python.org/psf/conduct/\r\n      Contributing docs: https://black.readthedocs.io/en/latest/contributing/index.html\r\n      Chat on Python Discord: https://discord.gg/RtVdv86PrH -->\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/3370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/3370/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7778045914,"node_id":"CE_lADOB3dpmM4pOR5LzwAAAAHPm4_a","url":"https://api.github.com/repos/psf/black/issues/events/7778045914","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-11-09T23:08:53Z","state_reason":null,"performed_via_github_app":null},{"id":7778046158,"node_id":"REFE_lADOB3dpmM4pOR5LzwAAAAHPm5DO","url":"https://api.github.com/repos/psf/black/issues/events/7778046158","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8091b2503d12dd0110e0f1a9ed1e6b830aa668ed","commit_url":"https://api.github.com/repos/psf/black/commits/8091b2503d12dd0110e0f1a9ed1e6b830aa668ed","created_at":"2022-11-09T23:08:56Z","performed_via_github_app":null}]