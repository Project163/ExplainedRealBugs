{"url":"https://api.github.com/repos/psf/black/issues/18","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/18/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/18/comments","events_url":"https://api.github.com/repos/psf/black/issues/18/events","html_url":"https://github.com/psf/black/issues/18","id":305457620,"node_id":"MDU6SXNzdWUzMDU0NTc2MjA=","number":18,"title":"\"Black produced different code on the second pass of the formatter\"","user":{"login":"hugovk","id":1324225,"node_id":"MDQ6VXNlcjEzMjQyMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1324225?v=4","gravatar_id":"","url":"https://api.github.com/users/hugovk","html_url":"https://github.com/hugovk","followers_url":"https://api.github.com/users/hugovk/followers","following_url":"https://api.github.com/users/hugovk/following{/other_user}","gists_url":"https://api.github.com/users/hugovk/gists{/gist_id}","starred_url":"https://api.github.com/users/hugovk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hugovk/subscriptions","organizations_url":"https://api.github.com/users/hugovk/orgs","repos_url":"https://api.github.com/users/hugovk/repos","events_url":"https://api.github.com/users/hugovk/events{/privacy}","received_events_url":"https://api.github.com/users/hugovk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":867439213,"node_id":"MDU6TGFiZWw4Njc0MzkyMTM=","url":"https://api.github.com/repos/psf/black/labels/C:%20unstable%20formatting","name":"C: unstable formatting","color":"ff0000","default":false,"description":"Formatting changed on the second pass"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-15T08:34:40Z","updated_at":"2018-03-17T08:01:06Z","closed_at":"2018-03-17T08:00:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```console\r\n$ cat setup.py\r\n```\r\n```python\r\n#!/usr/bin/env python\r\nfrom setuptools import find_packages, setup\r\n\r\n\r\nsetup(\r\n    name=\"pylast\",\r\n    version=\"2.2.0.dev0\",\r\n    author=\"Amr Hassan <amr.hassan@gmail.com> and Contributors\",\r\n    install_requires=['six'],\r\n    tests_require=['mock', 'pytest', 'coverage', 'pycodestyle', 'pyyaml',\r\n                   'pyflakes', 'flaky'],\r\n    description=\"A Python interface to Last.fm and Libre.fm\",\r\n    author_email=\"amr.hassan@gmail.com\",\r\n    url=\"https://github.com/pylast/pylast\",\r\n    classifiers=[\r\n        \"Development Status :: 5 - Production/Stable\",\r\n        \"License :: OSI Approved :: Apache Software License\",\r\n        \"Topic :: Internet\",\r\n        \"Topic :: Multimedia :: Sound/Audio\",\r\n        \"Topic :: Software Development :: Libraries :: Python Modules\",\r\n        \"Programming Language :: Python :: 2\",\r\n        \"Programming Language :: Python :: 2.7\",\r\n        \"Programming Language :: Python :: 3\",\r\n        \"Programming Language :: Python :: 3.4\",\r\n        \"Programming Language :: Python :: 3.5\",\r\n        \"Programming Language :: Python :: 3.6\",\r\n        \"Programming Language :: Python :: Implementation :: CPython\",\r\n        \"Programming Language :: Python :: Implementation :: PyPy\",\r\n    ],\r\n    python_requires='>=2.7.10, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*',\r\n    keywords=[\"Last.fm\", \"music\", \"scrobble\", \"scrobbling\"],\r\n    packages=find_packages(exclude=('tests*',)),\r\n    license=\"Apache2\"\r\n)\r\n\r\n# End of file\r\n```\r\n```console\r\n$ black setup.py\r\nerror: cannot format setup.py: INTERNAL ERROR: Black produced different code on the second pass of the formatter.  Please report a bug on https://github.com/ambv/black/issues.  This diff might be helpful: /var/folders/kt/j77sf4_n6fnbx6pg199rbx700000gn/T/blk_d33mlhef.log\r\n$ cat /var/folders/kt/j77sf4_n6fnbx6pg199rbx700000gn/T/blk_d33mlhef.log\r\n```\r\n```diff\r\n--- source\r\n+++ first pass\r\n@@ -1,16 +1,16 @@\r\n #!/usr/bin/env python\r\n from setuptools import find_packages, setup\r\n-\r\n \r\n setup(\r\n     name=\"pylast\",\r\n     version=\"2.2.0.dev0\",\r\n     author=\"Amr Hassan <amr.hassan@gmail.com> and Contributors\",\r\n     install_requires=['six'],\r\n-    tests_require=['mock', 'pytest', 'coverage', 'pycodestyle', 'pyyaml',\r\n-                   'pyflakes', 'flaky'],\r\n+    tests_require=[\r\n+        'mock', 'pytest', 'coverage', 'pycodestyle', 'pyyaml', 'pyflakes', 'flaky'\r\n+    ],\r\n     description=\"A Python interface to Last.fm and Libre.fm\",\r\n     author_email=\"amr.hassan@gmail.com\",\r\n     url=\"https://github.com/pylast/pylast\",\r\n     classifiers=[\r\n         \"Development Status :: 5 - Production/Stable\",\r\n@@ -28,10 +28,9 @@\r\n         \"Programming Language :: Python :: Implementation :: PyPy\",\r\n     ],\r\n     python_requires='>=2.7.10, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*',\r\n     keywords=[\"Last.fm\", \"music\", \"scrobble\", \"scrobbling\"],\r\n     packages=find_packages(exclude=('tests*',)),\r\n-    license=\"Apache2\"\r\n+    license=\"Apache2\",\r\n )\r\n-\r\n # End of file\r\n \r\n\r\n--- first pass\r\n+++ second pass\r\n@@ -29,8 +29,7 @@\r\n     ],\r\n     python_requires='>=2.7.10, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*',\r\n     keywords=[\"Last.fm\", \"music\", \"scrobble\", \"scrobbling\"],\r\n     packages=find_packages(exclude=('tests*',)),\r\n     license=\"Apache2\",\r\n-)\r\n-# End of file\r\n+)  # End of file\r\n \r\n\r\n\r\n```","closed_by":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/psf/black/issues/18/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/18/timeline","performed_via_github_app":null,"state_reason":"completed"}