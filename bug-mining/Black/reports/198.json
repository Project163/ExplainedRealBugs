{"url":"https://api.github.com/repos/psf/black/issues/1256","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1256/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1256/comments","events_url":"https://api.github.com/repos/psf/black/issues/1256/events","html_url":"https://github.com/psf/black/issues/1256","id":558344905,"node_id":"MDU6SXNzdWU1NTgzNDQ5MDU=","number":1256,"title":"Consider making a more formal description of planned changes.","user":{"login":"akhmerov","id":2069677,"node_id":"MDQ6VXNlcjIwNjk2Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/2069677?v=4","gravatar_id":"","url":"https://api.github.com/users/akhmerov","html_url":"https://github.com/akhmerov","followers_url":"https://api.github.com/users/akhmerov/followers","following_url":"https://api.github.com/users/akhmerov/following{/other_user}","gists_url":"https://api.github.com/users/akhmerov/gists{/gist_id}","starred_url":"https://api.github.com/users/akhmerov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akhmerov/subscriptions","organizations_url":"https://api.github.com/users/akhmerov/orgs","repos_url":"https://api.github.com/users/akhmerov/repos","events_url":"https://api.github.com/users/akhmerov/events{/privacy}","received_events_url":"https://api.github.com/users/akhmerov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432796,"node_id":"MDU6TGFiZWw4Njc0MzI3OTY=","url":"https://api.github.com/repos/psf/black/labels/T:%20enhancement","name":"T: enhancement","color":"a2eeef","default":false,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-01-31T20:04:49Z","updated_at":"2022-01-29T00:49:44Z","closed_at":"2022-01-29T00:49:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"First of all, thank you for developing this very useful package. My proposal is related to the project documentation, so not really a feature request. Still I hope addressing it would be useful both to the project contributors and its users.\r\n\r\n## Current situation related to planning of style changes.\r\n\r\nThere are several places in the documentation and outside, that relate to the vision of the future evolution of black. I tried to make a comprehensive collection below.\r\n\r\n- The [beta warning](https://black.readthedocs.io/en/latest/installation_and_usage.html#note-this-is-a-beta-product) says:\r\n\r\n  > What this means for you is that until the formatter becomes stable, you should expect some formatting to change in the future. That being said, no drastic stylistic changes are planned, mostly responses to bug reports.\r\n\r\n- The [contribution guide](https://black.readthedocs.io/en/stable/contributing.html#bird-s-eye-view) warns that proposals to change formatting are unlikely:\r\n\r\n  > On the other hand, if your answer is “because I don’t like a particular formatting” then you’re not ready to embrace Black yet. Such changes are unlikely to get accepted. You can still try but prepare to be disappointed.\r\n\r\n- The [style issue template](https://github.com/psf/black/blob/master/.github/ISSUE_TEMPLATE/style_issue.md) on the other hand mentions no policy towards which style changes would be considered acceptable.\r\n\r\n- In multiple issues, the developers rejected proposals to change the style, bringing up as an argument that ∼2e7 lines out there is blackified, and that it would be disruptive to change the style.\r\n\r\n- The [changelog](https://black.readthedocs.io/en/stable/change_log.html) does not seem to describe whether each new version modifies formatting or not.\r\n\r\n- Some issues labeled \"design\" [stay open](https://github.com/psf/black/issues?q=is%3Aissue+is%3Aopen+label%3Adesign) also following the response from the dev team, which seemingly suggests that these ideas were accepted.\r\n\r\n- Testing different black versions on the scipy codebase I have obtained the following changeset (for interested, [source here](https://nbviewer.jupyter.org/url/antonakhmerov.org/misc/black_benchmark.ipynb)):\r\n\r\n  |         |   files changed |   additions |   deletions |\r\n  |:--------|----------------:|------------:|------------:|\r\n  | 18.3a0  |             601 |       68255 |       53889 |\r\n  | 18.3a1  |             350 |        2143 |        2219 |\r\n  | 18.3a2  |             200 |         980 |        1460 |\r\n  | 18.3a3  |             250 |        1678 |         881 |\r\n  | 18.3a4  |              60 |        1508 |        1233 |\r\n  | 18.4a0  |             525 |       17244 |       16435 |\r\n  | 18.4a1  |             129 |         590 |         381 |\r\n  | 18.4a2  |               1 |           1 |           1 |\r\n  | 18.4a3  |             135 |         762 |         586 |\r\n  | 18.4a4  |               0 |           0 |           0 |\r\n  | 18.5b0  |             265 |        2790 |        3088 |\r\n  | 18.5b1  |             209 |          63 |        1011 |\r\n  | 18.6b0  |               8 |          24 |          72 |\r\n  | 18.6b1  |               0 |           0 |           0 |\r\n  | 18.6b2  |               0 |           0 |           0 |\r\n  | 18.6b3  |               0 |           0 |           0 |\r\n  | 18.6b4  |               0 |           0 |           0 |\r\n  | 18.9b0  |             187 |        4208 |        4033 |\r\n  | 19.3b0  |               0 |           0 |           0 |\r\n  | 19.10b0 |              59 |         570 |         407 |\r\n\r\n  It is not clear to me whether the volume of changes diminishes or not. There are open issues (e.g. #1246) requesting features for pinning the version of black.\r\n\r\n- I expect that the understanding of what comprises the best style will evolve with time indefinitely. For example, PEP8 [keeps evolving](https://github.com/python/peps/commits/master/pep-0008.txt) despite its overall rather mature age.\r\n\r\n  I find this perspective hard to reconcile with the implicitly communicated idea that when black stops being beta, its style won't change anymore.\r\n\r\n## Proposal\r\n\r\nI believe the discussion of the planned improvements to the black style, and the reliability of black for the users in the long run would be improved by implementing the following changes.\r\n\r\n1. Add a design document that reflects the current vision of what the style of black should be, what aspects may not change, and what aspects may change. Document what arguments are considered when deciding to change the default style. List the planned, but not implemented changes, possibly just linking to the issue tracker.\r\n2. Stop using alpha/beta version labeling (since so many projects already rely on black), implement a programmatic way to determine the version of the black style. The minimal approach here would be semver, however I realize that switching from the current versioning scheme to semver is rather hard. This proposal is independent from the first one.","closed_by":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/psf/black/issues/1256/reactions","total_count":7,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":5,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1256/timeline","performed_via_github_app":null,"state_reason":"completed"}