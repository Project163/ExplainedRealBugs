{"url":"https://api.github.com/repos/psf/black/issues/415","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/415/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/415/comments","events_url":"https://api.github.com/repos/psf/black/issues/415/events","html_url":"https://github.com/psf/black/issues/415","id":343439089,"node_id":"MDU6SXNzdWUzNDM0MzkwODk=","number":415,"title":"vim plugin hijacks the comma, and for all filetypes too","user":{"login":"dimbleby","id":875184,"node_id":"MDQ6VXNlcjg3NTE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/875184?v=4","gravatar_id":"","url":"https://api.github.com/users/dimbleby","html_url":"https://github.com/dimbleby","followers_url":"https://api.github.com/users/dimbleby/followers","following_url":"https://api.github.com/users/dimbleby/following{/other_user}","gists_url":"https://api.github.com/users/dimbleby/gists{/gist_id}","starred_url":"https://api.github.com/users/dimbleby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimbleby/subscriptions","organizations_url":"https://api.github.com/users/dimbleby/orgs","repos_url":"https://api.github.com/users/dimbleby/repos","events_url":"https://api.github.com/users/dimbleby/events{/privacy}","received_events_url":"https://api.github.com/users/dimbleby/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-07-22T21:11:15Z","updated_at":"2018-08-17T15:45:50Z","closed_at":"2018-08-17T15:45:50Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":" version 18.6b4, also true on master.\r\n\r\n`black.vim` [contains](https://github.com/ambv/black/blob/e94a41f92a568706700522aaad48ebd137fe1d8b/plugin/black.vim#L126-L127):\r\n\r\n```\r\nnmap ,= :Black<CR>\r\nvmap ,= :Black<CR>\r\n```\r\n\r\nBut there are problems with this:\r\n\r\n* First, this hijacks the comma - which is a standard vim command, that some of us find useful.  It's not OK for for plugins to do this!\r\n* Second, this mapping applies to all files - so even when I'm not doing anything python-related at all, `black.vim` has hijacked my comma\r\n\r\nI'd suggest a couple of options:\r\n\r\n* My preference: simply don't provide a mapping at all.  Users can perfectly well set up their own mapping for `:Black` according to what works for them.\r\n  * Suggest a mapping in the README, if you like\r\n\r\n* If you think it's important to provide a mapping out of the box, then my understanding of the conventions (though I'm not completely sure of this) is that:\r\n  * `black.vim` should be filetype-specific - that is, you should move it to `ftplugin/python.vim`\r\n  * the mapping that you provide should be scoped to the current `<buffer>`\r\n  * the mapping should begin with `<localleader>`\r\n\r\nThat way your mapping will only affect python files, and not clash with any standard mappings.","closed_by":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/psf/black/issues/415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/415/timeline","performed_via_github_app":null,"state_reason":"completed"}