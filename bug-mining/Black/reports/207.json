{"url":"https://api.github.com/repos/psf/black/issues/1632","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1632/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1632/comments","events_url":"https://api.github.com/repos/psf/black/issues/1632/events","html_url":"https://github.com/psf/black/issues/1632","id":686518152,"node_id":"MDU6SXNzdWU2ODY1MTgxNTI=","number":1632,"title":"Docstrings reformatted to be too long","user":{"login":"mlissner","id":236970,"node_id":"MDQ6VXNlcjIzNjk3MA==","avatar_url":"https://avatars.githubusercontent.com/u/236970?v=4","gravatar_id":"","url":"https://api.github.com/users/mlissner","html_url":"https://github.com/mlissner","followers_url":"https://api.github.com/users/mlissner/followers","following_url":"https://api.github.com/users/mlissner/following{/other_user}","gists_url":"https://api.github.com/users/mlissner/gists{/gist_id}","starred_url":"https://api.github.com/users/mlissner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlissner/subscriptions","organizations_url":"https://api.github.com/users/mlissner/orgs","repos_url":"https://api.github.com/users/mlissner/repos","events_url":"https://api.github.com/users/mlissner/events{/privacy}","received_events_url":"https://api.github.com/users/mlissner/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":2972766151,"node_id":"MDU6TGFiZWwyOTcyNzY2MTUx","url":"https://api.github.com/repos/psf/black/labels/F:%20strings","name":"F: strings","color":"BFD4F2","default":false,"description":"Related to our handling of strings"},{"id":3042838963,"node_id":"MDU6TGFiZWwzMDQyODM4OTYz","url":"https://api.github.com/repos/psf/black/labels/F:%20linetoolong","name":"F: linetoolong","color":"BFD4F2","default":false,"description":"Black makes our lines too long"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2020-08-26T18:11:36Z","updated_at":"2022-06-27T20:37:41Z","closed_at":"2022-05-08T04:34:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug** When there's a docstring that's near the max line length with the `\"\"\"` on the next line, the new version of Black moves the `\"\"\"` to the first line, making the line too long.\r\n\r\n**To Reproduce** Steps to reproduce the behavior:\r\n\r\n1. Create a file with this content:\r\n\r\n    ```\r\n    def my_func():\r\n            \"\"\"Remove punctuation and return cleaned string plus its length in tokens.\r\n            \"\"\"\r\n            pass\r\n    ```\r\n\r\n2. Reformat it\r\n\r\n3. Note that it now has the docstring on one line and that that line has 82 chars:\r\n\r\n    ```\r\n    def my_func():\r\n            \"\"\"Remove punctuation and return cleaned string plus its length in tokens.\"\"\"\r\n            pass\r\n    ```\r\n\r\n\r\n**Expected behavior** \r\n\r\nThe docstring shouldn't get wrapped.\r\n\r\n\r\n**Environment (please complete the following information):**\r\n\r\n- Version: [e.g. master] 20.8b1\r\n\r\n- OS and Python version: \r\nLinux/Python 3.8.2\r\n\r\n**Does this bug also happen on master?** To answer this, you have two options:\r\n\r\nYes: https://black.now.sh/?version=master&state=_Td6WFoAAATm1rRGAgAhARYAAAB0L-Wj4AC3AIldAD2IimZxl1N_WlbvK5V-ga8lyrVzgK48mW1g5y7ZvjbGhEN7nG-8hLA9oQ3I4FUxivNyD3Gy0_4fbH0Mg7-k28ZpTZzLozFMvMFSuDJT_0ZQmFpNZw6AAvoHjtKEQjGQksHXW1WBInIzl_HhTgRlCs-04wcVCEBY4OInuM5XhKBPO4ZIAzTqLcpeAAAAADHge2pSp2OmAAGlAbgBAAByceBuscRn-wIAAAAABFla\r\n","closed_by":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/psf/black/issues/1632/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1632/timeline","performed_via_github_app":null,"state_reason":"completed"}