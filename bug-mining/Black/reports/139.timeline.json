[{"id":3091470783,"node_id":"MDEyOkxhYmVsZWRFdmVudDMwOTE0NzA3ODM=","url":"https://api.github.com/repos/psf/black/issues/events/3091470783","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:07:42Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":3091470785,"node_id":"MDEyOkxhYmVsZWRFdmVudDMwOTE0NzA3ODU=","url":"https://api.github.com/repos/psf/black/issues/events/3091470785","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:07:42Z","label":{"name":"stable","color":"44ff44"},"performed_via_github_app":null},{"id":3091470814,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQzMDkxNDcwODE0","url":"https://api.github.com/repos/psf/black/issues/events/3091470814","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:07:42Z","assignee":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:08:36Z","updated_at":"2020-03-03T10:08:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/274","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/274/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/274/comments","events_url":"https://api.github.com/repos/psf/black/issues/274/events","html_url":"https://github.com/psf/black/issues/274","id":327397750,"node_id":"MDU6SXNzdWUzMjczOTc3NTA=","number":274,"title":"Black removes trailing commas from single element dicts","user":{"login":"rouge8","id":237005,"node_id":"MDQ6VXNlcjIzNzAwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/237005?v=4","gravatar_id":"","url":"https://api.github.com/users/rouge8","html_url":"https://github.com/rouge8","followers_url":"https://api.github.com/users/rouge8/followers","following_url":"https://api.github.com/users/rouge8/following{/other_user}","gists_url":"https://api.github.com/users/rouge8/gists{/gist_id}","starred_url":"https://api.github.com/users/rouge8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rouge8/subscriptions","organizations_url":"https://api.github.com/users/rouge8/orgs","repos_url":"https://api.github.com/users/rouge8/repos","events_url":"https://api.github.com/users/rouge8/events{/privacy}","received_events_url":"https://api.github.com/users/rouge8/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":970487886,"node_id":"MDU6TGFiZWw5NzA0ODc4ODY=","url":"https://api.github.com/repos/psf/black/labels/F:%20trailing%20comma","name":"F: trailing comma","color":"BFD4F2","default":false,"description":"Full of magic"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2018-05-29T16:30:26Z","updated_at":"2020-03-03T10:08:36Z","closed_at":"2020-03-03T10:08:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I would expect Black to add trailing commas to multi-line dict/list/set/etc. literals with a single element, based on:\r\n\r\n> Black will add trailing commas to expressions that are split by comma where each element is on its own line. This includes function signatures.\r\n>\r\n> Unnecessary trailing commas are removed if an expression fits in one line. This makes it 1% more likely that your line won't exceed the allotted line length limit. Moreover, in this scenario, if you added another argument to your call, you'd probably fit it in the same line anyway. That doesn't make diffs any larger.\r\n\r\nOperating system: OS X 10.11.6\r\nPython version: 3.6.5\r\nBlack version: 18.5b1\r\nDoes also happen on master: yes, as of f471271831ffc7b0f71cc119edac33c267735d36\r\n\r\n```python\r\ndata = {\r\n    \"long_field_name\": \"something faaaaaaaaaaaaaar too long to fit on the first line\",\r\n}\r\n```\r\n\r\n```diff\r\n--- t.py  (original)\r\n+++ t.py  (formatted)\r\n@@ -1,4 +1,4 @@\r\n data = {\r\n-    \"long_field_name\": \"something faaaaaaaaaaaaaar too long to fit on the first line\",\r\n+    \"long_field_name\": \"something faaaaaaaaaaaaaar too long to fit on the first line\"\r\n }\r\n```","reactions":{"url":"https://api.github.com/repos/psf/black/issues/274/reactions","total_count":11,"+1":11,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/274/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/593870512","html_url":"https://github.com/psf/black/issues/1288#issuecomment-593870512","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":593870512,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg3MDUxMg==","user":{"login":"graingert","id":413772,"node_id":"MDQ6VXNlcjQxMzc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/413772?v=4","gravatar_id":"","url":"https://api.github.com/users/graingert","html_url":"https://github.com/graingert","followers_url":"https://api.github.com/users/graingert/followers","following_url":"https://api.github.com/users/graingert/following{/other_user}","gists_url":"https://api.github.com/users/graingert/gists{/gist_id}","starred_url":"https://api.github.com/users/graingert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graingert/subscriptions","organizations_url":"https://api.github.com/users/graingert/orgs","repos_url":"https://api.github.com/users/graingert/repos","events_url":"https://api.github.com/users/graingert/events{/privacy}","received_events_url":"https://api.github.com/users/graingert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:11:15Z","updated_at":"2020-03-03T10:11:15Z","body":"can we have a \"black --classic\" that ignores trailing commas already in the code?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/593870512/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"graingert","id":413772,"node_id":"MDQ6VXNlcjQxMzc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/413772?v=4","gravatar_id":"","url":"https://api.github.com/users/graingert","html_url":"https://github.com/graingert","followers_url":"https://api.github.com/users/graingert/followers","following_url":"https://api.github.com/users/graingert/following{/other_user}","gists_url":"https://api.github.com/users/graingert/gists{/gist_id}","starred_url":"https://api.github.com/users/graingert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graingert/subscriptions","organizations_url":"https://api.github.com/users/graingert/orgs","repos_url":"https://api.github.com/users/graingert/repos","events_url":"https://api.github.com/users/graingert/events{/privacy}","received_events_url":"https://api.github.com/users/graingert/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/593870941","html_url":"https://github.com/psf/black/issues/1288#issuecomment-593870941","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":593870941,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg3MDk0MQ==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:12:19Z","updated_at":"2020-03-03T10:12:19Z","body":"Do you have a case where this would be useful?\r\n\r\nThe behavior described here is already the case since the last release. If you remove your trailing comma by hand and re-format, it will behave like you expect.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/593870941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/593871288","html_url":"https://github.com/psf/black/issues/1288#issuecomment-593871288","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":593871288,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg3MTI4OA==","user":{"login":"graingert","id":413772,"node_id":"MDQ6VXNlcjQxMzc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/413772?v=4","gravatar_id":"","url":"https://api.github.com/users/graingert","html_url":"https://github.com/graingert","followers_url":"https://api.github.com/users/graingert/followers","following_url":"https://api.github.com/users/graingert/following{/other_user}","gists_url":"https://api.github.com/users/graingert/gists{/gist_id}","starred_url":"https://api.github.com/users/graingert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graingert/subscriptions","organizations_url":"https://api.github.com/users/graingert/orgs","repos_url":"https://api.github.com/users/graingert/repos","events_url":"https://api.github.com/users/graingert/events{/privacy}","received_events_url":"https://api.github.com/users/graingert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:13:09Z","updated_at":"2020-03-03T10:13:09Z","body":"> If you remove your trailing comma by hand and re-format, it will behave like you expect.\r\n\r\nI'd like an option where black will remove the trailing commas for me and add them back in if needed","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/593871288/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"graingert","id":413772,"node_id":"MDQ6VXNlcjQxMzc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/413772?v=4","gravatar_id":"","url":"https://api.github.com/users/graingert","html_url":"https://github.com/graingert","followers_url":"https://api.github.com/users/graingert/followers","following_url":"https://api.github.com/users/graingert/following{/other_user}","gists_url":"https://api.github.com/users/graingert/gists{/gist_id}","starred_url":"https://api.github.com/users/graingert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graingert/subscriptions","organizations_url":"https://api.github.com/users/graingert/orgs","repos_url":"https://api.github.com/users/graingert/repos","events_url":"https://api.github.com/users/graingert/events{/privacy}","received_events_url":"https://api.github.com/users/graingert/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:15:34Z","updated_at":"2020-03-03T10:15:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/346","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/346/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/346/comments","events_url":"https://api.github.com/repos/psf/black/issues/346/events","html_url":"https://github.com/psf/black/issues/346","id":331981420,"node_id":"MDU6SXNzdWUzMzE5ODE0MjA=","number":346,"title":"Splitting of a function across multiple lines doesn't add a trailing comma","user":{"login":"hawkowl","id":3307100,"node_id":"MDQ6VXNlcjMzMDcxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/3307100?v=4","gravatar_id":"","url":"https://api.github.com/users/hawkowl","html_url":"https://github.com/hawkowl","followers_url":"https://api.github.com/users/hawkowl/followers","following_url":"https://api.github.com/users/hawkowl/following{/other_user}","gists_url":"https://api.github.com/users/hawkowl/gists{/gist_id}","starred_url":"https://api.github.com/users/hawkowl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hawkowl/subscriptions","organizations_url":"https://api.github.com/users/hawkowl/orgs","repos_url":"https://api.github.com/users/hawkowl/repos","events_url":"https://api.github.com/users/hawkowl/events{/privacy}","received_events_url":"https://api.github.com/users/hawkowl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":970487886,"node_id":"MDU6TGFiZWw5NzA0ODc4ODY=","url":"https://api.github.com/repos/psf/black/labels/F:%20trailing%20comma","name":"F: trailing comma","color":"BFD4F2","default":false,"description":"Full of magic"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2018-06-13T12:53:16Z","updated_at":"2020-03-03T10:15:34Z","closed_at":"2020-03-03T10:15:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Operating system: Arch Linux\r\nPython version: 3.6.5\r\n*Black* version: master\r\nDoes also happen on master: yes\r\n\r\nConsider the following line (unformatted):\r\n\r\n```\r\nreturn make_deferred_yieldable(threads.deferToThreadPool(self.hs.get_reactor(), self.hs.get_reactor().getThreadPool(), _do_hash))\r\n```\r\n\r\nBlack formats it as thus:\r\n\r\n```\r\nreturn make_deferred_yieldable(\r\n    threads.deferToThreadPool(\r\n        self.hs.get_reactor(), self.hs.get_reactor().getThreadPool(), _do_hash\r\n    )\r\n)\r\n```\r\n\r\nMy coworker @richvdh gathers that it should be formatted with a trailing comma after the `threads.deferToThreadPool` call for consistency with how multi-line lists are formatted, producing the following: \r\n\r\n```\r\nreturn make_deferred_yieldable(\r\n    threads.deferToThreadPool(\r\n        self.hs.get_reactor(), self.hs.get_reactor().getThreadPool(), _do_hash\r\n    ),\r\n)\r\n```\r\n\r\nIs this something Black should do? PEP8's trailing comma examples don't really cover this specific case, so I'm not sure :)\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/346/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/593872733","html_url":"https://github.com/psf/black/issues/1288#issuecomment-593872733","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":593872733,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg3MjczMw==","user":{"login":"graingert","id":413772,"node_id":"MDQ6VXNlcjQxMzc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/413772?v=4","gravatar_id":"","url":"https://api.github.com/users/graingert","html_url":"https://github.com/graingert","followers_url":"https://api.github.com/users/graingert/followers","following_url":"https://api.github.com/users/graingert/following{/other_user}","gists_url":"https://api.github.com/users/graingert/gists{/gist_id}","starred_url":"https://api.github.com/users/graingert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graingert/subscriptions","organizations_url":"https://api.github.com/users/graingert/orgs","repos_url":"https://api.github.com/users/graingert/repos","events_url":"https://api.github.com/users/graingert/events{/privacy}","received_events_url":"https://api.github.com/users/graingert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:16:37Z","updated_at":"2020-03-03T10:16:37Z","body":"I've taken to running `pip install black==19.3b0 && black . && pip install black==19.10b && black .` I'd like this wrapped into one command out of the box","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/593872733/reactions","total_count":13,"+1":6,"-1":0,"laugh":7,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"graingert","id":413772,"node_id":"MDQ6VXNlcjQxMzc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/413772?v=4","gravatar_id":"","url":"https://api.github.com/users/graingert","html_url":"https://github.com/graingert","followers_url":"https://api.github.com/users/graingert/followers","following_url":"https://api.github.com/users/graingert/following{/other_user}","gists_url":"https://api.github.com/users/graingert/gists{/gist_id}","starred_url":"https://api.github.com/users/graingert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graingert/subscriptions","organizations_url":"https://api.github.com/users/graingert/orgs","repos_url":"https://api.github.com/users/graingert/repos","events_url":"https://api.github.com/users/graingert/events{/privacy}","received_events_url":"https://api.github.com/users/graingert/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/593873891","html_url":"https://github.com/psf/black/issues/1288#issuecomment-593873891","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":593873891,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg3Mzg5MQ==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:19:14Z","updated_at":"2020-03-03T10:19:14Z","body":"If you can implement this as `-C` (`--skip-magic-trailing-comma`), I will accept it.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/593873891/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/593880711","html_url":"https://github.com/psf/black/issues/1288#issuecomment-593880711","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":593880711,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg4MDcxMQ==","user":{"login":"danpalmer","id":202400,"node_id":"MDQ6VXNlcjIwMjQwMA==","avatar_url":"https://avatars.githubusercontent.com/u/202400?v=4","gravatar_id":"","url":"https://api.github.com/users/danpalmer","html_url":"https://github.com/danpalmer","followers_url":"https://api.github.com/users/danpalmer/followers","following_url":"https://api.github.com/users/danpalmer/following{/other_user}","gists_url":"https://api.github.com/users/danpalmer/gists{/gist_id}","starred_url":"https://api.github.com/users/danpalmer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danpalmer/subscriptions","organizations_url":"https://api.github.com/users/danpalmer/orgs","repos_url":"https://api.github.com/users/danpalmer/repos","events_url":"https://api.github.com/users/danpalmer/events{/privacy}","received_events_url":"https://api.github.com/users/danpalmer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:35:00Z","updated_at":"2020-03-03T10:35:00Z","body":"@ambv great to see this issue crop up. We've so far avoided using black on the team I work on because we prioritise diff noise (and ease of code review) very highly. Being able to control this is a pragmatic solution to that problem that I think our team will enjoy, and hopefully gets us one step closer to implementing black.\r\n\r\nI'm not sure if this is related or a separate issue, but we feel that the 3 forms of expansion (one line, 3-line, and n-line) also contributes to the noise – we only use 2 forms in our style guide (one line, n-line). Do you see this issue as changing that behaviour as well, or do you think that's a separate issue?\r\n\r\n---\r\n\r\nExpansions being:\r\n\r\n```python\r\n# one line\r\nfoo = [bar, baz]\r\ndef foo(bar, baz): ...\r\n\r\n# 3-line\r\nfoo = [\r\n    bar, baz\r\n]\r\ndef foo(\r\n    bar, baz\r\n): ...\r\n\r\n# n-line\r\nfoo = [\r\n    bar,\r\n    baz,\r\n]\r\ndef foo(\r\n    bar,\r\n    baz,\r\n): ...","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/593880711/reactions","total_count":11,"+1":11,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danpalmer","id":202400,"node_id":"MDQ6VXNlcjIwMjQwMA==","avatar_url":"https://avatars.githubusercontent.com/u/202400?v=4","gravatar_id":"","url":"https://api.github.com/users/danpalmer","html_url":"https://github.com/danpalmer","followers_url":"https://api.github.com/users/danpalmer/followers","following_url":"https://api.github.com/users/danpalmer/following{/other_user}","gists_url":"https://api.github.com/users/danpalmer/gists{/gist_id}","starred_url":"https://api.github.com/users/danpalmer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danpalmer/subscriptions","organizations_url":"https://api.github.com/users/danpalmer/orgs","repos_url":"https://api.github.com/users/danpalmer/repos","events_url":"https://api.github.com/users/danpalmer/events{/privacy}","received_events_url":"https://api.github.com/users/danpalmer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3091574893,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA5MTU3NDg5Mw==","url":"https://api.github.com/repos/psf/black/issues/events/3091574893","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:35:00Z","performed_via_github_app":null},{"id":3091574897,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTE1NzQ4OTc=","url":"https://api.github.com/repos/psf/black/issues/events/3091574897","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:35:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/593881992","html_url":"https://github.com/psf/black/issues/1288#issuecomment-593881992","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":593881992,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg4MTk5Mg==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:38:02Z","updated_at":"2020-03-03T10:38:02Z","body":"@danpalmer, magic trailing commas are a way for you to avoid Black formatting into the 3-line form.\r\n\r\nWe won't *always* do this unless you use the trailing comma because it's important for Black to minimize vertical space usage unless you find it important to explode some structure.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/593881992/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3091588282,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA5MTU4ODI4Mg==","url":"https://api.github.com/repos/psf/black/issues/events/3091588282","actor":{"login":"danpalmer","id":202400,"node_id":"MDQ6VXNlcjIwMjQwMA==","avatar_url":"https://avatars.githubusercontent.com/u/202400?v=4","gravatar_id":"","url":"https://api.github.com/users/danpalmer","html_url":"https://github.com/danpalmer","followers_url":"https://api.github.com/users/danpalmer/followers","following_url":"https://api.github.com/users/danpalmer/following{/other_user}","gists_url":"https://api.github.com/users/danpalmer/gists{/gist_id}","starred_url":"https://api.github.com/users/danpalmer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danpalmer/subscriptions","organizations_url":"https://api.github.com/users/danpalmer/orgs","repos_url":"https://api.github.com/users/danpalmer/repos","events_url":"https://api.github.com/users/danpalmer/events{/privacy}","received_events_url":"https://api.github.com/users/danpalmer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:38:02Z","performed_via_github_app":null},{"id":3091588290,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTE1ODgyOTA=","url":"https://api.github.com/repos/psf/black/issues/events/3091588290","actor":{"login":"danpalmer","id":202400,"node_id":"MDQ6VXNlcjIwMjQwMA==","avatar_url":"https://avatars.githubusercontent.com/u/202400?v=4","gravatar_id":"","url":"https://api.github.com/users/danpalmer","html_url":"https://github.com/danpalmer","followers_url":"https://api.github.com/users/danpalmer/followers","following_url":"https://api.github.com/users/danpalmer/following{/other_user}","gists_url":"https://api.github.com/users/danpalmer/gists{/gist_id}","starred_url":"https://api.github.com/users/danpalmer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danpalmer/subscriptions","organizations_url":"https://api.github.com/users/danpalmer/orgs","repos_url":"https://api.github.com/users/danpalmer/repos","events_url":"https://api.github.com/users/danpalmer/events{/privacy}","received_events_url":"https://api.github.com/users/danpalmer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:38:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/593884520","html_url":"https://github.com/psf/black/issues/1288#issuecomment-593884520","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":593884520,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzg4NDUyMA==","user":{"login":"danpalmer","id":202400,"node_id":"MDQ6VXNlcjIwMjQwMA==","avatar_url":"https://avatars.githubusercontent.com/u/202400?v=4","gravatar_id":"","url":"https://api.github.com/users/danpalmer","html_url":"https://github.com/danpalmer","followers_url":"https://api.github.com/users/danpalmer/followers","following_url":"https://api.github.com/users/danpalmer/following{/other_user}","gists_url":"https://api.github.com/users/danpalmer/gists{/gist_id}","starred_url":"https://api.github.com/users/danpalmer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danpalmer/subscriptions","organizations_url":"https://api.github.com/users/danpalmer/orgs","repos_url":"https://api.github.com/users/danpalmer/repos","events_url":"https://api.github.com/users/danpalmer/events{/privacy}","received_events_url":"https://api.github.com/users/danpalmer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T10:44:10Z","updated_at":"2020-03-03T10:44:10Z","body":"@Ambv perfect. Sounds sensible. Looking forward to these changes!\n\nWe happen to not prioritise vertical space at all, but I realise that’s particular to us. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/593884520/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danpalmer","id":202400,"node_id":"MDQ6VXNlcjIwMjQwMA==","avatar_url":"https://avatars.githubusercontent.com/u/202400?v=4","gravatar_id":"","url":"https://api.github.com/users/danpalmer","html_url":"https://github.com/danpalmer","followers_url":"https://api.github.com/users/danpalmer/followers","following_url":"https://api.github.com/users/danpalmer/following{/other_user}","gists_url":"https://api.github.com/users/danpalmer/gists{/gist_id}","starred_url":"https://api.github.com/users/danpalmer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danpalmer/subscriptions","organizations_url":"https://api.github.com/users/danpalmer/orgs","repos_url":"https://api.github.com/users/danpalmer/repos","events_url":"https://api.github.com/users/danpalmer/events{/privacy}","received_events_url":"https://api.github.com/users/danpalmer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3091611756,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzA5MTYxMTc1Ng==","url":"https://api.github.com/repos/psf/black/issues/events/3091611756","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:44:10Z","performed_via_github_app":null},{"id":3091611757,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTE2MTE3NTc=","url":"https://api.github.com/repos/psf/black/issues/events/3091611757","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T10:44:10Z","performed_via_github_app":null},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T11:21:03Z","updated_at":"2020-03-03T11:21:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/404","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/404/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/404/comments","events_url":"https://api.github.com/repos/psf/black/issues/404/events","html_url":"https://github.com/psf/black/issues/404","id":341095754,"node_id":"MDU6SXNzdWUzNDEwOTU3NTQ=","number":404,"title":"Not exploding long arguments list makes diffs unnecessarily long","user":{"login":"nickdavies","id":118736,"node_id":"MDQ6VXNlcjExODczNg==","avatar_url":"https://avatars.githubusercontent.com/u/118736?v=4","gravatar_id":"","url":"https://api.github.com/users/nickdavies","html_url":"https://github.com/nickdavies","followers_url":"https://api.github.com/users/nickdavies/followers","following_url":"https://api.github.com/users/nickdavies/following{/other_user}","gists_url":"https://api.github.com/users/nickdavies/gists{/gist_id}","starred_url":"https://api.github.com/users/nickdavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickdavies/subscriptions","organizations_url":"https://api.github.com/users/nickdavies/orgs","repos_url":"https://api.github.com/users/nickdavies/repos","events_url":"https://api.github.com/users/nickdavies/events{/privacy}","received_events_url":"https://api.github.com/users/nickdavies/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-07-13T17:15:12Z","updated_at":"2020-03-03T11:21:03Z","closed_at":"2020-03-03T11:21:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"We recently switched to using black and overall it has been great but one style decision is making code reviews much harder for our team and seems to complicate reasoning about the style.\r\n\r\nIf i have:\r\n```\r\nmy_func(long_kw_argument=\"some_reasonably_long_string\", short_kw=\"short_kw_1\")\r\n```\r\n\r\nI add `short_kw2=5` I get:\r\n```\r\nmy_func(\r\n    long_kw_argument=\"some_reasonably_long_string\", short_kw=\"short_kw_1\", short_kw2=5\r\n)\r\n```\r\n\r\nwith diff:\r\n```\r\n-my_func(long_kw_argument=\"some_reasonably_long_string\", short_kw=\"short_kw_1\")\r\n+my_func(\r\n+    long_kw_argument=\"some_reasonably_long_string\", short_kw=\"short_kw_1\", short_kw2=5\r\n+)\r\n```\r\n\r\nthen I add `new_arg=1` and I get:\r\n```\r\nmy_func(\r\n    long_kw_argument=\"some_reasonably_long_string\",\r\n    short_kw=\"short_kw_1\",\r\n    short_kw2=5,\r\n    new_arg=1,\r\n)\r\n```\r\n\r\nand this simple change of adding a single argument makes the diff of:\r\n\r\n```\r\n@@ -3,5 +3,8 @@ def my_func(**kwargs):\r\n \r\n \r\n my_func(\r\n-    long_kw_argument=\"some_reasonably_long_string\", short_kw=\"short_kw_1\", short_kw2=5\r\n+    long_kw_argument=\"some_reasonably_long_string\",\r\n+    short_kw=\"short_kw_1\",\r\n+    short_kw2=5,\r\n+    new_arg=1,\r\n )\r\n```\r\n\r\nThis special case means that there are now two different times that you have to deal with the bigger diff which means it comes up a lot more often than it needs to.\r\n\r\nOne of the stated goals of Black is:\r\n> Black makes code review faster by producing the smallest diffs possible.\r\n\r\nbut this seems like a case where this is not true and is instead optimizing for a few newlines which I believe is much less important that diff readability.\r\n\r\nIt also feels like this is an unnecessary special case that only complicates understanding of the style and it would be cleaner to just say \"black will put it on one line if it fits, if it doesn't its 1 per line with trailing commas\" instead of \"black will put it on 1 line if it fits, if the arguments alone fit on 1 line when they are indented then it will do that otherwise it will put 1 per line and will only put trailing commas if it spreads it 1 per line not if it puts it on a newline and indents it (plus your explanation for why here)\".  This would remove the need for you to explain things like https://github.com/ambv/black/issues/346#issuecomment-397045920 for example.","reactions":{"url":"https://api.github.com/repos/psf/black/issues/404/reactions","total_count":32,"+1":30,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/404/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":3091755737,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMwOTE3NTU3Mzc=","url":"https://api.github.com/repos/psf/black/issues/events/3091755737","actor":{"login":"bersbersbers","id":12128514,"node_id":"MDQ6VXNlcjEyMTI4NTE0","avatar_url":"https://avatars.githubusercontent.com/u/12128514?v=4","gravatar_id":"","url":"https://api.github.com/users/bersbersbers","html_url":"https://github.com/bersbersbers","followers_url":"https://api.github.com/users/bersbersbers/followers","following_url":"https://api.github.com/users/bersbersbers/following{/other_user}","gists_url":"https://api.github.com/users/bersbersbers/gists{/gist_id}","starred_url":"https://api.github.com/users/bersbersbers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersbersbers/subscriptions","organizations_url":"https://api.github.com/users/bersbersbers/orgs","repos_url":"https://api.github.com/users/bersbersbers/repos","events_url":"https://api.github.com/users/bersbersbers/events{/privacy}","received_events_url":"https://api.github.com/users/bersbersbers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-03T11:25:49Z","performed_via_github_app":null},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T13:31:11Z","updated_at":"2020-03-03T13:31:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/1289","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1289/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1289/comments","events_url":"https://api.github.com/repos/psf/black/issues/1289/events","html_url":"https://github.com/psf/black/issues/1289","id":574606280,"node_id":"MDU6SXNzdWU1NzQ2MDYyODA=","number":1289,"title":"flake8 error E231 after a successful black run","user":{"login":"vytas7","id":3430939,"node_id":"MDQ6VXNlcjM0MzA5Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/3430939?v=4","gravatar_id":"","url":"https://api.github.com/users/vytas7","html_url":"https://github.com/vytas7","followers_url":"https://api.github.com/users/vytas7/followers","following_url":"https://api.github.com/users/vytas7/following{/other_user}","gists_url":"https://api.github.com/users/vytas7/gists{/gist_id}","starred_url":"https://api.github.com/users/vytas7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vytas7/subscriptions","organizations_url":"https://api.github.com/users/vytas7/orgs","repos_url":"https://api.github.com/users/vytas7/repos","events_url":"https://api.github.com/users/vytas7/events{/privacy}","received_events_url":"https://api.github.com/users/vytas7/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":867432794,"node_id":"MDU6TGFiZWw4Njc0MzI3OTQ=","url":"https://api.github.com/repos/psf/black/labels/R:%20duplicate","name":"R: duplicate","color":"ffffff","default":false,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-03-03T11:36:30Z","updated_at":"2022-01-31T16:57:35Z","closed_at":"2020-03-03T13:31:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**To Reproduce** Steps to reproduce the behavior:\r\n\r\n1. Take this file: `example.py`\r\n```python\r\n# A set literal with a trailing comma.\r\n{\r\n    \"Something\": {\"hi\": {\"My\", \"set\", \"items\",}},\r\n    \"Something else\": {},\r\n}\r\n```\r\n2. Run _Black_ on it:\r\n```\r\nblack example.py \r\nAll done! ✨ 🍰 ✨\r\n1 file left unchanged.\r\n```\r\n3. Run `flake8` on it:\r\n```\r\nflake8 example.py \r\nexample.py:3:46: E231 missing whitespace after ','\r\n```\r\n\r\n**Expected behavior** A clear and concise description of what you expected to happen.\r\nExpecting not to get any `flake8` errors barring the different line length setting, and edge cases where black is unable to condense output under 88 chars.\r\n\r\n**Environment (please complete the following information):**\r\n```\r\nPython 3.8.1\r\nblack, version 19.10b1.dev26+g8fef74c\r\nflake8 3.7.9 (mccabe: 0.6.1, pycodestyle: 2.5.0, pyflakes: 2.1.1) CPython 3.8.1 on Linux\r\n```\r\n\r\nAlso getting the same behaviour with `black-19.10b0`.","reactions":{"url":"https://api.github.com/repos/psf/black/issues/1289/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1289/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T13:54:19Z","updated_at":"2020-03-03T13:54:19Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/493","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/493/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/493/comments","events_url":"https://api.github.com/repos/psf/black/issues/493/events","html_url":"https://github.com/psf/black/issues/493","id":355785808,"node_id":"MDU6SXNzdWUzNTU3ODU4MDg=","number":493,"title":"single-member multi-line expressions and trailing commas","user":{"login":"mattsb42-aws","id":23565203,"node_id":"MDQ6VXNlcjIzNTY1MjAz","avatar_url":"https://avatars.githubusercontent.com/u/23565203?v=4","gravatar_id":"","url":"https://api.github.com/users/mattsb42-aws","html_url":"https://github.com/mattsb42-aws","followers_url":"https://api.github.com/users/mattsb42-aws/followers","following_url":"https://api.github.com/users/mattsb42-aws/following{/other_user}","gists_url":"https://api.github.com/users/mattsb42-aws/gists{/gist_id}","starred_url":"https://api.github.com/users/mattsb42-aws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattsb42-aws/subscriptions","organizations_url":"https://api.github.com/users/mattsb42-aws/orgs","repos_url":"https://api.github.com/users/mattsb42-aws/repos","events_url":"https://api.github.com/users/mattsb42-aws/events{/privacy}","received_events_url":"https://api.github.com/users/mattsb42-aws/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":970487886,"node_id":"MDU6TGFiZWw5NzA0ODc4ODY=","url":"https://api.github.com/repos/psf/black/labels/F:%20trailing%20comma","name":"F: trailing comma","color":"BFD4F2","default":false,"description":"Full of magic"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-08-30T23:09:58Z","updated_at":"2020-03-03T13:54:20Z","closed_at":"2020-03-03T13:54:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Operating system: MacOS\r\nPython version: 3.7.0\r\n*Black* version: 18.6b4\r\nDoes also happen on master: yes\r\n\r\nI can't quite tell if this is intended behavior or if it is emergent behavior caused by other things.\r\n\r\nI noticed this because `black` and `isort` (configured with `multi_line_output = 3` and `include_trailing_comma = True`) started fighting over a particular line.\r\n\r\nPer the trailing comma rules, it it my understanding that all multi-member expressions defined over multiple lines should have a trailing comma at the end of each member line, but expressions that fit on a single line and do not syntactically require a trailing comma will have that trailing comma removed.\r\n\r\nThis is good, and in my experience this is what `black` does. However, there is an edge case that is not directly addressed in the rules in the readme: an expression that can contain multiple members but only contains a single member and cannot fit on a single line.\r\n\r\nBased on my understanding of the reason behind the adding trailing commas to the end of multi-line expression members (making diffs less bad), I would think that the single member in these cases should still have a trailing comma.\r\n\r\nHowever, based on the \"remove trailing commas on single line expressions unless syntactically necessary\" exception, the trailing comma should not be present.\r\n\r\nThe behavior that `black` applies follows the rules that would be followed if the expressions were contained on a single line. Is this intentional? If so, could a mention of this exception be added to the readme?\r\n\r\ninput:\r\n```python\r\nfrom long_namespace_that_makes_the_line_too_line import (\r\n    long_variable_name,\r\n)\r\n\r\n\r\nlong_namespace_that_makes_the_line_too_line = (\r\n    long_variable_name,\r\n)\r\n\r\n\r\nlong_namespace_that_makes_the_line_too_line = [\r\n    long_variable_name,\r\n]\r\n\r\n\r\nlong_namespace_that_makes_the_line_too_line = {\r\n    \"foo\": long_variable_name,\r\n}\r\n\r\n\r\nlong_namespace_that_makes_the_line_too_line = {\r\n    long_variable_name,\r\n}\r\n```\r\n\r\noutput:\r\n```python\r\nfrom long_namespace_that_makes_the_line_too_line import (\r\n    long_variable_name\r\n)\r\n\r\n\r\nlong_namespace_that_makes_the_line_too_line = (\r\n    long_variable_name,\r\n)\r\n\r\n\r\nlong_namespace_that_makes_the_line_too_line = [\r\n    long_variable_name\r\n]\r\n\r\n\r\nlong_namespace_that_makes_the_line_too_line = {\r\n    \"foo\": long_variable_name\r\n}\r\n\r\n\r\nlong_namespace_that_makes_the_line_too_line = {\r\n    long_variable_name\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/psf/black/issues/493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/493/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T13:59:40Z","updated_at":"2020-03-03T13:59:40Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/1196","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1196/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1196/comments","events_url":"https://api.github.com/repos/psf/black/issues/1196/events","html_url":"https://github.com/psf/black/issues/1196","id":534506837,"node_id":"MDU6SXNzdWU1MzQ1MDY4Mzc=","number":1196,"title":"Documentation: Comparison between Black and WPS","user":{"login":"DonaldTsang","id":10583082,"node_id":"MDQ6VXNlcjEwNTgzMDgy","avatar_url":"https://avatars.githubusercontent.com/u/10583082?v=4","gravatar_id":"","url":"https://api.github.com/users/DonaldTsang","html_url":"https://github.com/DonaldTsang","followers_url":"https://api.github.com/users/DonaldTsang/followers","following_url":"https://api.github.com/users/DonaldTsang/following{/other_user}","gists_url":"https://api.github.com/users/DonaldTsang/gists{/gist_id}","starred_url":"https://api.github.com/users/DonaldTsang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DonaldTsang/subscriptions","organizations_url":"https://api.github.com/users/DonaldTsang/orgs","repos_url":"https://api.github.com/users/DonaldTsang/repos","events_url":"https://api.github.com/users/DonaldTsang/events{/privacy}","received_events_url":"https://api.github.com/users/DonaldTsang/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432803,"node_id":"MDU6TGFiZWw4Njc0MzI4MDM=","url":"https://api.github.com/repos/psf/black/labels/T:%20user%20support","name":"T: user support","color":"d876e3","default":false,"description":"OP looking for assistance or answers to a question"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2019-12-08T08:02:42Z","updated_at":"2020-05-10T19:27:15Z","closed_at":"2020-03-03T13:59:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"As https://github.com/wemake-services/wemake-python-styleguide/issues/1059 have noted\r\n(and as https://wemake-python-stylegui.de/en/latest/pages/usage/integrations/auto-formatters.html#black have referenced), there are a few noticeable difference between Black and WeMake Python StyleGuide. Here are some questions:\r\n- Is it possible to set line length maximums as 79/80 characters?\r\n  - https://github.com/psf/black/blob/master/pyproject.toml#L9 is a possible answer?\r\n- Is it possible to preserve trailing comma as a default setting?\r\n- Is it possible to treat single quote as the standard instead of double quote?\r\n- Is it possible to have black+WPS instead of autopep8+WPS as a standard?","reactions":{"url":"https://api.github.com/repos/psf/black/issues/1196/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1196/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/594130501","html_url":"https://github.com/psf/black/issues/1288#issuecomment-594130501","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":594130501,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEzMDUwMQ==","user":{"login":"merwok","id":635179,"node_id":"MDQ6VXNlcjYzNTE3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/635179?v=4","gravatar_id":"","url":"https://api.github.com/users/merwok","html_url":"https://github.com/merwok","followers_url":"https://api.github.com/users/merwok/followers","following_url":"https://api.github.com/users/merwok/following{/other_user}","gists_url":"https://api.github.com/users/merwok/gists{/gist_id}","starred_url":"https://api.github.com/users/merwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merwok/subscriptions","organizations_url":"https://api.github.com/users/merwok/orgs","repos_url":"https://api.github.com/users/merwok/repos","events_url":"https://api.github.com/users/merwok/events{/privacy}","received_events_url":"https://api.github.com/users/merwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T19:38:43Z","updated_at":"2020-03-03T19:38:43Z","body":"Could I add: explain how the magic comma work in end-user documentation\r\nThanks!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/594130501/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"merwok","id":635179,"node_id":"MDQ6VXNlcjYzNTE3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/635179?v=4","gravatar_id":"","url":"https://api.github.com/users/merwok","html_url":"https://github.com/merwok","followers_url":"https://api.github.com/users/merwok/followers","following_url":"https://api.github.com/users/merwok/following{/other_user}","gists_url":"https://api.github.com/users/merwok/gists{/gist_id}","starred_url":"https://api.github.com/users/merwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merwok/subscriptions","organizations_url":"https://api.github.com/users/merwok/orgs","repos_url":"https://api.github.com/users/merwok/repos","events_url":"https://api.github.com/users/merwok/events{/privacy}","received_events_url":"https://api.github.com/users/merwok/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T21:46:29Z","updated_at":"2020-03-04T21:46:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/737","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/737/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/737/comments","events_url":"https://api.github.com/repos/psf/black/issues/737/events","html_url":"https://github.com/psf/black/issues/737","id":418383014,"node_id":"MDU6SXNzdWU0MTgzODMwMTQ=","number":737,"title":"Question on forcing black to put one parameter per line","user":{"login":"allan-simon","id":213167,"node_id":"MDQ6VXNlcjIxMzE2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/213167?v=4","gravatar_id":"","url":"https://api.github.com/users/allan-simon","html_url":"https://github.com/allan-simon","followers_url":"https://api.github.com/users/allan-simon/followers","following_url":"https://api.github.com/users/allan-simon/following{/other_user}","gists_url":"https://api.github.com/users/allan-simon/gists{/gist_id}","starred_url":"https://api.github.com/users/allan-simon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allan-simon/subscriptions","organizations_url":"https://api.github.com/users/allan-simon/orgs","repos_url":"https://api.github.com/users/allan-simon/repos","events_url":"https://api.github.com/users/allan-simon/events{/privacy}","received_events_url":"https://api.github.com/users/allan-simon/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":869137302,"node_id":"MDU6TGFiZWw4NjkxMzczMDI=","url":"https://api.github.com/repos/psf/black/labels/F:%20comments","name":"F: comments","color":"BFD4F2","default":false,"description":"The syntactic kind. Not in the language grammar, always on our minds. Best bugs."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-03-07T15:53:48Z","updated_at":"2022-09-03T12:33:08Z","closed_at":"2020-03-04T21:46:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Operating system:\r\nPython version: Linux\r\n*Black* version: 18.9b0\r\nDoes also happen on master:  master was not working at the moment this ticken was written :/ \r\n\r\nCurrently we want to format our code as this \r\n\r\n```py\r\nfoo(\r\n   arg1=val1,\r\n   arg2=val2,\r\n)\r\n```\r\n\r\nas we agree to black arguments as exposed in your readme:\r\n\r\nhttps://github.com/ambv/black#how-black-wraps-lines\r\n> . Such formatting produces smaller diffs; when you add or remove an element, it's always just one line.\r\n\r\nhowever black force to reformat this as such\r\n\r\n```py\r\nfoo(\r\n  arg1=val1, arg2=val2, arg3=val3\r\n)\r\n```\r\n\r\nthat become inconsistent in the following case\r\n\r\n```py\r\n# get indented \"correctly\"\r\nfoo(\r\n   arg1=val1_with_long_name,\r\n   arg2=val2_with_long_name,\r\n)\r\n# get reindent in one line\r\nfoo(\r\n   arg1=val1_with_long_name,\r\n   arg2=val2,\r\n)\r\n```\r\n\r\nthe second one get reindented in one line, with arg2 at the end, making it very easy to miss it while scanning with the eye\r\nmoreover it means that replacing val2 by a little longer string,  will suddenly cause unwanted reindentation (which can create a snowball effect in a big diff that rename a variable into one with a longer name) \r\n\r\nTo summarize the main problem is that black is quite strict, but it does not let you be stricter than him :/ ","reactions":{"url":"https://api.github.com/repos/psf/black/issues/737/reactions","total_count":31,"+1":31,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/737/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T22:49:30Z","updated_at":"2020-03-04T22:49:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/725","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/725/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/725/comments","events_url":"https://api.github.com/repos/psf/black/issues/725/events","html_url":"https://github.com/psf/black/issues/725","id":414341312,"node_id":"MDU6SXNzdWU0MTQzNDEzMTI=","number":725,"title":"Remove trailing comma in function definition on single line","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":970487886,"node_id":"MDU6TGFiZWw5NzA0ODc4ODY=","url":"https://api.github.com/repos/psf/black/labels/F:%20trailing%20comma","name":"F: trailing comma","color":"BFD4F2","default":false,"description":"Full of magic"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-02-25T22:38:09Z","updated_at":"2020-09-27T01:31:53Z","closed_at":"2020-09-27T01:21:53Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I would have expected\r\n```\r\ndef f(x,):\r\n    pass\r\n```\r\nto have its comma removed by Black, but that doesn't happen.\r\n\r\nI think we should always remove the trailing comma if the function arguments fit on a single line.\r\n\r\n(I ran into this when I removed a function's second argument and relied on Black to get rid of the trailing comma.)","reactions":{"url":"https://api.github.com/repos/psf/black/issues/725/reactions","total_count":16,"+1":16,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/725/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/595066144","html_url":"https://github.com/psf/black/issues/1288#issuecomment-595066144","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":595066144,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTA2NjE0NA==","user":{"login":"bersbersbers","id":12128514,"node_id":"MDQ6VXNlcjEyMTI4NTE0","avatar_url":"https://avatars.githubusercontent.com/u/12128514?v=4","gravatar_id":"","url":"https://api.github.com/users/bersbersbers","html_url":"https://github.com/bersbersbers","followers_url":"https://api.github.com/users/bersbersbers/followers","following_url":"https://api.github.com/users/bersbersbers/following{/other_user}","gists_url":"https://api.github.com/users/bersbersbers/gists{/gist_id}","starred_url":"https://api.github.com/users/bersbersbers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersbersbers/subscriptions","organizations_url":"https://api.github.com/users/bersbersbers/orgs","repos_url":"https://api.github.com/users/bersbersbers/repos","events_url":"https://api.github.com/users/bersbersbers/events{/privacy}","received_events_url":"https://api.github.com/users/bersbersbers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T07:16:34Z","updated_at":"2020-03-05T07:17:27Z","body":"Since there is quite some variety in the referenced issues, I just wanted to ask if/make sure that this will also apply to method calls. E.g., it seems #826 does not apply to those yet, either:\r\n\r\n```\r\nuser@host:~> black --version\r\nblack, version 19.10b0\r\nuser@host:~> echo \"f(1, 2, 3,)\" | black - # note: result is on separate line, but not exploded\r\nf(\r\n    1, 2, 3,\r\n)\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/595066144/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bersbersbers","id":12128514,"node_id":"MDQ6VXNlcjEyMTI4NTE0","avatar_url":"https://avatars.githubusercontent.com/u/12128514?v=4","gravatar_id":"","url":"https://api.github.com/users/bersbersbers","html_url":"https://github.com/bersbersbers","followers_url":"https://api.github.com/users/bersbersbers/followers","following_url":"https://api.github.com/users/bersbersbers/following{/other_user}","gists_url":"https://api.github.com/users/bersbersbers/gists{/gist_id}","starred_url":"https://api.github.com/users/bersbersbers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersbersbers/subscriptions","organizations_url":"https://api.github.com/users/bersbersbers/orgs","repos_url":"https://api.github.com/users/bersbersbers/repos","events_url":"https://api.github.com/users/bersbersbers/events{/privacy}","received_events_url":"https://api.github.com/users/bersbersbers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/595160213","html_url":"https://github.com/psf/black/issues/1288#issuecomment-595160213","issue_url":"https://api.github.com/repos/psf/black/issues/1288","id":595160213,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTE2MDIxMw==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T10:42:17Z","updated_at":"2020-03-05T10:42:17Z","body":"Yes, it will also apply to method calls.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/595160213/reactions","total_count":10,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":4,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"hugovk","id":1324225,"node_id":"MDQ6VXNlcjEzMjQyMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1324225?v=4","gravatar_id":"","url":"https://api.github.com/users/hugovk","html_url":"https://github.com/hugovk","followers_url":"https://api.github.com/users/hugovk/followers","following_url":"https://api.github.com/users/hugovk/following{/other_user}","gists_url":"https://api.github.com/users/hugovk/gists{/gist_id}","starred_url":"https://api.github.com/users/hugovk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hugovk/subscriptions","organizations_url":"https://api.github.com/users/hugovk/orgs","repos_url":"https://api.github.com/users/hugovk/repos","events_url":"https://api.github.com/users/hugovk/events{/privacy}","received_events_url":"https://api.github.com/users/hugovk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-08T07:06:12Z","updated_at":"2020-03-08T07:06:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/6877","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/6877/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/6877/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/6877/events","html_url":"https://github.com/pytest-dev/pytest/issues/6877","id":577425722,"node_id":"MDU6SXNzdWU1Nzc0MjU3MjI=","number":6877,"title":"pre-commit/black is getting in the way too much","user":{"login":"blueyed","id":9766,"node_id":"MDQ6VXNlcjk3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/9766?v=4","gravatar_id":"","url":"https://api.github.com/users/blueyed","html_url":"https://github.com/blueyed","followers_url":"https://api.github.com/users/blueyed/followers","following_url":"https://api.github.com/users/blueyed/following{/other_user}","gists_url":"https://api.github.com/users/blueyed/gists{/gist_id}","starred_url":"https://api.github.com/users/blueyed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blueyed/subscriptions","organizations_url":"https://api.github.com/users/blueyed/orgs","repos_url":"https://api.github.com/users/blueyed/repos","events_url":"https://api.github.com/users/blueyed/events{/privacy}","received_events_url":"https://api.github.com/users/blueyed/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-03-08T01:06:05Z","updated_at":"2020-03-28T14:43:55Z","closed_at":"2020-03-08T15:46:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"It is annoying to get interrupted with something like:\r\n```\r\n% gc\r\n[WARNING] Unstaged files detected.\r\n[INFO] Stashing unstaged files to /home/user/.cache/pre-commit/patch1583628686.\r\nblack....................................................................Failed\r\n- hook id: black\r\n- files were modified by this hook\r\n[20+ lines deleted]\r\n[INFO] Restored changes from /home/user/.cache/pre-commit/patch1583628686.\r\n```\r\n\r\nto see that black did turn it into something less readable (since it does\r\nnot recognize \"exploding commas\" with function calls):\r\n\r\n```diff\r\n-    result.stdout.fnmatch_lines([\r\n-        'E       assert False',\r\n-        '*- Captured stdout call -*',\r\n-        'hello',\r\n-    ])\r\n+    result.stdout.fnmatch_lines(\r\n+        [\"E       assert False\", \"*- Captured stdout call -*\", \"hello\",]\r\n+    )\r\n```\r\n\r\nTherefore I think it would be more sensible to either exclude black from the\r\npre-commit config altogether, or not to recommend installing pre-commit in the first place.\r\n\r\nI think it is fine to enforce checks on CI, but that could/should be limited to\r\nflake8 etc only, and black could be run then in the release process.\r\n\r\nBlack is meant to have consistent output for things being committed, but it does not help if you have to add `# fmt: {on,off}` (after being interrupted), or just accept that it is less readable etc.\r\nI.e. in the second case it certainly causes code to be less readable / and more affected to diff churn (when tests get hardened/changed with regard to their output).\r\n","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/6877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/6877/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]