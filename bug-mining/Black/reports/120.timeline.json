[{"id":2588395125,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU4ODM5NTEyNQ==","url":"https://api.github.com/repos/psf/black/issues/events/2588395125","actor":{"login":"msullivan","id":340349,"node_id":"MDQ6VXNlcjM0MDM0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/340349?v=4","gravatar_id":"","url":"https://api.github.com/users/msullivan","html_url":"https://github.com/msullivan","followers_url":"https://api.github.com/users/msullivan/followers","following_url":"https://api.github.com/users/msullivan/following{/other_user}","gists_url":"https://api.github.com/users/msullivan/gists{/gist_id}","starred_url":"https://api.github.com/users/msullivan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msullivan/subscriptions","organizations_url":"https://api.github.com/users/msullivan/orgs","repos_url":"https://api.github.com/users/msullivan/repos","events_url":"https://api.github.com/users/msullivan/events{/privacy}","received_events_url":"https://api.github.com/users/msullivan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-27T20:28:49Z","performed_via_github_app":null},{"id":2588395128,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1ODgzOTUxMjg=","url":"https://api.github.com/repos/psf/black/issues/events/2588395128","actor":{"login":"msullivan","id":340349,"node_id":"MDQ6VXNlcjM0MDM0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/340349?v=4","gravatar_id":"","url":"https://api.github.com/users/msullivan","html_url":"https://github.com/msullivan","followers_url":"https://api.github.com/users/msullivan/followers","following_url":"https://api.github.com/users/msullivan/following{/other_user}","gists_url":"https://api.github.com/users/msullivan/gists{/gist_id}","starred_url":"https://api.github.com/users/msullivan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msullivan/subscriptions","organizations_url":"https://api.github.com/users/msullivan/orgs","repos_url":"https://api.github.com/users/msullivan/repos","events_url":"https://api.github.com/users/msullivan/events{/privacy}","received_events_url":"https://api.github.com/users/msullivan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-27T20:28:49Z","performed_via_github_app":null},{"id":2682302570,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI2ODIzMDI1NzA=","url":"https://api.github.com/repos/psf/black/issues/events/2682302570","actor":{"login":"msullivan","id":340349,"node_id":"MDQ6VXNlcjM0MDM0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/340349?v=4","gravatar_id":"","url":"https://api.github.com/users/msullivan","html_url":"https://github.com/msullivan","followers_url":"https://api.github.com/users/msullivan/followers","following_url":"https://api.github.com/users/msullivan/following{/other_user}","gists_url":"https://api.github.com/users/msullivan/gists{/gist_id}","starred_url":"https://api.github.com/users/msullivan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msullivan/subscriptions","organizations_url":"https://api.github.com/users/msullivan/orgs","repos_url":"https://api.github.com/users/msullivan/repos","events_url":"https://api.github.com/users/msullivan/events{/privacy}","received_events_url":"https://api.github.com/users/msullivan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"76dfe24f3c153050ec741cde7c4d98c271c6bb40","commit_url":"https://api.github.com/repos/msullivan/black/commits/76dfe24f3c153050ec741cde7c4d98c271c6bb40","created_at":"2019-10-02T22:59:51Z","performed_via_github_app":null},{"actor":{"login":"msullivan","id":340349,"node_id":"MDQ6VXNlcjM0MDM0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/340349?v=4","gravatar_id":"","url":"https://api.github.com/users/msullivan","html_url":"https://github.com/msullivan","followers_url":"https://api.github.com/users/msullivan/followers","following_url":"https://api.github.com/users/msullivan/following{/other_user}","gists_url":"https://api.github.com/users/msullivan/gists{/gist_id}","starred_url":"https://api.github.com/users/msullivan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msullivan/subscriptions","organizations_url":"https://api.github.com/users/msullivan/orgs","repos_url":"https://api.github.com/users/msullivan/repos","events_url":"https://api.github.com/users/msullivan/events{/privacy}","received_events_url":"https://api.github.com/users/msullivan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-02T23:02:42Z","updated_at":"2019-10-02T23:02:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/1040","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1040/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1040/comments","events_url":"https://api.github.com/repos/psf/black/issues/1040/events","html_url":"https://github.com/psf/black/pull/1040","id":501768486,"node_id":"MDExOlB1bGxSZXF1ZXN0MzIzOTc5Mjky","number":1040,"title":"Don't break long lines when `type: ignore` is present","user":{"login":"msullivan","id":340349,"node_id":"MDQ6VXNlcjM0MDM0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/340349?v=4","gravatar_id":"","url":"https://api.github.com/users/msullivan","html_url":"https://github.com/msullivan","followers_url":"https://api.github.com/users/msullivan/followers","following_url":"https://api.github.com/users/msullivan/following{/other_user}","gists_url":"https://api.github.com/users/msullivan/gists{/gist_id}","starred_url":"https://api.github.com/users/msullivan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msullivan/subscriptions","organizations_url":"https://api.github.com/users/msullivan/orgs","repos_url":"https://api.github.com/users/msullivan/repos","events_url":"https://api.github.com/users/msullivan/events{/privacy}","received_events_url":"https://api.github.com/users/msullivan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-10-02T23:02:42Z","updated_at":"2019-10-03T02:39:11Z","closed_at":"2019-10-03T01:57:50Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/psf/black/pulls/1040","html_url":"https://github.com/psf/black/pull/1040","diff_url":"https://github.com/psf/black/pull/1040.diff","patch_url":"https://github.com/psf/black/pull/1040.patch","merged_at":"2019-10-03T01:57:50Z"},"body":"As Guido discussed in #997, breaking long lines with `type: ignore`s has caused \r\nus a lot of grief when the `type: ignore` is moved off the line with the type error. \r\n\r\nFixes #997.","reactions":{"url":"https://api.github.com/repos/psf/black/issues/1040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1040/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2682545357,"node_id":"MDExOkNsb3NlZEV2ZW50MjY4MjU0NTM1Nw==","url":"https://api.github.com/repos/psf/black/issues/events/2682545357","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-03T01:57:50Z","state_reason":null,"performed_via_github_app":null},{"id":2682545384,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI2ODI1NDUzODQ=","url":"https://api.github.com/repos/psf/black/issues/events/2682545384","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d9e71a75ccfefa3d9156a64c03313a0d4ad981e5","commit_url":"https://api.github.com/repos/psf/black/commits/d9e71a75ccfefa3d9156a64c03313a0d4ad981e5","created_at":"2019-10-03T01:57:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/537754462","html_url":"https://github.com/psf/black/issues/997#issuecomment-537754462","issue_url":"https://api.github.com/repos/psf/black/issues/997","id":537754462,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzc1NDQ2Mg==","user":{"login":"gvanrossum","id":2894642,"node_id":"MDQ6VXNlcjI4OTQ2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/2894642?v=4","gravatar_id":"","url":"https://api.github.com/users/gvanrossum","html_url":"https://github.com/gvanrossum","followers_url":"https://api.github.com/users/gvanrossum/followers","following_url":"https://api.github.com/users/gvanrossum/following{/other_user}","gists_url":"https://api.github.com/users/gvanrossum/gists{/gist_id}","starred_url":"https://api.github.com/users/gvanrossum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvanrossum/subscriptions","organizations_url":"https://api.github.com/users/gvanrossum/orgs","repos_url":"https://api.github.com/users/gvanrossum/repos","events_url":"https://api.github.com/users/gvanrossum/events{/privacy}","received_events_url":"https://api.github.com/users/gvanrossum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T02:05:18Z","updated_at":"2019-10-03T02:05:18Z","body":"Thanks!\n-- \n--Guido (mobile)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/537754462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gvanrossum","id":2894642,"node_id":"MDQ6VXNlcjI4OTQ2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/2894642?v=4","gravatar_id":"","url":"https://api.github.com/users/gvanrossum","html_url":"https://github.com/gvanrossum","followers_url":"https://api.github.com/users/gvanrossum/followers","following_url":"https://api.github.com/users/gvanrossum/following{/other_user}","gists_url":"https://api.github.com/users/gvanrossum/gists{/gist_id}","starred_url":"https://api.github.com/users/gvanrossum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvanrossum/subscriptions","organizations_url":"https://api.github.com/users/gvanrossum/orgs","repos_url":"https://api.github.com/users/gvanrossum/repos","events_url":"https://api.github.com/users/gvanrossum/events{/privacy}","received_events_url":"https://api.github.com/users/gvanrossum/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ruestefa","id":29944642,"node_id":"MDQ6VXNlcjI5OTQ0NjQy","avatar_url":"https://avatars.githubusercontent.com/u/29944642?v=4","gravatar_id":"","url":"https://api.github.com/users/ruestefa","html_url":"https://github.com/ruestefa","followers_url":"https://api.github.com/users/ruestefa/followers","following_url":"https://api.github.com/users/ruestefa/following{/other_user}","gists_url":"https://api.github.com/users/ruestefa/gists{/gist_id}","starred_url":"https://api.github.com/users/ruestefa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruestefa/subscriptions","organizations_url":"https://api.github.com/users/ruestefa/orgs","repos_url":"https://api.github.com/users/ruestefa/repos","events_url":"https://api.github.com/users/ruestefa/events{/privacy}","received_events_url":"https://api.github.com/users/ruestefa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-14T15:38:58Z","updated_at":"2023-02-14T15:38:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/3569","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/3569/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/3569/comments","events_url":"https://api.github.com/repos/psf/black/issues/3569/events","html_url":"https://github.com/psf/black/issues/3569","id":1584385762,"node_id":"I_kwDOB3dpmM5eb87i","number":3569,"title":"Consistent handling of too long lines due to directives (no special treatment of `# type: ignore`)","user":{"login":"ruestefa","id":29944642,"node_id":"MDQ6VXNlcjI5OTQ0NjQy","avatar_url":"https://avatars.githubusercontent.com/u/29944642?v=4","gravatar_id":"","url":"https://api.github.com/users/ruestefa","html_url":"https://github.com/ruestefa","followers_url":"https://api.github.com/users/ruestefa/followers","following_url":"https://api.github.com/users/ruestefa/following{/other_user}","gists_url":"https://api.github.com/users/ruestefa/gists{/gist_id}","starred_url":"https://api.github.com/users/ruestefa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruestefa/subscriptions","organizations_url":"https://api.github.com/users/ruestefa/orgs","repos_url":"https://api.github.com/users/ruestefa/repos","events_url":"https://api.github.com/users/ruestefa/events{/privacy}","received_events_url":"https://api.github.com/users/ruestefa/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432796,"node_id":"MDU6TGFiZWw4Njc0MzI3OTY=","url":"https://api.github.com/repos/psf/black/labels/T:%20enhancement","name":"T: enhancement","color":"a2eeef","default":false,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-02-14T15:38:57Z","updated_at":"2024-12-02T14:09:18Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"_(I initially wrote the issue as a bug report, hence the issue template, but it's probably closer to a feature request.)_\r\n\r\n**Describe the ~bug~**\r\n\r\nLines that are too long because of trailing comments are handled inconsistently depending on whether they start with a mypy `type: ignore` directive.\r\n\r\nSpecifically, lines where the comment begins with `# type: ignore` are left as they are, whereas other such lines are broken up over multiple lines, which includes lines that contain `# type: ignore` but not in the beginning, and others that only contain directives from other tools.\r\n\r\nInput:\r\n\r\n```python\r\nfrom my_module import some_function  # type: ignore [import]  # pylint: ignore=no-name-in-module\r\nfrom my_module import some_function  # pylint: ignore=no-name-in-module  # type: ignore [import]\r\nfrom my_module import some_function  # type: ignore [import]  # pylint: ignore=no-name-in-module  # pylint: ignore=a_rule\r\nfrom my_module import some_function  # pylint: ignore=no-name-in-module  # pylint: ignore=a_rule  # type: ignore [import]\r\nfrom my_module import some_function  # pylint: ignore=no-name-in-module  # pylint: ignore=a_rule\r\n```\r\n\r\nOutput:\r\n\r\n```python\r\nfrom my_module import some_function  # type: ignore [import]  # pylint: ignore=no-name-in-module\r\nfrom my_module import (\r\n    some_function,\r\n)  # pylint: ignore=no-name-in-module  # type: ignore [import]\r\nfrom my_module import some_function  # type: ignore [import]  # pylint: ignore=no-name-in-module  # pylint: ignore=a_rule\r\nfrom my_module import (\r\n    some_function,\r\n)  # pylint: ignore=no-name-in-module  # pylint: ignore=a_rule  # type: ignore [import]\r\nfrom my_module import (\r\n    some_function,\r\n)  # pylint: ignore=no-name-in-module  # pylint: ignore=a_rule\r\n```\r\n\r\n_I'm using import statements in the example because that's how I became aware of this behavior (and because using `# pylint: disable-next:...` instead is complicated due to how `isort` handles comments, not that that's black's problem), but I assume it is universal._\r\n\r\n**Expected behavior**\r\n\r\nIdeally, I'd like the `# pylint: disable` directives to be treated like the `# type: ignore` directives, such that all lines remain unchanged. Also, I'd like the `# type: ignore` directive also to be detected at the end of the line. However, I'm aware that this would require parsing the comments for directives beyond a simple `.startswith(\"# type: ignore\")`, which you might not want to get into.\r\n\r\nHowever, singling out mypy directives (in response to [this](https://github.com/psf/black/issues/997)) while ignoring directives of other commonly used third-party tools (none of which, for the record, I'm involved with) like pylint seems inconsistent to me. In my opinion, either all directives should be ignored (and treated like any other comments), or there should at least be rudimentary support equivalent to ignoring comments starting with `# type: ignore` for commonly used directives such as `# pylint: disable`.\r\n\r\n**Proposition**\r\n\r\nMy suggestion would be to specify directives to be ignored in a list and not change lines that are too long because of a trailing comment if the latter contains (or starts with) any of those directives. To illustrate the logic (without knowing about the inner working of black):\r\n\r\n```python\r\nignored_directives = [\"noqa\", \"type: ignore\", \"pylint: disable\"]  # ...\r\nfor directive in directives:\r\n    if f\"# {directive}\" in comment:  # or `if comment.startswith(f\"# {directive}\"):`\r\n        break\r\nelse:\r\n    # handle too long line\r\n```\r\n\r\nBy making `ignored_directives` configurable, no tool-specific directives would have to be hardcoded into black, albeit at a cost of an additional configuration parameter, which I'm aware is probably a deal breaker.\r\n\r\n**Environment**\r\n\r\n- Black v23.1.0 in [online tool](https://black.vercel.app/?version=stable&state=_Td6WFoAAATm1rRGAgAhARYAAAB0L-Wj4AJ_AJ9dAD2IimZxl1N_WlkPinBFoL6R5xpwKuJ8AqdsH-VBuPdwSnrawS7bMoOoL0b3Inwn-2zAJFDn9ymF3Y4n9uxD9kyG5RtEcSDJ3G0FF4SW4-JHj5eK3yI_Pzh00PYwDwhsauLCrGRhu5qAfSNc4zAe0kJ4q1lPIjmJRvuszYpFBQ40W8KLl1GqJ6Kh0mLkBb3udx_GQD4-IYnL3l8d3rFYAAAAYDiHDl4Oe5QAAbsBgAUAAAtqqmWxxGf7AgAAAAAEWVo=)\r\n- Black v22.10.0 on Linux with Python v3.10.8\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/3569/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/3569/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"ruestefa","id":29944642,"node_id":"MDQ6VXNlcjI5OTQ0NjQy","avatar_url":"https://avatars.githubusercontent.com/u/29944642?v=4","gravatar_id":"","url":"https://api.github.com/users/ruestefa","html_url":"https://github.com/ruestefa","followers_url":"https://api.github.com/users/ruestefa/followers","following_url":"https://api.github.com/users/ruestefa/following{/other_user}","gists_url":"https://api.github.com/users/ruestefa/gists{/gist_id}","starred_url":"https://api.github.com/users/ruestefa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruestefa/subscriptions","organizations_url":"https://api.github.com/users/ruestefa/orgs","repos_url":"https://api.github.com/users/ruestefa/repos","events_url":"https://api.github.com/users/ruestefa/events{/privacy}","received_events_url":"https://api.github.com/users/ruestefa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-14T18:17:59Z","updated_at":"2023-02-14T18:17:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues/106","repository_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint","labels_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues/106/labels{/name}","comments_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues/106/comments","events_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues/106/events","html_url":"https://github.com/MeteoSwiss-APN/mch-python-blueprint/pull/106","id":1584540011,"node_id":"PR_kwDOCbu4ls5J9vgv","number":106,"title":"Revise isort config","user":{"login":"ruestefa","id":29944642,"node_id":"MDQ6VXNlcjI5OTQ0NjQy","avatar_url":"https://avatars.githubusercontent.com/u/29944642?v=4","gravatar_id":"","url":"https://api.github.com/users/ruestefa","html_url":"https://github.com/ruestefa","followers_url":"https://api.github.com/users/ruestefa/followers","following_url":"https://api.github.com/users/ruestefa/following{/other_user}","gists_url":"https://api.github.com/users/ruestefa/gists{/gist_id}","starred_url":"https://api.github.com/users/ruestefa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruestefa/subscriptions","organizations_url":"https://api.github.com/users/ruestefa/orgs","repos_url":"https://api.github.com/users/ruestefa/repos","events_url":"https://api.github.com/users/ruestefa/events{/privacy}","received_events_url":"https://api.github.com/users/ruestefa/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"clairemerker","id":34312518,"node_id":"MDQ6VXNlcjM0MzEyNTE4","avatar_url":"https://avatars.githubusercontent.com/u/34312518?v=4","gravatar_id":"","url":"https://api.github.com/users/clairemerker","html_url":"https://github.com/clairemerker","followers_url":"https://api.github.com/users/clairemerker/followers","following_url":"https://api.github.com/users/clairemerker/following{/other_user}","gists_url":"https://api.github.com/users/clairemerker/gists{/gist_id}","starred_url":"https://api.github.com/users/clairemerker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clairemerker/subscriptions","organizations_url":"https://api.github.com/users/clairemerker/orgs","repos_url":"https://api.github.com/users/clairemerker/repos","events_url":"https://api.github.com/users/clairemerker/events{/privacy}","received_events_url":"https://api.github.com/users/clairemerker/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"clairemerker","id":34312518,"node_id":"MDQ6VXNlcjM0MzEyNTE4","avatar_url":"https://avatars.githubusercontent.com/u/34312518?v=4","gravatar_id":"","url":"https://api.github.com/users/clairemerker","html_url":"https://github.com/clairemerker","followers_url":"https://api.github.com/users/clairemerker/followers","following_url":"https://api.github.com/users/clairemerker/following{/other_user}","gists_url":"https://api.github.com/users/clairemerker/gists{/gist_id}","starred_url":"https://api.github.com/users/clairemerker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clairemerker/subscriptions","organizations_url":"https://api.github.com/users/clairemerker/orgs","repos_url":"https://api.github.com/users/clairemerker/repos","events_url":"https://api.github.com/users/clairemerker/events{/privacy}","received_events_url":"https://api.github.com/users/clairemerker/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2023-02-14T17:14:42Z","updated_at":"2023-02-22T15:16:27Z","closed_at":"2023-02-22T15:16:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":163297430,"node_id":"MDEwOlJlcG9zaXRvcnkxNjMyOTc0MzA=","name":"mch-python-blueprint","full_name":"MeteoSwiss-APN/mch-python-blueprint","private":false,"owner":{"login":"MeteoSwiss-APN","id":15251199,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjUxMTk5","avatar_url":"https://avatars.githubusercontent.com/u/15251199?v=4","gravatar_id":"","url":"https://api.github.com/users/MeteoSwiss-APN","html_url":"https://github.com/MeteoSwiss-APN","followers_url":"https://api.github.com/users/MeteoSwiss-APN/followers","following_url":"https://api.github.com/users/MeteoSwiss-APN/following{/other_user}","gists_url":"https://api.github.com/users/MeteoSwiss-APN/gists{/gist_id}","starred_url":"https://api.github.com/users/MeteoSwiss-APN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MeteoSwiss-APN/subscriptions","organizations_url":"https://api.github.com/users/MeteoSwiss-APN/orgs","repos_url":"https://api.github.com/users/MeteoSwiss-APN/repos","events_url":"https://api.github.com/users/MeteoSwiss-APN/events{/privacy}","received_events_url":"https://api.github.com/users/MeteoSwiss-APN/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MeteoSwiss-APN/mch-python-blueprint","description":"Copier template for a Python package.","fork":false,"url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint","forks_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/forks","keys_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/teams","hooks_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/hooks","issue_events_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues/events{/number}","events_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/events","assignees_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/assignees{/user}","branches_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/branches{/branch}","tags_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/tags","blobs_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/git/refs{/sha}","trees_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/statuses/{sha}","languages_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/languages","stargazers_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/stargazers","contributors_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/contributors","subscribers_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/subscribers","subscription_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/subscription","commits_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/commits{/sha}","git_commits_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/git/commits{/sha}","comments_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/comments{/number}","issue_comment_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues/comments{/number}","contents_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/contents/{+path}","compare_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/merges","archive_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/downloads","issues_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues{/number}","pulls_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/pulls{/number}","milestones_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/milestones{/number}","notifications_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/labels{/name}","releases_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/releases{/id}","deployments_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/deployments","created_at":"2018-12-27T13:24:18Z","updated_at":"2023-09-14T15:36:38Z","pushed_at":"2024-03-07T08:53:38Z","git_url":"git://github.com/MeteoSwiss-APN/mch-python-blueprint.git","ssh_url":"git@github.com:MeteoSwiss-APN/mch-python-blueprint.git","clone_url":"https://github.com/MeteoSwiss-APN/mch-python-blueprint.git","svn_url":"https://github.com/MeteoSwiss-APN/mch-python-blueprint","homepage":"","size":1201,"stargazers_count":4,"watchers_count":4,"language":"Jinja","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":22,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":22,"watchers":4,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/pulls/106","html_url":"https://github.com/MeteoSwiss-APN/mch-python-blueprint/pull/106","diff_url":"https://github.com/MeteoSwiss-APN/mch-python-blueprint/pull/106.diff","patch_url":"https://github.com/MeteoSwiss-APN/mch-python-blueprint/pull/106.patch","merged_at":"2023-02-22T15:16:26Z"},"body":"Adapt and improve config of `isort` (which groups and sorts imports) in `pyproject.toml`.\r\n\r\n_The examples below have been tested with Python 3.10.8, isort 5.12.0 and black 22.10.0._\r\n\r\n### Step 1: Black profile\r\n\r\nUse the (newish) \"black\" [profile](https://pycqa.github.io/isort/docs/configuration/profiles.html) option, which replaces some previously set options and notably implies the previously unset `include_trailing_comma` (which might change existing code slightly).\r\n\r\nOld:\r\n\r\n```toml\r\n...\r\n[tool.isort]\r\ndefault_section = \"THIRDPARTY\"\r\nforce_grid_wrap = false\r\nforce_single_line = true\r\nline_length = 88\r\norder_by_type = false\r\n# Headings\r\n...\r\n```\r\n\r\nNew:\r\n\r\n```toml\r\n...\r\n[tool.isort]\r\ndefault_section = \"THIRDPARTY\"\r\nprofile = \"black\"\r\nforce_single_line = true\r\norder_by_type = false\r\n# Headings\r\n...\r\n```\r\n\r\n### Step 2: NOQA\r\n\r\nIn one project, I stumbled upon a problematic case with imports that required multiple directive comments that caused the lines to be too long. Complete example:\r\n\r\n```python\r\n\"\"\"Test isort config.\"\"\"\r\n# pylint: disable=import-error\r\n\r\n# Third-party\r\nimport numpy as np\r\nfrom metpy.interpolate import interpolate_1d  # type: ignore [import]\r\nfrom netCDF4 import Dataset  # type: ignore [import]  # pylint: disable=no-name-in-module\r\nfrom netCDF4 import Dataset as open_ncfile  # pylint: disable=reimported,no-name-in-module\r\nfrom numpy.fft import fft2\r\n\r\n# pylint: disable-next=pointless-statement\r\nnp, interpolate_1d, Dataset, open_ncfile, fft2\r\n```\r\n\r\nThe setup above with `profile = \"black\"` etc. produces this after running `isort`:\r\n\r\n```python\r\n\"\"\"Test isort config.\"\"\"\r\n# pylint: disable=import-error\r\n\r\n# Third-party\r\nimport numpy as np\r\nfrom metpy.interpolate import interpolate_1d  # type: ignore [import]\r\nfrom netCDF4 import (\r\n    Dataset,  # type: ignore [import]  # pylint: disable=no-name-in-module\r\n)\r\nfrom netCDF4 import Dataset as open_ncfile  # pylint: disable=reimported,no-name-in-module\r\nfrom numpy.fft import fft2\r\n\r\n# pylint: disable-next=pointless-statement\r\nnp, interpolate_1d, Dataset, open_ncfile, fft2\r\n```\r\n\r\nand this after additionally running `black`:\r\n\r\n```python\r\n\"\"\"Test isort config.\"\"\"\r\n# pylint: disable=import-error\r\n\r\n# Third-party\r\nimport numpy as np\r\nfrom metpy.interpolate import interpolate_1d  # type: ignore [import]\r\nfrom netCDF4 import (\r\n    Dataset,  # type: ignore [import]  # pylint: disable=no-name-in-module\r\n)\r\nfrom netCDF4 import (\r\n    Dataset as open_ncfile,\r\n)  # pylint: disable=reimported,no-name-in-module\r\nfrom numpy.fft import fft2\r\n\r\n# pylint: disable-next=pointless-statement\r\nnp, interpolate_1d, Dataset, open_ncfile, fft2\r\n```\r\n\r\nNeither versions walidates with `pylint` because of misplaced `# pylint: disable` directives (which is ultimately a bug -- or at least a missing feature -- in `black`; there are open [issues](https://github.com/psf/black/issues) about this). The problem is that placing comments correctly is nontrivial, especially when directives of different tools with different placement/scoping rules are involved.\r\n\r\nLuckily, `isort` provides the option `multi_line_output=7`, where 7 stands for `7-noqa`, which doesn't change too long lines but simply adds a `# NOQA` directive (must be uppercase...) if there is none already, which tells some linters (like `flake8`) to ignore the line:\r\n\r\n```toml\r\n...\r\n[tool.isort]\r\ndefault_section = \"THIRDPARTY\"\r\nprofile = \"black\"\r\nforce_single_line = true\r\norder_by_type = false\r\nmulti_line_output = 7  # 7-noqa\r\n# Headings\r\n...\r\n```\r\n\r\nRunning `isort` now yields:\r\n\r\n```python\r\n\"\"\"Test isort config.\"\"\"\r\n# pylint: disable=import-error\r\n\r\n# Third-party\r\nimport numpy as np\r\nfrom metpy.interpolate import interpolate_1d  # type: ignore [import]\r\nfrom netCDF4 import Dataset  # type: ignore [import]  # pylint: disable=no-name-in-module  # NOQA\r\nfrom netCDF4 import Dataset as open_ncfile  # pylint: disable=reimported,no-name-in-module\r\nfrom numpy.fft import fft2\r\n\r\n# pylint: disable-next=pointless-statement\r\nnp, interpolate_1d, Dataset, open_ncfile, fft2\r\n```\r\n\r\nUnfortunately, a bug in `isort` causes `# NOQA` not to be added to lines with `as` imports (I've opened an [issue](https://github.com/PyCQA/isort/issues/2093)), so we'll have to add it manually. Furthermore, while `black` doesn't expand the first `netCDF4` line because the trailing comment starts with `# type: ignore` (see [here](https://github.com/psf/black/issues/997)), it still expands the next line, thereby still misplacing the `# pylint` directive. We thus need to manually disable `black` for this line by wrapping it in `# fmt: off` and `# fmt: on`:\r\n\r\n```python\r\n\"\"\"Test isort config.\"\"\"\r\n# pylint: disable=import-error\r\n\r\n# Third-party\r\n# fmt: off\r\nimport numpy as np\r\nfrom metpy.interpolate import interpolate_1d  # type: ignore [import]\r\nfrom numpy.fft import fft2\r\nfrom netCDF4 import Dataset  # type: ignore [import]  # pylint: disable=no-name-in-module\r\nfrom netCDF4 import Dataset as open_ncfile  # pylint: disable=reimported,no-name-in-module  # NOQA\r\n# fmt: on\r\n\r\n# pylint: disable-next=pointless-statement\r\nnp, interpolate_1d, Dataset, open_ncfile, fft2\r\n```\r\n\r\n(Note that while black now supports the inline directive `fmt: skip` to skip single line, it's unfortunately still buggy; see multiple open issues such as [this](https://github.com/psf/black/issues/3330). Also note that we wrap the whole \"Third-party\" block in `fmt: off/on` to make sure that `isort` does not misplace the directives while sorting the imports because it considers comments to belong to the next import line.)\r\n\r\nRunning `isort` over this adapted code with the new config yields:\r\n\r\n```python\r\n\"\"\"Test isort config.\"\"\"\r\n# pylint: disable=import-error\r\n\r\n# Third-party\r\n# fmt: off\r\nimport numpy as np\r\nfrom metpy.interpolate import interpolate_1d  # type: ignore [import]\r\nfrom netCDF4 import Dataset  # type: ignore [import]  # pylint: disable=no-name-in-module  # NOQA\r\nfrom netCDF4 import Dataset as open_ncfile  # pylint: disable=reimported,no-name-in-module  # NOQA\r\nfrom numpy.fft import fft2\r\n\r\n# fmt: on\r\n\r\n# pylint: disable-next=pointless-statement\r\nnp, interpolate_1d, Dataset, open_ncfile, fft2\r\n```\r\n\r\nwhich validates with both `flake8` and `pylint` and which `black` doesn't change any further.\r\n\r\nThe final proposed `isort` config with a rather detailed comment:\r\n\r\n```toml\r\n...\r\n[tool.isort]\r\ndefault_section = \"THIRDPARTY\"\r\nprofile = \"black\"\r\nforce_single_line = true\r\norder_by_type = false\r\n# Set `multi_line_output = 7` to mark too long lines with `# NOQA` (uppercase!)\r\n# instead of spreading them over multiple lines. This leaves lines with long\r\n# trailing comments intact, which may occur if multiple directives are necessary\r\n# (e.g., `# type: ignore [import]  # pylint: disable=no-name-in-module`).\r\n# (Note that thanks to `force_single_line = true`, this should be the main\r\n# reason for too long lines because multi-import lines are already broken up.)\r\nmulti_line_output = 7  # 7=noqa\r\nhonor_noqa = false\r\n# Headings\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues/106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/MeteoSwiss-APN/mch-python-blueprint/issues/106/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"MichaReiser","id":1203881,"node_id":"MDQ6VXNlcjEyMDM4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1203881?v=4","gravatar_id":"","url":"https://api.github.com/users/MichaReiser","html_url":"https://github.com/MichaReiser","followers_url":"https://api.github.com/users/MichaReiser/followers","following_url":"https://api.github.com/users/MichaReiser/following{/other_user}","gists_url":"https://api.github.com/users/MichaReiser/gists{/gist_id}","starred_url":"https://api.github.com/users/MichaReiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichaReiser/subscriptions","organizations_url":"https://api.github.com/users/MichaReiser/orgs","repos_url":"https://api.github.com/users/MichaReiser/repos","events_url":"https://api.github.com/users/MichaReiser/events{/privacy}","received_events_url":"https://api.github.com/users/MichaReiser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-17T19:31:18Z","updated_at":"2023-08-17T19:31:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/6197","repository_url":"https://api.github.com/repos/astral-sh/ruff","labels_url":"https://api.github.com/repos/astral-sh/ruff/issues/6197/labels{/name}","comments_url":"https://api.github.com/repos/astral-sh/ruff/issues/6197/comments","events_url":"https://api.github.com/repos/astral-sh/ruff/issues/6197/events","html_url":"https://github.com/astral-sh/ruff/issues/6197","id":1829179251,"node_id":"I_kwDOHy0Bzc5tBw9z","number":6197,"title":"Formatter: Pragma comments","user":{"login":"MichaReiser","id":1203881,"node_id":"MDQ6VXNlcjEyMDM4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1203881?v=4","gravatar_id":"","url":"https://api.github.com/users/MichaReiser","html_url":"https://github.com/MichaReiser","followers_url":"https://api.github.com/users/MichaReiser/followers","following_url":"https://api.github.com/users/MichaReiser/following{/other_user}","gists_url":"https://api.github.com/users/MichaReiser/gists{/gist_id}","starred_url":"https://api.github.com/users/MichaReiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichaReiser/subscriptions","organizations_url":"https://api.github.com/users/MichaReiser/orgs","repos_url":"https://api.github.com/users/MichaReiser/repos","events_url":"https://api.github.com/users/MichaReiser/events{/privacy}","received_events_url":"https://api.github.com/users/MichaReiser/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":5151519345,"node_id":"LA_kwDOHy0Bzc8AAAABMw3ycQ","url":"https://api.github.com/repos/astral-sh/ruff/labels/formatter","name":"formatter","color":"8BF3F0","default":false,"description":"Related to the formatter"}],"state":"closed","locked":false,"assignee":{"login":"MichaReiser","id":1203881,"node_id":"MDQ6VXNlcjEyMDM4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1203881?v=4","gravatar_id":"","url":"https://api.github.com/users/MichaReiser","html_url":"https://github.com/MichaReiser","followers_url":"https://api.github.com/users/MichaReiser/followers","following_url":"https://api.github.com/users/MichaReiser/following{/other_user}","gists_url":"https://api.github.com/users/MichaReiser/gists{/gist_id}","starred_url":"https://api.github.com/users/MichaReiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichaReiser/subscriptions","organizations_url":"https://api.github.com/users/MichaReiser/orgs","repos_url":"https://api.github.com/users/MichaReiser/repos","events_url":"https://api.github.com/users/MichaReiser/events{/privacy}","received_events_url":"https://api.github.com/users/MichaReiser/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"MichaReiser","id":1203881,"node_id":"MDQ6VXNlcjEyMDM4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1203881?v=4","gravatar_id":"","url":"https://api.github.com/users/MichaReiser","html_url":"https://github.com/MichaReiser","followers_url":"https://api.github.com/users/MichaReiser/followers","following_url":"https://api.github.com/users/MichaReiser/following{/other_user}","gists_url":"https://api.github.com/users/MichaReiser/gists{/gist_id}","starred_url":"https://api.github.com/users/MichaReiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichaReiser/subscriptions","organizations_url":"https://api.github.com/users/MichaReiser/orgs","repos_url":"https://api.github.com/users/MichaReiser/repos","events_url":"https://api.github.com/users/MichaReiser/events{/privacy}","received_events_url":"https://api.github.com/users/MichaReiser/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/astral-sh/ruff/milestones/4","html_url":"https://github.com/astral-sh/ruff/milestone/4","labels_url":"https://api.github.com/repos/astral-sh/ruff/milestones/4/labels","id":9722602,"node_id":"MI_kwDOHy0Bzc4AlFrq","number":4,"title":"Formatter: Alpha","description":"We know that we can match Black's current and future formatting closely. Some differences are acceptable, opt-in to the formatter may be hidden.","creator":{"login":"MichaReiser","id":1203881,"node_id":"MDQ6VXNlcjEyMDM4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1203881?v=4","gravatar_id":"","url":"https://api.github.com/users/MichaReiser","html_url":"https://github.com/MichaReiser","followers_url":"https://api.github.com/users/MichaReiser/followers","following_url":"https://api.github.com/users/MichaReiser/following{/other_user}","gists_url":"https://api.github.com/users/MichaReiser/gists{/gist_id}","starred_url":"https://api.github.com/users/MichaReiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichaReiser/subscriptions","organizations_url":"https://api.github.com/users/MichaReiser/orgs","repos_url":"https://api.github.com/users/MichaReiser/repos","events_url":"https://api.github.com/users/MichaReiser/events{/privacy}","received_events_url":"https://api.github.com/users/MichaReiser/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":73,"state":"closed","created_at":"2023-07-31T15:47:44Z","updated_at":"2023-09-12T15:57:43Z","due_on":"2023-09-12T07:00:00Z","closed_at":"2023-09-12T15:57:43Z"},"comments":10,"created_at":"2023-07-31T13:20:49Z","updated_at":"2023-09-01T11:27:38Z","closed_at":"2023-09-01T11:27:38Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":523043277,"node_id":"R_kgDOHy0BzQ","name":"ruff","full_name":"astral-sh/ruff","private":false,"owner":{"login":"astral-sh","id":115962839,"node_id":"O_kgDOBulz1w","avatar_url":"https://avatars.githubusercontent.com/u/115962839?v=4","gravatar_id":"","url":"https://api.github.com/users/astral-sh","html_url":"https://github.com/astral-sh","followers_url":"https://api.github.com/users/astral-sh/followers","following_url":"https://api.github.com/users/astral-sh/following{/other_user}","gists_url":"https://api.github.com/users/astral-sh/gists{/gist_id}","starred_url":"https://api.github.com/users/astral-sh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astral-sh/subscriptions","organizations_url":"https://api.github.com/users/astral-sh/orgs","repos_url":"https://api.github.com/users/astral-sh/repos","events_url":"https://api.github.com/users/astral-sh/events{/privacy}","received_events_url":"https://api.github.com/users/astral-sh/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/astral-sh/ruff","description":"An extremely fast Python linter and code formatter, written in Rust.","fork":false,"url":"https://api.github.com/repos/astral-sh/ruff","forks_url":"https://api.github.com/repos/astral-sh/ruff/forks","keys_url":"https://api.github.com/repos/astral-sh/ruff/keys{/key_id}","collaborators_url":"https://api.github.com/repos/astral-sh/ruff/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/astral-sh/ruff/teams","hooks_url":"https://api.github.com/repos/astral-sh/ruff/hooks","issue_events_url":"https://api.github.com/repos/astral-sh/ruff/issues/events{/number}","events_url":"https://api.github.com/repos/astral-sh/ruff/events","assignees_url":"https://api.github.com/repos/astral-sh/ruff/assignees{/user}","branches_url":"https://api.github.com/repos/astral-sh/ruff/branches{/branch}","tags_url":"https://api.github.com/repos/astral-sh/ruff/tags","blobs_url":"https://api.github.com/repos/astral-sh/ruff/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/astral-sh/ruff/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/astral-sh/ruff/git/refs{/sha}","trees_url":"https://api.github.com/repos/astral-sh/ruff/git/trees{/sha}","statuses_url":"https://api.github.com/repos/astral-sh/ruff/statuses/{sha}","languages_url":"https://api.github.com/repos/astral-sh/ruff/languages","stargazers_url":"https://api.github.com/repos/astral-sh/ruff/stargazers","contributors_url":"https://api.github.com/repos/astral-sh/ruff/contributors","subscribers_url":"https://api.github.com/repos/astral-sh/ruff/subscribers","subscription_url":"https://api.github.com/repos/astral-sh/ruff/subscription","commits_url":"https://api.github.com/repos/astral-sh/ruff/commits{/sha}","git_commits_url":"https://api.github.com/repos/astral-sh/ruff/git/commits{/sha}","comments_url":"https://api.github.com/repos/astral-sh/ruff/comments{/number}","issue_comment_url":"https://api.github.com/repos/astral-sh/ruff/issues/comments{/number}","contents_url":"https://api.github.com/repos/astral-sh/ruff/contents/{+path}","compare_url":"https://api.github.com/repos/astral-sh/ruff/compare/{base}...{head}","merges_url":"https://api.github.com/repos/astral-sh/ruff/merges","archive_url":"https://api.github.com/repos/astral-sh/ruff/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/astral-sh/ruff/downloads","issues_url":"https://api.github.com/repos/astral-sh/ruff/issues{/number}","pulls_url":"https://api.github.com/repos/astral-sh/ruff/pulls{/number}","milestones_url":"https://api.github.com/repos/astral-sh/ruff/milestones{/number}","notifications_url":"https://api.github.com/repos/astral-sh/ruff/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/astral-sh/ruff/labels{/name}","releases_url":"https://api.github.com/repos/astral-sh/ruff/releases{/id}","deployments_url":"https://api.github.com/repos/astral-sh/ruff/deployments","created_at":"2022-08-09T17:17:44Z","updated_at":"2025-11-09T17:02:18Z","pushed_at":"2025-11-08T20:00:54Z","git_url":"git://github.com/astral-sh/ruff.git","ssh_url":"git@github.com:astral-sh/ruff.git","clone_url":"https://github.com/astral-sh/ruff.git","svn_url":"https://github.com/astral-sh/ruff","homepage":"https://docs.astral.sh/ruff","size":101742,"stargazers_count":43662,"watchers_count":43662,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1604,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1806,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","pep8","python","python3","ruff","rust","rustpython","static-analysis","static-code-analysis","style-guide","styleguide"],"visibility":"public","forks":1604,"open_issues":1806,"watchers":43662,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"See https://github.com/astral-sh/ruff/discussions/6670 for the proposal for the details:\r\n\r\n* [x] https://github.com/astral-sh/ruff/issues/5630\r\n* [x] #6771\r\n* [x] #6772\r\n\r\n","reactions":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/6197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/astral-sh/ruff/issues/6197/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"MaksimZayats","id":49313691,"node_id":"MDQ6VXNlcjQ5MzEzNjkx","avatar_url":"https://avatars.githubusercontent.com/u/49313691?v=4","gravatar_id":"","url":"https://api.github.com/users/MaksimZayats","html_url":"https://github.com/MaksimZayats","followers_url":"https://api.github.com/users/MaksimZayats/followers","following_url":"https://api.github.com/users/MaksimZayats/following{/other_user}","gists_url":"https://api.github.com/users/MaksimZayats/gists{/gist_id}","starred_url":"https://api.github.com/users/MaksimZayats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaksimZayats/subscriptions","organizations_url":"https://api.github.com/users/MaksimZayats/orgs","repos_url":"https://api.github.com/users/MaksimZayats/repos","events_url":"https://api.github.com/users/MaksimZayats/events{/privacy}","received_events_url":"https://api.github.com/users/MaksimZayats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-06T20:25:46Z","updated_at":"2024-03-06T20:25:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/8286","repository_url":"https://api.github.com/repos/astral-sh/ruff","labels_url":"https://api.github.com/repos/astral-sh/ruff/issues/8286/labels{/name}","comments_url":"https://api.github.com/repos/astral-sh/ruff/issues/8286/comments","events_url":"https://api.github.com/repos/astral-sh/ruff/issues/8286/events","html_url":"https://github.com/astral-sh/ruff/issues/8286","id":1965974781,"node_id":"I_kwDOHy0Bzc51LmT9","number":8286,"title":"Format Should Preserve Type Ignore Sub Expression","user":{"login":"saulshanabrook","id":1186124,"node_id":"MDQ6VXNlcjExODYxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1186124?v=4","gravatar_id":"","url":"https://api.github.com/users/saulshanabrook","html_url":"https://github.com/saulshanabrook","followers_url":"https://api.github.com/users/saulshanabrook/followers","following_url":"https://api.github.com/users/saulshanabrook/following{/other_user}","gists_url":"https://api.github.com/users/saulshanabrook/gists{/gist_id}","starred_url":"https://api.github.com/users/saulshanabrook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saulshanabrook/subscriptions","organizations_url":"https://api.github.com/users/saulshanabrook/orgs","repos_url":"https://api.github.com/users/saulshanabrook/repos","events_url":"https://api.github.com/users/saulshanabrook/events{/privacy}","received_events_url":"https://api.github.com/users/saulshanabrook/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":5151519345,"node_id":"LA_kwDOHy0Bzc8AAAABMw3ycQ","url":"https://api.github.com/repos/astral-sh/ruff/labels/formatter","name":"formatter","color":"8BF3F0","default":false,"description":"Related to the formatter"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2023-10-27T18:03:31Z","updated_at":"2025-05-24T17:59:53Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":523043277,"node_id":"R_kgDOHy0BzQ","name":"ruff","full_name":"astral-sh/ruff","private":false,"owner":{"login":"astral-sh","id":115962839,"node_id":"O_kgDOBulz1w","avatar_url":"https://avatars.githubusercontent.com/u/115962839?v=4","gravatar_id":"","url":"https://api.github.com/users/astral-sh","html_url":"https://github.com/astral-sh","followers_url":"https://api.github.com/users/astral-sh/followers","following_url":"https://api.github.com/users/astral-sh/following{/other_user}","gists_url":"https://api.github.com/users/astral-sh/gists{/gist_id}","starred_url":"https://api.github.com/users/astral-sh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astral-sh/subscriptions","organizations_url":"https://api.github.com/users/astral-sh/orgs","repos_url":"https://api.github.com/users/astral-sh/repos","events_url":"https://api.github.com/users/astral-sh/events{/privacy}","received_events_url":"https://api.github.com/users/astral-sh/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/astral-sh/ruff","description":"An extremely fast Python linter and code formatter, written in Rust.","fork":false,"url":"https://api.github.com/repos/astral-sh/ruff","forks_url":"https://api.github.com/repos/astral-sh/ruff/forks","keys_url":"https://api.github.com/repos/astral-sh/ruff/keys{/key_id}","collaborators_url":"https://api.github.com/repos/astral-sh/ruff/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/astral-sh/ruff/teams","hooks_url":"https://api.github.com/repos/astral-sh/ruff/hooks","issue_events_url":"https://api.github.com/repos/astral-sh/ruff/issues/events{/number}","events_url":"https://api.github.com/repos/astral-sh/ruff/events","assignees_url":"https://api.github.com/repos/astral-sh/ruff/assignees{/user}","branches_url":"https://api.github.com/repos/astral-sh/ruff/branches{/branch}","tags_url":"https://api.github.com/repos/astral-sh/ruff/tags","blobs_url":"https://api.github.com/repos/astral-sh/ruff/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/astral-sh/ruff/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/astral-sh/ruff/git/refs{/sha}","trees_url":"https://api.github.com/repos/astral-sh/ruff/git/trees{/sha}","statuses_url":"https://api.github.com/repos/astral-sh/ruff/statuses/{sha}","languages_url":"https://api.github.com/repos/astral-sh/ruff/languages","stargazers_url":"https://api.github.com/repos/astral-sh/ruff/stargazers","contributors_url":"https://api.github.com/repos/astral-sh/ruff/contributors","subscribers_url":"https://api.github.com/repos/astral-sh/ruff/subscribers","subscription_url":"https://api.github.com/repos/astral-sh/ruff/subscription","commits_url":"https://api.github.com/repos/astral-sh/ruff/commits{/sha}","git_commits_url":"https://api.github.com/repos/astral-sh/ruff/git/commits{/sha}","comments_url":"https://api.github.com/repos/astral-sh/ruff/comments{/number}","issue_comment_url":"https://api.github.com/repos/astral-sh/ruff/issues/comments{/number}","contents_url":"https://api.github.com/repos/astral-sh/ruff/contents/{+path}","compare_url":"https://api.github.com/repos/astral-sh/ruff/compare/{base}...{head}","merges_url":"https://api.github.com/repos/astral-sh/ruff/merges","archive_url":"https://api.github.com/repos/astral-sh/ruff/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/astral-sh/ruff/downloads","issues_url":"https://api.github.com/repos/astral-sh/ruff/issues{/number}","pulls_url":"https://api.github.com/repos/astral-sh/ruff/pulls{/number}","milestones_url":"https://api.github.com/repos/astral-sh/ruff/milestones{/number}","notifications_url":"https://api.github.com/repos/astral-sh/ruff/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/astral-sh/ruff/labels{/name}","releases_url":"https://api.github.com/repos/astral-sh/ruff/releases{/id}","deployments_url":"https://api.github.com/repos/astral-sh/ruff/deployments","created_at":"2022-08-09T17:17:44Z","updated_at":"2025-11-09T17:02:18Z","pushed_at":"2025-11-08T20:00:54Z","git_url":"git://github.com/astral-sh/ruff.git","ssh_url":"git@github.com:astral-sh/ruff.git","clone_url":"https://github.com/astral-sh/ruff.git","svn_url":"https://github.com/astral-sh/ruff","homepage":"https://docs.astral.sh/ruff","size":101742,"stargazers_count":43662,"watchers_count":43662,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1604,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1806,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","pep8","python","python3","ruff","rust","rustpython","static-analysis","static-code-analysis","style-guide","styleguide"],"visibility":"public","forks":1604,"open_issues":1806,"watchers":43662,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"It seems that the ruff formatter will collapse a multi line expression with a `# type: ignore` to one line, unlike black. \r\n\r\nI would like to keep the existing line split, if possible, since this limits the type ignore to one piece of the statement, instead of all of it. That way, if there is a type error in one of the other parts of the statement they are still caught by the type checker.\r\n\r\nThis is similar to https://github.com/astral-sh/ruff/issues/7730 but the issue here is not that the line ends up being too long, but that it changes the semantics of the type checker.\r\n\r\nExample:\r\n\r\n```diff\r\n$ ruff format . --diff\r\n--- python/egglog/egraph.py\r\n+++ python/egglog/egraph.py\r\n@@ -536,9 +536,7 @@\r\n \r\n         # If this is the class for this method and we have a paramaterized class, recurse\r\n         if (\r\n-            cls_type_and_name\r\n-            and isinstance(tp, _GenericAlias)\r\n-            and tp.__origin__ == cls_type_and_name[0]  # type: ignore\r\n+            cls_type_and_name and isinstance(tp, _GenericAlias) and tp.__origin__ == cls_type_and_name[0]  # type: ignore\r\n         ):\r\n             return TypeRefWithVars(\r\n                 cls_type_and_name[1],\r\n\r\n1 file would be reformatted, 25 files left unchanged\r\n$ ruff --version\r\nruff 0.1.3\r\n```\r\n\r\nSettings:\r\n\r\n```toml\r\n[tool.ruff]\r\n# Allow lines to be as long as 120.\r\nline-length = 120\r\nignore = [\r\n    # allow star imports\r\n    \"F405\",\r\n    \"F403\",\r\n    # Dont care if cls isnt typed explicitly in classmethod\r\n    \"ANN102\",\r\n    # Same for self\r\n    \"ANN101\",\r\n    # Allow single line docstrings on multiple lines\r\n    \"D200\",\r\n    \"D212\",\r\n    # Inconsistant formatting\r\n    \"D203\",\r\n    \"COM812\",\r\n    \"COM819\",\r\n    \"E501\",\r\n    \"ISC001\",\r\n    \"Q001\",\r\n    \"Q002\",\r\n    \"Q003\",\r\n    \"W191\",\r\n    \"Q000\",\r\n    \"D206\",\r\n    # TODO: Remove the rest of these eventually\r\n    # Allow public methods to not have docstrings\r\n    \"D102\",\r\n    # Allow longer messages for custom errors\r\n    \"TRY003\",\r\n    # Allow f-string in exceptions\r\n    \"EM102\",\r\n]\r\nsrc = [\"python\"]\r\nselect = [\"ALL\"]\r\nextend-exclude = [\"python/tests\"]\r\n```","reactions":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/8286/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/astral-sh/ruff/issues/8286/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]