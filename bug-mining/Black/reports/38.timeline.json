[{"url":"https://api.github.com/repos/psf/black/issues/comments/378733313","html_url":"https://github.com/psf/black/issues/99#issuecomment-378733313","issue_url":"https://api.github.com/repos/psf/black/issues/99","id":378733313,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODczMzMxMw==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T20:24:42Z","updated_at":"2018-04-04T20:24:42Z","body":"Thanks for reporting!\r\n\r\nThe few files that cannot be parsed are a bug, I'll fix those. The one that produces invalid code is also a bug. For the ones where you can't use `--safe`, well, you can't use `--safe` on those files. Re-run with `--fast`.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/378733313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/378858548","html_url":"https://github.com/psf/black/issues/99#issuecomment-378858548","issue_url":"https://api.github.com/repos/psf/black/issues/99","id":378858548,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODg1ODU0OA==","user":{"login":"zsol","id":66740,"node_id":"MDQ6VXNlcjY2NzQw","avatar_url":"https://avatars.githubusercontent.com/u/66740?v=4","gravatar_id":"","url":"https://api.github.com/users/zsol","html_url":"https://github.com/zsol","followers_url":"https://api.github.com/users/zsol/followers","following_url":"https://api.github.com/users/zsol/following{/other_user}","gists_url":"https://api.github.com/users/zsol/gists{/gist_id}","starred_url":"https://api.github.com/users/zsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsol/subscriptions","organizations_url":"https://api.github.com/users/zsol/orgs","repos_url":"https://api.github.com/users/zsol/repos","events_url":"https://api.github.com/users/zsol/events{/privacy}","received_events_url":"https://api.github.com/users/zsol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T08:26:01Z","updated_at":"2018-04-05T08:26:01Z","body":"That invalid code looks like a bug in string normalization.\r\nThis:\r\n```\r\n        y = '\\n\\\r\nThe \\\"quick\\\"\\n\\\r\nbrown fox\\n\\\r\njumps over\\n\\\r\nthe \\'lazy\\' dog.\\n\\\r\n'\r\n```\r\n\r\nIs converted to\r\n```\r\n        y = \"\\n\\\r\nThe \\\\\"quick\\\\\"\\n\\\r\nbrown fox\\n\\\r\njumps over\\n\\\r\nthe 'lazy' dog.\\n\\\r\n\"\r\n```\r\n\r\nI'll fix this","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/378858548/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zsol","id":66740,"node_id":"MDQ6VXNlcjY2NzQw","avatar_url":"https://avatars.githubusercontent.com/u/66740?v=4","gravatar_id":"","url":"https://api.github.com/users/zsol","html_url":"https://github.com/zsol","followers_url":"https://api.github.com/users/zsol/followers","following_url":"https://api.github.com/users/zsol/following{/other_user}","gists_url":"https://api.github.com/users/zsol/gists{/gist_id}","starred_url":"https://api.github.com/users/zsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsol/subscriptions","organizations_url":"https://api.github.com/users/zsol/orgs","repos_url":"https://api.github.com/users/zsol/repos","events_url":"https://api.github.com/users/zsol/events{/privacy}","received_events_url":"https://api.github.com/users/zsol/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/378870354","html_url":"https://github.com/psf/black/issues/99#issuecomment-378870354","issue_url":"https://api.github.com/repos/psf/black/issues/99","id":378870354,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODg3MDM1NA==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T09:10:06Z","updated_at":"2018-04-05T09:10:06Z","body":"@zsol, another example:\r\n```\r\n-escapesre = re.compile(r'[\\\\\"]')\r\n+escapesre = re.compile(r\"[\\\\\"]\")\r\n```","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/378870354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1558270937,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU1ODI3MDkzNw==","url":"https://api.github.com/repos/psf/black/issues/events/1558270937","actor":{"login":"zsol","id":66740,"node_id":"MDQ6VXNlcjY2NzQw","avatar_url":"https://avatars.githubusercontent.com/u/66740?v=4","gravatar_id":"","url":"https://api.github.com/users/zsol","html_url":"https://github.com/zsol","followers_url":"https://api.github.com/users/zsol/followers","following_url":"https://api.github.com/users/zsol/following{/other_user}","gists_url":"https://api.github.com/users/zsol/gists{/gist_id}","starred_url":"https://api.github.com/users/zsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsol/subscriptions","organizations_url":"https://api.github.com/users/zsol/orgs","repos_url":"https://api.github.com/users/zsol/repos","events_url":"https://api.github.com/users/zsol/events{/privacy}","received_events_url":"https://api.github.com/users/zsol/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-05T09:10:06Z","performed_via_github_app":null},{"id":1558270939,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1NTgyNzA5Mzk=","url":"https://api.github.com/repos/psf/black/issues/events/1558270939","actor":{"login":"zsol","id":66740,"node_id":"MDQ6VXNlcjY2NzQw","avatar_url":"https://avatars.githubusercontent.com/u/66740?v=4","gravatar_id":"","url":"https://api.github.com/users/zsol","html_url":"https://github.com/zsol","followers_url":"https://api.github.com/users/zsol/followers","following_url":"https://api.github.com/users/zsol/following{/other_user}","gists_url":"https://api.github.com/users/zsol/gists{/gist_id}","starred_url":"https://api.github.com/users/zsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsol/subscriptions","organizations_url":"https://api.github.com/users/zsol/orgs","repos_url":"https://api.github.com/users/zsol/repos","events_url":"https://api.github.com/users/zsol/events{/privacy}","received_events_url":"https://api.github.com/users/zsol/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-05T09:10:06Z","performed_via_github_app":null},{"actor":{"login":"zsol","id":66740,"node_id":"MDQ6VXNlcjY2NzQw","avatar_url":"https://avatars.githubusercontent.com/u/66740?v=4","gravatar_id":"","url":"https://api.github.com/users/zsol","html_url":"https://github.com/zsol","followers_url":"https://api.github.com/users/zsol/followers","following_url":"https://api.github.com/users/zsol/following{/other_user}","gists_url":"https://api.github.com/users/zsol/gists{/gist_id}","starred_url":"https://api.github.com/users/zsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsol/subscriptions","organizations_url":"https://api.github.com/users/zsol/orgs","repos_url":"https://api.github.com/users/zsol/repos","events_url":"https://api.github.com/users/zsol/events{/privacy}","received_events_url":"https://api.github.com/users/zsol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T09:19:33Z","updated_at":"2018-04-05T09:19:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/110","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/110/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/110/comments","events_url":"https://api.github.com/repos/psf/black/issues/110/events","html_url":"https://github.com/psf/black/pull/110","id":311532935,"node_id":"MDExOlB1bGxSZXF1ZXN0MTc5NjE2ODE2","number":110,"title":"Handle arbitrary number of backslashes during string normalization","user":{"login":"zsol","id":66740,"node_id":"MDQ6VXNlcjY2NzQw","avatar_url":"https://avatars.githubusercontent.com/u/66740?v=4","gravatar_id":"","url":"https://api.github.com/users/zsol","html_url":"https://github.com/zsol","followers_url":"https://api.github.com/users/zsol/followers","following_url":"https://api.github.com/users/zsol/following{/other_user}","gists_url":"https://api.github.com/users/zsol/gists{/gist_id}","starred_url":"https://api.github.com/users/zsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsol/subscriptions","organizations_url":"https://api.github.com/users/zsol/orgs","repos_url":"https://api.github.com/users/zsol/repos","events_url":"https://api.github.com/users/zsol/events{/privacy}","received_events_url":"https://api.github.com/users/zsol/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-05T09:19:33Z","updated_at":"2018-04-05T09:28:47Z","closed_at":"2018-04-05T09:28:47Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/psf/black/pulls/110","html_url":"https://github.com/psf/black/pull/110","diff_url":"https://github.com/psf/black/pull/110.diff","patch_url":"https://github.com/psf/black/pull/110.patch","merged_at":"2018-04-05T09:28:47Z"},"body":"This should handle the issue found in #99 where black would output invalid code","reactions":{"url":"https://api.github.com/repos/psf/black/issues/110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/110/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T16:11:30Z","updated_at":"2018-04-05T16:11:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/112","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/112/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/112/comments","events_url":"https://api.github.com/repos/psf/black/issues/112/events","html_url":"https://github.com/psf/black/issues/112","id":311553492,"node_id":"MDU6SXNzdWUzMTE1NTM0OTI=","number":112,"title":"Cannot parse: 5:0:         # add_compiler(compiler)","user":{"login":"hugovk","id":1324225,"node_id":"MDQ6VXNlcjEzMjQyMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1324225?v=4","gravatar_id":"","url":"https://api.github.com/users/hugovk","html_url":"https://github.com/hugovk","followers_url":"https://api.github.com/users/hugovk/followers","following_url":"https://api.github.com/users/hugovk/following{/other_user}","gists_url":"https://api.github.com/users/hugovk/gists{/gist_id}","starred_url":"https://api.github.com/users/hugovk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hugovk/subscriptions","organizations_url":"https://api.github.com/users/hugovk/orgs","repos_url":"https://api.github.com/users/hugovk/repos","events_url":"https://api.github.com/users/hugovk/events{/privacy}","received_events_url":"https://api.github.com/users/hugovk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432792,"node_id":"MDU6TGFiZWw4Njc0MzI3OTI=","url":"https://api.github.com/repos/psf/black/labels/T:%20bug","name":"T: bug","color":"d73a4a","default":false,"description":"Something isn't working"},{"id":869137302,"node_id":"MDU6TGFiZWw4NjkxMzczMDI=","url":"https://api.github.com/repos/psf/black/labels/F:%20comments","name":"F: comments","color":"BFD4F2","default":false,"description":"The syntactic kind. Not in the language grammar, always on our minds. Best bugs."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-05T10:21:34Z","updated_at":"2018-04-12T06:30:18Z","closed_at":"2018-04-12T06:30:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Operating system: macOS High Sierra\r\nPython version: 3.6.4\r\nBlack version: 18.4a0\r\nDoes also happen on master: Yes\r\n\r\n```console\r\n$ cat 1.py\r\n```\r\n\r\n```python\r\nif 'PYTHON' in os.environ:\r\n    add_compiler(compiler_from_env())\r\nelse:\r\n    # for compiler in compilers.values():\r\n        # add_compiler(compiler)\r\n    add_compiler(compilers[(7.0, 32)])\r\n    # add_compiler(compilers[(7.1, 64)])\r\n```\r\n\r\n```console\r\n$ black 1.py\r\nerror: cannot format 1.py: Cannot parse: 5:0:         # add_compiler(compiler)\r\n```","reactions":{"url":"https://api.github.com/repos/psf/black/issues/112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/112/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1559162407,"node_id":"MDEyOkxhYmVsZWRFdmVudDE1NTkxNjI0MDc=","url":"https://api.github.com/repos/psf/black/issues/events/1559162407","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-04-05T16:21:02Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":1559162413,"node_id":"MDEyOkxhYmVsZWRFdmVudDE1NTkxNjI0MTM=","url":"https://api.github.com/repos/psf/black/issues/events/1559162413","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-04-05T16:21:02Z","label":{"name":"lib2to3","color":"000000"},"performed_via_github_app":null},{"id":1559162422,"node_id":"MDEyOkxhYmVsZWRFdmVudDE1NTkxNjI0MjI=","url":"https://api.github.com/repos/psf/black/issues/events/1559162422","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-04-05T16:21:02Z","label":{"name":"comments","color":"ff00aa"},"performed_via_github_app":null},{"id":1570190579,"node_id":"MDExOkNsb3NlZEV2ZW50MTU3MDE5MDU3OQ==","url":"https://api.github.com/repos/psf/black/issues/events/1570190579","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"9138a75b759ecb690d63924503f88bfbc82d4862","commit_url":"https://api.github.com/repos/psf/black/commits/9138a75b759ecb690d63924503f88bfbc82d4862","created_at":"2018-04-12T06:30:18Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"ConnectedSystems","id":4075136,"node_id":"MDQ6VXNlcjQwNzUxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/4075136?v=4","gravatar_id":"","url":"https://api.github.com/users/ConnectedSystems","html_url":"https://github.com/ConnectedSystems","followers_url":"https://api.github.com/users/ConnectedSystems/followers","following_url":"https://api.github.com/users/ConnectedSystems/following{/other_user}","gists_url":"https://api.github.com/users/ConnectedSystems/gists{/gist_id}","starred_url":"https://api.github.com/users/ConnectedSystems/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConnectedSystems/subscriptions","organizations_url":"https://api.github.com/users/ConnectedSystems/orgs","repos_url":"https://api.github.com/users/ConnectedSystems/repos","events_url":"https://api.github.com/users/ConnectedSystems/events{/privacy}","received_events_url":"https://api.github.com/users/ConnectedSystems/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-28T04:07:22Z","updated_at":"2021-01-28T04:07:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/SDXorg/pysd/issues/234","repository_url":"https://api.github.com/repos/SDXorg/pysd","labels_url":"https://api.github.com/repos/SDXorg/pysd/issues/234/labels{/name}","comments_url":"https://api.github.com/repos/SDXorg/pysd/issues/234/comments","events_url":"https://api.github.com/repos/SDXorg/pysd/issues/234/events","html_url":"https://github.com/SDXorg/pysd/issues/234","id":795648704,"node_id":"MDU6SXNzdWU3OTU2NDg3MDQ=","number":234,"title":"Black raises error on formatting multiline string","user":{"login":"ConnectedSystems","id":4075136,"node_id":"MDQ6VXNlcjQwNzUxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/4075136?v=4","gravatar_id":"","url":"https://api.github.com/users/ConnectedSystems","html_url":"https://github.com/ConnectedSystems","followers_url":"https://api.github.com/users/ConnectedSystems/followers","following_url":"https://api.github.com/users/ConnectedSystems/following{/other_user}","gists_url":"https://api.github.com/users/ConnectedSystems/gists{/gist_id}","starred_url":"https://api.github.com/users/ConnectedSystems/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConnectedSystems/subscriptions","organizations_url":"https://api.github.com/users/ConnectedSystems/orgs","repos_url":"https://api.github.com/users/ConnectedSystems/repos","events_url":"https://api.github.com/users/ConnectedSystems/events{/privacy}","received_events_url":"https://api.github.com/users/ConnectedSystems/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-01-28T04:07:21Z","updated_at":"2021-02-11T08:41:22Z","closed_at":"2021-02-11T08:41:22Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":15228266,"node_id":"MDEwOlJlcG9zaXRvcnkxNTIyODI2Ng==","name":"pysd","full_name":"SDXorg/pysd","private":false,"owner":{"login":"SDXorg","id":11491926,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNDkxOTI2","avatar_url":"https://avatars.githubusercontent.com/u/11491926?v=4","gravatar_id":"","url":"https://api.github.com/users/SDXorg","html_url":"https://github.com/SDXorg","followers_url":"https://api.github.com/users/SDXorg/followers","following_url":"https://api.github.com/users/SDXorg/following{/other_user}","gists_url":"https://api.github.com/users/SDXorg/gists{/gist_id}","starred_url":"https://api.github.com/users/SDXorg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SDXorg/subscriptions","organizations_url":"https://api.github.com/users/SDXorg/orgs","repos_url":"https://api.github.com/users/SDXorg/repos","events_url":"https://api.github.com/users/SDXorg/events{/privacy}","received_events_url":"https://api.github.com/users/SDXorg/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/SDXorg/pysd","description":"System Dynamics Modeling in Python","fork":false,"url":"https://api.github.com/repos/SDXorg/pysd","forks_url":"https://api.github.com/repos/SDXorg/pysd/forks","keys_url":"https://api.github.com/repos/SDXorg/pysd/keys{/key_id}","collaborators_url":"https://api.github.com/repos/SDXorg/pysd/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/SDXorg/pysd/teams","hooks_url":"https://api.github.com/repos/SDXorg/pysd/hooks","issue_events_url":"https://api.github.com/repos/SDXorg/pysd/issues/events{/number}","events_url":"https://api.github.com/repos/SDXorg/pysd/events","assignees_url":"https://api.github.com/repos/SDXorg/pysd/assignees{/user}","branches_url":"https://api.github.com/repos/SDXorg/pysd/branches{/branch}","tags_url":"https://api.github.com/repos/SDXorg/pysd/tags","blobs_url":"https://api.github.com/repos/SDXorg/pysd/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/SDXorg/pysd/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/SDXorg/pysd/git/refs{/sha}","trees_url":"https://api.github.com/repos/SDXorg/pysd/git/trees{/sha}","statuses_url":"https://api.github.com/repos/SDXorg/pysd/statuses/{sha}","languages_url":"https://api.github.com/repos/SDXorg/pysd/languages","stargazers_url":"https://api.github.com/repos/SDXorg/pysd/stargazers","contributors_url":"https://api.github.com/repos/SDXorg/pysd/contributors","subscribers_url":"https://api.github.com/repos/SDXorg/pysd/subscribers","subscription_url":"https://api.github.com/repos/SDXorg/pysd/subscription","commits_url":"https://api.github.com/repos/SDXorg/pysd/commits{/sha}","git_commits_url":"https://api.github.com/repos/SDXorg/pysd/git/commits{/sha}","comments_url":"https://api.github.com/repos/SDXorg/pysd/comments{/number}","issue_comment_url":"https://api.github.com/repos/SDXorg/pysd/issues/comments{/number}","contents_url":"https://api.github.com/repos/SDXorg/pysd/contents/{+path}","compare_url":"https://api.github.com/repos/SDXorg/pysd/compare/{base}...{head}","merges_url":"https://api.github.com/repos/SDXorg/pysd/merges","archive_url":"https://api.github.com/repos/SDXorg/pysd/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/SDXorg/pysd/downloads","issues_url":"https://api.github.com/repos/SDXorg/pysd/issues{/number}","pulls_url":"https://api.github.com/repos/SDXorg/pysd/pulls{/number}","milestones_url":"https://api.github.com/repos/SDXorg/pysd/milestones{/number}","notifications_url":"https://api.github.com/repos/SDXorg/pysd/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/SDXorg/pysd/labels{/name}","releases_url":"https://api.github.com/repos/SDXorg/pysd/releases{/id}","deployments_url":"https://api.github.com/repos/SDXorg/pysd/deployments","created_at":"2013-12-16T14:43:20Z","updated_at":"2025-11-06T03:50:15Z","pushed_at":"2025-11-03T12:05:02Z","git_url":"git://github.com/SDXorg/pysd.git","ssh_url":"git@github.com:SDXorg/pysd.git","clone_url":"https://github.com/SDXorg/pysd.git","svn_url":"https://github.com/SDXorg/pysd","homepage":"http://pysd.readthedocs.org/","size":23884,"stargazers_count":430,"watchers_count":430,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":93,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":44,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":93,"open_issues":44,"watchers":430,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"When calling `translate_xmile()`, I run into the following error:\r\n\r\n\"black.InvalidInput: Cannot parse: 5:0:     from os import path\"\r\n\r\nThis appears to be caused by the string content having initial tabs from multiline string definition\r\nSee (although these issues are closed - may be a regression?):\r\n* https://github.com/psf/black/issues/112\r\n* https://github.com/psf/black/issues/99\r\n\r\nI have a work around in place for now which is to remove the initial whitespace from the multiline string (2nd line in snippet below):\r\n\r\n```python\r\ntext = text.replace('\\t', '    ')\r\ntext = \"\\n\".join([t[4:] for t in text.split(\"\\n\")])\r\n\r\ntext = black.format_file_contents(text, fast=True,\r\n                                      mode=black.FileMode())\r\n```\r\n\r\nhttps://github.com/JamesPHoughton/pysd/blob/9f61767d4ccd0cd86bd6fb5df0c3902088555c9f/pysd/py_backend/builder.py#L127\r\n\r\nCan submit a PR if acceptable","reactions":{"url":"https://api.github.com/repos/SDXorg/pysd/issues/234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/SDXorg/pysd/issues/234/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]