[{"url":"https://api.github.com/repos/psf/black/issues/comments/377548872","html_url":"https://github.com/psf/black/issues/90#issuecomment-377548872","issue_url":"https://api.github.com/repos/psf/black/issues/90","id":377548872,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzU0ODg3Mg==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-30T15:24:32Z","updated_at":"2018-03-30T15:24:32Z","body":"If return is your last statement in a function, it already receives an extra empty line or two because of function separation.\r\n\r\nIf you escape early from a function or loop, this is easier to miss. This extra newline helps the reader to consider the change in flow. You're right that you can think of it as a separator from what comes after. After all, you shouldn't just keep reading as if it was still the same block.\r\n\r\nDo those extra lines prevent you from doing something you could do otherwise?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/377548872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/377589166","html_url":"https://github.com/psf/black/issues/90#issuecomment-377589166","issue_url":"https://api.github.com/repos/psf/black/issues/90","id":377589166,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzU4OTE2Ng==","user":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-30T18:23:16Z","updated_at":"2018-03-30T18:23:16Z","body":"> Do those extra lines prevent you from doing something you could do otherwise?\r\n\r\nNope, it's just a style preference, so de gustibus non disputandum and all that. (No idea if I spelled that right.) But looking at the black diff on trio right now it's responsible for a huge proportion of the changes, and imo it makes things slightly worse in basically every case. I already \"use blank lines in functions, sparingly, to indicate logical sections\", as pep 8 says, and it's great that black now lets me do that (#19), but it's not so great that it also introduces a bunch of extra lines at places that aren't logical section breaks. I think we agree that it's really valuable to be able to take in the high level structure of a function at a glance, and that black lines are a powerful tool for expressing that structure; my objection is that black's super-simpler heuristic for \"structure\" ends up creating a bunch of spurious signals that make it harder for my eyes to see the real structure.\r\n\r\nI'm on my phone now, but I'll try to find some more concrete examples later.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/377589166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/377657157","html_url":"https://github.com/psf/black/issues/90#issuecomment-377657157","issue_url":"https://api.github.com/repos/psf/black/issues/90","id":377657157,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzY1NzE1Nw==","user":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-31T01:44:25Z","updated_at":"2018-03-31T01:44:25Z","body":"Okay, here's the promised examples.\r\n\r\nThere are a bunch of cases where the function is completely non-confusing and the extra line is pure clutter. For example, in both of these cases, you're seeing the whole function:\r\n\r\n```diff\r\n     async def wait_socket_readable(sock):\r\n         if type(sock) != _stdlib_socket.socket:\r\n             raise TypeError(\"need a socket\")\r\n+\r\n         await wait_readable(sock)\r\n```\r\n```diff\r\n    def capture(sync_fn, *args):\r\n         try:\r\n             return Value(sync_fn(*args))\r\n+\r\n         except BaseException as exc:\r\n             return Error(exc)\r\n```\r\n\r\nIn other cases, we have some genuinely complicated functions, like `trio.run`. The whole function body is too long to paste here, [but you can see it here](https://github.com/python-trio/trio/blob/24cf95a62e9c6b683f7f875201dc2649a33230d8/trio/_core/_run.py#L1198-L1245). If you follow that link, you'll see it already uses blank lines to divide the body into 4 logical sections: (1) pytest's magic `__tracebackhide__` declaration, (2) error checking, (3) interpreting arguments and setting up global state, (4) a chunk of complicated error handling logic with nested `try` and `with` blocks wrapped around the actual work (and then the work itself is factored out into a separate function). And in that last part, black inserts a number of newlines:\r\n\r\n```diff\r\n    try:\r\n        with ki_manager(\r\n            runner.deliver_ki, restrict_keyboard_interrupt_to_checkpoints\r\n        ):\r\n            try:\r\n                with closing(runner):\r\n                    # The main reason this is split off into its own function\r\n                    # is just to get rid of this extra indentation.\r\n                    result = run_impl(runner, async_fn, args)\r\n            except TrioInternalError:\r\n                raise\r\n+\r\n            except BaseException as exc:\r\n                raise TrioInternalError(\r\n                    \"internal error in trio - please file a bug!\"\r\n                ) from exc\r\n+\r\n            finally:\r\n                GLOBAL_RUN_CONTEXT.__dict__.clear()\r\n            return result.unwrap()\r\n+\r\n    finally:\r\n```\r\n\r\nThis really doesn't make sense to me to read, like -- how can you have a \"logical section\" break in between two `except` clauses? Or between the contents of a `try` and the contents of its `finally`? For the existing logical sections I could easily describe their high-level purpose, but I can't do that for these at all.\r\n\r\nAnyway, I know this is hair-splitting, hence the silly first message (I hope it came across as silly rather than whiney!). But it's genuinely unclear to me when this behavior would ever improve code â€“ maybe you're used to working on codebases with over-complicated control flow that [should be factored into multiple functions](https://github.com/ambv/black/issues/19#issuecomment-373562987)? :stuck_out_tongue_winking_eye: If black didn't respect manual newlines, then it would at least feel coherent: it's taking full control over the vertical layout, and making the best guesses it can. But after e911c79809c4fd9b0773dea5b6a0e710b59614cf it feels inconsistent that black is sometimes trying to control section breaks inside functions, and sometimes letting the user control it.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/377657157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/377672862","html_url":"https://github.com/psf/black/issues/90#issuecomment-377672862","issue_url":"https://api.github.com/repos/psf/black/issues/90","id":377672862,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzY3Mjg2Mg==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-31T07:20:34Z","updated_at":"2018-03-31T07:20:34Z","body":"> how can you have a \"logical section\" break in between two except clauses?\r\n\r\nLooking at the standard library, less than 1/3 of `except:` clauses have `raise` or `return` within. So in a majority of cases we don't break the flow when handling exceptions. An additional empty line showing that within a given block you *do* exit early helps differentiate between the two cases.\r\n\r\nYou asked why I put the empty lines *after* control flow statements. I do this because they *break* flow, so it seems natural to me they should also break visual flow of a function or loop. Why do I find it helpful? In code review I did over the last decade, I find that in changes that people make to code they didn't write (or don't remember), they surprisingly often make wrong assumptions about control flow. Or if they don't, the reviewers do. Combine this with insufficient testing and you get bad changes landing in the central repository.\r\n\r\nAnd I don't think you actually disagree with this. Where I see the core of our difference in opinion is that you believe in forming strict \"blocks\" of code using empty lines which disallows any other vertical whitespace. Funnily enough, I personally have an even stricter opinion on this: \"sections\" within functions are a smell. I said this much in the comment you referred to. In it, I also mentioned that if you really need sections, placing standalone comments that describe what those sections represent is the way to go. In this situation, it's the comments that form the \"block\", not the empty line alone.\r\n\r\nI agree with you that this was a message better sent when Black used to totally remove vertical whitespace from function bodies. But as expressed by others #19 (and quite a few conversations I had elsewhere), this is unpopular in the community and would seriously hurt the adoption of Black. It's not a hill I'm willing to die on.\r\n\r\nOn the other hand, I didn't get anybody else to object against making control flow statements prominent. I will need to gather more feedback. So far I'm *pretty strongly* in the \"it's worth it\" camp.\r\n\r\n---\r\n\r\nPS. If you want to see a pathological example of this style, look no further than in Black's own `whitespace` function. This is the part of the codebase I'm least proud of and will definitely refactor once the bigger rocks are dealt with. I actually like that the style highlights how ugly this function is. After all, it has a ridiculous cyclomatic complexity of over 70. Linus Torvalds would say [it's in poor taste](https://medium.com/@bartobri/applying-the-linus-tarvolds-good-taste-coding-requirement-99749f37684a) and I don't disagree.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/377672862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1550649302,"node_id":"MDEyOkxhYmVsZWRFdmVudDE1NTA2NDkzMDI=","url":"https://api.github.com/repos/psf/black/issues/events/1550649302","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-03-31T07:57:17Z","label":{"name":"design","color":"0052cc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/378724937","html_url":"https://github.com/psf/black/issues/90#issuecomment-378724937","issue_url":"https://api.github.com/repos/psf/black/issues/90","id":378724937,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODcyNDkzNw==","user":{"login":"roganov","id":1858503,"node_id":"MDQ6VXNlcjE4NTg1MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1858503?v=4","gravatar_id":"","url":"https://api.github.com/users/roganov","html_url":"https://github.com/roganov","followers_url":"https://api.github.com/users/roganov/followers","following_url":"https://api.github.com/users/roganov/following{/other_user}","gists_url":"https://api.github.com/users/roganov/gists{/gist_id}","starred_url":"https://api.github.com/users/roganov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roganov/subscriptions","organizations_url":"https://api.github.com/users/roganov/orgs","repos_url":"https://api.github.com/users/roganov/repos","events_url":"https://api.github.com/users/roganov/events{/privacy}","received_events_url":"https://api.github.com/users/roganov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-04T19:54:48Z","updated_at":"2018-04-04T19:54:48Z","body":"I truly believe that the only sane way for black is to do nothing more than collapsing 2+ blank lines into one. I agree that blank lines are a smell, but I don't understand why blank lines after control statements are better. It isn't consistent IMO.\r\n\r\nMeanwhile my nice little methods are getting broken up visually for no good reason:\r\n```python\r\n    def _convert_product_id(self, row: RowProxy) -> int:\r\n        try:\r\n            return int(row[\"CODE\"])\r\n\r\n        except (TypeError, ValueError):\r\n            raise IncompleteDataError(f\"invalid product_id: {row['CODE']}\")\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/378724937/reactions","total_count":14,"+1":14,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roganov","id":1858503,"node_id":"MDQ6VXNlcjE4NTg1MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1858503?v=4","gravatar_id":"","url":"https://api.github.com/users/roganov","html_url":"https://github.com/roganov","followers_url":"https://api.github.com/users/roganov/followers","following_url":"https://api.github.com/users/roganov/following{/other_user}","gists_url":"https://api.github.com/users/roganov/gists{/gist_id}","starred_url":"https://api.github.com/users/roganov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roganov/subscriptions","organizations_url":"https://api.github.com/users/roganov/orgs","repos_url":"https://api.github.com/users/roganov/repos","events_url":"https://api.github.com/users/roganov/events{/privacy}","received_events_url":"https://api.github.com/users/roganov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/383255532","html_url":"https://github.com/psf/black/issues/90#issuecomment-383255532","issue_url":"https://api.github.com/repos/psf/black/issues/90","id":383255532,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzI1NTUzMg==","user":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-21T00:55:57Z","updated_at":"2018-04-21T00:55:57Z","body":"I figured out a shorter way to express my position here :-). It is:\r\n\r\nBlank lines inside a function are effectively a kind of extra-terse comment. Comments are really tricky for a code formatter to handle, but they're crucial, because they're a way for developers to express intent and increase readability. Black shouldn't be in the business of adding or removing comments.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/383255532/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1592476239,"node_id":"MDExOkNsb3NlZEV2ZW50MTU5MjQ3NjIzOQ==","url":"https://api.github.com/repos/psf/black/issues/events/1592476239","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"b250aed47bf11240b460bf4ecb57ba3f28078fd1","commit_url":"https://api.github.com/repos/psf/black/commits/b250aed47bf11240b460bf4ecb57ba3f28078fd1","created_at":"2018-04-24T19:42:31Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/384055993","html_url":"https://github.com/psf/black/issues/90#issuecomment-384055993","issue_url":"https://api.github.com/repos/psf/black/issues/90","id":384055993,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDA1NTk5Mw==","user":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T19:44:27Z","updated_at":"2018-04-24T19:44:27Z","body":"You win, @njsmith. Thanks for taking the time to clearly express your opinion.\r\n\r\nFWIW, I still recommend making flow control statements prominent but I decided it's not worth alienating Black users over it.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/384055993/reactions","total_count":5,"+1":0,"-1":0,"laugh":0,"hooray":5,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ambv","id":55281,"node_id":"MDQ6VXNlcjU1Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/55281?v=4","gravatar_id":"","url":"https://api.github.com/users/ambv","html_url":"https://github.com/ambv","followers_url":"https://api.github.com/users/ambv/followers","following_url":"https://api.github.com/users/ambv/following{/other_user}","gists_url":"https://api.github.com/users/ambv/gists{/gist_id}","starred_url":"https://api.github.com/users/ambv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambv/subscriptions","organizations_url":"https://api.github.com/users/ambv/orgs","repos_url":"https://api.github.com/users/ambv/repos","events_url":"https://api.github.com/users/ambv/events{/privacy}","received_events_url":"https://api.github.com/users/ambv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1592479597,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU5MjQ3OTU5Nw==","url":"https://api.github.com/repos/psf/black/issues/events/1592479597","actor":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-24T19:44:27Z","performed_via_github_app":null},{"id":1592479598,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1OTI0Nzk1OTg=","url":"https://api.github.com/repos/psf/black/issues/events/1592479598","actor":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-24T19:44:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/384156416","html_url":"https://github.com/psf/black/issues/90#issuecomment-384156416","issue_url":"https://api.github.com/repos/psf/black/issues/90","id":384156416,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDE1NjQxNg==","user":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T04:21:13Z","updated_at":"2018-04-25T04:21:13Z","body":"Oh, excellent! I'll have to try black again :-). And thanks for being open to considering these things!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/384156416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"kbd","id":728060,"node_id":"MDQ6VXNlcjcyODA2MA==","avatar_url":"https://avatars.githubusercontent.com/u/728060?v=4","gravatar_id":"","url":"https://api.github.com/users/kbd","html_url":"https://github.com/kbd","followers_url":"https://api.github.com/users/kbd/followers","following_url":"https://api.github.com/users/kbd/following{/other_user}","gists_url":"https://api.github.com/users/kbd/gists{/gist_id}","starred_url":"https://api.github.com/users/kbd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbd/subscriptions","organizations_url":"https://api.github.com/users/kbd/orgs","repos_url":"https://api.github.com/users/kbd/repos","events_url":"https://api.github.com/users/kbd/events{/privacy}","received_events_url":"https://api.github.com/users/kbd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T07:50:12Z","updated_at":"2018-05-30T07:50:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/118","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/118/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/118/comments","events_url":"https://api.github.com/repos/psf/black/issues/118/events","html_url":"https://github.com/psf/black/issues/118","id":312464918,"node_id":"MDU6SXNzdWUzMTI0NjQ5MTg=","number":118,"title":"Single quotes option","user":{"login":"bofm","id":3646419,"node_id":"MDQ6VXNlcjM2NDY0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3646419?v=4","gravatar_id":"","url":"https://api.github.com/users/bofm","html_url":"https://github.com/bofm","followers_url":"https://api.github.com/users/bofm/followers","following_url":"https://api.github.com/users/bofm/following{/other_user}","gists_url":"https://api.github.com/users/bofm/gists{/gist_id}","starred_url":"https://api.github.com/users/bofm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bofm/subscriptions","organizations_url":"https://api.github.com/users/bofm/orgs","repos_url":"https://api.github.com/users/bofm/repos","events_url":"https://api.github.com/users/bofm/events{/privacy}","received_events_url":"https://api.github.com/users/bofm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":72,"created_at":"2018-04-09T09:50:50Z","updated_at":"2018-05-30T20:01:37Z","closed_at":"2018-05-30T19:56:36Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi! Although Black _now_ prefers doubles, can we have an option to keep single quotes? Forcing double quotes would make this great project unusable for many users who picked the rule of using single quotes.\r\n\r\nOperating system: MacOS\r\nPython version: 3.6\r\nBlack version: 18.4a0\r\nDoes also happen on master: yes\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/118/reactions","total_count":45,"+1":35,"-1":10,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/118/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"ftruzzi","id":461133,"node_id":"MDQ6VXNlcjQ2MTEzMw==","avatar_url":"https://avatars.githubusercontent.com/u/461133?v=4","gravatar_id":"","url":"https://api.github.com/users/ftruzzi","html_url":"https://github.com/ftruzzi","followers_url":"https://api.github.com/users/ftruzzi/followers","following_url":"https://api.github.com/users/ftruzzi/following{/other_user}","gists_url":"https://api.github.com/users/ftruzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/ftruzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ftruzzi/subscriptions","organizations_url":"https://api.github.com/users/ftruzzi/orgs","repos_url":"https://api.github.com/users/ftruzzi/repos","events_url":"https://api.github.com/users/ftruzzi/events{/privacy}","received_events_url":"https://api.github.com/users/ftruzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-08T10:18:12Z","updated_at":"2020-01-08T10:18:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/1219","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1219/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1219/comments","events_url":"https://api.github.com/repos/psf/black/issues/1219/events","html_url":"https://github.com/psf/black/issues/1219","id":545216237,"node_id":"MDU6SXNzdWU1NDUyMTYyMzc=","number":1219,"title":"Black should have an opinion about all blank lines","user":{"login":"john-bodley","id":4567245,"node_id":"MDQ6VXNlcjQ1NjcyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/4567245?v=4","gravatar_id":"","url":"https://api.github.com/users/john-bodley","html_url":"https://github.com/john-bodley","followers_url":"https://api.github.com/users/john-bodley/followers","following_url":"https://api.github.com/users/john-bodley/following{/other_user}","gists_url":"https://api.github.com/users/john-bodley/gists{/gist_id}","starred_url":"https://api.github.com/users/john-bodley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/john-bodley/subscriptions","organizations_url":"https://api.github.com/users/john-bodley/orgs","repos_url":"https://api.github.com/users/john-bodley/repos","events_url":"https://api.github.com/users/john-bodley/events{/privacy}","received_events_url":"https://api.github.com/users/john-bodley/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432796,"node_id":"MDU6TGFiZWw4Njc0MzI3OTY=","url":"https://api.github.com/repos/psf/black/labels/T:%20enhancement","name":"T: enhancement","color":"a2eeef","default":false,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-01-04T00:28:41Z","updated_at":"2021-08-18T03:45:31Z","closed_at":"2020-03-03T10:26:56Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Is your feature request related to a problem? Please describe.** \r\n\r\nThere are a number of open issues related to handling blank lines (https://github.com/psf/black/issues/932, https://github.com/psf/black/issues/355, etc.) but I was wondering whether Black should have an opinion about all blank lines to further ensure code consistency and remove unnecessary style nits. \r\n\r\nIn addition to existing issues in relation to blank lines around comments, docstrings, etc. I wonder if Black should also be opinionated about whether blank lines should be present either preceding, within, or succeeding: \r\n\r\n- if statements\r\n- loops\r\n- try/except blocks \r\n- multiline statements\r\n- return statements\r\n- inline functions\r\n- etc.\r\n\r\n**Describe the solution you'd like** \r\n\r\nPersonally for if statements, loops, try/except blocks, and multiline statements I prefer having a blank line preceding and succeeding the statement if the indentation level is the same, i.e., \r\n\r\n```python\r\ntry:\r\n    x = int(input())\r\n    x2 = x ** 2\r\n    \r\n    y = a_multiline_statement(\r\n        x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x\r\n    )\r\n\r\n    if x % 2 == 0:\r\n        print(\"even\")\r\n    else:\r\n        print(\"odd\")\r\n\r\n    for i in range(x):\r\n        for j in range(x):\r\n            if i != j:\r\n                print(i * j)\r\nexcept ValueError as e:\r\n    print(str(e))\r\n\r\n``` \r\n\r\n**Describe alternatives you've considered** \r\nNone.","reactions":{"url":"https://api.github.com/repos/psf/black/issues/1219/reactions","total_count":8,"+1":4,"-1":4,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1219/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"ichard26","id":63936253,"node_id":"MDQ6VXNlcjYzOTM2MjUz","avatar_url":"https://avatars.githubusercontent.com/u/63936253?v=4","gravatar_id":"","url":"https://api.github.com/users/ichard26","html_url":"https://github.com/ichard26","followers_url":"https://api.github.com/users/ichard26/followers","following_url":"https://api.github.com/users/ichard26/following{/other_user}","gists_url":"https://api.github.com/users/ichard26/gists{/gist_id}","starred_url":"https://api.github.com/users/ichard26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ichard26/subscriptions","organizations_url":"https://api.github.com/users/ichard26/orgs","repos_url":"https://api.github.com/users/ichard26/repos","events_url":"https://api.github.com/users/ichard26/events{/privacy}","received_events_url":"https://api.github.com/users/ichard26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T18:32:44Z","updated_at":"2020-04-28T18:32:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/1364","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/1364/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/1364/comments","events_url":"https://api.github.com/repos/psf/black/issues/1364/events","html_url":"https://github.com/psf/black/issues/1364","id":606683517,"node_id":"MDU6SXNzdWU2MDY2ODM1MTc=","number":1364,"title":"Black should add separators for control flow","user":{"login":"ColinKennedy","id":10103049,"node_id":"MDQ6VXNlcjEwMTAzMDQ5","avatar_url":"https://avatars.githubusercontent.com/u/10103049?v=4","gravatar_id":"","url":"https://api.github.com/users/ColinKennedy","html_url":"https://github.com/ColinKennedy","followers_url":"https://api.github.com/users/ColinKennedy/followers","following_url":"https://api.github.com/users/ColinKennedy/following{/other_user}","gists_url":"https://api.github.com/users/ColinKennedy/gists{/gist_id}","starred_url":"https://api.github.com/users/ColinKennedy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ColinKennedy/subscriptions","organizations_url":"https://api.github.com/users/ColinKennedy/orgs","repos_url":"https://api.github.com/users/ColinKennedy/repos","events_url":"https://api.github.com/users/ColinKennedy/events{/privacy}","received_events_url":"https://api.github.com/users/ColinKennedy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":867432796,"node_id":"MDU6TGFiZWw4Njc0MzI3OTY=","url":"https://api.github.com/repos/psf/black/labels/T:%20enhancement","name":"T: enhancement","color":"a2eeef","default":false,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-04-25T04:08:14Z","updated_at":"2020-07-28T19:08:57Z","closed_at":"2020-07-28T19:08:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"When Python statements aren't split with whitespace, relevant details like \"which block is this `else` meant for\" get lost.\r\n\r\n```python\r\ndef do_something():\r\n    if False:\r\n        foo()\r\n    elif True:\r\n        do()\r\n    for _ in range(10):\r\n        break\r\n    else:\r\n        fizz()\r\n    try:\r\n        print(\"Try something\")\r\n    except:\r\n        print(\"Exception!\")\r\n    else:\r\n        fizz()\r\n    if True:\r\n        buzz()\r\n```\r\n\r\nThere are 2 `else` blocks, neither of which apply to the nearby `if` blocks. But you may not notice because of the layout.\r\n\r\nCompare that to:\r\n\r\n```python\r\ndef do_something():\r\n    if False:\r\n        foo()\r\n    elif True:\r\n        do()\r\n\r\n    for _ in range(10):\r\n        break\r\n    else:\r\n        fizz()\r\n\r\n    try:\r\n        print(\"Try something\")\r\n    except:\r\n        print(\"Exception!\")\r\n    else:\r\n        fizz()\r\n\r\n    if True:\r\n        buzz()\r\n```\r\n\r\nNow it's clear where one block starts and another ends. At the moment I'm accomplishing this by running black as a first pass and then using parso to add newlines for each found block. The general rule of thumb I take take is\r\n\r\n\"if it's not the first source code line, it needs 1 newline before the block\". So you won't end up with situations like\r\n\r\n```python\r\nfor _ in range(10):\r\n\r\n    if True:\r\n        pass\r\n```\r\n\r\nThe same logic applies to control flow statements. `break`,  `continue`, `return`, and `yield`.\r\n\r\nCode like this is hard to decipher.\r\n\r\n```python\r\ndef do_something():\r\n    with Context():\r\n        for _ in range(10):\r\n            for index in range(10):\r\n                if index == 1:\r\n                    continue\r\n            break\r\n            try:\r\n                foo()\r\n            finally:\r\n                bar()\r\n        return afar()\r\n```\r\n\r\nThe `break` and `return` statements in this scenario have incorrect indents. `break` should be in the inner for loop and `return` should be outside of the `with` block. It's hard to tell that they're on incorrect indents because nothing separates the blocks.\r\n\r\n```python\r\ndef do_something():\r\n    with Context():\r\n        for _ in range(10):\r\n            for index in range(10):\r\n                if index == 1:\r\n                    continue\r\n\r\n            break\r\n\r\n            try:\r\n                foo()\r\n            finally:\r\n                bar()\r\n\r\n        return afar()\r\n```\r\n\r\nNow that the statements are separated, it's clear that `break` shouldn't be where it is. And because the return line isn't competing with `bar()`, it's easier to read, too.\r\n\r\nI'd love to see this be brought to black because it's been so helpful.","reactions":{"url":"https://api.github.com/repos/psf/black/issues/1364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/1364/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"bukzor","id":640328,"node_id":"MDQ6VXNlcjY0MDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/640328?v=4","gravatar_id":"","url":"https://api.github.com/users/bukzor","html_url":"https://github.com/bukzor","followers_url":"https://api.github.com/users/bukzor/followers","following_url":"https://api.github.com/users/bukzor/following{/other_user}","gists_url":"https://api.github.com/users/bukzor/gists{/gist_id}","starred_url":"https://api.github.com/users/bukzor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bukzor/subscriptions","organizations_url":"https://api.github.com/users/bukzor/orgs","repos_url":"https://api.github.com/users/bukzor/repos","events_url":"https://api.github.com/users/bukzor/events{/privacy}","received_events_url":"https://api.github.com/users/bukzor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-18T18:36:22Z","updated_at":"2021-10-18T18:36:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/2543","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/2543/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/2543/comments","events_url":"https://api.github.com/repos/psf/black/issues/2543/events","html_url":"https://github.com/psf/black/issues/2543","id":1029463254,"node_id":"I_kwDOB3dpmM49XFzW","number":2543,"title":"What's up with the extra newline after from/import?","user":{"login":"bukzor","id":640328,"node_id":"MDQ6VXNlcjY0MDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/640328?v=4","gravatar_id":"","url":"https://api.github.com/users/bukzor","html_url":"https://github.com/bukzor","followers_url":"https://api.github.com/users/bukzor/followers","following_url":"https://api.github.com/users/bukzor/following{/other_user}","gists_url":"https://api.github.com/users/bukzor/gists{/gist_id}","starred_url":"https://api.github.com/users/bukzor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bukzor/subscriptions","organizations_url":"https://api.github.com/users/bukzor/orgs","repos_url":"https://api.github.com/users/bukzor/repos","events_url":"https://api.github.com/users/bukzor/events{/privacy}","received_events_url":"https://api.github.com/users/bukzor/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":879629035,"node_id":"MDU6TGFiZWw4Nzk2MjkwMzU=","url":"https://api.github.com/repos/psf/black/labels/F:%20empty%20lines","name":"F: empty lines","color":"bfd4f2","default":false,"description":"Wasting vertical space efficiently."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2021-10-18T18:36:22Z","updated_at":"2024-03-09T01:38:06Z","closed_at":"2023-10-08T00:36:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the style change**\r\n\r\nSee also: #90\r\n\r\n<!-- A clear and concise description of how the style can be\r\nimproved. -->\r\n\r\nBlack currently forces blank lines after all imports, including imports outside the \"import section\" at module scope. I find that this yields super inappropriate results. Black does not have enough context (outside the module-scope \"import block\") to know whether adding a blank line will correctly denote intent or enhance readability. Black should refuse to guess; as in #90, \r\n\r\n**Example input**\r\n\r\nI'm having trouble generating a good example of a *necessary* inline import, but I hope we can agree that they do exist. Say we need to write this function, with all its unholy inline-imports intact:\r\n\r\n```python\r\ndef f():\r\n    from gizmo import frob\r\n\r\n    try:\r\n      return frob()\r\n\r\n    except FileNotFoundError:\r\n      import foo\r\n      return foo.bar()\r\n```\r\n\r\n**The current _Black_ style**\r\n\r\nCurrently Black will force newlines into this function:\r\n\r\n```python\r\ndef f():\r\n    from gizmo import frob\r\n\r\n    try:\r\n      return frob()\r\n\r\n    except frob.FrobError:\r\n      import foo\r\n\r\n      return foo.bar()\r\n```\r\n\r\n**Desired style**\r\n\r\nBlack should leave my newlines alone.\r\n\r\n```python\r\ndef f():\r\n    from gizmo import frob\r\n\r\n    try:\r\n      return frob()\r\n\r\n    except FileNotFoundError:\r\n      import foo\r\n      return foo.bar()\r\n```\r\n\r\n**Additional context**\r\n\r\n<!-- Add any other context about the problem here. -->\r\n\r\n\"In line\" imports are considered bad style by most (all?) python communities, but they are sometimes necessary or even beneficial. Black currently inserts a newline after such statements which breaks the natural flow of code, and removes agency from developers to express intent and increase readability. I believe this is exactly analogous to issue #90 -- this (lack of a) blank line is a \"extra-terse comment\", denoting that this import is relevant only to the next line. Comments are really tricky for a code formatter to handle, but they're crucial, because they're a way for developers to express intent and increase readability. Black shouldn't be in the business of adding or removing comments.\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/2543/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/2543/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"}]