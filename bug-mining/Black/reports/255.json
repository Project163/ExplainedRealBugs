{"url":"https://api.github.com/repos/psf/black/issues/4238","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/4238/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/4238/comments","events_url":"https://api.github.com/repos/psf/black/issues/4238/events","html_url":"https://github.com/psf/black/issues/4238","id":2141186014,"node_id":"I_kwDOB3dpmM5_n-fe","number":4238,"title":"The latest behavior of empty lines is NOT reflected in the current code style documentation","user":{"login":"FanchenBao","id":43209858,"node_id":"MDQ6VXNlcjQzMjA5ODU4","avatar_url":"https://avatars.githubusercontent.com/u/43209858?v=4","gravatar_id":"","url":"https://api.github.com/users/FanchenBao","html_url":"https://github.com/FanchenBao","followers_url":"https://api.github.com/users/FanchenBao/followers","following_url":"https://api.github.com/users/FanchenBao/following{/other_user}","gists_url":"https://api.github.com/users/FanchenBao/gists{/gist_id}","starred_url":"https://api.github.com/users/FanchenBao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FanchenBao/subscriptions","organizations_url":"https://api.github.com/users/FanchenBao/orgs","repos_url":"https://api.github.com/users/FanchenBao/repos","events_url":"https://api.github.com/users/FanchenBao/events{/privacy}","received_events_url":"https://api.github.com/users/FanchenBao/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":871279155,"node_id":"MDU6TGFiZWw4NzEyNzkxNTU=","url":"https://api.github.com/repos/psf/black/labels/T:%20documentation","name":"T: documentation","color":"fbcd00","default":false,"description":"Improvements to the docs (e.g. new topic, correction, etc)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-02-18T21:13:15Z","updated_at":"2024-02-26T00:36:53Z","closed_at":"2024-02-26T00:36:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Is this related to a problem? Please describe.**\r\n\r\nThere has been some back-and-forth regarding [empty line after code block open](https://github.com/psf/black/issues/4043) recently. The latest behavior is to keep zero empty line if that is the case in the original input, or one empty line if the original input has more than one empty lines.\r\n\r\nHowever, this behavior is NOT reflected in the [documented code style on empty lines](https://github.com/psf/black/blob/stable/docs/the_black_code_style/current_style.md#empty-lines). In the documentation, it is stated that\r\n\r\n> The other exception is that it will remove any empty lines immediately following a statement that introduces a new indentation level.\r\n\r\nThis is no longer true. Consequently, the given example is also incorrect, as all the empty lines after code block open are shown to be deleted after formatting.\r\n\r\n**Describe the solution you'd like**\r\n\r\nI would like the documentation to emphasize the current code style of empty line by rewriting the \"The other exception is that...new indentation level\" sentence. In addition, I would like the example on the empty line code style to be as follows\r\n\r\n```python\r\n# in\r\n\r\ndef foo():\r\n\r\n\r\n\r\n\r\n    print(\"One new line above me will be kept!\")\r\n\r\n\r\n\r\n\r\n\r\ndef bar():\r\n    print(\"The original input has no new line above me; we will keep it that way.\")\r\n\r\n\r\n\r\n\r\nif condition:\r\n\r\n\r\n\r\n\r\n    print(\"One new line above me will be kept!\")\r\n\r\n    print(\"There is a newline above me, and that's OK!\")\r\n\r\n\r\n\r\n\r\n\r\nclass Point:\r\n\r\n\r\n\r\n\r\n    x: int\r\n    y: int\r\n\r\n# out\r\n\r\n# out\r\ndef foo():\r\n\r\n    print(\"One new line above me will be kept!\")\r\n\r\n\r\ndef bar():\r\n    print(\"The original input has no new line above me; we will keep it that way.\")\r\n\r\n\r\nif condition:\r\n\r\n    print(\"One new line above me will be kept!\")\r\n\r\n    print(\"There is a newline above me, and that's OK!\")\r\n\r\n\r\nclass Point:\r\n\r\n    x: int\r\n    y: int\r\n```\r\n\r\n**Describe alternatives you've considered**\r\n\r\nNA\r\n\r\n**Additional context**\r\n\r\nNA","closed_by":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/psf/black/issues/4238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/4238/timeline","performed_via_github_app":null,"state_reason":"completed"}