[{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T08:02:35Z","updated_at":"2023-11-13T08:02:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/3551","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/3551/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/3551/comments","events_url":"https://api.github.com/repos/psf/black/issues/3551/events","html_url":"https://github.com/psf/black/issues/3551","id":1572219760,"node_id":"I_kwDOB3dpmM5dtitw","number":3551,"title":"Allow a single newline after opening blocks, possibly via an option setting","user":{"login":"bluenote10","id":3620703,"node_id":"MDQ6VXNlcjM2MjA3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/3620703?v=4","gravatar_id":"","url":"https://api.github.com/users/bluenote10","html_url":"https://github.com/bluenote10","followers_url":"https://api.github.com/users/bluenote10/followers","following_url":"https://api.github.com/users/bluenote10/following{/other_user}","gists_url":"https://api.github.com/users/bluenote10/gists{/gist_id}","starred_url":"https://api.github.com/users/bluenote10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluenote10/subscriptions","organizations_url":"https://api.github.com/users/bluenote10/orgs","repos_url":"https://api.github.com/users/bluenote10/repos","events_url":"https://api.github.com/users/bluenote10/events{/privacy}","received_events_url":"https://api.github.com/users/bluenote10/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":38,"created_at":"2023-02-06T09:28:43Z","updated_at":"2023-11-13T08:02:35Z","closed_at":"2023-10-23T17:49:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nPreviously black allowed to have a newline after a code opening black. This can indeed improve readability.\r\n\r\nCompare for instance this\r\n\r\n![image](https://user-images.githubusercontent.com/3620703/216930702-bad8a34b-8c37-429a-aa2f-dd6ddfb90d16.png)\r\n\r\nwith\r\n\r\n![image](https://user-images.githubusercontent.com/3620703/216930770-71faebf0-1277-40c7-9b18-49a182158e61.png)\r\n\r\nThere are two reasons, why a single newline at the beginning of a block can improve the readability:\r\n\r\n- **Emphasis / separation**: If the following line is complex/long, giving it some space on top makes it stand out more, and easier to grasp visually. In the example, the first `some_long_function_and_condition(a, b, c) == expected` feels overshadowed by the `def some_long_function_name(with_many: List[int], params: Optional[T]):`\r\n- **Symmetry reasons / consistent margins**: If the function contains multiple blocks which have a certain semantic symmetry, it makes sense to mirror that visually. In the example, all three blocks are identical, so why can't they have identical margins? Using consistent margins is a key feature to proper graphical design, and collapsing this one margin is something that typically wouldn't be approved by an experienced designer.\r\n\r\nFrom a practical perspective: Going from black version 22 to 23 in our code base is causing a massive diff! The vast majority of the diff (perhaps ~95%) is coming from this very change, which isn't even listed in the [release notes of version 23](https://black.readthedocs.io/en/stable/change_log.html#id1). Basically all the changes would make the code more ugly due to either of the two points above.\r\n\r\n**Describe the solution you'd like**\r\n\r\nFrom a design perspective, https://github.com/psf/black/pull/3035 was probably a mistake. Since it is probably too late to revert that change, I'd hope that this is one of the few cases where we can introduce an option that allows the old behavior. Something like `allow_newline_at_beginning_of_blocks`.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nPerhaps even reverting https://github.com/psf/black/pull/3035 ?\r\n\r\n**Additional context**\r\n\r\nAnything else needed?\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/3551/reactions","total_count":18,"+1":17,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/3551/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T08:18:03Z","updated_at":"2023-11-13T08:18:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/4042","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/4042/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/4042/comments","events_url":"https://api.github.com/repos/psf/black/issues/4042/events","html_url":"https://github.com/psf/black/issues/4042","id":1990041158,"node_id":"I_kwDOB3dpmM52nZ5G","number":4042,"title":"Setting the 2024 stable style","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":33,"created_at":"2023-11-13T07:32:32Z","updated_at":"2024-01-25T01:06:16Z","closed_at":"2024-01-25T01:06:15Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"See issue for 2023 here: https://github.com/psf/black/issues/3407\r\n\r\nHere's what this issue is:\r\n- I've listed all the features we have enabled under `--preview`\r\n- ...in descending order of how controversial I think they are\r\n- I've also drawn a dividing line; past \"uncontroversial\" is where I feel we don't need to think twice about it\r\n- I've listed the number of digits in the diff-shade lines changed count and linked original PR\r\n- I tried to list any open issues next to the relevant preview feature, but it's possible I missed something\r\n  - <s>Issues tagged with `preview` I haven't yet associated with a feature: #3614 and #3802</s> (sorted these outâ€“Jelle)\r\n\r\nHere's the current call to action:\r\n- Any comments / opinions / vibes on these features is very welcome\r\n- Please test your codebase with `--preview` and let us know your thoughts!\r\n- If you have a specific problem with a preview feature, especially something that feels like an implementation issue, it's best to open a separate issue (that we can then link to from here)\r\n\r\nFor many of the changes, diff-shades logs have expired. We should find a way to keep these around for longer!\r\n\r\nIt's currently November, so there's still time to make more uncontroversial changes and hopefuly iron out some issues in the not uncontroversial ones.\r\n\r\n## Not uncontroversial\r\n\r\n#### string_processing\r\n\r\nThis one is controversial, vast majority of preview style issues are related to string processing\r\nOpen issues I believe are caused by string_processing: #2334, #2314, #3466, #3497, #3409, #3424, #3428, #3210, #3410, #3747, #3665, #3663, #2553, #3855, #3802\r\n\r\n#### hug_parens_with_braces_and_square_brackets (#3964, #3992)\r\n\r\nCauses O(10000) changes, although counting lines changed is unfavourable to this change.\r\nA very substantial change in style for Black. We can't revert once it's in stable.\r\nOutstanding crash: #4036\r\n\r\n#### parenthesize_conditional_expressions (#2278)\r\n\r\nCauses O(1000) changes. Need to look at diff\r\n~Has unfortunate interactions with comments: #3555~\r\n\r\n#### wrap_long_dict_values_in_parens (#3440)\r\n\r\nCauses O(100) changes. Need to look at diff\r\n~Outstanding crash: #3758~\r\nReport of worse splitting: #3452\r\n~Unnecessary nesting: #4129~\r\nRemoves parentheses: #4158\r\n\r\n#### multiline_string_handling (#1879)\r\n\r\nCauses O(1000) changes. Need to look at diff\r\nMaybe has some synergy with `hug_parens_with_braces_and_square_brackets`.\r\nUnfortunate white space preservation: #4159\r\n\r\n#### dummy_implementations (#3796)\r\n\r\nI can't find up-to-date diff-shades, but maybe O(1000) changes\r\nRequires a change in flake8 config: #3887\r\nCan result in an extra line, but no change expected to be made: #3872\r\n\r\n#### prefer_splitting_right_hand_side_of_assignments (#3368)\r\n\r\nCauses O(100) changes.\r\n\r\n#### hex_codes_in_unicode_sequences (#2916)\r\n\r\nCauses O(100) changes\r\nOpen issue whether lowercase or uppercase is better #3568\r\n\r\n#### allow_empty_first_line_before_new_block_or_comment (#3967)\r\n\r\nCauses O(1) changes.\r\nThis change itself is fine, but it's related to a controversial and churn causing change in 2023 style. I think we should probably revert that 2023 change; I posted a longer issue about this over here https://github.com/psf/black/issues/4043\r\n\r\n#### parenthesize_long_type_hints (#3899)\r\n\r\nCauses O(100) changes\r\n\r\n#### module_docstring_newlines (#3932)\r\n\r\nCauses O(100) changes\r\n\r\n## Uncontroversial\r\n\r\n#### respect_magic_trailing_comma_in_return_type (#3916)\r\n\r\nO(10) changes.\r\nShouldn't affect existing formatting too much, unless there's a buggy trailing comma\r\nAll changes in diff-shades are incidental, but are good and what you'd expect Black to do\r\n\r\n#### no_blank_line_before_class_docstring (#3692)\r\n\r\nO(100) changes. Makes consistent with function behaviour\r\nBlank lines have been a little controversial, but I think this should be totally fine\r\n\r\n#### wrap_multiple_context_managers_in_parens (#3489)\r\n\r\nO(100) changes. Naively, looks great to me\r\n\r\n#### fix_power_op_line_length (#3942)\r\n\r\nO(10) changes. A bug fix\r\n\r\n#### add_trailing_comma_consistently (#3393)\r\n\r\nO(1) changes. A bug fix\r\n\r\n#### skip_magic_trailing_comma_in_subscript (#3209)\r\n\r\nO(1) changes. A bug fix, affects a non-default option\r\n\r\n#### blank_line_after_nested_stub_class (#3564)\r\n\r\nOnly affects stubs, adds some blank lines in an uncommon case\r\n\r\n#### blank_line_between_nested_and_def_stub_file (#3862)\r\n\r\nOnly affects stubs, adds some blank lines in even less common case\r\n\r\n#### accept_raw_docstrings (#3947)\r\n\r\nO(1) changes. Just a bug fix\r\n\r\n#### long_case_block_line_splitting (#4024)\r\n\r\n0 changes. Seems strictly good\r\n\r\n#### walrus_subscript (#3823)\r\n\r\n0 changes. Straightforward style change\r\n\r\n#### improved_async_statements_handling  (#3609)\r\n\r\n0 changes. More consistent\r\n\r\n#### single_line_format_skip_with_multiple_comments (#3959)\r\n\r\n0 changes. Makes life better","reactions":{"url":"https://api.github.com/repos/psf/black/issues/4042/reactions","total_count":11,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":11,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/4042/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T08:36:00Z","updated_at":"2023-11-13T08:36:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/2370","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/2370/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/2370/comments","events_url":"https://api.github.com/repos/psf/black/issues/2370/events","html_url":"https://github.com/psf/black/issues/2370","id":941886147,"node_id":"MDU6SXNzdWU5NDE4ODYxNDc=","number":2370,"title":"Blank line after docstring... or not.","user":{"login":"PabloLec","id":47810336,"node_id":"MDQ6VXNlcjQ3ODEwMzM2","avatar_url":"https://avatars.githubusercontent.com/u/47810336?v=4","gravatar_id":"","url":"https://api.github.com/users/PabloLec","html_url":"https://github.com/PabloLec","followers_url":"https://api.github.com/users/PabloLec/followers","following_url":"https://api.github.com/users/PabloLec/following{/other_user}","gists_url":"https://api.github.com/users/PabloLec/gists{/gist_id}","starred_url":"https://api.github.com/users/PabloLec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PabloLec/subscriptions","organizations_url":"https://api.github.com/users/PabloLec/orgs","repos_url":"https://api.github.com/users/PabloLec/repos","events_url":"https://api.github.com/users/PabloLec/events{/privacy}","received_events_url":"https://api.github.com/users/PabloLec/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":879629035,"node_id":"MDU6TGFiZWw4Nzk2MjkwMzU=","url":"https://api.github.com/repos/psf/black/labels/F:%20empty%20lines","name":"F: empty lines","color":"bfd4f2","default":false,"description":"Wasting vertical space efficiently."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2021-07-12T10:03:14Z","updated_at":"2024-05-03T01:10:38Z","closed_at":"2024-05-03T01:03:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the style change**\r\n\r\nCurrently, black does not check blank lines between functions docstring and body. \r\nThat means both these options are valid:\r\n``` python\r\ndef foo():\r\n    \"\"\"docstring\"\"\"\r\n    \r\n   return 0\r\n```\r\n\r\n``` python\r\ndef foo():\r\n    \"\"\"docstring\"\"\"\r\n   return 0\r\n```\r\n\r\nAs black is `uncompromising` and `opinionated`, I guess this should be taken into account.\r\n\r\nPersonally I tend to put a blank line but looking at the only potential reference [PEP 257](https://www.python.org/dev/peps/pep-0257/#one-line-docstrings), there is no blank lines in given examples.\r\n\r\nWhether we enforce the blank line or not, black should take care of this as this results in easy style inconsistency.\r\n\r\nI'd say we should follow PEP 257 no blank line example.\r\n**Comment your opinion so that this issue can be refered to in a PR fixing this.**\r\n\r\nIf there is no consensus, we could organize a jousting match to settle this. :goberserk:","reactions":{"url":"https://api.github.com/repos/psf/black/issues/2370/reactions","total_count":18,"+1":17,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/2370/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/1808515308","html_url":"https://github.com/psf/black/issues/4043#issuecomment-1808515308","issue_url":"https://api.github.com/repos/psf/black/issues/4043","id":1808515308,"node_id":"IC_kwDOB3dpmM5ry8Ds","user":{"login":"mcnoat","id":35040095,"node_id":"MDQ6VXNlcjM1MDQwMDk1","avatar_url":"https://avatars.githubusercontent.com/u/35040095?v=4","gravatar_id":"","url":"https://api.github.com/users/mcnoat","html_url":"https://github.com/mcnoat","followers_url":"https://api.github.com/users/mcnoat/followers","following_url":"https://api.github.com/users/mcnoat/following{/other_user}","gists_url":"https://api.github.com/users/mcnoat/gists{/gist_id}","starred_url":"https://api.github.com/users/mcnoat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcnoat/subscriptions","organizations_url":"https://api.github.com/users/mcnoat/orgs","repos_url":"https://api.github.com/users/mcnoat/repos","events_url":"https://api.github.com/users/mcnoat/events{/privacy}","received_events_url":"https://api.github.com/users/mcnoat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T16:33:31Z","updated_at":"2023-11-13T16:33:31Z","body":"I would support a blank line after the definition of functions without a docstring. I find the two examples provided convincing in that regard.\r\n\r\n---\r\n\r\n> I am fine with continuing to strip blank newlines between a function declaration and its docstring\r\n\r\nI think this behavior should be kept, too. As I've said in [#2370 (comment)](https://github.com/psf/black/issues/2370#issuecomment-1487068337), having a blank line after a docstring would be in violation with all of the major Python docstring conventions (PEP 257, numpydoc and Google). Pydocstyle files \"No blank lines allowed after function docstring\" under error code D202. D202 is included in all the docstring conventions mentioned above (source: http://www.pydocstyle.org/en/stable/error_codes.html#default-conventions).\r\nMy guess would be that it's not uncommon for projects to use both pydocstyle and black and in that case the two should ideally not be in conflict with each other.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1808515308/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcnoat","id":35040095,"node_id":"MDQ6VXNlcjM1MDQwMDk1","avatar_url":"https://avatars.githubusercontent.com/u/35040095?v=4","gravatar_id":"","url":"https://api.github.com/users/mcnoat","html_url":"https://github.com/mcnoat","followers_url":"https://api.github.com/users/mcnoat/followers","following_url":"https://api.github.com/users/mcnoat/following{/other_user}","gists_url":"https://api.github.com/users/mcnoat/gists{/gist_id}","starred_url":"https://api.github.com/users/mcnoat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcnoat/subscriptions","organizations_url":"https://api.github.com/users/mcnoat/orgs","repos_url":"https://api.github.com/users/mcnoat/repos","events_url":"https://api.github.com/users/mcnoat/events{/privacy}","received_events_url":"https://api.github.com/users/mcnoat/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/1810410731","html_url":"https://github.com/psf/black/issues/4043#issuecomment-1810410731","issue_url":"https://api.github.com/repos/psf/black/issues/4043","id":1810410731,"node_id":"IC_kwDOB3dpmM5r6Kzr","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-14T15:05:28Z","updated_at":"2023-11-14T15:05:28Z","body":"OK, let's walk back the change.\r\n\r\n@mcnoat reading your comment, there might be confusion between blank lines before and after docstrings? Given this function:\r\n\r\n```python\r\ndef f():\r\n    \r\n    \"\"\"\r\n    doc\r\n    \"\"\"\r\n    \r\n    hi\r\n```\r\n\r\nCurrently we remove the blank line before the docstring (and Shantanu says we should keep doing that; I agree), but not the one after the docstring. Possibly we should remove the one after the docstring, but that's a discussion for #2370.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1810410731/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10955878232,"node_id":"MEE_lADOB3dpmM52nf8tzwAAAAKNBW9Y","url":"https://api.github.com/repos/psf/black/issues/events/10955878232","actor":{"login":"mcnoat","id":35040095,"node_id":"MDQ6VXNlcjM1MDQwMDk1","avatar_url":"https://avatars.githubusercontent.com/u/35040095?v=4","gravatar_id":"","url":"https://api.github.com/users/mcnoat","html_url":"https://github.com/mcnoat","followers_url":"https://api.github.com/users/mcnoat/followers","following_url":"https://api.github.com/users/mcnoat/following{/other_user}","gists_url":"https://api.github.com/users/mcnoat/gists{/gist_id}","starred_url":"https://api.github.com/users/mcnoat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcnoat/subscriptions","organizations_url":"https://api.github.com/users/mcnoat/orgs","repos_url":"https://api.github.com/users/mcnoat/repos","events_url":"https://api.github.com/users/mcnoat/events{/privacy}","received_events_url":"https://api.github.com/users/mcnoat/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-11-14T15:05:28Z","performed_via_github_app":null},{"id":10955878250,"node_id":"SE_lADOB3dpmM52nf8tzwAAAAKNBW9q","url":"https://api.github.com/repos/psf/black/issues/events/10955878250","actor":{"login":"mcnoat","id":35040095,"node_id":"MDQ6VXNlcjM1MDQwMDk1","avatar_url":"https://avatars.githubusercontent.com/u/35040095?v=4","gravatar_id":"","url":"https://api.github.com/users/mcnoat","html_url":"https://github.com/mcnoat","followers_url":"https://api.github.com/users/mcnoat/followers","following_url":"https://api.github.com/users/mcnoat/following{/other_user}","gists_url":"https://api.github.com/users/mcnoat/gists{/gist_id}","starred_url":"https://api.github.com/users/mcnoat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcnoat/subscriptions","organizations_url":"https://api.github.com/users/mcnoat/orgs","repos_url":"https://api.github.com/users/mcnoat/repos","events_url":"https://api.github.com/users/mcnoat/events{/privacy}","received_events_url":"https://api.github.com/users/mcnoat/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-11-14T15:05:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/1810457101","html_url":"https://github.com/psf/black/issues/4043#issuecomment-1810457101","issue_url":"https://api.github.com/repos/psf/black/issues/4043","id":1810457101,"node_id":"IC_kwDOB3dpmM5r6WIN","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-14T15:28:49Z","updated_at":"2023-11-14T15:28:49Z","body":"> As a meta thing, as a relatively new maintainer of Black, I'm still unsure of my decision making framework.\r\n\r\nI feel like I owe you a response to this, but I'm not sure I have a good one :) Some of the things I look at are:\r\n\r\n- How disruptive is this change? I generally want to make changes to the stable style only if they feel like clear improvements; when people upgrade Black and see the changes, they should feel it made things better.\r\n- Do I like the change? That's obviously subjective, but I feel part of the point of Black is that instead of the entire Python ecosystem arguing over style decisions, it's just us on this tracker who have to do that.\r\n- Does it feel like the community supports the change? For example, if there are lots of people who comment/like comments in favor of a change, that's a good signal.\r\n- Does the change feel consistent with Black's overall style? Here's a couple of principles that I feel we generally follow, though some may be controversial:\r\n   - No backslashes for formatting, ever\r\n   - Indentation should always be by a multiple of four\r\n   - Formatting should generally not depend on previous formatting, though with obvious exceptions like the magic trailing comma\r\n   - Diffs should be easy to read\r\n   - Fewer lines is better than more\r\n\r\nIn this particular case, I think a few of us simply misjudged how controversial this change would be. Personally I liked most of the changes Black 22 -> 23 made to our work codebase; many looked like this:\r\n\r\n```\r\n def _source_query_sql_fn(dt: str) -> str:\r\n-\r\n     sql = f\"\"\"\r\n         SELECT DISTINCT\r\n```\r\n\r\nWhere the extra newline just felt like a waste of space.\r\n\r\nHopefully to prevent a repeat of this experience, we can get more eyes on the current preview style (thanks for opening an issue for that!) before promoting it to stable.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1810457101/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/1812150395","html_url":"https://github.com/psf/black/issues/4043#issuecomment-1812150395","issue_url":"https://api.github.com/repos/psf/black/issues/4043","id":1812150395,"node_id":"IC_kwDOB3dpmM5sAzh7","user":{"login":"mcnoat","id":35040095,"node_id":"MDQ6VXNlcjM1MDQwMDk1","avatar_url":"https://avatars.githubusercontent.com/u/35040095?v=4","gravatar_id":"","url":"https://api.github.com/users/mcnoat","html_url":"https://github.com/mcnoat","followers_url":"https://api.github.com/users/mcnoat/followers","following_url":"https://api.github.com/users/mcnoat/following{/other_user}","gists_url":"https://api.github.com/users/mcnoat/gists{/gist_id}","starred_url":"https://api.github.com/users/mcnoat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcnoat/subscriptions","organizations_url":"https://api.github.com/users/mcnoat/orgs","repos_url":"https://api.github.com/users/mcnoat/repos","events_url":"https://api.github.com/users/mcnoat/events{/privacy}","received_events_url":"https://api.github.com/users/mcnoat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-15T10:06:19Z","updated_at":"2023-11-15T10:06:19Z","body":"> @mcnoat reading your comment, there might be confusion between blank lines before and after docstrings? Given this function:\r\n\r\nYou are absolutely correct, thanks for pointing it out. Since [hauntsaninja](https://github.com/hauntsaninja) left a comment on #2370, I presumed that this issue was about the same thing and - despite honest effort - did not read his comment or the original post here close enough.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1812150395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcnoat","id":35040095,"node_id":"MDQ6VXNlcjM1MDQwMDk1","avatar_url":"https://avatars.githubusercontent.com/u/35040095?v=4","gravatar_id":"","url":"https://api.github.com/users/mcnoat","html_url":"https://github.com/mcnoat","followers_url":"https://api.github.com/users/mcnoat/followers","following_url":"https://api.github.com/users/mcnoat/following{/other_user}","gists_url":"https://api.github.com/users/mcnoat/gists{/gist_id}","starred_url":"https://api.github.com/users/mcnoat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcnoat/subscriptions","organizations_url":"https://api.github.com/users/mcnoat/orgs","repos_url":"https://api.github.com/users/mcnoat/repos","events_url":"https://api.github.com/users/mcnoat/events{/privacy}","received_events_url":"https://api.github.com/users/mcnoat/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10965415749,"node_id":"MEE_lADOB3dpmM52nf8tzwAAAAKNlvdF","url":"https://api.github.com/repos/psf/black/issues/events/10965415749","actor":{"login":"mcnoat","id":35040095,"node_id":"MDQ6VXNlcjM1MDQwMDk1","avatar_url":"https://avatars.githubusercontent.com/u/35040095?v=4","gravatar_id":"","url":"https://api.github.com/users/mcnoat","html_url":"https://github.com/mcnoat","followers_url":"https://api.github.com/users/mcnoat/followers","following_url":"https://api.github.com/users/mcnoat/following{/other_user}","gists_url":"https://api.github.com/users/mcnoat/gists{/gist_id}","starred_url":"https://api.github.com/users/mcnoat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcnoat/subscriptions","organizations_url":"https://api.github.com/users/mcnoat/orgs","repos_url":"https://api.github.com/users/mcnoat/repos","events_url":"https://api.github.com/users/mcnoat/events{/privacy}","received_events_url":"https://api.github.com/users/mcnoat/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-11-15T10:06:20Z","performed_via_github_app":null},{"id":10965415768,"node_id":"SE_lADOB3dpmM52nf8tzwAAAAKNlvdY","url":"https://api.github.com/repos/psf/black/issues/events/10965415768","actor":{"login":"mcnoat","id":35040095,"node_id":"MDQ6VXNlcjM1MDQwMDk1","avatar_url":"https://avatars.githubusercontent.com/u/35040095?v=4","gravatar_id":"","url":"https://api.github.com/users/mcnoat","html_url":"https://github.com/mcnoat","followers_url":"https://api.github.com/users/mcnoat/followers","following_url":"https://api.github.com/users/mcnoat/following{/other_user}","gists_url":"https://api.github.com/users/mcnoat/gists{/gist_id}","starred_url":"https://api.github.com/users/mcnoat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcnoat/subscriptions","organizations_url":"https://api.github.com/users/mcnoat/orgs","repos_url":"https://api.github.com/users/mcnoat/repos","events_url":"https://api.github.com/users/mcnoat/events{/privacy}","received_events_url":"https://api.github.com/users/mcnoat/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-11-15T10:06:20Z","performed_via_github_app":null},{"actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-21T05:05:26Z","updated_at":"2023-11-21T05:05:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/4060","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/4060/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/4060/comments","events_url":"https://api.github.com/repos/psf/black/issues/4060/events","html_url":"https://github.com/psf/black/pull/4060","id":2003467824,"node_id":"PR_kwDOB3dpmM5f-jzR","number":4060,"title":"Allow empty lines at beginning of blocks (again)","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-11-21T05:05:25Z","updated_at":"2024-09-10T23:36:36Z","closed_at":"2023-12-10T02:29:09Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/psf/black/pulls/4060","html_url":"https://github.com/psf/black/pull/4060","diff_url":"https://github.com/psf/black/pull/4060.diff","patch_url":"https://github.com/psf/black/pull/4060.patch","merged_at":"2023-12-10T02:29:09Z"},"body":"Fixes #4043","reactions":{"url":"https://api.github.com/repos/psf/black/issues/4060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/4060/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/1832655694","html_url":"https://github.com/psf/black/issues/4043#issuecomment-1832655694","issue_url":"https://api.github.com/repos/psf/black/issues/4043","id":1832655694,"node_id":"IC_kwDOB3dpmM5tPBtO","user":{"login":"bintoro","id":7081785,"node_id":"MDQ6VXNlcjcwODE3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7081785?v=4","gravatar_id":"","url":"https://api.github.com/users/bintoro","html_url":"https://github.com/bintoro","followers_url":"https://api.github.com/users/bintoro/followers","following_url":"https://api.github.com/users/bintoro/following{/other_user}","gists_url":"https://api.github.com/users/bintoro/gists{/gist_id}","starred_url":"https://api.github.com/users/bintoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bintoro/subscriptions","organizations_url":"https://api.github.com/users/bintoro/orgs","repos_url":"https://api.github.com/users/bintoro/repos","events_url":"https://api.github.com/users/bintoro/events{/privacy}","received_events_url":"https://api.github.com/users/bintoro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T20:30:38Z","updated_at":"2023-11-29T20:30:38Z","body":"This is great news. Thanks guys.\r\n\r\nOne thing though: #4060 does not fix #619. That pre-#3035 behavior will now remain the odd man out.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1832655694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bintoro","id":7081785,"node_id":"MDQ6VXNlcjcwODE3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7081785?v=4","gravatar_id":"","url":"https://api.github.com/users/bintoro","html_url":"https://github.com/bintoro","followers_url":"https://api.github.com/users/bintoro/followers","following_url":"https://api.github.com/users/bintoro/following{/other_user}","gists_url":"https://api.github.com/users/bintoro/gists{/gist_id}","starred_url":"https://api.github.com/users/bintoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bintoro/subscriptions","organizations_url":"https://api.github.com/users/bintoro/orgs","repos_url":"https://api.github.com/users/bintoro/repos","events_url":"https://api.github.com/users/bintoro/events{/privacy}","received_events_url":"https://api.github.com/users/bintoro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/psf/black/issues/comments/1848830774","html_url":"https://github.com/psf/black/issues/4043#issuecomment-1848830774","issue_url":"https://api.github.com/repos/psf/black/issues/4043","id":1848830774,"node_id":"IC_kwDOB3dpmM5uMus2","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-10T01:51:34Z","updated_at":"2023-12-10T01:51:34Z","body":"Yes, we still remove the first blank line here:\r\n\r\n```\r\nclass Cls:\r\n\r\n    def method(self):\r\n\r\n        pass\r\n```\r\n\r\nThat seems fine to me.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1848830774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11201958824,"node_id":"CE_lADOB3dpmM52nf8tzwAAAAKbsFOo","url":"https://api.github.com/repos/psf/black/issues/events/11201958824","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-12-10T02:29:11Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/psf/black/issues/comments/1848953654","html_url":"https://github.com/psf/black/issues/4043#issuecomment-1848953654","issue_url":"https://api.github.com/repos/psf/black/issues/4043","id":1848953654,"node_id":"IC_kwDOB3dpmM5uNMs2","user":{"login":"bintoro","id":7081785,"node_id":"MDQ6VXNlcjcwODE3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7081785?v=4","gravatar_id":"","url":"https://api.github.com/users/bintoro","html_url":"https://github.com/bintoro","followers_url":"https://api.github.com/users/bintoro/followers","following_url":"https://api.github.com/users/bintoro/following{/other_user}","gists_url":"https://api.github.com/users/bintoro/gists{/gist_id}","starred_url":"https://api.github.com/users/bintoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bintoro/subscriptions","organizations_url":"https://api.github.com/users/bintoro/orgs","repos_url":"https://api.github.com/users/bintoro/repos","events_url":"https://api.github.com/users/bintoro/events{/privacy}","received_events_url":"https://api.github.com/users/bintoro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-10T12:38:37Z","updated_at":"2023-12-10T12:38:37Z","body":"Right, I had gotten the impression that addressing the `def` after `class` case was part of the plan, as the initial comment specifically referenced #619.\r\n\r\nAnd from [this comment](https://github.com/psf/black/issues/3551#issuecomment-1749856113) I understood that the inconsistency bothered @JelleZijlstra as well.\r\n\r\n> Yes, we still remove the first blank line here:\r\n> \r\n> ```\r\n> class Cls:\r\n> \r\n>     def method(self):\r\n> \r\n>         pass\r\n> ```\r\n> \r\n\r\nSo we get:\r\n\r\n```python\r\nclass Cls:    \r\n\tdef method(self):\r\n\r\n\t\tpass\r\n```\r\n\r\n- From a typographic perspective this doesnâ€™t look logical or visually satisfying.\r\n- This goes against PEP 8 as explained in [#619](https://github.com/psf/black/issues/619).\r\n- Were the first inner statement a class variable instead of `def`, the empty line would not be removed.\r\n- Empty lines preceding subsequent `def` statements are not removed (in fact, they are enforced).\r\n\r\nIâ€™m struggling to understand the motivation for special-casing a `class`-adjacent `def` and treating it differently than everything else. This certainly _feels like_ a bug even if itâ€™s planned.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1848953654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bintoro","id":7081785,"node_id":"MDQ6VXNlcjcwODE3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7081785?v=4","gravatar_id":"","url":"https://api.github.com/users/bintoro","html_url":"https://github.com/bintoro","followers_url":"https://api.github.com/users/bintoro/followers","following_url":"https://api.github.com/users/bintoro/following{/other_user}","gists_url":"https://api.github.com/users/bintoro/gists{/gist_id}","starred_url":"https://api.github.com/users/bintoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bintoro/subscriptions","organizations_url":"https://api.github.com/users/bintoro/orgs","repos_url":"https://api.github.com/users/bintoro/repos","events_url":"https://api.github.com/users/bintoro/events{/privacy}","received_events_url":"https://api.github.com/users/bintoro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11202793275,"node_id":"MEE_lADOB3dpmM52nf8tzwAAAAKbvQ87","url":"https://api.github.com/repos/psf/black/issues/events/11202793275","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-10T12:38:37Z","performed_via_github_app":null},{"id":11202793278,"node_id":"SE_lADOB3dpmM52nf8tzwAAAAKbvQ8-","url":"https://api.github.com/repos/psf/black/issues/events/11202793278","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-10T12:38:37Z","performed_via_github_app":null},{"id":11348905056,"node_id":"REFE_lADOB3dpmM52nf8tzwAAAAKkcoxg","url":"https://api.github.com/repos/psf/black/issues/events/11348905056","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3926db0f515e66a4c600728fe24faf67f697f1aa","commit_url":"https://api.github.com/repos/hauntsaninja/black/commits/3926db0f515e66a4c600728fe24faf67f697f1aa","created_at":"2023-12-28T06:56:45Z","performed_via_github_app":null},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-28T06:56:55Z","updated_at":"2023-12-28T06:56:55Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/4130","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/4130/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/4130/comments","events_url":"https://api.github.com/repos/psf/black/issues/4130/events","html_url":"https://github.com/psf/black/pull/4130","id":2058067498,"node_id":"PR_kwDOB3dpmM5i3ZLy","number":4130,"title":"Allow empty lines at beginnings of more blocks","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-12-28T06:56:54Z","updated_at":"2024-01-02T00:16:24Z","closed_at":"2024-01-01T23:46:09Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/psf/black/pulls/4130","html_url":"https://github.com/psf/black/pull/4130","diff_url":"https://github.com/psf/black/pull/4130.diff","patch_url":"https://github.com/psf/black/pull/4130.patch","merged_at":"2024-01-01T23:46:09Z"},"body":"Fixes #4043, fixes #619\r\n\r\nThese include nested functions and methods.\r\n\r\nI think the nested function case can quite clearly improve readability. I think the method case improves consistency, adherence to PEP 8 and resolves a point of contention.\r\n\r\n#4060 intended to allow empty lines at the beginning of all blocks (except immediately before a docstring), but missed this case","reactions":{"url":"https://api.github.com/repos/psf/black/issues/4130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/4130/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/psf/black/issues/comments/1870880929","html_url":"https://github.com/psf/black/issues/4043#issuecomment-1870880929","issue_url":"https://api.github.com/repos/psf/black/issues/4043","id":1870880929,"node_id":"IC_kwDOB3dpmM5vg2Ch","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-28T06:58:59Z","updated_at":"2023-12-28T07:08:27Z","body":"Thanks @bintoro for following up! It was indeed my intention in this issue that we allow empty lines between class and method (although I personally don't care the most about this case). We also should allow new lines before a nested function (I find this case can clearly help readability). https://github.com/psf/black/pull/4130 should fix both of these cases.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/psf/black/issues/comments/1870880929/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11348930971,"node_id":"REFE_lADOB3dpmM52nf8tzwAAAAKkcvGb","url":"https://api.github.com/repos/psf/black/issues/events/11348930971","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2c1b0f75cc2463eaab19c33cdb7a18f4eb783bae","commit_url":"https://api.github.com/repos/hauntsaninja/black/commits/2c1b0f75cc2463eaab19c33cdb7a18f4eb783bae","created_at":"2023-12-28T07:02:46Z","performed_via_github_app":null},{"id":11348956189,"node_id":"MEE_lADOB3dpmM52nf8tzwAAAAKkc1Qd","url":"https://api.github.com/repos/psf/black/issues/events/11348956189","actor":{"login":"bintoro","id":7081785,"node_id":"MDQ6VXNlcjcwODE3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7081785?v=4","gravatar_id":"","url":"https://api.github.com/users/bintoro","html_url":"https://github.com/bintoro","followers_url":"https://api.github.com/users/bintoro/followers","following_url":"https://api.github.com/users/bintoro/following{/other_user}","gists_url":"https://api.github.com/users/bintoro/gists{/gist_id}","starred_url":"https://api.github.com/users/bintoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bintoro/subscriptions","organizations_url":"https://api.github.com/users/bintoro/orgs","repos_url":"https://api.github.com/users/bintoro/repos","events_url":"https://api.github.com/users/bintoro/events{/privacy}","received_events_url":"https://api.github.com/users/bintoro/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-28T07:08:28Z","performed_via_github_app":null},{"id":11348956195,"node_id":"SE_lADOB3dpmM52nf8tzwAAAAKkc1Qj","url":"https://api.github.com/repos/psf/black/issues/events/11348956195","actor":{"login":"bintoro","id":7081785,"node_id":"MDQ6VXNlcjcwODE3ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7081785?v=4","gravatar_id":"","url":"https://api.github.com/users/bintoro","html_url":"https://github.com/bintoro","followers_url":"https://api.github.com/users/bintoro/followers","following_url":"https://api.github.com/users/bintoro/following{/other_user}","gists_url":"https://api.github.com/users/bintoro/gists{/gist_id}","starred_url":"https://api.github.com/users/bintoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bintoro/subscriptions","organizations_url":"https://api.github.com/users/bintoro/orgs","repos_url":"https://api.github.com/users/bintoro/repos","events_url":"https://api.github.com/users/bintoro/events{/privacy}","received_events_url":"https://api.github.com/users/bintoro/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-28T07:08:28Z","performed_via_github_app":null},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-28T07:33:51Z","updated_at":"2023-12-28T07:33:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/4121","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/4121/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/4121/comments","events_url":"https://api.github.com/repos/psf/black/issues/4121/events","html_url":"https://github.com/psf/black/issues/4121","id":2053409373,"node_id":"I_kwDOB3dpmM56ZIpd","number":4121,"title":"`allow_empty_first_line_before_new_block_or_comment` can lead to inconsistent formatting","user":{"login":"MichaReiser","id":1203881,"node_id":"MDQ6VXNlcjEyMDM4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1203881?v=4","gravatar_id":"","url":"https://api.github.com/users/MichaReiser","html_url":"https://github.com/MichaReiser","followers_url":"https://api.github.com/users/MichaReiser/followers","following_url":"https://api.github.com/users/MichaReiser/following{/other_user}","gists_url":"https://api.github.com/users/MichaReiser/gists{/gist_id}","starred_url":"https://api.github.com/users/MichaReiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichaReiser/subscriptions","organizations_url":"https://api.github.com/users/MichaReiser/orgs","repos_url":"https://api.github.com/users/MichaReiser/repos","events_url":"https://api.github.com/users/MichaReiser/events{/privacy}","received_events_url":"https://api.github.com/users/MichaReiser/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":4923632282,"node_id":"LA_kwDOB3dpmM8AAAABJXiqmg","url":"https://api.github.com/repos/psf/black/labels/C:%20preview%20style","name":"C: preview style","color":"E4C5D3","default":false,"description":"Issues with the preview and unstable style. Add the name of the responsible feature in the title."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-12-22T05:37:17Z","updated_at":"2024-01-20T00:58:49Z","closed_at":"2024-01-20T00:58:49Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the style change**\r\n\r\nI am working on Ruff's formatter and implementing Black's preview styles. We reviewed the `allow_empty_first_line_before_new_block_or_comment` preview style and decided not to implement it because it leads to inconsistent formatting after moving or deleting code or requires more manual intervention.\r\n\r\n**Examples when `allow_empty_first_line_before_new_block_or_comment` is enabled**\r\n\r\nI work on a refactoring and start with the following code:\r\n\r\n```python\r\ndef foo():\r\n    \"\"\"\r\n    Docstring\r\n    \"\"\"\r\n\r\n    # Here we go\r\n    if x:\r\n        if no_longer_needed:\r\n            print(\"Some complex statements\")\r\n\r\n        # This is also now fine\r\n        a = 123\r\n```\r\n\r\nAnd I delete the `no_longer_needed` branch:\r\n\r\n```python\r\ndef foo():\r\n    \"\"\"\r\n    Docstring\r\n    \"\"\"\r\n\r\n    # Here we go\r\n    if x:\r\n\r\n        # This is also now fine\r\n        a = 123\r\n```\r\n\r\nBlack removes the empty line above the comment when the `allow_empty_first_line_before_new_block_or_comment` style is disabled. \r\n\r\n```python\r\ndef foo():\r\n    \"\"\"\r\n    Docstring\r\n    \"\"\"\r\n\r\n    # Here we go\r\n    if x:\r\n        # This is also now fine\r\n        a = 123\r\n```\r\n\r\nBlack doesn't remove the empty line when enabling `allow_empty_first_line_before_new_block_or_comment,` which either results in an unintended empty line above the comment (inconsistency) or that I have to intervene and remove the empty line manually. This feels like something I would expect a formatter to do for me (at the cost that having empty lines before comments isn't possible)\r\n\r\n**Desired style**\r\n\r\nTo keep the non-preview formatting for comments at the start of a block.\r\n\r\n**Additional context**\r\n\r\n* [PR](https://github.com/psf/black/pull/3967)\r\n* [Issue](https://github.com/psf/black/issues/3551#issuecomment-1545878067)\r\n","reactions":{"url":"https://api.github.com/repos/psf/black/issues/4121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/4121/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-28T23:47:13Z","updated_at":"2023-12-28T23:47:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/4132","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/4132/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/4132/comments","events_url":"https://api.github.com/repos/psf/black/issues/4132/events","html_url":"https://github.com/psf/black/pull/4132","id":2058944225,"node_id":"PR_kwDOB3dpmM5i6XcY","number":4132,"title":"Remove empty lines before docstrings in async functions","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-12-28T23:46:32Z","updated_at":"2024-01-02T01:21:54Z","closed_at":"2024-01-02T00:56:39Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/psf/black/pulls/4132","html_url":"https://github.com/psf/black/pull/4132","diff_url":"https://github.com/psf/black/pull/4132.diff","patch_url":"https://github.com/psf/black/pull/4132.patch","merged_at":"2024-01-02T00:56:39Z"},"body":"Relates to #4043","reactions":{"url":"https://api.github.com/repos/psf/black/issues/4132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/4132/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11366417312,"node_id":"REFE_lADOB3dpmM52nf8tzwAAAAKlfcOg","url":"https://api.github.com/repos/psf/black/issues/events/11366417312","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fe3376141c333271d3c64d7fa0e433652e2b48ff","commit_url":"https://api.github.com/repos/psf/black/commits/fe3376141c333271d3c64d7fa0e433652e2b48ff","created_at":"2024-01-01T23:46:12Z","performed_via_github_app":null},{"actor":{"login":"e-gebes","id":78208666,"node_id":"MDQ6VXNlcjc4MjA4NjY2","avatar_url":"https://avatars.githubusercontent.com/u/78208666?v=4","gravatar_id":"","url":"https://api.github.com/users/e-gebes","html_url":"https://github.com/e-gebes","followers_url":"https://api.github.com/users/e-gebes/followers","following_url":"https://api.github.com/users/e-gebes/following{/other_user}","gists_url":"https://api.github.com/users/e-gebes/gists{/gist_id}","starred_url":"https://api.github.com/users/e-gebes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/e-gebes/subscriptions","organizations_url":"https://api.github.com/users/e-gebes/orgs","repos_url":"https://api.github.com/users/e-gebes/repos","events_url":"https://api.github.com/users/e-gebes/events{/privacy}","received_events_url":"https://api.github.com/users/e-gebes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-06T20:41:23Z","updated_at":"2024-01-06T20:41:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psf/black/issues/450","repository_url":"https://api.github.com/repos/psf/black","labels_url":"https://api.github.com/repos/psf/black/issues/450/labels{/name}","comments_url":"https://api.github.com/repos/psf/black/issues/450/comments","events_url":"https://api.github.com/repos/psf/black/issues/450/events","html_url":"https://github.com/psf/black/issues/450","id":350334510,"node_id":"MDU6SXNzdWUzNTAzMzQ1MTA=","number":450,"title":"Only enforce blank line separation between functions and classes at the same level of nesting","user":{"login":"njsmith","id":609896,"node_id":"MDQ6VXNlcjYwOTg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/609896?v=4","gravatar_id":"","url":"https://api.github.com/users/njsmith","html_url":"https://github.com/njsmith","followers_url":"https://api.github.com/users/njsmith/followers","following_url":"https://api.github.com/users/njsmith/following{/other_user}","gists_url":"https://api.github.com/users/njsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/njsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njsmith/subscriptions","organizations_url":"https://api.github.com/users/njsmith/orgs","repos_url":"https://api.github.com/users/njsmith/repos","events_url":"https://api.github.com/users/njsmith/events{/privacy}","received_events_url":"https://api.github.com/users/njsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":869135448,"node_id":"MDU6TGFiZWw4NjkxMzU0NDg=","url":"https://api.github.com/repos/psf/black/labels/T:%20style","name":"T: style","color":"0052cc","default":false,"description":"What do we want Blackened code to look like?"},{"id":879629035,"node_id":"MDU6TGFiZWw4Nzk2MjkwMzU=","url":"https://api.github.com/repos/psf/black/labels/F:%20empty%20lines","name":"F: empty lines","color":"bfd4f2","default":false,"description":"Wasting vertical space efficiently."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2018-08-14T08:45:21Z","updated_at":"2024-01-07T00:08:21Z","closed_at":"2024-01-06T23:48:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":125266328,"node_id":"MDEwOlJlcG9zaXRvcnkxMjUyNjYzMjg=","name":"black","full_name":"psf/black","private":false,"owner":{"login":"psf","id":50630501,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwNjMwNTAx","avatar_url":"https://avatars.githubusercontent.com/u/50630501?v=4","gravatar_id":"","url":"https://api.github.com/users/psf","html_url":"https://github.com/psf","followers_url":"https://api.github.com/users/psf/followers","following_url":"https://api.github.com/users/psf/following{/other_user}","gists_url":"https://api.github.com/users/psf/gists{/gist_id}","starred_url":"https://api.github.com/users/psf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psf/subscriptions","organizations_url":"https://api.github.com/users/psf/orgs","repos_url":"https://api.github.com/users/psf/repos","events_url":"https://api.github.com/users/psf/events{/privacy}","received_events_url":"https://api.github.com/users/psf/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psf/black","description":"The uncompromising Python code formatter","fork":false,"url":"https://api.github.com/repos/psf/black","forks_url":"https://api.github.com/repos/psf/black/forks","keys_url":"https://api.github.com/repos/psf/black/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psf/black/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psf/black/teams","hooks_url":"https://api.github.com/repos/psf/black/hooks","issue_events_url":"https://api.github.com/repos/psf/black/issues/events{/number}","events_url":"https://api.github.com/repos/psf/black/events","assignees_url":"https://api.github.com/repos/psf/black/assignees{/user}","branches_url":"https://api.github.com/repos/psf/black/branches{/branch}","tags_url":"https://api.github.com/repos/psf/black/tags","blobs_url":"https://api.github.com/repos/psf/black/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psf/black/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psf/black/git/refs{/sha}","trees_url":"https://api.github.com/repos/psf/black/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psf/black/statuses/{sha}","languages_url":"https://api.github.com/repos/psf/black/languages","stargazers_url":"https://api.github.com/repos/psf/black/stargazers","contributors_url":"https://api.github.com/repos/psf/black/contributors","subscribers_url":"https://api.github.com/repos/psf/black/subscribers","subscription_url":"https://api.github.com/repos/psf/black/subscription","commits_url":"https://api.github.com/repos/psf/black/commits{/sha}","git_commits_url":"https://api.github.com/repos/psf/black/git/commits{/sha}","comments_url":"https://api.github.com/repos/psf/black/comments{/number}","issue_comment_url":"https://api.github.com/repos/psf/black/issues/comments{/number}","contents_url":"https://api.github.com/repos/psf/black/contents/{+path}","compare_url":"https://api.github.com/repos/psf/black/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psf/black/merges","archive_url":"https://api.github.com/repos/psf/black/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psf/black/downloads","issues_url":"https://api.github.com/repos/psf/black/issues{/number}","pulls_url":"https://api.github.com/repos/psf/black/pulls{/number}","milestones_url":"https://api.github.com/repos/psf/black/milestones{/number}","notifications_url":"https://api.github.com/repos/psf/black/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psf/black/labels{/name}","releases_url":"https://api.github.com/repos/psf/black/releases{/id}","deployments_url":"https://api.github.com/repos/psf/black/deployments","created_at":"2018-03-14T19:54:45Z","updated_at":"2025-11-09T16:48:04Z","pushed_at":"2025-11-05T18:14:18Z","git_url":"git://github.com/psf/black.git","ssh_url":"git@github.com:psf/black.git","clone_url":"https://github.com/psf/black.git","svn_url":"https://github.com/psf/black","homepage":"https://black.readthedocs.io/en/stable/","size":7569,"stargazers_count":41126,"watchers_count":41126,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2665,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":337,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["autopep8","code","codeformatter","formatter","gofmt","hacktoberfest","pre-commit-hook","python","yapf"],"visibility":"public","forks":2665,"open_issues":337,"watchers":41126,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Black insists that function and class definitions should be separated by blank lines. Good rule! However, I think it's *slightly* overenthusiastic.\r\n\r\nFor functions at the same level of nesting, this is a good idea:\r\n\r\n```diff\r\n def foo():\r\n     pass\r\n+\r\n def bar():\r\n     pass\r\n```\r\n\r\nAnd it's not just between two functions, but between any start/end of a function and surrounding code:\r\n\r\n```diff\r\n FOO = 1\r\n+\r\n def foo():\r\n     pass\r\n+\r\n BAR = 2\r\n```\r\n\r\nBut! This seems unnecessary â€“ and dare I say, ugly and less readable â€“ when the adjacent line of code is on a different nesting level:\r\n\r\n```python\r\n    if clogged_stream_maker is not None:\r\n\r\n        async def flipped_clogged_stream_maker():\r\n            return reversed(await clogged_stream_maker())\r\n\r\n    else:\r\n        flipped_clogged_stream_maker = None\r\n```\r\n\r\nI claim that the above snippet ([source](https://github.com/python-trio/trio/blob/975107ae9f53bdd2495b38eabb45504207caab09/trio/testing/_check_streams.py#L374) would be better without any blank lines.\r\n\r\nThe same applies to classes, like, how does this blank line help anything? ([source](https://github.com/python-trio/trio/blob/975107ae9f53bdd2495b38eabb45504207caab09/trio/tests/test_file_io.py#L34)\r\n\r\n```diff\r\n def test_wrap_non_iobase():\r\n+\r\n     class FakeFile:\r\n\r\n         def close(self):  # pragma: no cover\r\n             pass\r\n```\r\n\r\nThe intuition here is that blank lines are *separators*, not headers/footers. And you only need separation between items at the same level of nesting. We don't insist on using blank lines to separate a `class` or `def` from the beginning or end of the file; similarly, we shouldn't insist on using them to separate a `class` or `def` from the beginning or end of a block.\r\n\r\nThis would also make black's handling of `def` and `class` more consistent with its handling of `import`. Currently black *does* use the rule I suggest for blank lines after `import` statements:\r\n\r\n```python\r\n# Black insists on a blank line after the import here:\r\nimport foo\r\n\r\nBAR = 1\r\n\r\n# But not here:\r\ntry:\r\n    import foo\r\nexcept ImportError:\r\n    pass\r\n```\r\n\r\nThis annoys me because I have a codebase with lots of functions whose first order of business is to define a nested function:\r\n\r\n```python\r\nasync def foo():  # black wants to insert a blank line after this line\r\n    def bar():\r\n        ...\r\n\r\n    return await run_sync_in_worker_thread(bar)\r\n```\r\n\r\nNote that making this change would not introduce churn into existing codebases, because black already preserves blank lines. It would just introduce fewer unnecessary blank lines in the future.","reactions":{"url":"https://api.github.com/repos/psf/black/issues/450/reactions","total_count":13,"+1":13,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psf/black/issues/450/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"vaughnkoch","id":390917,"node_id":"MDQ6VXNlcjM5MDkxNw==","avatar_url":"https://avatars.githubusercontent.com/u/390917?v=4","gravatar_id":"","url":"https://api.github.com/users/vaughnkoch","html_url":"https://github.com/vaughnkoch","followers_url":"https://api.github.com/users/vaughnkoch/followers","following_url":"https://api.github.com/users/vaughnkoch/following{/other_user}","gists_url":"https://api.github.com/users/vaughnkoch/gists{/gist_id}","starred_url":"https://api.github.com/users/vaughnkoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vaughnkoch/subscriptions","organizations_url":"https://api.github.com/users/vaughnkoch/orgs","repos_url":"https://api.github.com/users/vaughnkoch/repos","events_url":"https://api.github.com/users/vaughnkoch/events{/privacy}","received_events_url":"https://api.github.com/users/vaughnkoch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-25T07:20:04Z","updated_at":"2024-01-25T07:20:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/8893","repository_url":"https://api.github.com/repos/astral-sh/ruff","labels_url":"https://api.github.com/repos/astral-sh/ruff/issues/8893/labels{/name}","comments_url":"https://api.github.com/repos/astral-sh/ruff/issues/8893/comments","events_url":"https://api.github.com/repos/astral-sh/ruff/issues/8893/events","html_url":"https://github.com/astral-sh/ruff/issues/8893","id":2015680446,"node_id":"I_kwDOHy0Bzc54JNe-","number":8893,"title":"Formatter: `allow_empty_first_line_before_new_block_or_comment` preview style","user":{"login":"MichaReiser","id":1203881,"node_id":"MDQ6VXNlcjEyMDM4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1203881?v=4","gravatar_id":"","url":"https://api.github.com/users/MichaReiser","html_url":"https://github.com/MichaReiser","followers_url":"https://api.github.com/users/MichaReiser/followers","following_url":"https://api.github.com/users/MichaReiser/following{/other_user}","gists_url":"https://api.github.com/users/MichaReiser/gists{/gist_id}","starred_url":"https://api.github.com/users/MichaReiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichaReiser/subscriptions","organizations_url":"https://api.github.com/users/MichaReiser/orgs","repos_url":"https://api.github.com/users/MichaReiser/repos","events_url":"https://api.github.com/users/MichaReiser/events{/privacy}","received_events_url":"https://api.github.com/users/MichaReiser/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":5151519345,"node_id":"LA_kwDOHy0Bzc8AAAABMw3ycQ","url":"https://api.github.com/repos/astral-sh/ruff/labels/formatter","name":"formatter","color":"8BF3F0","default":false,"description":"Related to the formatter"},{"id":5950299975,"node_id":"LA_kwDOHy0Bzc8AAAABYqpfRw","url":"https://api.github.com/repos/astral-sh/ruff/labels/preview","name":"preview","color":"52c4e8","default":false,"description":"Related to preview mode features"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/astral-sh/ruff/milestones/6","html_url":"https://github.com/astral-sh/ruff/milestone/6","labels_url":"https://api.github.com/repos/astral-sh/ruff/milestones/6/labels","id":9722736,"node_id":"MI_kwDOHy0Bzc4AlFtw","number":6,"title":"Formatter: Stable","description":"","creator":{"login":"MichaReiser","id":1203881,"node_id":"MDQ6VXNlcjEyMDM4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1203881?v=4","gravatar_id":"","url":"https://api.github.com/users/MichaReiser","html_url":"https://github.com/MichaReiser","followers_url":"https://api.github.com/users/MichaReiser/followers","following_url":"https://api.github.com/users/MichaReiser/following{/other_user}","gists_url":"https://api.github.com/users/MichaReiser/gists{/gist_id}","starred_url":"https://api.github.com/users/MichaReiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichaReiser/subscriptions","organizations_url":"https://api.github.com/users/MichaReiser/orgs","repos_url":"https://api.github.com/users/MichaReiser/repos","events_url":"https://api.github.com/users/MichaReiser/events{/privacy}","received_events_url":"https://api.github.com/users/MichaReiser/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":2,"closed_issues":79,"state":"closed","created_at":"2023-07-31T16:15:51Z","updated_at":"2024-11-03T11:49:27Z","due_on":null,"closed_at":"2024-02-29T17:24:47Z"},"comments":5,"created_at":"2023-11-29T02:30:43Z","updated_at":"2024-01-25T07:26:03Z","closed_at":"2023-12-22T05:30:03Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":523043277,"node_id":"R_kgDOHy0BzQ","name":"ruff","full_name":"astral-sh/ruff","private":false,"owner":{"login":"astral-sh","id":115962839,"node_id":"O_kgDOBulz1w","avatar_url":"https://avatars.githubusercontent.com/u/115962839?v=4","gravatar_id":"","url":"https://api.github.com/users/astral-sh","html_url":"https://github.com/astral-sh","followers_url":"https://api.github.com/users/astral-sh/followers","following_url":"https://api.github.com/users/astral-sh/following{/other_user}","gists_url":"https://api.github.com/users/astral-sh/gists{/gist_id}","starred_url":"https://api.github.com/users/astral-sh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astral-sh/subscriptions","organizations_url":"https://api.github.com/users/astral-sh/orgs","repos_url":"https://api.github.com/users/astral-sh/repos","events_url":"https://api.github.com/users/astral-sh/events{/privacy}","received_events_url":"https://api.github.com/users/astral-sh/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/astral-sh/ruff","description":"An extremely fast Python linter and code formatter, written in Rust.","fork":false,"url":"https://api.github.com/repos/astral-sh/ruff","forks_url":"https://api.github.com/repos/astral-sh/ruff/forks","keys_url":"https://api.github.com/repos/astral-sh/ruff/keys{/key_id}","collaborators_url":"https://api.github.com/repos/astral-sh/ruff/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/astral-sh/ruff/teams","hooks_url":"https://api.github.com/repos/astral-sh/ruff/hooks","issue_events_url":"https://api.github.com/repos/astral-sh/ruff/issues/events{/number}","events_url":"https://api.github.com/repos/astral-sh/ruff/events","assignees_url":"https://api.github.com/repos/astral-sh/ruff/assignees{/user}","branches_url":"https://api.github.com/repos/astral-sh/ruff/branches{/branch}","tags_url":"https://api.github.com/repos/astral-sh/ruff/tags","blobs_url":"https://api.github.com/repos/astral-sh/ruff/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/astral-sh/ruff/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/astral-sh/ruff/git/refs{/sha}","trees_url":"https://api.github.com/repos/astral-sh/ruff/git/trees{/sha}","statuses_url":"https://api.github.com/repos/astral-sh/ruff/statuses/{sha}","languages_url":"https://api.github.com/repos/astral-sh/ruff/languages","stargazers_url":"https://api.github.com/repos/astral-sh/ruff/stargazers","contributors_url":"https://api.github.com/repos/astral-sh/ruff/contributors","subscribers_url":"https://api.github.com/repos/astral-sh/ruff/subscribers","subscription_url":"https://api.github.com/repos/astral-sh/ruff/subscription","commits_url":"https://api.github.com/repos/astral-sh/ruff/commits{/sha}","git_commits_url":"https://api.github.com/repos/astral-sh/ruff/git/commits{/sha}","comments_url":"https://api.github.com/repos/astral-sh/ruff/comments{/number}","issue_comment_url":"https://api.github.com/repos/astral-sh/ruff/issues/comments{/number}","contents_url":"https://api.github.com/repos/astral-sh/ruff/contents/{+path}","compare_url":"https://api.github.com/repos/astral-sh/ruff/compare/{base}...{head}","merges_url":"https://api.github.com/repos/astral-sh/ruff/merges","archive_url":"https://api.github.com/repos/astral-sh/ruff/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/astral-sh/ruff/downloads","issues_url":"https://api.github.com/repos/astral-sh/ruff/issues{/number}","pulls_url":"https://api.github.com/repos/astral-sh/ruff/pulls{/number}","milestones_url":"https://api.github.com/repos/astral-sh/ruff/milestones{/number}","notifications_url":"https://api.github.com/repos/astral-sh/ruff/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/astral-sh/ruff/labels{/name}","releases_url":"https://api.github.com/repos/astral-sh/ruff/releases{/id}","deployments_url":"https://api.github.com/repos/astral-sh/ruff/deployments","created_at":"2022-08-09T17:17:44Z","updated_at":"2025-11-09T17:02:18Z","pushed_at":"2025-11-08T20:00:54Z","git_url":"git://github.com/astral-sh/ruff.git","ssh_url":"git@github.com:astral-sh/ruff.git","clone_url":"https://github.com/astral-sh/ruff.git","svn_url":"https://github.com/astral-sh/ruff","homepage":"https://docs.astral.sh/ruff","size":101742,"stargazers_count":43662,"watchers_count":43662,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1604,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1806,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","pep8","python","python3","ruff","rust","rustpython","static-analysis","static-code-analysis","style-guide","styleguide"],"visibility":"public","forks":1604,"open_issues":1806,"watchers":43662,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Implement Black's [`allow_empty_first_line_before_new_block_or_comment`](https://github.com/psf/black/pull/3967) as a Ruff preview style. \r\n\r\n```python\r\ndef foo():\r\n    \"\"\"\r\n    Docstring\r\n    \"\"\"\r\n\r\n    # Here we go\r\n    if x:\r\n\r\n        # This is also now fine\r\n        a = 123\r\n\r\n    else:\r\n        # But not necessary\r\n        a = 123\r\n```\r\n\r\nNotice how black now allows empty lines before the comments. Ruff seems to support this sometimes.\r\n\r\nGoal: Implement the new formatting behind the preview flag and import the Black tests.","reactions":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/8893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/astral-sh/ruff/issues/8893/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"actor":{"login":"vaughnkoch","id":390917,"node_id":"MDQ6VXNlcjM5MDkxNw==","avatar_url":"https://avatars.githubusercontent.com/u/390917?v=4","gravatar_id":"","url":"https://api.github.com/users/vaughnkoch","html_url":"https://github.com/vaughnkoch","followers_url":"https://api.github.com/users/vaughnkoch/followers","following_url":"https://api.github.com/users/vaughnkoch/following{/other_user}","gists_url":"https://api.github.com/users/vaughnkoch/gists{/gist_id}","starred_url":"https://api.github.com/users/vaughnkoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vaughnkoch/subscriptions","organizations_url":"https://api.github.com/users/vaughnkoch/orgs","repos_url":"https://api.github.com/users/vaughnkoch/repos","events_url":"https://api.github.com/users/vaughnkoch/events{/privacy}","received_events_url":"https://api.github.com/users/vaughnkoch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-31T17:07:59Z","updated_at":"2024-01-31T17:07:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/9745","repository_url":"https://api.github.com/repos/astral-sh/ruff","labels_url":"https://api.github.com/repos/astral-sh/ruff/issues/9745/labels{/name}","comments_url":"https://api.github.com/repos/astral-sh/ruff/issues/9745/comments","events_url":"https://api.github.com/repos/astral-sh/ruff/issues/9745/events","html_url":"https://github.com/astral-sh/ruff/issues/9745","id":2110574344,"node_id":"I_kwDOHy0Bzc59zM8I","number":9745,"title":"Allow newlines after block open (or not)","user":{"login":"vaughnkoch","id":390917,"node_id":"MDQ6VXNlcjM5MDkxNw==","avatar_url":"https://avatars.githubusercontent.com/u/390917?v=4","gravatar_id":"","url":"https://api.github.com/users/vaughnkoch","html_url":"https://github.com/vaughnkoch","followers_url":"https://api.github.com/users/vaughnkoch/followers","following_url":"https://api.github.com/users/vaughnkoch/following{/other_user}","gists_url":"https://api.github.com/users/vaughnkoch/gists{/gist_id}","starred_url":"https://api.github.com/users/vaughnkoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vaughnkoch/subscriptions","organizations_url":"https://api.github.com/users/vaughnkoch/orgs","repos_url":"https://api.github.com/users/vaughnkoch/repos","events_url":"https://api.github.com/users/vaughnkoch/events{/privacy}","received_events_url":"https://api.github.com/users/vaughnkoch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":5151519345,"node_id":"LA_kwDOHy0Bzc8AAAABMw3ycQ","url":"https://api.github.com/repos/astral-sh/ruff/labels/formatter","name":"formatter","color":"8BF3F0","default":false,"description":"Related to the formatter"},{"id":6134649712,"node_id":"LA_kwDOHy0Bzc8AAAABbadTcA","url":"https://api.github.com/repos/astral-sh/ruff/labels/style","name":"style","color":"C2E0C6","default":false,"description":"How should formatted code look"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":30,"created_at":"2024-01-31T17:07:59Z","updated_at":"2025-07-17T13:16:49Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":523043277,"node_id":"R_kgDOHy0BzQ","name":"ruff","full_name":"astral-sh/ruff","private":false,"owner":{"login":"astral-sh","id":115962839,"node_id":"O_kgDOBulz1w","avatar_url":"https://avatars.githubusercontent.com/u/115962839?v=4","gravatar_id":"","url":"https://api.github.com/users/astral-sh","html_url":"https://github.com/astral-sh","followers_url":"https://api.github.com/users/astral-sh/followers","following_url":"https://api.github.com/users/astral-sh/following{/other_user}","gists_url":"https://api.github.com/users/astral-sh/gists{/gist_id}","starred_url":"https://api.github.com/users/astral-sh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astral-sh/subscriptions","organizations_url":"https://api.github.com/users/astral-sh/orgs","repos_url":"https://api.github.com/users/astral-sh/repos","events_url":"https://api.github.com/users/astral-sh/events{/privacy}","received_events_url":"https://api.github.com/users/astral-sh/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/astral-sh/ruff","description":"An extremely fast Python linter and code formatter, written in Rust.","fork":false,"url":"https://api.github.com/repos/astral-sh/ruff","forks_url":"https://api.github.com/repos/astral-sh/ruff/forks","keys_url":"https://api.github.com/repos/astral-sh/ruff/keys{/key_id}","collaborators_url":"https://api.github.com/repos/astral-sh/ruff/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/astral-sh/ruff/teams","hooks_url":"https://api.github.com/repos/astral-sh/ruff/hooks","issue_events_url":"https://api.github.com/repos/astral-sh/ruff/issues/events{/number}","events_url":"https://api.github.com/repos/astral-sh/ruff/events","assignees_url":"https://api.github.com/repos/astral-sh/ruff/assignees{/user}","branches_url":"https://api.github.com/repos/astral-sh/ruff/branches{/branch}","tags_url":"https://api.github.com/repos/astral-sh/ruff/tags","blobs_url":"https://api.github.com/repos/astral-sh/ruff/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/astral-sh/ruff/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/astral-sh/ruff/git/refs{/sha}","trees_url":"https://api.github.com/repos/astral-sh/ruff/git/trees{/sha}","statuses_url":"https://api.github.com/repos/astral-sh/ruff/statuses/{sha}","languages_url":"https://api.github.com/repos/astral-sh/ruff/languages","stargazers_url":"https://api.github.com/repos/astral-sh/ruff/stargazers","contributors_url":"https://api.github.com/repos/astral-sh/ruff/contributors","subscribers_url":"https://api.github.com/repos/astral-sh/ruff/subscribers","subscription_url":"https://api.github.com/repos/astral-sh/ruff/subscription","commits_url":"https://api.github.com/repos/astral-sh/ruff/commits{/sha}","git_commits_url":"https://api.github.com/repos/astral-sh/ruff/git/commits{/sha}","comments_url":"https://api.github.com/repos/astral-sh/ruff/comments{/number}","issue_comment_url":"https://api.github.com/repos/astral-sh/ruff/issues/comments{/number}","contents_url":"https://api.github.com/repos/astral-sh/ruff/contents/{+path}","compare_url":"https://api.github.com/repos/astral-sh/ruff/compare/{base}...{head}","merges_url":"https://api.github.com/repos/astral-sh/ruff/merges","archive_url":"https://api.github.com/repos/astral-sh/ruff/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/astral-sh/ruff/downloads","issues_url":"https://api.github.com/repos/astral-sh/ruff/issues{/number}","pulls_url":"https://api.github.com/repos/astral-sh/ruff/pulls{/number}","milestones_url":"https://api.github.com/repos/astral-sh/ruff/milestones{/number}","notifications_url":"https://api.github.com/repos/astral-sh/ruff/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/astral-sh/ruff/labels{/name}","releases_url":"https://api.github.com/repos/astral-sh/ruff/releases{/id}","deployments_url":"https://api.github.com/repos/astral-sh/ruff/deployments","created_at":"2022-08-09T17:17:44Z","updated_at":"2025-11-09T17:02:18Z","pushed_at":"2025-11-08T20:00:54Z","git_url":"git://github.com/astral-sh/ruff.git","ssh_url":"git@github.com:astral-sh/ruff.git","clone_url":"https://github.com/astral-sh/ruff.git","svn_url":"https://github.com/astral-sh/ruff","homepage":"https://docs.astral.sh/ruff","size":101742,"stargazers_count":43662,"watchers_count":43662,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1604,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1806,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","pep8","python","python3","ruff","rust","rustpython","static-analysis","static-code-analysis","style-guide","styleguide"],"visibility":"public","forks":1604,"open_issues":1806,"watchers":43662,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi, I'm opening this issue per a suggestion from @MichaReiser, based on this closed issue: https://github.com/astral-sh/ruff/issues/8893.\r\n\r\nThe formatting question is whether Ruff should automatically remove a blank line after a block definition:\r\n\r\n```\r\ndef some_func():\r\n\r\n    some_more_code()\r\n```\r\n\r\nto \r\n\r\n```\r\ndef some_func():\r\n    some_more_code()\r\n```\r\n\r\nThe alternative is \"allow zero or one\" newlines, i.e. not to remove the newline if it exists, but also not to automatically add one. This is the approach that Black chose in their 2024 preview style. Full Black discussion here: https://github.com/psf/black/issues/4043.","reactions":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/9745/reactions","total_count":62,"+1":62,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/astral-sh/ruff/issues/9745/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]