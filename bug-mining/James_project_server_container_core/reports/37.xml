<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:29:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JAMES-343] James does not compile using Sun JDK 5.0</title>
                <link>https://issues.apache.org/jira/browse/JAMES-343</link>
                <project id="10411" key="JAMES">James Server</project>
                    <description>&lt;p&gt;Several of the source files use a variable called &quot;enum&quot; for Enumerators.  This is a new keyword in Java 1.5, and the Sun JDK 5.0 compiler fails when it sees these variables.&lt;/p&gt;

&lt;p&gt;Please add &quot;source=&apos;1.4&apos;&quot; (or whichever language version is officially supported) to the &quot;javac&quot; task in build.xml.&lt;/p&gt;

&lt;p&gt;Changing the names of these variables would also work, but the &quot;source&quot; attribute provides better forward compatability as the Java language evolves.&lt;/p&gt;</description>
                <environment>Sun JDK 5.0&lt;br/&gt;
Ant 1.6.2</environment>
        <key id="29234">JAMES-343</key>
            <summary>James does not compile using Sun JDK 5.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="bago">Stefano Bagnara</assignee>
                                    <reporter username="jkeyser">Jeff Keyser</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Jan 2005 04:20:24 +0000</created>
                <updated>Wed, 21 Nov 2007 08:31:19 +0000</updated>
                            <resolved>Tue, 9 Aug 2005 03:48:12 +0000</resolved>
                                    <version>2.3.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="57478" author="fiveside" created="Tue, 11 Jan 2005 01:58:59 +0000"  >&lt;p&gt;A code patch for this has been posted on &lt;a href=&quot;https://issues.apache.org/jira/browse/JAMES-237&quot; title=&quot;J2 1.5&amp;#39;enum&amp;#39; is a keyword&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JAMES-237&quot;&gt;&lt;del&gt;JAMES-237&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="57491" author="ralfhauser" created="Tue, 11 Jan 2005 14:08:57 +0000"  >&lt;p&gt;in order to get the SSL working again, in build.xml, I had to amend the target sar with&lt;br/&gt;
    	&amp;lt;property environment=&quot;env&quot; /&amp;gt;&lt;br/&gt;
    	&amp;lt;property name=&quot;sunJce&quot; &lt;br/&gt;
    		location=&quot;${env.JAVA_HOME}/jre/lib/ext/sunjce_provider.jar&quot; /&amp;gt;&lt;br/&gt;
    	 &amp;lt;copy file=&quot;${sunJce}&quot; todir=&quot;${build.lib}&quot;/&amp;gt;&lt;br/&gt;
right before the sar task and in org.apache.james.James.initialize(), I had to add&lt;br/&gt;
    Security.addProvider(new SunJCE());&lt;br/&gt;
Otherwise, when accessing with outlook, it dies with &quot;bad handshake record MAC&quot; and when accessing it with thunderbird, it dies with &quot;DiffieHellman KeyPairGenerator not available&quot; &lt;/p&gt;

&lt;p&gt;Vincenzo says that in currrent SVN branch_2_1_fcs, the registration is automatically done (statically) by org.apache.james.security.KeyHolder (at least for the SMIMESign mailet)&lt;/p&gt;</comment>
                            <comment id="57500" author="vincenzo" created="Tue, 11 Jan 2005 19:55:28 +0000"  >&lt;p&gt;In currrent SVN branch_2_1_fcs, a registration of the org.bouncycastle.jce.provider.BouncyCastleProvider provider is automatically done by org.apache.james.security.KeyHolder when the SMIMESign mailet is initialized.&lt;br/&gt;
The BouncyCastleProvider provider is needed as such mailet needs some SMIME functionalities wich are not available with the SunJCE provider (at least using jre 1.3x and 1.4x). The registration is done this way for convenience, but it could also be done &quot;statically&quot; adding a  &quot;security.provider.n=org.bouncycastle.jce.provider.BouncyCastleProvider&quot; line to the appropriate (JRE or JSDK) &amp;lt;jre&amp;gt;/lib/security/java.security file.&lt;/p&gt;

&lt;p&gt;But this is specific to SMIMESign mailet; SSL does not need BouncyCastle. Let&apos;s explain. There are two separate actions/things to deal with:&lt;/p&gt;

&lt;p&gt;a) The appropriate/needed security provider(s) must be &quot;registered&quot; either statically in the java.security file or dinamically through a java.security.Security.addProvider() call (see org.apache.james.security.KeyHolder.InitJCE.init() as an example, where the call is done in a static method - don&apos;t confuse between static and dynamic here).&lt;/p&gt;

&lt;p&gt;b) When the registration(s) is/are done, the related jars must be found somewhere.&lt;/p&gt;

&lt;p&gt;Now the situation is as follows:&lt;/p&gt;

&lt;p&gt;1) SSL support needs a security provider. It can be SunJCE or some other (BouncyCastle works quite well).&lt;/p&gt;

&lt;p&gt;2) SMIMESign needs BouncyCastle (because of some SMIME functionality).&lt;/p&gt;

&lt;p&gt;3) Both JSDK and JRE 1.4x (and I suppose also 1.5) come by default with appropriate security.provider.n static registration entries in the &amp;lt;jre&amp;gt;/lib/security/java.security file for the Sun provider.&lt;/p&gt;

&lt;p&gt;4) Both JSDK and JRE 1.4x (and I suppose also 1.5) have the appropriate Sun security provider jars in the &amp;lt;jre&amp;gt;/lib directory.&lt;/p&gt;

&lt;p&gt;5) Avalon registers dynamically (see &lt;a href=&quot;https://issues.apache.org/jira/browse/JAMES-348&quot; title=&quot;make JDK independent (e.g. also IBM JVM should work)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JAMES-348&quot;&gt;&lt;del&gt;JAMES-348&lt;/del&gt;&lt;/a&gt;) the Sun providers; probably it was needeed for jre 1.3.&lt;/p&gt;

&lt;p&gt;6) In the current SVN branch_2_1_fcs, hence in the next coming James release, org.apache.james.security.KeyHolder registers the BouncyCastle provider when the SMIMESign mailet is started.&lt;/p&gt;

&lt;p&gt;7) Avalon &lt;b&gt;loads&lt;/b&gt; (it&apos;s a fact) from &amp;lt;james&amp;gt;/lib, not from &amp;lt;jre&amp;gt;/lib, so the jars needed mus be placed in &amp;lt;james&amp;gt;/lib. I mean &amp;lt;james&amp;gt;/lib, not &amp;lt;james&amp;gt;/apps/james/SAR-INF/lib.&lt;/p&gt;

&lt;p&gt;8) No one (as far as I know - am I wrong?) including ASF, is allowed to distribute java run-time code from Sun in its own installations, so no Sun security provider jars are by default in the &amp;lt;james&amp;gt;/lib, and should be put there only manually.&lt;/p&gt;

&lt;p&gt;9) In the current SVN branch_2_1_fcs, hence in the next coming James release, the BouncyCastle provider jars are put in &amp;lt;james&amp;gt;/lib by the James install process, with the appropriate BC license file. The jars are choosen in order to have both jre 1.3x and 1.4x compatibility; 1.5 has never been tested.&lt;/p&gt;

&lt;p&gt;--------------&lt;/p&gt;

&lt;p&gt;Now the options:&lt;/p&gt;

&lt;p&gt;A. If you are using the latest SVN branch_2_1_fcs release:&lt;/p&gt;

&lt;p&gt;A.1 If you want to use SMIMESign, just put the appropriate entry in config.xml.&lt;/p&gt;

&lt;p&gt;A.2 If you want to use SSL, put the appropriate entries in config.xml and:&lt;/p&gt;

&lt;p&gt;A.2.1 If you have activated SMIMESign, SSL will work using the BouncyCastle provider. This is my own setup.&lt;/p&gt;

&lt;p&gt;A.2.2 If you don&apos;t activate SMIMESign, either:&lt;/p&gt;

&lt;p&gt;A.2.3 Copy the appropriate Sun provider jars to &amp;lt;james&amp;gt;/lib, or&lt;/p&gt;

&lt;p&gt;A.2.4 Do a dynamic registration of the BC provider somewhere, for example issuing a call to org.apache.james.security.KeyHolder.InitJCE.init() from org.apache.james.James.initialize().&lt;/p&gt;

&lt;p&gt;B. If you are using James 2.2.0- release, and want to use SSL:&lt;/p&gt;

&lt;p&gt;B.1 Copy the appropriate Sun provider jars to &amp;lt;james&amp;gt;/lib, or&lt;/p&gt;

&lt;p&gt;B.2 Copy some other provider jars to &amp;lt;james&amp;gt;/lib, and do s static or dynamic registration.&lt;/p&gt;

&lt;p&gt;I think that all this applies also to jre 1.5, but it should be tested anyhow. Check the security.provider.n static registration entries in the &amp;lt;jre&amp;gt;/lib/security/java.security file: the names may have changed&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;


&lt;p&gt;This comment came out very monotonous, but hopefully is clear.&lt;/p&gt;</comment>
                            <comment id="12318038" author="bago" created="Tue, 9 Aug 2005 03:48:12 +0000"  >&lt;p&gt;The main issue is a duplicate of the enum issue already closed. The security issue (if still valid) should be posted in its own issue.&lt;/p&gt;</comment>
                            <comment id="12544223" author="danny@apache.org" created="Wed, 21 Nov 2007 08:31:19 +0000"  >&lt;p&gt;Closing issue fixed in released version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l42v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>