<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:28:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-2919] Scope defined in dependencyManagement section of parent pom overwrites scope of current artifact</title>
                <link>https://issues.apache.org/jira/browse/MNG-2919</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;If the dependencyManagement contains also the current artifact with a scope, this scope will overwrite the scope of the current project.&lt;/p&gt;

&lt;p&gt;Use case: A global parent POM that defines the released versions of all artifacts. Those artifacts are all defined with &quot;runtime&quot; scope to enforce projects to declare compile time deps (workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-2589&quot; title=&quot;Inherit transitive dependencies with runtime scope&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-2589&quot;&gt;&lt;del&gt;MNG-2589&lt;/del&gt;&lt;/a&gt;) or some are declared with scope &quot;test&quot; since they should only be used in unit or it tests.&lt;/p&gt;

&lt;p&gt;Problem: If that artifact is build with M206, it does no longer compile.&lt;/p&gt;

&lt;p&gt;Reason: The declaration in the dependencyManagement section overwrites also the scope of the current artifact itself i.e. all the declared dependencies are suddenly also no longer in the compile scope.&lt;/p&gt;

&lt;p&gt;Solution: The dependencyManagement may not overwrite the scope of the current artifact.&lt;/p&gt;

&lt;p&gt;Workaround: Add for the current artifact in its own POM a dependencyManagement section where it is itself declared again with compile scope.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12794668">MNG-2919</key>
            <summary>Scope defined in dependencyManagement section of parent pom overwrites scope of current artifact</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pschneider">Patrick Schneider</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Apr 2007 07:13:51 +0000</created>
                <updated>Sat, 5 Jul 2025 13:01:57 +0000</updated>
                            <resolved>Wed, 6 Jun 2007 11:48:13 +0000</resolved>
                                    <version>2.0.6</version>
                                    <fixVersion>2.0.7</fixVersion>
                                    <component>Dependencies</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14411423" author="joehni" created="Mon, 2 Apr 2007 07:27:59 +0000"  >&lt;p&gt;Simple setup to demonstrate the problem.&lt;/p&gt;</comment>
                            <comment id="14411713" author="jvanzyl" created="Mon, 4 Jun 2007 13:26:24 +0000"  >&lt;p&gt;I&apos;m not really sure from your explanation with your example what you are trying to say is happening. I&apos;m using &quot;mvn help:effective-pom&quot; on the child POM and seeing the behavior I expect where the junit dependency in the child overrides the scope of what is stated in the parent&apos;s depMan element. The child wins as it should. The scope in the child is not overwritten in your sample project. You need to explain better what you want me to look at or what the result should be instead of describing the general and then giving me concrete example that is working as expected.&lt;/p&gt;</comment>
                            <comment id="14411680" author="jvanzyl" created="Mon, 4 Jun 2007 13:27:06 +0000"  >&lt;p&gt;I&apos;m not really sure from your explanation with your example what you are trying to say is happening. I&apos;m using &quot;mvn help:effective-pom&quot; on the child POM and seeing the behavior I expect where the junit dependency in the child overrides the scope of what is stated in the parent&apos;s depMan element. The child wins as it should. The scope in the child is not overwritten in your sample project. You need to explain better what you want me to look at or what the result should be instead of describing the general and then giving me concrete example that is working as expected.&lt;/p&gt;</comment>
                            <comment id="14411667" author="pschneider" created="Tue, 5 Jun 2007 11:08:43 +0000"  >&lt;p&gt;I am able to reproduce the problem using the sample that Joerg attached.  The issue is not with junit, but with the child project itself (issue/pom.xml).&lt;/p&gt;

&lt;p&gt;I believe this is an ArtifactCollector problem, probably introduced in the fix to &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-1577&quot; title=&quot;dependencyManagement does not work for transitive dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-1577&quot;&gt;MNG-1577&lt;/a&gt;.  It may take me a bit of time to figure it out, so maybe we can slate this for 2.0.8?&lt;/p&gt;</comment>
                            <comment id="14411701" author="jvanzyl" created="Tue, 5 Jun 2007 11:54:49 +0000"  >&lt;p&gt;Is this something we can squeeze into 2.0.7?&lt;/p&gt;</comment>
                            <comment id="14411593" author="pschneider" created="Tue, 5 Jun 2007 13:38:37 +0000"  >&lt;p&gt;I will start work on it this afternoon.  Like I said, I&apos;m pretty sure where it&apos;s being caused, but I can&apos;t say for sure when I&apos;ll be done.  I guess it depends on when you&apos;re looking to ship 2.0.7.&lt;/p&gt;</comment>
                            <comment id="14411684" author="pschneider" created="Wed, 6 Jun 2007 11:42:41 +0000"  >&lt;p&gt;The interim fix in DefaultArtifactCollector that was submitted against &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-2931&quot; title=&quot;DefaultArtifactCollector changes the version of the originatingArtifact if it&amp;#39;s in the dependencyManagement with another version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-2931&quot;&gt;&lt;del&gt;MNG-2931&lt;/del&gt;&lt;/a&gt; fixes the version overwriting problem, but not the scope overwriting problem, as in this issue.&lt;/p&gt;</comment>
                            <comment id="14411744" author="pschneider" created="Wed, 6 Jun 2007 11:48:13 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-2931&quot; title=&quot;DefaultArtifactCollector changes the version of the originatingArtifact if it&amp;#39;s in the dependencyManagement with another version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-2931&quot;&gt;&lt;del&gt;MNG-2931&lt;/del&gt;&lt;/a&gt; for more information.  Fixing this bug was a matter of removing the version check from that fix.  Basically we don&apos;t want to alter the originatingArtifact at all when it&apos;s being built.  Added unit test the mimics the attached example project.&lt;/p&gt;</comment>
                            <comment id="14411670" author="pschneider" created="Wed, 6 Jun 2007 12:01:12 +0000"  >&lt;p&gt;Still need to port this up to the trunk &amp;#8211; will do so this evening or tomorrow.&lt;/p&gt;</comment>
                            <comment id="14411918" author="pschneider" created="Sat, 30 Jun 2007 12:32:18 +0000"  >&lt;p&gt;Added fix to the trunk.&lt;/p&gt;</comment>
                            <comment id="17997868" author="JIRAUSER302100" created="Sat, 5 Jul 2025 13:01:57 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/4572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#4572&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12794695">MNG-2931</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12712168" name="MNG-2919.zip" size="1432" author="joehni" created="Mon, 2 Apr 2007 07:27:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i28pgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>