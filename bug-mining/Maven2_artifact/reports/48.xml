<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:28:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-2931] DefaultArtifactCollector changes the version of the originatingArtifact if it&apos;s in the dependencyManagement with another version</title>
                <link>https://issues.apache.org/jira/browse/MNG-2931</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;DefaultDependencyTreeBuilder&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/maven/shared/trunk/maven-dependency-tree/src/main/java/org/apache/maven/shared/dependency/tree/DefaultDependencyTreeBuilder.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/maven/shared/trunk/maven-dependency-tree/src/main/java/org/apache/maven/shared/dependency/tree/DefaultDependencyTreeBuilder.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;calls collect like this&lt;/p&gt;

&lt;p&gt;            collector.collect( project.getDependencyArtifacts(), project.getArtifact(), managedVersions, repository,&lt;br/&gt;
                               project.getRemoteArtifactRepositories(), metadataSource, null,&lt;br/&gt;
                               Collections.singletonList( listener ) );&lt;/p&gt;

&lt;p&gt;Problem: &lt;br/&gt;
This pom &lt;br/&gt;
&lt;a href=&quot;http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-component-api/1.0-alpha-22/plexus-component-api-1.0-alpha-22.pom&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-component-api/1.0-alpha-22/plexus-component-api-1.0-alpha-22.pom&lt;/a&gt;&lt;br/&gt;
extends&lt;br/&gt;
&lt;a href=&quot;http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-containers/1.0-alpha-22/plexus-containers-1.0-alpha-22.pom&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-containers/1.0-alpha-22/plexus-containers-1.0-alpha-22.pom&lt;/a&gt;&lt;br/&gt;
that in dependencyManagement has org.codehaus.plexus:plexus-component-api:1.0-alpha-19&lt;/p&gt;

&lt;p&gt;so during collect project.getArtifact().getVersion() is changed to the managedVersion instead of the original one&lt;/p&gt;

&lt;p&gt;Either this is a bug or an exception should be thrown when originatingArtifact is in managedVersions&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12794695">MNG-2931</key>
            <summary>DefaultArtifactCollector changes the version of the originatingArtifact if it&apos;s in the dependencyManagement with another version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="carlos">Carlos Sanchez Gonzalez</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Apr 2007 20:31:36 +0000</created>
                <updated>Sat, 5 Jul 2025 13:01:52 +0000</updated>
                            <resolved>Wed, 30 Dec 2009 10:39:09 +0000</resolved>
                                    <version>2.0.5</version>
                    <version>2.0.6</version>
                                                    <component>Artifacts and Repositories</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14411363" author="carlos" created="Wed, 4 Apr 2007 20:32:21 +0000"  >&lt;p&gt;unit test&lt;/p&gt;</comment>
                            <comment id="14411271" author="carlos" created="Wed, 4 Apr 2007 20:35:57 +0000"  >&lt;p&gt;The question is do we allow a project to extend another one that has a different version of it in dependencyManagement ?&lt;br/&gt;
if we do, then the current project version has to win over the managed one&lt;/p&gt;</comment>
                            <comment id="14411379" author="carlos" created="Wed, 4 Apr 2007 20:46:27 +0000"  >&lt;p&gt;Seems logical to fail the build if dependencyManagement and the project version don&apos;t match&lt;/p&gt;</comment>
                            <comment id="14411408" author="joehni" created="Thu, 5 Apr 2007 00:18:33 +0000"  >&lt;p&gt;The version of the current artifact has to win! See, we manage all our versions in a global POM and that includes also our &lt;b&gt;released&lt;/b&gt; artifacts. However, they are depending on each other. So it is quite normal that an artifact inherits a version from the global POM, but will declare a SNAPSHOT on its own.&lt;/p&gt;</comment>
                            <comment id="14411444" author="carlos" created="Thu, 5 Apr 2007 12:49:39 +0000"  >&lt;p&gt;I can see a cycle &lt;/p&gt;

&lt;p&gt;the child can&apos;t be released until the parent is&lt;br/&gt;
if the parent is released with a released version of the child in depMngmt the child wouldn&apos;t run again as its version is still snapshot&lt;/p&gt;</comment>
                            <comment id="14411445" author="carlos" created="Fri, 6 Apr 2007 13:33:40 +0000"  >&lt;p&gt;I added a workaround to the code to avoid changing the originating artifact version until a better solution.&lt;/p&gt;</comment>
                            <comment id="14420603" author="breadfan@gmx.de" created="Tue, 24 Apr 2007 05:54:37 +0000"  >&lt;p&gt;Very, very ugly effect of this bug is that already deployed versions are overwritten by newer versions without notice. Maven changes the artifact version to the managed version and deploys it to the repository&lt;/p&gt;</comment>
                            <comment id="14413463" author="jdcasey" created="Wed, 9 Jul 2008 16:53:04 +0000"  >&lt;p&gt;For clarity, the attached patch has already been applied. (&lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-2931&quot; title=&quot;DefaultArtifactCollector changes the version of the originatingArtifact if it&amp;#39;s in the dependencyManagement with another version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-2931&quot;&gt;&lt;del&gt;MNG-2931&lt;/del&gt;&lt;/a&gt;.patch)&lt;/p&gt;</comment>
                            <comment id="14413226" author="jdcasey" created="Wed, 9 Jul 2008 16:55:41 +0000"  >&lt;p&gt;We need a clear test case for this issue, or it&apos;s going to be nearly impossible to be sure we have it located and fixed.&lt;/p&gt;</comment>
                            <comment id="17997859" author="JIRAUSER302100" created="Sat, 5 Jul 2025 13:01:52 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/4563&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#4563&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12794668">MNG-2919</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12712107" name="MNG-2931.patch" size="1285" author="carlos" created="Wed, 4 Apr 2007 20:32:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i28mv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>