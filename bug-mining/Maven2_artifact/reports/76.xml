<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:29:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-4275] [regression] Direct relocations no longer log at WARNING level : MNG-3380 conflicts with MNG-1689</title>
                <link>https://issues.apache.org/jira/browse/MNG-4275</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-3380&quot; title=&quot;MavenMetadataSource retrieves ResolutionGroup without consulting ManagedVersionMap, is problem when relocation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-3380&quot;&gt;&lt;del&gt;MNG-3380&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; to Process relocations before child-nodes are discovered during artifact collection, conflict with &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-1689&quot; title=&quot;Only print relocation warnings in standard output for the current pom&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-1689&quot;&gt;&lt;del&gt;MNG-1689&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &quot; Only print relocation warnings in standard output for the current pom&quot;.  This results in a regression where (direct) relocations are no longer logged at WARNING level and are only logged at DEBUG.  Direct relocations should be logged at WARNING level.&lt;/p&gt;

&lt;p&gt;@675087 &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-3380&quot; title=&quot;MavenMetadataSource retrieves ResolutionGroup without consulting ManagedVersionMap, is problem when relocation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-3380&quot;&gt;&lt;del&gt;MNG-3380&lt;/del&gt;&lt;/a&gt; was applied to DefaultArtifactCollector - the result is that the call to MavenMetadataSource#retrieveRelocatedArtifact() (then retrieveRelocatedProject()) occur before the call to artifact.setDependencyTrail( node.getDependencyTrail() ); in DefaultArtifactCollector.  This results in a null list in MavenMetadataSource, which then fails the if-test to log at WARNING level introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-1689&quot; title=&quot;Only print relocation warnings in standard output for the current pom&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-1689&quot;&gt;&lt;del&gt;MNG-1689&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;With a quick inspection I couldn&apos;t see the harm in bringing forward the call to:&lt;/p&gt;

&lt;p&gt;artifact.setDependencyTrail( node.getDependencyTrail() )&lt;/p&gt;

&lt;p&gt;, it is already called once when about to throw an exception, and this call can be replaced.  Proposed patch makes the setDependencyTrail call earlier, prior to relocation detection.&lt;/p&gt;

&lt;p&gt;See also Nabble post &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://jira.codehaus.org/browse/MNG-3380&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MNG-3380&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://jira.codehaus.org/browse/MNG-1689&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MNG-1689&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=675087&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=675087&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.nabble.com/2.0.9-%3E2.1.0-change-regression-in-relocation-WARNING--td24368186.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/2.0.9-%3E2.1.0-change-regression-in-relocation-WARNING--td24368186.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Apache Maven 2.2.1-RC2-SNAPSHOT (r799976; 2009-08-02 19:18:34+1000)&lt;br/&gt;
Java version: 1.6.0_14&lt;br/&gt;
Java home: /usr/lib/jvm/java-6-sun-1.6.0.14/jre&lt;br/&gt;
Default locale: en_AU, platform encoding: UTF-8&lt;br/&gt;
OS name: &amp;quot;linux&amp;quot; version: &amp;quot;2.6.28-14-generic&amp;quot; arch: &amp;quot;amd64&amp;quot; Family: &amp;quot;unix&amp;quot;</environment>
        <key id="12797594">MNG-4275</key>
            <summary>[regression] Direct relocations no longer log at WARNING level : MNG-3380 conflicts with MNG-1689</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcasey">John Dennis Casey</assignee>
                                    <reporter username="brett_s_r">Brett Randall</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Aug 2009 04:42:18 +0000</created>
                <updated>Sat, 5 Jul 2025 18:46:52 +0000</updated>
                            <resolved>Wed, 5 Aug 2009 17:09:37 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.1</fixVersion>
                                    <component>Dependencies</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14421010" author="brett_s_r" created="Sun, 2 Aug 2009 05:11:26 +0000"  >&lt;p&gt;Proposed patch, making call to artifact.setDependencyTrail( node.getDependencyTrail() ); earlier.&lt;/p&gt;</comment>
                            <comment id="14415177" author="jdcasey" created="Tue, 4 Aug 2009 15:45:16 +0000"  >&lt;p&gt;This needs a test case before we can apply the patch.&lt;/p&gt;</comment>
                            <comment id="14421019" author="brett_s_r" created="Tue, 4 Aug 2009 22:27:11 +0000"  >&lt;p&gt;OK - in order to write the test case, since we are testing log-invocation on a relocated artifact, I&apos;ll need to:&lt;/p&gt;

&lt;p&gt;1) Construct a relocated artifact in the test, and&lt;br/&gt;
2) Create a mock Log so that we can test if it is called with warn or debug.&lt;/p&gt;

&lt;p&gt;I&apos;m not familiar with the existing test-util assets in this area - both might require a bit of work.&lt;/p&gt;</comment>
                            <comment id="14415193" author="jdcasey" created="Wed, 5 Aug 2009 10:31:30 +0000"  >&lt;p&gt;I&apos;ll take a crack at the test case today.&lt;/p&gt;</comment>
                            <comment id="14415287" author="jdcasey" created="Wed, 5 Aug 2009 16:36:17 +0000"  >&lt;p&gt;got a test case put together, but I&apos;m having some connectivity problems with SVN, so I&apos;ll commit it to the core-integration-testing trunk as soon as I can.&lt;/p&gt;</comment>
                            <comment id="14415105" author="jdcasey" created="Wed, 5 Aug 2009 17:09:37 +0000"  >&lt;p&gt;committed integration test, and applied patch.&lt;/p&gt;

&lt;p&gt;Thanks, Brett.&lt;/p&gt;</comment>
                            <comment id="17999141" author="JIRAUSER302100" created="Sat, 5 Jul 2025 18:46:52 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/5885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#5885&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12712945" name="MNG-4275.maven-trunks.patch" size="1825" author="" created="Sun, 2 Aug 2009 05:11:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i28ttb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>