<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:38:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1950] Docker build broken with log4j-api-java9</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1950</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Since introduction of jdk9 requirement in the build, docker image cannot be built.&lt;/p&gt;

&lt;p&gt;It fails with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] --- maven-toolchains-plugin:1.1:toolchain (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ log4j-api-java9 ---
[INFO] Required toolchain: jdk [ version=&lt;span class=&quot;code-quote&quot;&gt;&apos;9&apos;&lt;/span&gt; ]
[ERROR] No toolchain found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; type jdk
[ERROR] Cannot find matching toolchain definitions &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the following toolchain types:
jdk [ version=&lt;span class=&quot;code-quote&quot;&gt;&apos;9&apos;&lt;/span&gt; ]
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Apache Log4j 2 ..................................... SUCCESS [05:27 min]
[INFO] Apache Log4j API Java 9 support .................... FAILURE [ 25.103 s]
[INFO] Apache Log4j API ................................... SKIPPED
[INFO] Apache Log4j Core .................................. SKIPPED
[INFO] Apache Log4j Core Integration Tests ................ SKIPPED
[INFO] Apache Log4j 1.x Compatibility API ................. SKIPPED
[INFO] Apache Log4j SLF4J Binding ......................... SKIPPED
[INFO] Apache Log4j to SLF4J Adapter ...................... SKIPPED
[INFO] Apache Log4j Commons Logging Bridge ................ SKIPPED
[INFO] Apache Log4j Flume Bridge .......................... SKIPPED
[INFO] Apache Log4j Web ................................... SKIPPED
[INFO] Apache Log4j Tag Library ........................... SKIPPED
[INFO] Apache Log4j JMX GUI ............................... SKIPPED
[INFO] Apache Log4j Samples ............................... SKIPPED
[INFO] Apache Log4j Samples: Flume - Common ............... SKIPPED
[INFO] Apache Log4j Samples: Flume - Remote ............... SKIPPED
[INFO] Apache Log4j Samples: Flume - Embedded ............. SKIPPED
[INFO] Apache Log4j Samples: Configuration ................ SKIPPED
[INFO] Apache Log4j Samples: LoggerProperties ............. SKIPPED
[INFO] Apache Log4j Scala 2.11 wrapper &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Log4j API ...... SKIPPED
[INFO] Apache Log4j Samples: Scala API .................... SKIPPED
[INFO] Apache Log4j OSGi .................................. SKIPPED
[INFO] Apache Log4j BOM ................................... SKIPPED
[INFO] Apache Log4j NoSQL ................................. SKIPPED
[INFO] Apache Log4J Performance Tests ..................... SKIPPED
[INFO] Apache Log4j Streaming Interface ................... SKIPPED
[INFO] Apache Log4j JUL Adapter ........................... SKIPPED
[INFO] Apache Log4j Liquibase Binding ..................... SKIPPED
[INFO] Apache Log4j Scala 2.10 wrapper &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Log4j API ...... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 08:47 min
[INFO] Finished at: 2017-06-22T15:27:35+00:00
[INFO] Final Memory: 33M/81M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) on project log4j-api-java9: Cannot find matching toolchain definitions &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the following toolchain types:
[ERROR] jdk [ version=&lt;span class=&quot;code-quote&quot;&gt;&apos;9&apos;&lt;/span&gt; ]
[ERROR] Please make sure you define the required toolchains in your ~/.m2/toolchains.xml file.
[ERROR] -&amp;gt; [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
&lt;/span&gt;[ERROR]
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :log4j-api-java9
The command &lt;span class=&quot;code-quote&quot;&gt;&apos;/bin/sh -c set -ex     &amp;amp;&amp;amp; cd /src     &amp;amp;&amp;amp; /opt/apache-maven-3.3.9/bin/mvn verify&apos;&lt;/span&gt; returned a non-zero code: 1

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have tried to make it working back, but alpine doesnt support openjdk9 till now, so I suggest to revert to the debian image (FROM openjdk:7-jdk).&lt;br/&gt;
First run is slow, as usual with packages, but then it works smoothly.&lt;/p&gt;

&lt;p&gt;Please check and confirm.&lt;br/&gt;
Have fun with docker &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Docker&lt;/p&gt;</environment>
        <key id="13081822">LOG4J2-1950</key>
            <summary>Docker build broken with log4j-api-java9</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="phymbert">Pierrick HYMBERT</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jun 2017 15:31:13 +0000</created>
                <updated>Thu, 29 Jun 2017 02:48:15 +0000</updated>
                            <resolved>Mon, 26 Jun 2017 15:54:12 +0000</resolved>
                                                    <fixVersion>2.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16059547" author="githubbot" created="Thu, 22 Jun 2017 15:35:41 +0000"  >&lt;p&gt;GitHub user phymbert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/84&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1950&quot; title=&quot;Docker build broken with log4j-api-java9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1950&quot;&gt;&lt;del&gt;LOG4J2-1950&lt;/del&gt;&lt;/a&gt; Fix docker build with jdk9 requirements&lt;/p&gt;

&lt;p&gt;    Revert docker image base from openjdk:7-alpine to openjdk:7-jdk (debian) since yet alpine does not include jdk9.&lt;br/&gt;
    Install jdk9 and specify toolchains file in the mvn build&lt;/p&gt;

&lt;p&gt;    Signed-off-by: phymbert &amp;lt;pierrick.hymbert@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/phymbert/logging-log4j2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/phymbert/logging-log4j2&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1950&quot; title=&quot;Docker build broken with log4j-api-java9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1950&quot;&gt;&lt;del&gt;LOG4J2-1950&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/84.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/84.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #84&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 516e2ab45ec01021098bfef8f55d7748f16c018b&lt;br/&gt;
Author: phymbert &amp;lt;pierrick.hymbert@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-06-22T15:33:32Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1950&quot; title=&quot;Docker build broken with log4j-api-java9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1950&quot;&gt;&lt;del&gt;LOG4J2-1950&lt;/del&gt;&lt;/a&gt; Fix docker build with jdk9 requirements&lt;/p&gt;

&lt;p&gt;    Signed-off-by: phymbert &amp;lt;pierrick.hymbert@gmail.com&amp;gt;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16059639" author="githubbot" created="Thu, 22 Jun 2017 16:24:34 +0000"  >&lt;p&gt;Github user garydgregory commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/84&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Curious, why not Maven 3.5.0?&lt;/p&gt;</comment>
                            <comment id="16059640" author="githubbot" created="Thu, 22 Jun 2017 16:25:21 +0000"  >&lt;p&gt;Github user jvz commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/84&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Can certainly be updated for that since it&apos;s not installed via apt-get.&lt;/p&gt;</comment>
                            <comment id="16059771" author="githubbot" created="Thu, 22 Jun 2017 18:04:04 +0000"  >&lt;p&gt;Github user phymbert commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/84&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I tried to minimise changes, I would prefer to install mvn as a package rather to freeze the version. I may do it tom if you are fine with it. &lt;/p&gt;</comment>
                            <comment id="16060650" author="githubbot" created="Fri, 23 Jun 2017 09:49:51 +0000"  >&lt;p&gt;Github user phymbert commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/84&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Updated to 3.5.0, please check&lt;/p&gt;</comment>
                            <comment id="16063290" author="jira-bot" created="Mon, 26 Jun 2017 15:53:40 +0000"  >&lt;p&gt;Commit 3f45368597b8d47c4997963a4ecc5ae66f486a95 in logging-log4j2&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phymbert&quot; class=&quot;user-hover&quot; rel=&quot;phymbert&quot;&gt;phymbert&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=3f45368&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=3f45368&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1950&quot; title=&quot;Docker build broken with log4j-api-java9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1950&quot;&gt;&lt;del&gt;LOG4J2-1950&lt;/del&gt;&lt;/a&gt; Fix docker build with jdk9 requirements. Closes #84.&lt;/p&gt;</comment>
                            <comment id="16063292" author="githubbot" created="Mon, 26 Jun 2017 15:54:00 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/84&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16063293" author="garydgregory" created="Mon, 26 Jun 2017 15:54:12 +0000"  >&lt;p&gt;In git master. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="16063476" author="phymbert" created="Mon, 26 Jun 2017 17:35:36 +0000"  >&lt;p&gt;OK, building. Thanks&lt;/p&gt;</comment>
                            <comment id="16063536" author="phymbert" created="Mon, 26 Jun 2017 18:12:31 +0000"  >&lt;p&gt;BTW, Log4j 1.x Compatibility API failed in docker env&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] --- maven-surefire-plugin:2.20:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) @ log4j-1.2-api ---
[INFO]
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.log4j.PriorityTest
[INFO] Running org.apache.log4j.LoggingTest
[INFO] Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.209 s - in org.apache.log4j.PriorityTest
[INFO] Running org.apache.log4j.config.Log4j1ConfigurationConverterSparkTest
[INFO] Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.642 s - in org.apache.log4j.config.Log4j1ConfigurationConverterSparkTest
[INFO] Running org.apache.log4j.config.Log4j1ConfigurationConverterHadoopTest
Missing rootCategory or rootLogger in InputStreamWrapper [description=/src/log4j-1.2-api/src/test/resources/config-1.2/hadoop/hadoop-common-project/hadoop-auth-examples/src/main/resources/lo
Missing rootCategory or rootLogger in InputStreamWrapper [description=/src/log4j-1.2-api/src/test/resources/config-1.2/hadoop/hadoop-tools/hadoop-sls/src/main/sample-conf/log4j.properties, i
[INFO] Tests run: 30, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.305 s - in org.apache.log4j.config.Log4j1ConfigurationConverterHadoopTest
[INFO] Running org.apache.log4j.config.Log4j1ConfigurationFactoryTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.675 s - in org.apache.log4j.LoggingTest
[INFO] Running org.apache.log4j.LevelTest
[INFO] Tests run: 23, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.106 s - in org.apache.log4j.LevelTest
[INFO] Running org.apache.log4j.LogWithMDCTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.091 s - in org.apache.log4j.LogWithMDCTest
[INFO] Running org.apache.log4j.MDCTestCase
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 s - in org.apache.log4j.MDCTestCase
[INFO] Running org.apache.log4j.CategoryTest
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.087 s - in org.apache.log4j.CategoryTest
[INFO] Running org.apache.log4j.LogWithRouteTest
&amp;lt;!DOCTYPE HTML PUBLIC &lt;span class=&quot;code-quote&quot;&gt;&quot;-&lt;span class=&quot;code-comment&quot;&gt;//W3C//DTD HTML 4.01 Transitional//EN&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;meta charset=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;title&amp;gt;Headline&amp;lt;/title&amp;gt;
&amp;lt;style type=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/css&quot;&lt;/span&gt;&amp;gt;
&amp;lt;!--
body, table {font-family:arial,sans-serif; font-size: medium
;}th {background: #336699; color: #FFFFFF; text-align: left;}
--&amp;gt;
&amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body bgcolor=&lt;span class=&quot;code-quote&quot;&gt;&quot;#FFFFFF&quot;&lt;/span&gt; topmargin=&lt;span class=&quot;code-quote&quot;&gt;&quot;6&quot;&lt;/span&gt; leftmargin=&lt;span class=&quot;code-quote&quot;&gt;&quot;6&quot;&lt;/span&gt;&amp;gt;
&amp;lt;hr size=&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt; noshade=&lt;span class=&quot;code-quote&quot;&gt;&quot;noshade&quot;&lt;/span&gt;&amp;gt;
Log session start time Mon Jun 26 18:00:22 UTC 2017&amp;lt;br&amp;gt;
&amp;lt;br&amp;gt;
&amp;lt;table cellspacing=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; cellpadding=&lt;span class=&quot;code-quote&quot;&gt;&quot;4&quot;&lt;/span&gt; border=&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt; bordercolor=&lt;span class=&quot;code-quote&quot;&gt;&quot;#224466&quot;&lt;/span&gt; width=&lt;span class=&quot;code-quote&quot;&gt;&quot;100%&quot;&lt;/span&gt;&amp;gt;
&amp;lt;tr&amp;gt;
&amp;lt;th&amp;gt;Time&amp;lt;/th&amp;gt;
&amp;lt;th&amp;gt;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&amp;lt;/th&amp;gt;
&amp;lt;th&amp;gt;Level&amp;lt;/th&amp;gt;
&amp;lt;th&amp;gt;Logger&amp;lt;/th&amp;gt;
&amp;lt;th&amp;gt;File:Line&amp;lt;/th&amp;gt;
&amp;lt;th&amp;gt;Message&amp;lt;/th&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;/table&amp;gt;
&amp;lt;br&amp;gt;
&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.093 s - in org.apache.log4j.LogWithRouteTest
[INFO] Running org.apache.log4j.pattern.Log4j1NdcPatternConverterTest
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 s - in org.apache.log4j.pattern.Log4j1NdcPatternConverterTest
expected: /tmp/hadoop.log Actual: /tmp/hadoop.log
[INFO] Running org.apache.log4j.pattern.Log4j1MdcPatternConverterTest
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 s - in org.apache.log4j.pattern.Log4j1MdcPatternConverterTest
[INFO] Running org.apache.log4j.VelocityTest
ERROR StatusLogger No log4j2 configuration file found. Using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; configuration: logging only errors to the console. Set system property &apos;org.apache.logging.log4j.simplelog.StatusLogger.l
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.078 s - in org.apache.log4j.config.Log4j1ConfigurationFactoryTest
[INFO] Running org.apache.log4j.LoggerTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.229 s - in org.apache.log4j.VelocityTest
[INFO] Running org.apache.log4j.CallerInformationTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.06 s - in org.apache.log4j.CallerInformationTest
[INFO] Running org.apache.log4j.NDCTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 s - in org.apache.log4j.NDCTest
[INFO] Running org.apache.log4j.layout.Log4j1XmlLayoutTest
[ERROR] at org.apache.log4j.layout.Log4j1XmlLayoutTest.testWithoutThrown(Log4j1XmlLayoutTest.java:49).apache.log4j.layout.Log4j1XmlLayoutTest
[ERROR] testWithoutThrown(org.apache.log4j.layout.Log4j1XmlLayoutTest)  Time elapsed: 0.005 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.33 s - in org.apache.log4j.LoggerTest
[INFO] d:&amp;lt;...&amp;gt;&amp;lt;/log4j:message&amp;gt;
[INFO] Results:&amp;gt;
[INFO]
[ERROR] Failures: og4j:message&amp;gt;
[ERROR]   Log4j1XmlLayoutTest.testWithoutThrown:49 expected:&amp;lt;...&amp;gt;&amp;lt;/log4j:message&amp;gt;
&amp;lt;[]/log4j:event&amp;gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;Name&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;John Smith&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;log4j:data name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Type&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;Service&quot;&lt;/span&gt;/&amp;gt;
&amp;gt; but was:&amp;lt;...&amp;gt;&amp;lt;/log4j:message&amp;gt;
&amp;lt;[log4j:properties&amp;gt;
&amp;lt;log4j:data name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Name&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;John Smith&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;log4j:data name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Type&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;Service&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/log4j:properties&amp;gt;
&amp;lt;]/log4j:event&amp;gt;

&amp;gt;
[INFO]
[ERROR] Tests run: 145, Failures: 1, Errors: 0, Skipped: 0
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Apache Log4j 2 ..................................... SUCCESS [05:10 min]
[INFO] Apache Log4j API Java 9 support .................... SUCCESS [01:35 min]
[INFO] Apache Log4j API ................................... SUCCESS [01:59 min]
[INFO] Apache Log4j Core .................................. SUCCESS [13:23 min]
[INFO] Apache Log4j Core Integration Tests ................ SUCCESS [01:22 min]
[INFO] Apache Log4j 1.x Compatibility API ................. FAILURE [  9.119 s]
[INFO] Apache Log4j SLF4J Binding ......................... SKIPPED
[INFO] Apache Log4j to SLF4J Adapter ...................... SKIPPED
[INFO] Apache Log4j Commons Logging Bridge ................ SKIPPED
[INFO] Apache Log4j Flume Bridge .......................... SKIPPED
[INFO] Apache Log4j Web ................................... SKIPPED
[INFO] Apache Log4j Tag Library ........................... SKIPPED
[INFO] Apache Log4j JMX GUI ............................... SKIPPED
[INFO] Apache Log4j Samples ............................... SKIPPED
[INFO] Apache Log4j Samples: Flume - Common ............... SKIPPED
[INFO] Apache Log4j Samples: Flume - Remote ............... SKIPPED
[INFO] Apache Log4j Samples: Flume - Embedded ............. SKIPPED
[INFO] Apache Log4j Samples: Configuration ................ SKIPPED
[INFO] Apache Log4j Samples: LoggerProperties ............. SKIPPED
[INFO] Apache Log4j Scala 2.11 wrapper &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Log4j API ...... SKIPPED
[INFO] Apache Log4j Samples: Scala API .................... SKIPPED
[INFO] Apache Log4j OSGi .................................. SKIPPED
[INFO] Apache Log4j BOM ................................... SKIPPED
[INFO] Apache Log4j NoSQL ................................. SKIPPED
[INFO] Apache Log4J Performance Tests ..................... SKIPPED
[INFO] Apache Log4j Streaming Interface ................... SKIPPED
[INFO] Apache Log4j JUL Adapter ........................... SKIPPED
[INFO] Apache Log4j Liquibase Binding ..................... SKIPPED
[INFO] Apache Log4j Scala 2.10 wrapper &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Log4j API ...... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 26:20 min
[INFO] Finished at: 2017-06-26T18:00:22Z
[INFO] Final Memory: 42M/213M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16063609" author="garydgregory" created="Mon, 26 Jun 2017 18:59:54 +0000"  >&lt;p&gt;Can I run this on the Windows 10 command line assuming I have Docker installed? (How?) Or, is our &quot;Dockerfile&quot; specific to Jenkins or Travis-CI?&lt;/p&gt;</comment>
                            <comment id="16063617" author="phymbert" created="Mon, 26 Jun 2017 19:02:25 +0000"  >&lt;p&gt;Yes Windows docker machine just works fine me.&lt;/p&gt;</comment>
                            <comment id="16063619" author="garydgregory" created="Mon, 26 Jun 2017 19:05:27 +0000"  >&lt;p&gt;What is the command you use?&lt;/p&gt;</comment>
                            <comment id="16063649" author="phymbert" created="Mon, 26 Jun 2017 19:37:31 +0000"  >&lt;p&gt;Just build from default windows docker machine :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;docker-machine start &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
docker-machine env &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
docker build .
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16064443" author="garydgregory" created="Tue, 27 Jun 2017 08:14:04 +0000"  >&lt;p&gt;I get failures but later:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.186 s - in org.apache.logging.log4j.core.PropertiesFileConfigTest
[INFO]
[INFO] Results:
[INFO]
[ERROR] Failures:
[ERROR]   AsyncAppenderTest.rewriteTest:92 Expected org.apache.logging.log4j.core.appender.AsyncAppenderTest rewriteTest This is a test, Actual org.apache.logging.log4j.core.appender.AsyncAppenderTest rewriteTest Hello world!
[ERROR]   SecureSocketAppenderSocketOptionsTest.testSocketTrafficClass:127 expected:&amp;lt;2&amp;gt; but was:&amp;lt;0&amp;gt;
[ERROR]   SocketAppenderSocketOptionsTest.testSocketTrafficClass:107 expected:&amp;lt;2&amp;gt; but was:&amp;lt;0&amp;gt;
[INFO]
[ERROR] Tests run: 1884, Failures: 3, Errors: 0, Skipped: 18
[INFO]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16064506" author="phymbert" created="Tue, 27 Jun 2017 09:06:15 +0000"  >&lt;p&gt;About Socket errors, looks like you docker VM has issue to access network, maybe check windows firewall and/or restart the docker machine.&lt;/p&gt;</comment>
                            <comment id="16066445" author="mikaelstaldal" created="Wed, 28 Jun 2017 12:58:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;SecureSocketAppenderSocketOptionsTest.testSocketTrafficClass:127 expected:&amp;lt;2&amp;gt; but was:&amp;lt;0&amp;gt;&lt;br/&gt;
SocketAppenderSocketOptionsTest.testSocketTrafficClass:107 expected:&amp;lt;2&amp;gt; but was:&amp;lt;0&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Those are the tests that only works on Java 7 (not on Java 8 or 9).&lt;/p&gt;</comment>
                            <comment id="16066485" author="phymbert" created="Wed, 28 Jun 2017 13:33:59 +0000"  >&lt;p&gt;The docker VM is configured &lt;tt&gt;FROM openjdk:7-jdk&lt;/tt&gt;, only log4j-api-java9 module use the toolchain jdk9.&lt;/p&gt;

&lt;p&gt;Confirmed with the following run just after the build:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;RUN java -version &amp;amp;&amp;amp; /opt/apache-maven-3.5.0/bin/mvn -version
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Step 5/6 : RUN java -version &amp;amp;&amp;amp; /opt/apache-maven-3.5.0/bin/mvn -version
 ---&amp;gt; Running in ec253c24e421
java version &lt;span class=&quot;code-quote&quot;&gt;&quot;1.7.0_131&quot;&lt;/span&gt;
OpenJDK &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment (IcedTea 2.6.9) (7u131-2.6.9-2~deb8u1)
OpenJDK 64-Bit Server VM (build 24.131-b00, mixed mode)
Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T19:39:06Z)
Maven home: /opt/apache-maven-3.5.0
Java version: 1.7.0_131, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-openjdk-amd64/jre
Default locale: en, platform encoding: UTF-8
OS name: &lt;span class=&quot;code-quote&quot;&gt;&quot;linux&quot;&lt;/span&gt;, version: &lt;span class=&quot;code-quote&quot;&gt;&quot;4.4.52-boot2docker&quot;&lt;/span&gt;, arch: &lt;span class=&quot;code-quote&quot;&gt;&quot;amd64&quot;&lt;/span&gt;, family: &lt;span class=&quot;code-quote&quot;&gt;&quot;unix&quot;&lt;/span&gt;
 ---&amp;gt; 14c3a4c8a028
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16066491" author="mikaelstaldal" created="Wed, 28 Jun 2017 13:39:10 +0000"  >&lt;p&gt;Then something else might be wrong. Those Socket option traffic class tests have failed for various reasons before. I think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; once added them, so maybe he can investigate them in deep?&lt;/p&gt;</comment>
                            <comment id="16067614" author="garydgregory" created="Thu, 29 Jun 2017 02:48:15 +0000"  >&lt;p&gt;The test has JUnit Assume&apos;s to only run on Java 7 and not on Travis. I can&apos;t dig in today unfortunately.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gm4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>