<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:41:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3028] OutputStreamManager does not clear buffer on exception</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3028</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;I have noticed that OutputStreamManager#flushBuffer does not clear the buffer if #writeToDestination throws an exception. This does not lead to data corruption, but in case of a #flush call when the buffer isn&apos;t full (which can happen at the end of a batch when e.g. using AsyncLogger), it will mean that only partial capacity of the buffer will be available until the next successful flush.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13360995">LOG4J2-3028</key>
            <summary>OutputStreamManager does not clear buffer on exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ckozak">Carter Kozak</assignee>
                                    <reporter username="jakubkozlowski">Jakub</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Feb 2021 16:19:04 +0000</created>
                <updated>Mon, 1 Mar 2021 19:22:20 +0000</updated>
                            <resolved>Mon, 1 Mar 2021 15:23:18 +0000</resolved>
                                                                    <component>Appenders</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17291024" author="jakubkozlowski" created="Thu, 25 Feb 2021 16:19:47 +0000"  >&lt;p&gt;I have a fix here:&#160;&lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/470&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/470&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17292949" author="jira-bot" created="Mon, 1 Mar 2021 15:19:52 +0000"  >&lt;p&gt;Commit 9ed470fcef1da227d8a24f7bd81de4dd487775ab in logging-log4j2&apos;s branch refs/heads/release-2.x from jakubk&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=9ed470f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=9ed470f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3028&quot; title=&quot;OutputStreamManager does not clear buffer on exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3028&quot;&gt;&lt;del&gt;LOG4J2-3028&lt;/del&gt;&lt;/a&gt;: Always clear the OutputStreamManager buffer on flush&lt;/p&gt;</comment>
                            <comment id="17292950" author="jira-bot" created="Mon, 1 Mar 2021 15:22:05 +0000"  >&lt;p&gt;Commit 74a83898652e9f822936b0f0649fbae3437b49ce in logging-log4j2&apos;s branch refs/heads/master from jakubk&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=74a8389&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=74a8389&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3028&quot; title=&quot;OutputStreamManager does not clear buffer on exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3028&quot;&gt;&lt;del&gt;LOG4J2-3028&lt;/del&gt;&lt;/a&gt;: Always clear the OutputStreamManager buffer on flush&lt;/p&gt;</comment>
                            <comment id="17292951" author="ckozak" created="Mon, 1 Mar 2021 15:23:18 +0000"  >&lt;p&gt;I&apos;ve committed this to both release-2.x for 2.14.1 and master for 3.x. Thanks!&lt;/p&gt;</comment>
                            <comment id="17293119" author="jira-bot" created="Mon, 1 Mar 2021 19:22:20 +0000"  >&lt;p&gt;Commit 9ed470fcef1da227d8a24f7bd81de4dd487775ab in logging-log4j2&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2948&quot; title=&quot;Use IdentityHashMap for ParameterFormatter deja vu&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2948&quot;&gt;&lt;del&gt;LOG4J2-2948&lt;/del&gt;&lt;/a&gt; from jakubk&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=9ed470f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=9ed470f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3028&quot; title=&quot;OutputStreamManager does not clear buffer on exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3028&quot;&gt;&lt;del&gt;LOG4J2-3028&lt;/del&gt;&lt;/a&gt;: Always clear the OutputStreamManager buffer on flush&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0o2e8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>