<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:37:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1226] Message instances are simply serialized. They mustn&apos;t.</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1226</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Right now, any Message instance used to call any log method are simply sent as they are.&lt;/p&gt;

&lt;p&gt;Instead, the &lt;tt&gt;Throwable&lt;/tt&gt; must be transformed into a &lt;tt&gt;ThrowableProxy&lt;/tt&gt;. Custom &lt;tt&gt;Message&lt;/tt&gt; implementations must be transformed into one of log4j&apos;s standard message implementations and care must be taken to convert the &lt;tt&gt;Parameters&lt;/tt&gt; &lt;tt&gt;Object[]&lt;/tt&gt; into &lt;tt&gt;String[]&lt;/tt&gt; before the message is serialized.&lt;/p&gt;

&lt;p&gt;Otherwise, deserialization will fail if a custom &lt;tt&gt;Throwable&lt;/tt&gt;, custom &lt;tt&gt;Message&lt;/tt&gt; or custom parameter is not contained in the classpath of the application receiving the serialized &lt;tt&gt;LogEvent&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I found those issues while implementing the circumvention for &lt;a href=&quot;https://blogs.apache.org/foundation/entry/apache_commons_statement_to_widespread&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache Commons statement to widespread Java object de-serialisation vulnerability&lt;/a&gt; in &lt;a href=&quot;http://lilithapp.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Lilith&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12923393">LOG4J2-1226</key>
            <summary>Message instances are simply serialized. They mustn&apos;t.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rpopma">Remko Popma</assignee>
                                    <reporter username="huxi">Joern Huxhorn</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Dec 2015 10:40:26 +0000</created>
                <updated>Thu, 1 Jun 2017 02:40:36 +0000</updated>
                            <resolved>Sat, 5 Nov 2016 15:26:50 +0000</resolved>
                                    <version>2.5</version>
                                    <fixVersion>2.8</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15066353" author="remkop@yahoo.com" created="Mon, 21 Dec 2015 11:39:15 +0000"  >&lt;p&gt;First, do you have a stacktrace?&lt;/p&gt;

&lt;p&gt;Going over all Message implementations:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;FormattedMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - non-transient Throwable field, non-transient Message field&lt;/li&gt;
	&lt;li&gt;LocalizedMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;MessageFormatMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;ObjectArrayMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;ObjectMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;ParameterizedMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;SimpleMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;StringFormattedMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;ThreadDumpMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - non-transient Map&amp;lt;ThreadInformation, StackTraceElement[]&amp;gt;&lt;/li&gt;
	&lt;li&gt;MapMessage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15066516" author="huxi" created="Mon, 21 Dec 2015 14:53:52 +0000"  >&lt;p&gt;I do have a stacktrace but it&apos;s in Lilith so it won&apos;t be of much help for you.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;MapMessage&lt;/tt&gt;, &lt;tt&gt;MessageFormatMessage&lt;/tt&gt;, &lt;tt&gt;ParameterizedMessage&lt;/tt&gt;, &lt;tt&gt;SimpleMessage&lt;/tt&gt;, &lt;tt&gt;StringFormattedMessage&lt;/tt&gt;, &lt;tt&gt;StructuredDataMessage&lt;/tt&gt; and &lt;tt&gt;ThreadDumpMessage&lt;/tt&gt; work as expected for me.&lt;/p&gt;

&lt;p&gt;Serializing will work if the &lt;tt&gt;Message&lt;/tt&gt; implementation adheres to the contract of implementing &lt;tt&gt;Serializable&lt;/tt&gt; (as defined in &lt;tt&gt;Message&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;The problem happens on the receiving end of the events. It&apos;s especially problematic if a user implements their own &lt;tt&gt;Message&lt;/tt&gt; implementation since the class likely won&apos;t be available in the receiving JVM.&lt;/p&gt;

&lt;p&gt;A huge problem are also parameters that are simply serialized. This is the case in &lt;tt&gt;ObjectArrayMessage&lt;/tt&gt; and &lt;tt&gt;ObjectMessage&lt;/tt&gt; and will similarly cause a &lt;tt&gt;ClassNotFoundException&lt;/tt&gt; during deserialization if a custom class is used as parameter.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FormattedMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;formatted message {} {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;}));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;does not work for me (it causes a closed connection) but I&apos;m not sure why.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LocalizedMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;LocalizedMessage %s %s&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;}));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;simply does not work but isn&apos;t closing the connection.&lt;/p&gt;</comment>
                            <comment id="15066525" author="remkop@yahoo.com" created="Mon, 21 Dec 2015 15:03:58 +0000"  >&lt;p&gt;I don&apos;t understand how a ClassNotFoundException can occur by deserializing ObjectArrayMessage and ObjectMessage since their fields are transient.&lt;/p&gt;

&lt;p&gt;Custom Message implementors need to take care to declare all their non JDK fields transient, I agree.&lt;/p&gt;</comment>
                            <comment id="15066533" author="remkop@yahoo.com" created="Mon, 21 Dec 2015 15:09:45 +0000"  >&lt;p&gt;Ah. I spoke too soon. ObjectArrayMessage and ObjectMessage have custom serialization logic.&lt;/p&gt;

&lt;p&gt;Hmm. &lt;/p&gt;

&lt;p&gt;I see your point, but it is not clear that converting everything to strings is the answer. An argument could be made that it is the responsibility of whoever set up their system to pipe log events via the network to a remote receiver, to ensure that the receiver has the required classes in the classpath.&lt;/p&gt;

&lt;p&gt;There may be scenarios where people &lt;em&gt;want&lt;/em&gt; to receive the object itself and not a String representation.&lt;/p&gt;</comment>
                            <comment id="15066585" author="huxi" created="Mon, 21 Dec 2015 15:38:03 +0000"  >&lt;p&gt;I&apos;d argue that they still can. Just not if they are using Sockets/Serialization or, for example, a console appender.&lt;/p&gt;

&lt;p&gt;Serialization is a fragile beast anyway and with the security vulnerability linked above deserializing any arbitrary object simply isn&apos;t an option anymore. If such a message is printed to the console then a complex object is converted to the respective String representation, too.&lt;/p&gt;

&lt;p&gt;My &quot;job&quot; with Lilith is to provide a log viewer. Even if the class in question would be available on my classpath &lt;b&gt;and&lt;/b&gt; it would have been added to my &lt;a href=&quot;https://github.com/huxi/lilith/blob/master/lilith-engine/src/main/java/de/huxhorn/lilith/engine/impl/eventproducer/AbstractStreamEventProducer.java#L64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;handcrafted whitelist&lt;/a&gt; of classes allowed during deserialization, I&apos;d still only ever print that object, i.e. performing the &lt;tt&gt;toString&lt;/tt&gt; in my code.&lt;/p&gt;

&lt;p&gt;Imagine one could send a message to log4j that would close &lt;tt&gt;System.out&lt;/tt&gt; and prevent any further console logging. This is the current effect of sending arbitrary serialized objects.&lt;/p&gt;

&lt;p&gt;I don&apos;t say that complex (non-standard) objects as parameters or messages are a bad thing in general. But I&apos;d argue that their behavior with standard log4j appenders should be well-defined and well-behaved while the scenario you described (where people want to receive the object itself) would be a case for a custom appender.&lt;/p&gt;</comment>
                            <comment id="15093677" author="mikaelstaldal" created="Tue, 12 Jan 2016 10:14:24 +0000"  >&lt;p&gt;This is only an issue when using SerializedLayout, right?&lt;/p&gt;</comment>
                            <comment id="15171730" author="huxi" created="Mon, 29 Feb 2016 10:44:24 +0000"  >&lt;p&gt;Any chance of getting this fixed in the near future?&lt;/p&gt;

&lt;p&gt;log4j2 integration in Lilith is currently effectively broken because of this issue and I can&apos;t fix the problem on my side.&lt;/p&gt;</comment>
                            <comment id="15370205" author="remkop@yahoo.com" created="Mon, 11 Jul 2016 05:47:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huxi&quot; class=&quot;user-hover&quot; rel=&quot;huxi&quot;&gt;huxi&lt;/a&gt; Sorry, I have been completely swamped with &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1270&quot; title=&quot;Garbage-free steady-state logging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1270&quot;&gt;LOG4J2-1270&lt;/a&gt; for a while and unable to look at this one.&lt;br/&gt;
Will try to work on this for the next (2.7) release.&lt;br/&gt;
Can you help me by clarifying what needs to be done?&lt;/p&gt;</comment>
                            <comment id="15370227" author="ralph.goers@dslextreme.com" created="Mon, 11 Jul 2016 06:07:53 +0000"  >&lt;p&gt;Joern, is there any possibility of using some other serialization format such as JSON?  These kinds of problems are going to happen since Log4j supports these kinds of interesting things. To be honest, I am not sure what you would expect a CustomMessage to be serialized to, other than whatever serialization it implements.  If you were using a serialization protocol such as JSON you wouldn&apos;t really need to convert the objects back into their original form as you would basically just be getting keys and values.&lt;/p&gt;</comment>
                            <comment id="15370586" author="huxi" created="Mon, 11 Jul 2016 11:27:51 +0000"  >&lt;p&gt;I certainly have other formats for receiving logging events but that isn&apos;t really the point.&lt;/p&gt;

&lt;p&gt;Logback, Log4j1 and Log4j2 all support something like a &lt;tt&gt;SocketAppender&lt;/tt&gt; that is sending serialized events. That functionality is used by &lt;a href=&quot;https://logging.apache.org/chainsaw/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Chainsaw&lt;/a&gt;, &lt;a href=&quot;http://lilithapp.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Lilith&lt;/a&gt; and &lt;a href=&quot;http://logback.qos.ch/beagle/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Beagle&lt;/a&gt;, to name a few.&lt;/p&gt;

&lt;p&gt;You provide that functionality with &lt;tt&gt;org.apache.logging.log4j.core.appender.SocketAppender&lt;/tt&gt; and I&apos;d like to properly support this appender implementation in Lilith. That functionality is currently broken.&lt;/p&gt;

&lt;p&gt;Deserialization is only working if the serialized class is available in the deserializing classloader.&lt;/p&gt;

&lt;p&gt;While you could argue that a certain &lt;tt&gt;Message&lt;/tt&gt; implementation would be required on the receiving end (which I don&apos;t agree with), this is simply impossible in case of &lt;tt&gt;Throwable&lt;/tt&gt; hierarchies since you&apos;d essentially have to keep the entire classpath of the logging application in the receiving ends classpath. You just can&apos;t know which &lt;tt&gt;Throwable&lt;/tt&gt; classes by which third-party dependency will end up in the cause/suppressed fields. So you need to use &lt;tt&gt;org.apache.logging.log4j.core.impl.ThrowableProxy&lt;/tt&gt; or something like it instead of serializing the original &lt;tt&gt;Throwable&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;d expect receiving of events to work regardless of the actual &lt;tt&gt;Message&lt;/tt&gt; class being used. This can only be achieved by mapping non-standard (i.e. not included in the log4j2 distribution) &lt;tt&gt;Message&lt;/tt&gt; implementations to one of the standard ones before serializing, (e.g. something like &lt;tt&gt;org.apache.logging.log4j.message.SimpleMessage&lt;/tt&gt;, but supporting &lt;tt&gt;Throwable&lt;/tt&gt;/&lt;tt&gt;ThrowableProxy&lt;/tt&gt; which is currently always &lt;tt&gt;null&lt;/tt&gt; in &lt;tt&gt;SimpleMessage&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;And serializing one of the standard log4j2 message types &lt;b&gt;must always&lt;/b&gt; sanitize their content, e.g. by converting arbitrary non-standard classes (i.e. classes not contained in log4j2 distribution) used as parameter to &lt;tt&gt;String&lt;/tt&gt; before serializing.&lt;/p&gt;

&lt;p&gt;Not doing so would (beside potential &lt;tt&gt;ClassNotFoundException&lt;/tt&gt;) also open up an attack vector against applications receiving events that don&apos;t use a narrow class whitelist like I&apos;m doing in Lilith (see &lt;a href=&quot;https://blogs.apache.org/foundation/entry/apache_commons_statement_to_widespread&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache Commons statement to widespread Java object de-serialisation vulnerability&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;But I already wrote all that in my original description.&lt;/p&gt;</comment>
                            <comment id="15370656" author="ralph.goers@dslextreme.com" created="Mon, 11 Jul 2016 12:40:15 +0000"  >&lt;p&gt;1. I understand the arguments you are making (and pretty much already did). My argument is that Java serialization is probably the worst serialization format you could choose and what you are asking here is that Log4j not allow Java to do &quot;normal&quot; Java serialization but customize the objects being passed to it. That doesn&apos;t mean we won&apos;t do it, but I would expect that some other user is going to raise an issue because they can&apos;t get their custom message to serialize, which means the SerializedLayout would need an option to bypass the behavior you are asking for - or more likely, an option is required to enable the behavior you need.&lt;/p&gt;

&lt;p&gt;2. In Log4j 2, the SocketAppender accepts a Layout. The SerializedLayout is the default but you can use any Layout, so if you support other serialization formats you should definitely use one of them. You won&apos;t get a ClassNotFoundException with them because you will just be getting data that you can do whatever you want with.&lt;/p&gt;</comment>
                            <comment id="15370756" author="huxi" created="Mon, 11 Jul 2016 13:34:46 +0000"  >&lt;p&gt;We don&apos;t need to discuss the pros and cons of Java serialization. I&apos;m aware that it sucks and wouldn&apos;t use it myself for various reasons. My custom Logback appender is using gzipped protobuf, for example.&lt;/p&gt;

&lt;p&gt;Both Logback and log4j1 have their own version of &lt;tt&gt;ThrowableProxy&lt;/tt&gt; instead of &lt;tt&gt;Throwable&lt;/tt&gt; and neither is sending raw serialized objects as part of their events. &quot;Normal&quot; Java serialization behavior would also mean that a &lt;tt&gt;NotSerializableException&lt;/tt&gt; is thrown if one of the components isn&apos;t &lt;tt&gt;Serializable&lt;/tt&gt; (see &lt;tt&gt;Serializable&lt;/tt&gt; javadoc). I doubt that logging events should work like that and would argue that a non-default behavior is required anyway.&lt;/p&gt;

&lt;p&gt;The thing is that you provide a &lt;tt&gt;SocketAppender&lt;/tt&gt; which people are using in combination with Lilith under the valid assumption that log4j2 behaves as reliable as Logback and log4j1 with their respective &lt;tt&gt;SocketAppender&lt;/tt&gt; - which it doesn&apos;t.&lt;/p&gt;

&lt;p&gt;You are not the project receiving the complaints. Lilith is.&lt;/p&gt;

&lt;p&gt;The problem won&apos;t manifest in the application that is sending the events but in the application that is receiving the events. Thus the users assume that the &quot;bug&quot; is in the receiving application. Which it isn&apos;t. One example is &lt;a href=&quot;https://github.com/huxi/lilith/issues/21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this issue&lt;/a&gt; but I received multiple other cries for help via mail.&lt;/p&gt;

&lt;p&gt;This also means that just implementing a different layout won&apos;t fix the problem at all. People would still use the &lt;tt&gt;SocketAppender&lt;/tt&gt; with the default layout and spam me with their support questions. Feel free to keep the current &lt;tt&gt;SerializedLayout&lt;/tt&gt; in the code base (I frankly don&apos;t see any reasonable use case for it) but &lt;b&gt;please&lt;/b&gt; implement a robust alternative that is &lt;b&gt;used by default&lt;/b&gt;.&lt;/p&gt;</comment>
                            <comment id="15376998" author="huxi" created="Thu, 14 Jul 2016 14:23:38 +0000"  >&lt;p&gt;There&apos;s another big problem with live objects in log messages, by the way.&lt;/p&gt;

&lt;p&gt;If the appenders are working asynchronously from the thread that emitted the message then that thread can potentially change the object contained in the message before the message is actually processed by the appender.&lt;/p&gt;

&lt;p&gt;Logback is handling this problem in its &lt;tt&gt;ILoggingEvent.prepareForDeferredProcessing()&lt;/tt&gt; method. There is simply no way you can guarantee that the above scenario won&apos;t happen in a language like Java if you don&apos;t transfer live objects into an immutable representation, i.e. a String.&lt;/p&gt;

&lt;p&gt;Using live objects (vs. String representation) works fine for synchronous appenders but introduces &quot;lying&quot; log output for asynchronous ones.&lt;/p&gt;

&lt;p&gt;This is an entirely different issue with much broader implications but I mention it here anyway since fixing that issue would also fix this issue passively. (Assuming that &lt;tt&gt;Throwable&lt;/tt&gt; is also replaced by a &lt;tt&gt;ThrowableProxy&lt;/tt&gt;).&lt;/p&gt;</comment>
                            <comment id="15379820" author="mikaelstaldal" created="Fri, 15 Jul 2016 18:11:32 +0000"  >&lt;p&gt;Would changing default layout in SocketAppender (and any other appender with it as default) solve this issue?&lt;/p&gt;</comment>
                            <comment id="15379955" author="ralph.goers@dslextreme.com" created="Fri, 15 Jul 2016 19:18:33 +0000"  >&lt;p&gt;I would love to change the default layout to something else, but I don&apos;t think we can at this point.  Instead, we should decide what our preferred layout is and update the documentation to make it clear what our recommendation is.  I&apos;d like to deprecate the behavior and say the default will switch in a future release, but I&apos;m not really sure how to do that.&lt;/p&gt;

&lt;p&gt;I&apos;ve said before that I would like to implement a new SocketAppender that uses Netty. When that happens I would make sure SerializedLayout is not the default.&lt;/p&gt;

&lt;p&gt;All that said, what Joern is asking for does need to be done. I was under the impression we are already serializing objects that are passed to Async Loggers and in the Async Appender.&lt;/p&gt;</comment>
                            <comment id="15379975" author="mikaelstaldal" created="Fri, 15 Jul 2016 19:33:45 +0000"  >&lt;p&gt;Do we really need to decide about a preferred layout? Maybe SocketAppender (and other appenders with the same default today) shouldn&apos;t have any default layout, maybe it should be mandatory to specify a layout in the configuration?&lt;/p&gt;</comment>
                            <comment id="15389215" author="remkop@yahoo.com" created="Fri, 22 Jul 2016 09:30:54 +0000"  >&lt;p&gt;Would it be an idea to have a &quot;safe&quot; variant of the SerializedLayout (either with a parameter or a different name altogether) that would serialize any potentially problematic fields as Strings instead of as their native type?&lt;br/&gt;
Throwable can be serialized as ThrowableProxy (I actually thought we did this already...)&lt;/p&gt;

&lt;p&gt;Not sure how to convert Message parameters to Strings before serialization. Perhaps let our built-in Messages have a serialization proxy to serialize to &quot;safe&quot; form.&lt;/p&gt;</comment>
                            <comment id="15389220" author="huxi" created="Fri, 22 Jul 2016 09:36:07 +0000"  >&lt;p&gt;This is not just a serialization issue but also an async processing issue.&lt;/p&gt;</comment>
                            <comment id="15389229" author="mikaelstaldal" created="Fri, 22 Jul 2016 09:44:17 +0000"  >&lt;p&gt;This is &lt;b&gt;not&lt;/b&gt; an async processing issue in the same way. In async processing (AsyncAppender and async loggers), the log events are serialized and deserialized in the same JVM with the same class loader, so you do not get the same issues as when using SerializedLayout and sending it to a remote process. You don&apos;t get the ClassNotFound problems with custom Throwables and Messages in async processing.&lt;/p&gt;</comment>
                            <comment id="15389306" author="remkop@yahoo.com" created="Fri, 22 Jul 2016 10:49:14 +0000"  >&lt;p&gt;Joern, I am well aware of the potential issues of asynchronously logging mutable objects. In Log4j 2, most Message implementations take a snapshot of the parameters before handing off the log event to the background thread. Only MapMessage is mutable and that is by design. &lt;/p&gt;

&lt;p&gt;I don&apos;t think that this is the issue that is problematic for Lilith though. Let&apos;s focus on that. &lt;/p&gt;

&lt;p&gt;Would my above proposal for a &quot;safe&quot; serialized form address the Lilith issues you are seeing?&lt;/p&gt;</comment>
                            <comment id="15389336" author="huxi" created="Fri, 22 Jul 2016 11:18:09 +0000"  >&lt;p&gt;Your suggestion should fix the Lilith problem, assuming those serialization proxies are reachable, i.e. not package-private and exported in case of Java 9 modules.&lt;/p&gt;

&lt;p&gt;The key point is that application classes must not leak through the serialization process.&lt;/p&gt;</comment>
                            <comment id="15389366" author="remkop@yahoo.com" created="Fri, 22 Jul 2016 11:52:51 +0000"  >&lt;p&gt;Just to be sure we are talking about the same thing,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;application classes must not leak through the serialization process&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Means that non-JDK classes and non-Log4j classes should not appear in the serialized form of LogEvents. &lt;/p&gt;</comment>
                            <comment id="15389372" author="huxi" created="Fri, 22 Jul 2016 11:57:51 +0000"  >&lt;p&gt;That&apos;s what I meant, exactly.&lt;/p&gt;</comment>
                            <comment id="15639690" author="remkop@yahoo.com" created="Sat, 5 Nov 2016 13:50:58 +0000"  >&lt;p&gt;Perhaps the technique used for &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1663&quot; title=&quot;Ensure SortedArrayStringMap can be serialized/deserialized regardless of content&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1663&quot;&gt;&lt;del&gt;LOG4J2-1663&lt;/del&gt;&lt;/a&gt; can be applied here also.&lt;/p&gt;

&lt;p&gt;Log4jLogEvent.LogEventProxy can wrap the original Message object in a &lt;tt&gt;MarshalledObject&lt;/tt&gt;, and in addition keep a String representation of this Message. &lt;/p&gt;

&lt;p&gt;If an error is encountered during &lt;em&gt;serialization&lt;/em&gt;, only the String is captured and serialized.&lt;/p&gt;

&lt;p&gt;During &lt;em&gt;deserialization&lt;/em&gt;, we first attempt to return the result of deserializing the MarshalledObject. If this succeeds, that is the Message instance returned. If this fails, we return a SimpleMessage with the string message.&lt;/p&gt;

&lt;p&gt;This should solve the ClassNotFoundException issues for Lillith, and at the same time allows users to serialize and deserialize custom Messages without loss of information, provided all the required classes are in the classpath during deserialization.&lt;/p&gt;</comment>
                            <comment id="15639808" author="jvz" created="Sat, 5 Nov 2016 15:06:33 +0000"  >&lt;p&gt;This could also be extended for whitelisting/blacklisting which classes are allowed to be serialised/deserialised for security reasons. I like it.&lt;/p&gt;</comment>
                            <comment id="15639844" author="remkop@yahoo.com" created="Sat, 5 Nov 2016 15:26:51 +0000"  >&lt;p&gt;Fixed in master in commit c35ac44.&lt;br/&gt;
Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15644166" author="huxi" created="Mon, 7 Nov 2016 13:21:28 +0000"  >&lt;p&gt;The fix looks good so far.&lt;br/&gt;
All messages of &lt;a href=&quot;https://github.com/huxi/lilith/blob/master/sandbox/log4j2-sandbox/src/main/java/de/huxhorn/lilith/sandbox/Log4j2Sandbox.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;my little sandbox&lt;/a&gt; are now received by Lilith.&lt;/p&gt;

&lt;p&gt;I found another issue that may or may not be related to serialization, though:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FormattedMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;curly-brackets FormattedMessage {} {} with Throwable&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;, prepareException()}));
logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FormattedMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;curly-brackets FormattedMessage {} {} with explicit Throwable&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;}, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FooException(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo exception&quot;&lt;/span&gt;)));
logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FormattedMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;percent-s FormattedMessage %s %s with Throwable&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;, prepareException()}));
logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LocalizedMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;LocalizedMessage %s %s with Throwable&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;, prepareException()}));
logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MessageFormatMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;MessageFormatMessage {0} with Throwable&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(), prepareException()));
logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ParameterizedMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;ParameterizedMessage {} with Throwable&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(), prepareException()));
logger.debug(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringFormattedMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;StringFormattedMessage %s with Throwable&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(), prepareException()));
&lt;span class=&quot;code-comment&quot;&gt;// prepareException() returns a Throwable instance&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;None of the Throwables given as arguments above are returned by getThrowable() of their respective Message implementation.&lt;/p&gt;

&lt;p&gt;Let me know if I should file a different bug for those issues.&lt;/p&gt;</comment>
                            <comment id="15644214" author="huxi" created="Mon, 7 Nov 2016 13:44:54 +0000"  >&lt;p&gt;The fact that &lt;tt&gt;FooMessage&lt;/tt&gt; in the sandbox linked above is also not returning a &lt;tt&gt;Throwable&lt;/tt&gt; indicates that those problems may indeed be somehow related to serialization.&lt;/p&gt;</comment>
                            <comment id="15644362" author="remkop@yahoo.com" created="Mon, 7 Nov 2016 14:42:45 +0000"  >&lt;p&gt;The throwables that were logged can still be obtained from the LogEvent, even if they cannot be obtained from the Message, no?&lt;/p&gt;</comment>
                            <comment id="15644392" author="huxi" created="Mon, 7 Nov 2016 14:54:09 +0000"  >&lt;p&gt;I don&apos;t think so...&lt;/p&gt;

&lt;p&gt;In the &lt;a href=&quot;https://github.com/huxi/lilith/blob/master/sandbox/log4j2-sandbox/src/main/java/de/huxhorn/lilith/sandbox/Log4j2Sandbox.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sandbox&lt;/a&gt;, the only exceptions I see are those that are produced by &lt;tt&gt;InnerClass.execute()&lt;/tt&gt; and those fed to &lt;tt&gt;logger.catching&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;There&apos;s also a console appender configured in that sandbox and it behaves identical - which would suggest that it isn&apos;t necessarily related to serialization after all, but still could be.&lt;/p&gt;

&lt;p&gt;I was testing against 2.7.1-SNAPSHOT with revision &lt;tt&gt;62ddffd35d828abd4d0b504b32aa9c96ee00a0ca&lt;/tt&gt;. Just try it out yourself. Perhaps I&apos;m missing something.&lt;/p&gt;</comment>
                            <comment id="15644413" author="remkop@yahoo.com" created="Mon, 7 Nov 2016 15:03:32 +0000"  >&lt;p&gt;That is certainly strange. How can FooMessage not return a throwable when its getThrowable method is defined as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Throwable getThrowable() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(); }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;... unless the message object has been replaced by something other than a &lt;tt&gt;FooMessage&lt;/tt&gt; instance. Is that the case?&lt;/p&gt;</comment>
                            <comment id="15644436" author="huxi" created="Mon, 7 Nov 2016 15:12:41 +0000"  >&lt;p&gt;I have no idea. But that one was indeed especially baffling to me.&lt;/p&gt;</comment>
                            <comment id="15644443" author="remkop@yahoo.com" created="Mon, 7 Nov 2016 15:15:50 +0000"  >&lt;p&gt;Was this problem introduced by the fix for this issue or can you also reproduce it with 2.7?&lt;/p&gt;</comment>
                            <comment id="15644477" author="huxi" created="Mon, 7 Nov 2016 15:27:58 +0000"  >&lt;p&gt;Just checked against 2.5, 2.6 and 2.7. All show the same behavior...&lt;/p&gt;

&lt;p&gt;I&apos;m sure I must be missing something...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;Console name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Console&quot;&lt;/span&gt; target=&lt;span class=&quot;code-quote&quot;&gt;&quot;SYSTEM_OUT&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} --- %msg%n&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/Console&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is how the console appender is configured.&lt;/p&gt;

&lt;p&gt;Even if I do miss something (like an %ex in the pattern layout or something like that), the current behavior isn&apos;t really consistent if you compare &lt;tt&gt;debug(String, Object[])&lt;/tt&gt; to &lt;tt&gt;debug(Message)&lt;/tt&gt; and their respective c&apos;tors.&lt;/p&gt;

&lt;p&gt;I&apos;d say that &lt;b&gt;this&lt;/b&gt; issue is fixed, though.&lt;/p&gt;</comment>
                            <comment id="15645784" author="remkop@yahoo.com" created="Mon, 7 Nov 2016 23:14:42 +0000"  >&lt;p&gt;Thanks for confirming that the fix solves the serialization issue in the description.&lt;/p&gt;

&lt;p&gt;About the semantics of the Message::getThrowable method, this needs to be better documented. This method is only called by Log4j when the application logs with one of the log(String, Object...) methods (including the unrolled vararg variants). &lt;/p&gt;

&lt;p&gt;In this case the last argument may be a Throwable. The ParameterizedMessage will consume all parameters and give back the last argument if it was a Throwable. Once that is done Message::getThrowable is never called. Layouts and Appenders do not generally look at the Message::getThrowable since they receive the Throwable separately (in LogEvent::getThrown).&lt;/p&gt;

&lt;p&gt;If you want to log a Throwable with a pre-existing Message object, you need to use one of the log(Message,Throwable) methods.&lt;/p&gt;</comment>
                            <comment id="15646724" author="huxi" created="Tue, 8 Nov 2016 06:59:07 +0000"  >&lt;p&gt;OK, with &lt;tt&gt;Throwable&lt;/tt&gt; as additional argument to log(message) methods everything works as expected.&lt;/p&gt;

&lt;p&gt;With the behavior right now, &lt;tt&gt;Throwable getThrowable();&lt;/tt&gt; should probably be removed from the &lt;tt&gt;Message&lt;/tt&gt; interface. But that won&apos;t work either since &lt;tt&gt;Message&lt;/tt&gt; creation is hidden in an exchangeable &lt;tt&gt;MessageFactory2&lt;/tt&gt;, ruling out explicit calling of a method not defined in the interface.&lt;/p&gt;

&lt;p&gt;I think &lt;tt&gt;log(Message)&lt;/tt&gt; methods should check &lt;tt&gt;Message.getThrowable()&lt;/tt&gt; and use any &lt;tt&gt;Throwable&lt;/tt&gt; it might find, e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void debug(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Message msg) {
        logIfEnabled(FQCN, Level.DEBUG, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, msg, msg.getThrowable());
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;instead of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void debug(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Message msg) {
        logIfEnabled(FQCN, Level.DEBUG, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, msg, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But that would be an entirely different issue. Should I create one?&lt;/p&gt;

&lt;p&gt;Anyway, I&apos;ll close this one. Thanks for seeing this through.&lt;/p&gt;</comment>
                            <comment id="15646725" author="huxi" created="Tue, 8 Nov 2016 06:59:35 +0000"  >&lt;p&gt;Fix works as expected.&lt;/p&gt;</comment>
                            <comment id="15646745" author="huxi" created="Tue, 8 Nov 2016 07:11:53 +0000"  >&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1676&quot; title=&quot;Some LogEvents may not carry a Throwable (Use Message.getThrowable() in log(Message) methods)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1676&quot;&gt;&lt;del&gt;LOG4J2-1676&lt;/del&gt;&lt;/a&gt; for this.&lt;/p&gt;</comment>
                            <comment id="15666751" author="huxi" created="Tue, 15 Nov 2016 10:13:38 +0000"  >&lt;p&gt;Any ETA for 2.8 release?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13019125">LOG4J2-1676</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12990058">LOG4J2-1465</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13018598">LOG4J2-1663</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13076376">LOG4J2-1926</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2q5jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>