<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:34:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-812] Performance optimization: avoid use of synchronized SimpleDateFormat in Dat&#8203;ePatternCo&#8203;nverter </title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-812</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Threads seem to be blocking on class org.apache&#8203;.loggin.lo&#8203;g4j.core.p&#8203;attern.Dat&#8203;ePatternCo&#8203;nverter. It&apos;s short lived but is visible in profiler. It also is adding on to CPU. Here is the mail conversation on the mailing list:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Ralph Goers ralph.goers@dslextreme.com via logging.apache.org  &lt;/p&gt;

&lt;p&gt;The converter uses a SimpleDateFormat which is not thread safe and so is synchronized. I am sure there might be minor optimizations that could be done to this&lt;/p&gt;

&lt;p&gt; What I would do is modify DatePatternConverter to&lt;br/&gt;
 a) use Java 8&#8217;s java.time.format.DateTimeFormatter if running on Java 8&lt;br/&gt;
 b) use Joda Time&#8217;s DateTimeFormat if it is present.&lt;br/&gt;
 c) create a pool of SimpleDateFormat objects and use those.&lt;/p&gt;

&lt;p&gt; Please create a Jira issue for this.&lt;/p&gt;

&lt;p&gt; Ralph&lt;/p&gt;&lt;/blockquote&gt;
&lt;hr /&gt;

&lt;p&gt;One alternative that  was suggested on the mailing list is to use commons lang FastDateFormat to format log timestamps.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12738969">LOG4J2-812</key>
            <summary>Performance optimization: avoid use of synchronized SimpleDateFormat in Dat&#8203;ePatternCo&#8203;nverter </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="mohitanchlia">Mohit Anchlia</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2014 23:38:57 +0000</created>
                <updated>Sat, 22 Aug 2015 13:32:08 +0000</updated>
                            <resolved>Sat, 22 Aug 2015 13:25:30 +0000</resolved>
                                    <version>2.0.2</version>
                                    <fixVersion>2.4</fixVersion>
                                    <component>Pattern Converters</component>
                    <component>Performance Benchmarks</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14147255" author="garydgregory" created="Thu, 25 Sep 2014 02:06:16 +0000"  >&lt;p&gt;d) Use a thread local to for the formatter&lt;/p&gt;</comment>
                            <comment id="14147282" author="garydgregory" created="Thu, 25 Sep 2014 02:42:28 +0000"  >&lt;p&gt;I&apos;m not sure using a different formatter would help.&lt;/p&gt;

&lt;p&gt;In &lt;tt&gt;org.apache.logging.log4j.core.pattern.DatePatternConverter&lt;/tt&gt; I see code like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    /**
     * Append formatted date to string buffer.
     *
     * @param date
     *            date
     * @param toAppendTo
     *            buffer to which formatted date is appended.
     */
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void format(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Date date, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StringBuilder toAppendTo) {
        &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;) {
            toAppendTo.append(formatter.format(date.getTime()));
        }
    }

    /**
     * {@inheritDoc}
     */
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void format(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; LogEvent event, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StringBuilder output) {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; timestamp = event.getTimeMillis();

        &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (timestamp != lastTimestamp) {
                lastTimestamp = timestamp;
                cachedDateString = formatter.format(timestamp);
            }
        }
        output.append(cachedDateString);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It is not just access to the formatter that is synchronized, but to the whole caching logic.&lt;/p&gt;

&lt;p&gt;Am I missing something?&lt;/p&gt;

&lt;p&gt;What if the &lt;tt&gt;DatePatternConverter&lt;/tt&gt; was a thread local?&lt;/p&gt;</comment>
                            <comment id="14147598" author="remkop@yahoo.com" created="Thu, 25 Sep 2014 10:20:25 +0000"  >&lt;p&gt;You&apos;re right that just dropping in FastDateFormat to replace SimpleDateFormat is not enough. It is the synchronized blocks that are the problem. You have a good point that this synchronized block is not just making SimpleDateFormat thread-safe, but is also used to cache the previous result. &lt;/p&gt;

&lt;p&gt;Perhaps the caching logic is no longer needed if we use a faster date formatter, or a thread-local like you suggest?&lt;/p&gt;

&lt;p&gt;I think the next step is to do some performance measurements to compare these options.&lt;/p&gt;</comment>
                            <comment id="14614174" author="remkop@yahoo.com" created="Sun, 5 Jul 2015 07:31:51 +0000"  >&lt;p&gt;I added JMH benchmark /log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/SimpleDateFormatBenchmark. Results:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;1 Thread: almost no difference&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -jar log4j-perf/target/benchmarks.jar &lt;span class=&quot;code-quote&quot;&gt;&quot;.*SimpleDateFormat.*&quot;&lt;/span&gt; -f 1 -wi 5 -i 10 -t 1 -si &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;

Benchmark                                                     Mode  Samples    Score    Error  Units
o.a.l.l.p.j.SimpleDateFormatBenchmark.baseline              sample   108801   18.976 &#177;  1.142  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.synchronizedFormat    sample   123187  374.147 &#177;  7.128  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.threadLocalFormat     sample   127111  351.628 &#177; 15.233  ns/op
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;4 Threads: contended lock is ~20x slower than threadlocal&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -jar log4j-perf/target/benchmarks.jar &lt;span class=&quot;code-quote&quot;&gt;&quot;.*SimpleDateFormat.*&quot;&lt;/span&gt; -f 1 -wi 5 -i 10 -t 4 -si &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;

Benchmark                                                     Mode  Samples      Score     Error  Units
o.a.l.l.p.j.SimpleDateFormatBenchmark.baseline              sample   448270     27.179 &#177;   1.565  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.synchronizedFormat    sample   544613  13362.691 &#177; 376.438  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.threadLocalFormat     sample   443271    779.043 &#177;  37.221  ns/op
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14614274" author="remkop@yahoo.com" created="Sun, 5 Jul 2015 14:57:09 +0000"  >&lt;p&gt;Attached &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-812&quot; title=&quot;Performance optimization: avoid use of synchronized SimpleDateFormat in Dat&#8203;ePatternCo&#8203;nverter &quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-812&quot;&gt;&lt;del&gt;LOG4J2-812&lt;/del&gt;&lt;/a&gt;-patch.txt introduces a new SoftThreadLocal class with unit test and uses this class in DatePatternConverter to eliminate the need for a synchronized block.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="14614316" author="ralph.goers@dslextreme.com" created="Sun, 5 Jul 2015 16:52:02 +0000"  >&lt;p&gt;I am not crazy about this solution simply because I am not crazy about having a ThreadLocal per DatePatternConverter. I need to think about what other alternatives there are.&lt;/p&gt;</comment>
                            <comment id="14614321" author="garydgregory" created="Sun, 5 Jul 2015 17:24:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;I am not crazy about this solution simply because I am not crazy about having a ThreadLocal per DatePatternConverter.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why? How many DatePatternConverter&apos;s can there be in an application? I guess some apps could create hundreds of file appenders for different data based on markers. But if you do that, you&apos;re going to have a lot of overhead anyway.&lt;/p&gt;

&lt;p&gt;If an app has a lot of threads coming and going, that means a lot of thread locals coming and going as well. Is that the issue you are worried about?&lt;/p&gt;

&lt;p&gt;Does Java 8&apos;s new date-time code offer lock free formatting?&lt;/p&gt;</comment>
                            <comment id="14614325" author="ralph.goers@dslextreme.com" created="Sun, 5 Jul 2015 17:32:25 +0000"  >&lt;p&gt;A) I just don&apos;t like overuse of ThreadLocals. &lt;br/&gt;
B) I wouldn&apos;t be surprised to see a configuration with at least 3 PatternLayouts all with the same date pattern. It would be desirable to take advantage of that, which this solution won&apos;t.&lt;/p&gt;

&lt;p&gt;Yes, Java 8 solves this problem but we aren&apos;t going to move to that any time soon.&lt;/p&gt;

&lt;p&gt;At the moment I am toying with borrowing the FastDateFormat class from commons lang.&lt;/p&gt;</comment>
                            <comment id="14614328" author="garydgregory" created="Sun, 5 Jul 2015 17:37:27 +0000"  >&lt;p&gt;FastDateFormat still uses StringBuffers. We really want StringBuilders for the best performance. I posted to the Commons ML about this but I did not get replies yet. I am a committer in Commons (and the PMC chair FWIW) so it would be nice to feedback to Commons whatever improvements we make.&lt;/p&gt;</comment>
                            <comment id="14614329" author="garydgregory" created="Sun, 5 Jul 2015 17:39:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;a configuration with at least 3 PatternLayouts all with the same date pattern&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Are you thinking about keeping a map of PL keyed on the format?&lt;/p&gt;</comment>
                            <comment id="14614337" author="ralph.goers@dslextreme.com" created="Sun, 5 Jul 2015 17:54:17 +0000"  >&lt;p&gt;Since I am copying the classes I can modify it to use StringBuilders. Yes, I am thinking of keeping a Map of the formatted string based on the pattern.&lt;/p&gt;</comment>
                            <comment id="14614426" author="ralph.goers@dslextreme.com" created="Sun, 5 Jul 2015 22:27:09 +0000"  >&lt;p&gt;FWIW, the reason FastDateFormat uses StringBuilders is that it has a dependency on java.text.Format which requires one. &lt;/p&gt;</comment>
                            <comment id="14614541" author="remkop@yahoo.com" created="Mon, 6 Jul 2015 05:03:37 +0000"  >&lt;p&gt;The performance numbers Ralph posted on the ML look very nice. Let me reproduce them here for future reference (I find benchmark results easier to read formatted in Jira then on my phone mail app):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I created an implementation that uses FastDateFormat and an AtomicReference.  I modified the benchmarks and the results are below.  atomicFormat is the new version. cachedFormat uses logic similar to what Remko proposed. fastFormat simply uses the FastDateFormat on every timestamp. synchronizedFormat uses logic similar to what is in the DatePatternConverter now. threadLocalFormat retrieves a threadLocal SimpleDateFormat and formats every timestamp with it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;b&gt;1 Thread&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Benchmark                                                     Mode  Samples    Score   Error  Units
o.a.l.l.p.j.SimpleDateFormatBenchmark.atomicFormat          sample    67961   93.774 &#177; 3.928  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.baseline              sample    89151   39.136 &#177; 2.352  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.cachedFormat          sample    66065   74.033 &#177; 3.613  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.fastFormat            sample    79434  316.701 &#177; 6.443  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.synchronizedFormat    sample    81409  304.055 &#177; 5.835  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.threadLocalFormat     sample    84137  298.179 &#177; 6.005  ns/op
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;4 Threads&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Benchmark                                                     Mode  Samples     Score     Error  Units
o.a.l.l.p.j.SimpleDateFormatBenchmark.atomicFormat          sample   270722    82.465 &#177;   1.767  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.baseline              sample   290686    46.817 &#177;   1.348  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.cachedFormat          sample   229500    86.370 &#177;   2.102  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.fastFormat            sample   228713   435.373 &#177;  20.030  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.synchronizedFormat    sample   293448  2113.380 &#177; 138.919  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.threadLocalFormat     sample   283040   507.937 &#177;  15.903  ns/op
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;8 Threads&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Benchmark                                                     Mode  Samples     Score     Error  Units
o.a.l.l.p.j.SimpleDateFormatBenchmark.atomicFormat          sample   389028   120.208 &#177;  39.351  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.baseline              sample   523979    62.972 &#177;   2.952  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.cachedFormat          sample   606880   125.257 &#177;   7.320  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.fastFormat            sample   470751   768.610 &#177;  24.760  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.synchronizedFormat    sample   614805  4598.192 &#177; 107.378  ns/op
o.a.l.l.p.j.SimpleDateFormatBenchmark.threadLocalFormat     sample   434334   884.489 &#177; 130.365  ns/op
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14614550" author="remkop@yahoo.com" created="Mon, 6 Jul 2015 05:11:46 +0000"  >&lt;p&gt;I looked at the patch. Is this still a work in progress? The &lt;tt&gt;public void format(final LogEvent event, final StringBuilder output)&lt;/tt&gt; method still seems to have the synchronized block.&lt;/p&gt;

&lt;p&gt;In general I like Ralph&apos;s patch better than mine. I agree that avoiding ThreadLocals if possible is probably a good thing.&lt;/p&gt;

&lt;p&gt; Just out of interest, does FastDateFormat handle leap years and leap seconds and those kind of rare cases?&lt;/p&gt;</comment>
                            <comment id="14614559" author="ralph.goers@dslextreme.com" created="Mon, 6 Jul 2015 05:17:56 +0000"  >&lt;p&gt;Thanks for catching that. I got to that point and decided to create the benchmark before finishing the code. Then I forgot to do it.&lt;/p&gt;</comment>
                            <comment id="14614651" author="garydgregory" created="Mon, 6 Jul 2015 07:38:44 +0000"  >&lt;p&gt;Shouldn&apos;t we have a re-run of the benchmark just to have a record of the code without the synchronized block?&lt;/p&gt;</comment>
                            <comment id="14614992" author="ralph.goers@dslextreme.com" created="Mon, 6 Jul 2015 12:52:03 +0000"  >&lt;p&gt;The benchmark is fine.  It was the actual DatePatternConverter class that wasn&apos;t changed properly. The benchmark doesn&apos;t use that class as it is simulating the various ways it could be implemented.&lt;/p&gt;</comment>
                            <comment id="14615933" author="ralph.goers@dslextreme.com" created="Tue, 7 Jul 2015 00:09:59 +0000"  >&lt;p&gt;I attached a new patch file that includes the change for DatePatternConverter.  Please review before I commit it.&lt;/p&gt;</comment>
                            <comment id="14617160" author="garydgregory" created="Tue, 7 Jul 2015 18:42:11 +0000"  >&lt;p&gt;Looks good. Well done.&lt;/p&gt;

&lt;p&gt;Comments/Requests on &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12743847/LOG4J2-812.patch3.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12743847/LOG4J2-812.patch3.diff&lt;/a&gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fix the message &lt;tt&gt;Could not instantiate SimpleDateFormat with pattern&lt;/tt&gt; to mention &lt;tt&gt;FastDateFormat&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;I would make ivars and params like &lt;tt&gt;timestamp&lt;/tt&gt; and &lt;tt&gt;time&lt;/tt&gt; specify their scale, for example &lt;tt&gt;timestampMillis&lt;/tt&gt; vs. &lt;tt&gt;timestampNanos&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Make everything final that can be final.&lt;/li&gt;
	&lt;li&gt;Make comments like &quot;Copied from Commons Lang 3&quot; more specific, for example: &quot;Copied from Commons Lang 3.4 tag &lt;a href=&quot;http://&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://&lt;/a&gt;...&quot; or &quot;Copied from Commons Lang 3.4 Git revision xxx&quot;. This will allow maintainers to know when it might make sense to look for updating the code from Commons Lang again.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With this implementation, the trade-off is that a new &lt;tt&gt;CurrentTime&lt;/tt&gt; object is created whenever we need to format a new timestamp. It seems like a we would be generating a lot of garbage but I do not see an alternative since the patch cleverly uses of an &lt;tt&gt;AtomicReference&lt;/tt&gt;.&lt;/p&gt;
</comment>
                            <comment id="14617951" author="garydgregory" created="Wed, 8 Jul 2015 04:30:22 +0000"  >&lt;p&gt;The FastDateParser code base was just updated to address:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-1152&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LANG-1152&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-1153&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LANG-1153&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-1002&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LANG-1002&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14619892" author="ralph.goers@dslextreme.com" created="Thu, 9 Jul 2015 04:58:51 +0000"  >&lt;p&gt;I applied the patch.  The fixes to the issues above still need to be applied. I have also not addressed the issues raised by Gary.&lt;/p&gt;</comment>
                            <comment id="14620032" author="garydgregory" created="Thu, 9 Jul 2015 07:18:24 +0000"  >&lt;p&gt;I addressed:&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fix the message Could not instantiate SimpleDateFormat with pattern to mention FastDateFormat.&lt;/li&gt;
	&lt;li&gt;I would make ivars and params like timestamp and time specify their scale, for example timestampMillis vs. timestampNanos.&lt;/li&gt;
	&lt;li&gt;Make everything final that can be final.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Remains:&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Make comments like &quot;Copied from Commons Lang 3&quot; more specific, for example: &quot;Copied from Commons Lang 3.4 tag &lt;a href=&quot;http://&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://&lt;/a&gt;...&quot; or &quot;Copied from Commons Lang 3.4 Git revision xxx&quot;. This will allow maintainers to know when it might make sense to look for updating the code from Commons Lang again.&lt;/li&gt;
	&lt;li&gt;Pick up the latest sources from Apache Commons Lang for FastDate classes and document per above. I propose we document provenance next to the sources in the package, in a package comment, this would let the only change be in the package decl. The less fiddling the better.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</comment>
                            <comment id="14679194" author="remkop@yahoo.com" created="Sun, 9 Aug 2015 16:06:26 +0000"  >&lt;p&gt;Reassigned to Ralph since he created the solution we agreed upon.&lt;/p&gt;</comment>
                            <comment id="14704170" author="remkop@yahoo.com" created="Thu, 20 Aug 2015 02:12:13 +0000"  >&lt;p&gt;Linked this issue to &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-930&quot; title=&quot;Improve PatternLayout performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-930&quot;&gt;&lt;del&gt;LOG4J2-930&lt;/del&gt;&lt;/a&gt; (PatternLayout performance).&lt;/p&gt;</comment>
                            <comment id="14708034" author="remkop@yahoo.com" created="Sat, 22 Aug 2015 13:25:31 +0000"  >&lt;p&gt;Marking this issue as resolved since Ralph added most of the work for this to git master in commit 051f7019.&lt;/p&gt;

&lt;p&gt;I will create a separate Jira issue to track the remaining work.&lt;/p&gt;

&lt;p&gt;Please verify and close.&lt;/p&gt;</comment>
                            <comment id="14708036" author="remkop@yahoo.com" created="Sat, 22 Aug 2015 13:32:08 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1102&quot; title=&quot;Follow up: remaining tasks related to introducing FastDateFormat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1102&quot;&gt;LOG4J2-1102&lt;/a&gt; to track the remaining work.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12743243">LOG4J2-852</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12858064">LOG4J2-1102</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12857403">LOG4J2-1097</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12763772">LOG4J2-930</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12743627" name="LOG4J2-812-patch.txt" size="17141" author="rpopma" created="Sun, 5 Jul 2015 14:57:09 +0000"/>
                            <attachment id="12743645" name="LOG4J2-812.patch2.diff" size="129035" author="rgoers" created="Mon, 6 Jul 2015 00:57:20 +0000"/>
                            <attachment id="12743847" name="LOG4J2-812.patch3.diff" size="129703" author="rgoers" created="Tue, 7 Jul 2015 00:08:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1znnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>