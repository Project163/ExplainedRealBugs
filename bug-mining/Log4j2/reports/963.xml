<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:37:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1710] Build is currently broken in SocketAppender SocketOptions tests and Jacoco on MacOS</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1710</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;&lt;tt&gt;mvn clean install&lt;/tt&gt; does not work with revision &lt;tt&gt;2260dc7408246684e6aabecbe654bbae606526e9&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This is caused by a problem described here:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/23190107/cannot-use-jacoco-jvm-args-and-surefire-jvm-args-together-in-maven&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/23190107/cannot-use-jacoco-jvm-args-and-surefire-jvm-args-together-in-maven&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/12269558/maven-jacoco-plugin-error&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/12269558/maven-jacoco-plugin-error&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To fix it, add &lt;tt&gt;&amp;lt;argLine&amp;gt;&amp;lt;/argLine&amp;gt;&lt;/tt&gt; to &lt;tt&gt;&amp;lt;properties&amp;gt;&lt;/tt&gt; of &lt;tt&gt;pom.xml&lt;/tt&gt; in the root directory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13021135">LOG4J2-1710</key>
            <summary>Build is currently broken in SocketAppender SocketOptions tests and Jacoco on MacOS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="huxi">Joern Huxhorn</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Nov 2016 13:10:05 +0000</created>
                <updated>Wed, 16 Nov 2016 17:18:43 +0000</updated>
                            <resolved>Wed, 16 Nov 2016 16:49:33 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15670475" author="huxi" created="Wed, 16 Nov 2016 14:02:04 +0000"  >&lt;p&gt;Hm. It seems like this didn&apos;t fix the tests in IDEA, only on the console using Maven.&lt;/p&gt;</comment>
                            <comment id="15670517" author="huxi" created="Wed, 16 Nov 2016 14:18:15 +0000"  >&lt;p&gt;Removing &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;argLine&amp;gt;@{argLine} -Xms256m -Xmx1024m&amp;lt;/argLine&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; from the surefire configuration and putting &lt;tt&gt;&amp;lt;argLine&amp;gt;-Xms256m -Xmx1024m&amp;lt;/argLine&amp;gt;&lt;/tt&gt; into &lt;tt&gt;&amp;lt;properties&amp;gt;&lt;/tt&gt; instead works for me in both IDEA and Maven. At least it seems like it. I don&apos;t know if the arguments are actually used.&lt;/p&gt;</comment>
                            <comment id="15670857" author="huxi" created="Wed, 16 Nov 2016 16:13:11 +0000"  >&lt;p&gt;The attached patch contains my workaround/fix for the described problem.&lt;/p&gt;

&lt;p&gt;It also comments out &lt;tt&gt;Assert.assertEquals(10000, socket.getReceiveBufferSize());&lt;/tt&gt; in two tests since those fail in my environment.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T17:41:47+01:00)
Java version: 1.8.0_112, vendor: Oracle Corporation
Java home: /Library/Java/JavaVirtualMachines/jdk1.8.0_112.jdk/Contents/Home/jre
Default locale: en_US, platform encoding: UTF-8
OS name: &lt;span class=&quot;code-quote&quot;&gt;&quot;mac os x&quot;&lt;/span&gt;, version: &lt;span class=&quot;code-quote&quot;&gt;&quot;10.12.1&quot;&lt;/span&gt;, arch: &lt;span class=&quot;code-quote&quot;&gt;&quot;x86_64&quot;&lt;/span&gt;, family: &lt;span class=&quot;code-quote&quot;&gt;&quot;mac&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The failing tests are the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Results :

Failed tests:
  SecureSocketAppenderSocketOptionsTest.testSocketOptions:113 expected:&amp;lt;10000&amp;gt; but was:&amp;lt;271312&amp;gt;
  SocketAppenderSocketOptionsTest.testSocketOptions:93 expected:&amp;lt;10000&amp;gt; but was:&amp;lt;271312&amp;gt;

Tests run: 1480, Failures: 2, Errors: 0, Skipped: 33
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think it&apos;s OK to remove those checks since the javadoc of &lt;tt&gt;Socket.setReceiveBufferSize(int size)&lt;/tt&gt; says the value is only a &lt;b&gt;hint&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The SocketOptions#SO_RCVBUF SO_RCVBUF option is used by the platform&apos;s networking code as a &lt;b&gt;hint&lt;/b&gt; for the size to set the underlying network I/O buffers.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;whereas &lt;tt&gt;Socket.getReceiveBufferSize()&lt;/tt&gt; returns the actually used size.&lt;/p&gt;</comment>
                            <comment id="15670956" author="garydgregory" created="Wed, 16 Nov 2016 16:49:34 +0000"  >&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;Patch applied to Git master.&lt;/p&gt;

&lt;p&gt;Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15670988" author="huxi" created="Wed, 16 Nov 2016 17:05:03 +0000"  >&lt;p&gt;Works. Thanks.&lt;/p&gt;</comment>
                            <comment id="15671043" author="garydgregory" created="Wed, 16 Nov 2016 17:18:43 +0000"  >&lt;p&gt;YW!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12839194" name="0001-Fixing-LOG4J2-1710.patch" size="3374" author="huxi" created="Wed, 16 Nov 2016 16:13:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36ed3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>