<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3264] MapLookup should lookup MapMessage before properties</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3264</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;https://logging.apache.org/log4j/2.x/manual/lookups.html#MapLookup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://logging.apache.org/log4j/2.x/manual/lookups.html#MapLookup&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Note that when used this way a value for &quot;type&quot; should be declared in the properties declaration to provide a default value in case the message is not a MapMessage or the MapMessage does not contain the key. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If &quot;type&quot; is present with a MapMessage, then it will be picked not default value in the properties declaration, but the code show that the default value is always picked.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/logging-log4j2/blob/20f9a97dbe5928c3b5077bcdd2a22ac92e941655/log4j-core/src/main/java/org/apache/logging/log4j/core/lookup/MapLookup.java#L89-L104&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/blob/20f9a97dbe5928c3b5077bcdd2a22ac92e941655/log4j-core/src/main/java/org/apache/logging/log4j/core/lookup/MapLookup.java#L89-L104&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13418723">LOG4J2-3264</key>
            <summary>MapLookup should lookup MapMessage before properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ckozak">Carter Kozak</assignee>
                                    <reporter username="quaff">Yanming Zhou</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Dec 2021 01:00:19 +0000</created>
                <updated>Fri, 7 Jan 2022 19:58:59 +0000</updated>
                            <resolved>Thu, 23 Dec 2021 17:46:20 +0000</resolved>
                                                    <fixVersion>2.17.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17462911" author="quaff" created="Tue, 21 Dec 2021 01:14:47 +0000"  >&lt;p&gt;PR &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/646&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/646&lt;/a&gt; created.&lt;/p&gt;</comment>
                            <comment id="17464723" author="jira-bot" created="Thu, 23 Dec 2021 17:43:55 +0000"  >&lt;p&gt;Commit 4d30644bba4d5354b0d7983a5019a14dcb6ad4a4 in logging-log4j2&apos;s branch refs/heads/release-2.x from Yanming Zhou&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=4d30644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=4d30644&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3264&quot; title=&quot;MapLookup should lookup MapMessage before properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3264&quot;&gt;&lt;del&gt;LOG4J2-3264&lt;/del&gt;&lt;/a&gt;: Fix MapLookup to lookup MapMessage before DefaultMap&lt;/p&gt;</comment>
                            <comment id="17464725" author="ckozak" created="Thu, 23 Dec 2021 17:46:20 +0000"  >&lt;p&gt;Please verify and close&lt;/p&gt;</comment>
                            <comment id="17464726" author="jira-bot" created="Thu, 23 Dec 2021 17:46:44 +0000"  >&lt;p&gt;Commit c4415993b3cd79ce027bec575976330135f51c83 in logging-log4j2&apos;s branch refs/heads/release-2.x from Carter Kozak&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=c441599&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=c441599&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3264&quot; title=&quot;MapLookup should lookup MapMessage before properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3264&quot;&gt;&lt;del&gt;LOG4J2-3264&lt;/del&gt;&lt;/a&gt; changelog&lt;/p&gt;</comment>
                            <comment id="17470861" author="jira-bot" created="Fri, 7 Jan 2022 19:58:58 +0000"  >&lt;p&gt;Commit 7df9c1b9e24759dca329197b9175cb673feb4c47 in logging-log4j2&apos;s branch refs/heads/master from Yanming Zhou&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7df9c1b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7df9c1b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3264&quot; title=&quot;MapLookup should lookup MapMessage before properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3264&quot;&gt;&lt;del&gt;LOG4J2-3264&lt;/del&gt;&lt;/a&gt;: Fix MapLookup to lookup MapMessage before DefaultMap&lt;/p&gt;</comment>
                            <comment id="17470862" author="jira-bot" created="Fri, 7 Jan 2022 19:58:59 +0000"  >&lt;p&gt;Commit 7ba4e0b9a27b70e0fd369780c81718ee6e6035a7 in logging-log4j2&apos;s branch refs/heads/master from Carter Kozak&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7ba4e0b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7ba4e0b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3264&quot; title=&quot;MapLookup should lookup MapMessage before properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3264&quot;&gt;&lt;del&gt;LOG4J2-3264&lt;/del&gt;&lt;/a&gt; changelog&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xwtk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>