<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:33:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-993] Potential deadlock if a new Logger is created while log4j is reconfiguring in another thread</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-993</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;When building log4j with this set up:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Apache Maven 3.3.1 (cab6659f9874fa96462afef40fcf6bc033d58c1c; 2015-03-13T13:10:27-07:00)
Maven home: C:\Java\apache-maven-3.3.1
Java version: 1.7.0_75, vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.7.0_75\jre
Default locale: en_US, platform encoding: Cp1252
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and running &lt;tt&gt;mvn test -pl !log4j-perf&lt;/tt&gt; I get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-03-25 00:31:37,884 DEBUG Reconfiguration complete for context[name=1208470774] at null (org.apache.logging.log4j.core.LoggerContext@5682a3b2) with optional ClassLoader: null
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 69.089 sec - in org.apache.logging.log4j.flume.appender.FlumeEmbeddedAgentTest
Tests run: 7, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 76.252 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.logging.log4j.flume.appender.FlumeAppenderTest
testNotConnected(org.apache.logging.log4j.flume.appender.FlumeAppenderTest)  Time elapsed: 28.282 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.apache.logging.log4j.core.appender.AppenderLoggingException: No Flume agents are available
        at org.apache.logging.log4j.flume.appender.FlumeAvroManager.send(FlumeAvroManager.java:178)
        at org.apache.logging.log4j.flume.appender.FlumeAppender.append(FlumeAppender.java:106)
        at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:99)
        at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:430)
        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:409)
        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:367)
        at org.apache.logging.log4j.core.Logger.logMessage(Logger.java:112)
        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:727)
        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:716)
        at org.apache.logging.log4j.spi.AbstractLogger.info(AbstractLogger.java:526)
        at org.apache.logging.log4j.flume.appender.FlumeAppenderTest.testNotConnected(FlumeAppenderTest.java:317)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the build looks hung up.&lt;/p&gt;

&lt;p&gt;jstack says:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-03-25 00:39:59
Full thread dump Java HotSpot(TM) 64-Bit Server VM (24.75-b04 mixed mode):

&quot;Thread-2&quot; daemon prio=6 tid=0x000000000da69800 nid=0x3590 waiting for monitor entry [0x0000000011c5e000]
   java.lang.Thread.State: BLOCKED (on object monitor)
        at org.apache.logging.log4j.core.LoggerContext.getConfigLocation(LoggerContext.java:400)
        - waiting to lock &amp;lt;0x00000007d8c32370&amp;gt; (a org.apache.logging.log4j.core.LoggerContext)
        at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:156)
        at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:70)
        at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:57)
        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:142)
        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:1)
        at org.apache.logging.log4j.LogManager.getContext(LogManager.java:175)
        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:102)
        at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:43)
        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:42)
        at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)
        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:277)
        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:288)
        at org.apache.flume.api.NettyAvroRpcClient.&amp;lt;clinit&amp;gt;(NettyAvroRpcClient.java:103)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:191)
        at org.apache.flume.api.RpcClientFactory.getInstance(RpcClientFactory.java:73)
        at org.apache.flume.api.FailoverRpcClient.getNextClient(FailoverRpcClient.java:264)
        at org.apache.flume.api.FailoverRpcClient.getClient(FailoverRpcClient.java:125)
        - locked &amp;lt;0x00000007d70ec370&amp;gt; (a org.apache.flume.api.FailoverRpcClient)
        at org.apache.flume.api.FailoverRpcClient.appendBatch(FailoverRpcClient.java:200)
        at org.apache.logging.log4j.flume.appender.FlumeAvroManager.send(FlumeAvroManager.java:146)
        - locked &amp;lt;0x00000007d7064178&amp;gt; (a org.apache.logging.log4j.flume.appender.FlumePersistentManager)
        at org.apache.logging.log4j.flume.appender.FlumePersistentManager$WriterThread.sendBatch(FlumePersistentManager.java:691)
        at org.apache.logging.log4j.flume.appender.FlumePersistentManager$WriterThread.run(FlumePersistentManager.java:651)

   Locked ownable synchronizers:
        - None

&quot;Checkpointer&quot; daemon prio=6 tid=0x000000000da69000 nid=0x2898 in Object.wait() [0x0000000011aaf000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on &amp;lt;0x00000007d693d758&amp;gt; (a java.lang.Object)
        at java.lang.Object.wait(Object.java:503)
        at com.sleepycat.je.utilint.DaemonThread.run(DaemonThread.java:175)
        - locked &amp;lt;0x00000007d693d758&amp;gt; (a java.lang.Object)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - None

&quot;Cleaner-1&quot; daemon prio=6 tid=0x000000000da68000 nid=0x170 in Object.wait() [0x000000001191f000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on &amp;lt;0x00000007d6b372f8&amp;gt; (a java.lang.Object)
        at java.lang.Object.wait(Object.java:503)
        at com.sleepycat.je.utilint.DaemonThread.run(DaemonThread.java:175)
        - locked &amp;lt;0x00000007d6b372f8&amp;gt; (a java.lang.Object)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - None

&quot;INCompressor&quot; daemon prio=6 tid=0x000000000da67800 nid=0x3d9c in Object.wait() [0x00000000110ee000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on &amp;lt;0x00000007d69b8bb8&amp;gt; (a java.lang.Object)
        at com.sleepycat.je.utilint.DaemonThread.run(DaemonThread.java:177)
        - locked &amp;lt;0x00000007d69b8bb8&amp;gt; (a java.lang.Object)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - None

&quot;New I/O server boss #2 ([id: 0x1cba2c1d, /127.0.0.1:1502])&quot; prio=6 tid=0x000000000da66800 nid=0x272c runnable [0x000000001171e000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bd77d8&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bd77c8&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8bd7340&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:102)
        at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:231)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bd4fa0&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)
        - &amp;lt;0x00000007d8c2ffe0&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)

&quot;New I/O  worker #16&quot; prio=6 tid=0x000000000da66000 nid=0x19b4 runnable [0x00000000115bf000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bf7390&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bf7380&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8bf7230&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bdaf58&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #15&quot; prio=6 tid=0x000000000da65000 nid=0x12d8 runnable [0x00000000113ef000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bf2d38&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bf2d28&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8bf2bd8&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bf2a28&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #14&quot; prio=6 tid=0x000000000da64800 nid=0x32b4 runnable [0x000000001128f000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bdb400&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bdb3f0&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8bdb2a0&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bdb0f0&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #13&quot; prio=6 tid=0x000000000da63800 nid=0x2944 runnable [0x0000000010fae000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8be73d8&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8be73c8&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8be7278&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8be70c8&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #12&quot; prio=6 tid=0x000000000da63000 nid=0x2bf8 runnable [0x0000000010e1e000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bef3d8&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bef3c8&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8bef278&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bef0c8&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #11&quot; prio=6 tid=0x000000000da62000 nid=0x3e48 runnable [0x00000000108ef000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bdf3d8&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bdf3c8&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8bdf278&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bdf0c8&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #10&quot; prio=6 tid=0x000000000e05b000 nid=0x2a34 runnable [0x0000000010cce000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8be2d38&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8be2d28&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8be2bd8&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8be2a28&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #9&quot; prio=6 tid=0x000000000deec800 nid=0x3970 runnable [0x0000000010b8e000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bead38&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bead28&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8beabd8&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8beaa28&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O server boss #1 ([id: 0xfc48b347, /127.0.0.1:1501])&quot; prio=6 tid=0x000000000df9e800 nid=0x3c9c runnable [0x0000000010a3e000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8c225a8&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8c22598&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8c22120&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:102)
        at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:231)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bd4878&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)
        - &amp;lt;0x00000007d8c2d920&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)

&quot;New I/O  worker #8&quot; prio=6 tid=0x000000000d975800 nid=0x1640 runnable [0x00000000107de000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8c17370&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8c17360&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8c17210&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bfaa60&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #7&quot; prio=6 tid=0x000000000d973800 nid=0x3c2c runnable [0x00000000106cf000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8c0f3d8&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8c0f3c8&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8c0f278&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8c0f0c8&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #6&quot; prio=6 tid=0x00000000023b2000 nid=0x3fd4 runnable [0x00000000104ee000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bff3d8&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bff3c8&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8bff278&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bff0c8&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #5&quot; prio=6 tid=0x00000000023b0000 nid=0x30c4 runnable [0x000000001031e000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8c0ad58&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8c0ad48&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8c0abf8&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8c0aa48&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #4&quot; prio=6 tid=0x000000000dd2b000 nid=0x2904 runnable [0x000000001000f000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8c02d38&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8c02d28&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8c02bd8&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8c02a28&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #3&quot; prio=6 tid=0x000000000dd09800 nid=0x3e60 runnable [0x000000001019e000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8c073d8&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8c073c8&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8c07278&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8c070c8&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #2&quot; prio=6 tid=0x000000000de5b000 nid=0x1274 runnable [0x000000000fecf000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8c12d38&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8c12d28&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8c12bd8&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8c12a28&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;New I/O  worker #1&quot; prio=6 tid=0x000000000e063800 nid=0x28d4 runnable [0x000000000fcce000]
   java.lang.Thread.State: RUNNABLE
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:296)
        at sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(WindowsSelectorImpl.java:278)
        at sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:159)
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
        - locked &amp;lt;0x00000007d8bfaf08&amp;gt; (a sun.nio.ch.Util$2)
        - locked &amp;lt;0x00000007d8bfaef8&amp;gt; (a java.util.Collections$UnmodifiableSet)
        - locked &amp;lt;0x00000007d8bfada8&amp;gt; (a sun.nio.ch.WindowsSelectorImpl)
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
        at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:64)
        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:244)
        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:102)
        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8bfabf8&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)

&quot;Service Thread&quot; daemon prio=6 tid=0x000000000bba3000 nid=0x1e44 runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
        - None

&quot;C2 CompilerThread1&quot; daemon prio=10 tid=0x000000000bb9a000 nid=0x2a00 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
        - None

&quot;C2 CompilerThread0&quot; daemon prio=10 tid=0x000000000bb98000 nid=0x1af0 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
        - None

&quot;Attach Listener&quot; daemon prio=10 tid=0x000000000bb95000 nid=0x47c runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
        - None

&quot;Signal Dispatcher&quot; daemon prio=10 tid=0x000000000bb90000 nid=0x3de8 runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
        - None

&quot;Finalizer&quot; daemon prio=8 tid=0x000000000bb39000 nid=0x3afc in Object.wait() [0x000000000cfbe000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on &amp;lt;0x00000007d8b01528&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)
        - locked &amp;lt;0x00000007d8b01528&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)

   Locked ownable synchronizers:
        - None

&quot;Reference Handler&quot; daemon prio=10 tid=0x000000000bb32000 nid=0x3f54 in Object.wait() [0x000000000cebf000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on &amp;lt;0x00000007d8b009c8&amp;gt; (a java.lang.ref.Reference$Lock)
        at java.lang.Object.wait(Object.java:503)
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)
        - locked &amp;lt;0x00000007d8b009c8&amp;gt; (a java.lang.ref.Reference$Lock)

   Locked ownable synchronizers:
        - None

&quot;main&quot; prio=6 tid=0x00000000023aa000 nid=0x30c8 in Object.wait() [0x000000000260d000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on &amp;lt;0x00000007d714b358&amp;gt; (a org.apache.logging.log4j.flume.appender.FlumePersistentManager$WriterThread)
        at java.lang.Thread.join(Thread.java:1281)
        - locked &amp;lt;0x00000007d714b358&amp;gt; (a org.apache.logging.log4j.flume.appender.FlumePersistentManager$WriterThread)
        at java.lang.Thread.join(Thread.java:1355)
        at org.apache.logging.log4j.flume.appender.FlumePersistentManager.releaseSub(FlumePersistentManager.java:236)
        at org.apache.logging.log4j.core.appender.AbstractManager.release(AbstractManager.java:119)
        at org.apache.logging.log4j.flume.appender.FlumeAppender.stop(FlumeAppender.java:112)
        at org.apache.logging.log4j.core.config.AbstractConfiguration.stop(AbstractConfiguration.java:237)
        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:364)
        - locked &amp;lt;0x00000007d8c32370&amp;gt; (a org.apache.logging.log4j.core.LoggerContext)
        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:420)
        - locked &amp;lt;0x00000007d8c32370&amp;gt; (a org.apache.logging.log4j.core.LoggerContext)
        at org.apache.logging.log4j.flume.appender.FlumePersistentAppenderTest.teardown(FlumePersistentAppenderTest.java:114)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8c76348&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)

&quot;VM Thread&quot; prio=10 tid=0x000000000bb2b800 nid=0x26e8 runnable

&quot;GC task thread#0 (ParallelGC)&quot; prio=6 tid=0x00000000023bf000 nid=0x3860 runnable

&quot;GC task thread#1 (ParallelGC)&quot; prio=6 tid=0x00000000023c0800 nid=0x27a0 runnable

&quot;GC task thread#2 (ParallelGC)&quot; prio=6 tid=0x00000000023c2000 nid=0x29b8 runnable

&quot;GC task thread#3 (ParallelGC)&quot; prio=6 tid=0x00000000023c4000 nid=0x2a84 runnable

&quot;VM Periodic Task Thread&quot; prio=10 tid=0x000000000bbac000 nid=0x2e64 waiting on condition

JNI global references: 291
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;Comment from Mikhail:&lt;/p&gt;

&lt;p&gt;It&apos;s a classical deadlock. Thread &lt;tt&gt;main&lt;/tt&gt; got the instance lock of the &lt;tt&gt;LoggerContext&lt;/tt&gt; (&lt;tt&gt;- locked &amp;lt;0x00000007d8c32370&amp;gt; (a org.apache.logging.log4j.core.LoggerContext) at org.apache.logging.log4j.flume.appender.FlumePersistentAppenderTest.teardown(FlumePersistentAppenderTest.java:114)&lt;/tt&gt;) and then it waits for another thread - &lt;tt&gt;Thread-2&lt;/tt&gt; to finish (thread.join() &lt;tt&gt;at java.lang.Thread.join(Thread.java:1281)&lt;/tt&gt;) but that thread is waiting for the above mentioned lock (&lt;tt&gt;at org.apache.logging.log4j.core.LoggerContext.getConfigLocation(LoggerContext.java:400) - waiting to lock &amp;lt;0x00000007d8c32370&amp;gt; (a org.apache.logging.log4j.core.LoggerContext)&lt;/tt&gt;). IMHO it is an issue unrelated to my patch.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
&quot;main&quot; prio=6 tid=0x00000000023aa000 nid=0x30c8 in Object.wait() [0x000000000260d000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        - waiting on &amp;lt;0x00000007d714b358&amp;gt; (a org.apache.logging.log4j.flume.appender.FlumePersistentManager$WriterThread)
        at java.lang.Thread.join(Thread.java:1281)
        - locked &amp;lt;0x00000007d714b358&amp;gt; (a org.apache.logging.log4j.flume.appender.FlumePersistentManager$WriterThread)
        at java.lang.Thread.join(Thread.java:1355)
        at org.apache.logging.log4j.flume.appender.FlumePersistentManager.releaseSub(FlumePersistentManager.java:236)
        at org.apache.logging.log4j.core.appender.AbstractManager.release(AbstractManager.java:119)
        at org.apache.logging.log4j.flume.appender.FlumeAppender.stop(FlumeAppender.java:112)
        at org.apache.logging.log4j.core.config.AbstractConfiguration.stop(AbstractConfiguration.java:237)
        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:364)
        - locked &amp;lt;0x00000007d8c32370&amp;gt; (a org.apache.logging.log4j.core.LoggerContext)
        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:420)
        - locked &amp;lt;0x00000007d8c32370&amp;gt; (a org.apache.logging.log4j.core.LoggerContext)
        at org.apache.logging.log4j.flume.appender.FlumePersistentAppenderTest.teardown(FlumePersistentAppenderTest.java:114)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

   Locked ownable synchronizers:
        - &amp;lt;0x00000007d8c76348&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
&quot;Thread-2&quot; daemon prio=6 tid=0x000000000da69800 nid=0x3590 waiting for monitor entry [0x0000000011c5e000]
   java.lang.Thread.State: BLOCKED (on object monitor)
        at org.apache.logging.log4j.core.LoggerContext.getConfigLocation(LoggerContext.java:400)
        - waiting to lock &amp;lt;0x00000007d8c32370&amp;gt; (a org.apache.logging.log4j.core.LoggerContext)
        at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:156)
        at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:70)
        at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:57)
        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:142)
        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:1)
        at org.apache.logging.log4j.LogManager.getContext(LogManager.java:175)
        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:102)
        at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:43)
        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:42)
        at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)
        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:277)
        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:288)
        at org.apache.flume.api.NettyAvroRpcClient.&amp;lt;clinit&amp;gt;(NettyAvroRpcClient.java:103)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:191)
        at org.apache.flume.api.RpcClientFactory.getInstance(RpcClientFactory.java:73)
        at org.apache.flume.api.FailoverRpcClient.getNextClient(FailoverRpcClient.java:264)
        at org.apache.flume.api.FailoverRpcClient.getClient(FailoverRpcClient.java:125)
        - locked &amp;lt;0x00000007d70ec370&amp;gt; (a org.apache.flume.api.FailoverRpcClient)
        at org.apache.flume.api.FailoverRpcClient.appendBatch(FailoverRpcClient.java:200)
        at org.apache.logging.log4j.flume.appender.FlumeAvroManager.send(FlumeAvroManager.java:146)
        - locked &amp;lt;0x00000007d7064178&amp;gt; (a org.apache.logging.log4j.flume.appender.FlumePersistentManager)
        at org.apache.logging.log4j.flume.appender.FlumePersistentManager$WriterThread.sendBatch(FlumePersistentManager.java:691)
        at org.apache.logging.log4j.flume.appender.FlumePersistentManager$WriterThread.run(FlumePersistentManager.java:651)

   Locked ownable synchronizers:
        - None
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12818909">LOG4J2-993</key>
            <summary>Potential deadlock if a new Logger is created while log4j is reconfiguring in another thread</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Apr 2015 12:19:12 +0000</created>
                <updated>Wed, 20 May 2015 21:42:40 +0000</updated>
                            <resolved>Sun, 12 Apr 2015 17:10:45 +0000</resolved>
                                    <version>2.2</version>
                                    <fixVersion>2.3</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14491589" author="ralph.goers@dslextreme.com" created="Sun, 12 Apr 2015 17:10:45 +0000"  >&lt;p&gt;Fix applied with unit test.&lt;/p&gt;</comment>
                            <comment id="14553182" author="remkop@yahoo.com" created="Wed, 20 May 2015 21:42:40 +0000"  >&lt;p&gt;Closing as per mailing list. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12784635">LOG4J2-982</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cwlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>