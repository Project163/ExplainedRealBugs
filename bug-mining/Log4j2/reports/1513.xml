<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3247] PropertiesConfiguration.parseAppenderFilters NPE when parsing properties file filters</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3247</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;When parsing appender filters configured in the properties file for example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
log4j.appender.LOG_REQUEST_START_DB=my.appender.class
log4j.appender.LOG_REQUEST_START_DB.filter.ID=my.filter.class&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;a NullPointerException is thrown on line 564 of org.apache.log4j.config.PropertiesConfiguration. The &lt;em&gt;next&lt;/em&gt; variable is always &lt;em&gt;null&lt;/em&gt; at that point, from what appears to be a bug in the&#160;&lt;em&gt;if&lt;/em&gt;&#160;condition above (looks like it should be &lt;em&gt;head == null&lt;/em&gt; instead of &lt;em&gt;head != null&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Note: this is using the log4j1.compatibility=true property&lt;/p&gt;</description>
                <environment></environment>
        <key id="13418066">LOG4J2-3247</key>
            <summary>PropertiesConfiguration.parseAppenderFilters NPE when parsing properties file filters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="coredumped">F&#225;bio Constantino</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Dec 2021 18:27:30 +0000</created>
                <updated>Thu, 23 Dec 2021 13:39:22 +0000</updated>
                            <resolved>Thu, 16 Dec 2021 23:08:40 +0000</resolved>
                                    <version>2.16.0</version>
                                    <fixVersion>2.17.1</fixVersion>
                                    <component>Configurators</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17461049" author="garydgregory" created="Thu, 16 Dec 2021 21:11:04 +0000"  >&lt;p&gt;May you please post your stack trace?&lt;/p&gt;

&lt;p&gt;I also need something I can reproduce the NPE. Do you have an example file?&lt;/p&gt;</comment>
                            <comment id="17461113" author="jira-bot" created="Thu, 16 Dec 2021 23:07:45 +0000"  >&lt;p&gt;Commit 8908e1dcb0906f46837e10175099001d1fe75133 in logging-log4j2&apos;s branch refs/heads/release-2.x from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=8908e1d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=8908e1d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3247&quot; title=&quot;PropertiesConfiguration.parseAppenderFilters NPE when parsing properties file filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3247&quot;&gt;&lt;del&gt;LOG4J2-3247&lt;/del&gt;&lt;/a&gt; PropertiesConfiguration.parseAppenderFilters NPE when&lt;br/&gt;
parsing properties file filters.&lt;/p&gt;</comment>
                            <comment id="17461115" author="garydgregory" created="Thu, 16 Dec 2021 23:08:40 +0000"  >&lt;p&gt;Fixed in git &lt;tt&gt;release-2.x&lt;/tt&gt; branch.&lt;/p&gt;</comment>
                            <comment id="17464556" author="JIRAUSER282085" created="Thu, 23 Dec 2021 13:12:50 +0000"  >&lt;p&gt;Hey Gary,&lt;/p&gt;

&lt;p&gt;First of all, thanks for fixing this issue. I can now see that the configuration is being read, the filter is being built and the head and next variables are correctly set.&lt;/p&gt;

&lt;p&gt;However (and this may just be me missing something), the filter is still not added to the appenders. It sets the variables correctly and then returns&#160;&lt;em&gt;head&lt;/em&gt; but when this is called in the &lt;em&gt;buildAppender&lt;/em&gt;&#160;method (same class, line 457) it does nothing with it.&lt;/p&gt;

&lt;p&gt;Could you help me understand if this is something I am doing wrong please? If it is a bug, let me know and I&apos;ll open a separate issue for it.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="17464560" author="garydgregory" created="Thu, 23 Dec 2021 13:17:32 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=coredumped&quot; class=&quot;user-hover&quot; rel=&quot;coredumped&quot;&gt;coredumped&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Let&apos;s keep things cleanly separated in a new ticket since we&apos;ve fixed this one issue at least. Please post ALL the information we need in the new ticket like configuration files, command-line invocation examples, and so on, you can also &quot;link&quot; the new ticket with the old one which might be handy.&lt;/p&gt;

&lt;p&gt;TY for your patience.&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="17464569" author="JIRAUSER282085" created="Thu, 23 Dec 2021 13:39:22 +0000"  >&lt;p&gt;Ok, thank you for the information.&lt;/p&gt;

&lt;p&gt;I have created the new issue here: &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LOG4J2-3281&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xsrk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>