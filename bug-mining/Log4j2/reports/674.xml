<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:35:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1227] NullPointerException in MapLookup.lookup is the event is null</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1227</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;A NullPointerException is thrown in org.apache.logging.log4j.core.lookup.MapLookup.lookup, when the event is null and the map is not null.&lt;/p&gt;

&lt;p&gt;The event can indeed be null, for example if used from StrSubstitutor, with the method replace(final StringBuilder source).&lt;/p&gt;

&lt;p&gt;Exception:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException: null&lt;br/&gt;
	at org.apache.logging.log4j.core.lookup.MapLookup.lookup(MapLookup.java:121)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12923464">LOG4J2-1227</key>
            <summary>NullPointerException in MapLookup.lookup is the event is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mattsicker">Matt Sicker</assignee>
                                    <reporter username="olemasle">Olivier Lemasle</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Dec 2015 15:48:59 +0000</created>
                <updated>Thu, 3 Mar 2016 18:30:32 +0000</updated>
                            <resolved>Thu, 3 Mar 2016 18:30:25 +0000</resolved>
                                    <version>2.4</version>
                    <version>2.4.1</version>
                    <version>2.5</version>
                                    <fixVersion>2.6</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15066595" author="olemasle" created="Mon, 21 Dec 2015 15:50:25 +0000"  >&lt;p&gt;This is due to commit a2fb4c2be716568.&lt;/p&gt;</comment>
                            <comment id="15066613" author="githubbot" created="Mon, 21 Dec 2015 15:57:26 +0000"  >&lt;p&gt;GitHub user olivierlemasle opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/20&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1227&quot; title=&quot;NullPointerException in MapLookup.lookup is the event is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1227&quot;&gt;&lt;del&gt;LOG4J2-1227&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Test if the event is null before using it, to avoid NullPointerException.&lt;br/&gt;
    Add some unit tests.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/olivierlemasle/logging-log4j2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/olivierlemasle/logging-log4j2&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1227&quot; title=&quot;NullPointerException in MapLookup.lookup is the event is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1227&quot;&gt;&lt;del&gt;LOG4J2-1227&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/20.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/20.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #20&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 33ee4bfd0aa1f58a705771222132a42d1dfb328c&lt;br/&gt;
Author: Olivier Lemasle &amp;lt;olivier.lemasle@apalia.net&amp;gt;&lt;br/&gt;
Date:   2015-12-21T15:53:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1227&quot; title=&quot;NullPointerException in MapLookup.lookup is the event is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1227&quot;&gt;&lt;del&gt;LOG4J2-1227&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
        Test if the event is null before using it, to avoid NullPointerException.&lt;br/&gt;
        Add some unit tests.&lt;br/&gt;
        Submitted by: Olivier Lemasle &amp;lt;o.lemasle@gmail.com&amp;gt;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15067204" author="remkop@yahoo.com" created="Mon, 21 Dec 2015 22:53:58 +0000"  >&lt;p&gt;Looking at the diff for commit a2fb4c2be716568, I don&apos;t think it caused the problem. I think the problem existed before that. &lt;/p&gt;

&lt;p&gt;From eyeballing your proposed patch it looks like it fixes the issue. We will try to get this in before the next release. &lt;/p&gt;</comment>
                            <comment id="15177072" author="githubbot" created="Thu, 3 Mar 2016 03:08:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/20&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15177074" author="jvz" created="Thu, 3 Mar 2016 03:09:24 +0000"  >&lt;p&gt;I&apos;ve merged your pull request, thanks for the patch! Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15177536" author="githubbot" created="Thu, 3 Mar 2016 09:19:06 +0000"  >&lt;p&gt;GitHub user olivierlemasle opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/26&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1227&quot; title=&quot;NullPointerException in MapLookup.lookup is the event is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1227&quot;&gt;&lt;del&gt;LOG4J2-1227&lt;/del&gt;&lt;/a&gt; - Fix unit test (error in commit 33ee4bfd0)&lt;/p&gt;

&lt;p&gt;    Thank you for having merged my pull request #20.&lt;br/&gt;
    But there was an error in unit tests, sorry!&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/olivierlemasle/logging-log4j2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/olivierlemasle/logging-log4j2&lt;/a&gt; fixUnitTest&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/26.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/26.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #26&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 51a81f96358e217815185170df19f9f5110be43e&lt;br/&gt;
Author: Olivier Lemasle &amp;lt;olivier.lemasle@apalia.net&amp;gt;&lt;br/&gt;
Date:   2016-03-03T09:08:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1227&quot; title=&quot;NullPointerException in MapLookup.lookup is the event is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1227&quot;&gt;&lt;del&gt;LOG4J2-1227&lt;/del&gt;&lt;/a&gt; - Fix unit test (error in commit 33ee4bfd0)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15177547" author="olemasle" created="Thu, 3 Mar 2016 09:21:40 +0000"  >&lt;p&gt;Sorry, I did an error in unit tests - see pull request #26.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="15178172" author="githubbot" created="Thu, 3 Mar 2016 17:22:44 +0000"  >&lt;p&gt;Github user jvz commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/26#issuecomment-191870571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/26#issuecomment-191870571&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the fix.&lt;/p&gt;</comment>
                            <comment id="15178176" author="githubbot" created="Thu, 3 Mar 2016 17:24:13 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/26&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2q5z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>