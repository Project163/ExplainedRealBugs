<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3171] Reduce indirection/branching in PatternLayout to improve throughput</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3171</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Ticket is meant to cover the work I&apos;ve done in:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/573&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13405658">LOG4J2-3171</key>
            <summary>Reduce indirection/branching in PatternLayout to improve throughput</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ckozak">Carter Kozak</assignee>
                                    <reporter username="ckozak">Carter Kozak</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Oct 2021 17:20:32 +0000</created>
                <updated>Fri, 7 Jan 2022 18:29:48 +0000</updated>
                            <resolved>Fri, 15 Oct 2021 11:35:47 +0000</resolved>
                                    <version>2.14.1</version>
                                    <fixVersion>2.15.0</fixVersion>
                                    <component>Layouts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17429240" author="jira-bot" created="Fri, 15 Oct 2021 11:26:46 +0000"  >&lt;p&gt;Commit 3bb92e0f6fe9abf14d7ce161d916888e47ee8471 in logging-log4j2&apos;s branch refs/heads/release-2.x from Carter Kozak&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=3bb92e0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=3bb92e0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3171&quot; title=&quot;Reduce indirection/branching in PatternLayout to improve throughput&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3171&quot;&gt;&lt;del&gt;LOG4J2-3171&lt;/del&gt;&lt;/a&gt;: Reduce PatternLayout + PatternConverter branching&lt;/p&gt;

&lt;p&gt;Prefer fewer conditionals based on types known ahead of time.&lt;br/&gt;
Serializer extends Serializer2 with a default implementation&lt;br/&gt;
of the encode method &amp;#8211; all of our implementations of&lt;br/&gt;
the Serializer interface also implement Serializer2, so the&lt;br/&gt;
conditional path was never used. This may allow more code to&lt;br/&gt;
be inlined.&lt;/p&gt;

&lt;p&gt;Simplify literal pattern converters to avoid overhead&lt;br/&gt;
Simplify LineSeparatorPatternConverter, non-variable, directly from static&lt;br/&gt;
unwrap PatternFormaters in PatternLayout&lt;/p&gt;

&lt;p&gt;Split MessagePatternConverter into individual components&lt;br/&gt;
Complexity only exists in the call-path if it&apos;s needed. Note&lt;br/&gt;
that we are building a more complex object graph here, but&lt;br/&gt;
it should allow more effective inlining.&lt;/p&gt;

&lt;p&gt;Remove verbose properties code from logger hot paths&lt;/p&gt;

&lt;p&gt;LogEventFactory implements LocationAwareLogEventFactory to reduce&lt;br/&gt;
overhead due to branching on instanceof checks.&lt;/p&gt;

&lt;p&gt;Factor out uncommon instance creation path in ReusableLogEventFactory&lt;/p&gt;</comment>
                            <comment id="17470801" author="jira-bot" created="Fri, 7 Jan 2022 18:29:48 +0000"  >&lt;p&gt;Commit 414cdd7bab51911e3443ac335af3ab379eb72282 in logging-log4j2&apos;s branch refs/heads/master from Carter Kozak&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=414cdd7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=414cdd7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3171&quot; title=&quot;Reduce indirection/branching in PatternLayout to improve throughput&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3171&quot;&gt;&lt;del&gt;LOG4J2-3171&lt;/del&gt;&lt;/a&gt;: Reduce PatternLayout + PatternConverter branching&lt;/p&gt;

&lt;p&gt;Prefer fewer conditionals based on types known ahead of time.&lt;br/&gt;
Serializer extends Serializer2 with a default implementation&lt;br/&gt;
of the encode method &amp;#8211; all of our implementations of&lt;br/&gt;
the Serializer interface also implement Serializer2, so the&lt;br/&gt;
conditional path was never used. This may allow more code to&lt;br/&gt;
be inlined.&lt;/p&gt;

&lt;p&gt;Simplify literal pattern converters to avoid overhead&lt;br/&gt;
Simplify LineSeparatorPatternConverter, non-variable, directly from static&lt;br/&gt;
unwrap PatternFormaters in PatternLayout&lt;/p&gt;

&lt;p&gt;Split MessagePatternConverter into individual components&lt;br/&gt;
Complexity only exists in the call-path if it&apos;s needed. Note&lt;br/&gt;
that we are building a more complex object graph here, but&lt;br/&gt;
it should allow more effective inlining.&lt;/p&gt;

&lt;p&gt;Remove verbose properties code from logger hot paths&lt;/p&gt;

&lt;p&gt;LogEventFactory implements LocationAwareLogEventFactory to reduce&lt;br/&gt;
overhead due to branching on instanceof checks.&lt;/p&gt;

&lt;p&gt;Factor out uncommon instance creation path in ReusableLogEventFactory&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0vow8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>