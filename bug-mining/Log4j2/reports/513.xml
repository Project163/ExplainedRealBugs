<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:34:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-890] log4j-web-2.1 should workaround a bug in JBOSS EAP 6.2</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-890</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;I just upgraded my web project from log4j 2.0.2 to 2.1, after the upgrade I get the error below.&lt;/p&gt;

&lt;p&gt;when I deploy same project under tomcat 7.0 it works fine, so it looks like a compatibility issue between log4j-web-2.1.jar and jboss eac.&lt;br/&gt;
problem is fixed when I keep using old log4j-web-2.0.2.jar with other log4j2.1 libraries, any idea ?&lt;br/&gt;
also is it safe to use log4j-web-2.0.2.jar with other log4j2.1 libraries till this issue get solved ?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;13:51:17,855 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.msc.service.fail&amp;#93;&lt;/span&gt; (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.&quot;Logging_POC_log4j_web.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;Logging_POC_log4j_web.war&quot;.INSTALL: JBAS018733: Failed to process phase INSTALL of deployment &quot;Logging_POC_log4j_web.war&quot;&lt;br/&gt;
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:127) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.3.0.Final-redhat-10.jar:7.3.0.Final-redhat-10&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_51&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_51&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:744) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_51&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS018104: Deployment error processing SCI for jar: log4j-web-2.1.jar&lt;br/&gt;
	at org.jboss.as.web.deployment.ServletContainerInitializerDeploymentProcessor.loadSci(ServletContainerInitializerDeploymentProcessor.java:189)&lt;br/&gt;
	at org.jboss.as.web.deployment.ServletContainerInitializerDeploymentProcessor.deploy(ServletContainerInitializerDeploymentProcessor.java:124)&lt;br/&gt;
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:120) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.3.0.Final-redhat-10.jar:7.3.0.Final-redhat-10&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 5 more&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: # from &lt;span class=&quot;error&quot;&gt;&amp;#91;Module &amp;quot;deployment.Logging_POC_log4j_web.war:main&amp;quot; from Service Module Loader&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:197) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Final-redhat-2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:443) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Final-redhat-2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:431) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Final-redhat-2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:373) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Final-redhat-2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:118) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Final-redhat-2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.web.deployment.ServletContainerInitializerDeploymentProcessor.loadSci(ServletContainerInitializerDeploymentProcessor.java:186)&lt;br/&gt;
	... 7 more&lt;/p&gt;
</description>
                <environment>&lt;p&gt;JBOSS EAC 6.2&lt;/p&gt;</environment>
        <key id="12751656">LOG4J2-890</key>
            <summary>log4j-web-2.1 should workaround a bug in JBOSS EAP 6.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hassan.kalaldeh">Hassan Kalaldeh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Oct 2014 10:56:51 +0000</created>
                <updated>Tue, 3 Nov 2015 22:06:53 +0000</updated>
                            <resolved>Fri, 12 Jun 2015 00:25:19 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>2.4</fixVersion>
                                    <component>Web/Servlet</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="14206338" author="lbroman" created="Tue, 11 Nov 2014 11:45:21 +0000"  >&lt;p&gt;I&apos;m seeing the same issue on JBOSS EAP 6.3. Reverting to 2.0.2 &quot;fixes&quot; it.&lt;/p&gt;</comment>
                            <comment id="14209653" author="hassan.kalaldeh" created="Thu, 13 Nov 2014 11:55:53 +0000"  >&lt;p&gt;unfortunately version 2.0.2 has a compatibility issue when reflection is being used by other frameworks being deployed along (check &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-832&quot; title=&quot;ThrowableProxy fails if a class in logged stack trace throws java.lang.Error from initializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-832&quot;&gt;&lt;del&gt;LOG4J2-832&lt;/del&gt;&lt;/a&gt;), and this has solved in version 2.1.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralph.goers%40dslextreme.com&quot; class=&quot;user-hover&quot; rel=&quot;ralph.goers@dslextreme.com&quot;&gt;ralph.goers@dslextreme.com&lt;/a&gt; is it safe to use log4j-web-2.0.2 with other log4j2.1 libraries till this bug get solved ?&lt;/p&gt;</comment>
                            <comment id="14209810" author="garydgregory" created="Thu, 13 Nov 2014 14:06:10 +0000"  >&lt;p&gt;Can you debug further to find out which class is not found?&lt;/p&gt;</comment>
                            <comment id="14213908" author="hassan.kalaldeh" created="Sun, 16 Nov 2014 11:18:48 +0000"  >&lt;p&gt;I found what is the problem, if you extract log4j-web-2.1.jar and open servlet container Initializer service in file :  log4j-web-2.1\META-INF\services\javax.servlet.ServletContainerInitializer you will find this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;javax.servlet.ServletContainerInitializer&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements. See the NOTICE file distributed with
# &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; work &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; additional information regarding copyright ownership.
# The ASF licenses &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; file to You under the Apache license, Version 2.0
# (the &lt;span class=&quot;code-quote&quot;&gt;&quot;License&quot;&lt;/span&gt;); you may not use &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; file except in compliance with
# the License. You may obtain a copy of the License at
#
#      http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/licenses/LICENSE-2.0
&lt;/span&gt;#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &lt;span class=&quot;code-quote&quot;&gt;&quot;AS IS&quot;&lt;/span&gt; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the license &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the specific language governing permissions and
# limitations under the license.
#
org.apache.logging.log4j.web.Log4jServletContainerInitializer
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve been reading JBoss deployer source code and I found it always read first row of service file&lt;br/&gt;
// this line from ServletContainerInitializerDeploymentProcessor.loadSci()&lt;br/&gt;
String servletContainerInitializerClassName = reader.readLine();&lt;/p&gt;

&lt;p&gt;so when I manually edit the service file and just keep the last line (org.apache.logging.log4j.web.Log4jServletContainerInitializer) it works fine now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m not sure whether it&apos;s a bug from Log4j2 side or JBoss AS, but I was looking at previous release log4j-web-2.0.2.jar and I see you have only one line in that file (org.apache.logging.log4j.web.Log4jServletContainerInitializer) and that&apos;s why it works fine in that release.&lt;/p&gt;

&lt;p&gt;I&apos;ll inform JBoss AS about this reading service issue to avoid in next releases.&lt;/p&gt;
</comment>
                            <comment id="14213925" author="garydgregory" created="Sun, 16 Nov 2014 14:01:55 +0000"  >&lt;p&gt;This looks like a bug in JBoss. The Javadoc for ServiceLoader at &lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html&lt;/a&gt; says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The comment character is &apos;#&apos; (&apos;\u0023&apos;, NUMBER SIGN); on each line all characters following the first comment character are ignored. The file must be encoded in UTF-8. &lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14213926" author="garydgregory" created="Sun, 16 Nov 2014 14:02:29 +0000"  >&lt;p&gt;Can you post the JBoss ticket/Jira issue here so we can connect the dots? Thank you.&lt;/p&gt;

&lt;p&gt;Also is the name JBoss &quot;EAC&quot; or &quot;EAP&quot;?&lt;/p&gt;

&lt;p&gt;I see a JBoss 6.3.0.GA, what happens there?&lt;/p&gt;</comment>
                            <comment id="14213949" author="hassan.kalaldeh" created="Sun, 16 Nov 2014 16:00:43 +0000"  >&lt;p&gt;I agree with you that it&apos;s a bug in JBoss, I opened Case 01287742 for redhat support.&lt;br/&gt;
BTW I use EAP 6.2 which uses AS 7.3.&lt;/p&gt;
</comment>
                            <comment id="14213951" author="garydgregory" created="Sun, 16 Nov 2014 16:11:41 +0000"  >&lt;p&gt;Do you have a URL for the bug report? I cannot find it at &lt;a href=&quot;https://bugzilla.redhat.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugzilla.redhat.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Can you try EAP 6.3?&lt;/p&gt;</comment>
                            <comment id="14214128" author="jameslivingston" created="Sun, 16 Nov 2014 23:17:53 +0000"  >&lt;p&gt;The WildFly (JBoss upstream) bug report is &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-4089&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.jboss.org/browse/WFLY-4089&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14214161" author="ggregory" created="Mon, 17 Nov 2014 01:19:13 +0000"  >&lt;p&gt;Thank you for the link, I voted for the wildfly issue.&lt;/p&gt;</comment>
                            <comment id="14228870" author="garydgregory" created="Sat, 29 Nov 2014 18:00:45 +0000"  >&lt;p&gt;It looks like the Wildfly bug will be fixed when 9.0.0-Beta1 comes out.&lt;/p&gt;</comment>
                            <comment id="14348451" author="roband" created="Thu, 5 Mar 2015 09:17:46 +0000"  >&lt;p&gt;However many of us are stuck on Wildfly 8.x for quite some time, so it would be great if this simple comment removal fix was done in log4j.&lt;/p&gt;</comment>
                            <comment id="14349101" author="garydgregory" created="Thu, 5 Mar 2015 17:10:20 +0000"  >&lt;p&gt;I wonder if we could move the license to the end of the file... &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralph_goers%40dslextreme.com&quot; class=&quot;user-hover&quot; rel=&quot;ralph_goers@dslextreme.com&quot;&gt;ralph_goers@dslextreme.com&lt;/a&gt; Thoughts?&lt;/p&gt;</comment>
                            <comment id="14349106" author="ralph.goers@dslextreme.com" created="Thu, 5 Mar 2015 17:13:46 +0000"  >&lt;p&gt;That may cause RAT to show an error but I&apos;m not sure we need licenses in properties files anyway.&lt;/p&gt;</comment>
                            <comment id="14349107" author="garydgregory" created="Thu, 5 Mar 2015 17:14:03 +0000"  >&lt;p&gt;Also, how about commenting on &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-4089&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.jboss.org/browse/WFLY-4089&lt;/a&gt; that you&apos;d like this fixed in the 8.1 or 8.2 stream? Or even creating another ticket just for 8.1 and 8.2?&lt;/p&gt;</comment>
                            <comment id="14349467" author="roband" created="Thu, 5 Mar 2015 21:11:12 +0000"  >&lt;p&gt;It appears there will not be any more 8.x Wildfly releases, at least its not on their roadmap and not any checkins in their 8.x branch. So isnt really any good place to ask for this.&lt;/p&gt;</comment>
                            <comment id="14349474" author="garydgregory" created="Thu, 5 Mar 2015 21:13:45 +0000"  >&lt;p&gt;Regardless, you should still create a new issue or comment. If there is 0 noise, there is 0 chance of other users voting, commenting, or contributing noise to fix issues. My 2c...&lt;/p&gt;</comment>
                            <comment id="14581958" author="roband" created="Thu, 11 Jun 2015 14:12:40 +0000"  >&lt;p&gt;I added this to Wildly Jira back in March, see &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-4458&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.jboss.org/browse/WFLY-4458&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However it now seems the Wildfly project will not release another 8.x based release, they go straight to 9.x.&lt;/p&gt;

&lt;p&gt;Many of us will not or cannot upgrade to Wildfly 9.x for quite some time, it&apos;s not stable yet, it&apos;s not even released.&lt;/p&gt;

&lt;p&gt;So I would still really like to see this simple fix done in Log4j.&lt;/p&gt;</comment>
                            <comment id="14582613" author="garydgregory" created="Thu, 11 Jun 2015 22:26:51 +0000"  >&lt;p&gt;I voted for &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-4458&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.jboss.org/browse/WFLY-4458&lt;/a&gt; If enough folks vote...&lt;/p&gt;</comment>
                            <comment id="14582699" author="remkop@yahoo.com" created="Thu, 11 Jun 2015 23:52:37 +0000"  >&lt;p&gt;Fwiw, I&apos;m ok with either removing the license entirely from the properties file, or putting the key=value part on the first line (with a comment pointing to this Jira explaining that this is a workaround for a Wildfly bug).&lt;/p&gt;</comment>
                            <comment id="14582709" author="garydgregory" created="Fri, 12 Jun 2015 00:00:01 +0000"  >&lt;p&gt;So this would be OK:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.logging.log4j.web.Log4jServletContainerInitializer
#
# See https://issues.apache.org/jira/browse/LOG4J2-890
# See https://issues.jboss.org/browse/WFLY-4458
#

#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache license, Version 2.0
# (the &quot;License&quot;); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the license for the specific language governing permissions and
# limitations under the license.
#
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then we can check or patch if RAT to look for a license footer instead of a header for this file.&lt;/p&gt;</comment>
                            <comment id="14582710" author="garydgregory" created="Fri, 12 Jun 2015 00:00:13 +0000"  >&lt;p&gt;So this would be OK:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.logging.log4j.web.Log4jServletContainerInitializer
#
# See https://issues.apache.org/jira/browse/LOG4J2-890
# See https://issues.jboss.org/browse/WFLY-4458
#

#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache license, Version 2.0
# (the &quot;License&quot;); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the license for the specific language governing permissions and
# limitations under the license.
#
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then we can check or patch if RAT to look for a license footer instead of a header for this file.&lt;/p&gt;</comment>
                            <comment id="14582729" author="garydgregory" created="Fri, 12 Jun 2015 00:24:54 +0000"  >&lt;p&gt;&lt;tt&gt;mvn apache-rat:check&lt;/tt&gt; does not complain, I&apos;ll commit.&lt;/p&gt;</comment>
                            <comment id="14582730" author="garydgregory" created="Fri, 12 Jun 2015 00:25:19 +0000"  >&lt;p&gt;In Git master, please verify and close.&lt;/p&gt;</comment>
                            <comment id="14582924" author="remkop@yahoo.com" created="Fri, 12 Jun 2015 04:43:38 +0000"  >&lt;p&gt;Nice! Thanks, Gary!&lt;/p&gt;</comment>
                            <comment id="14988242" author="sakkanan" created="Tue, 3 Nov 2015 22:06:53 +0000"  >&lt;p&gt;Wildfly 8.2 tries to read every line from &apos;javax.servlet.ServletContainerInitializer&apos;, I have to remove the license text from this file to make it work.&lt;/p&gt;

&lt;p&gt;BTW, is license text removal and repacking considered as license violation?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;ServletContainerInitializerDeploymentProcessor.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// ......
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (servletContainerInitializerClassName != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!servletContainerInitializerClassName.isEmpty()) {
                        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pos = servletContainerInitializerClassName.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;#&apos;&lt;/span&gt;);
                        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pos &amp;gt; 0) {
                            servletContainerInitializerClassName = servletContainerInitializerClassName.substring(0, pos);
                        }
                        servletContainerInitializerClassName = servletContainerInitializerClassName.trim();
                        &lt;span class=&quot;code-comment&quot;&gt;// Instantiate the ServletContainerInitializer
&lt;/span&gt;                        ServletContainerInitializer service = (ServletContainerInitializer) classLoader.loadClass(servletContainerInitializerClassName).newInstance();
                        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (service != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                            scis.add(service);
                        }
                    }
                    &lt;span class=&quot;code-comment&quot;&gt;// Reading next line
&lt;/span&gt;                    servletContainerInitializerClassName = reader.readLine();
                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (error) {
                        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; MESSAGES.errorProcessingSCI(jar, e);
                    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                        UndertowLogger.ROOT_LOGGER.skippedSCI(jar, e);
                    }
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21rkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>