<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:41:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-2652] JSON output wrong when using additonal fields</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-2652</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;When using additional fields in the JsonLayout the output is something like&lt;/p&gt;

{&quot;logEvent&quot;:&quot;File not found&quot;,&quot;source&quot;:&quot;BIG&quot;,&quot;timestamp&quot;:&quot;07-09-2019&quot;}

&lt;p&gt;instead of the full JSON string as of version 2.10 (where everything works as expected).&lt;/p&gt;

&lt;p&gt;Config used:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
 &amp;lt;Configuration&amp;gt;
 &#160; &amp;lt;Appenders&amp;gt;
 &#160;&#160;&#160; &amp;lt;Console name=&lt;span class=&quot;code-quote&quot;&gt;&quot;CONSOLE&quot;&lt;/span&gt;&amp;gt;
 &#160;&#160;&#160;&#160;&#160; &amp;lt;JsonLayout complete=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt; compact=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; eventEol=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;&#160;stacktraceAsString=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;KeyValuePair key=&lt;span class=&quot;code-quote&quot;&gt;&quot;source&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;BIG&quot;&lt;/span&gt;/&amp;gt;
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;KeyValuePair key=&lt;span class=&quot;code-quote&quot;&gt;&quot;timestamp&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;$${date:MM-dd-yyyy}&quot;&lt;/span&gt;/&amp;gt;
 &#160;&#160;&#160;&#160;&#160; &amp;lt;/JsonLayout&amp;gt;
 &#160;&#160;&#160;&#160; &amp;lt;/Console&amp;gt;
 &#160;&#160; &amp;lt;/Appenders&amp;gt;
&#160;&#160; &amp;lt;Loggers&amp;gt;
 &#160;&#160;&#160;&#160; &amp;lt;Root level=&lt;span class=&quot;code-quote&quot;&gt;&quot;info&quot;&lt;/span&gt;&amp;gt;
 &#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;CONSOLE&quot;&lt;/span&gt;/&amp;gt;
 &#160;&#160;&#160;&#160; &amp;lt;/Root&amp;gt;
 &#160;&#160; &amp;lt;/Loggers&amp;gt;
 &amp;lt;/Configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13243834">LOG4J2-2652</key>
            <summary>JSON output wrong when using additonal fields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="awi4711">Andreas Winter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jul 2019 07:23:16 +0000</created>
                <updated>Sun, 23 Feb 2020 07:09:24 +0000</updated>
                            <resolved>Mon, 17 Feb 2020 02:29:46 +0000</resolved>
                                    <version>2.12.0</version>
                                    <fixVersion>2.13.1</fixVersion>
                                    <component>Layouts</component>
                        <due></due>
                            <votes>8</votes>
                                    <watches>15</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="16906322" author="mb002270" created="Tue, 13 Aug 2019 15:38:57 +0000"  >&lt;p&gt;Having the same issue.&#160; Source code, pom.xml, log4j2.xml all at:&lt;/p&gt;

&lt;p&gt;Updated Link:&#160;&lt;a href=&quot;https://gist.github.com/mxr-mwaters/c01547d4fe1b5ef6ee9b53658d12720c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/mxr-mwaters/c01547d4fe1b5ef6ee9b53658d12720c&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Uncomment the KeyValuePair tag in the log4j2.xml file to see the logging output difference.&lt;/p&gt;</comment>
                            <comment id="17003431" author="akhomchenko" created="Thu, 26 Dec 2019 02:31:23 +0000"  >&lt;p&gt;There is a patch available. Can I help somehow to get this issue resolved?&lt;/p&gt;</comment>
                            <comment id="17011795" author="mparthasarathi429" created="Thu, 9 Jan 2020 13:13:06 +0000"  >&lt;p&gt;Any idea when this fix will be available?&lt;/p&gt;</comment>
                            <comment id="17034136" author="jira-bot" created="Tue, 11 Feb 2020 04:56:35 +0000"  >&lt;p&gt;Commit 5ce8b0382bf0a61bbebad09b8b7eb87658441877 in logging-log4j2&apos;s branch refs/heads/master from Igor Perelyotov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=5ce8b03&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=5ce8b03&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2652&quot; title=&quot;JSON output wrong when using additonal fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2652&quot;&gt;&lt;del&gt;LOG4J2-2652&lt;/del&gt;&lt;/a&gt; Explicitly specify serializer for a log event with additional fields (#307)&lt;/p&gt;
</comment>
                            <comment id="17034552" author="ralph.goers@dslextreme.com" created="Tue, 11 Feb 2020 15:40:10 +0000"  >&lt;p&gt;The provided PR was applied to the master branch (3.0.0-SNAPSHOT) but the code in release-2.x is significantly different and the PR can&apos;t be applied as it modifies stuff that doesn&apos;t exist on the release-2.x branch.&lt;/p&gt;</comment>
                            <comment id="17038008" author="ralph.goers@dslextreme.com" created="Sun, 16 Feb 2020 23:52:17 +0000"  >&lt;p&gt;Using the sample application from Mike Waters I am able to see the failure in the release-2.x branch and verify that the master branch is working fine.&#160; What is very odd is when I convert the application to a unit test it does not exhibit the problem in the release-2.x branch.&lt;/p&gt;</comment>
                            <comment id="17038048" author="jira-bot" created="Mon, 17 Feb 2020 02:29:28 +0000"  >&lt;p&gt;Commit e44b3ac2b427909315002e9a6ca7ca37114d93ce in logging-log4j2&apos;s branch refs/heads/release-2.x from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=e44b3ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=e44b3ac&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2652&quot; title=&quot;JSON output wrong when using additonal fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2652&quot;&gt;&lt;del&gt;LOG4J2-2652&lt;/del&gt;&lt;/a&gt; - JSON output wrong when using additonal fields&lt;/p&gt;</comment>
                            <comment id="17038050" author="jira-bot" created="Mon, 17 Feb 2020 02:29:30 +0000"  >&lt;p&gt;Commit 19f5824ebabbe6c0b2e5eef4ecaca8d4a2828a00 in logging-log4j2&apos;s branch refs/heads/release-2.x from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=19f5824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=19f5824&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2652&quot; title=&quot;JSON output wrong when using additonal fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2652&quot;&gt;&lt;del&gt;LOG4J2-2652&lt;/del&gt;&lt;/a&gt; - JSON output wrong when using additonal fields&lt;/p&gt;</comment>
                            <comment id="17038051" author="ralph.goers@dslextreme.com" created="Mon, 17 Feb 2020 02:29:46 +0000"  >&lt;p&gt;Fix applied. Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13273449">LOG4J2-2734</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z04hhc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>