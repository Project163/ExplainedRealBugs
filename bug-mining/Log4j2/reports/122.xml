<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:31:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-263] RFC5424 Layout (and Syslog Layout) uses platform encoding when no charset is specified in configuration</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-263</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;RFC5424 seems to require UTF-8 or US-ASCII as the character encoding.&lt;br/&gt;
Should the &apos;charset&apos; attribute be removed so that this is no longer configurable?&lt;/p&gt;

&lt;p&gt;Is there any specification for the Syslog format?&lt;/p&gt;

&lt;p&gt;See also discussion here: &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-255?focusedCommentId=13659559&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13659559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LOG4J2-255?focusedCommentId=13659559&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13659559&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12648068">LOG4J2-263</key>
            <summary>RFC5424 Layout (and Syslog Layout) uses platform encoding when no charset is specified in configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rpopma">Remko Popma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 May 2013 23:07:01 +0000</created>
                <updated>Thu, 30 May 2013 17:16:30 +0000</updated>
                            <resolved>Thu, 30 May 2013 17:16:30 +0000</resolved>
                                    <version>2.0-beta6</version>
                                    <fixVersion>2.0-beta7</fixVersion>
                                    <component>Appenders</component>
                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13660165" author="garydgregory" created="Thu, 16 May 2013 23:55:08 +0000"  >&lt;p&gt;In this spec &lt;a href=&quot;https://tools.ietf.org/html/rfc5424&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tools.ietf.org/html/rfc5424&lt;/a&gt;, I read:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;   The character set used in STRUCTURED-DATA MUST be seven-bit ASCII in&lt;br/&gt;
   an eight-bit field as described in &lt;span class=&quot;error&quot;&gt;&amp;#91;RFC5234&amp;#93;&lt;/span&gt;.  These are the ASCII&lt;br/&gt;
   codes as defined in &quot;USA Standard Code for Information Interchange&quot;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;ANSI.X3-4.1968&amp;#93;&lt;/span&gt;.  An exception is the PARAM-VALUE field (see&lt;br/&gt;
   Section 6.3.3), in which UTF-8 encoding MUST be used.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But later:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;   The character set used in MSG SHOULD be UNICODE, encoded using UTF-8&lt;br/&gt;
   as specified in &lt;span class=&quot;error&quot;&gt;&amp;#91;RFC3629&amp;#93;&lt;/span&gt;.  If the syslog application cannot encode&lt;br/&gt;
   the MSG in Unicode, it MAY use any other encoding.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But UTF-8 is required to be in the JRE, so should should never have to worry about this path.&lt;/p&gt;

&lt;p&gt;So, we should not allow any charsets to be configured.&lt;/p&gt;</comment>
                            <comment id="13660176" author="remkop@yahoo.com" created="Fri, 17 May 2013 00:03:27 +0000"  >&lt;p&gt;I had some trouble parsing the RFC text, that&apos;s why I said &quot;seems to require&quot;... &lt;br/&gt;
But it looks like you reached the same conclusion as I did.&lt;/p&gt;</comment>
                            <comment id="13660203" author="garydgregory" created="Fri, 17 May 2013 00:31:46 +0000"  >&lt;p&gt;I do not know enough about this appender and layout to know if we have a problem. The RFC show two different encodings used but I am not sure how that corresponds to our code. It sure sounds like we are not doing it right by (1) letting one charset to be configured and (2) using one charset to encode one LogEvent.&lt;/p&gt;</comment>
                            <comment id="13670503" author="ralph.goers@dslextreme.com" created="Thu, 30 May 2013 17:16:30 +0000"  >&lt;p&gt;RFC5424Layout has been fixed in revision 1487936 to not allow a charset to be specified.  SyslogLayout still does as RFC 3164 does not restrict the message to a specific character set.&lt;/p&gt;

&lt;p&gt;Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kny7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>