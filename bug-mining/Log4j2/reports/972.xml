<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:37:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1719] StringBuilderFormattable Messages should used cached formatted message if it exists</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1719</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;When logging asynchronously, &lt;tt&gt;Message::getFormattedMessage&lt;/tt&gt; is called to give Message implementations a chance to take a snapshot of mutable objects before the message is passed to another thread. (See &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-763&quot; title=&quot;Async loggers convert message parameters toString at log record writing not at log statement execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-763&quot;&gt;&lt;del&gt;LOG4J2-763&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1718&quot; title=&quot;Introduce marker interface AsynchronouslyFormattable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1718&quot;&gt;&lt;del&gt;LOG4J2-1718&lt;/del&gt;&lt;/a&gt;. Exceptions are Messages implementing ReusableMessage or AsynchronouslyFormattable.)&lt;/p&gt;

&lt;p&gt;Some Messages implement StringBuilderFormattable to avoid creating temporary objects in the Layout.&lt;/p&gt;

&lt;p&gt;The StringBuilderFormattable::formatTo(StringBuilder) method should be implemented such that it first checks if a cached formatted message string exists. If so, this string should be appended to the StringBuilder. If no cached message string exists logging is done synchronously and the formatted message can safely be created afresh.&lt;/p&gt;

&lt;p&gt;This bug exists in:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ObjectMessage&lt;/li&gt;
	&lt;li&gt;SimpleMessage&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13022002">LOG4J2-1719</key>
            <summary>StringBuilderFormattable Messages should used cached formatted message if it exists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rpopma">Remko Popma</assignee>
                                    <reporter username="rpopma">Remko Popma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Nov 2016 14:59:33 +0000</created>
                <updated>Sun, 20 Nov 2016 15:51:13 +0000</updated>
                            <resolved>Sun, 20 Nov 2016 15:51:13 +0000</resolved>
                                    <version>2.7</version>
                                    <fixVersion>2.8</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15681357" author="remkop@yahoo.com" created="Sun, 20 Nov 2016 15:51:13 +0000"  >&lt;p&gt;Fixed in master in commit 3d87ed7.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36jpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>