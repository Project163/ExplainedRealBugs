<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:35:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1280] Logger methods taking Supplier&lt;?&gt; parameters should check if supplied value is Message</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1280</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Methods on the Logger interface that take a Supplier&amp;lt;?&amp;gt; argument currently do not correctly handle the case where the supplied value is of type Message.&lt;/p&gt;

&lt;p&gt;Currently, either the Message value will be wrapped in an ObjectMessage, or it will be used as one of the parameter values in a parameterized text message. In both cases, the result of Message.toString() will eventually be logged, rather than Message.getFormattedString().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12940178">LOG4J2-1280</key>
            <summary>Logger methods taking Supplier&lt;?&gt; parameters should check if supplied value is Message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rpopma">Remko Popma</assignee>
                                    <reporter username="rpopma">Remko Popma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Feb 2016 15:25:37 +0000</created>
                <updated>Fri, 19 Feb 2016 15:33:08 +0000</updated>
                            <resolved>Fri, 19 Feb 2016 15:33:08 +0000</resolved>
                                    <version>2.5</version>
                                    <fixVersion>2.6</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15152449" author="remkop@yahoo.com" created="Thu, 18 Feb 2016 15:29:37 +0000"  >&lt;p&gt;Fixed in master in commit a56f420.&lt;/p&gt;</comment>
                            <comment id="15152456" author="remkop@yahoo.com" created="Thu, 18 Feb 2016 15:35:13 +0000"  >&lt;p&gt;I believe the MessageSupplier interface can now be deprecated.&lt;br/&gt;
With this change, users can use Supplier&amp;lt;Message&amp;gt; instead and get the same behaviour.&lt;/p&gt;</comment>
                            <comment id="15153692" author="remkop@yahoo.com" created="Fri, 19 Feb 2016 04:25:33 +0000"  >&lt;p&gt;Taking a long hard look at my own work from last night &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I see I made a mistake.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void logMessage(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fqcn, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Level level, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Marker marker, 
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Supplier&amp;lt;?&amp;gt; msgSupplier, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Throwable t) {

    &lt;span class=&quot;code-comment&quot;&gt;// This is wrong: 
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// LamdaUtil detects &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the supplied object is a Message,
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// and prevents that Message from being wrapped in another message
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is good).
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// However, we want to log the _supplied_ Message here, instead of
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// creating a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; message &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the formattedString of the supplied Message.
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; message = LambdaUtil.get(msgSupplier);
    logMessage(fqcn, level, marker, messageFactory.newMessage(message), t);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15154352" author="remkop@yahoo.com" created="Fri, 19 Feb 2016 15:33:08 +0000"  >&lt;p&gt;Fixed in master in commit 25a780e.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2t09j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>