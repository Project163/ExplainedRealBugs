<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:33:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-888] Specifying log4jConfiguration in web.xml fails on Windows when the file&apos;s path contains spaces</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-888</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;When specifying the context parameter log4jConfiguration in the web.xml of a web application and the resulting string contains spaces, e.g.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;context-param&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;param-name&amp;gt;&lt;/span&gt;log4jConfiguration&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/param-name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;param-value&amp;gt;&lt;/span&gt;file:///${sys:catalina.base}/conf/logtestapp-log4j.xml&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/param-value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/context-param&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the following exception is thrown on Windows systems:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR StatusLogger Unable to convert configuration location [file:&lt;span class=&quot;code-comment&quot;&gt;///C:\Program Files\Apache Software Foundation\apache-tomcat-7.0.54/conf/logtestapp-log4j.xml] to a URI java.net.URISyntaxException: Illegal character in path at index 18: file:///C:/Program Files/Apache Software Foundation/apache-tomcat-7.0.54/conf/logtestapp-log4j.xml
&lt;/span&gt;        at java.net.URI$Parser.fail(URI.java:2829)
        at java.net.URI$Parser.checkChars(URI.java:3002)
        at java.net.URI$Parser.parseHierarchical(URI.java:3086)
        at java.net.URI$Parser.parse(URI.java:3034)
        at java.net.URI.&amp;lt;init&amp;gt;(URI.java:595)
        at org.apache.logging.log4j.core.util.FileUtils.getCorrectedFilePathUri(FileUtils.java:116)
        at org.apache.logging.log4j.web.Log4jWebInitializerImpl.getConfigURI(Log4jWebInitializerImpl.java:193)
        at org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:156)
        at org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:107)
        at org.apache.logging.log4j.web.Log4jServletContainerInitializer.onStartup(Log4jServletContainerInitializer.java:57)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Substituting spaces with %20 seems to solve the problem:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;context-param&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;param-name&amp;gt;&lt;/span&gt;log4jConfiguration&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/param-name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;param-value&amp;gt;&lt;/span&gt;file:///C:/Program%20Files/Apache%20Software%20Foundation/apache-tomcat-7.0.54/conf/logtestapp-log4j.xml&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/param-value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/context-param&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but this will require using fixed strings instead of lookup values.&lt;/p&gt;

&lt;p&gt;Note: This bug appears to be very similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-409&quot; title=&quot;Specifying log4jConfiguration in web.xml fails on Windows when using ${user.home}&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-409&quot;&gt;&lt;del&gt;LOG4J2-409&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7, Apache Tomcat 7, Java 7&lt;/p&gt;</environment>
        <key id="12751043">LOG4J2-888</key>
            <summary>Specifying log4jConfiguration in web.xml fails on Windows when the file&apos;s path contains spaces</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="runholt">Kim</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Oct 2014 09:33:57 +0000</created>
                <updated>Thu, 7 May 2015 09:39:24 +0000</updated>
                                            <version>2.1</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14186810" author="garydgregory" created="Tue, 28 Oct 2014 13:30:28 +0000"  >&lt;p&gt;It sounds like we need to encode some characters with % before giving them to the URI ctor.&lt;/p&gt;</comment>
                            <comment id="14532340" author="jensgr@gmx.net" created="Thu, 7 May 2015 09:39:24 +0000"  >&lt;p&gt;The same issue also crops up if you specify a filename with a space in the config file, like&lt;/p&gt;

&lt;p&gt;&amp;lt;RollingFile name=&quot;RFA&quot; fileName=&quot;C:/Logs/My Log.log&quot; append=&quot;true&quot; ...&amp;gt;&lt;/p&gt;

&lt;p&gt;Arguably, a URI with spaces (like the param-value definition above) is a bug in the program but non-URI file names need to be encoded by Log4J.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21nu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>