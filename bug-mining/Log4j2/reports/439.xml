<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:33:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-925] Log4j2 %rThrowable{full} not printing getLocalizedMessage</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-925</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;It seems that the %rThrowable&lt;/p&gt;
{full} pattern will not use &lt;tt&gt;getLocalizedMessage()&lt;/tt&gt; by default, while the %Throwable{full}
&lt;p&gt; will out put it.&lt;/p&gt;

&lt;p&gt;The rThrowable&lt;/p&gt;
{short.localizedMessage}
&lt;p&gt; is not working&lt;/p&gt;

&lt;p&gt;My pattern is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;consolelayoutPattern&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;%-5p %-30.30c{2} %m%n%rThrowable{full}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Any suggestion ?!&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12762554">LOG4J2-925</key>
            <summary>Log4j2 %rThrowable{full} not printing getLocalizedMessage</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="afattahi">Alireza Fattahi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Dec 2014 12:45:11 +0000</created>
                <updated>Tue, 17 Mar 2015 05:56:00 +0000</updated>
                                                                            <component>Layouts</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14251684" author="garydgregory" created="Thu, 18 Dec 2014 14:23:25 +0000"  >&lt;p&gt;Removing the fix version as &apos;2.1&apos;. Do you mean that your report is for version &apos;2.1&apos;?&lt;/p&gt;</comment>
                            <comment id="14251738" author="garydgregory" created="Thu, 18 Dec 2014 14:45:10 +0000"  >&lt;p&gt;Can you post the simplest &lt;tt&gt;log42.xml&lt;/tt&gt; file to reproduce this issue please?&lt;/p&gt;</comment>
                            <comment id="14254510" author="afattahi" created="Sat, 20 Dec 2014 04:41:19 +0000"  >&lt;p&gt;The log4j2.xml I am using is as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;

&amp;lt;Configuration status=&lt;span class=&quot;code-quote&quot;&gt;&quot;info&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Saba2&quot;&lt;/span&gt;&amp;gt;
	&amp;lt;properties&amp;gt;	       
		&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;consolelayoutPattern&quot;&lt;/span&gt;&amp;gt;%-5p %-30.30c{2} %m%n%rThrowable{full}&amp;lt;/property&amp;gt;
	&amp;lt;/properties&amp;gt;
	&amp;lt;Appenders&amp;gt;	
		&amp;lt;Console name=&lt;span class=&quot;code-quote&quot;&gt;&quot;ConsoleAppender&quot;&lt;/span&gt; target=&lt;span class=&quot;code-quote&quot;&gt;&quot;SYSTEM_OUT&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;${consolelayoutPattern}&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/Console&amp;gt;
	&amp;lt;/Appenders&amp;gt;
	&amp;lt;Loggers&amp;gt;
		&amp;lt;Root level=&lt;span class=&quot;code-quote&quot;&gt;&quot;info&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;ConsoleAppender&quot;&lt;/span&gt; /&amp;gt; 
		&amp;lt;/Root&amp;gt;

	&amp;lt;/Loggers&amp;gt;
&amp;lt;/Configuration&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14254515" author="remkop@yahoo.com" created="Sat, 20 Dec 2014 05:06:41 +0000"  >&lt;p&gt;Can you try putting  the &lt;tt&gt;sys:&lt;/tt&gt; prefix before the lookup name?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:consolelayoutPattern}&quot;&lt;/span&gt; /&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14255637" author="afattahi" created="Mon, 22 Dec 2014 10:48:54 +0000"  >&lt;p&gt;Try but did not help !&lt;/p&gt;</comment>
                            <comment id="14281200" author="gklp" created="Sat, 17 Jan 2015 03:56:48 +0000"  >&lt;p&gt;It uses RootThrowablePatternConverter, i think, problem is format method.&lt;br/&gt;
Exception stacktrace has &quot;\n\t&quot; line.seperator. But Constants.LINE_SEPARATOR returns different value.(\r\n)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;RootThrowablePatternConverter.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
....

@Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void format(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; LogEvent event, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StringBuilder toAppendTo) {
        ThrowableProxy proxy = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (event &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Log4jLogEvent) {
            proxy = ((Log4jLogEvent) event).getThrownProxy();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Throwable throwable = event.getThrown();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (throwable != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; options.anyLines()) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (proxy == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.format(event, toAppendTo);
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
            }
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; trace = proxy.getCauseStackTraceAsString(options.getPackages());
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; len = toAppendTo.length();
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (len &amp;gt; 0 &amp;amp;&amp;amp; !&lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.isWhitespace(toAppendTo.charAt(len - 1))) {
                toAppendTo.append(&lt;span class=&quot;code-quote&quot;&gt;&apos; &apos;&lt;/span&gt;);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!options.allLines() || !Constants.LINE_SEPARATOR.equals(options.getSeparator())) {
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StringBuilder sb = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringBuilder();
                
                &lt;span class=&quot;code-comment&quot;&gt;//exception stacktrace has &lt;span class=&quot;code-quote&quot;&gt;&quot;\n\t&quot;&lt;/span&gt; line.seperator. But Constants.LINE_SEPARATOR returns different value
&lt;/span&gt;                &lt;span class=&quot;code-comment&quot;&gt;//############################################################
&lt;/span&gt;                  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] array = trace.split(Constants.LINE_SEPARATOR); &lt;span class=&quot;code-comment&quot;&gt;// \n\t 
&lt;/span&gt;                 &lt;span class=&quot;code-comment&quot;&gt;//############################################################
&lt;/span&gt;                
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; limit = options.minLines(array.length) - 1;
                &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt;= limit; ++i) {
                    sb.append(array[i]);
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (i &amp;lt; limit) {
                        sb.append(options.getSeparator());
                    }
                }
                toAppendTo.append(sb.toString());

            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                toAppendTo.append(trace);
            }
        }
    }
  
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;http://logging.apache.org/log4j/2.0/manual/layouts.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://logging.apache.org/log4j/2.0/manual/layouts.html&lt;/a&gt; for short.localizedMessage.&lt;br/&gt;
------------------------&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;consolelayoutPattern&quot;&lt;/span&gt;&amp;gt;%-5p %-30.30c{2} %m%n%throwable{&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;.localizedMessage}&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23klj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>