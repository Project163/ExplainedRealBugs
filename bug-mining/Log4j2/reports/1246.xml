<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:40:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-2466] ColumnMapping literal not working</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-2466</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;If i set a literal value in column mapping:&lt;/p&gt;

&lt;p&gt;&amp;lt;Jdbc name=&quot;...&quot; tableName=&quot;...&quot; ....&amp;gt;&lt;br/&gt;
 &amp;lt;DataSource jndiName=&quot;....&quot; /&amp;gt;&lt;br/&gt;
 &amp;lt;ColumnMapping name=&quot;....&quot; /&amp;gt;&lt;br/&gt;
 &amp;lt;ColumnMapping name=&quot;my_col&quot; literal=&quot;&apos;my_value&apos;&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;....&lt;/p&gt;

&lt;p&gt;generated sql is wrong:&lt;/p&gt;

&lt;p&gt;INSERT INTO ... (..) VALUES (?, ... &lt;font color=&quot;#FF0000&quot;&gt;&apos;myvalue&apos;?&lt;/font&gt;, ...)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I think the problem should be in class JdbcDatabaseManager, row 374. Maybe an else is missing. Please check.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;for (final ColumnMapping mapping : data.columnMappings) {&lt;br/&gt;
 final String mappingName = mapping.getName();&lt;br/&gt;
 if (Strings.isNotEmpty(mapping.getLiteralValue())) {&lt;br/&gt;
 logger().trace(&quot;Adding INSERT VALUES literal for ColumnMapping&lt;span class=&quot;error&quot;&gt;&amp;#91;{}&amp;#93;&lt;/span&gt;: {}={} &quot;, i, mappingName, mapping.getLiteralValue());&lt;br/&gt;
 sb.append(mapping.getLiteralValue());&lt;br/&gt;
 }&lt;br/&gt;
&lt;font color=&quot;#FF0000&quot;&gt;*** missing else ***&lt;/font&gt;&#160;if (Strings.isNotEmpty(mapping.getParameter())) {&lt;br/&gt;
 logger().trace(&quot;Adding INSERT VALUES parameter for ColumnMapping&lt;span class=&quot;error&quot;&gt;&amp;#91;{}&amp;#93;&lt;/span&gt;: {}={} &quot;, i, mappingName, mapping.getParameter());&lt;br/&gt;
 sb.append(mapping.getParameter());&lt;br/&gt;
 columnMappings.add(mapping);&lt;br/&gt;
 } else {&lt;br/&gt;
 logger().trace(&quot;Adding INSERT VALUES parameter marker for ColumnMapping&lt;span class=&quot;error&quot;&gt;&amp;#91;{}&amp;#93;&lt;/span&gt;: {}={} &quot;, i, mappingName, PARAMETER_MARKER);&lt;br/&gt;
 sb.append(PARAMETER_MARKER);&lt;br/&gt;
 columnMappings.add(mapping);&lt;br/&gt;
 }&lt;br/&gt;
 sb.append(&apos;,&apos;);&lt;br/&gt;
 i++;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13190635">LOG4J2-2466</key>
            <summary>ColumnMapping literal not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="pbit">Paolo Bonanomi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Oct 2018 13:39:49 +0000</created>
                <updated>Mon, 26 Nov 2018 13:04:09 +0000</updated>
                            <resolved>Tue, 16 Oct 2018 23:25:59 +0000</resolved>
                                    <version>2.11.1</version>
                                    <fixVersion>3.0.0</fixVersion>
                    <fixVersion>2.11.2</fixVersion>
                                    <component>Appenders</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16649068" author="garydgregory" created="Sat, 13 Oct 2018 18:35:57 +0000"  >&lt;p&gt;Thank you for your report. I should be able to take a look this weekend.&lt;/p&gt;</comment>
                            <comment id="16652643" author="jira-bot" created="Tue, 16 Oct 2018 23:24:41 +0000"  >&lt;p&gt;Commit fc5401d40dcb8eddbabe67147f6b3e242478fc47 in logging-log4j2&apos;s branch refs/heads/release-2.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=fc5401d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=fc5401d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2466&quot; title=&quot;ColumnMapping literal not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2466&quot;&gt;&lt;del&gt;LOG4J2-2466&lt;/del&gt;&lt;/a&gt; ColumnMapping literal not working.&lt;/p&gt;</comment>
                            <comment id="16652644" author="jira-bot" created="Tue, 16 Oct 2018 23:25:08 +0000"  >&lt;p&gt;Commit 5815d1b7d153ccffe67642b25b0d4b6b1fb450e1 in logging-log4j2&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=5815d1b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=5815d1b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2466&quot; title=&quot;ColumnMapping literal not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2466&quot;&gt;&lt;del&gt;LOG4J2-2466&lt;/del&gt;&lt;/a&gt; ColumnMapping literal not working.&lt;/p&gt;</comment>
                            <comment id="16652647" author="garydgregory" created="Tue, 16 Oct 2018 23:25:59 +0000"  >&lt;p&gt;Committed to git master and release-2.x branches. &lt;/p&gt;

&lt;p&gt;Please verify and close if it works for you.&lt;/p&gt;</comment>
                            <comment id="16698894" author="pbit" created="Mon, 26 Nov 2018 13:04:09 +0000"  >&lt;p&gt;Ok!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3z1a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>