<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1376] RFC5424 Enterprise Number should be an OID fragment.</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1376</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Rfc5424Layout incorrectly implements the Enterprise Number as a simple integer value for StructuredDataId types that are not assigned by IANA. &lt;/p&gt;

&lt;p&gt;This is incorrect according to RFC5424. The implementation should allow for this to be an OID fragment representing the private enterprise subtree which is interpreted as the suffix to the IANA SMI Network Management Private Enterprise Code prefix 1.3.6.1.4.1. Refer to RFC5424, section 7.2.2. &lt;/p&gt;

&lt;p&gt;For example, GE Healthcare IT has IANA private enterprise number 22005 and there are several other systems we support that are hierarchically assigned subtree OID fragments. Ordinarily, these codes would have the following form: 1.3.6.1.4.1.22005.&amp;lt;subtree-oid&amp;gt;. RFC5424 allows for truncating the SMI prefix and leaving the private enterprise number subtree in the message. So they would appear as 22005.&amp;lt;subtree-oid&amp;gt; (e.g., 22005.42.1.21).&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12964428">LOG4J2-1376</key>
            <summary>RFC5424 Enterprise Number should be an OID fragment.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="niggemannmj">Mark Niggemann</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 May 2016 20:30:09 +0000</created>
                <updated>Wed, 7 Sep 2022 18:30:20 +0000</updated>
                            <resolved>Mon, 16 May 2022 16:55:54 +0000</resolved>
                                    <version>2.5</version>
                                    <fixVersion>2.18.0</fixVersion>
                                    <component>Core</component>
                    <component>Layouts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15267474" author="garydgregory" created="Mon, 2 May 2016 20:44:26 +0000"  >&lt;p&gt;We could change &lt;tt&gt;org.apache.logging.log4j.core.layout.Rfc5424Layout.createLayout(Facility, String, int, boolean, String, String, String, boolean, String, String, String, String, String, String, String, boolean, LoggerFields[], Configuration)&lt;/tt&gt; to take a &lt;tt&gt;String&lt;/tt&gt; instead of an &lt;tt&gt;int&lt;/tt&gt; and push the type change all the way down to &lt;tt&gt;StructuredDataId&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Then do we check that the String starts with &lt;tt&gt;1.3.6.1.4.1&lt;/tt&gt; and prepend that value if not?&lt;/p&gt;
</comment>
                            <comment id="15267512" author="niggemannmj" created="Mon, 2 May 2016 21:08:33 +0000"  >&lt;p&gt;Enterprise number should be a string, but it should represent an OID pattern. That is, it should match a pattern &quot;(&lt;span class=&quot;error&quot;&gt;&amp;#91;1-9&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0-9&amp;#93;&lt;/span&gt;&lt;b&gt;\\\.)&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1-9&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0-9&amp;#93;&lt;/span&gt;*&quot;. The important part of the pattern match is that OIDs are integers separated by &apos;.&apos; and you may not use leading zeros on any integer. &lt;/p&gt;

&lt;p&gt;Furthermore, if someone were configure the layout to give a fully qualified value the IANA prefix (1.3.6.1.4.1.) along with the enterprise number, you would strip that off and use only the suffix in any non-standard StructuredDataId. &lt;/p&gt;

&lt;p&gt;Of course, the fun part is that the entire ID must be no longer than 32 characters in length. For example, if you have enterprise number of 22005.42.1.21 (which is 13 characters long in US-ASCII), your message id (excluding the &apos;@&apos; character) can only be 18 characters long. I&apos;m not really sure how to verify this is the case ahead of time when the message is created, since the layout is decoupled from the log call.&lt;/p&gt;</comment>
                            <comment id="15267524" author="garydgregory" created="Mon, 2 May 2016 21:14:28 +0000"  >&lt;p&gt;Should we use Java&apos;s own &lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/org/ietf/jgss/Oid.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/7/docs/api/org/ietf/jgss/Oid.html&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="15267528" author="niggemannmj" created="Mon, 2 May 2016 21:16:59 +0000"  >&lt;p&gt;Agreed. That is wise.&lt;/p&gt;</comment>
                            <comment id="15267529" author="garydgregory" created="Mon, 2 May 2016 21:17:52 +0000"  >&lt;p&gt;Would you be willing to submit a patch?&lt;/p&gt;</comment>
                            <comment id="15267534" author="niggemannmj" created="Mon, 2 May 2016 21:22:10 +0000"  >&lt;p&gt;Yes, I&apos;d like to but I&apos;ve never really contributed here before so I think I&apos;d need to know the correct procedure for generating the patch. I&apos;m assuming I should have to be able to checkout the files in some manner via git.&lt;/p&gt;</comment>
                            <comment id="15267538" author="jvz" created="Mon, 2 May 2016 21:25:30 +0000"  >&lt;p&gt;You can make a pull request on GitHub if you&apos;d like: &lt;a href=&quot;https://github.com/apache/logging-log4j2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15267622" author="niggemannmj" created="Mon, 2 May 2016 22:22:30 +0000"  >&lt;p&gt;Ouch. This is getting a little ugly. The StructuredDataId class is Serializable which means I may have to give consideration to the previous implementation. So if I change the enterpriseNumber from an int to a String, there would be some ugliness if I didn&apos;t do this correctly.  The right way to preserve serialization is to leave the serialVersionUID alone, add a new string field enterpriseId and add in readObject() and writeObject() methods to deal with it. Ugh. So, do I worry about this concern or not? &lt;/p&gt;</comment>
                            <comment id="15267632" author="garydgregory" created="Mon, 2 May 2016 22:29:22 +0000"  >&lt;p&gt;Let&apos;s see what others think... an int seems so completely wrong compares to a dotted-number-string OID that breaking BC for a Core class should be OK. This is not in the API module where we are careful to keep BC.&lt;/p&gt;</comment>
                            <comment id="15267671" author="ralph.goers@dslextreme.com" created="Mon, 2 May 2016 22:50:05 +0000"  >&lt;p&gt;This is a layout. The configuration is a String anyway. If it is already a String integer that shouldn&apos;t be a problem. It would only be a problem for people using programmatic configuration and not using the ConfigurationBuilder.&lt;/p&gt;</comment>
                            <comment id="15267747" author="garydgregory" created="Mon, 2 May 2016 23:46:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=niggemannmj&quot; class=&quot;user-hover&quot; rel=&quot;niggemannmj&quot;&gt;niggemannmj&lt;/a&gt;: I would say go for the &quot;right&quot; implementation and ignore serialization and such compatibility issues.&lt;/p&gt;</comment>
                            <comment id="15884565" author="ralph.goers@dslextreme.com" created="Sun, 26 Feb 2017 06:15:32 +0000"  >&lt;p&gt;Any update on this?&lt;/p&gt;</comment>
                            <comment id="17537394" author="jira-bot" created="Mon, 16 May 2022 08:01:10 +0000"  >&lt;p&gt;Commit 1f227cd394c9666dfc65ef726bece567325c5855 in logging-log4j2&apos;s branch refs/heads/release-2.x from mneundorfer&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1f227cd394&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1f227cd394&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1376&quot; title=&quot;RFC5424 Enterprise Number should be an OID fragment.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1376&quot;&gt;&lt;del&gt;LOG4J2-1376&lt;/del&gt;&lt;/a&gt; Define eid as String instead of int to allow for Oid according to RFC5424 (#836)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1376&quot; title=&quot;RFC5424 Enterprise Number should be an OID fragment.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1376&quot;&gt;&lt;del&gt;LOG4J2-1376&lt;/del&gt;&lt;/a&gt; - define eid as String instead of int to allow for Oid according to RFC5424&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1376&quot; title=&quot;RFC5424 Enterprise Number should be an OID fragment.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1376&quot;&gt;&lt;del&gt;LOG4J2-1376&lt;/del&gt;&lt;/a&gt; - Define eid as String to allow for OID fragments&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Co-authored-by: ppkarwasz &amp;lt;piotr.github@karwasz.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17541706" author="jira-bot" created="Tue, 24 May 2022 21:07:39 +0000"  >&lt;p&gt;Commit 1f227cd394c9666dfc65ef726bece567325c5855 in logging-log4j2&apos;s branch refs/heads/dependabot/maven/com.h2database-h2-2.1.212 from mneundorfer&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1f227cd394&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1f227cd394&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1376&quot; title=&quot;RFC5424 Enterprise Number should be an OID fragment.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1376&quot;&gt;&lt;del&gt;LOG4J2-1376&lt;/del&gt;&lt;/a&gt; Define eid as String instead of int to allow for Oid according to RFC5424 (#836)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1376&quot; title=&quot;RFC5424 Enterprise Number should be an OID fragment.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1376&quot;&gt;&lt;del&gt;LOG4J2-1376&lt;/del&gt;&lt;/a&gt; - define eid as String instead of int to allow for Oid according to RFC5424&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1376&quot; title=&quot;RFC5424 Enterprise Number should be an OID fragment.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1376&quot;&gt;&lt;del&gt;LOG4J2-1376&lt;/del&gt;&lt;/a&gt; - Define eid as String to allow for OID fragments&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Co-authored-by: ppkarwasz &amp;lt;piotr.github@karwasz.org&amp;gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13479877">LOG4J2-3587</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2x2av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>