<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:41:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3089] JsonTemplateLayoutNullEventDelimiterTest sporadically fails on Windows</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3089</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;&lt;tt&gt;JsonTemplateLayoutNullEventDelimiterTest&lt;/tt&gt; sporadically fails in Windows when the port is unavailable.&#160;Ideally it would find an available port dynamically, write out the XML config to a temp file with the targeted port, run the test, and then clean up the temporary config XML file.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13376727">LOG4J2-3089</key>
            <summary>JsonTemplateLayoutNullEventDelimiterTest sporadically fails on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vy">Volkan Yazici</assignee>
                                    <reporter username="perry2of5">Tim Perry</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 May 2021 06:54:51 +0000</created>
                <updated>Sat, 29 May 2021 11:02:51 +0000</updated>
                            <resolved>Thu, 27 May 2021 08:24:29 +0000</resolved>
                                    <version>2.14.0</version>
                    <version>2.14.1</version>
                                    <fixVersion>3.0.0</fixVersion>
                    <fixVersion>2.15.0</fixVersion>
                                    <component>JsonTemplateLayout</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17339775" author="garydgregory" created="Wed, 5 May 2021 17:01:14 +0000"  >&lt;p&gt;We should be able to use port 0 as an ephemeral port and then query the server socket for which port was allocated.&lt;/p&gt;</comment>
                            <comment id="17339780" author="perry2of5" created="Wed, 5 May 2021 17:10:23 +0000"  >&lt;p&gt;That is a good idea. I could implement that tonight and add it to the pull request I have open for the windows build.&lt;/p&gt;</comment>
                            <comment id="17339829" author="perry2of5" created="Wed, 5 May 2021 18:31:21 +0000"  >&lt;p&gt;I had a little time this morning so I implemented this and pushed it to &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/491&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/491&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17352311" author="jira-bot" created="Thu, 27 May 2021 07:32:20 +0000"  >&lt;p&gt;Commit eb134e3b775d05869f98e48f72af44a99ed14792 in logging-log4j2&apos;s branch refs/heads/master from perry2of5&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=eb134e3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=eb134e3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3088&quot; title=&quot;Windows build fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3088&quot;&gt;&lt;del&gt;LOG4J2-3088&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3089&quot; title=&quot;JsonTemplateLayoutNullEventDelimiterTest sporadically fails on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3089&quot;&gt;&lt;del&gt;LOG4J2-3089&lt;/del&gt;&lt;/a&gt; Fix windows build master (#491)&lt;/p&gt;
</comment>
                            <comment id="17352331" author="jira-bot" created="Thu, 27 May 2021 08:15:45 +0000"  >&lt;p&gt;Commit 72629641696d4db7bde9f5afb046b0e4264fae4f in logging-log4j2&apos;s branch refs/heads/release-2.x from Volkan Yazici&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7262964&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7262964&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3089&quot; title=&quot;JsonTemplateLayoutNullEventDelimiterTest sporadically fails on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3089&quot;&gt;&lt;del&gt;LOG4J2-3089&lt;/del&gt;&lt;/a&gt; Fix sporadic JsonTemplateLayoutNullEventDelimiterTest failures on Windows.&lt;/p&gt;</comment>
                            <comment id="17352334" author="jira-bot" created="Thu, 27 May 2021 08:21:48 +0000"  >&lt;p&gt;Commit ed1b5e691e2a7d52d87bdc02d53a7e153100938d in logging-log4j2&apos;s branch refs/heads/master from Volkan Yaz&#305;c&#305;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=ed1b5e6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=ed1b5e6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3089&quot; title=&quot;JsonTemplateLayoutNullEventDelimiterTest sporadically fails on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3089&quot;&gt;&lt;del&gt;LOG4J2-3089&lt;/del&gt;&lt;/a&gt; Fix sporadic JsonTemplateLayoutNullEventDelimiterTest failures on Windows.&lt;/p&gt;</comment>
                            <comment id="17352335" author="vy" created="Thu, 27 May 2021 08:24:21 +0000"  >&lt;p&gt;Thanks so much for the report and contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=perry2of5&quot; class=&quot;user-hover&quot; rel=&quot;perry2of5&quot;&gt;perry2of5&lt;/a&gt;! I have merged your PR and massaged it a bit to avoid duplicating the configuration file &#8211; rather used a system property to receive the server port. I have further applied the fix on both &lt;tt&gt;release-2.x&lt;/tt&gt; and &lt;tt&gt;master&lt;/tt&gt; branches. Would you mind verifying the fix and closing the ticket, please?&lt;/p&gt;</comment>
                            <comment id="17352762" author="perry2of5" created="Thu, 27 May 2021 21:20:00 +0000"  >&lt;p&gt;Volkan, On master, I&apos;m getting the errors like the following building core.&lt;br/&gt;
It looks like some line numbers need to be updated. I included the diff of&lt;br/&gt;
the fix below. Should I create a pull request for this? Or do you want to&lt;br/&gt;
just make the changes? --Tim&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failures:
[ERROR]   PatternSelectorTest.testJavaScriptPatternSelector:90 expected:
&amp;lt;[TRACE] TestJavaScriptPatternSelector ======
o.a.l.l.c.PatternSelectorTest.testJavaScriptPatternSelector:76 Enter ======
o.a.l.l.c.PatternSelectorTest.testJavaScriptPatternSelector:80 Enter ======
[ERROR]   PatternSelectorTest.testScriptPatternSelector:67 expected:
&amp;lt;[TRACE] TestScriptPatternSelector ======
o.a.l.l.c.PatternSelectorTest.testScriptPatternSelector:54 Enter ======
o.a.l.l.c.PatternSelectorTest.testScriptPatternSelector:57 Enter ======

C:\verifylog4j\logging-log4j2&amp;gt;git diff
diff --git
a/log4j-core/src/test/java/org/apache/logging/log4j/core/PatternSelectorTest.java
b/log4j-core/src/test/java/org/apache/logging/log4j/core/PatternSelectorTest.java
index 61dbdd3f2..afc91aa93 100644
---
a/log4j-core/src/test/java/org/apache/logging/log4j/core/PatternSelectorTest.java
+++
b/log4j-core/src/test/java/org/apache/logging/log4j/core/PatternSelectorTest.java
@@ -63,9 +63,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PatternSelectorTest {
         assertEquals(4, messages.size(),
                 &lt;span class=&quot;code-quote&quot;&gt;&quot;Incorrect number of messages. Expected 4, Actual &quot;&lt;/span&gt; +
messages.size() + &lt;span class=&quot;code-quote&quot;&gt;&quot;: &quot;&lt;/span&gt; + messages);
         &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; expect = &lt;span class=&quot;code-quote&quot;&gt;&quot;[TRACE] TestScriptPatternSelector ====== &quot;&lt;/span&gt; +
-
 &lt;span class=&quot;code-quote&quot;&gt;&quot;o.a.l.l.c.PatternSelectorTest.testScriptPatternSelector:54 Enter ======&quot;&lt;/span&gt;
+ Strings.LINE_SEPARATOR;
+
 &lt;span class=&quot;code-quote&quot;&gt;&quot;o.a.l.l.c.PatternSelectorTest.testScriptPatternSelector:57 Enter ======&quot;&lt;/span&gt;
+ Strings.LINE_SEPARATOR;
         assertEquals(expect, messages.get(0));
-        expect = &quot;[INFO ] TestScriptPatternSelector
o.a.l.l.c.PatternSelectorTest.testScriptPatternSelector.55 &quot; +
+        expect = &quot;[INFO ] TestScriptPatternSelector
o.a.l.l.c.PatternSelectorTest.testScriptPatternSelector.58 &quot; +
                 &lt;span class=&quot;code-quote&quot;&gt;&quot;Hello World&quot;&lt;/span&gt; + Strings.LINE_SEPARATOR;
         assertEquals(expect, messages.get(1));
         assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;[INFO ] NoLocation No location information&quot;&lt;/span&gt; +
Strings.LINE_SEPARATOR, messages.get(2));
@@ -86,10 +86,10 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PatternSelectorTest {
         assertEquals(4, messages.size(),
                 &lt;span class=&quot;code-quote&quot;&gt;&quot;Incorrect number of messages. Expected 4, Actual &quot;&lt;/span&gt; +
messages.size() + &lt;span class=&quot;code-quote&quot;&gt;&quot;: &quot;&lt;/span&gt; + messages);
         &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; expect = &lt;span class=&quot;code-quote&quot;&gt;&quot;[TRACE] TestJavaScriptPatternSelector ====== &quot;&lt;/span&gt; +
-
 &quot;o.a.l.l.c.PatternSelectorTest.testJavaScriptPatternSelector:76 Enter
======&quot; + Strings.LINE_SEPARATOR;
+
 &quot;o.a.l.l.c.PatternSelectorTest.testJavaScriptPatternSelector:80 Enter
======&quot; + Strings.LINE_SEPARATOR;
         assertEquals(expect, messages.get(0));
         expect = &lt;span class=&quot;code-quote&quot;&gt;&quot;[INFO ] TestJavaScriptPatternSelector &quot;&lt;/span&gt; +
-
 &quot;o.a.l.l.c.PatternSelectorTest.testJavaScriptPatternSelector.77 Hello
World&quot; + Strings.LINE_SEPARATOR;
+
 &quot;o.a.l.l.c.PatternSelectorTest.testJavaScriptPatternSelector.81 Hello
World&quot; + Strings.LINE_SEPARATOR;
         assertEquals(expect, messages.get(1));
         assertEquals(&quot;[INFO ] JavascriptNoLocation No location
information&quot; + Strings.LINE_SEPARATOR, messages.get(2));
         app.clear();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On Thu, May 27, 2021 at 1:25 AM Volkan Yazici (Jira) &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
wrote:&lt;/p&gt;
</comment>
                            <comment id="17352906" author="jvz" created="Fri, 28 May 2021 00:40:37 +0000"  >&lt;p&gt;Those tests just need to be adjusted to match the new line numbers. Looks like I messed those up in a recent commit.&lt;/p&gt;</comment>
                            <comment id="17353132" author="vy" created="Fri, 28 May 2021 09:38:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=perry2of5&quot; class=&quot;user-hover&quot; rel=&quot;perry2of5&quot;&gt;perry2of5&lt;/a&gt;, would you mind attaching the diff file in a comment, please?&lt;/p&gt;</comment>
                            <comment id="17353432" author="perry2of5" created="Fri, 28 May 2021 16:02:25 +0000"  >&lt;p&gt;Diff is attached.... &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13026106/13026106_diff.txt&quot; title=&quot;diff.txt attached to LOG4J2-3089&quot;&gt;diff.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17353533" author="vy" created="Fri, 28 May 2021 19:13:38 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=perry2of5&quot; class=&quot;user-hover&quot; rel=&quot;perry2of5&quot;&gt;perry2of5&lt;/a&gt;, pushed your changes to &lt;tt&gt;master&lt;/tt&gt;. Would you mind checking one more time, please?&lt;/p&gt;</comment>
                            <comment id="17353571" author="perry2of5" created="Fri, 28 May 2021 20:59:00 +0000"  >&lt;p&gt;The Maven build succeeded.&lt;/p&gt;

&lt;p&gt;Out of curiosity, would a pull request have been easier? And if so, would I&lt;br/&gt;
have needed to file a Jira to go with it?&lt;/p&gt;

&lt;p&gt;On Fri, May 28, 2021 at 12:14 PM Volkan Yazici (Jira) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="17353708" author="vy" created="Sat, 29 May 2021 11:02:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=perry2of5&quot; class=&quot;user-hover&quot; rel=&quot;perry2of5&quot;&gt;perry2of5&lt;/a&gt;, I cannot speak for the rest of the developers, but indeed GitHub PRs are more convenient for me. Some remarks:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;If your changes are small, just like the diff you have shared, you don&apos;t need to create a JIRA ticket.&lt;/li&gt;
	&lt;li&gt;If your changes are relatively big, has a significant impact regarding the way associated component works, or a bug fix, please create a JIRA ticket and update &lt;tt&gt;changes.xml&lt;/tt&gt; in your PR accordingly.&lt;/li&gt;
	&lt;li&gt;If your changes are applicable to both &lt;tt&gt;release-2.x&lt;/tt&gt; and &lt;tt&gt;master&lt;/tt&gt; branches, I&apos;d appreciate it if you can create two separate PRs targeting both branches. This will save me from manually &lt;tt&gt;cherry-pick&lt;/tt&gt;&apos;ing to the other branch and wrestling with potential resolve conflicts along the way.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13376636">LOG4J2-3088</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13026106" name="diff.txt" size="2483" author="perry2of5" created="Fri, 28 May 2021 16:02:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qqkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>