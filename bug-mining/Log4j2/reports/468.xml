<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:33:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-980] Numerical overflow in BurstFilter not handled correctly</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-980</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;&lt;tt&gt;org.apache.logging.log4j.core.filter.BurstFilter.LogDelay#compareTo&lt;/tt&gt; is implemented with mistake - it does not account for numerical overflow (negative values). I.e. &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#nanoTime--&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;System.nanoTime() JavaDocs&lt;/a&gt; say:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;To compare two nanoTime values&lt;/p&gt;

&lt;p&gt; long t0 = System.nanoTime();&lt;br/&gt;
 ...&lt;br/&gt;
 long t1 = System.nanoTime();&lt;br/&gt;
one should use t1 - t0 &amp;lt; 0, not t1 &amp;lt; t0, because of the possibility of numerical overflow.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;but the mentioned method compares values directly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12783840">LOG4J2-980</key>
            <summary>Numerical overflow in BurstFilter not handled correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ash2k">Mikhail Mazursky</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Mar 2015 08:09:26 +0000</created>
                <updated>Sat, 21 Mar 2015 23:00:38 +0000</updated>
                            <resolved>Sat, 21 Mar 2015 17:03:08 +0000</resolved>
                                    <version>2.2</version>
                                    <fixVersion>2.3</fixVersion>
                                    <component>Filters</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14372592" author="ash2k" created="Sat, 21 Mar 2015 08:11:08 +0000"  >&lt;p&gt;Attaching proposed patch.&lt;/p&gt;</comment>
                            <comment id="14372896" author="garydgregory" created="Sat, 21 Mar 2015 17:03:08 +0000"  >&lt;p&gt;Mikhail,&lt;br/&gt;
Thank you for the report. I&apos;ve applied a patch inspired by the patch you provided. You may wish to study it. In particular, it keeps the &lt;tt&gt;LogDelay&lt;/tt&gt; class private and reuses the &lt;tt&gt;Long.compare(long, long)&lt;/tt&gt; method.&lt;/p&gt;

&lt;p&gt;Please review and close.&lt;/p&gt;

&lt;p&gt;Thank you again and keep the patches coming &lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="14372940" author="garydgregory" created="Sat, 21 Mar 2015 18:18:23 +0000"  >&lt;p&gt;Also, do you see any other misuse of &lt;tt&gt;nanoTime()&lt;/tt&gt; ?&lt;/p&gt;</comment>
                            <comment id="14373089" author="ash2k" created="Sat, 21 Mar 2015 23:00:38 +0000"  >&lt;p&gt;No, other uses seem to be fine. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12706138" name="LOG4J2-980.patch" size="2925" author="ash2k" created="Sat, 21 Mar 2015 08:11:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i272y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>