<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:35:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1251] JUL bridge broken</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1251</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;org.apache.logging.log4j.jul.ApiLogger doesnt behave the same depending where we come from (logger.info() vs logger.log() typically)&lt;/p&gt;

&lt;p&gt;The main difference is the message factory used.&lt;/p&gt;

&lt;p&gt;for this statement:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;logger.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;{foo}&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;a SimpleMessage will be emitted but for&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;logger.log(recordWithSameContent);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;a MessageFormatMessage will be emitted making the log statement failling.&lt;/p&gt;

&lt;p&gt;org.apache.logging.log4j.jul.ApiLogger#log(java.util.logging.LogRecord) should be reworked to handle such a case.&lt;/p&gt;

&lt;p&gt;Here how to reproduce it:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Logger.getLogger(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;).info(&lt;span class=&quot;code-quote&quot;&gt;&quot;{test}&quot;&lt;/span&gt;);
Logger.getLogger(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;).log(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LogRecord(Level.INFO, &lt;span class=&quot;code-quote&quot;&gt;&quot;{test}&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The fix is as simple as testing org.apache.logging.log4j.jul.ApiLogger#log(java.util.logging.LogRecord) and if null don&apos;t call logger.getMessageFactory().newMessage(record.getMessage(), record.getParameters()) but logger.getMessageFactory().newMessage(record.getMessage())&lt;/p&gt;</description>
                <environment></environment>
        <key id="12929445">LOG4J2-1251</key>
            <summary>JUL bridge broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mattsicker">Matt Sicker</assignee>
                                    <reporter username="romain.manni-bucau">Romain Manni-Bucau</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jan 2016 10:13:14 +0000</created>
                <updated>Thu, 3 Mar 2016 01:57:20 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 22:35:15 +0000</resolved>
                                                    <fixVersion>2.6</fixVersion>
                                    <component>JUL adapter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15093721" author="romain.manni-bucau" created="Tue, 12 Jan 2016 10:51:56 +0000"  >&lt;p&gt;patch fixing this issue&lt;/p&gt;</comment>
                            <comment id="15094861" author="garydgregory" created="Tue, 12 Jan 2016 20:24:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romain.manni-bucau&quot; class=&quot;user-hover&quot; rel=&quot;romain.manni-bucau&quot;&gt;romain.manni-bucau&lt;/a&gt;: Thank you for your submission.&lt;/p&gt;

&lt;p&gt;This patch does not apply cleanly to our git master. It looks like a diff file of your own repo, in particular, the config file is a mix of added and removed lines, which is not possible in git master since the file does not exist.&lt;/p&gt;</comment>
                            <comment id="15095015" author="romain.manni-bucau" created="Tue, 12 Jan 2016 21:39:48 +0000"  >&lt;p&gt;not using git diff but git diff origin/master to create the patch&lt;/p&gt;</comment>
                            <comment id="15095017" author="romain.manni-bucau" created="Tue, 12 Jan 2016 21:39:59 +0000"  >&lt;p&gt;updated the patch, hope it is better now&lt;/p&gt;</comment>
                            <comment id="15095026" author="jvz" created="Tue, 12 Jan 2016 21:48:06 +0000"  >&lt;p&gt;Patch applies cleanly to master now, thanks.&lt;/p&gt;</comment>
                            <comment id="15095072" author="jvz" created="Tue, 12 Jan 2016 22:12:00 +0000"  >&lt;p&gt;Builds fine, even without the pom.xml change.&lt;/p&gt;</comment>
                            <comment id="15095116" author="jvz" created="Tue, 12 Jan 2016 22:35:15 +0000"  >&lt;p&gt;Applied patch in master. Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12941465">LOG4J2-1298</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781800" name="LOG4J2-1251.patch" size="8679" author="romain.manni-bucau" created="Tue, 12 Jan 2016 10:51:56 +0000"/>
                            <attachment id="12781925" name="LOG4J2-1251___2.patch" size="8417" author="romain.manni-bucau" created="Tue, 12 Jan 2016 21:39:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r6dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>