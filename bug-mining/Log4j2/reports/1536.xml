<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3328] Log4j 1.2 bridge does not support system properties in log4j.xml</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3328</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;I am attempting to use the log4j bridge with log4j2, and cannot use system properties to set a location for my log files.&lt;/p&gt;

&lt;p&gt;Reported here: &lt;a href=&quot;https://stackoverflow.com/questions/70628593/system-property-not-being-read-by-log4j2-lo4j1-bridge&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;stackoverflow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;My log4j.xml file:&lt;br/&gt;
&lt;tt&gt;log4j-dev.xml&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;...&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;appender name=&quot;DAILY&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;param name=&quot;File&quot; value=&quot;${catalina.base}/logs/etl.log&quot;/&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;param name=&quot;DatePattern&quot; value=&quot;&apos;.&apos;yyyy-MM-dd&quot;/&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;param name=&quot;ConversionPattern&quot; value=&quot;GATEWAY: %p %d &lt;span class=&quot;error&quot;&gt;&amp;#91;%t&amp;#93;&lt;/span&gt; %c{1}.%M(%L) | %m%n&quot;/&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;/layout&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;/appender&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;...&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The setenv.bat entry where I define which log4j.xml to use:&lt;br/&gt;
&lt;tt&gt;-Dlog4j2.debug=true -Dlog4j.configuration=log4j-dev.xml&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The properties shown in the tomcat log illustrating that the system property in question is being supplied to the log4j1 bridge&lt;br/&gt;
&lt;tt&gt;...&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Command line argument: -Dlog4j2.debug=true&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Command line argument: -Dlog4j.logDir=C:\dev\apache-tomcat-8.5.50\logs&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Command line argument: -Dlog4j.configuration=log4j-dev.xml&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Command line argument: -Dcatalina.base=C:\dev\apache-tomcat-8.5.50&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Command line argument: -Dcatalina.home=C:\dev\apache-tomcat-8.5.50&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Command line argument: -Djava.io.tmpdir=C:\dev\apache-tomcat-8.5.50\temp&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;...&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;And the part of the log that shows where the log file is successfully created and what path it is using:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;...&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;DEBUG StatusLogger Class name: &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.log4j.RollingFileAppender&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;DEBUG StatusLogger Parsing layout of class: &quot;org.apache.log4j.PatternLayout&quot;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;DEBUG StatusLogger PluginManager &apos;Converter&apos; found 47 plugins&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;TRACE StatusLogger New file &apos;${catalina.base}/etl.log&apos; created = true&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;DEBUG StatusLogger Returning file creation time for C:\dev\apache-tomcat-8.5.50\bin\${catalina.base}\etl.log&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;DEBUG StatusLogger Starting RollingFileManager ${catalina.base}/etl.log&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;...&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The log file is being created in a folder named &quot;${catalina.base}&quot;, in whatever directory I&apos;m in when I start tomcat.  The issue is similar to this Jira issue, &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2951&quot; title=&quot;Properties are not resolved with Log4J1 configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2951&quot;&gt;&lt;del&gt;LOG4J2-2951&lt;/del&gt;&lt;/a&gt;, and that issue was just resolved in early December.&lt;/p&gt;</description>
                <environment>&lt;p&gt;&lt;tt&gt;Windows 10&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;Amazon Linux&lt;/tt&gt;&lt;/p&gt;</environment>
        <key id="13421757">LOG4J2-3328</key>
            <summary>Log4j 1.2 bridge does not support system properties in log4j.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="paulcooper">Paul Cooper</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Jan 2022 16:13:52 +0000</created>
                <updated>Mon, 14 Feb 2022 12:36:10 +0000</updated>
                            <resolved>Sun, 16 Jan 2022 17:06:22 +0000</resolved>
                                    <version>2.17.1</version>
                                    <fixVersion>2.17.2</fixVersion>
                                    <component>Log4j 1.2 bridge</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17476830" author="jira-bot" created="Sun, 16 Jan 2022 16:56:24 +0000"  >&lt;p&gt;Commit bb2cd1e2cca26b9a5332023d460da34f22efba6b in logging-log4j2&apos;s branch refs/heads/release-2.x from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=bb2cd1e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=bb2cd1e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3328&quot; title=&quot;Log4j 1.2 bridge does not support system properties in log4j.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3328&quot;&gt;&lt;del&gt;LOG4J2-3328&lt;/del&gt;&lt;/a&gt; Log4j 1.2 bridge does not support system properties in&lt;br/&gt;
log4j.xml.&lt;/p&gt;</comment>
                            <comment id="17476831" author="jira-bot" created="Sun, 16 Jan 2022 16:56:25 +0000"  >&lt;p&gt;Commit 7cee696b86e1b6631d59d0906f082277f45a606c in logging-log4j2&apos;s branch refs/heads/release-2.x from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7cee696&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7cee696&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3328&quot; title=&quot;Log4j 1.2 bridge does not support system properties in log4j.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3328&quot;&gt;&lt;del&gt;LOG4J2-3328&lt;/del&gt;&lt;/a&gt; Log4j 1.2 bridge does not support system properties in&lt;br/&gt;
log4j.xml.&lt;/p&gt;</comment>
                            <comment id="17476833" author="jira-bot" created="Sun, 16 Jan 2022 17:00:14 +0000"  >&lt;p&gt;Commit 6dbc9f74f70e57101e8971fad8984cd02aa6c401 in logging-log4j2&apos;s branch refs/heads/master from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=6dbc9f7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=6dbc9f7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3328&quot; title=&quot;Log4j 1.2 bridge does not support system properties in log4j.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3328&quot;&gt;&lt;del&gt;LOG4J2-3328&lt;/del&gt;&lt;/a&gt; Log4j 1.2 bridge does not support system properties in&lt;br/&gt;
log4j.xml.&lt;/p&gt;</comment>
                            <comment id="17476835" author="garydgregory" created="Sun, 16 Jan 2022 17:06:22 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulcooper&quot; class=&quot;user-hover&quot; rel=&quot;paulcooper&quot;&gt;paulcooper&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;I fixed this issue in branches &lt;tt&gt;release-2.x&lt;/tt&gt; and &lt;tt&gt;master&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Please try a local build or a version &lt;tt&gt;2.17.2-SNAPSHOT&lt;/tt&gt; build from &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;TY.&lt;/p&gt;</comment>
                            <comment id="17480304" author="JIRAUSER283351" created="Sat, 22 Jan 2022 00:11:30 +0000"  >&lt;p&gt;Gary,&lt;/p&gt;

&lt;p&gt;I pulled the latest snapshot build from the link above, and it appears your fix is working correctly.&lt;/p&gt;

&lt;p&gt;Thank you for your quick response.&lt;/p&gt;

&lt;p&gt;Do you have any idea when 2.17.2 will get rolled out?&lt;/p&gt;

&lt;p&gt;Paul&lt;/p&gt;</comment>
                            <comment id="17480305" author="garydgregory" created="Sat, 22 Jan 2022 00:14:03 +0000"  >&lt;p&gt;Probably maybe possibly in 2 weeks or thereabouts, no guarantees.&lt;/p&gt;</comment>
                            <comment id="17491848" author="JIRAUSER285159" created="Mon, 14 Feb 2022 08:02:31 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; , Any update on 2.17.2 release ?&lt;/p&gt;</comment>
                            <comment id="17491961" author="garydgregory" created="Mon, 14 Feb 2022 12:36:10 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=john215&quot; class=&quot;user-hover&quot; rel=&quot;john215&quot;&gt;john215&lt;/a&gt;, my guess is within one month.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0yfhs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>