<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:40:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-2680] Not compressing after rolling a file using copy and truncation method</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-2680</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;When log file has reached rolling size, method &quot;execute&quot; on &quot;org.apache.logging.log4j.core.appender.rolling.action.FileRenameAction&quot; class run as follows:&lt;/p&gt;

&lt;p&gt;1. Move the log file to a new one using a new name;&lt;br/&gt;
 2. If move fails, then it renames the log file;&lt;br/&gt;
 3. If rename fails, then it copies the original file and then:&lt;br/&gt;
 &#160; &#160; 3.1 Deletes original file;&lt;br/&gt;
 &#160; &#160; 3.2 if delete fails, then it truncates the original file contents.&lt;/p&gt;

&lt;p&gt;Steps 2 and 3 are executed usually when original file is locked; after any successful step, the returning value should be &quot;true&quot;, however after successfully executing step 3.2 it remains &quot;false&quot;, avoiding the compression algorithm to be executed.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 2016 Server&lt;/p&gt;</environment>
        <key id="13252425">LOG4J2-2680</key>
            <summary>Not compressing after rolling a file using copy and truncation method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hurtadogx">Guillermo Xavier Hurtado Garcia</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Aug 2019 16:33:28 +0000</created>
                <updated>Sat, 22 Feb 2020 23:33:39 +0000</updated>
                            <resolved>Thu, 22 Aug 2019 19:19:45 +0000</resolved>
                                    <version>2.6.2</version>
                    <version>2.7</version>
                    <version>2.8</version>
                    <version>2.8.1</version>
                    <version>2.8.2</version>
                    <version>2.9.0</version>
                    <version>2.9.1</version>
                    <version>2.10.0</version>
                    <version>2.11.0</version>
                    <version>2.11.1</version>
                    <version>2.11.2</version>
                    <version>2.12.0</version>
                    <version>2.12.1</version>
                                    <fixVersion>2.12.1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="33"/>
                                    <progress percentage="33">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="33" backgroundColor="#51a825"/>
                                                    <row percentage="67" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="33">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="33" backgroundColor="#51a825"/>
                                                    <row percentage="67" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="2400">40m</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16913625" author="hurtadogx" created="Thu, 22 Aug 2019 19:19:45 +0000"  >&lt;p&gt;This issue has been resolved, changes has been submited and pull request is pending for approval at the following link:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/304&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/304&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16929867" author="jira-bot" created="Sun, 15 Sep 2019 02:04:18 +0000"  >&lt;p&gt;Commit 6c546be1a2c8e57cfa385893e6ec6ee822454905 in logging-log4j2&apos;s branch refs/heads/release-2.x from rgoers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=6c546be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=6c546be&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2680&quot; title=&quot;Not compressing after rolling a file using copy and truncation method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2680&quot;&gt;&lt;del&gt;LOG4J2-2680&lt;/del&gt;&lt;/a&gt; - Set result to true after successful copy&lt;/p&gt;</comment>
                            <comment id="16929868" author="jira-bot" created="Sun, 15 Sep 2019 02:04:37 +0000"  >&lt;p&gt;Commit 0d53cfa453d8c9fe8a07ba7bd338ece43844a787 in logging-log4j2&apos;s branch refs/heads/master from Xavier Hurtado&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=0d53cfa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=0d53cfa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2680&quot; title=&quot;Not compressing after rolling a file using copy and truncation method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2680&quot;&gt;&lt;del&gt;LOG4J2-2680&lt;/del&gt;&lt;/a&gt;: Not compressing after rolling a file using copy and truncation&lt;/p&gt;

&lt;p&gt;This fix set to true the return value of &quot;execute&quot; method in &quot;FileRenameAction&quot; class, after successfully apply copy and truncation method. Doing this, the rolled can be compressed as expected.&lt;/p&gt;</comment>
                            <comment id="16929869" author="jira-bot" created="Sun, 15 Sep 2019 02:04:38 +0000"  >&lt;p&gt;Commit b2a802f2cee9d1b9955a6ef6cd39e14d5a1e779e in logging-log4j2&apos;s branch refs/heads/master from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=b2a802f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=b2a802f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #304 from hurtadogx/&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2680&quot; title=&quot;Not compressing after rolling a file using copy and truncation method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2680&quot;&gt;&lt;del&gt;LOG4J2-2680&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2680&quot; title=&quot;Not compressing after rolling a file using copy and truncation method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2680&quot;&gt;&lt;del&gt;LOG4J2-2680&lt;/del&gt;&lt;/a&gt;: Not compressing after rolling a file using copy and &#8230;&lt;/p&gt;</comment>
                            <comment id="16929870" author="jira-bot" created="Sun, 15 Sep 2019 02:04:40 +0000"  >&lt;p&gt;Commit b2a802f2cee9d1b9955a6ef6cd39e14d5a1e779e in logging-log4j2&apos;s branch refs/heads/master from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=b2a802f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=b2a802f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #304 from hurtadogx/&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2680&quot; title=&quot;Not compressing after rolling a file using copy and truncation method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2680&quot;&gt;&lt;del&gt;LOG4J2-2680&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2680&quot; title=&quot;Not compressing after rolling a file using copy and truncation method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2680&quot;&gt;&lt;del&gt;LOG4J2-2680&lt;/del&gt;&lt;/a&gt;: Not compressing after rolling a file using copy and &#8230;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13026542">LOG4J2-1726</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12978316" name="fix.png" size="68909" author="hurtadogx" created="Thu, 22 Aug 2019 16:33:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05xrs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>