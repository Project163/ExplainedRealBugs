<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:43:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3584] StatusLogger doesn&apos;t honor `log4j2.StatusLogger.DateFormat` property when status level is set</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3584</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;I think &lt;tt&gt;StatusLogger&lt;/tt&gt; doesn&apos;t honor &lt;tt&gt;log4j2.StatusLogger.DateFormat&lt;/tt&gt; property, when configuration has a status level set. That is, in the following &lt;tt&gt;StatusLogger&lt;/tt&gt; block:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void logMessage(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fqcn, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Level level, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Marker marker, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Message msg,
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Throwable t) {
        &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// LOG4J2-1813 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; system property &lt;span class=&quot;code-quote&quot;&gt;&quot;log4j2.debug&quot;&lt;/span&gt; is defined, all status logging is enabled
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isDebugPropertyEnabled() || (listeners.size() &amp;lt;= 0)) {
            logger.logMessage(fqcn, level, marker, msg, t);
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StatusListener listener : listeners) {
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (data.getLevel().isMoreSpecificThan(listener.getStatusLevel())) {
                    listener.log(data);
                }
            }
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When &lt;tt&gt;status=&quot;trace&quot;&lt;/tt&gt; is set in &lt;tt&gt;log4j2.xml&lt;/tt&gt;, &lt;tt&gt;else&lt;/tt&gt; block kicks in. There the following &lt;tt&gt;StatusConsoleListener&lt;/tt&gt; method gets called:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void log(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StatusData data) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!filtered(data)) {
            stream.println(data.getFormattedStatus());
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There &lt;tt&gt;StatusData#getFormattedStatus()&lt;/tt&gt; completely ignores &lt;tt&gt;log4j2.StatusLogger.DateFormat&lt;/tt&gt; while formatting the date.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13479367">LOG4J2-3584</key>
            <summary>StatusLogger doesn&apos;t honor `log4j2.StatusLogger.DateFormat` property when status level is set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vy">Volkan Yazici</assignee>
                                    <reporter username="vy">Volkan Yazici</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Aug 2022 19:55:16 +0000</created>
                <updated>Tue, 20 Aug 2024 09:29:59 +0000</updated>
                            <resolved>Mon, 17 Oct 2022 19:19:23 +0000</resolved>
                                                    <fixVersion>2.19.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17598084" author="pkarwasz" created="Tue, 30 Aug 2022 21:42:35 +0000"  >&lt;p&gt;I think we should reimplement &lt;tt&gt;StatusConsoleListener&lt;/tt&gt; to always use a &lt;tt&gt;SimpleLogger&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Moreover since a &lt;tt&gt;StatusConsoleListener&lt;/tt&gt; is required, (cf. &lt;a href=&quot;https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/config/status/StatusConfiguration.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;StatusConfiguration&lt;/a&gt;), we could introduce a property with the FQCN of the main status listener. This has some applications: e.g. in the JUnit tests the output of the &lt;tt&gt;StatusConsoleListener&lt;/tt&gt; clutters the output. I had to use some dirty hacks (cf. &lt;a href=&quot;https://github.com/apache/logging-log4j2/blob/parallel-tests/log4j-api-test/src/main/java/org/apache/logging/log4j/test/junit/Log4j2LauncherSessionListener.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Log4j2LauncherSessionListener&lt;/a&gt;) to replace it with a per-test status listener.&lt;/p&gt;</comment>
                            <comment id="17875092" author="pkarwasz" created="Tue, 20 Aug 2024 09:29:59 +0000"  >&lt;p&gt;Looking at the release dates, this must have been fixed in &lt;tt&gt;2.20.0&lt;/tt&gt;, not &lt;tt&gt;2.19.0&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z186xc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>