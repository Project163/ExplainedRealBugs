<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:43:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3548] Password-less key stores fail to initialise StoreConfiguration</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3548</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3439&quot; title=&quot;log4j2 Spring Cloud config integration with MTLS gives NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3439&quot;&gt;&lt;del&gt;LOG4J2-3439&lt;/del&gt;&lt;/a&gt; there was a change in AbstractKeyStoreConfiguration that replaces null passwords with a default value. This means that when password-less key stores initialized, the integrity is checked with the default password (&quot;changeit&quot;), which of course fails.&lt;/p&gt;

&lt;p&gt;I think the replacement should be reverted, to allow for password-less key stores to be initalized correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13470290">LOG4J2-3548</key>
            <summary>Password-less key stores fail to initialise StoreConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pkarwasz">Piotr Karwasz</assignee>
                                    <reporter username="kristofarkas">Kristof Farkas-Pall</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2022 08:44:12 +0000</created>
                <updated>Fri, 9 Sep 2022 19:19:25 +0000</updated>
                            <resolved>Thu, 8 Sep 2022 14:47:40 +0000</resolved>
                                    <version>2.18.0</version>
                                    <fixVersion>2.19.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17564914" author="JIRAUSER292364" created="Mon, 11 Jul 2022 10:27:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt; would it be enough to just revert the change that added the default password? Happy to make a contribution here if you&apos;re not already working on it.&lt;/p&gt;</comment>
                            <comment id="17564998" author="pkarwasz" created="Mon, 11 Jul 2022 13:20:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kristofarkas&quot; class=&quot;user-hover&quot; rel=&quot;kristofarkas&quot;&gt;kristofarkas&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I was rather thinking about aligning the Log4j2 defaults to those used by Tomcat (see &lt;a href=&quot;https://github.com/apache/tomcat/blob/ec4002ea51492e2bd231db715eaf3a6325a41717/java/org/apache/tomcat/util/net/SSLUtilBase.java#L179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SSLUtilBase&lt;/a&gt;, &lt;a href=&quot;https://github.com/apache/tomcat/blob/ec4002ea51492e2bd231db715eaf3a6325a41717/java/org/apache/tomcat/util/net/SSLHostConfigCertificate.java#L62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SSLHostConfigCertificate&lt;/a&gt; and similar). Basically:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the default keystore password is &lt;tt&gt;&quot;changeit&quot;&lt;/tt&gt;,&lt;/li&gt;
	&lt;li&gt;the default keystore location is:
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;${user.home}/.keystore&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;the &quot;javax.net.ssl.*&quot; variables are taken into account to change these defaults,&lt;/li&gt;
	&lt;li&gt;if the configuration provides an empty password, it is interpreted heuristically as &lt;tt&gt;null&lt;/tt&gt; if the keystore type is not JKS or PKCS12, as &quot;&quot; otherwise,&lt;/li&gt;
	&lt;li&gt;if the configuration provides an empty location, it is interpreted as &lt;tt&gt;null&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Feel free to send a PR, I am not currently working on this.&lt;/p&gt;</comment>
                            <comment id="17566279" author="JIRAUSER292364" created="Wed, 13 Jul 2022 11:46:32 +0000"  >&lt;p&gt;PR to just revert the change: &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/959&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/959&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17601862" author="jira-bot" created="Thu, 8 Sep 2022 14:43:28 +0000"  >&lt;p&gt;Commit 60fe5d443770e788e02728d01487a69176c0fc45 in logging-log4j2&apos;s branch refs/heads/release-2.x from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=60fe5d4437&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=60fe5d4437&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;[&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3548&quot; title=&quot;Password-less key stores fail to initialise StoreConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3548&quot;&gt;&lt;del&gt;LOG4J2-3548&lt;/del&gt;&lt;/a&gt; Improve support of `null` location and password&lt;/p&gt;

&lt;p&gt;Adds support for a `null` location and password (as required by e.g. the&lt;br/&gt;
&quot;Windows-MY&quot; keystore).&lt;/p&gt;</comment>
                            <comment id="17601863" author="jira-bot" created="Thu, 8 Sep 2022 14:43:28 +0000"  >&lt;p&gt;Commit 51f36fd6477ae9e255c11ce5e1bd68a56a20c234 in logging-log4j2&apos;s branch refs/heads/release-2.x from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=51f36fd647&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=51f36fd647&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3548&quot; title=&quot;Password-less key stores fail to initialise StoreConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3548&quot;&gt;&lt;del&gt;LOG4J2-3548&lt;/del&gt;&lt;/a&gt; Add unity tests&lt;/p&gt;

&lt;p&gt;Adds tests to prevent regressions.&lt;/p&gt;</comment>
                            <comment id="17601865" author="pkarwasz" created="Thu, 8 Sep 2022 14:47:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kristofarkas&quot; class=&quot;user-hover&quot; rel=&quot;kristofarkas&quot;&gt;kristofarkas&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;I merged your PR and some tests to the main branch. The changes should be available soon in the next &lt;tt&gt;2.18.1-SNAPSHOT&lt;/tt&gt; available at &lt;tt&gt;&lt;a href=&quot;https://repository.apache.org/spapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/spapshots&lt;/a&gt;&lt;/tt&gt;. Can you check if it solves your problem and close the issue?&lt;/p&gt;</comment>
                            <comment id="17602521" author="jira-bot" created="Fri, 9 Sep 2022 19:19:25 +0000"  >&lt;p&gt;Commit 60fe5d443770e788e02728d01487a69176c0fc45 in logging-log4j2&apos;s branch refs/heads/dependabot/maven/io.fabric8-kubernetes-client-6.1.1 from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=60fe5d4437&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=60fe5d4437&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;[&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3548&quot; title=&quot;Password-less key stores fail to initialise StoreConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3548&quot;&gt;&lt;del&gt;LOG4J2-3548&lt;/del&gt;&lt;/a&gt; Improve support of `null` location and password&lt;/p&gt;

&lt;p&gt;Adds support for a `null` location and password (as required by e.g. the&lt;br/&gt;
&quot;Windows-MY&quot; keystore).&lt;/p&gt;</comment>
                            <comment id="17602522" author="jira-bot" created="Fri, 9 Sep 2022 19:19:25 +0000"  >&lt;p&gt;Commit 51f36fd6477ae9e255c11ce5e1bd68a56a20c234 in logging-log4j2&apos;s branch refs/heads/dependabot/maven/io.fabric8-kubernetes-client-6.1.1 from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=51f36fd647&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=51f36fd647&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3548&quot; title=&quot;Password-less key stores fail to initialise StoreConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3548&quot;&gt;&lt;del&gt;LOG4J2-3548&lt;/del&gt;&lt;/a&gt; Add unity tests&lt;/p&gt;

&lt;p&gt;Adds tests to prevent regressions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16n4o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>