<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:32:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-631] Update docs to clarify how to use formatter logger and standard logger together</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-631</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Example {

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Logger FORMATTER_LOGGER = LogManager.getFormatterLogger(Example.class);

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Logger LOGGER = LogManager.getLogger(Example.class);

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
		LOGGER.log(ERROR, &lt;span class=&quot;code-quote&quot;&gt;&quot;{} happened&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Something&quot;&lt;/span&gt;);
		FORMATTER_LOGGER.log(ERROR, &lt;span class=&quot;code-quote&quot;&gt;&quot;%s happened&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Something&quot;&lt;/span&gt;);
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;13:40:35.401 [main] ERROR com.example.Example - {} happened
13:40:35.404 [main] ERROR com.example.Example - Something happened
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After inverting the two constant declarations:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;13:41:13.730 [main] ERROR com.example.Example - Something happened
13:41:13.732 [main] ERROR com.example.Example - %s happened
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12712558">LOG4J2-631</key>
            <summary>Update docs to clarify how to use formatter logger and standard logger together</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rpopma">Remko Popma</assignee>
                                    <reporter username="agattik">Alexandre Gattiker</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 May 2014 11:44:52 +0000</created>
                <updated>Fri, 11 Jul 2014 17:49:26 +0000</updated>
                            <resolved>Fri, 11 Jul 2014 17:49:26 +0000</resolved>
                                    <version>2.0-rc1</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13991263" author="jvz" created="Tue, 6 May 2014 22:37:31 +0000"  >&lt;p&gt;Looking at AbstractLoggerProvider in log4j-api, the MessageFactory is a private final field. This is done at construction, and since Loggers are keyed by name, you can&apos;t use multiple loggers with the same name and different MessageFactory instances. If you were to allow having two named loggers with different message factories, what would LogManager.getLogger(&quot;name&quot;) do? You have two potential Logger objects to get. I don&apos;t think this makes any sense. Probably invalid.&lt;/p&gt;</comment>
                            <comment id="13991507" author="garydgregory" created="Wed, 7 May 2014 03:22:56 +0000"  >&lt;p&gt;This is unfortunate but I think we should leave this be for now.&lt;/p&gt;

&lt;p&gt;Perhaps some documentation is needed here.&lt;/p&gt;

&lt;p&gt;If you really want something like that, we could document a patten like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Logger FORMATTER_LOGGER = LogManager.getFormatterLogger(Example.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getName() + &lt;span class=&quot;code-quote&quot;&gt;&quot;.Formatted&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Logger LOGGER = LogManager.getLogger(Example.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13994458" author="agattik" created="Sun, 11 May 2014 07:36:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jvz&quot; class=&quot;user-hover&quot; rel=&quot;jvz&quot;&gt;jvz&lt;/a&gt;, could we key by both name and MessageFactory?&lt;/p&gt;

&lt;p&gt;My use case is that I have a code base that uses the standard MessageFactory, but I would like to introduce one logging statement that can benefit from FormatterLogger. It is very impractical to have a mix of various log formatters over a code base, so my idea was to use the a different name for an additional, &apos;non-standard&apos; logger.&lt;/p&gt;

&lt;p&gt;If this limitation is to remain, I think it is only practical to use the formatter logger exclusively and uniformly over a code base. But then, as it is vastly superior to the standard formatter, why not advertise it as the recommended usage in Log4j2? It is no more difficult to write %s than {}.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;, I agree it would make sense to document this limitation where getFormatterLogger is introduced in &lt;a href=&quot;http://logging.apache.org/log4j/2.x/manual/api.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://logging.apache.org/log4j/2.x/manual/api.html&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13994468" author="remkop@yahoo.com" created="Sun, 11 May 2014 08:11:58 +0000"  >&lt;p&gt;Alexandre, are you aware of this option: you can get a standard logger (with the standard MessageFactory), but for the occasional log statement where you want to use a formatter message format, you can call one of the &lt;tt&gt;Logger.printf&lt;/tt&gt; methods.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Logger logger = LogManager.getLogger(MyClass.class);

logger.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;My {} parameterized message&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;standard&quot;&lt;/span&gt;);
logger.printf(Level.INFO, &lt;span class=&quot;code-quote&quot;&gt;&quot;Special formatting: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxval=%+,d, pi=%10.3f&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE, &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.PI);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13994471" author="agattik" created="Sun, 11 May 2014 08:26:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=remkop%40yahoo.com&quot; class=&quot;user-hover&quot; rel=&quot;remkop@yahoo.com&quot;&gt;remkop@yahoo.com&lt;/a&gt; thanks a lot, that&apos;s exactly what I needed! Perhaps these methods might be documented on &lt;a href=&quot;http://logging.apache.org/log4j/2.x/manual/api.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://logging.apache.org/log4j/2.x/manual/api.html&lt;/a&gt; before or even rather than the use of getFormatterLogger.&lt;/p&gt;</comment>
                            <comment id="13994637" author="jvz" created="Sun, 11 May 2014 18:42:47 +0000"  >&lt;p&gt;I&apos;d also like to point out that the formatter logger is a lot slower than than normal one.&lt;/p&gt;</comment>
                            <comment id="14058502" author="remkop@yahoo.com" created="Fri, 11 Jul 2014 07:17:49 +0000"  >&lt;p&gt;Changed title to reflect the remaining task.&lt;/p&gt;</comment>
                            <comment id="14059093" author="remkop@yahoo.com" created="Fri, 11 Jul 2014 17:49:26 +0000"  >&lt;p&gt;Fixed in revision 1609755.&lt;br/&gt;
Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>390874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vbo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>