<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:38:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1912] CompositeConfiguration logs warning &quot;Unable to determine URI for configuration.&quot; However, the reconfiguration is completed.</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1912</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Hello everybody,&lt;/p&gt;

&lt;p&gt;I found a possible bug in class CompositeConfiguration: Unable to determine URI for configuration. However, the reconfiguration is completed.&lt;/p&gt;

&lt;p&gt;The solution:&lt;br/&gt;
In line 154, Class CompositeConfiguration &lt;span class=&quot;error&quot;&gt;&amp;#91;log4j-core-2.8.1.jar&amp;#93;&lt;/span&gt; change the condition:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sourceURI != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)&lt;span class=&quot;code-quote&quot;&gt;&quot; --&amp;gt; &quot;&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sourceURI == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Original code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;145    @Override
146    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Configuration reconfigure() {
147        LOGGER.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Reconfiguring composite configuration&quot;&lt;/span&gt;);
148        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;AbstractConfiguration&amp;gt; configs = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();
149        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConfigurationFactory factory = ConfigurationFactory.getInstance();
150        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; AbstractConfiguration config : configurations) {
151            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConfigurationSource source = config.getConfigurationSource();
152            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URI sourceURI = source.getURI();
153            Configuration currentConfig;
154            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sourceURI != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
155                LOGGER.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to determine URI &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; configuration {}, changes to it will be ignored&quot;&lt;/span&gt;,
156                        config.getName());
157                currentConfig = factory.getConfiguration(getLoggerContext(), config.getName(), sourceURI);
158                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currentConfig == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
159                    LOGGER.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to reload configuration {}, changes to it will be ignored&quot;&lt;/span&gt;, config.getName());
160                    currentConfig = config;
161                }
162            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
163                currentConfig = config;
164            }
165            configs.add((AbstractConfiguration) currentConfig);
166
167        }
168
169        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CompositeConfiguration(configs);
170    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it makes sense, because after that it will be tried to reload the configuration again, and if it does not work, I get a warn, otherwise is ok.&lt;/p&gt;

&lt;p&gt;The changed code might look like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Configuration reconfigure() {
        LOGGER.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Reconfiguring composite configuration&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;AbstractConfiguration&amp;gt; configs = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConfigurationFactory factory = ConfigurationFactory.getInstance();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; AbstractConfiguration config : configurations) {
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConfigurationSource source = config.getConfigurationSource();
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URI sourceURI = source.getURI();
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sourceURI == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                LOGGER.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to determine URI &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; configuration {}, changes to it will be ignored&quot;&lt;/span&gt;, config.getName());
                Configuration currentConfig = factory.getConfiguration(getLoggerContext(), config.getName(), sourceURI);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currentConfig == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                    LOGGER.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to reload configuration {}, changes to it will be ignored&quot;&lt;/span&gt;, config.getName());
                }
                &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                    LOGGER.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Able to reload configuration {}, changes to it will be completed&quot;&lt;/span&gt;, config.getName());
                    configs.add((AbstractConfiguration) currentConfig);
                }
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                configs.add(config);
            }

        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CompositeConfiguration(configs);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Your feedback and questions are welcome. Thanks!&lt;br/&gt;
Best regards,&lt;br/&gt;
rri&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073104">LOG4J2-1912</key>
            <summary>CompositeConfiguration logs warning &quot;Unable to determine URI for configuration.&quot; However, the reconfiguration is completed.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rri">Ronald Rivas</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 May 2017 11:53:42 +0000</created>
                <updated>Mon, 10 Jul 2017 12:07:56 +0000</updated>
                            <resolved>Thu, 6 Jul 2017 09:03:53 +0000</resolved>
                                    <version>2.8.1</version>
                                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="16076194" author="jira-bot" created="Thu, 6 Jul 2017 09:03:15 +0000"  >&lt;p&gt;Commit 5b4f3db4f5e7b24862c147b790806bca0b2d1892 in logging-log4j2&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=5b4f3db&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=5b4f3db&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1912&quot; title=&quot;CompositeConfiguration logs warning &amp;quot;Unable to determine URI for configuration.&amp;quot; However, the reconfiguration is completed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1912&quot;&gt;&lt;del&gt;LOG4J2-1912&lt;/del&gt;&lt;/a&gt; CompositeConfiguration logs warning &quot;Unable to determine&lt;br/&gt;
URI for configuration.&quot; However, the reconfiguration is completed.&lt;/p&gt;</comment>
                            <comment id="16076196" author="garydgregory" created="Thu, 6 Jul 2017 09:03:53 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rri&quot; class=&quot;user-hover&quot; rel=&quot;rri&quot;&gt;rri&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;A fix is in Git master. Please verify it and close this ticket if it works for you.&lt;/p&gt;

&lt;p&gt;Thank you!&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="16080232" author="rri" created="Mon, 10 Jul 2017 12:07:41 +0000"  >&lt;p&gt;Hello Gary&lt;/p&gt;

&lt;p&gt;It works. Thank you too!&lt;/p&gt;

&lt;p&gt;Best regards&lt;br/&gt;
R Ri&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3f607:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>