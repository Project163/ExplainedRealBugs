<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:34:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1033] SimpleLogger creates unnecessary Map objects by calling ThreadContext.getContext() instead of getImmutableContext() </title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1033</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;SimpleLogger creates unnecessary Map objects by calling ThreadContext.getContext() instead of getImmutableContext() each time logMessage is called and &apos;show context map&apos; is enabled.&lt;/p&gt;

&lt;p&gt;Reported on the ML by Mikael St&#229;ldal.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T09:29:23-08:00)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.2.5&lt;br/&gt;
Java version: 1.7.0_79, vendor: Oracle Corporation&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.7.0_79\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12833619">LOG4J2-1033</key>
            <summary>SimpleLogger creates unnecessary Map objects by calling ThreadContext.getContext() instead of getImmutableContext() </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 May 2015 00:09:14 +0000</created>
                <updated>Mon, 1 Jun 2015 19:35:58 +0000</updated>
                            <resolved>Fri, 29 May 2015 00:14:00 +0000</resolved>
                                    <version>2.3</version>
                                    <fixVersion>2.4</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14563959" author="garydgregory" created="Fri, 29 May 2015 00:14:00 +0000"  >&lt;p&gt;In git master. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="14564378" author="mikaelstaldal" created="Fri, 29 May 2015 07:59:28 +0000"  >&lt;p&gt;Your fix looks good. I do not have permission to close this issue in JIRA since I did not create it.&lt;/p&gt;</comment>
                            <comment id="14564967" author="garydgregory" created="Fri, 29 May 2015 15:23:29 +0000"  >&lt;p&gt;Verified by user. Ackd on the ML. Closing. &lt;/p&gt;</comment>
                            <comment id="14564986" author="mikaelstaldal" created="Fri, 29 May 2015 15:47:58 +0000"  >&lt;p&gt;Now when this is fixed, what is the actual purpose for ThreadContextMap.getCopy() and ThreadContext.getContext()?&lt;/p&gt;

&lt;p&gt;It seems like the only usage is in org.apache.logging.slf4j.Log4jMDCAdapter.&lt;/p&gt;</comment>
                            <comment id="14565446" author="garydgregory" created="Fri, 29 May 2015 21:26:29 +0000"  >&lt;p&gt;I can&apos;t recall of the top of my head. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralphgoers&quot; class=&quot;user-hover&quot; rel=&quot;ralphgoers&quot;&gt;ralphgoers&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;We can&apos;t take &apos;em out in 2.x if you&apos;re wondering...&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="14567554" author="mikaelstaldal" created="Mon, 1 Jun 2015 16:44:17 +0000"  >&lt;p&gt;I am working on an alternative to ThreadContextMap which is not bound to a thread. I guess I don&apos;t need to provide anything like getCopy() there?&lt;/p&gt;</comment>
                            <comment id="14567629" author="garydgregory" created="Mon, 1 Jun 2015 17:43:21 +0000"  >&lt;p&gt;Don&apos;t know off the top of my head. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralphgoers&quot; class=&quot;user-hover&quot; rel=&quot;ralphgoers&quot;&gt;ralphgoers&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=remkop%40yahoo.com&quot; class=&quot;user-hover&quot; rel=&quot;remkop@yahoo.com&quot;&gt;remkop@yahoo.com&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14567859" author="remkop@yahoo.com" created="Mon, 1 Jun 2015 19:35:58 +0000"  >&lt;p&gt;The API of ThreasContextMap in the log4j-api module cannot be changed. If you are proposing a similar class in a different namespace (so an addition to, not a replacement of ThreadContextMap), then it would not need to have the same api as ThreadContextMap. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fcov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>