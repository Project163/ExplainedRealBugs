<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:36:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-997] removeFilter() in AbstractFilterable does not remove filter</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-997</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Add two filters to a class that implements AbstractFilterable. Try to remove one of the two filters; nothing is removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821786">LOG4J2-997</key>
            <summary>removeFilter() in AbstractFilterable does not remove filter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="mchinavan">Maytee Chinavanichkit</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Apr 2015 07:11:07 +0000</created>
                <updated>Sun, 31 Jul 2016 07:53:43 +0000</updated>
                            <resolved>Fri, 3 Jun 2016 06:43:13 +0000</resolved>
                                    <version>2.2</version>
                                    <fixVersion>2.6.1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14499403" author="garydgregory" created="Fri, 17 Apr 2015 07:36:31 +0000"  >&lt;p&gt;Are you able to provide a unit test with a patch?&lt;/p&gt;</comment>
                            <comment id="14499481" author="mchinavan" created="Fri, 17 Apr 2015 08:40:22 +0000"  >&lt;p&gt;Yes! I have a patch and unit test for this. I will put up a pull request soon.&lt;/p&gt;</comment>
                            <comment id="14506473" author="githubbot" created="Wed, 22 Apr 2015 05:48:43 +0000"  >&lt;p&gt;GitHub user mayt opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/11&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-997&quot; title=&quot;removeFilter() in AbstractFilterable does not remove filter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-997&quot;&gt;&lt;del&gt;LOG4J2-997&lt;/del&gt;&lt;/a&gt;: Fix addFilter() and removeFilter() in AbstractFilterable.class&lt;/p&gt;

&lt;p&gt;    Accessing the filter after addition/removal should follow the following logic:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;If there are no Filter, return null&lt;/li&gt;
	&lt;li&gt;If there is one Filter, return the Filter&lt;/li&gt;
	&lt;li&gt;If there are more than one Filters, return a CompositeFilter of the Filters&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mayt/logging-log4j2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mayt/logging-log4j2&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-997&quot; title=&quot;removeFilter() in AbstractFilterable does not remove filter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-997&quot;&gt;&lt;del&gt;LOG4J2-997&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/11.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/11.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #11&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 01dcbe7fbde3e1e69881c07123c1f151a9401346&lt;br/&gt;
Author: Maytee Chinavanichkit &amp;lt;mchinavan@quantcast.com&amp;gt;&lt;br/&gt;
Date:   2015-04-10T06:12:02Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-997&quot; title=&quot;removeFilter() in AbstractFilterable does not remove filter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-997&quot;&gt;&lt;del&gt;LOG4J2-997&lt;/del&gt;&lt;/a&gt;: Fix addFilter() and removeFilter() in AbstractFilterable.class&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14507535" author="garydgregory" created="Wed, 22 Apr 2015 17:47:13 +0000"  >&lt;p&gt;The new unit test file is missing the ASL header. Can you add it please?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/* Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *	 http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14510482" author="garydgregory" created="Fri, 24 Apr 2015 05:30:37 +0000"  >&lt;p&gt;I&apos;m note quite sure what to make of this proposed change. Yes, there are problems in filters now.&lt;/p&gt;

&lt;p&gt;If you just apply the patch for the new test class only and run it, we do have at least this problem:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.ClassCastException: org.apache.logging.log4j.core.filter.ThresholdFilter cannot be cast to org.apache.logging.log4j.core.filter.CompositeFilter
	at org.apache.logging.log4j.core.filter.AbstractFilterable.addFilter(AbstractFilterable.java:62)
	at org.apache.logging.log4j.core.filter.AbstractFilterableTest.testAddSimpleFilterAndCompositeFilter(AbstractFilterableTest.java:161)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which is obvious if you look at:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void addFilter(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Filter filter) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.filter == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.filter = filter;
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (filter &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; CompositeFilter) {
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.filter = ((CompositeFilter) &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.filter).addFilter(filter);
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Filter[] filters = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Filter[] {&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.filter, filter};
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.filter = CompositeFilter.createFilters(filters);
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and walk through adding a plain filter followed by a composite filter. So that needs to be fixed by adding the missing &lt;tt&gt;this.&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;When I look at all the new tests, I wonder what the original goal was for composite filters beyond a list.&lt;/p&gt;

&lt;p&gt;Would it be simpler for AbstractFilterable to hold on to a CompositeFilter?&lt;/p&gt;

&lt;p&gt;Anyway, I probably should not have looked at this now, late at night... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14510580" author="mchinavan" created="Fri, 24 Apr 2015 07:03:24 +0000"  >&lt;p&gt;Initially I had a patch with just adding the &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;. Then I realized that you can add in CompositeFilter objects and that added a bunch of edge cases with the current code.&lt;/p&gt;

&lt;p&gt;Yes this would make it simpler. I have this coded up and can post it in a bit. &lt;/p&gt;

&lt;p&gt;Thanks for taking your time to look at this!!&lt;/p&gt;</comment>
                            <comment id="14518746" author="mchinavan" created="Wed, 29 Apr 2015 05:07:59 +0000"  >&lt;p&gt;The change has been updated.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/11&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14518836" author="garydgregory" created="Wed, 29 Apr 2015 06:39:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mchinavan&quot; class=&quot;user-hover&quot; rel=&quot;mchinavan&quot;&gt;mchinavan&lt;/a&gt;: Thank you for submitting another patch! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralph.goers%40dslextreme.com&quot; class=&quot;user-hover&quot; rel=&quot;ralph.goers@dslextreme.com&quot;&gt;ralph.goers@dslextreme.com&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=remkop%40yahoo.com&quot; class=&quot;user-hover&quot; rel=&quot;remkop@yahoo.com&quot;&gt;remkop@yahoo.com&lt;/a&gt;, and all: Looking at the implementation for these fixes and at the class itself, it feels that we did not get the API right for the &lt;tt&gt;AbstractFilterable&lt;/tt&gt; class. The gymnastics we do depending on whether the class has a single filter or a composite filter does not smell right to me.&lt;/p&gt;

&lt;p&gt;If the API has an &lt;tt&gt;addFilter()&lt;/tt&gt; method, I expect to be able to get a list of all the filters I added, even if it is a list of one. Having a &lt;tt&gt;Filter getFilter()&lt;/tt&gt; method fells like it is completely at odds with an &lt;tt&gt;addFilter()&lt;/tt&gt; method.&lt;/p&gt;

&lt;p&gt;In my mind, we should just have the pair of methods &lt;tt&gt;addFilter()&lt;/tt&gt; and &lt;tt&gt;List&amp;lt;Filter&amp;gt; getFilters()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="14521032" author="mchinavan" created="Thu, 30 Apr 2015 07:09:26 +0000"  >&lt;p&gt;I agree with you, &lt;tt&gt;addFilter()&lt;/tt&gt; and &lt;tt&gt;List&amp;lt;Filter&amp;gt; getFilters()&lt;/tt&gt; should come as a pair. However the root of the problem is actually in the &lt;a href=&quot;https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/filter/Filterable.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Filterable.class&lt;/a&gt; which I am reluctant to change as it will lead to breaking changes.&lt;/p&gt;</comment>
                            <comment id="14521097" author="garydgregory" created="Thu, 30 Apr 2015 08:06:52 +0000"  >&lt;p&gt;Maybe it should be &lt;tt&gt;CompositeFilter getFilter()&lt;/tt&gt; instead of &lt;tt&gt;List&amp;lt;Filter&amp;gt; getFilters()&lt;/tt&gt; so the call sites can call &lt;tt&gt;filter()&lt;/tt&gt; instead of having to iterate on the &lt;tt&gt;List&lt;/tt&gt; to filter.&lt;/p&gt;</comment>
                            <comment id="14521155" author="ralph.goers@dslextreme.com" created="Thu, 30 Apr 2015 08:54:13 +0000"  >&lt;p&gt;Although the API may not feel correct, IMO the consequences of making a change now are too great to allow it as I am sure users have created custom filters that would break with such a change.  Instead of digressing into something else can we just focus on fixing the reported problem?&lt;/p&gt;</comment>
                            <comment id="14521175" author="garydgregory" created="Thu, 30 Apr 2015 09:05:34 +0000"  >&lt;p&gt;At this, point I would love to RERO and get 2.3 out the door, so we can ponder this some more. If someone wants to fiddle with fixing this now for 2.3 and commit within the current API, I certainly will not complain! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;We can always revisit after 2.3. The instance checks for CompositeFilter that are scattered throughout is not a good code smell.&lt;/p&gt;

&lt;p&gt;Even if there are tons of custom filters, only callers of &lt;tt&gt;getFilter()&lt;/tt&gt; &lt;em&gt;might&lt;/em&gt; be affected. We could leave &lt;tt&gt;getFilter()&lt;/tt&gt; in place and &lt;em&gt;add&lt;/em&gt; &lt;tt&gt;getFilters()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;How would fixing the API by adding &lt;tt&gt;getFilters()&lt;/tt&gt; break custom filters?&lt;/p&gt;

&lt;p&gt;It&apos;s very late in the PST, I might not be thinking straight...&lt;/p&gt;
</comment>
                            <comment id="14521230" author="ralph.goers@dslextreme.com" created="Thu, 30 Apr 2015 09:49:29 +0000"  >&lt;p&gt;What would happen when getFilters() is called on someone&apos;s custom filter?   NoSuchMethodError.&lt;/p&gt;</comment>
                            <comment id="14521679" author="garydgregory" created="Thu, 30 Apr 2015 15:42:25 +0000"  >&lt;p&gt;True, unless the class extends &lt;tt&gt;AbstractFilterable&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;If we really want to clean this up and we are that worried about BC for filters in the core module, then we can go the &lt;tt&gt;Filterable2 extends Filterable&lt;/tt&gt; route.&lt;/p&gt;

&lt;p&gt;I&apos;m more adventurous &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I suppose. My path would be, release 2.3 (with or without a fix), POLL the user and dev list, review.&lt;/p&gt;</comment>
                            <comment id="14521683" author="ralph.goers@dslextreme.com" created="Thu, 30 Apr 2015 15:45:10 +0000"  >&lt;p&gt;Just to be clear, this is not a blocker to a release.&lt;/p&gt;</comment>
                            <comment id="14521758" author="garydgregory" created="Thu, 30 Apr 2015 16:23:49 +0000"  >&lt;p&gt;Right, I think the reported marked this as &quot;Major&quot; but pushing it to &amp;gt; 2.3 is OK with me. There is plenty in changes.xml to justify a 2.3 ASAP IMO.&lt;/p&gt;

&lt;p&gt;Personally, I&apos;d rather fix it right than fix it twice. But that&apos;s just me, YMMV.&lt;/p&gt;</comment>
                            <comment id="14539316" author="mchinavan" created="Tue, 12 May 2015 06:03:22 +0000"  >&lt;p&gt;Do we have a resolution? Personally I want this to be fixed right, but as the right solution will likely be a breaking change, I am certain this will allude to more push backs. From the users&apos; perspective, I rather have the feature working now than wait.&lt;/p&gt;</comment>
                            <comment id="14580154" author="garydgregory" created="Wed, 10 Jun 2015 07:21:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralphgoers&quot; class=&quot;user-hover&quot; rel=&quot;ralphgoers&quot;&gt;ralphgoers&lt;/a&gt;: Are you OK with the proposed patch?&lt;/p&gt;</comment>
                            <comment id="15313722" author="ralph.goers@dslextreme.com" created="Fri, 3 Jun 2016 06:28:21 +0000"  >&lt;p&gt;I am finally reviewing the patch. I&apos;m not OK with it. I do not like 1) This patch goes way beyond what the problem statement is (not being able to remove a filter, 2) a Filterable always has a CompositeFilter, and 3) adding 2 composite filters actually results in 2 composite filters.&lt;/p&gt;

&lt;p&gt;The way filtering is supposed to work is that you either have no filters, a filter, or a single composite filter containing multiple individual filters. While you can add a composite to a composite or two composites to AbstractFilterable programmatically, it is impossible to do from configuration. &lt;/p&gt;

&lt;p&gt;I will modify CompositeFilter so that if another CompositeFilter is being added all the individual filters will be added so there will still only be one CompositeFilter.&lt;/p&gt;

&lt;p&gt;The basic root of the problem was that addFilter and removeFilter were testing the passed in filter to see if it is a CompositeFilter when it should have been checking this.filter.&lt;/p&gt;</comment>
                            <comment id="15313742" author="ralph.goers@dslextreme.com" created="Fri, 3 Jun 2016 06:43:13 +0000"  >&lt;p&gt;Fixed in master. Although I didn&apos;t use the patch to AbstractFilterable I did use the test class you created, after some modifications, so you are still getting credit for the fix.&lt;/p&gt;

&lt;p&gt;Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15315837" author="mchinavan" created="Sun, 5 Jun 2016 10:36:43 +0000"  >&lt;p&gt;The change LGTM. Thanks for getting the fix in!&lt;/p&gt;</comment>
                            <comment id="15401034" author="githubbot" created="Sun, 31 Jul 2016 07:53:18 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/11&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15401035" author="githubbot" created="Sun, 31 Jul 2016 07:53:43 +0000"  >&lt;p&gt;Github user remkop commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/11&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LOG4J2-997&lt;/a&gt; Has been addressed some time ago, closing this PR.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2de0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>