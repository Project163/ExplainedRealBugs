<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:39:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-2276] ConcurrentModificationException from org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:71)</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-2276</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Looks like the class constructor in StatusLogger has an issue.&lt;/p&gt;

&lt;p&gt;Caused by: java.util.ConcurrentModificationException&lt;/p&gt;

&lt;p&gt;at java.util.Hashtable$Enumerator.next(Hashtable.java:1383)&lt;br/&gt;
 at org.apache.logging.log4j.util.SystemPropertiesPropertySource.forEach(SystemPropertiesPropertySource.java:38)&lt;br/&gt;
 at org.apache.logging.log4j.util.PropertiesUtil$Environment.reload(PropertiesUtil.java:330)&lt;br/&gt;
 at org.apache.logging.log4j.util.PropertiesUtil$Environment.&amp;lt;init&amp;gt;(PropertiesUtil.java:322)&lt;br/&gt;
 at org.apache.logging.log4j.util.PropertiesUtil$Environment.&amp;lt;init&amp;gt;(PropertiesUtil.java:310)&lt;br/&gt;
 at org.apache.logging.log4j.util.PropertiesUtil.&amp;lt;init&amp;gt;(PropertiesUtil.java:69)&lt;br/&gt;
 at org.apache.logging.log4j.status.StatusLogger.&amp;lt;clinit&amp;gt;(StatusLogger.java:71)&lt;br/&gt;
 ... 18 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;Server version: Apache Tomcat/8.5.23&lt;br/&gt;
Server built: Sep 28 2017 10:30:11 UTC&lt;/p&gt;

&lt;p&gt;OS Name: Windows Server 2008 R2&lt;br/&gt;
Architecture: amd64&lt;/p&gt;

&lt;p&gt;JVM Version: 1.8.0_151-b12&lt;br/&gt;
JVM Vendor: Oracle Corporation&lt;/p&gt;

&lt;p&gt;JAR:&lt;br/&gt;
log4j-api-2.10.0.jar&lt;/p&gt;</environment>
        <key id="13141615">LOG4J2-2276</key>
            <summary>ConcurrentModificationException from org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:71)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="nagash">Sean Baxter</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Feb 2018 19:23:04 +0000</created>
                <updated>Mon, 5 Mar 2018 16:50:52 +0000</updated>
                            <resolved>Thu, 1 Mar 2018 00:24:00 +0000</resolved>
                                    <version>2.10.0</version>
                                    <fixVersion>2.11.0</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16380898" author="nagash" created="Wed, 28 Feb 2018 19:25:20 +0000"  >&lt;p&gt;Apologies in advance if something looks off about this bug report.&#160; It is my first time filing a bug here.&lt;/p&gt;</comment>
                            <comment id="16381193" author="remkop@yahoo.com" created="Wed, 28 Feb 2018 23:07:24 +0000"  >&lt;p&gt;What are the steps to reproduce this problem? If you can provide a failing unit test that would be great. &lt;/p&gt;</comment>
                            <comment id="16381213" author="garydgregory" created="Wed, 28 Feb 2018 23:21:54 +0000"  >&lt;p&gt;I&apos;ve seen this before in a different context at work. I&apos;ll fix ASAP...&lt;/p&gt;</comment>
                            <comment id="16381297" author="jira-bot" created="Thu, 1 Mar 2018 00:21:15 +0000"  >&lt;p&gt;Commit a07176b6a96eb062a92b6fd167332ea2bb22fbf4 in logging-log4j2&apos;s branch refs/heads/release-2.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=a07176b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=a07176b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2276&quot; title=&quot;ConcurrentModificationException from org.apache.logging.log4j.status.StatusLogger.&amp;lt;clinit&amp;gt;(StatusLogger.java:71)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2276&quot;&gt;&lt;del&gt;LOG4J2-2276&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException from&lt;br/&gt;
org.apache.logging.log4j.status.StatusLogger.&amp;lt;clinit&amp;gt;(StatusLogger.java:71).&lt;/p&gt;</comment>
                            <comment id="16381299" author="jira-bot" created="Thu, 1 Mar 2018 00:23:03 +0000"  >&lt;p&gt;Commit 5b9957b926314a08af6944da15fc7ef73de3ed06 in logging-log4j2&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=5b9957b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=5b9957b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-2276&quot; title=&quot;ConcurrentModificationException from org.apache.logging.log4j.status.StatusLogger.&amp;lt;clinit&amp;gt;(StatusLogger.java:71)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-2276&quot;&gt;&lt;del&gt;LOG4J2-2276&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException from&lt;br/&gt;
org.apache.logging.log4j.status.StatusLogger.&amp;lt;clinit&amp;gt;(StatusLogger.java:71).&lt;/p&gt;</comment>
                            <comment id="16381300" author="garydgregory" created="Thu, 1 Mar 2018 00:24:00 +0000"  >&lt;p&gt;Fixed in git&#160;the branches:&#160;&lt;tt&gt;master&lt;/tt&gt; and &lt;tt&gt;release-2.x&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Please verify and close this ticket.&lt;/p&gt;</comment>
                            <comment id="16382466" author="nagash" created="Thu, 1 Mar 2018 19:03:18 +0000"  >&lt;p&gt;Gary,&lt;/p&gt;

&lt;p&gt;I&apos;m in the process of getting the fix, and testing it out.&#160; Please standby.&lt;/p&gt;

&lt;p&gt;-Sean&lt;/p&gt;</comment>
                            <comment id="16383735" author="nagash" created="Fri, 2 Mar 2018 15:57:26 +0000"  >&lt;p&gt;&#160; Gary et al,&lt;/p&gt;

&lt;p&gt;Source has been built and is in testing.&lt;/p&gt;

&lt;p&gt;-Sean&lt;/p&gt;</comment>
                            <comment id="16383756" author="garydgregory" created="Fri, 2 Mar 2018 16:06:39 +0000"  >&lt;p&gt;Is it going &quot;click hop click hop&quot;? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16384047" author="nagash" created="Fri, 2 Mar 2018 19:43:02 +0000"  >&lt;p&gt;&#160; Gary,&lt;br/&gt;
As it turns out, what I had originally built was pulled from the wrong branch.&#160; I had accidentally pulled the 2.10 branch instead of master or 2.x.&lt;/p&gt;

&lt;p&gt;I am running into a build failure in maven when it issues the following test:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.141 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderLocationTest&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testMemMapLocation(org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderLocationTest)&#160; Time elapsed: 1.141 s&#160; &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: Shrunk to actual used size expected:&amp;lt;478&amp;gt; but was:&amp;lt;32768&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderLocationTest.testMemMapLocation(MemoryMappedFileAppenderLocationTest.java:75)&lt;/p&gt;

&lt;p&gt;Maven appears to hang after producing one more line:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Running org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderRemapTest&lt;/p&gt;

&lt;p&gt;I&apos;m not exactly sure how that exception was thrown.&#160; Still working through it.&lt;/p&gt;

&lt;p&gt;-Sean&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16386241" author="nagash" created="Mon, 5 Mar 2018 15:50:04 +0000"  >&lt;p&gt;&#160; Gary,&lt;br/&gt;
I was able to get past the build problems.&#160; The problem appears addressed after testing out the new api jar.&lt;/p&gt;

&lt;p&gt;-Sean&lt;/p&gt;</comment>
                            <comment id="16386333" author="garydgregory" created="Mon, 5 Mar 2018 16:50:52 +0000"  >&lt;p&gt;Closing per Sean&apos;s comment.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qpon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>