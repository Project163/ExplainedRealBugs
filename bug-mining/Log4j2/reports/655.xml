<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:35:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-381] Changes in SizeBasedTriggeringPolicy has no effects when automatic reconfiguration is on.</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-381</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;My config is very simple:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;configuration xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&apos;&lt;/span&gt; strict=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; monitorInterval=&lt;span class=&quot;code-quote&quot;&gt;&quot;5&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;  &amp;lt;appenders&amp;gt;
    &amp;lt;appender type=&lt;span class=&quot;code-quote&quot;&gt;&quot;console&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;CONSOLE&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;layout type=&lt;span class=&quot;code-quote&quot;&gt;&quot;PatternLayout&quot;&lt;/span&gt; pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;%5p %10c %C{1}(%L) - %m%n&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;/appender&amp;gt;
    &amp;lt;appender name=&lt;span class=&quot;code-quote&quot;&gt;&quot;BOOT&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;rollingfile&quot;&lt;/span&gt; fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;boot.log&quot;&lt;/span&gt; filePattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;boot-%i.log&quot;&lt;/span&gt; append=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;layout type=&lt;span class=&quot;code-quote&quot;&gt;&quot;PatternLayout&quot;&lt;/span&gt; pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;%5p %10c %C{1}(%L) - %m %ex%n&quot;&lt;/span&gt;/&amp;gt;
      &amp;lt;SizeBasedTriggeringPolicy size=&lt;span class=&quot;code-quote&quot;&gt;&quot;1 kb&quot;&lt;/span&gt; /&amp;gt;
      &amp;lt;DefaultRolloverStrategy /&amp;gt;
    &amp;lt;/appender&amp;gt;
  &amp;lt;/appenders&amp;gt;
  &amp;lt;loggers&amp;gt;
    &amp;lt;root level=&lt;span class=&quot;code-quote&quot;&gt;&quot;all&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;appender-ref ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;CONSOLE&quot;&lt;/span&gt;/&amp;gt;
      &amp;lt;appender-ref ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;BOOT&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;/root&amp;gt;
  &amp;lt;/loggers&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is because when you create a RollingFileAppender again it uses the previously created RollingFileManager obtained from MAP (AbstractManager (69)). But in my case, the name is already exists, so appropriate manager already been created. But &quot;data&quot; parameter are not the same when manager was created at first time. It contains new value of policy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12666624">LOG4J2-381</key>
            <summary>Changes in SizeBasedTriggeringPolicy has no effects when automatic reconfiguration is on.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="mailer67">Alexander Khokhlov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Sep 2013 21:23:54 +0000</created>
                <updated>Sat, 18 Apr 2020 05:11:41 +0000</updated>
                            <resolved>Sun, 22 Nov 2015 05:50:32 +0000</resolved>
                                    <version>2.2</version>
                    <version>2.3</version>
                                    <fixVersion>2.5</fixVersion>
                                    <component>Appenders</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13756259" author="ralph.goers@dslextreme.com" created="Mon, 2 Sep 2013 23:05:21 +0000"  >&lt;p&gt;This is true because the RollingFileManager is trying to avoid having multiple streams open for the same file (see the Javadoc for java.io.FileOutputStream) so it only uses the file name as the manager&apos;s key. The existing RollingFileManager can&apos;t be updated as it is designed to be immutable. &lt;/p&gt;

&lt;p&gt;Note that this same situation will occur if you configure two RollingFileAppenders int the same configuration that point to the same file or if two web applications are running in Tomcat and share a configuration.  You will end up with a single RollingFileManager that is shared by all appender instances.&lt;/p&gt;

&lt;p&gt;At the moment, the only way to reconfigure the manager would be to remove the appender (or change its file name), reconfigure, and then add it back with the new definition. &lt;/p&gt;</comment>
                            <comment id="14146942" author="abaldocchi" created="Wed, 24 Sep 2014 21:56:44 +0000"  >&lt;p&gt;Attached patch resolves the issue for me.&lt;/p&gt;</comment>
                            <comment id="14960539" author="mailer67" created="Fri, 16 Oct 2015 11:32:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralph.goers%40dslextreme.com&quot; class=&quot;user-hover&quot; rel=&quot;ralph.goers@dslextreme.com&quot;&gt;ralph.goers@dslextreme.com&lt;/a&gt;, do you have plans to apply patch provided by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abaldocchi&quot; class=&quot;user-hover&quot; rel=&quot;abaldocchi&quot;&gt;abaldocchi&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15020856" author="ralph.goers@dslextreme.com" created="Sun, 22 Nov 2015 05:50:32 +0000"  >&lt;p&gt;This has been committed to master. Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12849704">LOG4J2-1087</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13281358">LOG4J2-2766</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12671061" name="LOG4J2-381.patch" size="5369" author="abaldocchi" created="Wed, 24 Sep 2014 21:56:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nrf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>