<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:37:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1723] Unwanted transitive dependency on geronimo-jms_1.1_spec causes OSGi tests to fail</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1723</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;The change from maven-bundle-plugin:2.5.3 to 3.2.0, as part of the study of &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1637&quot; title=&quot;OSGi support is broken in Log4j2 2.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1637&quot;&gt;&lt;del&gt;LOG4J2-1637&lt;/del&gt;&lt;/a&gt;, caused the dependency on package javax.jms to become non optional which made the OSGi tests to fails. Post &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1637&quot; title=&quot;OSGi support is broken in Log4j2 2.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1637&quot;&gt;&lt;del&gt;LOG4J2-1637&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1664&quot; title=&quot;Improve OSGi unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1664&quot;&gt;&lt;del&gt;LOG4J2-1664&lt;/del&gt;&lt;/a&gt; was created to improve the OSGi tests and this problem was &quot;offloaded&quot; to it. Since this problem does not originate in the OSGi tests, I&apos;m creating a new issue for it.&lt;/p&gt;

&lt;p&gt;Since this appeared with a change of maven-bundle-plugin, I had a look into how it processed optional dependencies since it was apparently not handling the optional declaration of jboss-jms-api_1.1_spec. As it happened it did add the javax.jms package from that dependency to the list of optional packages, but at the same time it was adding the same package to the list of required packages. Further checks showed that it was picking up the required package from geronimo-jms_1.1_spec which is a transitive dependency of activemq-broker (shown with dependency:tree). Since the JMS specifications are already included with jboss-jms-api_1.1_spec, the  geronimo-jms_1.1_spec should be excluded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025424">LOG4J2-1723</key>
            <summary>Unwanted transitive dependency on geronimo-jms_1.1_spec causes OSGi tests to fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="lhochet">Ludovic HOCHET</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Dec 2016 16:39:13 +0000</created>
                <updated>Sun, 4 Dec 2016 19:14:45 +0000</updated>
                            <resolved>Sun, 4 Dec 2016 18:19:35 +0000</resolved>
                                    <version>2.7</version>
                                    <fixVersion>2.8</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15720230" author="lhochet" created="Sun, 4 Dec 2016 16:41:02 +0000"  >&lt;p&gt;patch excluding  geronimo-jms_1.1_spec&lt;/p&gt;</comment>
                            <comment id="15720323" author="garydgregory" created="Sun, 4 Dec 2016 17:54:24 +0000"  >&lt;p&gt;Does this patch allow the tests in the OSGi module to pass for you? &lt;/p&gt;

&lt;p&gt;Your comment:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&quot;The change from maven-bundle-plugin:2.5.3 to 3.2.0, as part of the study of &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1637&quot; title=&quot;OSGi support is broken in Log4j2 2.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1637&quot;&gt;&lt;del&gt;LOG4J2-1637&lt;/del&gt;&lt;/a&gt;, caused the dependency on package javax.jms to become non optional which made the OSGi tests to fails.&quot; &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;seems to hint at it.&lt;/p&gt;

</comment>
                            <comment id="15720353" author="garydgregory" created="Sun, 4 Dec 2016 18:16:57 +0000"  >&lt;p&gt;Thank you Ludovic!&lt;/p&gt;

&lt;p&gt;All tests pass for me with &lt;tt&gt;mvn clean install&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Apache Log4j 2 ..................................... SUCCESS [  1.160 s]
[INFO] Apache Log4j API ................................... SUCCESS [ 17.925 s]
[INFO] Apache Log4j Core .................................. SUCCESS [16:56 min]
[INFO] Apache Log4j 1.x Compatibility API ................. SUCCESS [ 14.365 s]
[INFO] Apache Log4j SLF4J Binding ......................... SUCCESS [  8.240 s]
[INFO] Apache Log4j to SLF4J Adapter ...................... SUCCESS [  3.892 s]
[INFO] Apache Log4j Commons Logging Bridge ................ SUCCESS [  3.537 s]
[INFO] Apache Log4j Flume Bridge .......................... SUCCESS [ 22.287 s]
[INFO] Apache Log4j Web ................................... SUCCESS [  7.206 s]
[INFO] Apache Log4j Tag Library ........................... SUCCESS [ 15.286 s]
[INFO] Apache Log4j JMX GUI ............................... SUCCESS [  2.224 s]
[INFO] Apache Log4j Samples ............................... SUCCESS [  0.180 s]
[INFO] Apache Log4j Samples: Flume - Common ............... SUCCESS [  2.539 s]
[INFO] Apache Log4j Samples: Flume - Remote ............... SUCCESS [  3.142 s]
[INFO] Apache Log4j Samples: Flume - Embedded ............. SUCCESS [  4.704 s]
[INFO] Apache Log4j Samples: Configuration ................ SUCCESS [  3.682 s]
[INFO] Apache Log4j Samples: LoggerProperties ............. SUCCESS [  3.643 s]
[INFO] Apache Log4j Scala 2.11 wrapper for Log4j API ...... SUCCESS [ 24.312 s]
[INFO] Apache Log4j Samples: Scala API .................... SUCCESS [  3.983 s]
[INFO] Apache Log4j OSGi .................................. SUCCESS [  3.520 s]
[INFO] Apache Log4j BOM ................................... SUCCESS [  0.582 s]
[INFO] Apache Log4j NoSQL ................................. SUCCESS [  6.086 s]
[INFO] Apache Log4J Performance Tests ..................... SUCCESS [ 17.576 s]
[INFO] Apache Log4j Streaming Interface ................... SUCCESS [ 12.757 s]
[INFO] Apache Log4j JUL Adapter ........................... SUCCESS [ 10.721 s]
[INFO] Apache Log4j Liquibase Binding ..................... SUCCESS [  3.230 s]
[INFO] Apache Log4j Scala 2.10 wrapper for Log4j API ...... SUCCESS [ 26.637 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 20:42 min
[INFO] Finished at: 2016-12-04T10:15:57-08:00
[INFO] Final Memory: 50M/513M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15720357" author="garydgregory" created="Sun, 4 Dec 2016 18:19:36 +0000"  >&lt;p&gt;In Git master, please verify and close.&lt;/p&gt;</comment>
                            <comment id="15720430" author="lhochet" created="Sun, 4 Dec 2016 19:14:45 +0000"  >&lt;p&gt;verified&lt;br/&gt;
mvn clean&lt;br/&gt;
mvn install&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
Reactor Summary:&lt;/p&gt;

&lt;p&gt;Apache Log4j 2 ..................................... SUCCESS [  1.102 s]&lt;br/&gt;
Apache Log4j API ................................... SUCCESS [ 19.421 s]&lt;br/&gt;
Apache Log4j Core .................................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;15:46 min&amp;#93;&lt;/span&gt;&lt;br/&gt;
Apache Log4j 1.x Compatibility API ................. SUCCESS [ 12.923 s]&lt;br/&gt;
Apache Log4j SLF4J Binding ......................... SUCCESS [  6.055 s]&lt;br/&gt;
Apache Log4j to SLF4J Adapter ...................... SUCCESS [  3.348 s]&lt;br/&gt;
Apache Log4j Commons Logging Bridge ................ SUCCESS [  3.111 s]&lt;br/&gt;
Apache Log4j Flume Bridge .......................... SUCCESS [ 29.384 s]&lt;br/&gt;
Apache Log4j Web ................................... SUCCESS [  6.400 s]&lt;br/&gt;
Apache Log4j Tag Library ........................... SUCCESS [ 15.212 s]&lt;br/&gt;
Apache Log4j JMX GUI ............................... SUCCESS [  2.317 s]&lt;br/&gt;
Apache Log4j Samples ............................... SUCCESS [  0.204 s]&lt;br/&gt;
Apache Log4j Samples: Flume - Common ............... SUCCESS [  2.760 s]&lt;br/&gt;
Apache Log4j Samples: Flume - Remote ............... SUCCESS [  2.799 s]&lt;br/&gt;
Apache Log4j Samples: Flume - Embedded ............. SUCCESS [  5.022 s]&lt;br/&gt;
Apache Log4j Samples: Configuration ................ SUCCESS [  2.827 s]&lt;br/&gt;
Apache Log4j Samples: LoggerProperties ............. SUCCESS [  3.070 s]&lt;br/&gt;
Apache Log4j Scala 2.11 wrapper for Log4j API ...... SUCCESS [ 21.843 s]&lt;br/&gt;
Apache Log4j Samples: Scala API .................... SUCCESS [  4.503 s]&lt;br/&gt;
Apache Log4j OSGi .................................. SUCCESS [  3.665 s]&lt;br/&gt;
Apache Log4j BOM ................................... SUCCESS [  1.616 s]&lt;br/&gt;
Apache Log4j NoSQL ................................. SUCCESS [  4.950 s]&lt;br/&gt;
Apache Log4J Performance Tests ..................... SUCCESS [ 15.634 s]&lt;br/&gt;
Apache Log4j Streaming Interface ................... SUCCESS [ 10.460 s]&lt;br/&gt;
Apache Log4j JUL Adapter ........................... SUCCESS [ 10.397 s]&lt;br/&gt;
Apache Log4j Liquibase Binding ..................... SUCCESS [  2.818 s]&lt;br/&gt;
Apache Log4j Scala 2.10 wrapper for Log4j API ...... SUCCESS [ 24.011 s]&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
BUILD SUCCESS&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
Total time: 19:24 min&lt;br/&gt;
Finished at: 2016-12-04T20:11:55+01:00&lt;br/&gt;
Final Memory: 51M/468M&lt;br/&gt;
------------------------------------------------------------------------&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12841673" name="patch-log4j2-1723.diff" size="642" author="lhochet" created="Sun, 4 Dec 2016 16:41:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i374u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>