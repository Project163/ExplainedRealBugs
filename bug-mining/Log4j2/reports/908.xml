<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:37:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1530] LogEvent.getContextStack() can return null</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1530</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;From the &lt;tt&gt;LogEvent&lt;/tt&gt; interface:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    /**
     * Gets the context stack (also known as Nested Diagnostic Context or NDC).
     *
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; The context stack, never {@code &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}.
     */
    ThreadContext.ContextStack getContextStack();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This method does return &lt;tt&gt;null&lt;/tt&gt; if nothing is added to the context stack.&lt;/p&gt;

&lt;p&gt;A &lt;tt&gt;MutableLogEvent&lt;/tt&gt; is used, I suspect that it is not initialized correctly, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=remkop%40yahoo.com&quot; class=&quot;user-hover&quot; rel=&quot;remkop@yahoo.com&quot;&gt;remkop@yahoo.com&lt;/a&gt;?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12998192">LOG4J2-1530</key>
            <summary>LogEvent.getContextStack() can return null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikaelstaldal">Mikael St&#229;ldal</assignee>
                                    <reporter username="mikaelstaldal">Mikael St&#229;ldal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Aug 2016 13:09:56 +0000</created>
                <updated>Thu, 15 Sep 2016 09:48:45 +0000</updated>
                            <resolved>Tue, 6 Sep 2016 15:41:51 +0000</resolved>
                                    <version>2.6.2</version>
                                    <fixVersion>2.7</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15465019" author="mikaelstaldal" created="Mon, 5 Sep 2016 13:40:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=remkop%40yahoo.com&quot; class=&quot;user-hover&quot; rel=&quot;remkop@yahoo.com&quot;&gt;remkop@yahoo.com&lt;/a&gt; is this something you could fix?&lt;/p&gt;</comment>
                            <comment id="15465518" author="remkop@yahoo.com" created="Mon, 5 Sep 2016 18:10:22 +0000"  >&lt;p&gt;I won&apos;t be able to fix this in the next 16-24 hours though... Anyone else is welcome to take a stab at this.&lt;br/&gt;
How to reproduce the issue?&lt;/p&gt;</comment>
                            <comment id="15466746" author="mikaelstaldal" created="Tue, 6 Sep 2016 07:56:40 +0000"  >&lt;p&gt;Reproduce by using Log4j1XmlLayout or Log4j1NdcPatternConverter &lt;tt&gt;%ndc&lt;/tt&gt; in log4j-1.2-api.&lt;/p&gt;</comment>
                            <comment id="15467518" author="mikaelstaldal" created="Tue, 6 Sep 2016 14:19:11 +0000"  >&lt;p&gt;I have fixed it in branch &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1530&quot; title=&quot;LogEvent.getContextStack() can return null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1530&quot;&gt;&lt;del&gt;LOG4J2-1530&lt;/del&gt;&lt;/a&gt;, can you review &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=remkop%40yahoo.com&quot; class=&quot;user-hover&quot; rel=&quot;remkop@yahoo.com&quot;&gt;remkop@yahoo.com&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="15467534" author="remkop@yahoo.com" created="Tue, 6 Sep 2016 14:24:52 +0000"  >&lt;p&gt;I saw the commit mail and it looks fine.&lt;/p&gt;</comment>
                            <comment id="15467723" author="mikaelstaldal" created="Tue, 6 Sep 2016 15:41:51 +0000"  >&lt;p&gt;Fixed in master.&lt;/p&gt;</comment>
                            <comment id="15467878" author="mikaelstaldal" created="Tue, 6 Sep 2016 16:39:10 +0000"  >&lt;p&gt;Problem solved.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13003777">LOG4J2-1572</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32h1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>