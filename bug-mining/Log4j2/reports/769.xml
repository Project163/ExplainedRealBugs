<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:36:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1369] &quot;xz&quot; compression results in plaintext, uncompressed files.</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1369</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;&lt;em&gt;Note: see &lt;a href=&quot;https://stackoverflow.com/questions/36695617/enabling-lzma2-i-e-xz-compression-in-log4j2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;associated StackOverflow problem&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Currentstateofworld&quot;&gt;&lt;/a&gt;Current state of world&lt;/h2&gt;

&lt;p&gt;Currently our `RollingFileAppender` in `log4j2.xml` uses Gzip compression:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&amp;lt;RollingFile name=&lt;span class=&quot;code-quote&quot;&gt;&quot;RollingFile&quot;&lt;/span&gt;
             fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;logs/engine.log&quot;&lt;/span&gt;
             filePattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;logs/engine.log.%i.gz&quot;&lt;/span&gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h2&gt;&lt;a name=&quot;Goal&quot;&gt;&lt;/a&gt;Goal&lt;/h2&gt;

&lt;p&gt;I would like to switch to LZMA(2) (i.e. &lt;tt&gt;.xz&lt;/tt&gt;) compression, to enjoy an improved compression ratio.&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Attempt&quot;&gt;&lt;/a&gt;Attempt&lt;/h2&gt;

&lt;p&gt;I have tried changing &lt;tt&gt;engine.log.%i.gz&lt;/tt&gt; to &lt;tt&gt;engine.log.%i.xz&lt;/tt&gt; &#8212; as per &lt;a href=&quot;https://logging.apache.org/log4j/2.x/manual/appenders.html#DefaultRolloverStrategy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the documentation&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If the file pattern ends with &lt;tt&gt;.gz&lt;/tt&gt;, &lt;tt&gt;.zip&lt;/tt&gt;, &lt;tt&gt;.bz2&lt;/tt&gt;, &lt;tt&gt;.deflate&lt;/tt&gt;, &lt;tt&gt;.pack200&lt;/tt&gt;, or &lt;tt&gt;.xz&lt;/tt&gt; the resulting archive will be compressed using the compression scheme that matches the suffix. The formats bzip2, Deflate, Pack200 and XZ require Apache Commons Compress. In addition, XZ requires &lt;a href=&quot;http://tukaani.org/xz/java.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;XZ for Java&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Additionally I have ensured that I have a runtime dependency on &lt;a href=&quot;http://tukaani.org/xz/java.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;XZ for Java&lt;/a&gt; &#8212; via &lt;tt&gt;pom.xml&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- Support Log4j2 Log compression schemes: &lt;span class=&quot;code-quote&quot;&gt;&quot;.gz&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;.zip&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;.bz2&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;.deflate&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;.pack200&quot;&lt;/span&gt;, [&lt;span class=&quot;code-quote&quot;&gt;&quot;.xz&quot;&lt;/span&gt; (part 1 of 2)] --&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.commons&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;commons-compress&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.11&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- Support Log4j2 Log compression scheme [&lt;span class=&quot;code-quote&quot;&gt;&quot;.xz&quot;&lt;/span&gt; (part 2 of 2)] --&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.tukaani&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;xz&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.5&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h2&gt;&lt;a name=&quot;Result&quot;&gt;&lt;/a&gt;Result&lt;/h2&gt;

&lt;p&gt;When the RollingFileAppender is triggered: the archive created is indeed &lt;em&gt;named&lt;/em&gt; &lt;tt&gt;engines.log.1.xz&lt;/tt&gt; &#8212; as required.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;However&lt;/b&gt;, its contents are incorrect:&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;Expectation&quot;&gt;&lt;/a&gt;Expectation&lt;/h3&gt;

&lt;p&gt;&lt;tt&gt;engines.log.1.xz&lt;/tt&gt; should contain LZMA(2) compressed text&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;Actual&quot;&gt;&lt;/a&gt;Actual&lt;/h3&gt;

&lt;p&gt;&lt;tt&gt;engines.log.1.xz&lt;/tt&gt; instead contains plain, uncompressed text.&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Sanitychecks&quot;&gt;&lt;/a&gt;Sanity checks&lt;/h2&gt;

&lt;p&gt;I confirm that the &lt;tt&gt;org.tukaani:xz&lt;/tt&gt; and &lt;tt&gt;org.apache.commons:commons-compress&lt;/tt&gt; successfully made it into the classpath of my jar:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;&#127828; jar tf mycooljar.jar | grep tukaani
org/tukaani/
org/tukaani/xz/
...

&#127828; jar tf mycooljar.jar | grep org/apache/commons/compress
org/apache/commons/compress/
org/apache/commons/compress/changes/
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This Java program is not deployed to a J2EE webserver. I believe its class loading is straightforward.&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Summary&quot;&gt;&lt;/a&gt;Summary&lt;/h2&gt;

&lt;p&gt;I have correctly followed the instructions necessary to create &lt;tt&gt;.gz&lt;/tt&gt; archives.&lt;/p&gt;

&lt;p&gt;I believe the only additional step required to create &lt;tt&gt;.xz&lt;/tt&gt; archives is: I must provide at runtime the &lt;a href=&quot;http://tukaani.org/xz/java.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;XZ for Java&lt;/a&gt; artefact. I have done this.&lt;/p&gt;

&lt;p&gt;Am I missing something here? I am tempted to believe one of the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The functionality is broken&lt;/li&gt;
	&lt;li&gt;The docs are incomplete/incorrect&lt;/li&gt;
	&lt;li&gt;log4j2 fails to discover the class at runtime&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;&lt;a name=&quot;Leadssofar&quot;&gt;&lt;/a&gt;Leads so far&lt;/h2&gt;

&lt;p&gt;I was able to find &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;a=blob;f=log4j-core/src/main/java/org/apache/logging/log4j/core/appender/rolling/DefaultRolloverStrategy.java;h=e3b8ffe3c9a0cf83f4392c17786e8dc47f5046b5;hb=HEAD#l125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;some evidence&lt;/a&gt; that perhaps I am expected to input &lt;tt&gt;.xy&lt;/tt&gt; instead of &lt;tt&gt;.xz&lt;/tt&gt;. If I use &lt;tt&gt;.xy&lt;/tt&gt;: the log4j2 &lt;tt&gt;RollingAppender&lt;/tt&gt; fails to produce archives. That is: it creates blank &lt;tt&gt;.xy&lt;/tt&gt; files, and retains the unarchived plaintext as a &lt;tt&gt;.log&lt;/tt&gt; file. It smells like a buggy implementation.&lt;/p&gt;

&lt;p&gt;Here is the code I present as evidence from &lt;tt&gt;org.apache.logging.log4j.core.appender.rolling.DefaultRolloverStrategy&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;DefaultRolloverStrategy.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; FileExtensions {
    XY(&lt;span class=&quot;code-quote&quot;&gt;&quot;.xy&quot;&lt;/span&gt;) {
        @Override
        Action createCompressAction(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; renameTo, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; compressedName, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; deleteSource,
                 &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; compressionLevel) {
             &lt;span class=&quot;code-comment&quot;&gt;// One of &lt;span class=&quot;code-quote&quot;&gt;&quot;gz&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bzip2&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;xz&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pack200&quot;&lt;/span&gt;, or &lt;span class=&quot;code-quote&quot;&gt;&quot;deflate&quot;&lt;/span&gt;.
&lt;/span&gt;             &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommonsCompressAction(&lt;span class=&quot;code-quote&quot;&gt;&quot;xy&quot;&lt;/span&gt;, source(renameTo), target(compressedName), deleteSource);
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Java SE 1.7&lt;/p&gt;</environment>
        <key id="12959686">LOG4J2-1369</key>
            <summary>&quot;xz&quot; compression results in plaintext, uncompressed files.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="billforward.alex">Alex Birch</reporter>
                        <labels>
                            <label>trivial</label>
                    </labels>
                <created>Mon, 18 Apr 2016 16:05:16 +0000</created>
                <updated>Wed, 20 Apr 2016 11:16:44 +0000</updated>
                            <resolved>Mon, 18 Apr 2016 22:20:05 +0000</resolved>
                                    <version>2.5</version>
                                    <fixVersion>2.6</fixVersion>
                                    <component>Appenders</component>
                    <component>Core</component>
                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15245926" author="remkop@yahoo.com" created="Mon, 18 Apr 2016 16:19:07 +0000"  >&lt;p&gt;This looks almost like a typo: we wrote &quot;xy&quot; when we should have written &quot;xz&quot;. The Commons Compress library likely does not handle xy... &lt;/p&gt;

&lt;p&gt;Can you provide a patch?&lt;/p&gt;</comment>
                            <comment id="15245936" author="billforward.alex" created="Mon, 18 Apr 2016 16:23:43 +0000"  >&lt;p&gt;Are you suggesting just a change to:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;new CommonsCompressAction(&quot;xy&quot;, &#8230;&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15245940" author="billforward.alex" created="Mon, 18 Apr 2016 16:24:46 +0000"  >&lt;p&gt;I see that there are three occurrences of this:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;XY(&quot;.xy&quot;)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;new CommonsCompressAction(&quot;xy&quot;, &#8230;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Are we to assume that the mistake was made 3 times?&lt;/p&gt;</comment>
                            <comment id="15245943" author="billforward.alex" created="Mon, 18 Apr 2016 16:25:37 +0000"  >&lt;p&gt;Are there consumers who rely upon the name here:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;XY(&quot;.xy&quot;)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Or is this simply an example of &quot;enums used to enforce Singleton pattern&quot;?&lt;/p&gt;</comment>
                            <comment id="15245969" author="billforward.alex" created="Mon, 18 Apr 2016 16:39:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you provide a patch?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;For now our business is not blocked on this: we have compromised on bzip2 compression, which meets our immediate needs.&lt;br/&gt;
As a result I am unable to get time authorized to work on this.&lt;/p&gt;

&lt;p&gt;I agree that it seems like the fix is potentially trivial. But working out how to develop, validate, integrate against and submit patches to this project would take more time than I can justify to my employer.&lt;/p&gt;</comment>
                            <comment id="15246060" author="remkop@yahoo.com" created="Mon, 18 Apr 2016 17:27:15 +0000"  >&lt;p&gt;Yes, I suspect that simply passing the correct String to the Commons CompressAction will solve this issue. I also believe the same typo was made multiple times. I don&apos;t think renaming the XY enum value will cause any problems. &lt;/p&gt;</comment>
                            <comment id="15246068" author="billforward.alex" created="Mon, 18 Apr 2016 17:31:22 +0000"  >&lt;p&gt;Thanks for reviewing. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15246619" author="garydgregory" created="Mon, 18 Apr 2016 21:48:32 +0000"  >&lt;p&gt;Fixing...&lt;/p&gt;</comment>
                            <comment id="15246681" author="garydgregory" created="Mon, 18 Apr 2016 22:20:05 +0000"  >&lt;p&gt;Fixed in Git master. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15247505" author="billforward.alex" created="Tue, 19 Apr 2016 10:26:05 +0000"  >&lt;p&gt;Excellent! Thanks Gary. Is there a way I can point my Maven &lt;tt&gt;pom.xml&lt;/tt&gt; at the artefact produced by master?&lt;/p&gt;</comment>
                            <comment id="15247895" author="garydgregory" created="Tue, 19 Apr 2016 14:55:41 +0000"  >&lt;p&gt;You can try the SNAPSHOT repository: &lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15249648" author="billforward.alex" created="Wed, 20 Apr 2016 11:05:29 +0000"  >&lt;p&gt;I have failed to find any way to download artefacts from this repository.&lt;/p&gt;

&lt;p&gt;I have tried adding to my pom.xml:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;apache-snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Apache snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://repository.apache.org/content/groups/snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;releases&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;false&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;snapshots&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have also tried adding to my &lt;tt&gt;~/.m2/settings.xml&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;mirrors&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;mirror&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!--This sends everything else to /public --&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;nexus&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;mirrorOf&amp;gt;&lt;/span&gt;*,!apache-snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/mirrorOf&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://USUALMIRROR&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/mirror&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;mirror&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;apache-mirror&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Apache Mirror&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://repository.apache.org/content/groups/snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;mirrorOf&amp;gt;&lt;/span&gt;apache-snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/mirrorOf&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/mirror&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/mirrors&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;central&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://central&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;releases&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;snapshots&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;apache-snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Apache snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://repository.apache.org/content/groups/snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;releases&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;false&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;snapshots&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Again and again and again: every permutation that I try results in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//USUALMIRROR/org/apache/logging/log4j/log4j-bom/2.6-snapshot/log4j-bom-2.6-snapshot.pom
&lt;/span&gt;[ERROR] The build could not read 1 project -&amp;gt; [Help 1]
[ERROR]   
[ERROR]   The project billforce.billing:logging:0.0.1-SNAPSHOT (/Users/birch/git/core/logging/pom.xml) has 1 error
[ERROR]     Non-resolvable &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; POM: Could not find artifact org.apache.logging.log4j:log4j-bom:pom:2.6-snapshot in nexus (http:&lt;span class=&quot;code-comment&quot;&gt;//USUALMIRROR)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have no idea what is expected of me by Maven. It seems summarily uninterested in using any other mirror than my usual mirror, nor any other repository than Maven Central.&lt;/p&gt;

&lt;p&gt;Am I doing something wrong?&lt;br/&gt;
Is there any guidance at all on how to recruit Apache&apos;s snapshots?&lt;/p&gt;</comment>
                            <comment id="15249660" author="remkop@yahoo.com" created="Wed, 20 Apr 2016 11:16:44 +0000"  >&lt;p&gt;An alternative is to check out/download the project and build the binaries with &lt;br/&gt;
mvn clean install&lt;br/&gt;
(Or mvn -DskipTests clean install if you&apos;re in a hurry.)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://stackoverflow.com/questions/36695617/enabling-lzma2-i-e-xz-compression-in-log4j2]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2w9n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>