<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:38:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1820] Log4j 2.8 can lose exceptions when a security manager is present</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1820</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;When Log4j is rendering an exception, it can attempt to access a class loader that it does not have permissions to access when a security manager is present.&lt;/p&gt;

&lt;p&gt;I have a patch and a failing test case for this; I will submit it shortly.&lt;/p&gt;

&lt;p&gt;This is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1560&quot; title=&quot;Log4j can lose exceptions when a security manager is present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1560&quot;&gt;&lt;del&gt;LOG4J2-1560&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13044132">LOG4J2-1820</key>
            <summary>Log4j 2.8 can lose exceptions when a security manager is present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="jasontedor">Jason E Tedor</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Feb 2017 22:03:13 +0000</created>
                <updated>Thu, 2 Mar 2017 15:41:13 +0000</updated>
                            <resolved>Wed, 1 Mar 2017 21:00:15 +0000</resolved>
                                    <version>2.8</version>
                                    <fixVersion>2.8.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15872627" author="jasontedor" created="Fri, 17 Feb 2017 22:10:01 +0000"  >&lt;p&gt;Attached is a patch against master.&lt;/p&gt;</comment>
                            <comment id="15872628" author="jasontedor" created="Fri, 17 Feb 2017 22:10:07 +0000"  >&lt;p&gt;I also took this opportunity to simplify the test case that I submitted on &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1560&quot; title=&quot;Log4j can lose exceptions when a security manager is present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1560&quot;&gt;&lt;del&gt;LOG4J2-1560&lt;/del&gt;&lt;/a&gt; since the test case here is similar.&lt;/p&gt;</comment>
                            <comment id="15876283" author="jasontedor" created="Tue, 21 Feb 2017 16:56:48 +0000"  >&lt;p&gt;Would someone be able to take a look at this patch and offer feedback?&lt;/p&gt;</comment>
                            <comment id="15876449" author="remkop@yahoo.com" created="Tue, 21 Feb 2017 18:35:04 +0000"  >&lt;p&gt;Hi Jason, I&apos;m traveling and may not get around to looking at this for some time. Perhaps someone else in the community can take a look?&lt;/p&gt;</comment>
                            <comment id="15877130" author="garydgregory" created="Wed, 22 Feb 2017 00:56:57 +0000"  >&lt;p&gt;I&apos;ll try to take a look tonight, Does a full build pass? Like &apos;mvn clean install&apos;?&lt;/p&gt;</comment>
                            <comment id="15877396" author="jasontedor" created="Wed, 22 Feb 2017 03:30:13 +0000"  >&lt;p&gt;Yes.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] Reactor Summary:
[INFO] 
[INFO] Apache Log4j 2 ..................................... SUCCESS [  1.256 s]
[INFO] Apache Log4j API ................................... SUCCESS [ 10.826 s]
[INFO] Apache Log4j Core .................................. SUCCESS [13:58 min]
[INFO] Apache Log4j 1.x Compatibility API ................. SUCCESS [  5.580 s]
[INFO] Apache Log4j SLF4J Binding ......................... SUCCESS [  4.044 s]
[INFO] Apache Log4j to SLF4J Adapter ...................... SUCCESS [  2.160 s]
[INFO] Apache Log4j Commons Logging Bridge ................ SUCCESS [  1.900 s]
[INFO] Apache Log4j Flume Bridge .......................... SUCCESS [ 11.867 s]
[INFO] Apache Log4j Web ................................... SUCCESS [  4.118 s]
[INFO] Apache Log4j Tag Library ........................... SUCCESS [ 11.812 s]
[INFO] Apache Log4j JMX GUI ............................... SUCCESS [  0.971 s]
[INFO] Apache Log4j Samples ............................... SUCCESS [  0.217 s]
[INFO] Apache Log4j Samples: Flume - Common ............... SUCCESS [  1.184 s]
[INFO] Apache Log4j Samples: Flume - Remote ............... SUCCESS [  1.371 s]
[INFO] Apache Log4j Samples: Flume - Embedded ............. SUCCESS [  3.230 s]
[INFO] Apache Log4j Samples: Configuration ................ SUCCESS [  1.711 s]
[INFO] Apache Log4j Samples: LoggerProperties ............. SUCCESS [  1.866 s]
[INFO] Apache Log4j Scala 2.11 wrapper &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Log4j API ...... SUCCESS [ 17.806 s]
[INFO] Apache Log4j Samples: Scala API .................... SUCCESS [  2.478 s]
[INFO] Apache Log4j OSGi .................................. SUCCESS [  2.932 s]
[INFO] Apache Log4j BOM ................................... SUCCESS [  0.307 s]
[INFO] Apache Log4j NoSQL ................................. SUCCESS [ 18.406 s]
[INFO] Apache Log4J Performance Tests ..................... SUCCESS [ 16.956 s]
[INFO] Apache Log4j Streaming Interface ................... SUCCESS [  6.850 s]
[INFO] Apache Log4j JUL Adapter ........................... SUCCESS [  8.132 s]
[INFO] Apache Log4j Liquibase Binding ..................... SUCCESS [  1.904 s]
[INFO] Apache Log4j Scala 2.10 wrapper &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Log4j API ...... SUCCESS [ 19.711 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 16:38 min
[INFO] Finished at: 2017-02-21T22:29:15-05:00
[INFO] Final Memory: 56M/885M
[INFO] ------------------------------------------------------------------------
22:29:16 &#8962;92% [jason:~/src/apache/logging-log4j2] throwable-proxy-&lt;span class=&quot;code-keyword&quot;&gt;class-&lt;/span&gt;loader+* &#177; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15877426" author="garydgregory" created="Wed, 22 Feb 2017 03:52:54 +0000"  >&lt;p&gt;What about the other 31 call sites we have to &lt;tt&gt;Class.getClassLoader()&lt;/tt&gt;? Wouldn&apos;t these need special care as well? Should the try/catch be abstracted in a utility method? (I&apos;m not separating test from main in the 31 count, it&apos;s just what Eclipse reports.)&lt;/p&gt;</comment>
                            <comment id="15877437" author="jvz" created="Wed, 22 Feb 2017 04:07:07 +0000"  >&lt;p&gt;There&apos;s a check in LoaderUtil for the getClassLoader permission already. If you don&apos;t have that, then good luck running almost anything that isn&apos;t fully custom code.&lt;/p&gt;

&lt;p&gt;With the security check for getting a ClassLoader, the possibility of a ClassLoader being null (which indicates the root ClassLoader basically), and various other edge cases, it almost makes me think that this is a class that needs to be abstracted, though I think it&apos;d probably be overkill.&lt;/p&gt;</comment>
                            <comment id="15877454" author="jvz" created="Wed, 22 Feb 2017 04:29:47 +0000"  >&lt;p&gt;Ok, I looked into the JDK7 source code for more details since the javadocs didn&apos;t mention it. &lt;tt&gt;Class.forName(String)&lt;/tt&gt; does not do any security manager access checks at all. And technically, a getClassLoader permission check is only needed when the calling class&apos;s ClassLoader is not the same as or a parent of the target ClassLoader.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If a security manager is present, and the caller&apos;s class loader is not null and the caller&apos;s class loader is not the same as or an ancestor of the class loader for the class whose class loader is requested, then this method calls the security manager&apos;s checkPermission method with a RuntimePermission(&quot;getClassLoader&quot;) permission to ensure it&apos;s ok to access the class loader for the class.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In that case, you could fall back to the calling class&apos;s ClassLoader I suppose. Or a ClassLoader/Class.forName sort of abstraction (which could possibly help with OSGi and other exotic ClassLoader environments).&lt;/p&gt;</comment>
                            <comment id="15877457" author="garydgregory" created="Wed, 22 Feb 2017 04:32:15 +0000"  >&lt;p&gt;Hi All,&lt;/p&gt;

&lt;p&gt;It seems that we do not need to worry about cases like &lt;tt&gt;org.apache.logging.log4j.core.config.xml.XmlConfiguration.XmlConfiguration(LoggerContext, ConfigurationSource):152&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;But what about &lt;tt&gt;org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(String, ClassLoader, boolean, URI):74&lt;/tt&gt;, should that go through LoaderUtils or be in a try/catch?&lt;/p&gt;

&lt;p&gt;Could &lt;tt&gt;org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeJndi(String)&lt;/tt&gt; be trouble then?&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="15877459" author="garydgregory" created="Wed, 22 Feb 2017 04:34:03 +0000"  >&lt;p&gt;More generally, how can we parameterize the unit tests to run a second time (optionally I suppose) with a security manager? It seems like we need something more than a JUnit Rule.&lt;/p&gt;</comment>
                            <comment id="15877466" author="jvz" created="Wed, 22 Feb 2017 04:46:23 +0000"  >&lt;p&gt;The use of &lt;tt&gt;ClassLoader.getParent()&lt;/tt&gt; also requires a security check in ClassLoaderContextSelector.&lt;/p&gt;

&lt;p&gt;As for running tests with a custom SecurityManager, I think a basic TestRule parameter could be parameterized via @Params.&lt;/p&gt;</comment>
                            <comment id="15877473" author="jvz" created="Wed, 22 Feb 2017 04:55:24 +0000"  >&lt;p&gt;There appears to be a possibly useful method in &lt;tt&gt;Loader.getClassLoader(Class, Class)&lt;/tt&gt; that is commented with &quot;TODO: this method could use some explanation&quot;. Wrapping the &lt;tt&gt;Class.getClassLoader()&lt;/tt&gt; into that method will fall back on an accessible ClassLoader regardless.&lt;/p&gt;</comment>
                            <comment id="15879104" author="jasontedor" created="Wed, 22 Feb 2017 19:57:07 +0000"  >&lt;p&gt;I have seen no evidence that any of the other calls are problematic. Can we get this fix in and use a follow-up issue if you think there are other places that need addressing?&lt;/p&gt;</comment>
                            <comment id="15879767" author="garydgregory" created="Thu, 23 Feb 2017 02:58:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jvz&quot; class=&quot;user-hover&quot; rel=&quot;jvz&quot;&gt;jvz&lt;/a&gt;: Do you feel we have consensus that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasontedor&quot; class=&quot;user-hover&quot; rel=&quot;jasontedor&quot;&gt;jasontedor&lt;/a&gt;&apos;s patch is OK?&lt;/p&gt;</comment>
                            <comment id="15879919" author="jvz" created="Thu, 23 Feb 2017 05:52:23 +0000"  >&lt;p&gt;The patch is fine, yes. We can take a closer look at broader SecurityManager testing in a separate issue.&lt;/p&gt;</comment>
                            <comment id="15883407" author="garydgregory" created="Fri, 24 Feb 2017 19:44:25 +0000"  >&lt;p&gt;When I apply the patch I get this failure:&lt;/p&gt;

&lt;p&gt;Tests in error:&lt;br/&gt;
  ThrowableProxyTest.testLogStackTraceWithClassLoaderThatWithCauseSecurityException:179 &#9559; NoSuchAlgorithm&lt;/p&gt;

&lt;p&gt;I ran:&lt;/p&gt;

&lt;p&gt;mvn clean install -pl !log4j-nosql&lt;/p&gt;

&lt;p&gt;I am on Windows and Java 7:&lt;/p&gt;

&lt;p&gt;Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T08:41:47-08:00)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.3.9\bin\..&lt;br/&gt;
Java version: 1.7.0_80, vendor: Oracle Corporation&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.7.0_80\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 8.1&quot;, version: &quot;6.3&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</comment>
                            <comment id="15883585" author="jasontedor" created="Fri, 24 Feb 2017 21:50:41 +0000"  >&lt;p&gt;I suspect that that is due to the use of JDK 7. Let me see if I can come up with something that works there too. Thanks so much for letting me know!&lt;/p&gt;</comment>
                            <comment id="15883635" author="jasontedor" created="Fri, 24 Feb 2017 22:28:19 +0000"  >&lt;p&gt;It is indeed due to JDK 7 where AES/GCM/NoPadding is only available on Solaris. I should be able to reproduce the same with something like AES/CBC/PKCS5Padding. I&apos;ll attach a new patch soon.&lt;/p&gt;</comment>
                            <comment id="15883637" author="jasontedor" created="Fri, 24 Feb 2017 22:29:14 +0000"  >&lt;p&gt;I&apos;ve attached a new patch against master.&lt;/p&gt;</comment>
                            <comment id="15889131" author="jasontedor" created="Tue, 28 Feb 2017 23:44:48 +0000"  >&lt;p&gt;Would someone be able to take a look at the latest patch and offer feedback?&lt;/p&gt;</comment>
                            <comment id="15891028" author="jira-bot" created="Wed, 1 Mar 2017 20:59:58 +0000"  >&lt;p&gt;Commit 164bb5cc1807cf9c2b847639be8612ab8b50a04b in logging-log4j2&apos;s branch refs/heads/master from ggregory&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=164bb5c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=164bb5c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1820&quot; title=&quot;Log4j 2.8 can lose exceptions when a security manager is present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1820&quot;&gt;&lt;del&gt;LOG4J2-1820&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Log4j 2.8 can lose exceptions when a security manager is present.&lt;/p&gt;</comment>
                            <comment id="15891029" author="garydgregory" created="Wed, 1 Mar 2017 21:00:15 +0000"  >&lt;p&gt;Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15891041" author="jasontedor" created="Wed, 1 Mar 2017 21:08:02 +0000"  >&lt;p&gt;Thank you for your help here, and pulling in this patch.&lt;/p&gt;

&lt;p&gt;However, I see that despite the discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1563&quot; title=&quot;Log4j 2.6.2 can lose exceptions when a security manager is present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1563&quot;&gt;&lt;del&gt;LOG4J2-1563&lt;/del&gt;&lt;/a&gt;, the old contribution model was still used here. I continue to believe that this is a broken contribution model.&lt;/p&gt;</comment>
                            <comment id="15891095" author="jvz" created="Wed, 1 Mar 2017 21:32:59 +0000"  >&lt;p&gt;It&apos;s easier to apply that properly as a pull request. Since you used &lt;tt&gt;git format-patch&lt;/tt&gt;, it looks like the metadata wasn&apos;t applied properly.&lt;/p&gt;</comment>
                            <comment id="15891116" author="jasontedor" created="Wed, 1 Mar 2017 21:45:36 +0000"  >&lt;p&gt;The metadata is applied properly with &lt;tt&gt;git am&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;16:44:00 [jason:~/src/apache/logging-log4j2] master(-1)+* &#177; git log --pretty=oneline | head -1
9ec88e21312c892c25c01caab42d936d3a299736 [LOG4J2-1831] NullPointerException in HtmlLayout. Add due-to.
16:44:06 [jason:~/src/apache/logging-log4j2] master(-1)+* &#177; git am ~/0002-Handle-security-exception-on-getting-&lt;span class=&quot;code-keyword&quot;&gt;class-&lt;/span&gt;loader.patch 
Applying: Handle security exception on getting &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loader
16:44:09 [jason:~/src/apache/logging-log4j2] master(+1/-1)+* &#177; git log master^..master
commit b518205ff661941d59f554a71744b6bd15e41c0b
Author: Jason Tedor &amp;lt;jason@tedor.me&amp;gt;
Date:   Fri Feb 17 16:12:27 2017 -0500

    Handle security exception on getting &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loader
    
    When logging a stack trace, Log4j attempts to get the &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loader &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;
    the caller class. If it does not have permissions to get &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; class
    loader, a security exception will be thrown. Log4j does not handle &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
    exception and &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; exception unwinds to the caller. This causes the
    original exception to be lost, and can even unwind the JVM. This commit
    fixes &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; by treating the &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loader as unavailable in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;. This preserves the original exception.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;It&apos;s easier to apply that properly as a pull request.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think this project accepts pull requests, is that correct?&lt;/p&gt;</comment>
                            <comment id="15891164" author="jvz" created="Wed, 1 Mar 2017 22:10:03 +0000"  >&lt;p&gt;We accept PRs, but we can&apos;t just click the button in GitHub to do it. We have to pull it the old-fashioned way (via the URL), add a commit saying that it closes a particular GH #, and then push that to apache.org. That marks it as merged and closed via GH.&lt;/p&gt;

&lt;p&gt;I normally use git from the command line, but I&apos;m guessing Gary is using EGit. I have no idea if it supports &lt;tt&gt;git-am&lt;/tt&gt; or related functions.&lt;/p&gt;</comment>
                            <comment id="15891172" author="garydgregory" created="Wed, 1 Mar 2017 22:14:12 +0000"  >&lt;p&gt;Yes, I just got the patch from the URL, copied it to the clipboard and applied the patch in Eclipse (EGit).&lt;/p&gt;</comment>
                            <comment id="15891482" author="jasontedor" created="Thu, 2 Mar 2017 02:08:27 +0000"  >&lt;p&gt;We discussed on &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1563&quot; title=&quot;Log4j 2.6.2 can lose exceptions when a security manager is present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1563&quot;&gt;&lt;del&gt;LOG4J2-1563&lt;/del&gt;&lt;/a&gt; that this should not be attributed to the tooling, the necessary tooling is available on every platform that developers use.&lt;/p&gt;</comment>
                            <comment id="15891505" author="garydgregory" created="Thu, 2 Mar 2017 02:35:29 +0000"  >&lt;p&gt;The bottom line is that we use GitHub as a read-only mirror for now as most Apache projects do. If there is some git command line incantation to use with the patch URL, please do post it here so we can document this someplace.&lt;/p&gt;</comment>
                            <comment id="15891636" author="jvz" created="Thu, 2 Mar 2017 04:59:06 +0000"  >&lt;p&gt;There are two main ways to properly merge a PR from GitHub without using the UI (which is related to this method of patch file attachments; bear with me for a sec):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Use the &lt;tt&gt;git pull&lt;/tt&gt; command provided in the original GitHub notification email. It fetches and merges from a different remote than what you normally use, and when you push it to your normal remote (usually named &quot;origin&quot;; that&apos;s the default at least) on apache.org, that marks the PR as merged on GitHub.&lt;/li&gt;
	&lt;li&gt;Download the patch file by adding .patch to the URL. I just checked earlier and adding .diff to the URL provides just the output of diff while the .patch URL provides the output of &lt;tt&gt;git format-patch&lt;/tt&gt; which is the same format that was used in the patch file attached to this ticket. Apply this patch with the command &lt;tt&gt;git apply foo.patch&lt;/tt&gt;. You could also shorten it a bit by doing &lt;tt&gt;curl &lt;a href=&quot;http://whatever/foo.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://whatever/foo.patch&lt;/a&gt; | git apply&lt;/tt&gt;, but I don&apos;t know how that works in Windows. In general, you should just be able to use &lt;tt&gt;git apply&lt;/tt&gt; (or &lt;tt&gt;git-apply&lt;/tt&gt;; I don&apos;t know how git is bundled for Windows) and that will apply the committer/author info and other metadata included in the patch so that it&apos;s applied like a pull request.&lt;/li&gt;
	&lt;li&gt;The third bonus way is via &lt;tt&gt;git am&lt;/tt&gt;, but that&apos;s more so for people like Linus Torvalds who use a command line mail client and still have mbox/maildir emails which contain the patch file attachments. Considering our mailing list software rarely propagates attachments, that&apos;s not really relevant here.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15892426" author="jasontedor" created="Thu, 2 Mar 2017 15:34:29 +0000"  >&lt;p&gt;Thank you for providing all of this information &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jvz&quot; class=&quot;user-hover&quot; rel=&quot;jvz&quot;&gt;jvz&lt;/a&gt;. I hope this helps address this problem in the future. I have just one comment: it is fine to use &lt;tt&gt;git am&lt;/tt&gt; on a patch file like I supplied here, the output of &lt;tt&gt;git format-patch&lt;/tt&gt; is fully compatible with &lt;tt&gt;git am&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15892437" author="jvz" created="Thu, 2 Mar 2017 15:41:13 +0000"  >&lt;p&gt;There&apos;s a good wiki page about this over on the Commons wiki actually: &lt;a href=&quot;https://wiki.apache.org/commons/UsingGIT&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/commons/UsingGIT&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Found out about another hidden GitHub feature that we can use to merge pull requests by setting up an additional remote to GitHub. All PRs are provided as read-only branches to the main project (but our GitHub mirrors are read-only as it is, so this doesn&apos;t change anything). I&apos;m guessing when you check the box to allow maintainers to make changes to your PR, that makes the pull branch read-write, but again, same limitation with our mirroring.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13002623">LOG4J2-1563</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12853366" name="0001-Handle-security-exception-on-getting-class-loader.patch" size="8167" author="jasontedor" created="Fri, 17 Feb 2017 22:10:56 +0000"/>
                            <attachment id="12854593" name="0002-Handle-security-exception-on-getting-class-loader.patch" size="8162" author="jasontedor" created="Fri, 24 Feb 2017 22:29:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a99r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>