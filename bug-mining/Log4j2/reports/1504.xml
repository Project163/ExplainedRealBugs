<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3114] Wrong value &quot;false&quot; of RollingFileAppender.immediateFlush when configured from a Log4j 1.x configuration</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3114</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Unlike the simple FileAppender (both from a Log4j 1.x and 2.x configuration) and the RollingFileAppender configured from a 2.x configuration, the property &quot;immediateFlush&quot; has the value &quot;false&quot; on RollingFileAppender configured from a Log4j 1.x configuration. This leads to apparently not logging into the file (the automatic flush occurs only after a high amount of data and respectively a long time).&lt;/p&gt;

&lt;p&gt;The code reveals two relevant differences:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&quot;immediateFlush&quot; has the fixed default-value &quot;false&quot; in the 1.x configuration-flow (see for eg.
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.log4j.builders.appender.RollingFileAppenderBuilder.parseAppender()&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;, the same as in&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.log4j.builders.appender.FileAppenderBuilder.parseAppender()&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;), unlike in the 2.x configuration-flow (&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.log4j.core.appender.AbstractOutputStreamAppender.Builder.immediateFlush&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;has the default-value &quot;true&quot;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;the value of &quot;immediateFlush&quot; is taken from
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
!bufferedIo || isImmediateFlush()&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;for a FileAppender, which is missing from the RollingFileAppender&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;To reproduce, build and start the attached demo-application (initializes Log4j2 from a Log4j 1.x configuration and prints periodically a log-entry to the console, to a FileAppender and to a RollingFileAppender). Execute &quot;tail -f&quot; on the file of the simple appender (log.log) and on that of the rolling appender (rlog.log) and observe, that logging output doesn&apos;t appear on the latter, until the application is stopped.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13386899">LOG4J2-3114</key>
            <summary>Wrong value &quot;false&quot; of RollingFileAppender.immediateFlush when configured from a Log4j 1.x configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="bbodnar">Barnabas Bodnar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jun 2021 20:59:16 +0000</created>
                <updated>Mon, 22 Nov 2021 09:31:13 +0000</updated>
                            <resolved>Sun, 21 Nov 2021 06:52:01 +0000</resolved>
                                    <version>2.14.1</version>
                                    <fixVersion>2.15.0</fixVersion>
                                    <component>Appenders</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17446932" author="jira-bot" created="Sun, 21 Nov 2021 06:33:55 +0000"  >&lt;p&gt;Commit 8507437038eaa4400aea3bcfd0f99585f6e5d0ee in logging-log4j2&apos;s branch refs/heads/master from Barnabas Bodnar&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=8507437&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=8507437&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3114&quot; title=&quot;Wrong value &amp;quot;false&amp;quot; of RollingFileAppender.immediateFlush when configured from a Log4j 1.x configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3114&quot;&gt;&lt;del&gt;LOG4J2-3114&lt;/del&gt;&lt;/a&gt; - ensure the RollingFileAppender flushes immediately when bufferedIO=false (the same behavior as in FileAppender)&lt;/p&gt;</comment>
                            <comment id="17446933" author="jira-bot" created="Sun, 21 Nov 2021 06:33:56 +0000"  >&lt;p&gt;Commit e4658fa6e53d6e9bfc0d2b994d6ed908f5527576 in logging-log4j2&apos;s branch refs/heads/master from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=e4658fa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=e4658fa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge branch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3114&quot; title=&quot;Wrong value &amp;quot;false&amp;quot; of RollingFileAppender.immediateFlush when configured from a Log4j 1.x configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3114&quot;&gt;&lt;del&gt;LOG4J2-3114&lt;/del&gt;&lt;/a&gt;&apos; of &lt;a href=&quot;https://github.com/bbodnar/logging-log4j2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bbodnar/logging-log4j2&lt;/a&gt; into bbodnar-&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3114&quot; title=&quot;Wrong value &amp;quot;false&amp;quot; of RollingFileAppender.immediateFlush when configured from a Log4j 1.x configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3114&quot;&gt;&lt;del&gt;LOG4J2-3114&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17446934" author="jira-bot" created="Sun, 21 Nov 2021 06:33:57 +0000"  >&lt;p&gt;Commit 8ca74d9731faa403e29a1328c5899882999a2cac in logging-log4j2&apos;s branch refs/heads/master from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=8ca74d9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=8ca74d9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge branch &apos;bbodnar-&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3114&quot; title=&quot;Wrong value &amp;quot;false&amp;quot; of RollingFileAppender.immediateFlush when configured from a Log4j 1.x configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3114&quot;&gt;&lt;del&gt;LOG4J2-3114&lt;/del&gt;&lt;/a&gt;&apos; into master&lt;/p&gt;</comment>
                            <comment id="17446936" author="jira-bot" created="Sun, 21 Nov 2021 06:51:11 +0000"  >&lt;p&gt;Commit f7e40462e8250f3fe6884bc9315ee483111ee916 in logging-log4j2&apos;s branch refs/heads/master from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=f7e4046&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=f7e4046&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3114&quot; title=&quot;Wrong value &amp;quot;false&amp;quot; of RollingFileAppender.immediateFlush when configured from a Log4j 1.x configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3114&quot;&gt;&lt;del&gt;LOG4J2-3114&lt;/del&gt;&lt;/a&gt; - add changes.xml entry&lt;/p&gt;</comment>
                            <comment id="17446937" author="ralph.goers@dslextreme.com" created="Sun, 21 Nov 2021 06:52:01 +0000"  >&lt;p&gt;Pull Request #541 applied. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="17446940" author="jira-bot" created="Sun, 21 Nov 2021 07:30:49 +0000"  >&lt;p&gt;Commit 5e5e598c09ce5f61153dd5a497d8d31f087f2d20 in logging-log4j2&apos;s branch refs/heads/release-2.x from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=5e5e598&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=5e5e598&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3114&quot; title=&quot;Wrong value &amp;quot;false&amp;quot; of RollingFileAppender.immediateFlush when configured from a Log4j 1.x configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3114&quot;&gt;&lt;del&gt;LOG4J2-3114&lt;/del&gt;&lt;/a&gt; - Enable immediate flush on RollingFileAppender when buffered i/o is not enabled.&lt;/p&gt;</comment>
                            <comment id="17447271" author="bbodnar" created="Mon, 22 Nov 2021 09:31:00 +0000"  >&lt;p&gt;Thank you for merging the fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13027473" name="rolling-file-not-flushed.tgz" size="1082" author="bbodnar" created="Wed, 30 Jun 2021 21:34:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0sh8g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>