<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3419] Unable to create custom logging level using log4j 2 Bridge API</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3419</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;Unable to create custom logging level using log4j 2 Bridge API&lt;/p&gt;

&lt;p&gt;Following did not create a custom logging level&lt;/p&gt;

&lt;p&gt;&lt;b&gt;public static final int FINE_INT = 13000;&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;public static final Level FINE = new Level(FINE_INT, &quot;FINE&quot;, 7);&lt;/b&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Using FINE logging level is considered to be DEBUG level by default while printing it&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Adding log:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;log.log(&lt;b&gt;Level.FINE&lt;/b&gt;,&quot;PRINT: Level.FINE log&quot;);&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Expected log printed:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;2022-02-25 15:50:09,208 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;6788&amp;#93;&lt;/span&gt; :main: example.com.Test &lt;b&gt;FINE&lt;/b&gt; - PRINT: Level.FINE log&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Actual log printed:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;2022-02-25 15:50:09,208 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;6788&amp;#93;&lt;/span&gt; :main: example.com.Test &lt;b&gt;DEBUG&lt;/b&gt; - PRINT: Level.FINE log&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Using log4j 2 bridge API: log4j-1.2-api-2.17.1.jar&lt;/p&gt;</environment>
        <key id="13431151">LOG4J2-3419</key>
            <summary>Unable to create custom logging level using log4j 2 Bridge API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pkarwasz">Piotr Karwasz</assignee>
                                    <reporter username="ragini">Ragini Gawande</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2022 06:37:35 +0000</created>
                <updated>Wed, 3 Aug 2022 06:25:43 +0000</updated>
                            <resolved>Mon, 2 May 2022 21:10:38 +0000</resolved>
                                    <version>2.17.1</version>
                                    <fixVersion>2.18.0</fixVersion>
                                    <component>Log4j 1.2 bridge</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17499619" author="garydgregory" created="Tue, 1 Mar 2022 15:50:57 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragini&quot; class=&quot;user-hover&quot; rel=&quot;ragini&quot;&gt;ragini&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Would you provide a PR on GitHub with a failing test?&lt;/p&gt;

&lt;p&gt;The example in the description should not even compile since &lt;tt&gt;org.apache.log4j.Level.Level(int, String, int)&lt;/tt&gt; is a protected constructor.&lt;/p&gt;

&lt;p&gt;So there is some mismatch in my understanding of what the description expresses.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17499643" author="JIRAUSER285931" created="Tue, 1 Mar 2022 16:35:00 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;We have extended the org.apache.log4j.Level class as followed&lt;/p&gt;

&lt;p&gt;&lt;b&gt;public class Level extends org.apache.log4j.Level&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;and the constructor in my extended class Level is:&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#172b4d&quot;&gt;&#160; &lt;b&gt;private Level(int paramInt1, String paramString, int paramInt2)&lt;/b&gt;&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#172b4d&quot;&gt;&#160; &lt;b&gt;{&lt;/b&gt;&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#172b4d&quot;&gt;&#160; &#160; &lt;b&gt;super(paramInt1, paramString, paramInt2);&lt;/b&gt;&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#172b4d&quot;&gt;&#160; &lt;b&gt;}&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;We are then creating our custom logging level in my extended Level class as mentioned in the description&#160;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;public static final int FINE_INT = 13000;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;public static final Level FINE = new Level(FINE_INT, &quot;FINE&quot;, 7);&lt;/em&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17499645" author="ralph.goers@dslextreme.com" created="Tue, 1 Mar 2022 16:35:46 +0000"  >&lt;p&gt;The log method in the 1.2 bridge first checks that the priority is not filtered. The is performed by:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
isEnabledFor(org.apache.logging.log4j.Level.toLevel(level.toString())) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;For this to work the Level would need to be added as a custom level to Log4j 2. But neither the Level or Priority constructors do that. So this Level will always be treated by Log4j 2 as the default level.&lt;/p&gt;</comment>
                            <comment id="17499653" author="JIRAUSER285931" created="Tue, 1 Mar 2022 16:49:13 +0000"  >&lt;p&gt;This same code worked with log4j 1.2.x, we were able to see our custom level printed properly.&lt;/p&gt;

&lt;p&gt;Is there any plan to fix this for log4j 2 bridge API?&lt;/p&gt;

&lt;p&gt;Or is there any other way by which I can create the custom log level using log4j bridge API?&lt;/p&gt;</comment>
                            <comment id="17499675" author="ralph.goers@dslextreme.com" created="Tue, 1 Mar 2022 17:39:54 +0000"  >&lt;p&gt;You could modify your constructor to do&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Level(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; paramInt1, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; paramString, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; paramInt2)
&#160;&#160;{
&#160; &#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(paramInt1, paramString, paramInt2);
     org.apache.logging.log4j.Level.forName(paaramString), paramInt1);
&#160;&#160;} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I should point out though that in Log4j 1 a value of 13000 would be between DEBUG and INFO. In Log4j 2 that value would be more limiting than TRACE. To solve this you would need to create an adjustLevel method that calculates the Log4j 2 level based on the Log4j 1 level. So you might equate 13000 to DEBUG + 3000. In Log4j 2 you would then do StandardLevel.DEBUG - (3000 / 100) which would result in a value or 470.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17499999" author="JIRAUSER285931" created="Wed, 2 Mar 2022 09:13:30 +0000"  >&lt;p&gt;I have modified my constructor as suggested and it is giving me expected results in terms of printing the Level name correctly&lt;/p&gt;

&lt;p&gt;But I am still facing an issue while setting that custom log level in my log4j.properties file&lt;/p&gt;

&lt;p&gt;public static final int SEVERE_INT = 320;&lt;/p&gt;

&lt;p&gt;public static final Level SEVERE = new Level(SEVERE_INT, &quot;SEVERE&quot;, 2);&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Now if I use SEVERE in properties file it consider it to be DEBUG by default&#160;&lt;/p&gt;

&lt;p&gt;Following is my log4j,properties file&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CustomLevels=SEVERE 
CustomLevel.SEVERE.name=SEVERE
CustomLevel.SEVERE.intLevel=320
#customLevel.SEVERE=320

log4j.rootLogger=SEVERE, stdout

log4j.appender.stdout=org.apache.log4j.ConsoleAppender
#log4j.appender.stdout.Threshold=SEVERE
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d Main[%pid] :%t: %c %-4p - %m%n&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I tried setting CustomLevels properties but still not getting expected result&lt;/p&gt;

&lt;p&gt;Expected output&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2022-03-02 14:22:49,982 Main[11728] :main: example.com.Test FATAL - Level.FATAL log 
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test ERROR - Level.ERROR log 
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test WARNING - Level.WARNING log 
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test SEVERE - Level.SEVERE log&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Actual output:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2022-03-02 14:22:49,982 Main[11728] :main: example.com.Test FATAL - Level.FATAL log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test ERROR - Level.ERROR log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test WARNING - Level.WARNING log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test SEVERE - Level.SEVERE log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test INFO - Level.INFO log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test CONFIG - Level.CONFIG log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test FINE - Level.FINE log
2022-03-02 14:22:49,987 Main[11728] :main: example.com.Test FINER - Level.FINER log
2022-03-02 14:22:49,987 Main[11728] :main: example.com.Test FINEST - Level.FINEST log
2022-03-02 14:22:49,987 Main[11728] :main: example.com.Test DEBUG - Level.DEBUG log&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is there anything am missing or configuring incorrectly?&lt;/p&gt;</comment>
                            <comment id="17500516" author="JIRAUSER285931" created="Thu, 3 Mar 2022 06:05:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgoers&quot; class=&quot;user-hover&quot; rel=&quot;rgoers&quot;&gt;rgoers&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Can any of you help me with the issue mentioned in the above comment?&lt;/p&gt;</comment>
                            <comment id="17500686" author="garydgregory" created="Thu, 3 Mar 2022 11:43:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragini&quot; class=&quot;user-hover&quot; rel=&quot;ragini&quot;&gt;ragini&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;See my first comment and I should be able to work on it this week end: &quot;Would you provide a PR on GitHub with a failing test?&quot;&lt;/p&gt;</comment>
                            <comment id="17502083" author="JIRAUSER285931" created="Mon, 7 Mar 2022 06:03:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgoers&quot; class=&quot;user-hover&quot; rel=&quot;rgoers&quot;&gt;rgoers&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Following is the GitHub link to the code which is failing&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/raginigawande/log4j_test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/raginigawande/log4j_test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Additional info:&lt;/p&gt;

&lt;p&gt;JDK 1.8&lt;/p&gt;

&lt;p&gt;-Dlog4j1.compatibility=true&lt;/p&gt;

&lt;p&gt;&#160;&lt;b&gt;Expected output after running this Test.java&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2022-03-02 14:22:49,982 Main[11728] :main: example.com.Test FATAL - Level.FATAL log 
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test ERROR - Level.ERROR log 
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test WARNING - Level.WARNING log 
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test SEVERE - Level.SEVERE log&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Actual output:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2022-03-02 14:22:49,982 Main[11728] :main: example.com.Test FATAL - Level.FATAL log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test ERROR - Level.ERROR log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test WARNING - Level.WARNING log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test SEVERE - Level.SEVERE log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test INFO - Level.INFO log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test CONFIG - Level.CONFIG log
2022-03-02 14:22:49,986 Main[11728] :main: example.com.Test FINE - Level.FINE log
2022-03-02 14:22:49,987 Main[11728] :main: example.com.Test FINER - Level.FINER log
2022-03-02 14:22:49,987 Main[11728] :main: example.com.Test FINEST - Level.FINEST log
2022-03-02 14:22:49,987 Main[11728] :main: example.com.Test DEBUG - Level.DEBUG log&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17502276" author="JIRAUSER285931" created="Mon, 7 Mar 2022 13:45:30 +0000"  >&lt;p&gt;I did some debugging here and following is my finding&lt;/p&gt;

&lt;p&gt;log4j-1.2-api/src/main/java/org/apache/log4j/helpers/OptionConverter.java&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;157 public static Level toLevel(String value, Level defaultValue) {
158 if (value == null) {
159 return defaultValue;
160 }
161
162 value = value.trim();
163
164 int hashIndex = value.indexOf(&apos;#&apos;);
165 if (hashIndex == -1) {
166 if (&quot;NULL&quot;.equalsIgnoreCase(value)) {
167 return null;
168 }
169 // no class name specified : use standard Level class
170 return Level.toLevel(value, defaultValue);
171 }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;here its using Level.toLevel(value, defaultValue) of org.apache.log4j.Level instead of org.apache.logging.log4j.Level.toLevel&lt;/p&gt;

&lt;p&gt;as we have defined new custom levels in org.apache.logging.log4j.Level.forName() its unable to return the correct level from org.apache.log4j.Level and instead of actual level it returns defaultValue which is DEBUG.&lt;/p&gt;

&lt;p&gt;Can you please verify if the findings are correct? if yes then please suggest a way to define custom logging level for org.apache.log4j.Level&lt;/p&gt;</comment>
                            <comment id="17502975" author="pkarwasz" created="Tue, 8 Mar 2022 14:07:12 +0000"  >&lt;p&gt;I believe that custom Log4j 1.x levels created in code or through configuration should automatically create the corresponding Log4j 2.x custom levels. I&apos;ll try to formulate a proposition in this direction.&lt;/p&gt;</comment>
                            <comment id="17505349" author="JIRAUSER282001" created="Sat, 12 Mar 2022 19:45:30 +0000"  >&lt;p&gt;In OptionConverter.java&lt;/p&gt;

&lt;p&gt;replacing convertLevel(final Level level) with following implementation solves the problem of custom level/s filtering.&#160; In this programmer will have to initialize custom levels in&#160; log4j2-x level using org.apache.logging.log4j.Level.forName(,) method. &lt;/p&gt;

&lt;p&gt;public static &#160;org.apache.logging.log4j.Level convertLevel(final Level level)&lt;/p&gt;

{ &#160; &#160; &#160; &#160;&#160;return org.apache.logging.log4j.Level.forName(level.toString(),level.toInt()); }

&lt;p&gt;Do you agree with this change ? If yes then can you please commit this change.&lt;/p&gt;</comment>
                            <comment id="17505357" author="JIRAUSER282001" created="Sat, 12 Mar 2022 20:57:11 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13041018/13041018_DemoCustom.zip&quot; title=&quot;DemoCustom.zip attached to LOG4J2-3419&quot;&gt;DemoCustom.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&#160; demos how custom levels can be made working once following method implementation is altered in OptionConverter.java in bridge API.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &#160;org.apache.logging.log4j.Level convertLevel(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Level level)
{ &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; org.apache.logging.log4j.Level.forName(level.toString(),level.toInt()); 
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please note the bridge API jar in this ZIP is built after above code change is done in local checkout.&lt;/p&gt;</comment>
                            <comment id="17505358" author="pkarwasz" created="Sat, 12 Mar 2022 21:00:44 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=TukeshK&quot; class=&quot;user-hover&quot; rel=&quot;TukeshK&quot;&gt;TukeshK&lt;/a&gt;, the solution is a little bit more complex, since the numeric levels of Log4j 1.x and Log4j 2.x are not equal. I will be merging &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/789&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR #789&lt;/a&gt; this weekend.&lt;/p&gt;</comment>
                            <comment id="17505372" author="JIRAUSER282001" created="Sat, 12 Mar 2022 23:30:06 +0000"  >&lt;p&gt;Yes, however &quot;forName&quot; method first checks if Level is already instantiated or not. If it is not then only it create object of it. so all log4j 2-x native levels must be already instantiated so int value of those will be unchanged.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Level.java :-

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Level forName(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; intValue) {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Level level = LEVELS.get(name);
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (level != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; level;
&#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Level(name, intValue);
&#160; &#160; &#160; &#160; } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; IllegalStateException ex) {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// The level was added by something &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; so just &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; that one.
&lt;/span&gt;&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; LEVELS.get(name);
&#160; &#160; &#160; &#160; }
&#160; &#160; }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17505400" author="jira-bot" created="Sun, 13 Mar 2022 05:48:10 +0000"  >&lt;p&gt;Commit 1a364ccfcc87f387967077a4c35448a06a0a7298 in logging-log4j2&apos;s branch refs/heads/release-2.x from ppkarwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1a364cc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1a364cc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Adds support for custom Log4j 1.x levels (#789)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Adds support for custom Log4j 1.x levels&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Adds support for custom Log4j 1.x level in the form&lt;br/&gt;
`level_name#class_name`.&lt;/p&gt;

&lt;p&gt;Levels defined directly in Log4j 2.x can be used in the bridge using the&lt;br/&gt;
form `level_name#org.apache.logging.log4j.Level`.&lt;/p&gt;</comment>
                            <comment id="17505401" author="pkarwasz" created="Sun, 13 Mar 2022 06:18:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=TukeshK&quot; class=&quot;user-hover&quot; rel=&quot;TukeshK&quot;&gt;TukeshK&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragini&quot; class=&quot;user-hover&quot; rel=&quot;ragini&quot;&gt;ragini&lt;/a&gt;: I have generated a new snapshot of version 2.17.3. Can you check if this solves your problem?&lt;/p&gt;

&lt;p&gt;Custom Log4j 1.x levels should work out-of-the-box (like &lt;tt&gt;UtilLoggingLevel&lt;/tt&gt;). On the other hand, if you want to use a custom Log4j 2.x level in the Log4j 1.x configuration file you must:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Take care to declare the level &lt;b&gt;before&lt;/b&gt; the configuration is read,&lt;/li&gt;
	&lt;li&gt;Use the &lt;tt&gt;level_name#org.apache.logging.log4j.Level&lt;/tt&gt; syntax in the configuration file.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="17506049" author="JIRAUSER285931" created="Mon, 14 Mar 2022 07:59:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;When can we find the link to new version 2.17.3&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://logging.apache.org/log4j/2.x/download.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://logging.apache.org/log4j/2.x/download.html&lt;/a&gt; this link has the latest as 2.17.2&#160;&lt;/p&gt;</comment>
                            <comment id="17506062" author="pkarwasz" created="Mon, 14 Mar 2022 08:35:04 +0000"  >&lt;p&gt;It&apos;s a snapshot available on: &lt;a href=&quot;https://repository.apache.org/snapshots/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/snapshots/&lt;/a&gt; (it&apos;s a Maven repository).&lt;/p&gt;

&lt;p&gt;If you are not using a dependency management system such as Maven or Gradle, take the latest jar from: &lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/logging/log4j/log4j-1.2-api/2.17.3-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/logging/log4j/log4j-1.2-api/2.17.3-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17506083" author="JIRAUSER282001" created="Mon, 14 Mar 2022 09:19:25 +0000"  >&lt;p&gt;Hi Gary,&lt;/p&gt;

&lt;p&gt;I tested 2.17.3-snapshot and I got desired results.&#160; I am closing this JIRA.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                            <comment id="17506105" author="JIRAUSER285931" created="Mon, 14 Mar 2022 09:41:54 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt; for getting this issue solved.&lt;/p&gt;</comment>
                            <comment id="17506128" author="JIRAUSER285931" created="Mon, 14 Mar 2022 10:15:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;I am reopening this Jira because we are getting a small issues&lt;/p&gt;

&lt;p&gt;2022-03-14 15:24:13,177 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;3520&amp;#93;&lt;/span&gt; :main: com.test.common.logging.Test ERROR#com.test.common.logging.Level - Can print ERROR&lt;br/&gt;
2022-03-14 15:24:13,181 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;3520&amp;#93;&lt;/span&gt; :main: com.test.common.logging.Test INFO#com.test.common.logging.Level - Can print Info&lt;br/&gt;
2022-03-14 15:24:13,181 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;3520&amp;#93;&lt;/span&gt; :main: com.test.common.logging.Test FINE#com.test.common.logging.Level - Can print FINE&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here instead on printing just Level name ERROR, its printing ERROR#com.test.common.logging.Level&lt;/p&gt;</comment>
                            <comment id="17506927" author="JIRAUSER285931" created="Tue, 15 Mar 2022 14:14:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;We have seen one more issue after using the new snapshot of version 2.17.3&lt;/p&gt;

&lt;p&gt;&amp;lt;13&amp;gt;Mar 14 22:33:41 &lt;b&gt;localhost.localdomain&lt;/b&gt; Main&lt;span class=&quot;error&quot;&gt;&amp;#91;6133&amp;#93;&lt;/span&gt; +05:30 2022 572 1 com.test.common.logging.Test |&#160; FINE#com.test.common.logging.Level - Can print FINE&lt;br/&gt;
&amp;lt;13&amp;gt;Mar 14 22:33:41 &lt;b&gt;localhost.localdomain&lt;/b&gt; Main&lt;span class=&quot;error&quot;&gt;&amp;#91;6133&amp;#93;&lt;/span&gt; +05:30 2022 572 1 com.test.common.logging.Test |&#160; INFO#com.test.common.logging.Level - Can print Info&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here instead of printing the actual hostname its printing localhost.localdomain&lt;/p&gt;

&lt;p&gt;This issue was not seen when using 2.17.1&lt;/p&gt;</comment>
                            <comment id="17506952" author="pkarwasz" created="Tue, 15 Mar 2022 14:56:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragini&quot; class=&quot;user-hover&quot; rel=&quot;ragini&quot;&gt;ragini&lt;/a&gt;: you should open a separate ticket for the last issue, which involves the &lt;tt&gt;SyslogAppender&lt;/tt&gt; not custom levels in Log4j 1.x.&lt;/p&gt;

&lt;p&gt;The is probably due to a change in your Java version or your system, but if you are using the BSD syslog format the hostname MUST NOT contain the FQDN of the machine and this should be enforced by Log4j.&lt;/p&gt;</comment>
                            <comment id="17507076" author="jira-bot" created="Tue, 15 Mar 2022 17:21:08 +0000"  >&lt;p&gt;Commit 291e03611acaf3abd93c800352eb5644fd4554ca in logging-log4j2&apos;s branch refs/heads/release-2.x from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=291e036&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=291e036&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Add a Log4j 1.x level name pattern converter&lt;/p&gt;

&lt;p&gt;When custom levels are in play the names of Log4j 1.x custom levels&lt;br/&gt;
(which are not unique) and those of Log4j 2.x custom levels (which must&lt;br/&gt;
be unique) do not match.&lt;/p&gt;

&lt;p&gt;There is a need therefore for a pattern converter specific to Log4j 1.x.&lt;/p&gt;</comment>
                            <comment id="17507125" author="pkarwasz" created="Tue, 15 Mar 2022 17:49:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragini&quot; class=&quot;user-hover&quot; rel=&quot;ragini&quot;&gt;ragini&lt;/a&gt;: I compiled a new snapshot, can you check if it fixes your level formatting problem?&lt;/p&gt;

&lt;p&gt;The output of the &lt;tt&gt;SyslogAppender&lt;/tt&gt; should still contain &quot;level_name#level_class_name&quot;, but this problem depends upon a solution of &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3359&quot; title=&quot;Facility and priority missing  in Syslog message when Syslog log appender and pattern layout is used with log4j1-2 bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3359&quot;&gt;&lt;del&gt;LOG4J2-3359&lt;/del&gt;&lt;/a&gt;. Other appenders should display just &quot;level_name&quot;.&lt;/p&gt;</comment>
                            <comment id="17507518" author="JIRAUSER285931" created="Wed, 16 Mar 2022 11:24:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;I tried with the new snapshot version log4j-1.2-api-2.17.3-snapshot.jar but I getting following results&lt;/p&gt;

&lt;p&gt;2022-03-16 16:45:05,836 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;OFFid&amp;#93;&lt;/span&gt; :main: example.com.Test OFF &#160;- Ragini Level.OFF log&lt;br/&gt;
2022-03-16 16:45:05,839 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;FATALid&amp;#93;&lt;/span&gt; :main: example.com.Test FATAL - Ragini Level.FATAL log&lt;br/&gt;
2022-03-16 16:45:05,840 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.ERROR log&lt;br/&gt;
2022-03-16 16:45:05,840 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.WARNING log&lt;br/&gt;
2022-03-16 16:45:05,841 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.SEVERE log&lt;br/&gt;
2022-03-16 16:45:05,841 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.UM_INFO log&lt;br/&gt;
2022-03-16 16:45:05,841 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;INFOid&amp;#93;&lt;/span&gt; :main: example.com.Test INFO - Ragini Level.INFO log&lt;br/&gt;
2022-03-16 16:45:05,842 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.CONFIG log&lt;br/&gt;
2022-03-16 16:45:05,843 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.FINE log&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here for all the custom levels its printing ERROR instead of printing actual custom level and also the IDs are not printed.&lt;/p&gt;</comment>
                            <comment id="17507675" author="pkarwasz" created="Wed, 16 Mar 2022 15:12:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragini&quot; class=&quot;user-hover&quot; rel=&quot;ragini&quot;&gt;ragini&lt;/a&gt;: can you provide the code of your custom Log4j 1.x class? Every such class must have a &lt;tt&gt;public static Level toLevel(String, Level)&lt;/tt&gt; method.&lt;/p&gt;</comment>
                            <comment id="17508008" author="JIRAUSER285931" created="Thu, 17 Mar 2022 07:14:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have attached the custom Level.java class which has &lt;tt&gt;public static Level toLevel(String, Level)&lt;/tt&gt;&#160;method.&lt;/p&gt;

&lt;p&gt;I have also attached the log4j.properties file which we are using&lt;/p&gt;

&lt;p&gt;In this file if we keep rootlogger as&lt;/p&gt;

&lt;p&gt;log4j.rootLogger=FINEST#&lt;b&gt;org.apache.log4j.helpers.UtilLoggingLevel&lt;/b&gt;, TRACE_LOGGER, stdout, SYSLOG&lt;/p&gt;

&lt;p&gt;then the output we get is as followed, here it prints all logs for FINEST level and above but the custom level are printed as ERROR&#160;&lt;/p&gt;

&lt;p&gt;2022-03-16 16:45:05,836 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;OFFid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test OFF &#160;- Ragini Level.OFF log&lt;br/&gt;
2022-03-16 16:45:05,839 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;FATALid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test FATAL - Ragini Level.FATAL log&lt;br/&gt;
2022-03-16 16:45:05,840 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test ERROR - Ragini Level.ERROR log&lt;br/&gt;
2022-03-16 16:45:05,840 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test ERROR - Ragini Level.WARNING log&lt;br/&gt;
2022-03-16 16:45:05,841 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test ERROR - Ragini Level.SEVERE log&lt;br/&gt;
2022-03-16 16:45:05,841 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test ERROR - Ragini Level.UM_INFO log&lt;br/&gt;
2022-03-16 16:45:05,841 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;INFOid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test INFO - Ragini Level.INFO log&lt;br/&gt;
2022-03-16 16:45:05,842 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test ERROR - Ragini Level.CONFIG log&lt;br/&gt;
2022-03-16 16:45:05,843 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt;&#160;:main: example.com.Test ERROR - Ragini Level.FINE log&lt;/p&gt;

&lt;p&gt;2022-03-16 16:45:05,843 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.FINER log&lt;br/&gt;
2022-03-16 16:45:05,844 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.FINEST log&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;And if we keep rootlogger as&lt;/p&gt;

&lt;p&gt;log4j.rootLogger=FINEST#com.test.common.logging.Level, TRACE_LOGGER, stdout, SYSLOG&lt;/p&gt;

&lt;p&gt;it considers FINEST as debug by default and prints all logs for DEBUG level and above and the custom level are still printed as ERROR&#160;&lt;/p&gt;

&lt;p&gt;2022-03-17 12:07:55,037 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;OFFid&amp;#93;&lt;/span&gt; :main: example.com.Test OFF - Ragini Level.OFF log&lt;br/&gt;
2022-03-17 12:07:55,040 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;FATALid&amp;#93;&lt;/span&gt; :main: example.com.Test FATAL - Ragini Level.FATAL log&lt;br/&gt;
2022-03-17 12:07:55,040 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.ERROR log&lt;br/&gt;
2022-03-17 12:07:55,040 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.WARNING log&lt;br/&gt;
2022-03-17 12:07:55,041 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.SEVERE log&lt;br/&gt;
2022-03-17 12:07:55,041 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.UM_INFO log&lt;br/&gt;
2022-03-17 12:07:55,041 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;INFOid&amp;#93;&lt;/span&gt; :main: example.com.Test INFO - Ragini Level.INFO log&lt;br/&gt;
2022-03-17 12:07:55,041 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.CONFIG log&lt;br/&gt;
2022-03-17 12:07:55,041 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.FINE log&lt;br/&gt;
2022-03-17 12:07:55,042 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.FINER log&lt;br/&gt;
2022-03-17 12:07:55,042 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;ERRORid&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.FINEST log&lt;br/&gt;
2022-03-17 12:07:55,042 DmccMain&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUGid&amp;#93;&lt;/span&gt; :main: example.com.Test DEBUG - Ragini Level.DEBUG log&lt;/p&gt;</comment>
                            <comment id="17508126" author="pkarwasz" created="Thu, 17 Mar 2022 10:45:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragini&quot; class=&quot;user-hover&quot; rel=&quot;ragini&quot;&gt;ragini&lt;/a&gt;, the exact type of the second parameter of the &lt;tt&gt;toLevel&lt;/tt&gt; method must be &lt;tt&gt;org.apache.log4j.Level&lt;/tt&gt;, but is &lt;tt&gt;com.test.common.logging.Level&lt;/tt&gt; in your code (due to the name clash).&lt;/p&gt;

&lt;p&gt;Replace &quot;Level&quot; with &quot;org.apache.log4j.Level&quot; and it should work.&lt;/p&gt;</comment>
                            <comment id="17508417" author="jira-bot" created="Thu, 17 Mar 2022 20:36:04 +0000"  >&lt;p&gt;Commit 291e03611acaf3abd93c800352eb5644fd4554ca in logging-log4j2&apos;s branch refs/heads/dependabot/maven/org.apache.felix-org.apache.felix.framework-7.0.3 from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=291e036&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=291e036&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Add a Log4j 1.x level name pattern converter&lt;/p&gt;

&lt;p&gt;When custom levels are in play the names of Log4j 1.x custom levels&lt;br/&gt;
(which are not unique) and those of Log4j 2.x custom levels (which must&lt;br/&gt;
be unique) do not match.&lt;/p&gt;

&lt;p&gt;There is a need therefore for a pattern converter specific to Log4j 1.x.&lt;/p&gt;</comment>
                            <comment id="17509707" author="jira-bot" created="Mon, 21 Mar 2022 09:22:51 +0000"  >&lt;p&gt;Commit 291e03611acaf3abd93c800352eb5644fd4554ca in logging-log4j2&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3393&quot; title=&quot;JSON template layout performance regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3393&quot;&gt;&lt;del&gt;LOG4J2-3393&lt;/del&gt;&lt;/a&gt; from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=291e036&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=291e036&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Add a Log4j 1.x level name pattern converter&lt;/p&gt;

&lt;p&gt;When custom levels are in play the names of Log4j 1.x custom levels&lt;br/&gt;
(which are not unique) and those of Log4j 2.x custom levels (which must&lt;br/&gt;
be unique) do not match.&lt;/p&gt;

&lt;p&gt;There is a need therefore for a pattern converter specific to Log4j 1.x.&lt;/p&gt;</comment>
                            <comment id="17511075" author="JIRAUSER285931" created="Wed, 23 Mar 2022 07:44:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;I verified my code with the latest snapshot created on March 21st&#160;&lt;/p&gt;

&lt;p&gt;with that patch the log levels are printed correctly but the ID is not printed correctly&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2022-03-23 13:10:14,862 Main[FATALid] :main: example.com.Test FATAL - Ragini Level.FATAL log
2022-03-23 13:10:14,863 Main[ERRORid] :main: example.com.Test ERROR - Ragini Level.ERROR log
2022-03-23 13:10:14,863 Main[WARNINGid] :main: example.com.Test WARNING - Ragini Level.WARNING log
2022-03-23 13:10:14,864 Main[SEVEREid] :main: example.com.Test SEVERE - Ragini Level.SEVERE log
2022-03-23 13:10:14,864 Main[UM_INFOid] :main: example.com.Test UM_INFO - Ragini Level.UM_INFO log
2022-03-23 13:10:14,864 Main[INFOid] :main: example.com.Test INFO - Ragini Level.INFO log
2022-03-23 13:10:14,864 Main[CONFIGid] :main: example.com.Test CONFIG - Ragini Level.CONFIG log
2022-03-23 13:10:14,864 Main[FINEid] :main: example.com.Test FINE - Ragini Level.FINE log
2022-03-23 13:10:14,864 Main[FINERid] :main: example.com.Test FINER - Ragini Level.FINER log
2022-03-23 13:10:14,865 Main[FINESTid] :main: example.com.Test FINEST - Ragini Level.FINEST log&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here instead of printing the id its printing FATALid String&lt;/p&gt;</comment>
                            <comment id="17511479" author="jira-bot" created="Wed, 23 Mar 2022 20:37:31 +0000"  >&lt;p&gt;Commit 798f3026c2e086e732e6aac0744d0154da33bb39 in logging-log4j2&apos;s branch refs/heads/release-2.x from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=798f302&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=798f302&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Allows %pid in Log4j 1.x patterns&lt;/p&gt;

&lt;p&gt;Although `%pid` was never a valid Log4j 1.x pattern, it was supported in&lt;br/&gt;
the previous bridge versions.&lt;/p&gt;

&lt;p&gt;This fixes a regression with respect to `log4j-1.2-api` version 2.17.2.&lt;/p&gt;</comment>
                            <comment id="17511491" author="pkarwasz" created="Wed, 23 Mar 2022 21:01:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ragini&quot; class=&quot;user-hover&quot; rel=&quot;ragini&quot;&gt;ragini&lt;/a&gt;,&lt;br/&gt;
Check the newest snapshot.&lt;br/&gt;
Strictly speaking the pattern &lt;tt&gt;%pid&lt;/tt&gt; never existed in Log4j 1.x, but to maintain compatibility with the previous bridge releases I fixed it.&lt;/p&gt;</comment>
                            <comment id="17511613" author="JIRAUSER285931" created="Thu, 24 Mar 2022 06:43:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;The latest snapshot version is giving us the expected output&lt;/p&gt;

&lt;p&gt;2022-03-24 11:56:21,249 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test FATAL - Ragini Level.FATAL log&lt;br/&gt;
2022-03-24 11:56:21,249 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test ERROR - Ragini Level.ERROR log&lt;br/&gt;
2022-03-24 11:56:21,249 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test WARNING - Ragini Level.WARNING log&lt;br/&gt;
2022-03-24 11:56:21,249 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test SEVERE - Ragini Level.SEVERE log&lt;br/&gt;
2022-03-24 11:56:21,249 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test UM_INFO - Ragini Level.UM_INFO log&lt;br/&gt;
2022-03-24 11:56:21,250 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test INFO - Ragini Level.INFO log&lt;br/&gt;
2022-03-24 11:56:21,250 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test CONFIG - Ragini Level.CONFIG log&lt;br/&gt;
2022-03-24 11:56:21,250 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test FINE - Ragini Level.FINE log&lt;br/&gt;
2022-03-24 11:56:21,250 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test FINER - Ragini Level.FINER log&lt;br/&gt;
2022-03-24 11:56:21,250 Main&lt;span class=&quot;error&quot;&gt;&amp;#91;35716&amp;#93;&lt;/span&gt; :main: example.com.Test FINEST - Ragini Level.FINEST log&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks for getting this issues resolved.&lt;/p&gt;</comment>
                            <comment id="17515554" author="jira-bot" created="Thu, 31 Mar 2022 19:43:32 +0000"  >&lt;p&gt;Commit aef43014f7609cb93bc2dc6c0eba58b3aa46eb19 in logging-log4j2&apos;s branch refs/heads/master from ppkarwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=aef4301&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=aef4301&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Adds support for custom Log4j 1.x levels (#789)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Adds support for custom Log4j 1.x levels&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Adds support for custom Log4j 1.x level in the form&lt;br/&gt;
`level_name#class_name`.&lt;/p&gt;

&lt;p&gt;Levels defined directly in Log4j 2.x can be used in the bridge using the&lt;br/&gt;
form `level_name#org.apache.logging.log4j.Level`.&lt;/p&gt;

&lt;p&gt;Conflicts:&lt;br/&gt;
	log4j-1.2-api/src/main/java/org/apache/log4j/config/Log4j1Configuration.java&lt;/p&gt;</comment>
                            <comment id="17515555" author="jira-bot" created="Thu, 31 Mar 2022 19:43:32 +0000"  >&lt;p&gt;Commit 4c63bbf7299b404a308c61167db83b0c32d9d322 in logging-log4j2&apos;s branch refs/heads/master from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=4c63bbf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=4c63bbf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Add a Log4j 1.x level name pattern converter&lt;/p&gt;

&lt;p&gt;When custom levels are in play the names of Log4j 1.x custom levels&lt;br/&gt;
(which are not unique) and those of Log4j 2.x custom levels (which must&lt;br/&gt;
be unique) do not match.&lt;/p&gt;

&lt;p&gt;There is a need therefore for a pattern converter specific to Log4j 1.x.&lt;/p&gt;

&lt;p&gt;Conflicts:&lt;br/&gt;
	log4j-1.2-api/src/main/java/org/apache/log4j/builders/layout/PatternLayoutBuilder.java&lt;br/&gt;
	log4j-1.2-api/src/main/java/org/apache/log4j/builders/layout/SimpleLayoutBuilder.java&lt;/p&gt;</comment>
                            <comment id="17515556" author="jira-bot" created="Thu, 31 Mar 2022 19:43:33 +0000"  >&lt;p&gt;Commit c44d7e8e3ae4eaf2c941d6cac7502d073e0a1a06 in logging-log4j2&apos;s branch refs/heads/master from Piotr P. Karwasz&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=c44d7e8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=c44d7e8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3419&quot; title=&quot;Unable to create custom logging level using log4j 2 Bridge API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3419&quot;&gt;&lt;del&gt;LOG4J2-3419&lt;/del&gt;&lt;/a&gt; Allows %pid in Log4j 1.x patterns&lt;/p&gt;

&lt;p&gt;Although `%pid` was never a valid Log4j 1.x pattern, it was supported in&lt;br/&gt;
the previous bridge versions.&lt;/p&gt;

&lt;p&gt;This fixes a regression with respect to `log4j-1.2-api` version 2.17.2.&lt;/p&gt;

&lt;p&gt;Conflicts:&lt;br/&gt;
	log4j-1.2-api/src/main/java/org/apache/log4j/builders/layout/PatternLayoutBuilder.java&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13432807">LOG4J2-3431</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="13424009">LOG4J2-3359</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13041018" name="DemoCustom.zip" size="2180009" author="TukeshK" created="Sat, 12 Mar 2022 20:55:40 +0000"/>
                            <attachment id="13041262" name="Level.java" size="3905" author="ragini" created="Thu, 17 Mar 2022 07:08:23 +0000"/>
                            <attachment id="13041265" name="log4j.properties" size="1348" author="ragini" created="Thu, 17 Mar 2022 07:17:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10160:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>