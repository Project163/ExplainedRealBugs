<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3170] EncodingPatternConverter CRLF encoding is slow with large log messages (it has quadratic time complexity)</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3170</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;This code that escapes newlines is very slow on large log messages where those message contain lots of newline characters. For example &quot;abc&quot; repeated a million times takes less than a second to log, but &quot;a\r\n&quot; repeated a million times takes over 5 minutes (in my test).&lt;/p&gt;

&lt;p&gt;I think it is accurate to say that this code has quadratic time complexity: &lt;a href=&quot;https://github.com/apache/logging-log4j2/blame/master/log4j-core/src/main/java/org/apache/logging/log4j/core/pattern/EncodingPatternConverter.java#L151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/blame/master/log4j-core/src/main/java/org/apache/logging/log4j/core/pattern/EncodingPatternConverter.java#L151&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If necessary I can supply more examples and/or a fix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13403848">LOG4J2-3170</key>
            <summary>EncodingPatternConverter CRLF encoding is slow with large log messages (it has quadratic time complexity)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vy">Volkan Yazici</assignee>
                                    <reporter username="garethdanielsmith">Gareth Daniel Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Sep 2021 13:04:50 +0000</created>
                <updated>Thu, 7 Oct 2021 23:07:27 +0000</updated>
                            <resolved>Sun, 3 Oct 2021 20:20:17 +0000</resolved>
                                    <version>2.14.1</version>
                                    <fixVersion>2.15.0</fixVersion>
                                    <component>Pattern Converters</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17421652" author="vy" created="Tue, 28 Sep 2021 20:08:19 +0000"  >&lt;p&gt;Thanks so much for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garethdanielsmith&quot; class=&quot;user-hover&quot; rel=&quot;garethdanielsmith&quot;&gt;garethdanielsmith&lt;/a&gt;, a fix (targeting the &lt;tt&gt;release-2.x&lt;/tt&gt; branch)&#160;would be great! Please prefix your GitHub PR title with this ticket ID.&lt;/p&gt;</comment>
                            <comment id="17423717" author="jira-bot" created="Sun, 3 Oct 2021 20:16:10 +0000"  >&lt;p&gt;Commit 1c4f8468083ced1f81c5de791683bd99cc4413f8 in logging-log4j2&apos;s branch refs/heads/release-2.x from Gareth Smith&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1c4f846&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1c4f846&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3170&quot; title=&quot;EncodingPatternConverter CRLF encoding is slow with large log messages (it has quadratic time complexity)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3170&quot;&gt;&lt;del&gt;LOG4J2-3170&lt;/del&gt;&lt;/a&gt; Make the CRLF and HTML pattern converters O&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_down.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; in time. (#585)&lt;/p&gt;

&lt;p&gt;Previously they had O(n ^ 2) performance in the worst case.&lt;/p&gt;</comment>
                            <comment id="17423718" author="jira-bot" created="Sun, 3 Oct 2021 20:18:42 +0000"  >&lt;p&gt;Commit 3e7fd88c1755bcabcc888040817fc81b43a276cf in logging-log4j2&apos;s branch refs/heads/release-2.x from Volkan Yazici&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=3e7fd88&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=3e7fd88&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3170&quot; title=&quot;EncodingPatternConverter CRLF encoding is slow with large log messages (it has quadratic time complexity)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3170&quot;&gt;&lt;del&gt;LOG4J2-3170&lt;/del&gt;&lt;/a&gt; Update changes.xml.&lt;/p&gt;</comment>
                            <comment id="17423719" author="jira-bot" created="Sun, 3 Oct 2021 20:19:28 +0000"  >&lt;p&gt;Commit 07e555642032a3645a9c99d8dea1ad94e87a5ae6 in logging-log4j2&apos;s branch refs/heads/master from Gareth Smith&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=07e5556&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=07e5556&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3170&quot; title=&quot;EncodingPatternConverter CRLF encoding is slow with large log messages (it has quadratic time complexity)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3170&quot;&gt;&lt;del&gt;LOG4J2-3170&lt;/del&gt;&lt;/a&gt; Make the CRLF and HTML pattern converters O&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_down.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; in time. (#585)&lt;/p&gt;

&lt;p&gt;Previously they had O(n ^ 2) performance in the worst case.&lt;/p&gt;</comment>
                            <comment id="17423720" author="jira-bot" created="Sun, 3 Oct 2021 20:19:29 +0000"  >&lt;p&gt;Commit 1a913b8fa82ab07b9a80896f8352ed8aa728919a in logging-log4j2&apos;s branch refs/heads/master from Volkan Yazici&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1a913b8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=1a913b8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3170&quot; title=&quot;EncodingPatternConverter CRLF encoding is slow with large log messages (it has quadratic time complexity)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3170&quot;&gt;&lt;del&gt;LOG4J2-3170&lt;/del&gt;&lt;/a&gt; Update changes.xml.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0vdq8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>