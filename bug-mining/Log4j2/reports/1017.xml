<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:38:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1032] Rollover startegy failing on high load</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1032</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;On windows virtual machines, the roll over strategy simply fails and the log size becomes huge. This happens on high load on tomcat server.&lt;br/&gt;
Log4j2 is loaded from our application using below configuration&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;Configuration status=&lt;span class=&quot;code-quote&quot;&gt;&quot;OFF&quot;&lt;/span&gt;&amp;gt;

	&amp;lt;!-- Appenders --&amp;gt;
	&amp;lt;Appenders&amp;gt;

		&amp;lt;RollingFile name=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxxRootAppender&quot;&lt;/span&gt;
			fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/com.xvx.connector.log&quot;&lt;/span&gt;
			filePattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/com.xvx.connector-%d{dd-MM-yyyy}#%i.log&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;[%d{yyyy-MM-dd HH:mm:ss}][%t][%p] %m%n&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;Policies&amp;gt;
				&amp;lt;TimeBasedTriggeringPolicy /&amp;gt;
				&amp;lt;SizeBasedTriggeringPolicy size=&lt;span class=&quot;code-quote&quot;&gt;&quot;100 MB&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;/Policies&amp;gt;
			&amp;lt;DefaultRolloverStrategy max=&lt;span class=&quot;code-quote&quot;&gt;&quot;50&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/RollingFile&amp;gt;

		&amp;lt;RollingFile name=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxxRequestResponseAppender&quot;&lt;/span&gt;
			fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/com.xvx.connector-request-response.log&quot;&lt;/span&gt;
			filePattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/com.xvx.connector-request-response-%d{dd-MM-yyyy}#%i.log&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;[%d{yyyy-MM-dd HH:mm:ss}][%t][%p] %m%n&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;Policies&amp;gt;
				&amp;lt;TimeBasedTriggeringPolicy /&amp;gt;
				&amp;lt;SizeBasedTriggeringPolicy size=&lt;span class=&quot;code-quote&quot;&gt;&quot;100 MB&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;/Policies&amp;gt;
			&amp;lt;DefaultRolloverStrategy max=&lt;span class=&quot;code-quote&quot;&gt;&quot;50&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/RollingFile&amp;gt;

		&amp;lt;RollingFile name=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxxTimeAppender&quot;&lt;/span&gt;
			fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/com.xvx.connector-time.log&quot;&lt;/span&gt;
			filePattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/com.xvx.connector-time-%d{dd-MM-yyyy}#%i.log&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;[%d{yyyy-MM-dd HH:mm:ss}][%t][%p] %m%n&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;Policies&amp;gt;
				&amp;lt;TimeBasedTriggeringPolicy /&amp;gt;
				&amp;lt;SizeBasedTriggeringPolicy size=&lt;span class=&quot;code-quote&quot;&gt;&quot;100 MB&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;/Policies&amp;gt;
			&amp;lt;DefaultRolloverStrategy max=&lt;span class=&quot;code-quote&quot;&gt;&quot;50&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/RollingFile&amp;gt;

		&amp;lt;!-- Spring framework Appender --&amp;gt;
		&amp;lt;RollingFile name=&lt;span class=&quot;code-quote&quot;&gt;&quot;springFrameworkAppender&quot;&lt;/span&gt;
			fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/org.springframework.log&quot;&lt;/span&gt;
			filePattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/org.springframework-%d{dd-MM-yyyy}#%i.log&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;[%d{yyyy-MM-dd HH:mm:ss}][%t][%p] %m%n&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;Policies&amp;gt;
				&amp;lt;TimeBasedTriggeringPolicy /&amp;gt;
				&amp;lt;SizeBasedTriggeringPolicy size=&lt;span class=&quot;code-quote&quot;&gt;&quot;100 MB&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;/Policies&amp;gt;
			&amp;lt;DefaultRolloverStrategy max=&lt;span class=&quot;code-quote&quot;&gt;&quot;50&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/RollingFile&amp;gt;

		&amp;lt;!-- Spring jdbc Appender --&amp;gt;
		&amp;lt;RollingFile name=&lt;span class=&quot;code-quote&quot;&gt;&quot;springjdbcAppender&quot;&lt;/span&gt;
			fileName=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/org.springframework.jdbc.log&quot;&lt;/span&gt;
			filePattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;${sys:catalina.base}/logs/xvx/org.springframework.jdbc-%d{dd-MM-yyyy}#%i.log&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;PatternLayout pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;[%d{yyyy-MM-dd HH:mm:ss}][%t][%p] %m%n&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;Policies&amp;gt;
				&amp;lt;TimeBasedTriggeringPolicy /&amp;gt;
				&amp;lt;SizeBasedTriggeringPolicy size=&lt;span class=&quot;code-quote&quot;&gt;&quot;100 MB&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;/Policies&amp;gt;
			&amp;lt;DefaultRolloverStrategy max=&lt;span class=&quot;code-quote&quot;&gt;&quot;50&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/RollingFile&amp;gt;
	&amp;lt;/Appenders&amp;gt;

	&amp;lt;Loggers&amp;gt;
		&amp;lt;!-- 3rdparty Loggers --&amp;gt;
		&amp;lt;Logger name=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.github.isrsal.logging.LoggingFilter&quot;&lt;/span&gt; level=&lt;span class=&quot;code-quote&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt; additivity=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxxRequestResponseAppender&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/Logger&amp;gt;

		&amp;lt;Logger name=&lt;span class=&quot;code-quote&quot;&gt;&quot;connector.timeLogger&quot;&lt;/span&gt; level=&lt;span class=&quot;code-quote&quot;&gt;&quot;OFF&quot;&lt;/span&gt; additivity=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxxTimeAppender&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/Logger&amp;gt;

		&amp;lt;Logger name=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.springframework&quot;&lt;/span&gt; level=&lt;span class=&quot;code-quote&quot;&gt;&quot;OFF&quot;&lt;/span&gt; additivity=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;springFrameworkAppender&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/Logger&amp;gt;

		&amp;lt;Logger name=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.springframework.jdbc&quot;&lt;/span&gt; level=&lt;span class=&quot;code-quote&quot;&gt;&quot;ALL&quot;&lt;/span&gt; additivity=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;springjdbcAppender&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/Logger&amp;gt;

		&amp;lt;!-- Root Logger --&amp;gt;
		&amp;lt;Root level=&lt;span class=&quot;code-quote&quot;&gt;&quot;ALL&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;AppenderRef ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxxRootAppender&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/Root&amp;gt;
	&amp;lt;/Loggers&amp;gt;
&amp;lt;/Configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;we are using slf4j 1.7.7&lt;/p&gt;





</description>
                <environment></environment>
        <key id="12833472">LOG4J2-1032</key>
            <summary>Rollover startegy failing on high load</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="binoy.varghese@leanswift.com">Binoy Varghese</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 May 2015 15:58:58 +0000</created>
                <updated>Mon, 16 Jan 2017 06:45:38 +0000</updated>
                            <resolved>Mon, 16 Jan 2017 06:45:37 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>2.8</fixVersion>
                                    <component>Appenders</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15313337" author="ralph.goers@dslextreme.com" created="Thu, 2 Jun 2016 23:52:27 +0000"  >&lt;p&gt;The RenameAction was modified to use java.nio so it can better report rename failures and their cause. This won&apos;t fix the issue. That will require an enhancement to the RollingFileAppender to write to the filePattern directly instead of renaming files.&lt;/p&gt;</comment>
                            <comment id="15823531" author="jira-bot" created="Mon, 16 Jan 2017 06:42:27 +0000"  >&lt;p&gt;Commit b331da4ad6a49df4363b2056cb8d9e8efc4a2ce0 in logging-log4j2&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralph.goers%40dslextreme.com&quot; class=&quot;user-hover&quot; rel=&quot;ralph.goers@dslextreme.com&quot;&gt;ralph.goers@dslextreme.com&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=b331da4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;h=b331da4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-1032&quot; title=&quot;Rollover startegy failing on high load&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-1032&quot;&gt;&lt;del&gt;LOG4J2-1032&lt;/del&gt;&lt;/a&gt; - Make DefaultRolloverStrategy more efficent when renaming files. Add nomax option to the fileIndex attribute.&lt;/p&gt;</comment>
                            <comment id="15823536" author="ralph.goers@dslextreme.com" created="Mon, 16 Jan 2017 06:45:38 +0000"  >&lt;p&gt;The fix for this is now in master. It consists of 2 parts:&lt;br/&gt;
1. Only the files that exist will attempt to be renamed. Previously it looked for all files from min to max.&lt;br/&gt;
2. fileIndex=&quot;nomax&quot; can now be specified. This will simply increment the counter for each new archive so no renames occur at all.&lt;/p&gt;

&lt;p&gt;Please verify and close if it works for you.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12858043">LOG4J2-1101</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fbtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>