<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3201] Limit the protocols JNDI can use and restrict LDAP.</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3201</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;LDAP needs to be limited in the servers and classes it can access. JNDI should only support the java, ldap, and ldaps protocols by default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13415440">LOG4J2-3201</key>
            <summary>Limit the protocols JNDI can use and restrict LDAP.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Dec 2021 03:54:13 +0000</created>
                <updated>Mon, 27 Jan 2025 07:21:27 +0000</updated>
                            <resolved>Wed, 15 Dec 2021 01:25:51 +0000</resolved>
                                                    <fixVersion>2.15.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>24</watches>
                                                                                                                <comments>
                            <comment id="17453515" author="jira-bot" created="Sun, 5 Dec 2021 04:00:03 +0000"  >&lt;p&gt;Commit 7fe72d62fcb9246be792b946e405e1d40d402780 in logging-log4j2&apos;s branch refs/heads/ldap-controls from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7fe72d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7fe72d6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3201&quot; title=&quot;Limit the protocols JNDI can use and restrict LDAP.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3201&quot;&gt;&lt;del&gt;LOG4J2-3201&lt;/del&gt;&lt;/a&gt; - Limit the protocols JNDI can use by default. Limit the servers and classes that can be accessed via LDAP.&lt;/p&gt;</comment>
                            <comment id="17453516" author="jira-bot" created="Sun, 5 Dec 2021 04:01:11 +0000"  >&lt;p&gt;Commit d82b47c6fae9c15fcb183170394d5f1a01ac02d3 in logging-log4j2&apos;s branch refs/heads/master from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=d82b47c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=d82b47c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3201&quot; title=&quot;Limit the protocols JNDI can use and restrict LDAP.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3201&quot;&gt;&lt;del&gt;LOG4J2-3201&lt;/del&gt;&lt;/a&gt; - Limit the protocols JNDI can use by default. Limit the servers and classes that can be accessed via LDAP.&lt;/p&gt;</comment>
                            <comment id="17453517" author="jira-bot" created="Sun, 5 Dec 2021 04:03:38 +0000"  >&lt;p&gt;Commit c77b3cb39312b83b053d23a2158b99ac7de44dd3 in logging-log4j2&apos;s branch refs/heads/release-2.x from Ralph Goers&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=c77b3cb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=c77b3cb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Restrict LDAP access via JNDI (#608)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Restrict LDAP access via JNDI&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Disable most JNDI protocols&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Rename test. Various minor fixes&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3201&quot; title=&quot;Limit the protocols JNDI can use and restrict LDAP.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3201&quot;&gt;&lt;del&gt;LOG4J2-3201&lt;/del&gt;&lt;/a&gt; - Limit the protocols JNDI can use by default. Limit the servers and classes that can be accessed via LDAP.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17456699" author="busbey" created="Thu, 9 Dec 2021 19:49:15 +0000"  >&lt;p&gt;the 2.15.0 release vote is ongoing. please see the dev list for details.&lt;/p&gt;</comment>
                            <comment id="17456907" author="JIRAUSER281395" created="Fri, 10 Dec 2021 06:37:55 +0000"  >&lt;p&gt;Will there be incremental update packages for historical versions? For example, 2.13.x. There will be many compatibility issues when directly upgrading to 2.15.0&lt;/p&gt;</comment>
                            <comment id="17456947" author="vy" created="Fri, 10 Dec 2021 08:19:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e1knot&quot; class=&quot;user-hover&quot; rel=&quot;e1knot&quot;&gt;e1knot&lt;/a&gt;, that is not in the radar of the team. Though we try hard to not introduce any backward incompatible changes in minor version updates, hence 2.13.x to 2.15.0 should be a smooth transition. Let us know if you happen to have any issues.&lt;/p&gt;</comment>
                            <comment id="17456954" author="vy" created="Fri, 10 Dec 2021 08:31:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e1knot&quot; class=&quot;user-hover&quot; rel=&quot;e1knot&quot;&gt;e1knot&lt;/a&gt;, for the records, you can &lt;em&gt;&quot;fix&quot;&lt;/em&gt; the problem by removing &lt;tt&gt;JndiLookup&lt;/tt&gt; class from the JAR as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
zip -q -d log4j-core-*.jar org/apache/logging/log4j/core/lookup/JndiLookup.class
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Credit goes to &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/608#issuecomment-990305306&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;zhangyoufu&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17456958" author="JIRAUSER281526" created="Fri, 10 Dec 2021 08:38:43 +0000"  >&lt;p&gt;my project do not depends on log4j-core, but depends on log4j-api. after I viewed the codes your commit, I think this bug will not work in my application, is it correct?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7fe72d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=7fe72d6&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=d82b47c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=d82b47c&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=c77b3cb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=c77b3cb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="17456962" author="vy" created="Fri, 10 Dec 2021 08:42:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pingqicao&quot; class=&quot;user-hover&quot; rel=&quot;pingqicao&quot;&gt;pingqicao&lt;/a&gt;, if you only depend on &lt;tt&gt;log4j-api&lt;/tt&gt;, you are not affected by this vulnerability, which surfaces when a certain logging configuration (&lt;tt&gt;PatternLayout&lt;/tt&gt; + message lookups enabled) is employed.&lt;/p&gt;</comment>
                            <comment id="17458469" author="JIRAUSER281734" created="Mon, 13 Dec 2021 15:10:21 +0000"  >&lt;p&gt;Thanks for the clarification &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vy&quot; class=&quot;user-hover&quot; rel=&quot;vy&quot;&gt;vy&lt;/a&gt;. If i understand correctly, &lt;b&gt;log4j-core&lt;/b&gt;&#160;should be the only dependency that needs to be upgraded within applications. Other log4j dependencies if set to an older version by maven conflicts , should not be a concern i hope.&lt;/p&gt;</comment>
                            <comment id="17458470" author="garydgregory" created="Mon, 13 Dec 2021 15:13:07 +0000"  >&lt;p&gt;Yes, you can only update log4j-core but it will be odd if you end up with mixing versions. It all depends on how you manage dependencies in your project.&lt;/p&gt;</comment>
                            <comment id="17458921" author="JIRAUSER281734" created="Tue, 14 Dec 2021 06:07:47 +0000"  >&lt;p&gt;I agree it would look weird. I could see eclipse resolve the dependency hierarchy where another jar dependency was resolving the log-4j.api to 2.13.* while i had already changed the log4j-core to 2.15.0. Ideally i&#160; believe that there shouldn&apos;t have been any version mismatch issues between 2.13 and 2.15, but we decided to bump the log4j-api explicitly to 2.15.0 to be on a safer side.&lt;/p&gt;</comment>
                            <comment id="17458969" author="JIRAUSER281395" created="Tue, 14 Dec 2021 08:03:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vy&quot; class=&quot;user-hover&quot; rel=&quot;vy&quot;&gt;vy&lt;/a&gt; Hi, I just noticed that log4j2 has released a bug fix patch for 2.12.x. Will there be plans to extend this patch to other branch versions? If so, that is definitely a good thing!&lt;/p&gt;</comment>
                            <comment id="17459031" author="vy" created="Tue, 14 Dec 2021 10:15:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e1knot&quot; class=&quot;user-hover&quot; rel=&quot;e1knot&quot;&gt;e1knot&lt;/a&gt;, that is not in our radar. Do you have a certain use case in mind?&lt;/p&gt;</comment>
                            <comment id="17459257" author="JIRAUSER281848" created="Tue, 14 Dec 2021 15:41:04 +0000"  >&lt;p&gt;Did any one face this issue, upgraded to version log4j2 1.6 in weblogic 12c&lt;/p&gt;

&lt;p&gt;(added these 3 class files log4j-core-2.16.0.jar, log4j-slf4j-impl-2.16.0, log4j-api-2.16.0.jar)&#160;&lt;br/&gt;
(replaced existing log4j-core-2.15.0.jar, log4j-slf4j-impl-2.15.0, log4j-api-2.15.0.jar)&lt;/p&gt;

&lt;p&gt;log4j2 is used with slf4j-api-1.6.0.jar&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;pool-4-thread-1&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/message/ParameterizedNoReferenceMessageFactory$StatusMessage&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.logging.log4j.message.ParameterizedNoReferenceMessageFactory.newMessage(ParameterizedNoReferenceMessageFactory.java:105)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.logging.log4j.message.AbstractMessageFactory.newMessage(AbstractMessageFactory.java:75)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2010)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1884)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:793)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.logging.log4j.core.util.DefaultShutdownCallbackRegistry.run(DefaultShutdownCallbackRegistry.java:76)&lt;br/&gt;
&#160; &#160; &#160; &#160; at java.lang.Thread.run(Thread.java:748)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.message.ParameterizedNoReferenceMessageFactory$StatusMessage&lt;br/&gt;
&#160; &#160; &#160; &#160; at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:387)&lt;br/&gt;
&#160; &#160; &#160; &#160; at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:348)&lt;br/&gt;
&#160; &#160; &#160; &#160; at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:86)&lt;br/&gt;
&#160; &#160; &#160; &#160; at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&lt;br/&gt;
&#160; &#160; &#160; &#160; at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&lt;br/&gt;
&#160; &#160; &#160; &#160; at weblogic.utils.classloaders.GenericClassLoader.loadClass(GenericClassLoader.java:193)&lt;br/&gt;
&#160; &#160; &#160; &#160; at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:52)&lt;br/&gt;
&#160; &#160; &#160; &#160; ... 7 more&lt;/p&gt;</comment>
                            <comment id="17459271" author="garydgregory" created="Tue, 14 Dec 2021 15:59:10 +0000"  >&lt;p&gt;The class &lt;tt&gt;ParameterizedNoReferenceMessageFactory$StatusMessage&lt;/tt&gt; was added in version 2.6. Do you have some other log4j jars on your classpath? You should make sure the 2.16 jars are on the same place on the classpath as your old log4j jars.&lt;/p&gt;</comment>
                            <comment id="17459287" author="JIRAUSER281854" created="Tue, 14 Dec 2021 16:34:44 +0000"  >&lt;p&gt;Any ETA on 2.12.2 release to maven central?&#160; &#160; Also as Jeremy Li asked, any plans to do for other versions especially 2.3&#160; It would be tremendously helpful legacy enterprise apps still running old versions of java but can&apos;t upgrade immediately. thanks&lt;/p&gt;</comment>
                            <comment id="17459529" author="vy" created="Tue, 14 Dec 2021 22:31:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=siril&quot; class=&quot;user-hover&quot; rel=&quot;siril&quot;&gt;siril&lt;/a&gt;, 2.12.2 has already been released this morning. The website is updated a couple of hours ago.&lt;/p&gt;</comment>
                            <comment id="17459597" author="garydgregory" created="Wed, 15 Dec 2021 01:25:51 +0000"  >&lt;p&gt;Fix Jira title.&lt;/p&gt;</comment>
                            <comment id="17461134" author="JIRAUSER281854" created="Fri, 17 Dec 2021 00:25:19 +0000"  >&lt;p&gt;thanks a ton for 2.12.2 fix.&#160; Any plans to do same for 2.3 (as that is last version that is compatible for java 6)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13417884">LOG4J2-3242</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xd28:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>