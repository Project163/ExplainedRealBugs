<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:36:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-1336] LoggerFactory in 1.2 API module is not compatible with 1.2</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-1336</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;LoggerFactory from log4j 1.2 compatibility layer is not compatible with the original 1.2 version. Therefore software which creates its customized loggers is failing due to AbstractMethodError error.&lt;/p&gt;

&lt;p&gt;The fix is quite simple - just keep the original interface. The attached patch continues to support the current method too, but uses different interface name for the functionality so it doesn&apos;t clash with 1.2 API.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12954367">LOG4J2-1336</key>
            <summary>LoggerFactory in 1.2 API module is not compatible with 1.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kvr">Zbynek Vyskovsky</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Tue, 29 Mar 2016 17:58:19 +0000</created>
                <updated>Tue, 5 Apr 2016 07:42:49 +0000</updated>
                            <resolved>Mon, 4 Apr 2016 19:34:16 +0000</resolved>
                                    <version>2.5</version>
                                    <fixVersion>2.6</fixVersion>
                                    <component>Log4j 1.2 bridge</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="15216757" author="ralph.goers@dslextreme.com" created="Tue, 29 Mar 2016 20:08:41 +0000"  >&lt;p&gt;I am not sure I care for your alternate name, but I get the intent.&lt;/p&gt;</comment>
                            <comment id="15219276" author="garydgregory" created="Thu, 31 Mar 2016 03:37:24 +0000"  >&lt;p&gt;Pushed modified patch to Git master. &lt;/p&gt;

&lt;p&gt;TODO: Agree on an interface name: I used &lt;tt&gt;LoggerFactoryBridge&lt;/tt&gt; instead of &lt;tt&gt;LoggerFactoryContexted&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Please verify and note here if this issue can be closed.&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="15219904" author="jvz" created="Thu, 31 Mar 2016 14:07:43 +0000"  >&lt;p&gt;Sounds pretty similar to the existing o.a.l.l.spi.LoggerAdapter but with a slightly different interface.&lt;/p&gt;</comment>
                            <comment id="15220117" author="garydgregory" created="Thu, 31 Mar 2016 16:17:28 +0000"  >&lt;p&gt;Nice find Matt, but how do you square the circle WRT the Core LoggerContext?&lt;/p&gt;</comment>
                            <comment id="15220162" author="jvz" created="Thu, 31 Mar 2016 16:37:40 +0000"  >&lt;p&gt;AbstractLoggerAdapter.newLogger() looks useful&lt;/p&gt;</comment>
                            <comment id="15220412" author="kvr" created="Thu, 31 Mar 2016 18:33:26 +0000"  >&lt;p&gt;Matt, not sure I understand completely, but the issue with the original implementation is that it provides different interface that is different from the one in log4j 1.2. I&apos;m not looking for another interface/class which would serve the same.&lt;/p&gt;

&lt;p&gt;Anyway, I tried it and it fixes the problem. And I&apos;m happy about the name, I had hard times coming up with proper one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks.&lt;/p&gt;</comment>
                            <comment id="15220446" author="jvz" created="Thu, 31 Mar 2016 18:53:02 +0000"  >&lt;p&gt;I&apos;m trying to see if we can re-use a log4j-api class instead of creating a new one specific to log4j-1.2.-api.&lt;/p&gt;</comment>
                            <comment id="15220459" author="kvr" created="Thu, 31 Mar 2016 18:57:27 +0000"  >&lt;p&gt;We cannot. This class (or actually an interface) is provided by legacy log4j 1.2 so it needs to be defined exactly like its original counterparty in log4j 1.2 wrapper over log4j2. So the same name, the same package and the same set of methods with the same signature.&lt;/p&gt;</comment>
                            <comment id="15220464" author="jvz" created="Thu, 31 Mar 2016 18:59:48 +0000"  >&lt;p&gt;Sorry if I wasn&apos;t clear, but I&apos;m talking about the LoggerFactoryBridge interface.&lt;/p&gt;</comment>
                            <comment id="15220986" author="ralph.goers@dslextreme.com" created="Fri, 1 Apr 2016 01:59:15 +0000"  >&lt;p&gt;I don&apos;t understand how LoggerFactoryBridge could be replaced with LoggerAdapter. Each of the interfaces contain a single method and both take a name, but makeNewLoggerInstance requires the LoggerContext while LoggerAdapter does not. LoggerAdapter is very similar to LoggerFactory but LoggerAdapter cannot be used - it must be exactly the same as the Log4j 1.x LoggerFactory interface.&lt;/p&gt;

&lt;p&gt;I suppose if Category extends AbstractLoggerAdapter it might work.&lt;/p&gt;</comment>
                            <comment id="15223109" author="garydgregory" created="Sun, 3 Apr 2016 02:55:50 +0000"  >&lt;p&gt;Any further thoughts here Matt? I&apos;m not wild about the name &lt;tt&gt;LoggerFactoryBridge&lt;/tt&gt; but that&apos;s the best I came up with at the time. Should we mark this one as resolved?&lt;/p&gt;</comment>
                            <comment id="15223512" author="jvz" created="Sun, 3 Apr 2016 20:52:04 +0000"  >&lt;p&gt;Attached is an example of what I was talking about. I think log4j-1.2-api was the only bridged module that wasn&apos;t using LoggerAdapter in some form as of 2.5.&lt;/p&gt;</comment>
                            <comment id="15224843" author="garydgregory" created="Mon, 4 Apr 2016 19:13:03 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jvz&quot; class=&quot;user-hover&quot; rel=&quot;jvz&quot;&gt;jvz&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Better to re-use than re-invent &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralphgoers&quot; class=&quot;user-hover&quot; rel=&quot;ralphgoers&quot;&gt;ralphgoers&lt;/a&gt;, WDYT?&lt;/p&gt;
</comment>
                            <comment id="15224862" author="kvr" created="Mon, 4 Apr 2016 19:22:10 +0000"  >&lt;p&gt;I can confirm this worked in my case too. Actually the problem I was facing is probably completely independent on this. So thanks Matt for finding that class.&lt;/p&gt;</comment>
                            <comment id="15224878" author="jvz" created="Mon, 4 Apr 2016 19:31:03 +0000"  >&lt;p&gt;Amusingly enough, the git history says I wrote this class quite a while ago. I forgot about it until this issue popped up.&lt;/p&gt;</comment>
                            <comment id="15224890" author="jvz" created="Mon, 4 Apr 2016 19:34:16 +0000"  >&lt;p&gt;Applied patch to master. Go ahead and close this if this resolves the issue for you.&lt;/p&gt;</comment>
                            <comment id="15224937" author="ralph.goers@dslextreme.com" created="Mon, 4 Apr 2016 19:54:53 +0000"  >&lt;p&gt;Looks like it should be fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12796753" name="Re_use_LoggerAdapter.patch" size="5147" author="mattsicker" created="Sun, 3 Apr 2016 20:52:04 +0000"/>
                            <attachment id="12795884" name="log4j-1.2-compatible-factory.diff" size="4495" author="kvr" created="Tue, 29 Mar 2016 17:59:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vcuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>