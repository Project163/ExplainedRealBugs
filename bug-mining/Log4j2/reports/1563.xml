<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:42:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LOG4J2-3407] PropertiesConfiguration.parseAppender NPE when logger refers to non-existent appender</title>
                <link>https://issues.apache.org/jira/browse/LOG4J2-3407</link>
                <project id="12310790" key="LOG4J2">Log4j 2</project>
                    <description>&lt;p&gt;When parsing a &lt;tt&gt;log4j.proprties&lt;/tt&gt; file that contains a logger that refers to a non-existent appender, you get a NPE.&lt;/p&gt;

&lt;p&gt;While this is clearly a malformed configuration, Log4j 1.2.x silently ignored this, and the log4j2 bridge should be as tolerant.&lt;/p&gt;

&lt;p&gt;Note that &lt;tt&gt;PropertiesConfiguration#parseLogger&lt;/tt&gt; is already tolerant of the appender being missing (it does a null check on the result of &lt;tt&gt;parseAppender&lt;/tt&gt;), but &lt;tt&gt;parseAppender&lt;/tt&gt; itself is not tolerant.&lt;/p&gt;

&lt;p&gt;An example config would be:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;log4j.logger.mylogger=INFO, myappender
# log4j.appender.myappender=org.apache.log4j.ConsoleAppender
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The appender has been commented out, to illustrate the bug.&lt;/p&gt;

&lt;p&gt;Stack trace from log4j 2.17.1:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.NullPointerException
		at org.apache.log4j.builders.BuilderManager.parseAppender(BuilderManager.java:72)
		at org.apache.log4j.config.PropertiesConfiguration.parseAppender(PropertiesConfiguration.java:428)
		at org.apache.log4j.config.PropertiesConfiguration.parseLogger(PropertiesConfiguration.java:406)
		at org.apache.log4j.config.PropertiesConfiguration.parseLoggers(PropertiesConfiguration.java:351)
		at org.apache.log4j.config.PropertiesConfiguration.doConfigure(PropertiesConfiguration.java:304)
		at org.apache.log4j.config.PropertiesConfiguration.doConfigure(PropertiesConfiguration.java:93)
		at org.apache.log4j.config.Log4j1Configuration.initialize(Log4j1Configuration.java:60)
		at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)
		at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)
		at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)
		at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)
		at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)
		at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)
		at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)
		at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)
		at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)
		at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)
		at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)
		at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)
		at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)
		at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:388)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13429311">LOG4J2-3407</key>
            <summary>PropertiesConfiguration.parseAppender NPE when logger refers to non-existent appender</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kennymacleod.atl">Kenny MacLeod</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Feb 2022 10:00:02 +0000</created>
                <updated>Wed, 30 Mar 2022 21:37:54 +0000</updated>
                            <resolved>Mon, 21 Feb 2022 16:37:53 +0000</resolved>
                                    <version>2.17.1</version>
                                    <fixVersion>2.17.2</fixVersion>
                                    <component>Log4j 1.2 bridge</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17494547" author="kennymacleod.atl" created="Fri, 18 Feb 2022 11:13:40 +0000"  >&lt;p&gt;See attached patch file, and PR &lt;a href=&quot;https://github.com/apache/logging-log4j2/pull/761&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/logging-log4j2/pull/761&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17494575" author="garydgregory" created="Fri, 18 Feb 2022 12:22:30 +0000"  >&lt;p&gt;Changing the default behavior is a bad idea IMO. Not only that, but it would be inconsistent between formats. I never want to have to deal with this: a user edits a configuration file to reproduce some issue, runs their app for a day or two, then comes back and finds that some log is missing, by design. Not good. Configurations can be large and complex, they should work for not, we should not create half-baked configurations IMO.&lt;/p&gt;</comment>
                            <comment id="17494576" author="kennymacleod.atl" created="Fri, 18 Feb 2022 12:28:18 +0000"  >&lt;p&gt;Normally, I&apos;d 100% agree with you, but the point of the log4j 1.2 compat layer is to match the legacy behaviour as much as is practical, and this is what the legacy behaviour is.&lt;/p&gt;</comment>
                            <comment id="17494640" author="garydgregory" created="Fri, 18 Feb 2022 14:35:21 +0000"  >&lt;p&gt;Yikes. I see 2 issues: give a better exception message and do we want to emulate the v1 behavior. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgoers&quot; class=&quot;user-hover&quot; rel=&quot;rgoers&quot;&gt;rgoers&lt;/a&gt; any thoughts?&lt;/p&gt;</comment>
                            <comment id="17494737" author="ralph.goers@dslextreme.com" created="Fri, 18 Feb 2022 17:01:57 +0000"  >&lt;p&gt;My vote is to emulate the V1 behavior.&lt;/p&gt;</comment>
                            <comment id="17495621" author="jira-bot" created="Mon, 21 Feb 2022 16:35:38 +0000"  >&lt;p&gt;Commit 14fa165935faca61f5dc168a70925c87555e4cca in logging-log4j2&apos;s branch refs/heads/release-2.x from Kenny MacLeod&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=14fa165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=14fa165&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3407&quot; title=&quot;PropertiesConfiguration.parseAppender NPE when logger refers to non-existent appender&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3407&quot;&gt;&lt;del&gt;LOG4J2-3407&lt;/del&gt;&lt;/a&gt; Check for non-existent appender when parsing properties (#761)&lt;/p&gt;
</comment>
                            <comment id="17495625" author="garydgregory" created="Mon, 21 Feb 2022 16:37:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kennymacleod.atl&quot; class=&quot;user-hover&quot; rel=&quot;kennymacleod.atl&quot;&gt;kennymacleod.atl&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;In git branch &lt;tt&gt;release-2.x&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Please verify and close this ticket.&lt;/p&gt;

&lt;p&gt;TY!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17495733" author="jira-bot" created="Mon, 21 Feb 2022 19:44:36 +0000"  >&lt;p&gt;Commit 362fe76dff4310836ee3c6d111d895fda97831c1 in logging-log4j2&apos;s branch refs/heads/release-2.x from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=362fe76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=362fe76&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3407&quot; title=&quot;PropertiesConfiguration.parseAppender NPE when logger refers to non-existent appender&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3407&quot;&gt;&lt;del&gt;LOG4J2-3407&lt;/del&gt;&lt;/a&gt; Log4j 1.2 bridge Check for non-existent appender when&lt;br/&gt;
parsing properties #761.&lt;/p&gt;</comment>
                            <comment id="17514964" author="jira-bot" created="Wed, 30 Mar 2022 21:37:54 +0000"  >&lt;p&gt;Commit e0dee7357a5e30cecdac36333c07e6e441b078b2 in logging-log4j2&apos;s branch refs/heads/master from Kenny MacLeod&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=e0dee73&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=logging-log4j2.git;h=e0dee73&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-3407&quot; title=&quot;PropertiesConfiguration.parseAppender NPE when logger refers to non-existent appender&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-3407&quot;&gt;&lt;del&gt;LOG4J2-3407&lt;/del&gt;&lt;/a&gt; Check for non-existent appender when parsing properties (#761)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="13040233" name="LOG4J2-3407.patch" size="5148" author="kennymacleod.atl" created="Fri, 18 Feb 2022 11:13:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0zpw0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>