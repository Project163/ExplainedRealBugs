diff --git a/log4j-async/src/main/java/org/apache/logging/log4j/async/ClockFactory.java b/log4j-async/src/main/java/org/apache/logging/log4j/async/ClockFactory.java
index 31bdd250bc..d17a5c49da 100644
--- a/log4j-async/src/main/java/org/apache/logging/log4j/async/ClockFactory.java
+++ b/log4j-async/src/main/java/org/apache/logging/log4j/async/ClockFactory.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async;
 
 import org.apache.logging.log4j.status.StatusLogger;
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerContextSelectorTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerContextSelectorTest.java
index 7b5414bf9b..9216aa46f2 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerContextSelectorTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerContextSelectorTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async;
 
 import static org.junit.Assert.*;
@@ -13,7 +29,7 @@ public class AsyncLoggerContextSelectorTest {
     public void testContextReturnsAsyncLoggerContext() {
         AsyncLoggerContextSelector selector = new AsyncLoggerContextSelector();
         LoggerContext context = selector.getContext(null, null, false);
-        
+
         assertTrue(context instanceof AsyncLoggerContext);
     }
 
@@ -21,7 +37,7 @@ public class AsyncLoggerContextSelectorTest {
     public void testContext2ReturnsAsyncLoggerContext() {
         AsyncLoggerContextSelector selector = new AsyncLoggerContextSelector();
         LoggerContext context = selector.getContext(null, null, false, null);
-        
+
         assertTrue(context instanceof AsyncLoggerContext);
     }
 
@@ -29,7 +45,7 @@ public class AsyncLoggerContextSelectorTest {
     public void testLoggerContextsReturnsAsyncLoggerContext() {
         AsyncLoggerContextSelector selector = new AsyncLoggerContextSelector();
         List<LoggerContext> list = selector.getLoggerContexts();
-        
+
         assertEquals(1, list.size());
         assertTrue(list.get(0) instanceof AsyncLoggerContext);
     }
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerContextTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerContextTest.java
index fb5ec85bc9..9cda0bca09 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerContextTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerContextTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async;
 
 import static org.junit.Assert.*;
@@ -15,7 +31,7 @@ public class AsyncLoggerContextTest {
         Logger logger = new AsyncLoggerContext("a").newInstance(
                 new LoggerContext("a"), "a", null);
         assertTrue(logger instanceof AsyncLogger);
-        
+
         ((LifeCycle) LogManager.getContext()).stop(); // stop async thread
     }
 }
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerLocationTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerLocationTest.java
index 7da8949d60..24ca6c5909 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerLocationTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerLocationTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async;
 
 import static org.junit.Assert.*;
@@ -32,7 +48,7 @@ public class AsyncLoggerLocationTest {
 
     @Test
     public void testAsyncLogWritesToLog() throws Exception {
-        File f = new File("AsyncLoggerLocationTest.log");
+        File f = new File("target", "AsyncLoggerLocationTest.log");
         // System.out.println(f.getAbsolutePath());
         f.delete();
         Logger log = LogManager.getLogger("com.foo.Bar");
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerTest.java
index 60b4ef611d..2c802b7228 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/AsyncLoggerTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async;
 
 import static org.junit.Assert.*;
@@ -32,7 +48,7 @@ public class AsyncLoggerTest {
 
     @Test
     public void testAsyncLogWritesToLog() throws Exception {
-        File f = new File("AsyncLoggerTest.log");
+        File f = new File("target", "AsyncLoggerTest.log");
         // System.out.println(f.getAbsolutePath());
         f.delete();
         Logger log = LogManager.getLogger("com.foo.Bar");
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/CachedClockTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/CachedClockTest.java
index 6479ad6018..63bde7cd9b 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/CachedClockTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/CachedClockTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async;
 
 import static org.junit.Assert.*;
@@ -10,9 +26,9 @@ public class CachedClockTest {
     public void testLessThan17Millis() {
         long millis1 = CachedClock.instance().currentTimeMillis();
         long sysMillis = System.currentTimeMillis();
-        
+
         long diff = sysMillis - millis1;
-        
+
         assertTrue("diff too large: " + diff, diff <= 16);
     }
 
@@ -21,9 +37,9 @@ public class CachedClockTest {
         Thread.sleep(100);
         long millis1 = CachedClock.instance().currentTimeMillis();
         long sysMillis = System.currentTimeMillis();
-        
+
         long diff = sysMillis - millis1;
-        
+
         assertTrue("diff too large: " + diff, diff <= 16);
     }
 
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/ClockFactoryTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/ClockFactoryTest.java
index fad23692de..fccd499950 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/ClockFactoryTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/ClockFactoryTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async;
 
 import static org.junit.Assert.*;
@@ -54,7 +70,7 @@ public class ClockFactoryTest {
             return 42;
         }
     }
-    
+
     @Test
     public void testCustomClock() {
         System.setProperty(ClockFactory.PROPERTY_NAME, MyClock.class.getName());
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/SystemClockTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/SystemClockTest.java
index a9561f9ba7..a662db25a6 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/SystemClockTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/SystemClockTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async;
 
 import static org.junit.Assert.*;
@@ -10,9 +26,9 @@ public class SystemClockTest {
     public void testLessThan2Millis() {
         long millis1 = new SystemClock().currentTimeMillis();
         long sysMillis = System.currentTimeMillis();
-        
+
         long diff = sysMillis - millis1;
-        
+
         assertTrue("diff too large: " + diff, diff <= 1);
     }
 
@@ -21,9 +37,9 @@ public class SystemClockTest {
         Thread.sleep(100);
         long millis1 = new SystemClock().currentTimeMillis();
         long sysMillis = System.currentTimeMillis();
-        
+
         long diff = sysMillis - millis1;
-        
+
         assertTrue("diff too large: " + diff, diff <= 1);
     }
 
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastFileAppenderLocationTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastFileAppenderLocationTest.java
index 5e04ab46c2..c56ded9862 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastFileAppenderLocationTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastFileAppenderLocationTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async.appender;
 
 import static org.junit.Assert.*;
@@ -23,7 +39,7 @@ public class FastFileAppenderLocationTest {
 
     @Test
     public void testLocationIncluded() throws Exception {
-        File f = new File("FastFileAppenderLocationTest.log");
+        File f = new File("target", "FastFileAppenderLocationTest.log");
         // System.out.println(f.getAbsolutePath());
         f.delete();
         Logger log = LogManager.getLogger("com.foo.Bar");
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastFileAppenderTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastFileAppenderTest.java
index e1782a2102..5e294be2ec 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastFileAppenderTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastFileAppenderTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async.appender;
 
 import static org.junit.Assert.*;
@@ -23,7 +39,7 @@ public class FastFileAppenderTest {
 
     @Test
     public void testFlushAtEndOfBatch() throws Exception {
-        File f = new File("FastFileAppenderTest.log");
+        File f = new File("target", "FastFileAppenderTest.log");
         // System.out.println(f.getAbsolutePath());
         f.delete();
         Logger log = LogManager.getLogger("com.foo.Bar");
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderLocationTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderLocationTest.java
index 6af9c28a7d..a6f7855608 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderLocationTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderLocationTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async.appender;
 
 import static org.junit.Assert.*;
@@ -23,7 +39,7 @@ public class FastRollingFileAppenderLocationTest {
 
     @Test
     public void testLocationIncluded() throws Exception {
-        File f = new File("FastRollingFileAppenderLocationTest.log");
+        File f = new File("target", "FastRollingFileAppenderLocationTest.log");
         // System.out.println(f.getAbsolutePath());
         f.delete();
         Logger log = LogManager.getLogger("com.foo.Bar");
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderRolloverTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderRolloverTest.java
new file mode 100644
index 0000000000..908053ea6e
--- /dev/null
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderRolloverTest.java
@@ -0,0 +1,92 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
+package org.apache.logging.log4j.async.appender;
+
+import static org.junit.Assert.*;
+
+import java.io.BufferedReader;
+import java.io.File;
+import java.io.FileReader;
+import java.util.Arrays;
+
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+import org.apache.logging.log4j.core.LifeCycle;
+import org.apache.logging.log4j.core.config.XMLConfigurationFactory;
+import org.junit.BeforeClass;
+import org.junit.Test;
+
+public class FastRollingFileAppenderRolloverTest {
+
+    @BeforeClass
+    public static void beforeClass() {
+        System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY,
+                "FastRollingFileAppenderTest.xml");
+    }
+
+    @Test
+    public void testRollover() throws Exception {
+        File f = new File("target", "FastRollingFileAppenderTest.log");
+        // System.out.println(f.getAbsolutePath());
+        File after1 = new File("target", "afterRollover-1.log");
+        f.delete();
+        after1.delete();
+
+        Logger log = LogManager.getLogger("com.foo.Bar");
+        String msg = "First a short message that does not trigger rollover";
+        log.info(msg);
+        Thread.sleep(50);
+
+        BufferedReader reader = new BufferedReader(new FileReader(f));
+        String line1 = reader.readLine();
+        assertTrue(line1.contains(msg));
+        reader.close();
+
+        assertFalse("afterRollover-1.log not created yet", after1.exists());
+
+        String exceed = "Long message that exceeds rollover size... ";
+        char[] padding = new char[250];
+        Arrays.fill(padding, 'X');
+        exceed += new String(padding);
+        log.warn(exceed);
+        assertFalse("exceeded size but afterRollover-1.log not created yet", after1.exists());
+
+        String trigger = "This message triggers rollover.";
+        log.warn(trigger);
+
+        ((LifeCycle) LogManager.getContext()).stop(); // stop async thread
+
+        assertTrue("afterRollover-1.log created", after1.exists());
+
+        reader = new BufferedReader(new FileReader(f));
+        String new1 = reader.readLine();
+        assertTrue("after rollover only new msg", new1.contains(trigger));
+        assertNull("No more lines", reader.readLine());
+        reader.close();
+        f.delete();
+
+        reader = new BufferedReader(new FileReader(after1));
+        String old1 = reader.readLine();
+        assertTrue("renamed file line 1", old1.contains(msg));
+        String old2 = reader.readLine();
+        assertTrue("renamed file line 2", old2.contains(exceed));
+        String line = reader.readLine();
+    //    assertNull("No more lines", line);
+        reader.close();
+        after1.delete();
+    }
+}
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderTest.java
index ef78eb2749..a5c6d12eba 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/appender/FastRollingFileAppenderTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async.appender;
 
 import static org.junit.Assert.*;
@@ -23,7 +39,7 @@ public class FastRollingFileAppenderTest {
 
     @Test
     public void testFlushAtEndOfBatch() throws Exception {
-        File f = new File("FastRollingFileAppenderTest.log");
+        File f = new File("target", "FastRollingFileAppenderTest.log");
         // System.out.println(f.getAbsolutePath());
         f.delete();
         Logger log = LogManager.getLogger("com.foo.Bar");
diff --git a/log4j-async/src/test/java/org/apache/logging/log4j/async/config/AsyncLoggerConfigTest.java b/log4j-async/src/test/java/org/apache/logging/log4j/async/config/AsyncLoggerConfigTest.java
index f2e224f00c..4d07a1307e 100644
--- a/log4j-async/src/test/java/org/apache/logging/log4j/async/config/AsyncLoggerConfigTest.java
+++ b/log4j-async/src/test/java/org/apache/logging/log4j/async/config/AsyncLoggerConfigTest.java
@@ -1,3 +1,19 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
 package org.apache.logging.log4j.async.config;
 
 import static org.junit.Assert.*;
@@ -23,7 +39,7 @@ public class AsyncLoggerConfigTest {
 
     @Test
     public void testAdditivity() throws Exception {
-        File f = new File("AsyncLoggerConfigTest.log");
+        File f = new File("target", "AsyncLoggerConfigTest.log");
         // System.out.println(f.getAbsolutePath());
         f.delete();
         Logger log = LogManager.getLogger("com.foo.Bar");
diff --git a/log4j-async/src/test/resources/AsyncLoggerConfigTest.xml b/log4j-async/src/test/resources/AsyncLoggerConfigTest.xml
index c4304bc992..03e180e920 100644
--- a/log4j-async/src/test/resources/AsyncLoggerConfigTest.xml
+++ b/log4j-async/src/test/resources/AsyncLoggerConfigTest.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <configuration status="OFF">
   <appenders>
-    <File name="File" fileName="AsyncLoggerConfigTest.log" bufferedIO="false" immediateFlush="true" append="false">
+    <File name="File" fileName="target/AsyncLoggerConfigTest.log" bufferedIO="false" immediateFlush="true" append="false">
       <PatternLayout>
         <pattern>%d %p %c{1.} [%t] %X{aKey} %m %location %ex%n</pattern>
       </PatternLayout>
diff --git a/log4j-async/src/test/resources/AsyncLoggerLocationTest.xml b/log4j-async/src/test/resources/AsyncLoggerLocationTest.xml
index 709d54c9fb..578651f96a 100644
--- a/log4j-async/src/test/resources/AsyncLoggerLocationTest.xml
+++ b/log4j-async/src/test/resources/AsyncLoggerLocationTest.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <configuration status="OFF">
   <appenders>
-    <FastFile name="FastFile" fileName="AsyncLoggerLocationTest.log" 
+    <FastFile name="FastFile" fileName="target/AsyncLoggerLocationTest.log" 
 	    		immediateFlush="false" append="false">
       <PatternLayout>
         <pattern>%d %p %c{1.} [%t] %X{aKey} %location %m %ex%n</pattern>
diff --git a/log4j-async/src/test/resources/AsyncLoggerTest.xml b/log4j-async/src/test/resources/AsyncLoggerTest.xml
index 0897ec4213..9da5993479 100644
--- a/log4j-async/src/test/resources/AsyncLoggerTest.xml
+++ b/log4j-async/src/test/resources/AsyncLoggerTest.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <configuration status="OFF">
   <appenders>
-    <FastFile name="FastFile" fileName="AsyncLoggerTest.log" 
+    <FastFile name="FastFile" fileName="target/AsyncLoggerTest.log" 
 	    		immediateFlush="false" append="false">
       <PatternLayout>
         <pattern>%d %p %c{1.} [%t] %X{aKey} %location %m %ex%n</pattern>
diff --git a/log4j-async/src/test/resources/FastFileAppenderLocationTest.xml b/log4j-async/src/test/resources/FastFileAppenderLocationTest.xml
index 394adf5b00..0403f49389 100644
--- a/log4j-async/src/test/resources/FastFileAppenderLocationTest.xml
+++ b/log4j-async/src/test/resources/FastFileAppenderLocationTest.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <configuration status="OFF">
   <appenders>
-    <FastFile name="FastFile" fileName="FastFileAppenderLocationTest.log" immediateFlush="false" append="false">
+    <FastFile name="FastFile" fileName="target/FastFileAppenderLocationTest.log" immediateFlush="false" append="false">
       <PatternLayout>
         <pattern>%d %p %c{1.} [%t] %X{aKey} %m %location %ex%n</pattern>
         <!--  
diff --git a/log4j-async/src/test/resources/FastFileAppenderTest.xml b/log4j-async/src/test/resources/FastFileAppenderTest.xml
index 09e84264e4..5a31688f0a 100644
--- a/log4j-async/src/test/resources/FastFileAppenderTest.xml
+++ b/log4j-async/src/test/resources/FastFileAppenderTest.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <configuration status="OFF">
   <appenders>
-    <FastFile name="FastFile" fileName="FastFileAppenderTest.log" immediateFlush="false" append="false">
+    <FastFile name="FastFile" fileName="target/FastFileAppenderTest.log" immediateFlush="false" append="false">
       <PatternLayout>
         <pattern>%d %p %c{1.} [%t] %X{aKey} %m %location %ex%n</pattern>
         <!--  
diff --git a/log4j-async/src/test/resources/FastRollingFileAppenderLocationTest.xml b/log4j-async/src/test/resources/FastRollingFileAppenderLocationTest.xml
index 00679d1b4d..68362b0595 100644
--- a/log4j-async/src/test/resources/FastRollingFileAppenderLocationTest.xml
+++ b/log4j-async/src/test/resources/FastRollingFileAppenderLocationTest.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <configuration status="OFF">
   <appenders>
-    <FastRollingFile name="FastRollingFile" fileName="FastRollingFileAppenderLocationTest.log"
+    <FastRollingFile name="FastRollingFile" fileName="target/FastRollingFileAppenderLocationTest.log"
                  filePattern="test-%d{MM-dd-yyyy}-%i.log.gz" append="false"
                  immediateFlush="false">
       <PatternLayout>
diff --git a/log4j-async/src/test/resources/FastRollingFileAppenderTest.xml b/log4j-async/src/test/resources/FastRollingFileAppenderTest.xml
index 8e8444edc2..641fd78106 100644
--- a/log4j-async/src/test/resources/FastRollingFileAppenderTest.xml
+++ b/log4j-async/src/test/resources/FastRollingFileAppenderTest.xml
@@ -1,14 +1,14 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <configuration status="OFF">
   <appenders>
-    <FastRollingFile name="FastRollingFile" fileName="FastRollingFileAppenderTest.log"
-                 filePattern="test-%d{MM-dd-yyyy}-%i.log.gz" append="false"
+    <FastRollingFile name="FastRollingFile" fileName="target/FastRollingFileAppenderTest.log"
+                 filePattern="target/afterRollover-%i.log" append="false"
                  immediateFlush="false">
       <PatternLayout>
         <pattern>%d %p %c{1.} [%t] %X{aKey} %m %location %ex%n</pattern>
       </PatternLayout>
       <Policies>
-        <TimeBasedTriggeringPolicy />
+        <SizeBasedTriggeringPolicy size="250 B"/>
       </Policies>
     </FastRollingFile>
   </appenders>
