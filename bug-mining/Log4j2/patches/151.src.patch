diff --git a/core/src/main/java/org/apache/logging/log4j/core/LoggerContext.java b/core/src/main/java/org/apache/logging/log4j/core/LoggerContext.java
index e54268afdc..0f54272078 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/LoggerContext.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/LoggerContext.java
@@ -144,15 +144,20 @@ public class LoggerContext implements org.apache.logging.log4j.spi.LoggerContext
     public void start() {
         if (configLock.tryLock()) {
             try {
-                if (status == Status.INITIALIZED || status == Status.STOPPED) {
+                if ((status == Status.INITIALIZED || status == Status.STOPPED)) {
                     status = Status.STARTING;
                     reconfigure();
-                    shutdownThread = new ShutdownThread(this);
-                    try {
-                        Runtime.getRuntime().addShutdownHook(shutdownThread);
-                    } catch (final SecurityException se) {
-                        LOGGER.warn("Unable to register shutdown hook due to security restrictions");
-                        shutdownThread = null;
+                    if (config.isShutdownHookEnabled()) {
+                        shutdownThread = new ShutdownThread(this);
+                        try {
+                            Runtime.getRuntime().addShutdownHook(shutdownThread);
+                        } catch (final IllegalStateException ise) {
+                            LOGGER.warn("Unable to register shutdown hook due to JVM state");
+                            shutdownThread = null;
+                        } catch (final SecurityException se) {
+                            LOGGER.warn("Unable to register shutdown hook due to security restrictions");
+                            shutdownThread = null;
+                        }
                     }
                     status = Status.STARTED;
                 }
@@ -169,10 +174,13 @@ public class LoggerContext implements org.apache.logging.log4j.spi.LoggerContext
     public void start(final Configuration config) {
         if (configLock.tryLock()) {
             try {
-                if (status == Status.INITIALIZED || status == Status.STOPPED) {
+                if ((status == Status.INITIALIZED || status == Status.STOPPED) && config.isShutdownHookEnabled() ) {
                     shutdownThread = new ShutdownThread(this);
                     try {
                         Runtime.getRuntime().addShutdownHook(shutdownThread);
+                    } catch (final IllegalStateException ise) {
+                        LOGGER.warn("Unable to register shutdown hook due to JVM state");
+                        shutdownThread = null;
                     } catch (final SecurityException se) {
                         LOGGER.warn("Unable to register shutdown hook due to security restrictions");
                         shutdownThread = null;
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/BaseConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/BaseConfiguration.java
index 37573535cf..affbcacb8c 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/BaseConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/BaseConfiguration.java
@@ -86,6 +86,11 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      */
     protected Advertiser advertiser = new DefaultAdvertiser();
 
+    /**
+     *
+     */
+    protected boolean isShutdownHookEnabled = true;
+
     private String name;
 
     private ConcurrentMap<String, Appender<?>> appenders = new ConcurrentHashMap<String, Appender<?>>();
@@ -150,6 +155,10 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
         stopFilter();
     }
 
+    public boolean isShutdownHookEnabled() {
+        return isShutdownHookEnabled;
+    }
+
     protected void setup() {
     }
 
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/Configuration.java b/core/src/main/java/org/apache/logging/log4j/core/config/Configuration.java
index 298eb654e5..2ca59342b7 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/Configuration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/Configuration.java
@@ -81,10 +81,12 @@ public interface Configuration extends Filterable {
     void addComponent(String name, Object object);
 
     void setConfigurationMonitor(ConfigurationMonitor monitor);
-    
+
     ConfigurationMonitor getConfigurationMonitor();
-    
+
     void setAdvertiser(Advertiser advertiser);
-    
+
     Advertiser getAdvertiser();
+
+    boolean isShutdownHookEnabled();
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
index 3a34db14b9..aa45ceb512 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
@@ -110,6 +110,9 @@ public class JSONConfiguration extends BaseConfiguration implements Reconfigurab
                             }
                         }
                     }
+                } else if ("shutdownHook".equalsIgnoreCase(entry.getKey())) {
+                    String hook = getSubst().replace(entry.getValue());
+                    isShutdownHookEnabled = !hook.equalsIgnoreCase("disable");
                 } else if ("verbose".equalsIgnoreCase(entry.getKey())) {
                     verbose = Boolean.parseBoolean(getSubst().replace(entry.getValue()));
                 } else if ("packages".equalsIgnoreCase(entry.getKey())) {
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
index 2e96423414..c096bf245d 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
@@ -116,7 +116,7 @@ public class XMLConfiguration extends BaseConfiguration implements Reconfigurabl
                         messages.add("Invalid status specified: " + entry.getValue() + ". Defaulting to " + status);
                     }
                 } else if ("dest".equalsIgnoreCase(entry.getKey())) {
-                    final String dest = entry.getValue();
+                    final String dest = getSubst().replace(entry.getValue());
                     if (dest != null) {
                         if (dest.equalsIgnoreCase("err")) {
                             stream = System.err;
@@ -130,6 +130,9 @@ public class XMLConfiguration extends BaseConfiguration implements Reconfigurabl
                             }
                         }
                     }
+                } else if ("shutdownHook".equalsIgnoreCase(entry.getKey())) {
+                    String hook = getSubst().replace(entry.getValue());
+                    isShutdownHookEnabled = !hook.equalsIgnoreCase("disable");
                 } else if ("verbose".equalsIgnoreCase(entry.getKey())) {
                     verbose = Boolean.parseBoolean(getSubst().replace(entry.getValue()));
                 } else if ("packages".equalsIgnoreCase(getSubst().replace(entry.getKey()))) {
diff --git a/core/src/test/java/org/apache/logging/log4j/core/ShutdownDisabledTest.java b/core/src/test/java/org/apache/logging/log4j/core/ShutdownDisabledTest.java
new file mode 100644
index 0000000000..d4667aab77
--- /dev/null
+++ b/core/src/test/java/org/apache/logging/log4j/core/ShutdownDisabledTest.java
@@ -0,0 +1,81 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
+package org.apache.logging.log4j.core;
+
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.MarkerManager;
+import org.apache.logging.log4j.ThreadContext;
+import org.apache.logging.log4j.core.config.Configuration;
+import org.apache.logging.log4j.core.config.XMLConfigurationFactory;
+import org.apache.logging.log4j.core.helpers.Constants;
+import org.apache.logging.log4j.core.helpers.NetUtils;
+import org.apache.logging.log4j.message.MessageFactory;
+import org.apache.logging.log4j.message.ParameterizedMessageFactory;
+import org.apache.logging.log4j.message.StringFormatterMessageFactory;
+import org.apache.logging.log4j.message.StructuredDataMessage;
+import org.apache.logging.log4j.status.StatusLogger;
+import org.apache.logging.log4j.test.appender.ListAppender;
+import org.junit.AfterClass;
+import org.junit.Before;
+import org.junit.BeforeClass;
+import org.junit.Test;
+
+import java.io.File;
+import java.util.Date;
+import java.util.List;
+import java.util.Locale;
+import java.util.Map;
+
+import static org.junit.Assert.*;
+
+/**
+ *
+ */
+public class ShutdownDisabledTest {
+
+    private static final String CONFIG = "log4j-test3.xml";
+    private static Configuration config;
+    private static ListAppender<LogEvent> app;
+    private static LoggerContext ctx;
+
+    @BeforeClass
+    public static void setupClass() {
+        System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
+        ctx = (LoggerContext) LogManager.getContext(false);
+    }
+
+    @AfterClass
+    public static void cleanupClass() {
+        System.clearProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY);
+        ctx.reconfigure();
+        StatusLogger.getLogger().reset();
+    }
+
+    @Before
+    @SuppressWarnings("unchecked")
+    public void before() {
+        config = ctx.getConfiguration();
+    }
+
+    @Test
+    public void testShutdownFlag() {
+        assertNotNull("No configuration", config);
+        assertFalse("Shutdown hook is enabled", config.isShutdownHookEnabled());
+    }
+
+}
+
diff --git a/core/src/test/resources/log4j-test3.xml b/core/src/test/resources/log4j-test3.xml
new file mode 100644
index 0000000000..a1e539a854
--- /dev/null
+++ b/core/src/test/resources/log4j-test3.xml
@@ -0,0 +1,39 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+      http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+
+-->
+<configuration status="ERROR" name="XMLConfigTest" monitorInterval="5" packages="org.apache.logging.log4j.test"
+    shutdownHook="disable">
+  <appenders>
+    <Console name="STDOUT">
+      <PatternLayout pattern="%m MDC%X%n"/>
+    </Console>
+    <List name="List">
+    </List>
+  </appenders>
+
+  <loggers>
+    <logger name="org.apache.logging.log4j.test1" level="debug" additivity="false">
+      <appender-ref ref="STDOUT"/>
+    </logger>>
+
+    <root level="trace">
+      <appender-ref ref="List"/>
+    </root>
+  </loggers>
+
+</configuration>
\ No newline at end of file
diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index 30d86fa24e..3a485c48a3 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -21,6 +21,9 @@
   </properties>
   <body>
     <release version="2.0-beta9" date="soon, very soon" description="Bug fixes and enhancements">
+      <action issue="LOG4J2-318" dev="rgoers" type="update">
+        Allow shutdown hook to be disabled in the configuration.
+      </action>
       <action issue="LOG4J2-166" dev="rgoers" type="fix">
         RoutingAppender's default Route can now be an appender reference.
       </action>
diff --git a/src/site/xdoc/manual/configuration.xml.vm b/src/site/xdoc/manual/configuration.xml.vm
index 87867e91c6..9f6cfa58d3 100644
--- a/src/site/xdoc/manual/configuration.xml.vm
+++ b/src/site/xdoc/manual/configuration.xml.vm
@@ -326,6 +326,7 @@ public class Bar {
                 <td>dest</td>
                 <td>Either "err", which will send output to stderr, or a file path or URL.</td>
               </tr>
+
               <tr>
                 <td>monitorInterval</td>
                 <td>The minimum amount of time, in seconds, that must elapse before the file configuration
@@ -346,6 +347,11 @@ public class Bar {
                   the configuration. Only valid when strict is set to true. If not set no schema validation
                   will take place.</td>
               </tr>
+              <tr>
+                 <td>shutdownHook</td>
+                 <td>Specifies whether or not Log4j should automatically shutdown when the JVM shuts down. The
+                 shutdown hook is enabled by default but may be disabled by setting this attribute to "disable"</td>
+              </tr>
               <tr>
                 <td>status</td>
                 <td>The level of internal Log4j events that should be logged to the console.</td>
