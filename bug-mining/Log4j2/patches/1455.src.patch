diff --git a/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/OutputStreamManager.java b/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/OutputStreamManager.java
index f581adee52..c9fb3978ef 100644
--- a/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/OutputStreamManager.java
+++ b/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/OutputStreamManager.java
@@ -278,10 +278,13 @@ public class OutputStreamManager extends AbstractManager implements ByteBufferDe
      */
     protected synchronized void flushBuffer(final ByteBuffer buf) {
         ((Buffer) buf).flip();
-        if (buf.remaining() > 0) {
-            writeToDestination(buf.array(), buf.arrayOffset() + buf.position(), buf.remaining());
+        try {
+            if (buf.remaining() > 0) {
+                writeToDestination(buf.array(), buf.arrayOffset() + buf.position(), buf.remaining());
+            }
+        } finally {
+            buf.clear();
         }
-        buf.clear();
     }
 
     /**
diff --git a/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/OutputStreamManagerTest.java b/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/OutputStreamManagerTest.java
index 86d1990e8c..ffcebfc1be 100644
--- a/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/OutputStreamManagerTest.java
+++ b/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/OutputStreamManagerTest.java
@@ -17,6 +17,8 @@
 
 package org.apache.logging.log4j.core.appender;
 
+import java.io.IOException;
+import java.io.OutputStream;
 import java.util.List;
 
 import org.apache.logging.log4j.Level;
@@ -51,4 +53,29 @@ public class OutputStreamManagerTest {
                 data.getThrowable().toString());
     }
 
+
+    @Test
+    public void testOutputStreamAppenderFlushClearsBufferOnException() {
+        IOException exception = new IOException();
+        final OutputStream throwingOutputStream = new OutputStream() {
+            @Override
+            public void write(int b) throws IOException {
+                throw exception;
+            }
+        };
+
+        final int bufferSize = 3;
+        OutputStreamManager outputStreamManager = new OutputStreamManager(throwingOutputStream, "test", null, false, bufferSize);
+
+        for (int i = 0; i < bufferSize - 1; i++) {
+            outputStreamManager.getByteBuffer().put((byte) 0);
+        }
+
+        assertEquals(outputStreamManager.getByteBuffer().remaining(), 1);
+
+        AppenderLoggingException appenderLoggingException = assertThrows(AppenderLoggingException.class, () -> outputStreamManager.flushBuffer(outputStreamManager.getByteBuffer()));
+        assertEquals(appenderLoggingException.getCause(), exception);
+
+        assertEquals(outputStreamManager.getByteBuffer().limit(), outputStreamManager.getByteBuffer().capacity());
+    }
 }
\ No newline at end of file
diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index 6808cf0c13..0ad7b0f97e 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -31,6 +31,9 @@
     -->
     <release version="2.14.1" date="2021-MM-DD" description="GA Release 2.14.1">
       <!-- FIXES -->
+      <action issue="LOG4J2-3028" dev="ckozak" type="fix" due-to="Jakub Kozlowski">
+        OutputStreamManager.flushBuffer always resets the buffer, previously the buffer was not reset after an exception.
+      </action>
       <action issue="LOG4J2-2981" dev="rgoers" type="fix">
         OnStartupTriggeringPolicy would fail to cause the file to roll over with DirectWriteTriggeringPolicy
         unless minSize was set to 0.
