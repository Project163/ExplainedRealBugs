diff --git a/.travis.yml b/.travis.yml
index 8c8131e494..d3441ea553 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -13,6 +13,8 @@
 language: java
 # sudo enabled because sudo vms have more memory: https://docs.travis-ci.com/user/ci-environment/
 sudo: true
+# trusty required for oraclejdk9
+dist: trusty
 
 jdk:
   - oraclejdk7
@@ -21,11 +23,6 @@ env:
   global:
     JAVA_OPTS=-Xmx4g
 
-addons:
-  apt:
-    packages:
-      - oracle-java9-installer
-
 install:
   - ./mvnw --toolchains=./.travis-toolchains.xml install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
 
diff --git a/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/SecureSocketAppenderSocketOptionsTest.java b/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/SecureSocketAppenderSocketOptionsTest.java
index 25a6f50a67..98e1aa798c 100644
--- a/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/SecureSocketAppenderSocketOptionsTest.java
+++ b/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/SecureSocketAppenderSocketOptionsTest.java
@@ -120,6 +120,7 @@ public class SecureSocketAppenderSocketOptionsTest {
     @Test
     public void testSocketTrafficClass() throws IOException {
         Assume.assumeTrue("Run only on Java 7", System.getProperty("java.specification.version").equals("1.7"));
+        Assume.assumeFalse("Do not run on Travis CI", "true".equals(System.getenv("TRAVIS")));
         final SocketAppender appender = loggerContextRule.getAppender("socket", SocketAppender.class);
         final TcpSocketManager manager = (TcpSocketManager) appender.getManager();
         final Socket socket = manager.getSocket();
diff --git a/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderSocketOptionsTest.java b/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderSocketOptionsTest.java
index 475e8490fb..030fa8049f 100644
--- a/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderSocketOptionsTest.java
+++ b/log4j-core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderSocketOptionsTest.java
@@ -100,6 +100,7 @@ public class SocketAppenderSocketOptionsTest {
     @Test
     public void testSocketTrafficClass() throws IOException {
         Assume.assumeTrue("Run only on Java 7", System.getProperty("java.specification.version").equals("1.7"));
+        Assume.assumeFalse("Do not run on Travis CI", "true".equals(System.getenv("TRAVIS")));
         final SocketAppender appender = loggerContextRule.getAppender("socket", SocketAppender.class);
         final TcpSocketManager manager = (TcpSocketManager) appender.getManager();
         final Socket socket = manager.getSocket();
