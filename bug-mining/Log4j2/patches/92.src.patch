diff --git a/BUILDING.txt b/BUILDING.txt
index 8a72dc9d0c..bb4c38536b 100644
--- a/BUILDING.txt
+++ b/BUILDING.txt
@@ -1,6 +1,6 @@
 Building Log4J 2
   
-To build Log4J 2, you need a JDK implementation version 1.5 or greater, and Apache Maven.
+To build Log4J 2, you need a JDK implementation version 1.6 or greater, and Apache Maven.
 
 To build the site, from a command line, run:
 
diff --git a/api/pom.xml b/api/pom.xml
index c7c4ff4a95..dd735dc5c2 100644
--- a/api/pom.xml
+++ b/api/pom.xml
@@ -150,7 +150,7 @@
         <artifactId>maven-pmd-plugin</artifactId>
         <version>${pmd.plugin.version}</version>
         <configuration>
-          <targetJdk>1.5</targetJdk>
+          <targetJdk>${maven.compile.target}</targetJdk>
         </configuration>
       </plugin>
       <plugin>
diff --git a/core/build.xml b/core/build.xml
index 5b987de85d..7727f0fb10 100644
--- a/core/build.xml
+++ b/core/build.xml
@@ -50,8 +50,8 @@ Use of Maven to build this component is recommended.
        
 
     <!--   Java compiler settings   -->
-    <property name="javac.source" value="1.5"/>
-    <property name="javac.target" value="1.5"/>
+    <property name="javac.source" value="1.6"/>
+    <property name="javac.target" value="1.6"/>
     <property name="javac.deprecation" value="true"/>
     <property name="javac.debug" value="true"/>
        
diff --git a/core/pom.xml b/core/pom.xml
index aad8f3c4ec..934be4dc0f 100644
--- a/core/pom.xml
+++ b/core/pom.xml
@@ -297,7 +297,7 @@
         <artifactId>maven-pmd-plugin</artifactId>
         <version>${pmd.plugin.version}</version>
         <configuration>
-          <targetJdk>1.5</targetJdk>
+          <targetJdk>${maven.compile.target}</targetJdk>
         </configuration>
       </plugin>
       <plugin>
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractAppender.java
index 207585d441..f61daf8d93 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractAppender.java
@@ -16,17 +16,17 @@
  */
 package org.apache.logging.log4j.core.appender;
 
-import java.io.Serializable;
-
+import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.core.Appender;
 import org.apache.logging.log4j.core.ErrorHandler;
 import org.apache.logging.log4j.core.Filter;
+import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.LifeCycle;
 import org.apache.logging.log4j.core.LogEvent;
-import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.filter.AbstractFilterable;
 import org.apache.logging.log4j.status.StatusLogger;
-import org.apache.logging.log4j.Logger;
+
+import java.io.Serializable;
 
 /**
  * Abstract base class for Appenders. Although Appenders do not have to extend this class, doing so
@@ -84,6 +84,7 @@ public abstract class AbstractAppender<T extends Serializable> extends AbstractF
      * Returns the ErrorHandler, if any.
      * @return The ErrorHandler.
      */
+    @Override
     public ErrorHandler getHandler() {
         return handler;
     }
@@ -92,6 +93,7 @@ public abstract class AbstractAppender<T extends Serializable> extends AbstractF
      * The handler must be set before the appender is started.
      * @param handler The ErrorHandler to use.
      */
+    @Override
     public void setHandler(final ErrorHandler handler) {
         if (handler == null) {
             LOGGER.error("The handler cannot be set to null");
@@ -114,6 +116,7 @@ public abstract class AbstractAppender<T extends Serializable> extends AbstractF
      * Returns the name of the Appender.
      * @return The name of the Appender.
      */
+    @Override
     public String getName() {
         return name;
     }
@@ -122,6 +125,7 @@ public abstract class AbstractAppender<T extends Serializable> extends AbstractF
      * Returns the Layout for the appender.
      * @return The Layout used to format the event.
      */
+    @Override
     public Layout<T> getLayout() {
         return layout;
     }
@@ -131,6 +135,7 @@ public abstract class AbstractAppender<T extends Serializable> extends AbstractF
      * AppenderControl will allow the exception to percolate.
      * @return true if exceptions will be suppressed, false otherwise.
      */
+    @Override
     public boolean isExceptionSuppressed() {
         return handleException;
     }
@@ -138,6 +143,7 @@ public abstract class AbstractAppender<T extends Serializable> extends AbstractF
     /**
      * Start the Appender.
      */
+    @Override
     public void start() {
         startFilter();
         this.started = true;
@@ -146,6 +152,7 @@ public abstract class AbstractAppender<T extends Serializable> extends AbstractF
     /**
      * Stop the Appender.
      */
+    @Override
     public void stop() {
         this.started = false;
         stopFilter();
@@ -155,6 +162,7 @@ public abstract class AbstractAppender<T extends Serializable> extends AbstractF
      * Returns true if the Appender is started, false otherwise.
      * @return true if the Appender is started, false otherwise.
      */
+    @Override
     public boolean isStarted() {
         return started;
     }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractManager.java b/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractManager.java
index b8ae553270..fab1b34462 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractManager.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractManager.java
@@ -65,6 +65,7 @@ public abstract class AbstractManager {
                                                               final T data) {
         LOCK.lock();
         try {
+            @SuppressWarnings("unchecked")
             M manager = (M) MAP.get(name);
             if (manager == null) {
                 manager = factory.createManager(name, data);
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractOutputStreamAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractOutputStreamAppender.java
index 31847c3dc6..c5b46ce520 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractOutputStreamAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/AbstractOutputStreamAppender.java
@@ -20,6 +20,7 @@ import org.apache.logging.log4j.core.Filter;
 import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.LogEvent;
 
+import java.io.Serializable;
 import java.util.concurrent.locks.Lock;
 import java.util.concurrent.locks.ReadWriteLock;
 import java.util.concurrent.locks.ReentrantReadWriteLock;
@@ -27,7 +28,7 @@ import java.util.concurrent.locks.ReentrantReadWriteLock;
 /**
  * Appends log events as bytes to a byte output stream. The stream encoding is defined in the layout.
  */
-public abstract class AbstractOutputStreamAppender extends AbstractAppender {
+public abstract class AbstractOutputStreamAppender<T extends Serializable> extends AbstractAppender<T> {
 
     /**
      * Immediate flush means that the underlying writer or output stream
@@ -54,7 +55,7 @@ public abstract class AbstractOutputStreamAppender extends AbstractAppender {
      * @param layout The layout to format the message.
      * @param manager The OutputStreamManager.
      */
-    protected AbstractOutputStreamAppender(final String name, final Layout layout, final Filter filter,
+    protected AbstractOutputStreamAppender(final String name, final Layout<T> layout, final Filter filter,
                                            final boolean handleException, final boolean immediateFlush,
                                            final OutputStreamManager manager) {
         super(name, filter, layout, handleException);
@@ -107,6 +108,7 @@ public abstract class AbstractOutputStreamAppender extends AbstractAppender {
      * override this method.
      * @param event The LogEvent.
      */
+    @Override
     public void append(final LogEvent event) {
         readLock.lock();
         try {
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/AsynchAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/AsynchAppender.java
index 6e6a2d2355..9db6ca3a51 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/AsynchAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/AsynchAppender.java
@@ -57,7 +57,7 @@ public final class AsynchAppender<T extends Serializable> extends AbstractAppend
     private final AppenderRef[] appenderRefs;
     private final String errorRef;
     private final boolean includeLocation;
-    private AppenderControl errorAppender;
+    private AppenderControl<?> errorAppender;
     private AsynchThread thread;
 
     private AsynchAppender(final String name, final Filter filter, final AppenderRef[] appenderRefs,
@@ -74,9 +74,10 @@ public final class AsynchAppender<T extends Serializable> extends AbstractAppend
     }
 
     @Override
+    @SuppressWarnings("unchecked")
     public void start() {
         final Map<String, Appender<?>> map = config.getAppenders();
-        final List<AppenderControl> appenders = new ArrayList<AppenderControl>();
+        final List<AppenderControl<?>> appenders = new ArrayList<AppenderControl<?>>();
         for (final AppenderRef appenderRef : appenderRefs) {
             if (map.containsKey(appenderRef.getRef())) {
                 appenders.add(new AppenderControl(map.get(appenderRef.getRef()), appenderRef.getLevel(),
@@ -118,6 +119,7 @@ public final class AsynchAppender<T extends Serializable> extends AbstractAppend
      * <p/>
      * @param event The LogEvent.
      */
+    @Override
     public void append(final LogEvent event) {
         if (!isStarted()) {
             throw new IllegalStateException("AsynchAppender " + getName() + " is not active");
@@ -180,8 +182,7 @@ public final class AsynchAppender<T extends Serializable> extends AbstractAppend
 
         final boolean isBlocking = blocking == null ? true : Boolean.valueOf(blocking);
         final int queueSize = size == null ? DEFAULT_QUEUE_SIZE : Integer.parseInt(size);
-        final boolean isIncludeLocation = includeLocation == null ? false :
-                Boolean.parseBoolean(includeLocation);
+        final boolean isIncludeLocation = includeLocation != null && Boolean.parseBoolean(includeLocation);
 
         final boolean handleExceptions = suppress == null ? true : Boolean.valueOf(suppress);
 
@@ -195,10 +196,10 @@ public final class AsynchAppender<T extends Serializable> extends AbstractAppend
     private class AsynchThread extends Thread {
 
         private volatile boolean shutdown = false;
-        private final List<AppenderControl> appenders;
+        private final List<AppenderControl<?>> appenders;
         private final BlockingQueue<Serializable> queue;
 
-        public AsynchThread(final List<AppenderControl> appenders, final BlockingQueue<Serializable> queue) {
+        public AsynchThread(final List<AppenderControl<?>> appenders, final BlockingQueue<Serializable> queue) {
             this.appenders = appenders;
             this.queue = queue;
         }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/ConsoleAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/ConsoleAppender.java
index e2cc972f09..a8b806f202 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/ConsoleAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/ConsoleAppender.java
@@ -29,6 +29,7 @@ import org.apache.logging.log4j.util.PropertiesUtil;
 import java.io.IOException;
 import java.io.OutputStream;
 import java.io.PrintStream;
+import java.io.Serializable;
 import java.lang.reflect.Constructor;
 
 /**
@@ -42,7 +43,7 @@ import java.lang.reflect.Constructor;
  * default. OTOH, a Writer cannot print byte streams.
  */
 @Plugin(name = "Console", type = "Core", elementType = "appender", printObject = true)
-public final class ConsoleAppender extends AbstractOutputStreamAppender {
+public final class ConsoleAppender<T extends Serializable> extends AbstractOutputStreamAppender<T> {
 
     private static ConsoleManagerFactory factory = new ConsoleManagerFactory();
 
@@ -56,7 +57,7 @@ public final class ConsoleAppender extends AbstractOutputStreamAppender {
         SYSTEM_ERR
     }
 
-    private ConsoleAppender(final String name, final Layout layout, final Filter filter,
+    private ConsoleAppender(final String name, final Layout<T> layout, final Filter filter,
                             final OutputStreamManager manager,
                             final boolean handleExceptions) {
         super(name, layout, filter, handleExceptions, true, manager);
@@ -74,7 +75,7 @@ public final class ConsoleAppender extends AbstractOutputStreamAppender {
      * @return The ConsoleAppender.
      */
     @PluginFactory
-    public static ConsoleAppender createAppender(@PluginElement("layout") Layout layout,
+    public static <S extends Serializable> ConsoleAppender<S> createAppender(@PluginElement("layout") Layout<S> layout,
                                                  @PluginElement("filters") final Filter filter,
                                                  @PluginAttr("target") final String t,
                                                  @PluginAttr("name") final String name,
@@ -85,12 +86,14 @@ public final class ConsoleAppender extends AbstractOutputStreamAppender {
             return null;
         }
         if (layout == null) {
-            layout = PatternLayout.createLayout(null, null, null, null);
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>)PatternLayout.createLayout(null, null, null, null);
+            layout = l;
         }
         final boolean isFollow = follow == null ? false : Boolean.valueOf(follow);
         final boolean handleExceptions = suppress == null ? true : Boolean.valueOf(suppress);
         final Target target = t == null ? Target.SYSTEM_OUT : Target.valueOf(t);
-        return new ConsoleAppender(name, layout, filter, getManager(isFollow, target), handleExceptions);
+        return new ConsoleAppender<S>(name, layout, filter, getManager(isFollow, target), handleExceptions);
     }
 
     private static OutputStreamManager getManager(final boolean follow, final Target target) {
@@ -224,6 +227,7 @@ public final class ConsoleAppender extends AbstractOutputStreamAppender {
          * @param data The data required to create the entity.
          * @return The OutputStreamManager
          */
+        @Override
         public OutputStreamManager createManager(final String name, final FactoryData data) {
             return new OutputStreamManager(data.os, data.type);
         }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/FailoverAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/FailoverAppender.java
index 200942b080..47c1108634 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/FailoverAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/FailoverAppender.java
@@ -29,6 +29,7 @@ import org.apache.logging.log4j.core.config.plugins.PluginElement;
 import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.helpers.Constants;
 
+import java.io.Serializable;
 import java.util.ArrayList;
 import java.util.List;
 import java.util.Map;
@@ -39,7 +40,7 @@ import java.util.Map;
  * to not suppress exceptions for the FailoverAppender to work.
  */
 @Plugin(name = "Failover", type = "Core", elementType = "appender", printObject = true)
-public final class FailoverAppender extends AbstractAppender {
+public final class FailoverAppender<T extends Serializable> extends AbstractAppender<T> {
 
     private static final int DEFAULT_INTERVAL = 60 * Constants.MILLIS_IN_SECONDS;
 
@@ -49,9 +50,9 @@ public final class FailoverAppender extends AbstractAppender {
 
     private final Configuration config;
 
-    private AppenderControl primary;
+    private AppenderControl<?> primary;
 
-    private final List<AppenderControl> failoverAppenders = new ArrayList<AppenderControl>();
+    private final List<AppenderControl<?>> failoverAppenders = new ArrayList<AppenderControl<?>>();
 
     private final long interval;
 
@@ -70,6 +71,7 @@ public final class FailoverAppender extends AbstractAppender {
 
 
     @Override
+    @SuppressWarnings("unchecked")
     public void start() {
         final Map<String, Appender<?>> map = config.getAppenders();
         int errors = 0;
@@ -99,8 +101,8 @@ public final class FailoverAppender extends AbstractAppender {
      * Handle the Log event.
      * @param event The LogEvent.
      */
+    @Override
     public void append(final LogEvent event) {
-        final RuntimeException re = null;
         if (!isStarted()) {
             error("FailoverAppender " + getName() + " did not start successfully");
             return;
@@ -180,7 +182,7 @@ public final class FailoverAppender extends AbstractAppender {
      * @return The FailoverAppender that was created.
      */
     @PluginFactory
-    public static FailoverAppender createAppender(@PluginAttr("name") final String name,
+    public static <S extends Serializable> FailoverAppender<S> createAppender(@PluginAttr("name") final String name,
                                                   @PluginAttr("primary") final String primary,
                                                   @PluginElement("failovers") final String[] failovers,
                                                   @PluginAttr("retryInterval") final String interval,
@@ -220,6 +222,6 @@ public final class FailoverAppender extends AbstractAppender {
 
         final boolean handleExceptions = suppress == null ? true : Boolean.valueOf(suppress);
 
-        return new FailoverAppender(name, filter, primary, failovers, retryInterval, config, handleExceptions);
+        return new FailoverAppender<S>(name, filter, primary, failovers, retryInterval, config, handleExceptions);
     }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/FastFileAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/FastFileAppender.java
index 57b4d6864b..3b169dcf17 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/FastFileAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/FastFileAppender.java
@@ -16,9 +16,6 @@
  */
 package org.apache.logging.log4j.core.appender;
 
-import java.util.HashMap;
-import java.util.Map;
-
 import org.apache.logging.log4j.core.Filter;
 import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.LogEvent;
@@ -31,17 +28,21 @@ import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.apache.logging.log4j.core.net.Advertiser;
 
+import java.io.Serializable;
+import java.util.HashMap;
+import java.util.Map;
+
 /**
  * File Appender.
  */
 @Plugin(name = "FastFile", type = "Core", elementType = "appender", printObject = true)
-public final class FastFileAppender extends AbstractOutputStreamAppender {
+public final class FastFileAppender<T extends Serializable> extends AbstractOutputStreamAppender<T> {
 
     private final String fileName;
     private Object advertisement;
     private final Advertiser advertiser;
 
-    private FastFileAppender(String name, Layout<?> layout, Filter filter,
+    private FastFileAppender(String name, Layout<T> layout, Filter filter,
             FastFileManager manager, String filename, boolean handleException,
             boolean immediateFlush, Advertiser advertiser) {
         super(name, layout, filter, handleException, immediateFlush, manager);
@@ -116,13 +117,13 @@ public final class FastFileAppender extends AbstractOutputStreamAppender {
      * @return The FileAppender.
      */
     @PluginFactory
-    public static FastFileAppender createAppender(
+    public static <S extends Serializable> FastFileAppender<S> createAppender(
             @PluginAttr("fileName") String fileName,
             @PluginAttr("append") String append,
             @PluginAttr("name") String name,
             @PluginAttr("immediateFlush") String immediateFlush,
             @PluginAttr("suppressExceptions") String suppress,
-            @PluginElement("layout") Layout<?> layout,
+            @PluginElement("layout") Layout<S> layout,
             @PluginElement("filters") final Filter filter,
             @PluginAttr("advertise") final String advertise,
             @PluginAttr("advertiseURI") final String advertiseURI,
@@ -153,9 +154,11 @@ public final class FastFileAppender extends AbstractOutputStreamAppender {
             return null;
         }
         if (layout == null) {
-            layout = PatternLayout.createLayout(null, null, null, null);
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>)PatternLayout.createLayout(null, null, null, null);
+            layout = l;
         }
-        return new FastFileAppender(name, layout, filter, manager, fileName,
+        return new FastFileAppender<S>(name, layout, filter, manager, fileName,
                 handleExceptions, isFlush, isAdvertise ? config.getAdvertiser()
                         : null);
     }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/FastRollingFileAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/FastRollingFileAppender.java
index 3b9318937c..d37117bec2 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/FastRollingFileAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/FastRollingFileAppender.java
@@ -16,9 +16,6 @@
  */
 package org.apache.logging.log4j.core.appender;
 
-import java.util.HashMap;
-import java.util.Map;
-
 import org.apache.logging.log4j.core.Filter;
 import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.LogEvent;
@@ -36,19 +33,23 @@ import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.apache.logging.log4j.core.net.Advertiser;
 
+import java.io.Serializable;
+import java.util.HashMap;
+import java.util.Map;
+
 /**
  * An appender that writes to random access files and can roll over at
  * intervals.
  */
 @Plugin(name = "FastRollingFile", type = "Core", elementType = "appender", printObject = true)
-public final class FastRollingFileAppender extends AbstractOutputStreamAppender {
+public final class FastRollingFileAppender<T extends Serializable> extends AbstractOutputStreamAppender<T> {
 
     private final String fileName;
     private final String filePattern;
     private Object advertisement;
     private final Advertiser advertiser;
 
-    private FastRollingFileAppender(String name, Layout<?> layout,
+    private FastRollingFileAppender(String name, Layout<T> layout,
             Filter filter, RollingFileManager manager, String fileName,
             String filePattern, boolean handleException,
             boolean immediateFlush, Advertiser advertiser) {
@@ -138,7 +139,7 @@ public final class FastRollingFileAppender extends AbstractOutputStreamAppender
      * @return A FastRollingFileAppender.
      */
     @PluginFactory
-    public static FastRollingFileAppender createAppender(
+    public static <S extends Serializable> FastRollingFileAppender<S> createAppender(
             @PluginAttr("fileName") final String fileName,
             @PluginAttr("filePattern") final String filePattern,
             @PluginAttr("append") final String append,
@@ -146,7 +147,7 @@ public final class FastRollingFileAppender extends AbstractOutputStreamAppender
             @PluginAttr("immediateFlush") final String immediateFlush,
             @PluginElement("policy") final TriggeringPolicy policy,
             @PluginElement("strategy") RolloverStrategy strategy,
-            @PluginElement("layout") Layout<?> layout,
+            @PluginElement("layout") Layout<S> layout,
             @PluginElement("filter") final Filter filter,
             @PluginAttr("suppressExceptions") final String suppress,
             @PluginAttr("advertise") final String advertise,
@@ -197,10 +198,12 @@ public final class FastRollingFileAppender extends AbstractOutputStreamAppender
         }
 
         if (layout == null) {
-            layout = PatternLayout.createLayout(null, null, null, null);
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>)PatternLayout.createLayout(null, null, null, null);
+            layout = l;
         }
 
-        return new FastRollingFileAppender(name, layout, filter, manager,
+        return new FastRollingFileAppender<S>(name, layout, filter, manager,
                 fileName, filePattern, handleExceptions, isFlush,
                 isAdvertise ? config.getAdvertiser() : null);
     }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/FileAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/FileAppender.java
index c6eeeff038..33a4786b2f 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/FileAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/FileAppender.java
@@ -16,8 +16,6 @@
  */
 package org.apache.logging.log4j.core.appender;
 
-import java.util.HashMap;
-import java.util.Map;
 import org.apache.logging.log4j.core.Filter;
 import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.config.Configuration;
@@ -29,18 +27,23 @@ import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.apache.logging.log4j.core.net.Advertiser;
 
+import java.io.Serializable;
+import java.util.HashMap;
+import java.util.Map;
+
 /**
  * File Appender.
  */
 @Plugin(name = "File", type = "Core", elementType = "appender", printObject = true)
-public final class FileAppender extends AbstractOutputStreamAppender {
+public final class FileAppender<T extends Serializable> extends AbstractOutputStreamAppender<T> {
 
     private final String fileName;
     private final Advertiser advertiser;
     private Object advertisement;
 
-    private FileAppender(final String name, final Layout layout, final Filter filter, final FileManager manager,
-                         final String filename, final boolean handleException, final boolean immediateFlush, Advertiser advertiser) {
+    private FileAppender(final String name, final Layout<T> layout, final Filter filter, final FileManager manager,
+                         final String filename, final boolean handleException, final boolean immediateFlush,
+                         Advertiser advertiser) {
         super(name, layout, filter, handleException, immediateFlush, manager);
         if (advertiser != null)
         {
@@ -91,14 +94,14 @@ public final class FileAppender extends AbstractOutputStreamAppender {
      * @return The FileAppender.
      */
     @PluginFactory
-    public static FileAppender createAppender(@PluginAttr("fileName") final String fileName,
+    public static <S extends Serializable> FileAppender<S> createAppender(@PluginAttr("fileName") final String fileName,
                                               @PluginAttr("append") final String append,
                                               @PluginAttr("locking") final String locking,
                                               @PluginAttr("name") final String name,
                                               @PluginAttr("immediateFlush") final String immediateFlush,
                                               @PluginAttr("suppressExceptions") final String suppress,
                                               @PluginAttr("bufferedIO") final String bufferedIO,
-                                              @PluginElement("layout") Layout layout,
+                                              @PluginElement("layout") Layout<S> layout,
                                               @PluginElement("filters") final Filter filter,
                                               @PluginAttr("advertise") final String advertise,
                                               @PluginAttr("advertiseURI") final String advertiseURI,
@@ -132,9 +135,12 @@ public final class FileAppender extends AbstractOutputStreamAppender {
             return null;
         }
         if (layout == null) {
-            layout = PatternLayout.createLayout(null, null, null, null);
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>)PatternLayout.createLayout(null, null, null, null);
+            layout = l;
         }
 
-        return new FileAppender(name, layout, filter, manager, fileName, handleExceptions, isFlush, isAdvertise ? config.getAdvertiser() : null);
+        return new FileAppender<S>(name, layout, filter, manager, fileName, handleExceptions, isFlush,
+                isAdvertise ? config.getAdvertiser() : null);
     }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/JMSQueueAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/JMSQueueAppender.java
index 9b8ca9b35f..f4364aa4fc 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/JMSQueueAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/JMSQueueAppender.java
@@ -26,16 +26,18 @@ import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.layout.SerializedLayout;
 import org.apache.logging.log4j.core.net.JMSQueueManager;
 
+import java.io.Serializable;
+
 /**
  * Appender to write to a JMS Queue.
  */
 @Plugin(name = "JMSQueue", type = "Core", elementType = "appender", printObject = true)
-public final class JMSQueueAppender extends AbstractAppender {
+public final class JMSQueueAppender<T extends Serializable> extends AbstractAppender<T> {
 
     private final JMSQueueManager manager;
 
-    private JMSQueueAppender(final String name, final Filter filter, final Layout layout, final JMSQueueManager manager,
-                            final boolean handleExceptions) {
+    private JMSQueueAppender(final String name, final Filter filter, final Layout<T> layout,
+                             final JMSQueueManager manager, final boolean handleExceptions) {
         super(name, filter, layout, handleExceptions);
         this.manager = manager;
     }
@@ -45,6 +47,7 @@ public final class JMSQueueAppender extends AbstractAppender {
      * <p/>
      * @param event The LogEvent.
      */
+    @Override
     public void append(final LogEvent event) {
         try {
             manager.send(getLayout().toSerializable(event));
@@ -73,7 +76,7 @@ public final class JMSQueueAppender extends AbstractAppender {
      * @return The JMSQueueAppender.
      */
     @PluginFactory
-    public static JMSQueueAppender createAppender(
+    public static <S extends Serializable> JMSQueueAppender<S> createAppender(
                                                 @PluginAttr("name") final String name,
                                                 @PluginAttr("factoryName") final String factoryName,
                                                 @PluginAttr("providerURL") final String providerURL,
@@ -84,7 +87,7 @@ public final class JMSQueueAppender extends AbstractAppender {
                                                 @PluginAttr("queueBindingName") final String queueBindingName,
                                                 @PluginAttr("userName") final String userName,
                                                 @PluginAttr("password") final String password,
-                                                @PluginElement("layout") Layout layout,
+                                                @PluginElement("layout") Layout<S> layout,
                                                 @PluginElement("filter") final Filter filter,
                                                 @PluginAttr("suppressExceptions") final String suppress) {
         if (name == null) {
@@ -98,8 +101,10 @@ public final class JMSQueueAppender extends AbstractAppender {
             return null;
         }
         if (layout == null) {
-            layout = SerializedLayout.createLayout();
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>) SerializedLayout.createLayout();
+            layout = l;
         }
-        return new JMSQueueAppender(name, filter, layout, manager, handleExceptions);
+        return new JMSQueueAppender<S>(name, filter, layout, manager, handleExceptions);
     }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/JMSTopicAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/JMSTopicAppender.java
index f2a50a3079..1f845471b4 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/JMSTopicAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/JMSTopicAppender.java
@@ -26,16 +26,18 @@ import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.layout.SerializedLayout;
 import org.apache.logging.log4j.core.net.JMSTopicManager;
 
+import java.io.Serializable;
+
 /**
  * Appender to write to a JMS Topic.
  */
 @Plugin(name = "JMSTopic", type = "Core", elementType = "appender", printObject = true)
-public final class JMSTopicAppender extends AbstractAppender {
+public final class JMSTopicAppender<T extends Serializable> extends AbstractAppender<T> {
 
     private final JMSTopicManager manager;
 
-    private JMSTopicAppender(final String name, final Filter filter, final Layout layout, final JMSTopicManager manager,
-                            final boolean handleExceptions) {
+    private JMSTopicAppender(final String name, final Filter filter, final Layout<T> layout,
+                             final JMSTopicManager manager, final boolean handleExceptions) {
         super(name, filter, layout, handleExceptions);
         this.manager = manager;
     }
@@ -45,6 +47,7 @@ public final class JMSTopicAppender extends AbstractAppender {
      * <p/>
      * @param event The LogEvent.
      */
+    @Override
     public void append(final LogEvent event) {
         try {
             manager.send(getLayout().toSerializable(event));
@@ -73,7 +76,7 @@ public final class JMSTopicAppender extends AbstractAppender {
      * @return The JMSTopicAppender.
      */
     @PluginFactory
-    public static JMSTopicAppender createAppender(
+    public static <S extends Serializable> JMSTopicAppender<S> createAppender(
                                                 @PluginAttr("name") final String name,
                                                 @PluginAttr("factoryName") final String factoryName,
                                                 @PluginAttr("providerURL") final String providerURL,
@@ -84,7 +87,7 @@ public final class JMSTopicAppender extends AbstractAppender {
                                                 @PluginAttr("topicBindingName") final String topicBindingName,
                                                 @PluginAttr("userName") final String userName,
                                                 @PluginAttr("password") final String password,
-                                                @PluginElement("layout") Layout layout,
+                                                @PluginElement("layout") Layout<S> layout,
                                                 @PluginElement("filters") final Filter filter,
                                                 @PluginAttr("suppressExceptions") final String suppress) {
 
@@ -99,8 +102,10 @@ public final class JMSTopicAppender extends AbstractAppender {
             return null;
         }
         if (layout == null) {
-            layout = SerializedLayout.createLayout();
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>)SerializedLayout.createLayout();
+            layout = l;
         }
-        return new JMSTopicAppender(name, filter, layout, manager, handleExceptions);
+        return new JMSTopicAppender<S>(name, filter, layout, manager, handleExceptions);
     }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/RollingFileAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/RollingFileAppender.java
index a18af376ed..5d8fc6c761 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/RollingFileAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/RollingFileAppender.java
@@ -16,8 +16,6 @@
  */
 package org.apache.logging.log4j.core.appender;
 
-import java.util.HashMap;
-import java.util.Map;
 import org.apache.logging.log4j.core.Filter;
 import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.LogEvent;
@@ -34,11 +32,15 @@ import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.apache.logging.log4j.core.net.Advertiser;
 
+import java.io.Serializable;
+import java.util.HashMap;
+import java.util.Map;
+
 /**
  * An appender that writes to files and can roll over at intervals.
  */
 @Plugin(name = "RollingFile", type = "Core", elementType = "appender", printObject = true)
-public final class RollingFileAppender extends AbstractOutputStreamAppender {
+public final class RollingFileAppender<T extends Serializable> extends AbstractOutputStreamAppender<T> {
 
     private final String fileName;
     private final String filePattern;
@@ -46,7 +48,7 @@ public final class RollingFileAppender extends AbstractOutputStreamAppender {
     private final Advertiser advertiser;
 
 
-    private RollingFileAppender(final String name, final Layout layout, final Filter filter,
+    private RollingFileAppender(final String name, final Layout<T> layout, final Filter filter,
                                 final RollingFileManager manager, final String fileName,
                                 final String filePattern, final boolean handleException, final boolean immediateFlush,
                                 Advertiser advertiser) {
@@ -119,7 +121,8 @@ public final class RollingFileAppender extends AbstractOutputStreamAppender {
      * @return A RollingFileAppender.
      */
     @PluginFactory
-    public static RollingFileAppender createAppender(@PluginAttr("fileName") final String fileName,
+    public static <S extends Serializable> RollingFileAppender<S> createAppender(
+                                              @PluginAttr("fileName") final String fileName,
                                               @PluginAttr("filePattern") final String filePattern,
                                               @PluginAttr("append") final String append,
                                               @PluginAttr("name") final String name,
@@ -127,7 +130,7 @@ public final class RollingFileAppender extends AbstractOutputStreamAppender {
                                               @PluginAttr("immediateFlush") final String immediateFlush,
                                               @PluginElement("policy") final TriggeringPolicy policy,
                                               @PluginElement("strategy") RolloverStrategy strategy,
-                                              @PluginElement("layout") Layout layout,
+                                              @PluginElement("layout") Layout<S> layout,
                                               @PluginElement("filter") final Filter filter,
                                               @PluginAttr("suppressExceptions") final String suppress,
                                               @PluginAttr("advertise") final String advertise,
@@ -170,10 +173,12 @@ public final class RollingFileAppender extends AbstractOutputStreamAppender {
         }
 
         if (layout == null) {
-            layout = PatternLayout.createLayout(null, null, null, null);
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>)PatternLayout.createLayout(null, null, null, null);
+            layout = l;
         }
 
-        return new RollingFileAppender(name, layout, filter, manager, fileName, filePattern,
+        return new RollingFileAppender<S>(name, layout, filter, manager, fileName, filePattern,
             handleExceptions, isFlush, isAdvertise ? config.getAdvertiser() : null);
     }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/SMTPAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/SMTPAppender.java
index 3b89bb9d22..caf0841c36 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/SMTPAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/SMTPAppender.java
@@ -28,6 +28,8 @@ import org.apache.logging.log4j.core.Filter;
 import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.LogEvent;
 
+import java.io.Serializable;
+
 /**
  * Send an e-mail when a specific logging event occurs, typically on errors or
  * fatal errors.
@@ -47,14 +49,14 @@ import org.apache.logging.log4j.core.LogEvent;
  * appender.
  */
 @Plugin(name = "SMTP", type = "Core", elementType = "appender", printObject = true)
-public final class SMTPAppender extends AbstractAppender {
+public final class SMTPAppender<T extends Serializable> extends AbstractAppender<T> {
 
     private static final int DEFAULT_BUFFER_SIZE = 512;
 
     /** The SMTP Manager */
     protected final SMTPManager manager;
 
-    private SMTPAppender(final String name, final Filter filter, final Layout<?> layout, final SMTPManager manager,
+    private SMTPAppender(final String name, final Filter filter, final Layout<T> layout, final SMTPManager manager,
                          final boolean handleExceptions) {
         super(name, filter, layout, handleExceptions);
         this.manager = manager;
@@ -101,7 +103,7 @@ public final class SMTPAppender extends AbstractAppender {
      * @return The SMTPAppender.
      */
     @PluginFactory
-    public static SMTPAppender createAppender(@PluginAttr("name") final String name,
+    public static <S extends Serializable> SMTPAppender<S> createAppender(@PluginAttr("name") final String name,
                                               @PluginAttr("to") final String to,
                                               @PluginAttr("cc") final String cc,
                                               @PluginAttr("bcc") final String bcc,
@@ -115,7 +117,7 @@ public final class SMTPAppender extends AbstractAppender {
                                               @PluginAttr("smtpPassword") final String smtpPassword,
                                               @PluginAttr("smtpDebug") final String smtpDebug,
                                               @PluginAttr("bufferSize") final String bufferSizeNum,
-                                              @PluginElement("layout") Layout<?> layout,
+                                              @PluginElement("layout") Layout<S> layout,
                                               @PluginElement("filter") Filter filter,
                                               @PluginAttr("suppressExceptions") final String suppressExceptions) {
         if (name == null) {
@@ -129,7 +131,9 @@ public final class SMTPAppender extends AbstractAppender {
         final int bufferSize = bufferSizeNum == null ? DEFAULT_BUFFER_SIZE : Integer.valueOf(bufferSizeNum);
 
         if (layout == null) {
-            layout = HTMLLayout.createLayout(null, null, null, null, null, null);
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>)HTMLLayout.createLayout(null, null, null, null, null, null);
+            layout = l;
         }
         if (filter == null) {
             filter = ThresholdFilter.createFilter(null, null, null);
@@ -141,7 +145,7 @@ public final class SMTPAppender extends AbstractAppender {
             return null;
         }
 
-        return new SMTPAppender(name, filter, layout, manager, isHandleExceptions);
+        return new SMTPAppender<S>(name, filter, layout, manager, isHandleExceptions);
     }
 
     /**
@@ -164,6 +168,7 @@ public final class SMTPAppender extends AbstractAppender {
      * sent.
      * @param event The Log event.
      */
+    @Override
     public void append(final LogEvent event) {
         manager.sendEvents(getLayout(), event);
     }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java
index aa06d28a83..014189ebb3 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java
@@ -16,8 +16,6 @@
  */
 package org.apache.logging.log4j.core.appender;
 
-import java.util.HashMap;
-import java.util.Map;
 import org.apache.logging.log4j.core.Filter;
 import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.config.Configuration;
@@ -34,15 +32,19 @@ import org.apache.logging.log4j.core.net.Protocol;
 import org.apache.logging.log4j.core.net.TCPSocketManager;
 import org.apache.logging.log4j.util.EnglishEnums;
 
+import java.io.Serializable;
+import java.util.HashMap;
+import java.util.Map;
+
 /**
  * An Appender that delivers events over socket connections. Supports both TCP and UDP.
  */
 @Plugin(name = "Socket", type = "Core", elementType = "appender", printObject = true)
-public class SocketAppender extends AbstractOutputStreamAppender {
+public class SocketAppender<T extends Serializable> extends AbstractOutputStreamAppender<T> {
     private Object advertisement;
     private final Advertiser advertiser;
 
-    protected SocketAppender(final String name, final Layout layout, final Filter filter,
+    protected SocketAppender(final String name, final Layout<T> layout, final Filter filter,
                              final AbstractSocketManager manager, final boolean handleException,
                              final boolean immediateFlush, Advertiser advertiser) {
         super(name, layout, filter, handleException, immediateFlush, manager);
@@ -83,7 +85,7 @@ public class SocketAppender extends AbstractOutputStreamAppender {
      * @return A SocketAppender.
      */
     @PluginFactory
-    public static SocketAppender createAppender(@PluginAttr("host") final String host,
+    public static <S extends Serializable> SocketAppender<S> createAppender(@PluginAttr("host") final String host,
                                                 @PluginAttr("port") final String portNum,
                                                 @PluginAttr("protocol") final String protocol,
                                                 @PluginAttr("reconnectionDelay") final String delay,
@@ -91,7 +93,7 @@ public class SocketAppender extends AbstractOutputStreamAppender {
                                                 @PluginAttr("name") final String name,
                                                 @PluginAttr("immediateFlush") final String immediateFlush,
                                                 @PluginAttr("suppressExceptions") final String suppress,
-                                                @PluginElement("layout") Layout layout,
+                                                @PluginElement("layout") Layout<S> layout,
                                                 @PluginElement("filters") final Filter filter,
                                                 @PluginAttr("advertise") final String advertise,
                                                 @PluginConfiguration final Configuration config) {
@@ -103,7 +105,9 @@ public class SocketAppender extends AbstractOutputStreamAppender {
         final int reconnectDelay = delay == null ? 0 : Integer.parseInt(delay);
         final int port = portNum == null ? 0 : Integer.parseInt(portNum);
         if (layout == null) {
-            layout = SerializedLayout.createLayout();
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>) SerializedLayout.createLayout();
+            layout = l;
         }
 
         if (name == null) {
@@ -118,7 +122,8 @@ public class SocketAppender extends AbstractOutputStreamAppender {
             return null;
         }
 
-        return new SocketAppender(name, layout, filter, manager, handleExceptions, isFlush, isAdvertise ? config.getAdvertiser() : null);
+        return new SocketAppender<S>(name, layout, filter, manager, handleExceptions, isFlush,
+                isAdvertise ? config.getAdvertiser() : null);
     }
 
     protected static AbstractSocketManager createSocketManager(final String protocol, final String host, final int port,
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/SyslogAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/SyslogAppender.java
index b0742e3a1f..a89304d801 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/SyslogAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/SyslogAppender.java
@@ -30,18 +30,21 @@ import org.apache.logging.log4j.core.net.AbstractSocketManager;
 import org.apache.logging.log4j.core.net.Advertiser;
 import org.apache.logging.log4j.core.net.Protocol;
 
+import java.io.Serializable;
+
 /**
  * The Syslog Appender.
  */
 @Plugin(name = "Syslog", type = "Core", elementType = "appender", printObject = true)
-public class SyslogAppender extends SocketAppender {
+public class SyslogAppender<T extends Serializable> extends SocketAppender<T> {
 
     private static final String BSD = "bsd";
 
     private static final String RFC5424 = "RFC5424";
 
-    protected SyslogAppender(final String name, final Layout layout, final Filter filter, final boolean handleException,
-                             final boolean immediateFlush, final AbstractSocketManager manager, Advertiser advertiser) {
+    protected SyslogAppender(final String name, final Layout<T> layout, final Filter filter,
+                             final boolean handleException, final boolean immediateFlush,
+                             final AbstractSocketManager manager, Advertiser advertiser) {
         super(name, layout, filter, manager, handleException, immediateFlush, advertiser);
 
     }
@@ -81,7 +84,7 @@ public class SyslogAppender extends SocketAppender {
      * @return A SyslogAppender.
      */
     @PluginFactory
-    public static SyslogAppender createAppender(@PluginAttr("host") final String host,
+    public static <S extends Serializable> SyslogAppender<S> createAppender(@PluginAttr("host") final String host,
                                                 @PluginAttr("port") final String portNum,
                                                 @PluginAttr("protocol") final String protocol,
                                                 @PluginAttr("reconnectionDelay") final String delay,
@@ -116,10 +119,11 @@ public class SyslogAppender extends SocketAppender {
         final boolean fail = immediateFail == null ? true : Boolean.valueOf(immediateFail);
         final int port = portNum == null ? 0 : Integer.parseInt(portNum);
         boolean isAdvertise = advertise == null ? false : Boolean.valueOf(advertise);
-        final Layout<String> layout = RFC5424.equalsIgnoreCase(format) ?
+        @SuppressWarnings("unchecked")
+        final Layout<S> layout = (Layout<S>)(RFC5424.equalsIgnoreCase(format) ?
             RFC5424Layout.createLayout(facility, id, ein, includeMDC, mdcId, mdcPrefix, eventPrefix, includeNL,
                 escapeNL, appName, msgId, excludes, includes, required, charsetName, exceptionPattern, config) :
-            SyslogLayout.createLayout(facility, includeNL, escapeNL, charsetName);
+            SyslogLayout.createLayout(facility, includeNL, escapeNL, charsetName));
 
         if (name == null) {
             LOGGER.error("No name provided for SyslogAppender");
@@ -131,6 +135,7 @@ public class SyslogAppender extends SocketAppender {
             return null;
         }
 
-        return new SyslogAppender(name, layout, filter, handleExceptions, isFlush, manager, isAdvertise ? config.getAdvertiser() : null);
+        return new SyslogAppender<S>(name, layout, filter, handleExceptions, isFlush, manager,
+                isAdvertise ? config.getAdvertiser() : null);
     }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/rewrite/RewriteAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/rewrite/RewriteAppender.java
index ebe9734763..2251208d13 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/rewrite/RewriteAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/rewrite/RewriteAppender.java
@@ -29,6 +29,7 @@ import org.apache.logging.log4j.core.config.plugins.PluginConfiguration;
 import org.apache.logging.log4j.core.config.plugins.PluginElement;
 import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 
+import java.io.Serializable;
 import java.util.Map;
 import java.util.concurrent.ConcurrentHashMap;
 import java.util.concurrent.ConcurrentMap;
@@ -37,7 +38,7 @@ import java.util.concurrent.ConcurrentMap;
  * This Appender allows the logging event to be manipulated before it is processed by other Appenders.
  */
 @Plugin(name = "Rewrite", type = "Core", elementType = "appender", printObject = true)
-public final class RewriteAppender extends AbstractAppender {
+public final class RewriteAppender<T extends Serializable> extends AbstractAppender<T> {
     private final Configuration config;
     private final ConcurrentMap<String, AppenderControl> appenders = new ConcurrentHashMap<String, AppenderControl>();
     private final RewritePolicy rewritePolicy;
@@ -53,6 +54,7 @@ public final class RewriteAppender extends AbstractAppender {
     }
 
     @Override
+    @SuppressWarnings("unchecked")
     public void start() {
         final Map<String, Appender<?>> map = config.getAppenders();
         for (final AppenderRef ref : appenderRefs) {
@@ -76,6 +78,7 @@ public final class RewriteAppender extends AbstractAppender {
      * Modify the event and pass to the subordinate Appenders.
      * @param event The LogEvent.
      */
+    @Override
     public void append(LogEvent event) {
         if (rewritePolicy != null) {
             event = rewritePolicy.rewrite(event);
@@ -96,7 +99,7 @@ public final class RewriteAppender extends AbstractAppender {
      * @return The created RewriteAppender.
      */
     @PluginFactory
-    public static RewriteAppender createAppender(@PluginAttr("name") final String name,
+    public static <S extends Serializable> RewriteAppender<S> createAppender(@PluginAttr("name") final String name,
                                           @PluginAttr("suppressExceptions") final String suppress,
                                           @PluginElement("appender-ref") final AppenderRef[] appenderRefs,
                                           @PluginConfiguration final Configuration config,
@@ -113,6 +116,6 @@ public final class RewriteAppender extends AbstractAppender {
             LOGGER.error("No appender references defined for RewriteAppender");
             return null;
         }
-        return new RewriteAppender(name, filter, handleExceptions, appenderRefs, rewritePolicy, config);
+        return new RewriteAppender<S>(name, filter, handleExceptions, appenderRefs, rewritePolicy, config);
     }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/routing/RoutingAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/routing/RoutingAppender.java
index 1a7b6af2fe..e81deb0b77 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/routing/RoutingAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/routing/RoutingAppender.java
@@ -30,6 +30,7 @@ import org.apache.logging.log4j.core.config.plugins.PluginConfiguration;
 import org.apache.logging.log4j.core.config.plugins.PluginElement;
 import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 
+import java.io.Serializable;
 import java.util.Map;
 import java.util.concurrent.ConcurrentHashMap;
 import java.util.concurrent.ConcurrentMap;
@@ -43,12 +44,13 @@ import java.util.concurrent.ConcurrentMap;
  * the built in StrSubstitutor and the StrLookup plugin that matches the specified key.
  */
 @Plugin(name = "Routing", type = "Core", elementType = "appender", printObject = true)
-public final class RoutingAppender extends AbstractAppender {
+public final class RoutingAppender<T extends Serializable> extends AbstractAppender<T> {
     private static final String DEFAULT_KEY = "ROUTING_APPENDER_DEFAULT";
     private final Routes routes;
     private final Route defaultRoute;
     private final Configuration config;
-    private final ConcurrentMap<String, AppenderControl> appenders = new ConcurrentHashMap<String, AppenderControl>();
+    private final ConcurrentMap<String, AppenderControl<T>> appenders =
+            new ConcurrentHashMap<String, AppenderControl<T>>();
     private final RewritePolicy rewritePolicy;
 
     private RoutingAppender(final String name, final Filter filter, final boolean handleException, final Routes routes,
@@ -71,12 +73,13 @@ public final class RoutingAppender extends AbstractAppender {
     }
 
     @Override
+    @SuppressWarnings("unchecked")
     public void start() {
         final Map<String, Appender<?>> map = config.getAppenders();
         // Register all the static routes.
         for (final Route route : routes.getRoutes()) {
             if (route.getAppenderRef() != null) {
-                final Appender appender = map.get(route.getAppenderRef());
+                final Appender<?> appender = map.get(route.getAppenderRef());
                 if (appender != null) {
                     final String key = route == defaultRoute ? DEFAULT_KEY : route.getKey();
                     appenders.put(key, new AppenderControl(appender, null, null));
@@ -92,7 +95,7 @@ public final class RoutingAppender extends AbstractAppender {
     public void stop() {
         super.stop();
         final Map<String, Appender<?>> map = config.getAppenders();
-        for (final Map.Entry<String, AppenderControl> entry : appenders.entrySet()) {
+        for (final Map.Entry<String, AppenderControl<T>> entry : appenders.entrySet()) {
             final String name = entry.getValue().getAppender().getName();
             if (!map.containsKey(name)) {
                 entry.getValue().getAppender().stop();
@@ -100,19 +103,20 @@ public final class RoutingAppender extends AbstractAppender {
         }
     }
 
+    @Override
     public void append(LogEvent event) {
         if (rewritePolicy != null) {
             event = rewritePolicy.rewrite(event);
         }
         final String key = config.getSubst().replace(event, routes.getPattern());
-        final AppenderControl control = getControl(key, event);
+        final AppenderControl<T> control = getControl(key, event);
         if (control != null) {
             control.callAppender(event);
         }
     }
 
-    private synchronized AppenderControl getControl(final String key, final LogEvent event) {
-        AppenderControl control = appenders.get(key);
+    private synchronized AppenderControl<T> getControl(final String key, final LogEvent event) {
+        AppenderControl<T> control = appenders.get(key);
         if (control != null) {
             return control;
         }
@@ -127,25 +131,26 @@ public final class RoutingAppender extends AbstractAppender {
             route = defaultRoute;
         }
         if (route != null) {
-            final Appender app = createAppender(route, event);
+            final Appender<T> app = createAppender(route, event);
             if (app == null) {
                 return null;
             }
-            control = new AppenderControl(app, null, null);
+            control = new AppenderControl<T>(app, null, null);
             appenders.put(key, control);
         }
 
         return control;
     }
 
-    private Appender createAppender(final Route route, final LogEvent event) {
+    private Appender<T> createAppender(final Route route, final LogEvent event) {
         final Node routeNode = route.getNode();
         for (final Node node : routeNode.getChildren()) {
             if (node.getType().getElementName().equals("appender")) {
                 final Node appNode = new Node(node);
                 config.createConfiguration(appNode, event);
                 if (appNode.getObject() instanceof Appender) {
-                    final Appender app = (Appender) appNode.getObject();
+                    @SuppressWarnings("unchecked")
+                    final Appender<T> app = (Appender<T>) appNode.getObject();
                     app.start();
                     return app;
                 }
@@ -169,7 +174,7 @@ public final class RoutingAppender extends AbstractAppender {
      * @return The RoutingAppender
      */
     @PluginFactory
-    public static RoutingAppender createAppender(@PluginAttr("name") final String name,
+    public static <S extends Serializable> RoutingAppender<S> createAppender(@PluginAttr("name") final String name,
                                           @PluginAttr("suppressExceptions") final String suppress,
                                           @PluginElement("routes") final Routes routes,
                                           @PluginConfiguration final Configuration config,
@@ -186,6 +191,6 @@ public final class RoutingAppender extends AbstractAppender {
             LOGGER.error("No routes defined for RoutingAppender");
             return null;
         }
-        return new RoutingAppender(name, filter, handleExceptions, routes, rewritePolicy, config);
+        return new RoutingAppender<S>(name, filter, handleExceptions, routes, rewritePolicy, config);
     }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/BaseConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/BaseConfiguration.java
index fa421abd70..8d67bf1dc7 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/BaseConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/BaseConfiguration.java
@@ -42,6 +42,7 @@ import org.apache.logging.log4j.core.net.Advertiser;
 import org.apache.logging.log4j.status.StatusLogger;
 import org.apache.logging.log4j.util.PropertiesUtil;
 
+import java.io.Serializable;
 import java.lang.annotation.Annotation;
 import java.lang.reflect.Array;
 import java.lang.reflect.Method;
@@ -107,6 +108,8 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
         rootNode = new Node();
     }
 
+    @Override
+    @SuppressWarnings("unchecked")
     public Map<String, String> getProperties() {
         return (Map<String, String>) componentMap.get(CONTEXT_PROPERTIES);
     }
@@ -114,6 +117,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
     /**
      * Initialize the configuration.
      */
+    @Override
     public void start() {
         setup();
         doConfigure();
@@ -130,6 +134,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
     /**
      * Tear down the configuration.
      */
+    @Override
     public void stop() {
         for (final LoggerConfig logger : loggers.values()) {
             logger.clearAppenders();
@@ -146,14 +151,17 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
     protected void setup() {
     }
 
+    @Override
     public Object getComponent(final String name) {
         return componentMap.get(name);
     }
 
+    @Override
     public void addComponent(final String name, final Object obj) {
         componentMap.putIfAbsent(name, obj);
     }
 
+    @SuppressWarnings("unchecked")
     protected void doConfigure() {
         boolean setRoot = false;
         boolean setLoggers = false;
@@ -220,9 +228,10 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
 
     private void setToDefault() {
         setName(DefaultConfiguration.DEFAULT_NAME);
-        final Layout layout = PatternLayout.createLayout("%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n",
-            null, null, null);
-        final Appender appender = ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "false",
+        final Layout<? extends Serializable> layout =
+                PatternLayout.createLayout("%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n",
+                        null, null, null);
+        final Appender<?> appender = ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "false",
             "true");
         appender.start();
         addAppender(appender);
@@ -255,6 +264,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * Returns the name of the configuration.
      * @return the name of the configuration.
      */
+    @Override
     public String getName() {
         return name;
     }
@@ -263,6 +273,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * Add a listener for changes on the configuration.
      * @param listener The ConfigurationListener to add.
      */
+    @Override
     public void addListener(final ConfigurationListener listener) {
         listeners.add(listener);
     }
@@ -271,6 +282,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * Remove a ConfigurationListener.
      * @param listener The ConfigurationListener to remove.
      */
+    @Override
     public void removeListener(final ConfigurationListener listener) {
         listeners.remove(listener);
     }
@@ -280,7 +292,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * @param name The name of the Appender.
      * @return the Appender with the specified name or null if the Appender cannot be located.
      */
-    public Appender getAppender(final String name) {
+    public Appender<?> getAppender(final String name) {
         return appenders.get(name);
     }
 
@@ -288,6 +300,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * Returns a Map containing all the Appenders and their name.
      * @return A Map containing each Appender's name and the Appender object.
      */
+    @Override
     public Map<String, Appender<?>> getAppenders() {
         return appenders;
     }
@@ -300,22 +313,27 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
         appenders.put(appender.getName(), appender);
     }
 
+    @Override
     public StrSubstitutor getSubst() {
         return subst;
     }
 
+    @Override
     public void setConfigurationMonitor(ConfigurationMonitor monitor) {
         this.monitor = monitor;
     }
 
+    @Override
     public ConfigurationMonitor getConfigurationMonitor() {
         return monitor;
     }
 
+    @Override
     public void setAdvertiser(Advertiser advertiser) {
         this.advertiser = advertiser;
     }
 
+    @Override
     public Advertiser getAdvertiser() {
         return advertiser;
     }
@@ -329,8 +347,9 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * @param logger The Logger the Appender will be associated with.
      * @param appender The Appender.
      */
+    @Override
     public synchronized void addLoggerAppender(final org.apache.logging.log4j.core.Logger logger,
-                                               final Appender appender) {
+                                               final Appender<?> appender) {
         final String name = logger.getName();
         appenders.putIfAbsent(appender.getName(), appender);
         final LoggerConfig lc = getLoggerConfig(name);
@@ -354,6 +373,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * @param logger The Logger the Fo;ter will be associated with.
      * @param filter The Filter.
      */
+    @Override
     public synchronized void addLoggerFilter(final org.apache.logging.log4j.core.Logger logger, final Filter filter) {
         final String name = logger.getName();
         final LoggerConfig lc = getLoggerConfig(name);
@@ -378,6 +398,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * @param logger The Logger the Appender will be associated with.
      * @param additive True if the LoggerConfig should be additive, false otherwise.
      */
+    @Override
     public synchronized void setLoggerAdditive(final org.apache.logging.log4j.core.Logger logger,
                                                final boolean additive) {
         final String name = logger.getName();
@@ -416,6 +437,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * @param name The Logger name.
      * @return The located LoggerConfig.
      */
+    @Override
     public LoggerConfig getLoggerConfig(final String name) {
         if (loggers.containsKey(name)) {
             return loggers.get(name);
@@ -441,6 +463,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
      * Returns a Map of all the LoggerConfigs.
      * @return a Map with each entry containing the name of the Logger and the LoggerConfig.
      */
+    @Override
     public Map<String, LoggerConfig> getLoggers() {
         return Collections.unmodifiableMap(loggers);
     }
@@ -487,6 +510,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
         setParents();
     }
 
+    @Override
     public void createConfiguration(final Node node, final LogEvent event) {
         final PluginType type = node.getType();
         if (type != null && type.isDeferChildren()) {
@@ -527,6 +551,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
 
         if (Map.class.isAssignableFrom(clazz)) {
             try {
+                @SuppressWarnings("unchecked")
                 final Map<String, Object> map = (Map<String, Object>) clazz.newInstance();
                 for (final Node child : node.getChildren()) {
                     map.put(child.getName(), child.getObject());
@@ -540,6 +565,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
 
         if (List.class.isAssignableFrom(clazz)) {
             try {
+                @SuppressWarnings("unchecked")
                 final List<Object> list = (List<Object>) clazz.newInstance();
                 for (final Node child : node.getChildren()) {
                     list.add(child.getObject());
@@ -621,7 +647,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
                     final PluginElement elem = (PluginElement) a;
                     final String name = elem.value();
                     if (parmClasses[index].isArray()) {
-                        final Class parmClass = parmClasses[index].getComponentType();
+                        final Class<?> parmClass = parmClasses[index].getComponentType();
                         final List<Object> list = new ArrayList<Object>();
                         sb.append(name).append("={");
                         boolean first = true;
@@ -667,7 +693,7 @@ public class BaseConfiguration extends AbstractFilterable implements Configurati
                         }
                         parms[index] = array;
                     } else {
-                        final Class parmClass = parmClasses[index];
+                        final Class<?> parmClass = parmClasses[index];
                         boolean present = false;
                         for (final Node child : children) {
                             final PluginType childType = child.getType();
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/ConfigurationFactory.java b/core/src/main/java/org/apache/logging/log4j/core/config/ConfigurationFactory.java
index 1491e270f8..91d2840092 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/ConfigurationFactory.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/ConfigurationFactory.java
@@ -111,10 +111,11 @@ public abstract class ConfigurationFactory {
                     final Set<WeightedFactory> ordered = new TreeSet<WeightedFactory>();
                     for (final PluginType type : plugins.values()) {
                         try {
-                            final Class<ConfigurationFactory> clazz = type.getPluginClass();
+                            @SuppressWarnings("unchecked")
+                            final Class<ConfigurationFactory> clazz = (Class<ConfigurationFactory>)type.getPluginClass();
                             final Order order = clazz.getAnnotation(Order.class);
-                            final Integer weight = order.value();
                             if (order != null) {
+                                final Integer weight = order.value();
                                 ordered.add(new WeightedFactory(weight, clazz));
                             }
                         } catch (final Exception ex) {
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/DefaultConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/DefaultConfiguration.java
index 1e652e1bc6..dc41a16f45 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/DefaultConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/DefaultConfiguration.java
@@ -23,6 +23,8 @@ import org.apache.logging.log4j.core.appender.ConsoleAppender;
 import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.apache.logging.log4j.util.PropertiesUtil;
 
+import java.io.Serializable;
+
 /**
  * The default configuration writes all output to the Console using the default logging level. You configure default
  * logging level by setting the system property "org.apache.logging.log4j.level" to a level name. If you do not
@@ -46,10 +48,10 @@ public class DefaultConfiguration extends BaseConfiguration {
     public DefaultConfiguration() {
 
         setName(DEFAULT_NAME);
-        final Layout layout = PatternLayout.createLayout("%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n",
-            null, null, null);
-        final Appender appender = ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "false",
-            "true");
+        final Layout<? extends Serializable> layout =
+                PatternLayout.createLayout("%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n", null, null, null);
+        final Appender<? extends Serializable> appender =
+                ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "false", "true");
         appender.start();
         addAppender(appender);
         final LoggerConfig root = getRootLogger();
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
index 4d1648b16c..956882504f 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
@@ -120,7 +120,8 @@ public class JSONConfiguration extends BaseConfiguration implements Reconfigurab
                     final String advertiserString = getSubst().replace(entry.getValue());
                     if (advertiserString != null)
                     {
-                        final PluginType type = getPluginManager().getPluginType(advertiserString);
+                        @SuppressWarnings("unchecked")
+                        final PluginType<Advertiser> type = getPluginManager().getPluginType(advertiserString);
                         if (type != null)
                         {
                             final Class<Advertiser> clazz = type.getPluginClass();
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/LoggerConfig.java b/core/src/main/java/org/apache/logging/log4j/core/config/LoggerConfig.java
index 8c879c5fab..e80a3318f1 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/LoggerConfig.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/LoggerConfig.java
@@ -23,21 +23,22 @@ import org.apache.logging.log4j.Marker;
 import org.apache.logging.log4j.core.Appender;
 import org.apache.logging.log4j.core.Filter;
 import org.apache.logging.log4j.core.LifeCycle;
+import org.apache.logging.log4j.core.LogEvent;
 import org.apache.logging.log4j.core.async.AsyncLoggerContextSelector;
+import org.apache.logging.log4j.core.config.plugins.Plugin;
+import org.apache.logging.log4j.core.config.plugins.PluginAttr;
 import org.apache.logging.log4j.core.config.plugins.PluginConfiguration;
+import org.apache.logging.log4j.core.config.plugins.PluginElement;
+import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.filter.AbstractFilterable;
 import org.apache.logging.log4j.core.helpers.Constants;
 import org.apache.logging.log4j.core.impl.Log4jLogEvent;
-import org.apache.logging.log4j.core.LogEvent;
 import org.apache.logging.log4j.core.impl.LogEventFactory;
 import org.apache.logging.log4j.core.lookup.StrSubstitutor;
-import org.apache.logging.log4j.core.config.plugins.Plugin;
-import org.apache.logging.log4j.core.config.plugins.PluginAttr;
-import org.apache.logging.log4j.core.config.plugins.PluginFactory;
-import org.apache.logging.log4j.core.config.plugins.PluginElement;
-import org.apache.logging.log4j.status.StatusLogger;
 import org.apache.logging.log4j.message.Message;
+import org.apache.logging.log4j.status.StatusLogger;
 
+import java.io.Serializable;
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.Collection;
@@ -163,9 +164,9 @@ public class LoggerConfig extends AbstractFilterable implements LogEventFactory
      * @param level The Level to use.
      * @param filter A Filter for the Appender reference.
      */
-    public void addAppender(final Appender appender, final Level level,
+    public <T extends Serializable> void addAppender(final Appender<T> appender, final Level level,
             final Filter filter) {
-        appenders.put(appender.getName(), new AppenderControl(appender, level,
+        appenders.put(appender.getName(), new AppenderControl<T>(appender, level,
                 filter));
     }
 
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
index 1f664813d4..43f76f7fbf 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
@@ -144,7 +144,8 @@ public class XMLConfiguration extends BaseConfiguration implements Reconfigurabl
                     final String advertiserString = getSubst().replace(entry.getValue());
                     if (advertiserString != null)
                     {
-                        final PluginType type = getPluginManager().getPluginType(advertiserString);
+                        @SuppressWarnings("unchecked")
+                        final PluginType<Advertiser> type = getPluginManager().getPluginType(advertiserString);
                         if (type != null)
                         {
                             final Class<Advertiser> clazz = type.getPluginClass();
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/plugins/PluginManager.java b/core/src/main/java/org/apache/logging/log4j/core/config/plugins/PluginManager.java
index a1bdfe4b64..2bae77bbed 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/plugins/PluginManager.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/plugins/PluginManager.java
@@ -135,6 +135,7 @@ public class PluginManager {
      * @param pkgs A comma separated list of package names to scan for plugins. If
      * null the default Log4j package name will be used.
      */
+    @SuppressWarnings("unchecked")
     public void collectPlugins(boolean preLoad, final String pkgs) {
         if (pluginTypeMap.containsKey(type)) {
             plugins = pluginTypeMap.get(type);
@@ -195,6 +196,7 @@ public class PluginManager {
         LOGGER.debug(sb.toString());
     }
 
+    @SuppressWarnings("unchecked")
     private static ConcurrentMap<String, ConcurrentMap<String, PluginType>> decode(final ClassLoader loader) {
         Enumeration<URL> resources;
         try {
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/plugins/ResolverUtil.java b/core/src/main/java/org/apache/logging/log4j/core/config/plugins/ResolverUtil.java
index 25cb161af2..1909803e17 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/plugins/ResolverUtil.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/plugins/ResolverUtil.java
@@ -276,8 +276,7 @@ public class ResolverUtil {
 
     private void loadImplementationsInBundle(final Test test, final String packageName) {
         //Do not remove the cast on the next line as removing it will cause a compile error on Java 7.
-        final BundleWiring wiring =
-            (BundleWiring) FrameworkUtil.getBundle(ResolverUtil.class).adapt(BundleWiring.class);
+        final BundleWiring wiring = FrameworkUtil.getBundle(ResolverUtil.class).adapt(BundleWiring.class);
         final Collection<String> list = wiring.listResources(packageName, "*.class",
             BundleWiring.LISTRESOURCES_RECURSE);
         for (final String name : list) {
@@ -300,8 +299,10 @@ public class ResolverUtil {
      */
     private void loadImplementationsInDirectory(final Test test, final String parent, final File location) {
         final File[] files = location.listFiles();
-        StringBuilder builder;
+        if(files == null)
+            return;
 
+        StringBuilder builder;
         for (final File file : files) {
             builder = new StringBuilder();
             builder.append(parent).append("/").append(file.getName());
@@ -434,14 +435,17 @@ public class ResolverUtil {
      * Test against a Class.
      */
     public abstract static class ClassTest implements Test {
+        @Override
         public boolean matches(final URI resource) {
             throw new UnsupportedOperationException();
         }
 
+        @Override
         public boolean doesMatchClass() {
             return true;
         }
 
+        @Override
         public boolean doesMatchResource() {
             return false;
         }
@@ -451,14 +455,17 @@ public class ResolverUtil {
      * Test against a resource.
      */
     public abstract static class ResourceTest implements Test {
+        @Override
         public boolean matches(final Class<?> cls) {
             throw new UnsupportedOperationException();
         }
 
+        @Override
         public boolean doesMatchClass() {
             return false;
         }
 
+        @Override
         public boolean doesMatchResource() {
             return true;
         }
@@ -482,6 +489,7 @@ public class ResolverUtil {
          * @param type The Class to check.
          * @return true if the Class matches.
          */
+        @Override
         public boolean matches(final Class<?> type) {
             return type != null && parent.isAssignableFrom(type);
         }
@@ -509,6 +517,7 @@ public class ResolverUtil {
          * @param type The Class to check.
          * @return true if the Class matches.
          */
+        @Override
         public boolean matches(final Class<?> type) {
             return type != null && type.getName().endsWith(suffix);
         }
@@ -539,6 +548,7 @@ public class ResolverUtil {
          * @param type the Class to match against.
          * @return true if the Classes match.
          */
+        @Override
         public boolean matches(final Class<?> type) {
             return type != null && type.isAnnotationPresent(annotation);
         }
@@ -557,6 +567,7 @@ public class ResolverUtil {
 
         public NameIs(final String name) { this.name = "/" + name; }
 
+        @Override
         public boolean matches(final URI resource) {
             return resource.getPath().endsWith(name);
         }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/impl/ThrowableProxy.java b/core/src/main/java/org/apache/logging/log4j/core/impl/ThrowableProxy.java
index d5b97ba9b7..7680c42342 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/impl/ThrowableProxy.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/impl/ThrowableProxy.java
@@ -511,8 +511,8 @@ public class ThrowableProxy extends Throwable {
     private ThrowableProxy[] getSuppressedProxies() {
         if (getSuppressed != null) {
             try {
-                return (ThrowableProxy[]) getSuppressed.invoke(this, null);
-            } catch (final Exception ex) {
+                return (ThrowableProxy[]) getSuppressed.invoke(this);
+            } catch (final Exception ignore) {
                 return null;
             }
         }
@@ -522,11 +522,11 @@ public class ThrowableProxy extends Throwable {
     private void setSuppressed(final Throwable throwable) {
         if (getSuppressed != null && addSuppressed != null) {
             try {
-                final Throwable[] array = (Throwable[]) getSuppressed.invoke(throwable, null);
+                final Throwable[] array = (Throwable[]) getSuppressed.invoke(throwable);
                 for (final Throwable t : array) {
                     addSuppressed.invoke(this, new ThrowableProxy(t));
                 }
-            } catch (final Exception ex) {
+            } catch (final Exception ignore) {
                 //
             }
         }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/lookup/Interpolator.java b/core/src/main/java/org/apache/logging/log4j/core/lookup/Interpolator.java
index 105d69661a..6dfe612b77 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/lookup/Interpolator.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/lookup/Interpolator.java
@@ -46,6 +46,7 @@ public class Interpolator implements StrLookup {
         final Map<String, PluginType> plugins = manager.getPlugins();
 
         for (final Map.Entry<String, PluginType> entry : plugins.entrySet()) {
+            @SuppressWarnings("unchecked")
             final Class<StrLookup> clazz = entry.getValue().getPluginClass();
             try {
                 lookups.put(entry.getKey(), clazz.newInstance());
@@ -72,6 +73,7 @@ public class Interpolator implements StrLookup {
      * @return the value of this variable or <b>null</b> if it cannot be
      * resolved
      */
+    @Override
     public String lookup(final String var) {
         return lookup(null, var);
     }
@@ -89,6 +91,7 @@ public class Interpolator implements StrLookup {
      * @return the value of this variable or <b>null</b> if it cannot be
      * resolved
      */
+    @Override
     public String lookup(final LogEvent event, String var) {
         if (var == null) {
             return null;
diff --git a/core/src/main/java/org/apache/logging/log4j/core/pattern/PatternParser.java b/core/src/main/java/org/apache/logging/log4j/core/pattern/PatternParser.java
index 676f826caf..16c24c7a2b 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/pattern/PatternParser.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/pattern/PatternParser.java
@@ -16,6 +16,12 @@
  */
 package org.apache.logging.log4j.core.pattern;
 
+import org.apache.logging.log4j.Logger;
+import org.apache.logging.log4j.core.config.Configuration;
+import org.apache.logging.log4j.core.config.plugins.PluginManager;
+import org.apache.logging.log4j.core.config.plugins.PluginType;
+import org.apache.logging.log4j.status.StatusLogger;
+
 import java.lang.reflect.Method;
 import java.lang.reflect.Modifier;
 import java.util.ArrayList;
@@ -24,12 +30,6 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 
-import org.apache.logging.log4j.Logger;
-import org.apache.logging.log4j.core.config.Configuration;
-import org.apache.logging.log4j.core.config.plugins.PluginManager;
-import org.apache.logging.log4j.core.config.plugins.PluginType;
-import org.apache.logging.log4j.status.StatusLogger;
-
 /**
  * Most of the work of the {@link org.apache.logging.log4j.core.layout.PatternLayout} class
  * is delegated to the PatternParser class.
@@ -118,7 +118,8 @@ public final class PatternParser {
 
         for (final PluginType type : plugins.values()) {
             try {
-                final Class<PatternConverter> clazz = type.getPluginClass();
+                @SuppressWarnings("unchecked")
+                final Class<PatternConverter> clazz = (Class<PatternConverter>)type.getPluginClass();
                 if (filterClass != null && !filterClass.isAssignableFrom(clazz)) {
                     continue;
                 }
diff --git a/core/src/test/java/org/apache/logging/dumbster/smtp/SimpleSmtpServer.java b/core/src/test/java/org/apache/logging/dumbster/smtp/SimpleSmtpServer.java
index 3888498a4c..438802e600 100644
--- a/core/src/test/java/org/apache/logging/dumbster/smtp/SimpleSmtpServer.java
+++ b/core/src/test/java/org/apache/logging/dumbster/smtp/SimpleSmtpServer.java
@@ -35,7 +35,7 @@ public class SimpleSmtpServer implements Runnable {
     /**
      * Stores all of the email received since this instance started up.
      */
-    private final List receivedMail;
+    private final List<SmtpMessage> receivedMail;
 
     /**
      * Default SMTP port is 25.
@@ -68,13 +68,14 @@ public class SimpleSmtpServer implements Runnable {
      * @param port port number
      */
     public SimpleSmtpServer(final int port) {
-        receivedMail = new ArrayList();
+        receivedMail = new ArrayList<SmtpMessage>();
         this.port = port;
     }
 
     /**
      * Main loop of the SMTP server.
      */
+    @Override
     public void run() {
         stopped = false;
         try {
@@ -112,7 +113,7 @@ public class SimpleSmtpServer implements Runnable {
            * For higher concurrency, we could just change handle to return void and update the list inside the method
            * to limit the duration that we hold the lock.
            */
-                    final List msgs = handleTransaction(out, input);
+                    final List<SmtpMessage> msgs = handleTransaction(out, input);
                     receivedMail.addAll(msgs);
                 }
                 socket.close();
@@ -163,7 +164,7 @@ public class SimpleSmtpServer implements Runnable {
      * @return List of SmtpMessage
      * @throws IOException
      */
-    private List handleTransaction(final PrintWriter out, final BufferedReader input) throws IOException {
+    private List<SmtpMessage> handleTransaction(final PrintWriter out, final BufferedReader input) throws IOException {
         // Initialize the state machine
         SmtpState smtpState = SmtpState.CONNECT;
         final SmtpRequest smtpRequest = new SmtpRequest(SmtpActionType.CONNECT, "", smtpState);
@@ -175,7 +176,7 @@ public class SimpleSmtpServer implements Runnable {
         sendResponse(out, smtpResponse);
         smtpState = smtpResponse.getNextState();
 
-        final List msgList = new ArrayList();
+        final List<SmtpMessage> msgList = new ArrayList<SmtpMessage>();
         SmtpMessage msg = new SmtpMessage();
 
         while (smtpState != SmtpState.CONNECT) {
diff --git a/core/src/test/java/org/apache/logging/dumbster/smtp/SmtpMessage.java b/core/src/test/java/org/apache/logging/dumbster/smtp/SmtpMessage.java
index b696bba6a9..0845d6c4f2 100644
--- a/core/src/test/java/org/apache/logging/dumbster/smtp/SmtpMessage.java
+++ b/core/src/test/java/org/apache/logging/dumbster/smtp/SmtpMessage.java
@@ -30,7 +30,7 @@ public class SmtpMessage {
     /**
      * Headers: Map of List of String hashed on header name.
      */
-    private final Map headers;
+    private final Map<String, List<String>> headers;
     /**
      * Message body.
      */
@@ -40,7 +40,7 @@ public class SmtpMessage {
      * Constructor. Initializes headers Map and body buffer.
      */
     public SmtpMessage() {
-        headers = new HashMap(10);
+        headers = new HashMap<String, List<String>>(10);
         body = new StringBuffer();
     }
 
@@ -82,11 +82,11 @@ public class SmtpMessage {
      * @return value(s) associated with the header name
      */
     public String[] getHeaderValues(final String name) {
-        final List values = (List) headers.get(name);
+        final List<String> values = headers.get(name);
         if (values == null) {
             return new String[0];
         } else {
-            return (String[]) values.toArray(new String[0]);
+            return values.toArray(new String[values.size()]);
         }
     }
 
@@ -97,12 +97,12 @@ public class SmtpMessage {
      * @return first value associated with the header name
      */
     public String getHeaderValue(final String name) {
-        final List values = (List) headers.get(name);
+        final List<String> values = headers.get(name);
         if (values == null) {
             return null;
         } else {
-            final Iterator iterator = values.iterator();
-            return (String) iterator.next();
+            final Iterator<String> iterator = values.iterator();
+            return iterator.hasNext() ? iterator.next() : null;
         }
     }
 
@@ -122,9 +122,9 @@ public class SmtpMessage {
      * @param value header value
      */
     private void addHeader(final String name, final String value) {
-        List valueList = (List) headers.get(name);
+        List<String> valueList = headers.get(name);
         if (valueList == null) {
-            valueList = new ArrayList(1);
+            valueList = new ArrayList<String>(1);
             headers.put(name, valueList);
         }
         valueList.add(value);
@@ -137,12 +137,11 @@ public class SmtpMessage {
      */
     @Override
     public String toString() {
-        final StringBuffer msg = new StringBuffer();
-        for (final Iterator i = headers.keySet().iterator(); i.hasNext(); ) {
-            final String name = (String) i.next();
-            final List values = (List) headers.get(name);
-            for (final Iterator j = values.iterator(); j.hasNext(); ) {
-                final String value = (String) j.next();
+        final StringBuilder msg = new StringBuilder();
+        for (final Map.Entry<String, List<String>> entry : headers.entrySet()) {
+            String name = entry.getKey();
+            List<String> values = entry.getValue();
+            for (String value : values) {
                 msg.append(name);
                 msg.append(": ");
                 msg.append(value);
diff --git a/core/src/test/java/org/apache/logging/log4j/core/AppenderRefLevelTest.java b/core/src/test/java/org/apache/logging/log4j/core/AppenderRefLevelTest.java
index a1897f834a..b219b1362e 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/AppenderRefLevelTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/AppenderRefLevelTest.java
@@ -40,20 +40,21 @@ public class AppenderRefLevelTest {
 
     private static final String CONFIG = "log4j-reference-level.xml";
     private static Configuration config;
-    private static ListAppender app1;
-    private static ListAppender app2;
+    private static ListAppender<LogEvent> app1;
+    private static ListAppender<LogEvent> app2;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("LIST1")) {
-                app1 = (ListAppender) entry.getValue();
+                app1 = (ListAppender<LogEvent>) entry.getValue();
             } else if (entry.getKey().equals("LIST2")) {
-                app2 = (ListAppender) entry.getValue();
+                app2 = (ListAppender<LogEvent>) entry.getValue();
             }
         }
     }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/LoggerTest.java b/core/src/test/java/org/apache/logging/log4j/core/LoggerTest.java
index b1bf99f1e2..d57913e03b 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/LoggerTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/LoggerTest.java
@@ -16,16 +16,6 @@
  */
 package org.apache.logging.log4j.core;
 
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertTrue;
-
-import java.io.File;
-import java.util.Date;
-import java.util.List;
-import java.util.Locale;
-import java.util.Map;
-
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.MarkerManager;
 import org.apache.logging.log4j.ThreadContext;
@@ -44,6 +34,14 @@ import org.junit.Before;
 import org.junit.BeforeClass;
 import org.junit.Test;
 
+import java.io.File;
+import java.util.Date;
+import java.util.List;
+import java.util.Locale;
+import java.util.Map;
+
+import static org.junit.Assert.*;
+
 /**
  *
  */
@@ -51,9 +49,9 @@ public class LoggerTest {
 
     private static final String CONFIG = "log4j-test2.xml";
     private static Configuration config;
-    private static ListAppender app;
-    private static ListAppender host;
-    private static ListAppender noThrown;
+    private static ListAppender<LogEvent> app;
+    private static ListAppender<String> host;
+    private static ListAppender<String> noThrown;
     private static LoggerContext ctx;
 
     @BeforeClass
@@ -70,15 +68,16 @@ public class LoggerTest {
     }
 
     @Before
+    @SuppressWarnings("unchecked")
     public void before() {
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
             } else if (entry.getKey().equals("HostTest")) {
-                host = (ListAppender) entry.getValue();
+                host = (ListAppender<String>) entry.getValue();
             } else if (entry.getKey().equals("NoThrowable")) {
-                noThrown = (ListAppender) entry.getValue();
+                noThrown = (ListAppender<String>) entry.getValue();
             }
         }
         assertNotNull("No Appender", app);
@@ -216,7 +215,7 @@ public class LoggerTest {
 
     @Test
     public void mdc() {
-        ThreadContext.put("TestYear", new Integer(2010).toString());
+        ThreadContext.put("TestYear", "2010");
         logger.debug("Debug message");
         ThreadContext.clear();
         logger.debug("Debug message");
diff --git a/core/src/test/java/org/apache/logging/log4j/core/StrictXMLConfigTest.java b/core/src/test/java/org/apache/logging/log4j/core/StrictXMLConfigTest.java
index 6c58a28337..8d5544b6e4 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/StrictXMLConfigTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/StrictXMLConfigTest.java
@@ -42,17 +42,18 @@ public class StrictXMLConfigTest {
 
     private static final String CONFIG = "log4j-strict1.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<LogEvent> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
                 break;
             }
         }
@@ -132,7 +133,7 @@ public class StrictXMLConfigTest {
     @Test
     public void mdc() {
 
-        ThreadContext.put("TestYear", new Integer(2010).toString());
+        ThreadContext.put("TestYear", "2010");
         logger.debug("Debug message");
         ThreadContext.clear();
         logger.debug("Debug message");
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/AsynchAppenderNoLocationTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/AsynchAppenderNoLocationTest.java
index cfa1ca7237..c85aabcde8 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/AsynchAppenderNoLocationTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/AsynchAppenderNoLocationTest.java
@@ -16,11 +16,6 @@
  */
 package org.apache.logging.log4j.core.appender;
 
-import static org.junit.Assert.*;
-
-import java.util.List;
-import java.util.Map;
-
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.core.Appender;
@@ -34,23 +29,30 @@ import org.junit.AfterClass;
 import org.junit.BeforeClass;
 import org.junit.Test;
 
+import java.util.List;
+import java.util.Map;
+
+import static org.junit.Assert.assertNotNull;
+import static org.junit.Assert.assertTrue;
+
 /**
  *
  */
 public class AsynchAppenderNoLocationTest {
     private static final String CONFIG = "log4j-asynch-no-location.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<String> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
                 break;
             }
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/AsynchAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/AsynchAppenderTest.java
index 4c57fa085a..082d14e076 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/AsynchAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/AsynchAppenderTest.java
@@ -41,17 +41,18 @@ import static org.junit.Assert.*;
 public class AsynchAppenderTest {
     private static final String CONFIG = "log4j-asynch.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<String> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
                 break;
             }
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/ConsoleAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/ConsoleAppenderTest.java
index 92593a1734..6d1bd0083c 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/ConsoleAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/ConsoleAppenderTest.java
@@ -51,8 +51,8 @@ public class ConsoleAppenderTest {
     @Test
     public void testFollow() {
         final PrintStream ps = System.out;
-        final Layout layout = PatternLayout.createLayout(null, null, null, null);
-        final ConsoleAppender app = ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "true", "false");
+        final Layout<String> layout = PatternLayout.createLayout(null, null, null, null);
+        final ConsoleAppender<String> app = ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "true", "false");
         app.start();
         final LogEvent event = new Log4jLogEvent("TestLogger", null, ConsoleAppenderTest.class.getName(), Level.INFO,
             new SimpleMessage("Test"), null);
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/FailoverAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/FailoverAppenderTest.java
index 8802d195d4..f5580e98bc 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/FailoverAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/FailoverAppenderTest.java
@@ -41,18 +41,19 @@ import static org.junit.Assert.assertNotNull;
 public class FailoverAppenderTest {
     private static final String CONFIG = "log4j-failover.xml";
     private static Configuration config;
-    private static ListAppender app;
-    private static FailOnceAppender foApp;
+    private static ListAppender<LogEvent> app;
+    private static FailOnceAppender<LogEvent> foApp;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
             } else if (entry.getKey().equals("Once")) {
                 foApp = (FailOnceAppender) entry.getValue();
             }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/FileAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/FileAppenderTest.java
index eb3d2a1a66..c63dbf3318 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/FileAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/FileAppenderTest.java
@@ -18,18 +18,16 @@ package org.apache.logging.log4j.core.appender;
 
 import org.apache.logging.log4j.Level;
 import org.apache.logging.log4j.core.Layout;
-import org.apache.logging.log4j.core.impl.Log4jLogEvent;
 import org.apache.logging.log4j.core.LogEvent;
+import org.apache.logging.log4j.core.impl.Log4jLogEvent;
 import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.apache.logging.log4j.message.SimpleMessage;
 import org.junit.After;
-import org.junit.Test;
 import org.junit.AfterClass;
 import org.junit.BeforeClass;
+import org.junit.Test;
 
-import java.io.BufferedInputStream;
 import java.io.BufferedReader;
-import java.io.DataInputStream;
 import java.io.File;
 import java.io.FileInputStream;
 import java.io.InputStream;
@@ -139,8 +137,8 @@ public class FileAppenderTest {
     }
 
     private static void writer(final boolean lock, final int count, final String name) throws Exception {
-        final Layout layout = PatternLayout.createLayout(PatternLayout.SIMPLE_CONVERSION_PATTERN, null, null, null);
-        final FileAppender app = FileAppender.createAppender(FILENAME, "true", Boolean.toString(lock), "test", "false",
+        final Layout<String> layout = PatternLayout.createLayout(PatternLayout.SIMPLE_CONVERSION_PATTERN, null, null, null);
+        final FileAppender<String> app = FileAppender.createAppender(FILENAME, "true", Boolean.toString(lock), "test", "false",
             "false", "false", layout, null, "false", null, null);
         final Thread t = Thread.currentThread();
         app.start();
@@ -164,10 +162,10 @@ public class FileAppenderTest {
         final String expected = "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2},\\d{3} \\[[^\\]]*\\] INFO TestLogger - Test";
         final Pattern pattern = Pattern.compile(expected);
         final FileInputStream fis = new FileInputStream(FILENAME);
-        final DataInputStream is = new DataInputStream(new BufferedInputStream(fis));
+        final BufferedReader is = new BufferedReader(new InputStreamReader(fis));
         int counter = 0;
         String str = "";
-        while (is.available() != 0) {
+        while (is.ready()) {
             str = is.readLine();
             //System.out.println(str);
             ++counter;
@@ -196,6 +194,7 @@ public class FileAppenderTest {
             this.lock = lock;
             this.count = count;
         }
+        @Override
         public void run() {
             final Thread thread = Thread.currentThread();
 
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/OutputStreamAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/OutputStreamAppenderTest.java
index 41ecc779dc..29964994a4 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/OutputStreamAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/OutputStreamAppenderTest.java
@@ -37,8 +37,8 @@ public class OutputStreamAppenderTest {
 
     @Test
     public void testAppender() {
-        final Layout layout = PatternLayout.createLayout(null, null, null, null);
-        final InMemoryAppender app = new InMemoryAppender("test", layout, null, false);
+        final Layout<String> layout = PatternLayout.createLayout(null, null, null, null);
+        final InMemoryAppender<String> app = new InMemoryAppender<String>("test", layout, null, false);
         final LogEvent event = new Log4jLogEvent("TestLogger", null, OutputStreamAppenderTest.class.getName(), Level.INFO,
             new SimpleMessage("Test"), null);
         app.start();
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderTest.java
index 58305faec2..8f88f974c7 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderTest.java
@@ -50,7 +50,6 @@ import static org.junit.Assert.fail;
  */
 public class SocketAppenderTest {
 
-    private static final String HOST = "localhost";
     private static final String PORT = "8199";
     private static final String DYN_PORT = "8300";
     private static final String ERROR_PORT = "8301";
@@ -109,7 +108,6 @@ public class SocketAppenderTest {
         root.setAdditive(false);
         root.setLevel(Level.DEBUG);
         root.debug("This is a test message");
-        final Exception parent = new IllegalStateException("Test");
         final Throwable child = new LoggingException("This is a test");
         root.error("Throwing an exception", child);
         root.debug("This is another test message");
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/SyslogAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/SyslogAppenderTest.java
index 81b6f24837..20894ef8ee 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/SyslogAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/SyslogAppenderTest.java
@@ -49,7 +49,6 @@ import static org.junit.Assert.assertTrue;
  */
 public class SyslogAppenderTest {
 
-    private static final String HOST = "localhost";
     private static final String PORT = "8199";
     private static final int PORTNUM = Integer.parseInt(PORT);
 
@@ -272,7 +271,6 @@ public class SyslogAppenderTest {
                     final byte[] buffer = new byte[4096];
                     final Socket socket = sock.accept();
                     socket.setSoLinger(true, 0);
-                    final StringBuilder sb = new StringBuilder();
                     if (socket != null) {
                         final InputStream in = socket.getInputStream();
                         int i = in.read(buffer, 0, buffer.length);
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/rewrite/RewriteAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/rewrite/RewriteAppenderTest.java
index 5fabe6eeae..76b9af24ac 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/rewrite/RewriteAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/rewrite/RewriteAppenderTest.java
@@ -47,20 +47,21 @@ import static org.junit.Assert.assertEquals;
 public class RewriteAppenderTest {
     private static final String CONFIG = "log4j-rewrite.xml";
     private static Configuration config;
-    private static ListAppender app;
-    private static ListAppender app2;
+    private static ListAppender<LogEvent> app;
+    private static ListAppender<String> app2;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
             } else if (entry.getKey().equals("List2")) {
-                app2 = (ListAppender) entry.getValue();
+                app2 = (ListAppender<String>) entry.getValue();
             }
         }
     }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/rewrite/TestRewritePolicy.java b/core/src/test/java/org/apache/logging/log4j/core/appender/rewrite/TestRewritePolicy.java
index 33e1dcf873..fae8a3cef1 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/rewrite/TestRewritePolicy.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/rewrite/TestRewritePolicy.java
@@ -27,6 +27,7 @@ import org.apache.logging.log4j.core.impl.Log4jLogEvent;
 @Plugin(name = "TestRewritePolicy", type = "Core", elementType = "rewritePolicy", printObject = true)
 public class TestRewritePolicy implements RewritePolicy {
 
+    @Override
     public LogEvent rewrite(final LogEvent source) {
 
         return new Log4jLogEvent(source.getLoggerName(), source.getMarker(), source.getFQCN(), source.getLevel(),
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/routing/JSONRoutingAppender2Test.java b/core/src/test/java/org/apache/logging/log4j/core/appender/routing/JSONRoutingAppender2Test.java
index bef69af161..bef74d11d2 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/routing/JSONRoutingAppender2Test.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/routing/JSONRoutingAppender2Test.java
@@ -43,17 +43,18 @@ import static org.junit.Assert.assertTrue;
 public class JSONRoutingAppender2Test {
     private static final String CONFIG = "log4j-routing2.json";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<LogEvent> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
                 break;
             }
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/routing/JSONRoutingAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/routing/JSONRoutingAppenderTest.java
index 61105958ea..8ce113c972 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/routing/JSONRoutingAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/routing/JSONRoutingAppenderTest.java
@@ -43,17 +43,18 @@ import static org.junit.Assert.assertTrue;
 public class JSONRoutingAppenderTest {
     private static final String CONFIG = "log4j-routing.json";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<LogEvent> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
                 break;
             }
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/routing/RoutingAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/routing/RoutingAppenderTest.java
index 3ecb3e4fa6..afa65f9197 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/routing/RoutingAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/routing/RoutingAppenderTest.java
@@ -43,17 +43,18 @@ import static org.junit.Assert.assertTrue;
 public class RoutingAppenderTest {
     private static final String CONFIG = "log4j-routing.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<LogEvent> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
                 break;
             }
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/async/perftest/PerfTestDriver.java b/core/src/test/java/org/apache/logging/log4j/core/async/perftest/PerfTestDriver.java
index 7d1d4613cb..4c713796d2 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/async/perftest/PerfTestDriver.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/async/perftest/PerfTestDriver.java
@@ -16,6 +16,8 @@
  */
 package org.apache.logging.log4j.core.async.perftest;
 
+import org.apache.logging.log4j.core.async.AsyncLoggerContextSelector;
+
 import java.io.BufferedReader;
 import java.io.File;
 import java.io.FileReader;
@@ -24,17 +26,16 @@ import java.io.InputStreamReader;
 import java.nio.CharBuffer;
 import java.util.ArrayList;
 import java.util.Arrays;
+import java.util.Collections;
 import java.util.List;
 
-import org.apache.logging.log4j.core.async.AsyncLoggerContextSelector;
-
 /**
  * Runs a sequence of performance tests.
  */
 public class PerfTestDriver {
     static enum WaitStrategy {
         Sleep, Yield, Block
-    };
+    }
 
     /**
      * Defines the setup for a java process running a performance test.
@@ -91,9 +92,7 @@ public class PerfTestDriver {
             args.add("-DAsyncLoggerConfig.WaitStrategy=" + _wait);
             args.add("-DAsyncLogger.WaitStrategy=" + _wait);
             if (_systemProperties != null) {
-                for (String property : _systemProperties) {
-                    args.add(property);
-                }
+                Collections.addAll(args, _systemProperties);
             }
             args.add("-cp");
             args.add(System.getProperty("java.class.path"));
@@ -167,7 +166,7 @@ public class PerfTestDriver {
                     _average += Long.parseLong(parts[i++].split("=")[1]);
                     _pct99 += Long.parseLong(parts[i++].split("=")[1]);
                     _pct99_99 += Long.parseLong(parts[i++].split("=")[1]);
-                    _count += Integer.parseInt(parts[i++].split("=")[1]);
+                    _count += Integer.parseInt(parts[i].split("=")[1]);
                 } else {
                     _throughputRowCount++;
                     String number = line.substring(0, line.indexOf(' '));
@@ -175,7 +174,7 @@ public class PerfTestDriver {
                     totalOps += opsPerSec;
                 }
             }
-            _averageOpsPerSec = totalOps / (int) _throughputRowCount;
+            _averageOpsPerSec = totalOps / _throughputRowCount;
         }
 
         public String toString() {
@@ -294,8 +293,7 @@ public class PerfTestDriver {
             pb.redirectErrorStream(true); // merge System.out and System.err
             long t1 = System.nanoTime();
             // int count = config._threadCount >= 16 ? 2 : repeat;
-            int count = repeat;
-            runPerfTest(count, x++, config, pb);
+            runPerfTest(repeat, x++, config, pb);
             System.out.printf(" took %.1f seconds%n", (System.nanoTime() - t1)
                     / (1000.0 * 1000.0 * 1000.0));
 
@@ -319,7 +317,7 @@ public class PerfTestDriver {
                         (System.nanoTime() - start)
                                 / (60.0 * 1000.0 * 1000.0 * 1000.0));
 
-        printRanking((Setup[]) tests.toArray(new Setup[tests.size()]));
+        printRanking(tests.toArray(new Setup[tests.size()]));
     }
 
     private static void printRanking(Setup[] tests) {
@@ -357,6 +355,7 @@ public class PerfTestDriver {
             final boolean[] stop) {
 
         Thread t = new Thread("OutputWriter") {
+            @Override
             public void run() {
                 BufferedReader in = new BufferedReader(new InputStreamReader(
                         process.getInputStream()));
diff --git a/core/src/test/java/org/apache/logging/log4j/core/async/perftest/PerfTestResultFormatter.java b/core/src/test/java/org/apache/logging/log4j/core/async/perftest/PerfTestResultFormatter.java
index 4efecb7a86..ba613d9a8e 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/async/perftest/PerfTestResultFormatter.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/async/perftest/PerfTestResultFormatter.java
@@ -71,8 +71,7 @@ class PerfTestResultFormatter {
 		char[] tabs = new char[subKeys.size()];
 		Arrays.fill(tabs, '\t');
 		String sep = new String(tabs);
-		sb.append("\tAverage latency" + sep + "99% less than" + sep
-				+ "99.99% less than");
+		sb.append("\tAverage latency").append(sep).append("99% less than").append(sep).append("99.99% less than");
 		sb.append(LF);
 		for (int i = 0; i < 3; i++) {
 			for (String subKey : subKeys) {
@@ -118,7 +117,7 @@ class PerfTestResultFormatter {
 			Map<String, Stats> sub = results.get(key);
 			for (String subKey : sub.keySet()) {
 				Stats stats = sub.get(subKey);
-				sb.append("\t").append((long) stats.throughput);
+				sb.append("\t").append(stats.throughput);
 			}
 			sb.append(LF);
 		}
@@ -172,7 +171,7 @@ class PerfTestResultFormatter {
 		PerfTestResultFormatter fmt = new PerfTestResultFormatter();
 		BufferedReader reader = new BufferedReader(new InputStreamReader(
 				System.in));
-		String line = null;
+		String line;
 		while ((line = reader.readLine()) != null) {
 			fmt.process(line);
 		}
diff --git a/core/src/test/java/org/apache/logging/log4j/core/config/XMLConfigurationTest.java b/core/src/test/java/org/apache/logging/log4j/core/config/XMLConfigurationTest.java
index 0dea8c80c5..3640a878f2 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/config/XMLConfigurationTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/config/XMLConfigurationTest.java
@@ -28,16 +28,14 @@ import org.junit.AfterClass;
 import org.junit.BeforeClass;
 import org.junit.Test;
 
-import java.io.BufferedInputStream;
-import java.io.DataInputStream;
+import java.io.BufferedReader;
 import java.io.FileInputStream;
 import java.io.FileOutputStream;
+import java.io.InputStreamReader;
 import java.util.Iterator;
 import java.util.Map;
 
-import static org.junit.Assert.assertTrue;
-import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertEquals;
+import static org.junit.Assert.*;
 
 /**
  *
@@ -53,7 +51,7 @@ public class XMLConfigurationTest {
         final LoggerContext ctx = (LoggerContext) LogManager.getContext();
         final Configuration config = ctx.getConfiguration();
         if (config instanceof XMLConfiguration) {
-            final String name = ((XMLConfiguration) config).getName();
+            final String name = config.getName();
             if (name == null || !name.equals("XMLConfigTest")) {
                 ctx.reconfigure();
             }
@@ -104,11 +102,11 @@ public class XMLConfigurationTest {
         fos.close();
         final Logger logger = LogManager.getLogger("org.apache.logging.log4j.test2.Test");
         logger.debug("This is a test");
-        final DataInputStream is = new DataInputStream(new BufferedInputStream(new FileInputStream(LOGFILE)));
+        final BufferedReader is = new BufferedReader(new InputStreamReader(new FileInputStream(LOGFILE)));
         try {
             int count = 0;
             String str = "";
-            while (is.available() != 0) {
+            while (is.ready()) {
                 str = is.readLine();
                 ++count;
             }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/config/XMLLoggerPropsTest.java b/core/src/test/java/org/apache/logging/log4j/core/config/XMLLoggerPropsTest.java
index 6fdc7c4501..3a0a8d27d0 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/config/XMLLoggerPropsTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/config/XMLLoggerPropsTest.java
@@ -39,10 +39,11 @@ public class XMLLoggerPropsTest {
 
     private static final String CONFIG = "log4j-loggerprops.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<String> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         System.setProperty("test", "test");
@@ -50,7 +51,7 @@ public class XMLLoggerPropsTest {
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
                 break;
             }
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/filter/BurstFilterTest.java b/core/src/test/java/org/apache/logging/log4j/core/filter/BurstFilterTest.java
index 974e815e18..2cb65f1831 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/filter/BurstFilterTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/filter/BurstFilterTest.java
@@ -40,18 +40,19 @@ public class BurstFilterTest {
     private static final String CONFIG = "log4j-burst.xml";
 
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<String> app;
     private static BurstFilter filter;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("ListAppender")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
                 filter = (BurstFilter) app.getFilter();
                 break;
             }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/filter/MapFilterTest.java b/core/src/test/java/org/apache/logging/log4j/core/filter/MapFilterTest.java
index 5cd4a7a8c4..420f272f34 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/filter/MapFilterTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/filter/MapFilterTest.java
@@ -87,7 +87,7 @@ public class MapFilterTest {
         final MapFilter mapFilter = (MapFilter) filter;
         assertFalse("Should not be And filter", mapFilter.isAnd());
         final Map<String, List<String>> map = mapFilter.getMap();
-        assertNotNull("No Map", map == null);
+        assertNotNull("No Map", map);
         assertTrue("No elements in Map", map.size() != 0);
         assertTrue("Incorrect number of elements in Map", map.size() == 1);
         assertTrue("Map does not contain key eventId", map.containsKey("eventId"));
@@ -99,7 +99,8 @@ public class MapFilterTest {
         final Map<String,Appender<?>> appenders = config.getAppenders();
         final Appender app = appenders.get("LIST");
         assertNotNull("No List appender", app);
-        final List<String> msgs = ((ListAppender) app).getMessages();
+        @SuppressWarnings("unchecked")
+        final List<String> msgs = ((ListAppender<String>) app).getMessages();
         assertNotNull("No messages", msgs);
         assertTrue("No messages", msgs.size() > 0);
 
diff --git a/core/src/test/java/org/apache/logging/log4j/core/filter/StructuredDataFilterTest.java b/core/src/test/java/org/apache/logging/log4j/core/filter/StructuredDataFilterTest.java
index a264561a12..1dd7c38c6f 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/filter/StructuredDataFilterTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/filter/StructuredDataFilterTest.java
@@ -49,9 +49,9 @@ public class StructuredDataFilterTest {
         msg.put("FromAccount", "211000");
         msg.put("Amount", "1000.00");
         assertTrue(filter.isStarted());
-        assertTrue(filter.filter(null, Level.DEBUG, null, msg, (Throwable)null) == Filter.Result.NEUTRAL);
+        assertTrue(filter.filter(null, Level.DEBUG, null, msg, null) == Filter.Result.NEUTRAL);
         msg.put("ToAccount", "111111");
-        assertTrue(filter.filter(null, Level.ERROR, null, msg, (Throwable)null) == Filter.Result.DENY);
+        assertTrue(filter.filter(null, Level.ERROR, null, msg, null) == Filter.Result.DENY);
         filter = StructuredDataFilter.createFilter(pairs, "or", null, null);
         filter.start();
         msg = new StructuredDataMessage("AccountTransfer@18060", "Transfer Successful", "Audit");
@@ -59,9 +59,9 @@ public class StructuredDataFilterTest {
         msg.put("FromAccount", "211000");
         msg.put("Amount", "1000.00");
         assertTrue(filter.isStarted());
-        assertTrue(filter.filter(null, Level.DEBUG, null, msg, (Throwable)null) == Filter.Result.NEUTRAL);
+        assertTrue(filter.filter(null, Level.DEBUG, null, msg, null) == Filter.Result.NEUTRAL);
         msg.put("ToAccount", "111111");
-        assertTrue(filter.filter(null, Level.ERROR, null, msg, (Throwable)null) == Filter.Result.NEUTRAL);
+        assertTrue(filter.filter(null, Level.ERROR, null, msg, null) == Filter.Result.NEUTRAL);
     }
 
     @Test
diff --git a/core/src/test/java/org/apache/logging/log4j/core/filter/TimeFilterTest.java b/core/src/test/java/org/apache/logging/log4j/core/filter/TimeFilterTest.java
index bd584f73e5..dffe09f3c3 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/filter/TimeFilterTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/filter/TimeFilterTest.java
@@ -38,7 +38,7 @@ public class TimeFilterTest {
         filter.start();
         assertTrue(filter.isStarted());
         final Calendar cal = Calendar.getInstance(TimeZone.getTimeZone("America/LosAngeles"));
-        cal.set(Calendar.HOUR_OF_DAY, 02);
+        cal.set(Calendar.HOUR_OF_DAY, 2);
         long tod = cal.getTimeInMillis();
         LogEvent event = new Log4jLogEvent(null, null, null, null, null, null, null, null, null, null, tod);
         assertTrue(filter.filter(null, Level.ERROR, null, null, (Throwable)null) == Filter.Result.NEUTRAL);
@@ -47,7 +47,7 @@ public class TimeFilterTest {
         tod = cal.getTimeInMillis();
         event = new Log4jLogEvent(null, null, null, null, null, null, null, null, null, null, tod);
         assertTrue(filter.filter(event) == Filter.Result.NEUTRAL);
-        cal.set(Calendar.HOUR_OF_DAY, 04);
+        cal.set(Calendar.HOUR_OF_DAY, 4);
         tod = cal.getTimeInMillis();
         event = new Log4jLogEvent(null, null, null, null, null, null, null, null, null, null, tod);
         assertTrue(filter.filter(event) == Filter.Result.DENY);
diff --git a/core/src/test/java/org/apache/logging/log4j/core/layout/HTMLLayoutTest.java b/core/src/test/java/org/apache/logging/log4j/core/layout/HTMLLayoutTest.java
index fe95a98f1a..b831c2521d 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/layout/HTMLLayoutTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/layout/HTMLLayoutTest.java
@@ -68,7 +68,7 @@ public class HTMLLayoutTest {
 
         // set up appender
         final HTMLLayout layout = HTMLLayout.createLayout("true", null, null, null, "small", null);
-        final ListAppender appender = new ListAppender("List", null, layout, true, false);
+        final ListAppender<String> appender = new ListAppender<String>("List", null, layout, true, false);
         appender.start();
 
         // set appender on root and set level to debug
diff --git a/core/src/test/java/org/apache/logging/log4j/core/layout/RFC5424LayoutTest.java b/core/src/test/java/org/apache/logging/log4j/core/layout/RFC5424LayoutTest.java
index 425f57f4d3..14db9919ef 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/layout/RFC5424LayoutTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/layout/RFC5424LayoutTest.java
@@ -82,7 +82,7 @@ public class RFC5424LayoutTest {
         // set up appender
         final AbstractStringLayout layout = RFC5424Layout.createLayout("Local0", "Event", "3692", "true", "RequestContext",
             null, null, "true", null, "ATM", null, "key1, key2, locale", null, "loginId", null, null, null);
-        final ListAppender appender = new ListAppender("List", null, layout, true, false);
+        final ListAppender<String> appender = new ListAppender<String>("List", null, layout, true, false);
 
         appender.start();
 
@@ -146,7 +146,7 @@ public class RFC5424LayoutTest {
         // set up appender
         final AbstractStringLayout layout = RFC5424Layout.createLayout("Local0", "Event", "3692", "true", "RequestContext",
             null, null, "true", "#012", "ATM", null, "key1, key2, locale", null, "loginId", null, null, null);
-        final ListAppender appender = new ListAppender("List", null, layout, true, false);
+        final ListAppender<String> appender = new ListAppender<String>("List", null, layout, true, false);
 
         appender.start();
 
@@ -209,7 +209,7 @@ public class RFC5424LayoutTest {
         // set up appender
         final AbstractStringLayout layout = RFC5424Layout.createLayout("Local0", "Event", "3692", "true", "RequestContext",
             null, null, "true", null, "ATM", null, "key1, key2, locale", null, "loginId", null, "%xEx", null);
-        final ListAppender appender = new ListAppender("List", null, layout, true, false);
+        final ListAppender<String> appender = new ListAppender<String>("List", null, layout, true, false);
         appender.start();
 
         // set appender on root and set level to debug
diff --git a/core/src/test/java/org/apache/logging/log4j/core/layout/SerializedLayoutTest.java b/core/src/test/java/org/apache/logging/log4j/core/layout/SerializedLayoutTest.java
index fe01d7b175..c99d90dd72 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/layout/SerializedLayoutTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/layout/SerializedLayoutTest.java
@@ -78,7 +78,7 @@ public class SerializedLayoutTest {
 
         // set up appender
         final SerializedLayout layout = SerializedLayout.createLayout();
-        final ListAppender appender = new ListAppender("List", null, layout, false, true);
+        final ListAppender<LogEvent> appender = new ListAppender<LogEvent>("List", null, layout, false, true);
         appender.start();
 
         // set appender on root and set level to debug
diff --git a/core/src/test/java/org/apache/logging/log4j/core/layout/SyslogLayoutTest.java b/core/src/test/java/org/apache/logging/log4j/core/layout/SyslogLayoutTest.java
index 96b3691972..e78d92d35a 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/layout/SyslogLayoutTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/layout/SyslogLayoutTest.java
@@ -78,7 +78,7 @@ public class SyslogLayoutTest {
         // set up appender
         final SyslogLayout layout = SyslogLayout.createLayout("Local0", "true", null, null);
         //ConsoleAppender appender = new ConsoleAppender("Console", layout);
-        final ListAppender appender = new ListAppender("List", null, layout, true, false);
+        final ListAppender<String> appender = new ListAppender<String>("List", null, layout, true, false);
         appender.start();
 
         // set appender on root and set level to debug
diff --git a/core/src/test/java/org/apache/logging/log4j/core/layout/XMLLayoutTest.java b/core/src/test/java/org/apache/logging/log4j/core/layout/XMLLayoutTest.java
index 7b167c9065..82fe20af2b 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/layout/XMLLayoutTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/layout/XMLLayoutTest.java
@@ -65,7 +65,7 @@ public class XMLLayoutTest {
 
         // set up appender
         final XMLLayout layout = XMLLayout.createLayout("true", "true", "true", null);
-        final ListAppender appender = new ListAppender("List", null, layout, true, false);
+        final ListAppender<String> appender = new ListAppender<String>("List", null, layout, true, false);
         appender.start();
 
         // set appender on root and set level to debug
diff --git a/core/src/test/java/org/apache/logging/log4j/core/net/JMSQueueFailoverTest.java b/core/src/test/java/org/apache/logging/log4j/core/net/JMSQueueFailoverTest.java
index 6695efb6bc..1590590ad2 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/net/JMSQueueFailoverTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/net/JMSQueueFailoverTest.java
@@ -58,7 +58,7 @@ public class JMSQueueFailoverTest {
     private static final String CONFIG = "log4j-jmsqueue-failover.xml";
 
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<LogEvent> app;
     private static LoggerContext ctx;
 
     @BeforeClass
@@ -76,11 +76,12 @@ public class JMSQueueFailoverTest {
     }
 
     @Before
+    @SuppressWarnings("unchecked")
     public void before() {
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
                 break;
             }
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/net/JMSQueueTest.java b/core/src/test/java/org/apache/logging/log4j/core/net/JMSQueueTest.java
index 1fab864bee..e41f95c0b5 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/net/JMSQueueTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/net/JMSQueueTest.java
@@ -100,7 +100,7 @@ public class JMSQueueTest {
                 QUEUE_NAME, null, null, null, clientFilters, "true");
         appender.start();
         final CompositeFilter serverFilters = CompositeFilter.createFilters(new Filter[]{serverFilter});
-        final ListAppender listApp = new ListAppender("Events", serverFilters, null, false, false);
+        final ListAppender<LogEvent> listApp = new ListAppender<LogEvent>("Events", serverFilters, null, false, false);
         listApp.start();
         final PatternLayout layout = PatternLayout.createLayout("%m %ex%n", null, null, null);
         final ConsoleAppender console = ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "false", "true");
diff --git a/core/src/test/java/org/apache/logging/log4j/core/net/JMSTopicFailoverTest.java b/core/src/test/java/org/apache/logging/log4j/core/net/JMSTopicFailoverTest.java
index 0a9e9f44e6..f6910b47f7 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/net/JMSTopicFailoverTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/net/JMSTopicFailoverTest.java
@@ -57,7 +57,7 @@ public class JMSTopicFailoverTest {
     private static final String CONFIG = "log4j-jmstopic-failover.xml";
 
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<LogEvent> app;
     private static LoggerContext ctx;
 
     @BeforeClass
@@ -75,11 +75,12 @@ public class JMSTopicFailoverTest {
     }
 
     @Before
+    @SuppressWarnings("unchecked")
     public void before() {
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<LogEvent>) entry.getValue();
                 break;
             }
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/net/JMSTopicTest.java b/core/src/test/java/org/apache/logging/log4j/core/net/JMSTopicTest.java
index a41187e8d0..ed0ab7ff66 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/net/JMSTopicTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/net/JMSTopicTest.java
@@ -43,6 +43,7 @@ import org.mockejb.jndi.MockContextFactory;
 
 import javax.naming.Context;
 import javax.naming.InitialContext;
+import java.io.Serializable;
 import java.util.List;
 import java.util.Map;
 
@@ -100,10 +101,11 @@ public class JMSTopicTest {
                 TOPIC_NAME, null, null, null, clientFilters, "true");
         appender.start();
         final CompositeFilter serverFilters = CompositeFilter.createFilters(new Filter[]{serverFilter});
-        final ListAppender listApp = new ListAppender("Events", serverFilters, null, false, false);
+        final ListAppender<Serializable> listApp = new ListAppender<Serializable>("Events", serverFilters, null, false, false);
         listApp.start();
         final PatternLayout layout = PatternLayout.createLayout("%m %ex%n", null, null, null);
-        final ConsoleAppender console = ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "false", "true");
+        final ConsoleAppender<? extends Serializable> console =
+                ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "false", "true");
         console.start();
         final Logger serverLogger = ctx.getLogger(JMSTopicReceiver.class.getName());
         serverLogger.addAppender(console);
diff --git a/core/src/test/java/org/apache/logging/log4j/core/net/SocketMessageLossTest.java b/core/src/test/java/org/apache/logging/log4j/core/net/SocketMessageLossTest.java
index 9fe29f302a..69c88f4adc 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/net/SocketMessageLossTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/net/SocketMessageLossTest.java
@@ -16,6 +16,13 @@
  */
 package org.apache.logging.log4j.core.net;
 
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+import org.apache.logging.log4j.core.appender.AppenderRuntimeException;
+import org.apache.logging.log4j.core.config.XMLConfigurationFactory;
+import org.junit.BeforeClass;
+import org.junit.Test;
+
 import java.io.BufferedReader;
 import java.io.IOException;
 import java.io.InputStream;
@@ -27,16 +34,7 @@ import java.util.concurrent.ExecutorService;
 import java.util.concurrent.Executors;
 import java.util.concurrent.Future;
 
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
-import org.apache.logging.log4j.core.appender.AppenderRuntimeException;
-import org.apache.logging.log4j.core.config.XMLConfigurationFactory;
-import org.junit.BeforeClass;
-import org.junit.Test;
-
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertTrue;
-import static org.junit.Assert.fail;
+import static org.junit.Assert.*;
 
 public class SocketMessageLossTest {
     private static final int SOCKET_PORT = 5514;
@@ -105,6 +103,7 @@ public class SocketMessageLossTest {
             server = new ServerSocket(SOCKET_PORT);
         }
 
+        @Override
         public InputStream call() throws Exception {
             client = server.accept();
             return client.getInputStream();
diff --git a/core/src/test/java/org/apache/logging/log4j/core/net/SocketReconnectTest.java b/core/src/test/java/org/apache/logging/log4j/core/net/SocketReconnectTest.java
index cb5baecff6..18d5a37c09 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/net/SocketReconnectTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/net/SocketReconnectTest.java
@@ -133,6 +133,7 @@ public class SocketReconnectTest {
             this.list = list;
         }
 
+        @Override
         public void run() {
             ServerSocket server = null;
             client = null;
diff --git a/core/src/test/java/org/apache/logging/log4j/core/net/SocketServerTest.java b/core/src/test/java/org/apache/logging/log4j/core/net/SocketServerTest.java
index e8b4105bce..bfb8999f55 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/net/SocketServerTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/net/SocketServerTest.java
@@ -24,10 +24,10 @@ import org.apache.logging.log4j.core.LogEvent;
 import org.apache.logging.log4j.core.Logger;
 import org.apache.logging.log4j.core.LoggerContext;
 import org.apache.logging.log4j.core.appender.ConsoleAppender;
-import org.apache.logging.log4j.test.appender.ListAppender;
 import org.apache.logging.log4j.core.appender.SocketAppender;
 import org.apache.logging.log4j.core.filter.AbstractFilter;
 import org.apache.logging.log4j.core.layout.PatternLayout;
+import org.apache.logging.log4j.test.appender.ListAppender;
 import org.junit.After;
 import org.junit.AfterClass;
 import org.junit.BeforeClass;
@@ -35,8 +35,6 @@ import org.junit.Test;
 
 import java.util.List;
 import java.util.Map;
-import java.util.concurrent.ArrayBlockingQueue;
-import java.util.concurrent.BlockingQueue;
 
 import static org.junit.Assert.assertNotNull;
 import static org.junit.Assert.assertTrue;
@@ -46,12 +44,9 @@ import static org.junit.Assert.assertTrue;
  */
 public class SocketServerTest {
 
-    private static final String HOST = "localhost";
     private static final String PORT = "8199";
     private static final int PORTNUM = Integer.parseInt(PORT);
 
-    private static BlockingQueue<LogEvent> list = new ArrayBlockingQueue<LogEvent>(10);
-
     private static SocketServer tcp;
     private static Thread thread;
 
@@ -94,7 +89,7 @@ public class SocketServerTest {
         final SocketAppender appender = SocketAppender.createAppender("localhost", PORT, "tcp", "-1",
             null, "Test", null, null, null, socketFilter, null, null);
         appender.start();
-        final ListAppender listApp = new ListAppender("Events", serverFilter, null, false, false);
+        final ListAppender<LogEvent> listApp = new ListAppender<LogEvent>("Events", serverFilter, null, false, false);
         listApp.start();
         final PatternLayout layout = PatternLayout.createLayout("%m %ex%n", null, null, null);
         final ConsoleAppender console = ConsoleAppender.createAppender(layout, null, "SYSTEM_OUT", "Console", "false", "true");
diff --git a/core/src/test/java/org/apache/logging/log4j/core/net/SocketTest.java b/core/src/test/java/org/apache/logging/log4j/core/net/SocketTest.java
index 4877e4e4b1..5ec07408e7 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/net/SocketTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/net/SocketTest.java
@@ -16,12 +16,6 @@
  */
 package org.apache.logging.log4j.core.net;
 
-import java.io.IOException;
-import java.io.InputStream;
-import java.net.ServerSocket;
-import java.net.Socket;
-import java.util.concurrent.Callable;
-import java.util.concurrent.ExecutorService;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.core.appender.AppenderRuntimeException;
@@ -29,6 +23,13 @@ import org.apache.logging.log4j.core.config.XMLConfigurationFactory;
 import org.junit.BeforeClass;
 import org.junit.Test;
 
+import java.io.IOException;
+import java.io.InputStream;
+import java.net.ServerSocket;
+import java.net.Socket;
+import java.util.concurrent.Callable;
+import java.util.concurrent.ExecutorService;
+
 import static org.junit.Assert.fail;
 
 public class SocketTest {
@@ -64,6 +65,7 @@ public class SocketTest {
         private ServerSocket server;
         private Socket client;
 
+        @Override
         public InputStream call() throws Exception {
             server = new ServerSocket(SOCKET_PORT);
             client = server.accept();
diff --git a/core/src/test/java/org/apache/logging/log4j/core/pattern/ExtendedThrowableTest.java b/core/src/test/java/org/apache/logging/log4j/core/pattern/ExtendedThrowableTest.java
index a7b8906c04..906b0ad3d8 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/pattern/ExtendedThrowableTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/pattern/ExtendedThrowableTest.java
@@ -38,17 +38,18 @@ import static org.junit.Assert.*;
 public class ExtendedThrowableTest {
     private static final String CONFIG = "log4j-throwablefilter.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<String> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
             }
         }
     }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/pattern/RegexReplacementTest.java b/core/src/test/java/org/apache/logging/log4j/core/pattern/RegexReplacementTest.java
index 697471f638..c20eebc0e8 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/pattern/RegexReplacementTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/pattern/RegexReplacementTest.java
@@ -42,23 +42,24 @@ import static org.junit.Assert.assertTrue;
 public class RegexReplacementTest {
     private static final String CONFIG = "log4j-replace.xml";
     private static Configuration config;
-    private static ListAppender app;
-    private static ListAppender app2;
+    private static ListAppender<String> app;
+    private static ListAppender<String> app2;
     private static LoggerContext ctx;
 
     private static final String EXPECTED = "/RegexReplacementTest" + Constants.LINE_SEP;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
             }
             if (entry.getKey().equals("List2")) {
-                app2 = (ListAppender) entry.getValue();
+                app2 = (ListAppender<String>) entry.getValue();
             }
         }
     }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/pattern/RootThrowableTest.java b/core/src/test/java/org/apache/logging/log4j/core/pattern/RootThrowableTest.java
index c19aa5f66e..a30df67a1b 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/pattern/RootThrowableTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/pattern/RootThrowableTest.java
@@ -39,17 +39,18 @@ import static org.junit.Assert.assertTrue;
 public class RootThrowableTest {
     private static final String CONFIG = "log4j-rootthrowablefilter.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<String> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
             }
         }
     }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/pattern/StyleConverterTest.java b/core/src/test/java/org/apache/logging/log4j/core/pattern/StyleConverterTest.java
index 55cc4b5b81..c30043f3f6 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/pattern/StyleConverterTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/pattern/StyleConverterTest.java
@@ -41,7 +41,7 @@ import static org.junit.Assert.assertTrue;
 public class StyleConverterTest {
     private static final String CONFIG = "log4j-style.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<String> app;
     private static LoggerContext ctx;
 
     private static final String EXPECTED =
@@ -49,13 +49,14 @@ public class StyleConverterTest {
         + Constants.LINE_SEP;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
             }
         }
     }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/pattern/ThrowableTest.java b/core/src/test/java/org/apache/logging/log4j/core/pattern/ThrowableTest.java
index dd110cd0c7..e77f02f781 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/pattern/ThrowableTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/pattern/ThrowableTest.java
@@ -38,17 +38,18 @@ import static org.junit.Assert.*;
 public class ThrowableTest {
     private static final String CONFIG = "log4j-throwable.xml";
     private static Configuration config;
-    private static ListAppender app;
+    private static ListAppender<String> app;
     private static LoggerContext ctx;
 
     @BeforeClass
+    @SuppressWarnings("unchecked")
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
         config = ctx.getConfiguration();
         for (final Map.Entry<String, Appender<?>> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
-                app = (ListAppender) entry.getValue();
+                app = (ListAppender<String>) entry.getValue();
             }
         }
     }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/util/Profiler.java b/core/src/test/java/org/apache/logging/log4j/core/util/Profiler.java
index d7a7711c3d..2cf9ab0ac4 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/util/Profiler.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/util/Profiler.java
@@ -24,7 +24,7 @@ import java.lang.reflect.Field;
 public class Profiler {
     private static Object profiler;
     private static Class profilingModes;
-    private static Class controllerClazz;
+    private static Class<?> controllerClazz;
 
     static {
         try {
diff --git a/core/src/test/java/org/apache/logging/log4j/test/appender/AlwaysFailAppender.java b/core/src/test/java/org/apache/logging/log4j/test/appender/AlwaysFailAppender.java
index 1d26414596..612090710b 100644
--- a/core/src/test/java/org/apache/logging/log4j/test/appender/AlwaysFailAppender.java
+++ b/core/src/test/java/org/apache/logging/log4j/test/appender/AlwaysFailAppender.java
@@ -23,28 +23,31 @@ import org.apache.logging.log4j.core.config.plugins.Plugin;
 import org.apache.logging.log4j.core.config.plugins.PluginAttr;
 import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 
+import java.io.Serializable;
+
 /**
  *
  */
 @Plugin(name="AlwaysFail",type="Core",elementType="appender",printObject=true)
-public class AlwaysFailAppender extends AbstractAppender {
+public class AlwaysFailAppender<T extends Serializable> extends AbstractAppender<T> {
 
     private AlwaysFailAppender(final String name) {
         super(name, null, null, false);
     }
 
+    @Override
     public void append(final LogEvent event) {
         throw new LoggingException("Always fail");
     }
 
     @PluginFactory
-    public static AlwaysFailAppender createAppender(@PluginAttr("name") final String name) {
+    public static <S extends Serializable> AlwaysFailAppender<S> createAppender(@PluginAttr("name") final String name) {
         if (name == null) {
             LOGGER.error("A name for the Appender must be specified");
             return null;
         }
 
-        return new AlwaysFailAppender(name);
+        return new AlwaysFailAppender<S>(name);
     }
 
 }
diff --git a/core/src/test/java/org/apache/logging/log4j/test/appender/FailOnceAppender.java b/core/src/test/java/org/apache/logging/log4j/test/appender/FailOnceAppender.java
index 415923ce2c..a03fb5d0ee 100644
--- a/core/src/test/java/org/apache/logging/log4j/test/appender/FailOnceAppender.java
+++ b/core/src/test/java/org/apache/logging/log4j/test/appender/FailOnceAppender.java
@@ -23,6 +23,7 @@ import org.apache.logging.log4j.core.config.plugins.Plugin;
 import org.apache.logging.log4j.core.config.plugins.PluginAttr;
 import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 
+import java.io.Serializable;
 import java.util.ArrayList;
 import java.util.List;
 
@@ -30,7 +31,7 @@ import java.util.List;
  *
  */
 @Plugin(name="FailOnce",type="Core",elementType="appender",printObject=true)
-public class FailOnceAppender extends AbstractAppender {
+public class FailOnceAppender<T extends Serializable> extends AbstractAppender<T> {
 
     boolean fail = true;
 
@@ -40,6 +41,7 @@ public class FailOnceAppender extends AbstractAppender {
         super(name, null, null, false);
     }
 
+    @Override
     public void append(final LogEvent event) {
         if (fail) {
             fail = false;
@@ -56,13 +58,13 @@ public class FailOnceAppender extends AbstractAppender {
     }
 
     @PluginFactory
-    public static FailOnceAppender createAppender(@PluginAttr("name") final String name) {
+    public static <S extends Serializable> FailOnceAppender<S> createAppender(@PluginAttr("name") final String name) {
         if (name == null) {
             LOGGER.error("A name for the Appender must be specified");
             return null;
         }
 
-        return new FailOnceAppender(name);
+        return new FailOnceAppender<S>(name);
     }
 
 }
diff --git a/core/src/test/java/org/apache/logging/log4j/test/appender/InMemoryAppender.java b/core/src/test/java/org/apache/logging/log4j/test/appender/InMemoryAppender.java
index 103cad81c2..6e2b1b1cc0 100644
--- a/core/src/test/java/org/apache/logging/log4j/test/appender/InMemoryAppender.java
+++ b/core/src/test/java/org/apache/logging/log4j/test/appender/InMemoryAppender.java
@@ -22,13 +22,15 @@ import org.apache.logging.log4j.core.appender.OutputStreamManager;
 import org.apache.logging.log4j.core.filter.CompositeFilter;
 
 import java.io.ByteArrayOutputStream;
+import java.io.Serializable;
 
 /**
  *
  */
-public class InMemoryAppender extends AbstractOutputStreamAppender {
+public class InMemoryAppender<T extends Serializable> extends AbstractOutputStreamAppender<T> {
 
-    public InMemoryAppender(final String name, final Layout layout, final CompositeFilter filters, final boolean handleException) {
+    public InMemoryAppender(final String name, final Layout<T> layout, final CompositeFilter filters,
+                            final boolean handleException) {
         super(name, layout, filters, handleException, true, new InMemoryManager(name));
     }
 
diff --git a/core/src/test/java/org/apache/logging/log4j/test/appender/ListAppender.java b/core/src/test/java/org/apache/logging/log4j/test/appender/ListAppender.java
index e375de2c1d..c8a73f38c4 100644
--- a/core/src/test/java/org/apache/logging/log4j/test/appender/ListAppender.java
+++ b/core/src/test/java/org/apache/logging/log4j/test/appender/ListAppender.java
@@ -26,6 +26,7 @@ import org.apache.logging.log4j.core.config.plugins.PluginElement;
 import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.layout.SerializedLayout;
 
+import java.io.Serializable;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.List;
@@ -35,7 +36,7 @@ import java.util.List;
  * List could eventually grow to cause an OutOfMemoryError.
  */
 @Plugin(name = "List", type = "Core", elementType = "appender", printObject = true)
-public class ListAppender extends AbstractAppender {
+public class ListAppender<T extends Serializable> extends AbstractAppender<T> {
 
     private final List<LogEvent> events = new ArrayList<LogEvent>();
 
@@ -55,7 +56,8 @@ public class ListAppender extends AbstractAppender {
         raw = false;
     }
 
-    public ListAppender(final String name, final Filter filter, final Layout layout, final boolean newline, final boolean raw) {
+    public ListAppender(final String name, final Filter filter, final Layout<T> layout, final boolean newline,
+                        final boolean raw) {
         super(name, filter, layout);
         this.newLine = newline;
         this.raw = raw;
@@ -67,6 +69,7 @@ public class ListAppender extends AbstractAppender {
         }
     }
 
+    @Override
     public synchronized void append(final LogEvent event) {
         final Layout layout = getLayout();
         if (layout == null) {
@@ -151,10 +154,10 @@ public class ListAppender extends AbstractAppender {
     }
 
     @PluginFactory
-    public static ListAppender createAppender(@PluginAttr("name") final String name,
+    public static <S extends Serializable> ListAppender<S> createAppender(@PluginAttr("name") final String name,
                                               @PluginAttr("entryPerNewLine") final String newLine,
                                               @PluginAttr("raw") final String raw,
-                                              @PluginElement("layout") final Layout layout,
+                                              @PluginElement("layout") final Layout<S> layout,
                                               @PluginElement("filters") final Filter filter) {
 
         if (name == null) {
@@ -162,9 +165,9 @@ public class ListAppender extends AbstractAppender {
             return null;
         }
 
-        final boolean nl = (newLine == null) ? false : Boolean.parseBoolean(newLine);
-        final boolean r = (raw == null) ? false : Boolean.parseBoolean(raw);
+        final boolean nl = newLine != null && Boolean.parseBoolean(newLine);
+        final boolean r = raw != null && Boolean.parseBoolean(raw);
 
-        return new ListAppender(name, filter, layout, nl, r);
+        return new ListAppender<S>(name, filter, layout, nl, r);
     }
 }
diff --git a/flume-ng/pom.xml b/flume-ng/pom.xml
index 23bf45c35e..acaf86a608 100644
--- a/flume-ng/pom.xml
+++ b/flume-ng/pom.xml
@@ -257,8 +257,9 @@
       <plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-pmd-plugin</artifactId>
+        <version>${pmd.plugin.version}</version>
         <configuration>
-          <targetJdk>1.5</targetJdk>
+          <targetJdk>${maven.compile.target}</targetJdk>
         </configuration>
       </plugin>
       <plugin>
diff --git a/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeAppender.java b/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeAppender.java
index b3ffbaa6d5..53324d1c4f 100644
--- a/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeAppender.java
+++ b/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeAppender.java
@@ -27,13 +27,14 @@ import org.apache.logging.log4j.core.config.plugins.PluginElement;
 import org.apache.logging.log4j.core.config.plugins.PluginFactory;
 import org.apache.logging.log4j.core.layout.RFC5424Layout;
 
+import java.io.Serializable;
 import java.util.Locale;
 
 /**
  * An Appender that uses the Avro protocol to route events to Flume.
  */
 @Plugin(name = "Flume", type = "Core", elementType = "appender", printObject = true)
-public final class FlumeAppender extends AbstractAppender implements FlumeEventFactory {
+public final class FlumeAppender<T extends Serializable> extends AbstractAppender<T> implements FlumeEventFactory {
 
     private final AbstractFlumeManager manager;
 
@@ -57,7 +58,7 @@ public final class FlumeAppender extends AbstractAppender implements FlumeEventF
         }
     }
 
-    private FlumeAppender(final String name, final Filter filter, final Layout layout, final boolean handleException,
+    private FlumeAppender(final String name, final Filter filter, final Layout<T> layout, final boolean handleException,
                           final String includes, final String excludes, final String required, final String mdcPrefix,
                           final String eventPrefix, final boolean compress,
                           final FlumeEventFactory factory, final AbstractFlumeManager manager) {
@@ -136,7 +137,7 @@ public final class FlumeAppender extends AbstractAppender implements FlumeEventF
      * @return A Flume Avro Appender.
      */
     @PluginFactory
-    public static FlumeAppender createAppender(@PluginElement("agents") Agent[] agents,
+    public static <S extends Serializable> FlumeAppender<S> createAppender(@PluginElement("agents") Agent[] agents,
                                                    @PluginElement("properties") final Property[] properties,
                                                    @PluginAttr("embedded") final String embedded,
                                                    @PluginAttr("type") final String type,
@@ -155,7 +156,7 @@ public final class FlumeAppender extends AbstractAppender implements FlumeEventF
                                                    @PluginAttr("compress") final String compressBody,
                                                    @PluginAttr("batchSize") final String batchSize,
                                                    @PluginElement("flumeEventFactory") final FlumeEventFactory factory,
-                                                   @PluginElement("layout") Layout layout,
+                                                   @PluginElement("layout") Layout<S> layout,
                                                    @PluginElement("filters") final Filter filter) {
 
         final boolean embed = embedded != null ? Boolean.valueOf(embedded) :
@@ -192,10 +193,11 @@ public final class FlumeAppender extends AbstractAppender implements FlumeEventF
         final int retries = agentRetries == null ? 0 : Integer.parseInt(agentRetries);
         final int delay = maxDelay == null ? 60000 : Integer.parseInt(maxDelay);
 
-
         if (layout == null) {
-            layout = RFC5424Layout.createLayout(null, null, null, "True", null, mdcPrefix, eventPrefix, null, null,
-                null, excludes, includes, required, null, null, null, null);
+            @SuppressWarnings({"unchecked", "UnnecessaryLocalVariable"})
+            Layout<S> l = (Layout<S>)RFC5424Layout.createLayout(null, null, null, "True", null, mdcPrefix, eventPrefix,
+                    null, null, null, excludes, includes, required, null, null, null, null);
+            layout = l;
         }
 
         if (name == null) {
@@ -237,7 +239,7 @@ public final class FlumeAppender extends AbstractAppender implements FlumeEventF
             return null;
         }
 
-        return new FlumeAppender(name, filter, layout,  handleExceptions, includes,
+        return new FlumeAppender<S>(name, filter, layout,  handleExceptions, includes,
             excludes, required, mdcPrefix, eventPrefix, compress, factory, manager);
     }
 }
diff --git a/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeAvroManager.java b/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeAvroManager.java
index 06c37eaf65..12245ae629 100644
--- a/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeAvroManager.java
+++ b/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeAvroManager.java
@@ -31,7 +31,7 @@ public class FlumeAvroManager extends AbstractFlumeManager {
 
     private static final int MAX_RECONNECTS = 3;
 
-    private static ManagerFactory factory = new AvroManagerFactory();
+    private static AvroManagerFactory factory = new AvroManagerFactory();
 
     private final Agent[] agents;
 
@@ -95,8 +95,8 @@ public class FlumeAvroManager extends AbstractFlumeManager {
             first = false;
         }
         sb.append("]");
-        return (FlumeAvroManager) getManager(sb.toString(), factory, new FactoryData(name, agents, batchSize, retries,
-            connectTimeout, requestTimeout));
+        return getManager(sb.toString(), factory,
+                new FactoryData(name, agents, batchSize, retries, connectTimeout, requestTimeout));
     }
 
     /**
diff --git a/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeEmbeddedManager.java b/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeEmbeddedManager.java
index 1874b6d8ce..ff059a2bfc 100644
--- a/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeEmbeddedManager.java
+++ b/flume-ng/src/main/java/org/apache/logging/log4j/flume/appender/FlumeEmbeddedManager.java
@@ -37,7 +37,7 @@ public class FlumeEmbeddedManager extends AbstractFlumeManager {
     /** Name for the Flume source */
     protected static final String SOURCE_NAME = "log4j-source";
 
-    private static ManagerFactory factory = new FlumeManagerFactory();
+    private static FlumeManagerFactory factory = new FlumeManagerFactory();
 
     private static final String FiLE_SEP = PropertiesUtil.getProperties().getStringProperty("file.separator");
 
@@ -114,8 +114,8 @@ public class FlumeEmbeddedManager extends AbstractFlumeManager {
             }
             sb.append(NameUtil.md5(props.toString()));
         }
-        return (FlumeEmbeddedManager) getManager(sb.toString(), factory,
-            new FactoryData(name, agents, properties, batchSize, dataDir));
+        return getManager(sb.toString(), factory,
+                new FactoryData(name, agents, properties, batchSize, dataDir));
     }
 
     @Override
diff --git a/jcl-bridge/pom.xml b/jcl-bridge/pom.xml
index 7a433cc666..95adc7ea99 100644
--- a/jcl-bridge/pom.xml
+++ b/jcl-bridge/pom.xml
@@ -165,7 +165,7 @@
             <artifactId>maven-pmd-plugin</artifactId>
             <version>${pmd.plugin.version}</version>
             <configuration>
-              <targetJdk>1.5</targetJdk>
+              <targetJdk>${maven.compile.target}</targetJdk>
             </configuration>
           </plugin>
           <plugin>
diff --git a/jcl-bridge/src/test/java/org/apache/logging/log4j/jcl/LoggerTest.java b/jcl-bridge/src/test/java/org/apache/logging/log4j/jcl/LoggerTest.java
index 70307ac7f5..dacafce3ac 100644
--- a/jcl-bridge/src/test/java/org/apache/logging/log4j/jcl/LoggerTest.java
+++ b/jcl-bridge/src/test/java/org/apache/logging/log4j/jcl/LoggerTest.java
@@ -21,11 +21,10 @@ import org.apache.commons.logging.LogFactory;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.core.Appender;
 import org.apache.logging.log4j.core.LoggerContext;
-import org.apache.logging.log4j.core.helpers.Constants;
-import org.apache.logging.log4j.test.appender.ListAppender;
-import org.apache.logging.log4j.core.config.Configuration;
 import org.apache.logging.log4j.core.config.XMLConfigurationFactory;
+import org.apache.logging.log4j.core.helpers.Constants;
 import org.apache.logging.log4j.status.StatusLogger;
+import org.apache.logging.log4j.test.appender.ListAppender;
 import org.junit.AfterClass;
 import org.junit.BeforeClass;
 import org.junit.Test;
@@ -33,9 +32,7 @@ import org.junit.Test;
 import java.util.List;
 import java.util.Map;
 
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertTrue;
+import static org.junit.Assert.*;
 
 /**
  *
@@ -48,7 +45,7 @@ public class LoggerTest {
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
-        final Configuration config = ctx.getConfiguration();
+        ctx.getConfiguration();
     }
 
     @AfterClass
@@ -73,13 +70,14 @@ public class LoggerTest {
         verify("List", "o.a.l.l.j.LoggerTest Info Message {} MDC{}" + Constants.LINE_SEP);
     }
 
+    @SuppressWarnings("unchecked")
     private void verify(final String name, final String expected) {
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         final Map<String, Appender<?>> list = ctx.getConfiguration().getAppenders();
         final Appender<?> listApp = list.get(name);
         assertNotNull("Missing Appender", listApp);
         assertTrue("Not a ListAppender", listApp instanceof ListAppender);
-        final List<String> events = ((ListAppender) listApp).getMessages();
+        final List<String> events = ((ListAppender<String>) listApp).getMessages();
         assertTrue("Incorrect number of messages. Expected 1 Actual " + events.size(), events.size()== 1);
         final String actual = events.get(0);
         assertEquals("Incorrect message. Expected " + expected + ". Actual " + actual, expected, actual);
diff --git a/log4j-to-slf4j/pom.xml b/log4j-to-slf4j/pom.xml
index f7c83efff5..a528e41d34 100644
--- a/log4j-to-slf4j/pom.xml
+++ b/log4j-to-slf4j/pom.xml
@@ -23,7 +23,6 @@
     <version>2.0-beta6-SNAPSHOT</version>
     <relativePath>../</relativePath>
   </parent>
-  <groupId>org.apache.logging.log4j</groupId>
   <artifactId>log4j-to-slf4j</artifactId>
   <packaging>jar</packaging>
   <name>Apache Log4j to SLF4J Adapter</name>
@@ -167,7 +166,7 @@
             <artifactId>maven-pmd-plugin</artifactId>
             <version>${pmd.plugin.version}</version>
             <configuration>
-              <targetJdk>1.5</targetJdk>
+              <targetJdk>${maven.compile.target}</targetJdk>
             </configuration>
           </plugin>
           <plugin>
diff --git a/log4j-to-slf4j/src/main/java/org/apache/logging/slf4j/MDCContextMap.java b/log4j-to-slf4j/src/main/java/org/apache/logging/slf4j/MDCContextMap.java
index 5eabba45b5..da0720cefa 100644
--- a/log4j-to-slf4j/src/main/java/org/apache/logging/slf4j/MDCContextMap.java
+++ b/log4j-to-slf4j/src/main/java/org/apache/logging/slf4j/MDCContextMap.java
@@ -25,34 +25,44 @@ import java.util.Map;
  * Bind the ThreadContextMap to the SLF4J MDC.
  */
 public class MDCContextMap implements ThreadContextMap {
+    @Override
     public void put(final String key, final String value) {
         MDC.put(key, value);
     }
 
+    @Override
     public String get(final String key) {
         return MDC.get(key);
     }
 
+    @Override
     public void remove(final String key) {
         MDC.remove(key);
     }
 
+    @Override
     public void clear() {
         MDC.clear();
     }
 
+    @Override
     public boolean containsKey(final String key) {
         return MDC.getCopyOfContextMap().containsKey(key);
     }
 
+    @Override
+    @SuppressWarnings("unchecked") // nothing we can do about this, restricted by SLF4J API
     public Map<String, String> getContext() {
         return MDC.getCopyOfContextMap();
     }
 
+    @Override
+    @SuppressWarnings("unchecked") // nothing we can do about this, restricted by SLF4J API
     public Map<String, String> get() {
         return MDC.getCopyOfContextMap();
     }
 
+    @Override
     public boolean isEmpty() {
         return MDC.getCopyOfContextMap().isEmpty();
     }
diff --git a/log4j12-api/pom.xml b/log4j12-api/pom.xml
index 031decd5db..63758cb1e0 100644
--- a/log4j12-api/pom.xml
+++ b/log4j12-api/pom.xml
@@ -158,7 +158,7 @@
             <artifactId>maven-pmd-plugin</artifactId>
             <version>${pmd.plugin.version}</version>
             <configuration>
-              <targetJdk>1.5</targetJdk>
+              <targetJdk>${maven.compile.target}</targetJdk>
             </configuration>
           </plugin>
           <plugin>
diff --git a/log4j12-api/src/main/java/org/apache/log4j/MDC.java b/log4j12-api/src/main/java/org/apache/log4j/MDC.java
index 2d3ca492ba..4cd3047318 100644
--- a/log4j12-api/src/main/java/org/apache/log4j/MDC.java
+++ b/log4j12-api/src/main/java/org/apache/log4j/MDC.java
@@ -71,7 +71,7 @@ public final class MDC {
         ThreadContext.clear();
     }
 
-    public static Hashtable getContext() {
-        return new Hashtable(localMap.get());
+    public static Hashtable<String, Object> getContext() {
+        return new Hashtable<String, Object>(localMap.get());
     }
 }
diff --git a/log4j12-api/src/main/java/org/apache/log4j/NDC.java b/log4j12-api/src/main/java/org/apache/log4j/NDC.java
index c4504c8347..870aac9c48 100644
--- a/log4j12-api/src/main/java/org/apache/log4j/NDC.java
+++ b/log4j12-api/src/main/java/org/apache/log4j/NDC.java
@@ -80,7 +80,7 @@ public final class NDC {
      *
      * @param stack The diagnostic context of the parent thread.
      */
-    public static void inherit(final Stack stack) {
+    public static void inherit(final Stack<String> stack) {
         org.apache.logging.log4j.ThreadContext.setStack(stack);
     }
 
@@ -153,7 +153,7 @@ public final class NDC {
      * method is called before exiting a thread, this method has been
      * augmented to lazily remove references to dead threads. In
      * practice, this means that you can be a little sloppy and
-     * occasionally forget to call {@link #remove} before exiting a
+     * occasionally forget to call {@code remove} before exiting a
      * thread. However, you must call <code>remove</code> sometime. If
      * you never call it, then your application is sure to run out of
      * memory.
diff --git a/log4j12-api/src/test/java/org/apache/log4j/CategoryTest.java b/log4j12-api/src/test/java/org/apache/log4j/CategoryTest.java
index 580295f6dc..a979bafe4e 100644
--- a/log4j12-api/src/test/java/org/apache/log4j/CategoryTest.java
+++ b/log4j12-api/src/test/java/org/apache/log4j/CategoryTest.java
@@ -20,24 +20,21 @@ package org.apache.log4j;
 import org.apache.logging.log4j.core.Layout;
 import org.apache.logging.log4j.core.LogEvent;
 import org.apache.logging.log4j.core.LoggerContext;
+import org.apache.logging.log4j.core.config.ConfigurationFactory;
 import org.apache.logging.log4j.core.helpers.Constants;
+import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.apache.logging.log4j.message.Message;
 import org.apache.logging.log4j.message.ObjectMessage;
 import org.apache.logging.log4j.test.appender.ListAppender;
-import org.apache.logging.log4j.core.config.ConfigurationFactory;
-import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.junit.AfterClass;
 import org.junit.BeforeClass;
 import org.junit.Test;
 
-
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertTrue;
-
 import java.lang.reflect.Method;
 import java.util.List;
 
+import static org.junit.Assert.*;
+
 
 /**
  * Tests of Category.
@@ -46,7 +43,7 @@ public class CategoryTest {
 
     static ConfigurationFactory cf = new BasicConfigurationFactory();
 
-    private static ListAppender appender = new ListAppender("List");
+    private static ListAppender<LogEvent> appender = new ListAppender<LogEvent>("List");
 
     @BeforeClass
     public static void setupClass() {
@@ -66,6 +63,7 @@ public class CategoryTest {
      * Tests Category.forcedLog.
      */
     @Test
+    @SuppressWarnings("deprecation")
     public void testForcedLog() {
         final MockCategory category = new MockCategory("org.example.foo");
         category.setAdditivity(false);
@@ -163,8 +161,8 @@ public class CategoryTest {
     @Test
     public void testClassName() {
         final Category category = Category.getInstance("TestCategory");
-        final Layout layout = PatternLayout.createLayout("%d %p %C{1.} [%t] %m%n", null, null, null);
-        final ListAppender appender = new ListAppender("List2", null, layout, false, false);
+        final Layout<String> layout = PatternLayout.createLayout("%d %p %C{1.} [%t] %m%n", null, null, null);
+        final ListAppender<String> appender = new ListAppender<String>("List2", null, layout, false, false);
         appender.start();
         category.setAdditivity(false);
         category.getLogger().addAppender(appender);
diff --git a/log4j12-api/src/test/java/org/apache/log4j/LoggerTest.java b/log4j12-api/src/test/java/org/apache/log4j/LoggerTest.java
index bda57ab0d8..4106d26b9a 100644
--- a/log4j12-api/src/test/java/org/apache/log4j/LoggerTest.java
+++ b/log4j12-api/src/test/java/org/apache/log4j/LoggerTest.java
@@ -18,36 +18,29 @@
 package org.apache.log4j;
 
 import org.apache.logging.log4j.core.Appender;
-
-import java.util.List;
-import java.util.Locale;
-import java.util.ResourceBundle;
-
 import org.apache.logging.log4j.core.LogEvent;
 import org.apache.logging.log4j.core.LoggerContext;
 import org.apache.logging.log4j.core.appender.AbstractAppender;
+import org.apache.logging.log4j.core.config.ConfigurationFactory;
 import org.apache.logging.log4j.core.layout.PatternLayout;
 import org.apache.logging.log4j.test.appender.ListAppender;
-import org.apache.logging.log4j.core.config.ConfigurationFactory;
 import org.junit.After;
 import org.junit.AfterClass;
 import org.junit.BeforeClass;
 import org.junit.Test;
 
+import java.io.Serializable;
+import java.util.List;
+import java.util.Locale;
+import java.util.ResourceBundle;
 
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertNull;
-import static org.junit.Assert.assertFalse;
-import static org.junit.Assert.assertTrue;
-import static org.junit.Assert.assertSame;
+import static org.junit.Assert.*;
 
 /**
  * Used for internal unit testing the Logger class.
  */
 public class LoggerTest {
 
-    Logger logger;
     Appender a1;
     Appender a2;
 
@@ -126,7 +119,7 @@ public class LoggerTest {
     public void testAdditivity1() {
         final Logger a = Logger.getLogger("a");
         final Logger ab = Logger.getLogger("a.b");
-        final CountingAppender ca = new CountingAppender();
+        final CountingAppender<LogEvent> ca = new CountingAppender<LogEvent>();
         ca.start();
         a.getLogger().addAppender(ca);
 
@@ -154,9 +147,9 @@ public class LoggerTest {
         final Logger abc = Logger.getLogger("a.b.c");
         final Logger x = Logger.getLogger("x");
 
-        final CountingAppender ca1 = new CountingAppender();
+        final CountingAppender<LogEvent> ca1 = new CountingAppender<LogEvent>();
         ca1.start();
-        final CountingAppender ca2 = new CountingAppender();
+        final CountingAppender<LogEvent> ca2 = new CountingAppender<LogEvent>();
         ca2.start();
 
         a.getLogger().addAppender(ca1);
@@ -192,13 +185,13 @@ public class LoggerTest {
         final Logger a = Logger.getLogger("a");
         final Logger ab = Logger.getLogger("a.b");
         final Logger abc = Logger.getLogger("a.b.c");
-        final Logger x = Logger.getLogger("x");
+        Logger.getLogger("x");
 
-        final CountingAppender caRoot = new CountingAppender();
+        final CountingAppender<LogEvent> caRoot = new CountingAppender<LogEvent>();
         caRoot.start();
-        final CountingAppender caA = new CountingAppender();
+        final CountingAppender<LogEvent> caA = new CountingAppender<LogEvent>();
         caA.start();
-        final CountingAppender caABC = new CountingAppender();
+        final CountingAppender<LogEvent> caABC = new CountingAppender<LogEvent>();
         caABC.start();
 
         root.getLogger().addAppender(caRoot);
@@ -391,7 +384,7 @@ public class LoggerTest {
      */
     @Test
     public void testTrace() {
-        final ListAppender appender = new ListAppender("List");
+        final ListAppender<LogEvent> appender = new ListAppender<LogEvent>("List");
         appender.start();
         final Logger root = Logger.getRootLogger();
         root.getLogger().addAppender(appender);
@@ -418,7 +411,7 @@ public class LoggerTest {
      */
     @Test
     public void testTraceWithException() {
-        final ListAppender appender = new ListAppender("List");
+        final ListAppender<LogEvent> appender = new ListAppender<LogEvent>("List");
         appender.start();
         final Logger root = Logger.getRootLogger();
         root.getLogger().addAppender(appender);
@@ -446,7 +439,7 @@ public class LoggerTest {
      */
     @Test
     public void testIsTraceEnabled() {
-        final ListAppender appender = new ListAppender("List");
+        final ListAppender<LogEvent> appender = new ListAppender<LogEvent>("List");
         appender.start();
         final Logger root = Logger.getRootLogger();
         root.getLogger().addAppender(appender);
@@ -462,9 +455,10 @@ public class LoggerTest {
     }
 
     @Test
+    @SuppressWarnings("deprecation")
     public void testLog() {
         final PatternLayout layout = PatternLayout.createLayout("%d %C %L %m", null, null, null);
-        final ListAppender appender = new ListAppender("List", null, layout, false, false);
+        final ListAppender<String> appender = new ListAppender<String>("List", null, layout, false, false);
         appender.start();
         final Logger root = Logger.getRootLogger();
         root.getLogger().addAppender(appender);
@@ -489,12 +483,13 @@ public class LoggerTest {
             this.logger = logger;
         }
 
+        @SuppressWarnings("deprecation")
         public void logInfo(final String msg, final Throwable t) {
             logger.log(MyLogger.class.getName(), Priority.INFO, msg, t);
         }
     }
 
-    private static class CountingAppender extends AbstractAppender {
+    private static class CountingAppender<T extends Serializable> extends AbstractAppender<T> {
 
         int counter;
 
@@ -507,6 +502,7 @@ public class LoggerTest {
         public void close() {
         }
 
+        @Override
         public void append(final LogEvent event) {
             counter++;
         }
diff --git a/log4j12-api/src/test/java/org/apache/log4j/PriorityTest.java b/log4j12-api/src/test/java/org/apache/log4j/PriorityTest.java
index baa867f39a..abed865688 100644
--- a/log4j12-api/src/test/java/org/apache/log4j/PriorityTest.java
+++ b/log4j12-api/src/test/java/org/apache/log4j/PriorityTest.java
@@ -17,13 +17,11 @@
 
 package org.apache.log4j;
 
-import java.util.Locale;
-
 import org.junit.Test;
 
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertFalse;
-import static org.junit.Assert.assertTrue;
+import java.util.Locale;
+
+import static org.junit.Assert.*;
 
 /**
  * Tests of Priority.
@@ -89,77 +87,63 @@ public class PriorityTest {
 
     /**
      * Tests Priority.FATAL.
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testFatal() {
         assertTrue(Priority.FATAL instanceof Level);
     }
 
     /**
      * Tests Priority.ERROR.
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testERROR() {
         assertTrue(Priority.ERROR instanceof Level);
     }
 
     /**
      * Tests Priority.WARN.
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testWARN() {
         assertTrue(Priority.WARN instanceof Level);
     }
 
     /**
      * Tests Priority.INFO.
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testINFO() {
         assertTrue(Priority.INFO instanceof Level);
     }
 
     /**
      * Tests Priority.DEBUG.
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testDEBUG() {
         assertTrue(Priority.DEBUG instanceof Level);
     }
 
     /**
      * Tests Priority.equals(null).
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testEqualsNull() {
         assertFalse(Priority.DEBUG.equals(null));
     }
 
     /**
      * Tests Priority.equals(Level.DEBUG).
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testEqualsLevel() {
         //
         //   this behavior violates the equals contract.
@@ -169,11 +153,9 @@ public class PriorityTest {
 
     /**
      * Tests getAllPossiblePriorities().
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testGetAllPossiblePriorities() {
         final Priority[] priorities = Priority.getAllPossiblePriorities();
         assertEquals(5, priorities.length);
@@ -181,55 +163,45 @@ public class PriorityTest {
 
     /**
      * Tests toPriority(String).
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testToPriorityString() {
         assertTrue(Priority.toPriority("DEBUG") == Level.DEBUG);
     }
 
     /**
      * Tests toPriority(int).
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testToPriorityInt() {
         assertTrue(Priority.toPriority(Priority.DEBUG_INT) == Level.DEBUG);
     }
 
     /**
      * Tests toPriority(String, Priority).
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testToPriorityStringPriority() {
         assertTrue(Priority.toPriority("foo", Priority.DEBUG) == Priority.DEBUG);
     }
 
     /**
      * Tests toPriority(int, Priority).
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testToPriorityIntPriority() {
         assertTrue(Priority.toPriority(17, Priority.DEBUG) == Priority.DEBUG);
     }
 
     /**
      * Test that dotless lower I + "nfo" is recognized as INFO.
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testDotlessLowerI() {
         final Priority level = Priority.toPriority("\u0131nfo");
         assertEquals("INFO", level.toString());
@@ -238,11 +210,9 @@ public class PriorityTest {
     /**
      * Test that dotted lower I + "nfo" is recognized as INFO
      * even in Turkish locale.
-     *
-     * @deprecated
      */
-    @Deprecated
     @Test
+    @SuppressWarnings("deprecation")
     public void testDottedLowerI() {
         final Locale defaultLocale = Locale.getDefault();
         final Locale turkey = new Locale("tr", "TR");
diff --git a/samples/flume-common/src/main/java/org/apache/logging/log4j/samples/app/LogEventFactory.java b/samples/flume-common/src/main/java/org/apache/logging/log4j/samples/app/LogEventFactory.java
index 3a05d3e413..a8ec23b73c 100755
--- a/samples/flume-common/src/main/java/org/apache/logging/log4j/samples/app/LogEventFactory.java
+++ b/samples/flume-common/src/main/java/org/apache/logging/log4j/samples/app/LogEventFactory.java
@@ -32,16 +32,13 @@ import java.lang.reflect.Proxy;
  */
 public class LogEventFactory {
 
-    public static <T> T getEvent(final Class<T> intrface) {
-
-        final Class<?>[] interfaces = new Class<?>[]{intrface};
+    @SuppressWarnings("unchecked")
+    public static <T extends AuditEvent> T getEvent(final Class<T> intrface) {
 
         final String eventId = NamingUtils.lowerFirst(intrface.getSimpleName());
         final StructuredDataMessage msg = new StructuredDataMessage(eventId, null, "Audit");
-        final AuditEvent audit = (AuditEvent) Proxy.newProxyInstance(intrface
-            .getClassLoader(), interfaces, new AuditProxy(msg, intrface));
-
-        return (T) audit;
+        return (T)Proxy.newProxyInstance(intrface
+            .getClassLoader(), new Class<?>[]{intrface}, new AuditProxy(msg, intrface));
     }
 
     private static class AuditProxy implements InvocationHandler {
diff --git a/slf4j-impl/pom.xml b/slf4j-impl/pom.xml
index 1532d7bd23..79821f94ef 100644
--- a/slf4j-impl/pom.xml
+++ b/slf4j-impl/pom.xml
@@ -166,7 +166,7 @@
             <artifactId>maven-pmd-plugin</artifactId>
             <version>${pmd.plugin.version}</version>
             <configuration>
-              <targetJdk>1.5</targetJdk>
+              <targetJdk>${maven.compile.target}</targetJdk>
             </configuration>
           </plugin>
           <plugin>
diff --git a/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JLoggerFactory.java b/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JLoggerFactory.java
index 0bb479ba1b..98434109c5 100644
--- a/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JLoggerFactory.java
+++ b/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JLoggerFactory.java
@@ -41,6 +41,7 @@ public class Log4JLoggerFactory implements ILoggerFactory {
     private final Map<LoggerContext, ConcurrentMap<String, Logger>> contextMap =
         new WeakHashMap<LoggerContext, ConcurrentMap<String, Logger>>();
 
+    @Override
     public Logger getLogger(final String name) {
         final LoggerContext context = getContext();
         final ConcurrentMap<String, Logger> loggers = getLoggersMap(context);
diff --git a/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JMDCAdapter.java b/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JMDCAdapter.java
index b30b792572..436329fe5e 100644
--- a/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JMDCAdapter.java
+++ b/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JMDCAdapter.java
@@ -26,26 +26,33 @@ import java.util.Map;
  */
 public class Log4JMDCAdapter implements MDCAdapter {
 
+    @Override
     public void put(final String key, final String val) {
         ThreadContext.put(key, val);
     }
 
+    @Override
     public String get(final String key) {
         return ThreadContext.get(key);
     }
 
+    @Override
     public void remove(final String key) {
         ThreadContext.remove(key);
     }
 
+    @Override
     public void clear() {
         ThreadContext.clear();
     }
 
+    @Override
     public Map<String, String> getCopyOfContextMap() {
         return ThreadContext.getContext();
     }
 
+    @Override
+    @SuppressWarnings("unchecked") // nothing we can do about this, restricted by SLF4J API
     public void setContextMap(final Map map) {
         ThreadContext.clear();
         for (final Map.Entry<String, String> entry : ((Map<String, String>) map).entrySet()) {
diff --git a/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JMarkerFactory.java b/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JMarkerFactory.java
index 9eeaf6e2cb..acd1916202 100644
--- a/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JMarkerFactory.java
+++ b/slf4j-impl/src/main/java/org/slf4j/helpers/Log4JMarkerFactory.java
@@ -29,25 +29,31 @@ public class Log4JMarkerFactory implements IMarkerFactory {
 
     private final ConcurrentMap<String, Marker> markerMap = new ConcurrentHashMap<String, Marker>();
 
+    @Override
     public Marker getMarker(final String name) {
         if (name == null) {
             throw new IllegalArgumentException("Marker name must not be null");
         }
         Marker marker = markerMap.get(name);
-        if (marker == null) {
-            marker = new MarkerWrapper(name);
+        if (marker != null) {
+            return marker;
         }
-        return marker;
+        marker = new MarkerWrapper(name);
+        Marker existing = markerMap.putIfAbsent(name, marker);
+        return existing == null ? marker : existing;
     }
 
+    @Override
     public boolean exists(final String name) {
         return markerMap.containsKey(name);
     }
 
+    @Override
     public boolean detachMarker(final String name) {
         return false;
     }
 
+    @Override
     public Marker getDetachedMarker(final String name) {
         return new MarkerWrapper(name);
     }
diff --git a/slf4j-impl/src/main/java/org/slf4j/helpers/MarkerWrapper.java b/slf4j-impl/src/main/java/org/slf4j/helpers/MarkerWrapper.java
index c8f1e5d83b..3647b54024 100644
--- a/slf4j-impl/src/main/java/org/slf4j/helpers/MarkerWrapper.java
+++ b/slf4j-impl/src/main/java/org/slf4j/helpers/MarkerWrapper.java
@@ -40,10 +40,12 @@ public class MarkerWrapper extends BasicMarker implements Marker {
         parent = marker;
     }
 
+    @Override
     public org.apache.logging.log4j.Marker getParent() {
         return this.parent;
     }
 
+    @Override
     public boolean isInstanceOf(final org.apache.logging.log4j.Marker marker) {
         if (marker == null) {
             throw new IllegalArgumentException("A marker parameter is required");
@@ -56,6 +58,7 @@ public class MarkerWrapper extends BasicMarker implements Marker {
         }
     }
 
+    @Override
     public boolean isInstanceOf(final String name) {
         if (name == null) {
             throw new IllegalArgumentException("A marker name is required");
diff --git a/slf4j-impl/src/main/java/org/slf4j/impl/SLF4JLogger.java b/slf4j-impl/src/main/java/org/slf4j/impl/SLF4JLogger.java
index 81c78119cd..da03e9eb71 100644
--- a/slf4j-impl/src/main/java/org/slf4j/impl/SLF4JLogger.java
+++ b/slf4j-impl/src/main/java/org/slf4j/impl/SLF4JLogger.java
@@ -17,8 +17,6 @@
 package org.slf4j.impl;
 
 import org.apache.logging.log4j.Level;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.message.Message;
 import org.apache.logging.log4j.message.ParameterizedMessage;
 import org.apache.logging.log4j.message.SimpleMessage;
@@ -44,24 +42,26 @@ public class SLF4JLogger implements LocationAwareLogger {
     private final String name;
 
     public SLF4JLogger(final AbstractLogger logger, final String name) {
-        final Logger l = LogManager.getLogger(name);
         this.logger = new AbstractLoggerWrapper(logger, name, null);
         eventLogger = "EventLogger".equals(name);
         this.name = name;
     }
 
+    @Override
     public void trace(final String format) {
         if (logger.isTraceEnabled()) {
             logger.log(null, FQCN, Level.TRACE, new SimpleMessage(format), null);
         }
     }
 
+    @Override
     public void trace(final String format, final Object o) {
         if (logger.isTraceEnabled()) {
             logger.log(null, FQCN, Level.TRACE, new ParameterizedMessage(format, o), null);
         }
     }
 
+    @Override
     public void trace(final String format, final Object arg1, final Object arg2) {
         if (logger.isTraceEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, arg1, arg2);
@@ -69,33 +69,39 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void trace(final String format, final Object[] args) {
+    @Override
+    public void trace(final String format, final Object... args) {
         if (logger.isTraceEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, args);
             logger.log(null, FQCN, Level.TRACE, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void trace(final String format, final Throwable t) {
         if (logger.isTraceEnabled()) {
             logger.log(null, FQCN, Level.TRACE, new SimpleMessage(format), t);
         }
     }
 
+    @Override
     public boolean isTraceEnabled() {
         return logger.isTraceEnabled();
     }
 
+    @Override
     public boolean isTraceEnabled(final Marker marker) {
         return logger.isTraceEnabled((org.apache.logging.log4j.Marker) marker);
     }
 
+    @Override
     public void trace(final Marker marker, final String s) {
         if (isTraceEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.TRACE, new SimpleMessage(s), null);
         }
     }
 
+    @Override
     public void trace(final Marker marker, final String s, final Object o) {
         if (isTraceEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.TRACE,
@@ -103,6 +109,7 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void trace(final Marker marker, final String s, final Object o, final Object o1) {
         if (isTraceEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, o, o1);
@@ -110,13 +117,15 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void trace(final Marker marker, final String s, final Object[] objects) {
+    @Override
+    public void trace(final Marker marker, final String s, final Object... objects) {
         if (isTraceEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, objects);
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.TRACE, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void trace(final Marker marker, final String s, final Throwable throwable) {
         if (isTraceEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.TRACE,
@@ -124,18 +133,21 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void debug(final String format) {
         if (logger.isDebugEnabled()) {
             logger.log(null, FQCN, Level.DEBUG, new SimpleMessage(format), null);
         }
     }
 
+    @Override
     public void debug(final String format, final Object o) {
         if (logger.isDebugEnabled()) {
             logger.log(null, FQCN, Level.DEBUG, new ParameterizedMessage(format, o), null);
         }
     }
 
+    @Override
     public void debug(final String format, final Object arg1, final Object arg2) {
         if (logger.isDebugEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, arg1, arg2);
@@ -143,33 +155,39 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void debug(final String format, final Object[] args) {
+    @Override
+    public void debug(final String format, final Object... args) {
         if (logger.isDebugEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, args);
             logger.log(null, FQCN, Level.DEBUG, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void debug(final String format, final Throwable t) {
         if (logger.isDebugEnabled()) {
             logger.log(null, FQCN, Level.DEBUG, new SimpleMessage(format), t);
         }
     }
 
+    @Override
     public boolean isDebugEnabled() {
         return logger.isDebugEnabled();
     }
 
+    @Override
     public boolean isDebugEnabled(final Marker marker) {
         return logger.isDebugEnabled((org.apache.logging.log4j.Marker) marker);
     }
 
+    @Override
     public void debug(final Marker marker, final String s) {
         if (isDebugEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.DEBUG, new SimpleMessage(s), null);
         }
     }
 
+    @Override
     public void debug(final Marker marker, final String s, final Object o) {
         if (isDebugEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.DEBUG,
@@ -177,6 +195,7 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void debug(final Marker marker, final String s, final Object o, final Object o1) {
         if (isDebugEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, o, o1);
@@ -184,13 +203,15 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void debug(final Marker marker, final String s, final Object[] objects) {
+    @Override
+    public void debug(final Marker marker, final String s, final Object... objects) {
         if (isDebugEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, objects);
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.DEBUG, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void debug(final Marker marker, final String s, final Throwable throwable) {
         if (isDebugEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.DEBUG,
@@ -198,18 +219,21 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void info(final String format) {
         if (logger.isInfoEnabled()) {
             logger.log(null, FQCN, Level.INFO, new SimpleMessage(format), null);
         }
     }
 
+    @Override
     public void info(final String format, final Object o) {
         if (logger.isInfoEnabled()) {
             logger.log(null, FQCN, Level.INFO, new ParameterizedMessage(format, o), null);
         }
     }
 
+    @Override
     public void info(final String format, final Object arg1, final Object arg2) {
         if (logger.isInfoEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, arg1, arg2);
@@ -217,33 +241,39 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void info(final String format, final Object[] args) {
+    @Override
+    public void info(final String format, final Object... args) {
         if (logger.isInfoEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, args);
             logger.log(null, FQCN, Level.INFO, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void info(final String format, final Throwable t) {
         if (logger.isInfoEnabled()) {
             logger.log(null, FQCN, Level.INFO, new SimpleMessage(format), t);
         }
     }
 
+    @Override
     public boolean isInfoEnabled() {
         return logger.isInfoEnabled();
     }
 
+    @Override
     public boolean isInfoEnabled(final Marker marker) {
         return logger.isInfoEnabled((org.apache.logging.log4j.Marker) marker);
     }
 
+    @Override
     public void info(final Marker marker, final String s) {
         if (isInfoEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.INFO, new SimpleMessage(s), null);
         }
     }
 
+    @Override
     public void info(final Marker marker, final String s, final Object o) {
         if (isInfoEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.INFO,
@@ -251,6 +281,7 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void info(final Marker marker, final String s, final Object o, final Object o1) {
         if (isInfoEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, o, o1);
@@ -258,13 +289,15 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void info(final Marker marker, final String s, final Object[] objects) {
+    @Override
+    public void info(final Marker marker, final String s, final Object... objects) {
         if (isInfoEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, objects);
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.INFO, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void info(final Marker marker, final String s, final Throwable throwable) {
         if (isInfoEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.INFO,
@@ -272,18 +305,21 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void warn(final String format) {
         if (logger.isWarnEnabled()) {
             logger.log(null, FQCN, Level.WARN, new SimpleMessage(format), null);
         }
     }
 
+    @Override
     public void warn(final String format, final Object o) {
         if (logger.isWarnEnabled()) {
             logger.log(null, FQCN, Level.WARN, new ParameterizedMessage(format, o), null);
         }
     }
 
+    @Override
     public void warn(final String format, final Object arg1, final Object arg2) {
         if (logger.isWarnEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, arg1, arg2);
@@ -291,33 +327,39 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void warn(final String format, final Object[] args) {
+    @Override
+    public void warn(final String format, final Object... args) {
         if (logger.isWarnEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, args);
             logger.log(null, FQCN, Level.WARN, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void warn(final String format, final Throwable t) {
         if (logger.isWarnEnabled()) {
             logger.log(null, FQCN, Level.WARN, new SimpleMessage(format), t);
         }
     }
 
+    @Override
     public boolean isWarnEnabled() {
         return logger.isWarnEnabled();
     }
 
+    @Override
     public boolean isWarnEnabled(final Marker marker) {
         return logger.isWarnEnabled((org.apache.logging.log4j.Marker) marker);
     }
 
+    @Override
     public void warn(final Marker marker, final String s) {
         if (isWarnEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.WARN, new SimpleMessage(s), null);
         }
     }
 
+    @Override
     public void warn(final Marker marker, final String s, final Object o) {
         if (isWarnEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.WARN,
@@ -325,6 +367,7 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void warn(final Marker marker, final String s, final Object o, final Object o1) {
         if (isWarnEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, o, o1);
@@ -332,13 +375,15 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void warn(final Marker marker, final String s, final Object[] objects) {
+    @Override
+    public void warn(final Marker marker, final String s, final Object... objects) {
         if (isWarnEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, objects);
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.WARN, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void warn(final Marker marker, final String s, final Throwable throwable) {
         if (isWarnEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.WARN,
@@ -346,18 +391,21 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void error(final String format) {
         if (logger.isErrorEnabled()) {
             logger.log(null, FQCN, Level.ERROR, new SimpleMessage(format), null);
         }
     }
 
+    @Override
     public void error(final String format, final Object o) {
         if (logger.isErrorEnabled()) {
             logger.log(null, FQCN, Level.ERROR, new ParameterizedMessage(format, o), null);
         }
     }
 
+    @Override
     public void error(final String format, final Object arg1, final Object arg2) {
         if (logger.isErrorEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, arg1, arg2);
@@ -365,33 +413,39 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void error(final String format, final Object[] args) {
+    @Override
+    public void error(final String format, final Object... args) {
         if (logger.isErrorEnabled()) {
             final ParameterizedMessage msg = new ParameterizedMessage(format, args);
             logger.log(null, FQCN, Level.ERROR, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void error(final String format, final Throwable t) {
         if (logger.isErrorEnabled()) {
             logger.log(null, FQCN, Level.ERROR, new SimpleMessage(format), t);
         }
     }
 
+    @Override
     public boolean isErrorEnabled() {
         return logger.isErrorEnabled();
     }
 
+    @Override
     public boolean isErrorEnabled(final Marker marker) {
         return logger.isErrorEnabled((org.apache.logging.log4j.Marker) marker);
     }
 
+    @Override
     public void error(final Marker marker, final String s) {
         if (isErrorEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.ERROR, new SimpleMessage(s), null);
         }
     }
 
+    @Override
     public void error(final Marker marker, final String s, final Object o) {
         if (isErrorEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.ERROR,
@@ -399,6 +453,7 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
+    @Override
     public void error(final Marker marker, final String s, final Object o, final Object o1) {
         if (isErrorEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, o, o1);
@@ -406,13 +461,15 @@ public class SLF4JLogger implements LocationAwareLogger {
         }
     }
 
-    public void error(final Marker marker, final String s, final Object[] objects) {
+    @Override
+    public void error(final Marker marker, final String s, final Object... objects) {
         if (isErrorEnabled(marker)) {
             final ParameterizedMessage msg = new ParameterizedMessage(s, objects);
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.ERROR, msg, msg.getThrowable());
         }
     }
 
+    @Override
     public void error(final Marker marker, final String s, final Throwable throwable) {
         if (isErrorEnabled(marker)) {
             logger.log((org.apache.logging.log4j.Marker) marker, FQCN, Level.ERROR,
@@ -421,6 +478,7 @@ public class SLF4JLogger implements LocationAwareLogger {
     }
 
 
+    @Override
     public void log(final Marker marker, final String fqcn, final int i, final String s1, final Object[] objects,
                     Throwable throwable) {
         if (!logger.isEnabled(getLevel(i), (org.apache.logging.log4j.Marker) marker, s1)) {
@@ -449,12 +507,13 @@ public class SLF4JLogger implements LocationAwareLogger {
         } else {
             msg = new ParameterizedMessage(s1, objects, throwable);
             if (throwable != null) {
-                throwable = ((ParameterizedMessage) msg).getThrowable();
+                throwable = msg.getThrowable();
             }
         }
         logger.log((org.apache.logging.log4j.Marker) marker, fqcn, getLevel(i), msg, throwable);
     }
 
+    @Override
     public String getName() {
         return name;
     }
diff --git a/slf4j-impl/src/main/java/org/slf4j/impl/StaticLoggerBinder.java b/slf4j-impl/src/main/java/org/slf4j/impl/StaticLoggerBinder.java
index 3420c72fad..d0df1005c6 100644
--- a/slf4j-impl/src/main/java/org/slf4j/impl/StaticLoggerBinder.java
+++ b/slf4j-impl/src/main/java/org/slf4j/impl/StaticLoggerBinder.java
@@ -65,6 +65,7 @@ public final class StaticLoggerBinder implements LoggerFactoryBinder {
      * Returns the factory.
      * @return the factor.
      */
+    @Override
     public ILoggerFactory getLoggerFactory() {
         return loggerFactory;
     }
@@ -73,6 +74,7 @@ public final class StaticLoggerBinder implements LoggerFactoryBinder {
      * Returns the class name.
      * @return the class name;
      */
+    @Override
     public String getLoggerFactoryClassStr() {
         return LOGGER_FACTORY_CLASS_STR;
     }
diff --git a/slf4j-impl/src/main/java/org/slf4j/impl/StaticMarkerBinder.java b/slf4j-impl/src/main/java/org/slf4j/impl/StaticMarkerBinder.java
index e205348d19..662aa35291 100644
--- a/slf4j-impl/src/main/java/org/slf4j/impl/StaticMarkerBinder.java
+++ b/slf4j-impl/src/main/java/org/slf4j/impl/StaticMarkerBinder.java
@@ -32,10 +32,12 @@ public class StaticMarkerBinder implements MarkerFactoryBinder {
 
     private final IMarkerFactory markerFactory = new Log4JMarkerFactory();
 
+    @Override
     public IMarkerFactory getMarkerFactory() {
         return markerFactory;
     }
 
+    @Override
     public String getMarkerFactoryClassStr() {
         return Log4JMarkerFactory.class.getName();
     }
diff --git a/slf4j-impl/src/test/java/org/apache/logging/slf4j/LoggerTest.java b/slf4j-impl/src/test/java/org/apache/logging/slf4j/LoggerTest.java
index fdd1c244bb..9914ee97d1 100644
--- a/slf4j-impl/src/test/java/org/apache/logging/slf4j/LoggerTest.java
+++ b/slf4j-impl/src/test/java/org/apache/logging/slf4j/LoggerTest.java
@@ -19,11 +19,10 @@ package org.apache.logging.slf4j;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.core.Appender;
 import org.apache.logging.log4j.core.LoggerContext;
-import org.apache.logging.log4j.core.helpers.Constants;
-import org.apache.logging.log4j.test.appender.ListAppender;
-import org.apache.logging.log4j.core.config.Configuration;
 import org.apache.logging.log4j.core.config.XMLConfigurationFactory;
+import org.apache.logging.log4j.core.helpers.Constants;
 import org.apache.logging.log4j.status.StatusLogger;
+import org.apache.logging.log4j.test.appender.ListAppender;
 import org.junit.AfterClass;
 import org.junit.Before;
 import org.junit.BeforeClass;
@@ -42,9 +41,7 @@ import java.util.List;
 import java.util.Locale;
 import java.util.Map;
 
-import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertTrue;
+import static org.junit.Assert.*;
 
 /**
  *
@@ -58,7 +55,7 @@ public class LoggerTest {
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
-        final Configuration config = ctx.getConfiguration();
+        ctx.getConfiguration();
     }
 
     @AfterClass
@@ -170,13 +167,14 @@ public class LoggerTest {
         verify("EventLogger", "o.a.l.s.LoggerTest Transfer [Audit@18060 Amount=\"200.00\" FromAccount=\"123457\" ToAccount=\"123456\"] Transfer Complete" + Constants.LINE_SEP);
     }
 
+    @SuppressWarnings("unchecked")
     private void verify(final String name, final String expected) {
         //LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         final Map<String, Appender<?>> list = ctx.getConfiguration().getAppenders();
         final Appender<?> listApp = list.get(name);
         assertNotNull("Missing Appender", listApp);
         assertTrue("Not a ListAppender", listApp instanceof ListAppender);
-        final List<String> events = ((ListAppender) listApp).getMessages();
+        final List<String> events = ((ListAppender<String>) listApp).getMessages();
         assertTrue("Incorrect number of messages. Expected 1 Actual " + events.size(), events.size()== 1);
         final String actual = events.get(0);
         assertEquals("Incorrect message. Expected " + expected + ". Actual " + actual, expected, actual);
diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index d8a091e4a1..3197832702 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -23,6 +23,9 @@
 
   <body>
     <release version="2.0-beta6" date="@TBD@" description="Bug fixes and enhancements">
+      <action issue="LOG4J2-221" dev-"rgoers" type="fix" due-to="Nick Williams">
+        Remove hundreds of compiler warnings.
+      </action>
       <action issue="LOG4J2-215" dev="rpopma" type="fix">
         Various small documentation fixes.
       </action>
diff --git a/src/site/xdoc/manual/api.xml b/src/site/xdoc/manual/api.xml
index 466a9756ff..da9b7291ff 100644
--- a/src/site/xdoc/manual/api.xml
+++ b/src/site/xdoc/manual/api.xml
@@ -78,7 +78,7 @@ public class HelloWorld {
             <p>
               Substituting parameters leaves formatting up to you if <code>toString()</code> is not what you want.
               To facilitate formatting, you can use the same format strings as Java's 
-              <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax">Formatter</a>.              
+              <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html#syntax">Formatter</a>.
               For example:
             </p>
             <pre class="prettyprint linenums">public static Logger logger = LogManager.getFormatterLogger("Foo");
diff --git a/src/site/xdoc/manual/thread-context.xml b/src/site/xdoc/manual/thread-context.xml
index 4a8ca6a479..5c6fd675e7 100644
--- a/src/site/xdoc/manual/thread-context.xml
+++ b/src/site/xdoc/manual/thread-context.xml
@@ -99,7 +99,7 @@ ThreadContext.clear();</pre>
             <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InheritableThreadLocal.html">InheritableThreadLocal</a>.
             Thus, in many cases the contents of the Stack and Map will be passed to child threads. However, as
             discussed in the
-            <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Executors.html#privilegedThreadFactory()">Executors</a>
+            <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executors.html#privilegedThreadFactory()">Executors</a>
             class and in other cases where thread pooling is utilized, the ThreadContext may not always be
             automatically passed to worker threads. In those cases the pooling mechanism should provide a means for
             doing so. The getContext() and cloneStack() methods can be used to obtain copies of the Map and Stack
diff --git a/taglib/pom.xml b/taglib/pom.xml
index 25868c9de4..14fcbc7ab1 100644
--- a/taglib/pom.xml
+++ b/taglib/pom.xml
@@ -189,7 +189,7 @@
         <artifactId>maven-pmd-plugin</artifactId>
         <version>${pmd.plugin.version}</version>
         <configuration>
-          <targetJdk>1.5</targetJdk>
+          <targetJdk>${maven.compile.target}</targetJdk>
         </configuration>
       </plugin>
       <plugin>
diff --git a/taglib/src/test/java/org/apache/logging/log4j/taglib/CatchingTagTest.java b/taglib/src/test/java/org/apache/logging/log4j/taglib/CatchingTagTest.java
index 8aad5d5601..d70f5b3db0 100644
--- a/taglib/src/test/java/org/apache/logging/log4j/taglib/CatchingTagTest.java
+++ b/taglib/src/test/java/org/apache/logging/log4j/taglib/CatchingTagTest.java
@@ -95,13 +95,14 @@ public class CatchingTagTest {
         verify("catching WARN M-CATCHING[ EXCEPTION ] E java.lang.Error: This is the last test.");
     }
 
+    @SuppressWarnings("unchecked")
     private void verify(final String expected) {
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         final Map<String, Appender<?>> list = ctx.getConfiguration().getAppenders();
         final Appender<?> listApp = list.get("List");
         assertNotNull("Missing Appender", listApp);
         assertTrue("Not a ListAppender", listApp instanceof ListAppender);
-        final List<String> events = ((ListAppender) listApp).getMessages();
+        final List<String> events = ((ListAppender<String>) listApp).getMessages();
         try
         {
             assertEquals("Incorrect number of messages.", 1, events.size());
diff --git a/taglib/src/test/java/org/apache/logging/log4j/taglib/EntryTagTest.java b/taglib/src/test/java/org/apache/logging/log4j/taglib/EntryTagTest.java
index 4a9682eb95..aad97de2c3 100644
--- a/taglib/src/test/java/org/apache/logging/log4j/taglib/EntryTagTest.java
+++ b/taglib/src/test/java/org/apache/logging/log4j/taglib/EntryTagTest.java
@@ -83,13 +83,14 @@ public class EntryTagTest {
         verify("entry params(log4j-test1.xml, 5792) TRACE M-ENTRY[ FLOW ] E");
     }
 
+    @SuppressWarnings("unchecked")
     private void verify(final String expected) {
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         final Map<String, Appender<?>> list = ctx.getConfiguration().getAppenders();
         final Appender<?> listApp = list.get("List");
         assertNotNull("Missing Appender", listApp);
         assertTrue("Not a ListAppender", listApp instanceof ListAppender);
-        final List<String> events = ((ListAppender) listApp).getMessages();
+        final List<String> events = ((ListAppender<String>) listApp).getMessages();
         try
         {
             assertEquals("Incorrect number of messages.", 1, events.size());
diff --git a/taglib/src/test/java/org/apache/logging/log4j/taglib/ExitTagTest.java b/taglib/src/test/java/org/apache/logging/log4j/taglib/ExitTagTest.java
index b636cfe6ce..b5756b6a1a 100644
--- a/taglib/src/test/java/org/apache/logging/log4j/taglib/ExitTagTest.java
+++ b/taglib/src/test/java/org/apache/logging/log4j/taglib/ExitTagTest.java
@@ -90,13 +90,14 @@ public class ExitTagTest {
         verify("exit with(5792) TRACE M-EXIT[ FLOW ] E");
     }
 
+    @SuppressWarnings("unchecked")
     private void verify(final String expected) {
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         final Map<String, Appender<?>> list = ctx.getConfiguration().getAppenders();
         final Appender<?> listApp = list.get("List");
         assertNotNull("Missing Appender", listApp);
         assertTrue("Not a ListAppender", listApp instanceof ListAppender);
-        final List<String> events = ((ListAppender) listApp).getMessages();
+        final List<String> events = ((ListAppender<String>) listApp).getMessages();
         try
         {
             assertEquals("Incorrect number of messages.", 1, events.size());
diff --git a/taglib/src/test/java/org/apache/logging/log4j/taglib/LoggingMessageTagSupportTest.java b/taglib/src/test/java/org/apache/logging/log4j/taglib/LoggingMessageTagSupportTest.java
index 408a592862..60b87db0f8 100644
--- a/taglib/src/test/java/org/apache/logging/log4j/taglib/LoggingMessageTagSupportTest.java
+++ b/taglib/src/test/java/org/apache/logging/log4j/taglib/LoggingMessageTagSupportTest.java
@@ -293,13 +293,14 @@ public class LoggingMessageTagSupportTest {
                 "This is another test");
     }
 
+    @SuppressWarnings("unchecked")
     private void verify(final String expected) {
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         final Map<String, Appender<?>> list = ctx.getConfiguration().getAppenders();
         final Appender<?> listApp = list.get("List");
         assertNotNull("Missing Appender", listApp);
         assertTrue("Not a ListAppender", listApp instanceof ListAppender);
-        final List<String> events = ((ListAppender) listApp).getMessages();
+        final List<String> events = ((ListAppender<String>) listApp).getMessages();
         try
         {
             assertEquals("Incorrect number of messages.", 1, events.size());
diff --git a/web/pom.xml b/web/pom.xml
index 7a23569bee..7840034851 100644
--- a/web/pom.xml
+++ b/web/pom.xml
@@ -171,7 +171,7 @@
             <artifactId>maven-pmd-plugin</artifactId>
             <version>${pmd.plugin.version}</version>
             <configuration>
-              <targetJdk>1.5</targetJdk>
+              <targetJdk>${maven.compile.target}</targetJdk>
             </configuration>
           </plugin>
           <plugin>
diff --git a/web/src/main/java/org/apache/logging/log4j/core/web/Log4jContextListener.java b/web/src/main/java/org/apache/logging/log4j/core/web/Log4jContextListener.java
index 39f5d40b6d..5d458ceea7 100644
--- a/web/src/main/java/org/apache/logging/log4j/core/web/Log4jContextListener.java
+++ b/web/src/main/java/org/apache/logging/log4j/core/web/Log4jContextListener.java
@@ -16,13 +16,12 @@
  */
 package org.apache.logging.log4j.core.web;
 
-import org.apache.logging.log4j.core.config.Configurator;
 import org.apache.logging.log4j.core.LoggerContext;
+import org.apache.logging.log4j.core.config.Configurator;
 
 import javax.servlet.ServletContext;
 import javax.servlet.ServletContextEvent;
 import javax.servlet.ServletContextListener;
-import java.lang.reflect.Method;
 
 /**
  * Saves the LoggerContext into the ServletContext as an attribute.
@@ -72,23 +71,12 @@ public class Log4jContextListener implements ServletContextListener {
     }
 
     private ClassLoader getClassLoader(final ServletContext context) {
-        final Method[] methods = context.getClass().getMethods();
-        Method getClassLoader = null;
-        for (final Method method : methods) {
-            if (method.getName().equals("getClassLoader")) {
-                getClassLoader = method;
-                break;
-            }
+        try {
+            // if container is Servlet 3.0, use its getClassLoader method
+            return (ClassLoader)context.getClass().getMethod("getClassLoader").invoke(context);
+        } catch (Exception ignore) {
+            // otherwise, use this class's class loader
+            return Log4jContextListener.class.getClassLoader();
         }
-
-        if (getClassLoader != null) {
-            try {
-                return (ClassLoader) getClassLoader.invoke(context, null);
-            } catch (final Exception ex) {
-                // Ignore the exception
-            }
-        }
-
-        return Log4jContextListener.class.getClassLoader();
     }
 }
diff --git a/web/src/test/java/org/apache/logging/log4j/core/web/Log4jContextListenerTest.java b/web/src/test/java/org/apache/logging/log4j/core/web/Log4jContextListenerTest.java
index 183389a4c0..005efb1b44 100644
--- a/web/src/test/java/org/apache/logging/log4j/core/web/Log4jContextListenerTest.java
+++ b/web/src/test/java/org/apache/logging/log4j/core/web/Log4jContextListenerTest.java
@@ -17,7 +17,6 @@
 package org.apache.logging.log4j.core.web;
 
 import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.core.Appender;
 import org.apache.logging.log4j.core.LoggerContext;
 import org.apache.logging.log4j.core.config.Configuration;
@@ -37,8 +36,8 @@ import java.util.Hashtable;
 import java.util.Map;
 import java.util.Set;
 
-import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.assertNotNull;
+import static org.junit.Assert.assertTrue;
 
 /**
  *
@@ -55,14 +54,14 @@ public class Log4jContextListenerTest {
         final Log4jContextListener listener = new Log4jContextListener();
         final ServletContextEvent event = new ServletContextEvent(context);
         listener.contextInitialized(event);
-        final Logger logger = LogManager.getLogger("org.apache.test.TestConfigurator");
+        LogManager.getLogger("org.apache.test.TestConfigurator");
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         Configuration config = ctx.getConfiguration();
         assertNotNull("No configuration", config);
         assertTrue("Incorrect Configuration. Expected " + CONFIG_NAME + " but found " + config.getName(),
             CONFIG_NAME.equals(config.getName()));
         final Map<String, Appender<?>> map = config.getAppenders();
-        assertNotNull("No Appenders", map != null && map.size() > 0);
+        assertTrue("No Appenders", map != null && map.size() > 0);
         assertTrue("Wrong configuration", map.containsKey("List"));
         listener.contextDestroyed(event);
         config = ctx.getConfiguration();
@@ -78,14 +77,14 @@ public class Log4jContextListenerTest {
         final Log4jContextListener listener = new Log4jContextListener();
         final ServletContextEvent event = new ServletContextEvent(context);
         listener.contextInitialized(event);
-        final Logger logger = LogManager.getLogger("org.apache.test.TestConfigurator");
+        LogManager.getLogger("org.apache.test.TestConfigurator");
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         Configuration config = ctx.getConfiguration();
         assertNotNull("No configuration", config);
         assertTrue("Incorrect Configuration. Expected " + CONFIG_NAME + " but found " + config.getName(),
             CONFIG_NAME.equals(config.getName()));
         final Map<String, Appender<?>> map = config.getAppenders();
-        assertNotNull("No Appenders", map != null && map.size() > 0);
+        assertTrue("No Appenders", map != null && map.size() > 0);
         assertTrue("Wrong configuration", map.containsKey("List"));
         listener.contextDestroyed(event);
         config = ctx.getConfiguration();
@@ -100,14 +99,14 @@ public class Log4jContextListenerTest {
         final Log4jContextListener listener = new Log4jContextListener();
         final ServletContextEvent event = new ServletContextEvent(context);
         listener.contextInitialized(event);
-        final Logger logger = LogManager.getLogger("org.apache.test.TestConfigurator");
+        LogManager.getLogger("org.apache.test.TestConfigurator");
         final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);
         Configuration config = ctx.getConfiguration();
         assertNotNull("No configuration", config);
         assertTrue("Incorrect Configuration. Expected " + CONFIG_NAME + " but found " + config.getName(),
             CONFIG_NAME.equals(config.getName()));
         final Map<String, Appender<?>> map = config.getAppenders();
-        assertNotNull("No Appenders", map != null && map.size() > 0);
+        assertTrue("No Appenders", map != null && map.size() > 0);
         assertTrue("Wrong configuration", map.containsKey("List"));
         listener.contextDestroyed(event);
         config = ctx.getConfiguration();
@@ -117,79 +116,101 @@ public class Log4jContextListenerTest {
 
 
     private class MockServletContext implements ServletContext {
-        private String name;
-
         private final Hashtable<String, String> params = new Hashtable<String, String>();
 
         private final Hashtable<String, Object> attrs = new Hashtable<String, Object>();
 
-
+        @Override
         public ServletContext getContext(final String s) {
             return null;
         }
 
+        @Override
         public int getMajorVersion() {
             return 0;
         }
 
+        @Override
         public int getMinorVersion() {
             return 0;
         }
 
+        @Override
         public String getMimeType(final String s) {
             return null;
         }
 
+        @Override
         public Set getResourcePaths(final String s) {
             return null;
         }
 
+        @Override
         public URL getResource(final String s) throws MalformedURLException {
             return null;
         }
 
+        @Override
         public InputStream getResourceAsStream(final String s) {
             return null;
         }
 
+        @Override
         public RequestDispatcher getRequestDispatcher(final String s) {
             return null;
         }
 
+        @Override
         public RequestDispatcher getNamedDispatcher(final String s) {
             return null;
         }
 
+        @Override
+        @Deprecated
+        @SuppressWarnings("deprecation")
         public Servlet getServlet(final String s) throws ServletException {
             return null;
         }
 
+        @Override
+        @Deprecated
+        @SuppressWarnings("deprecation")
         public Enumeration getServlets() {
             return null;
         }
 
+        @Override
+        @Deprecated
+        @SuppressWarnings("deprecation")
         public Enumeration getServletNames() {
             return null;
         }
 
+        @Override
         public void log(final String s) {
             System.out.println(s);
         }
 
+        @Override
+        @Deprecated
+        @SuppressWarnings("deprecation")
         public void log(final Exception e, final String s) {
             System.out.println(s);
             e.printStackTrace();
         }
 
+        @Override
         public void log(final String s, final Throwable throwable) {
             System.out.println(s);
             throwable.printStackTrace();
         }
 
+        @Override
         public String getRealPath(final String s) {
             return null;
         }
 
+        @Override
         public String getServerInfo() {
             return "Mock";
         }
@@ -198,34 +219,42 @@ public class Log4jContextListenerTest {
             params.put(key, value);
         }
 
+        @Override
         public String getInitParameter(final String s) {
             return params.get(s);
         }
 
+        @Override
         public Enumeration getInitParameterNames() {
             return params.keys();
         }
 
+        @Override
         public Object getAttribute(final String s) {
             return attrs.get(s);
         }
 
+        @Override
         public Enumeration getAttributeNames() {
             return attrs.keys();
         }
 
+        @Override
         public void setAttribute(final String s, final Object o) {
             attrs.put(s, o);
         }
 
+        @Override
         public void removeAttribute(final String s) {
             attrs.remove(s);
         }
 
+        @Override
         public String getServletContextName() {
             return null;
         }
 
+        @Override
         public String getContextPath() {
             return null;
         }
