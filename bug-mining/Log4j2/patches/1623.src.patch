diff --git a/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/AbstractKeyStoreConfiguration.java b/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/AbstractKeyStoreConfiguration.java
index e4917b39ab..565c21fd2b 100644
--- a/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/AbstractKeyStoreConfiguration.java
+++ b/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/AbstractKeyStoreConfiguration.java
@@ -33,7 +33,6 @@ import org.apache.logging.log4j.core.util.NetUtils;
  * Configuration of the KeyStore
  */
 public class AbstractKeyStoreConfiguration extends StoreConfiguration<KeyStore> {
-    static final char[] DEFAULT_PASSWORD = "changeit".toCharArray();
 
     private final KeyStore keyStore;
     private final String keyStoreType;
@@ -66,21 +65,20 @@ public class AbstractKeyStoreConfiguration extends StoreConfiguration<KeyStore>
     @Override
     protected KeyStore load() throws StoreConfigurationException {
         final String loadLocation = this.getLocation();
+        final char[] password = this.getPasswordAsCharArray();
         LOGGER.debug("Loading keystore from location {}", loadLocation);
         try {
+            final KeyStore ks = KeyStore.getInstance(this.keyStoreType);
             if (loadLocation == null) {
-                throw new IOException("The location is null");
+                if (keyStoreType.equalsIgnoreCase(JKS) || keyStoreType.equalsIgnoreCase(PKCS12)) {
+                    throw new IOException("The location is null");
+                }
+                ks.load(null, password);
+                LOGGER.debug("KeyStore successfully loaded");
+                return ks;
             }
             try (final InputStream fin = openInputStream(loadLocation)) {
-                final KeyStore ks = KeyStore.getInstance(this.keyStoreType);
-                final char[] password = this.getPasswordAsCharArray();
-                try {
-                    ks.load(fin, password);
-                } finally {
-                    if (password != null) {
-                        Arrays.fill(password, '\0');
-                    }
-                }
+                ks.load(fin, password);
                 LOGGER.debug("KeyStore successfully loaded from location {}", loadLocation);
                 return ks;
             }
@@ -99,6 +97,10 @@ public class AbstractKeyStoreConfiguration extends StoreConfiguration<KeyStore>
         } catch (final IOException e) {
             LOGGER.error("Something is wrong with the format of the keystore or the given password for location {}", loadLocation, e);
             throw new StoreConfigurationException(loadLocation, e);
+        } finally {
+            if (password != null) {
+                Arrays.fill(password, '\0');
+            }
         }
     }
 
diff --git a/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/KeyStoreConfiguration.java b/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/KeyStoreConfiguration.java
index bbb325a835..edd255445d 100644
--- a/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/KeyStoreConfiguration.java
+++ b/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/KeyStoreConfiguration.java
@@ -169,7 +169,7 @@ public class KeyStoreConfiguration extends AbstractKeyStoreConfiguration {
         final KeyManagerFactory kmFactory = KeyManagerFactory.getInstance(this.keyManagerFactoryAlgorithm);
         final char[] password = this.getPasswordAsCharArray();
         try {
-            kmFactory.init(this.getKeyStore(), password != null ? password : DEFAULT_PASSWORD);
+            kmFactory.init(this.getKeyStore(), password);
         } finally {
             if (password != null) {
                 Arrays.fill(password, '\0');
diff --git a/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/SslConfigurationFactory.java b/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/SslConfigurationFactory.java
index 7a8e5d0efa..552a2694a4 100644
--- a/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/SslConfigurationFactory.java
+++ b/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/SslConfigurationFactory.java
@@ -19,6 +19,7 @@ package org.apache.logging.log4j.core.net.ssl;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.status.StatusLogger;
 import org.apache.logging.log4j.util.PropertiesUtil;
+import org.apache.logging.log4j.util.Strings;
 
 /**
  * Creates an SSL configuration from Log4j properties.
@@ -46,32 +47,28 @@ public class SslConfigurationFactory {
         KeyStoreConfiguration keyStoreConfiguration = null;
         TrustStoreConfiguration trustStoreConfiguration = null;
         String location = props.getStringProperty(trustStorelocation);
-        if (location != null) {
+        String storeType = props.getStringProperty(trustStoreKeyStoreType);
+        if (Strings.isNotEmpty(location) || storeType != null) {
             String password = props.getStringProperty(trustStorePassword);
-            char[] passwordChars = null;
-            if (password != null) {
-                passwordChars = password.toCharArray();
-            }
+            char[] passwordChars = getPassword(password, storeType);
             try {
-                trustStoreConfiguration = TrustStoreConfiguration.createKeyStoreConfiguration(location, passwordChars,
+                trustStoreConfiguration = TrustStoreConfiguration.createKeyStoreConfiguration(Strings.trimToNull(location), passwordChars,
                     props.getStringProperty(trustStorePasswordEnvVar), props.getStringProperty(trustStorePasswordFile),
-                    props.getStringProperty(trustStoreKeyStoreType), props.getStringProperty(trustStoreKeyManagerFactoryAlgorithm));
+                    storeType, props.getStringProperty(trustStoreKeyManagerFactoryAlgorithm));
             } catch (Exception ex) {
                 LOGGER.warn("Unable to create trust store configuration due to: {} {}", ex.getClass().getName(),
                     ex.getMessage());
             }
         }
         location = props.getStringProperty(keyStoreLocation);
-        if (location != null) {
+        storeType = props.getStringProperty(keyStoreType);
+        if (Strings.isNotEmpty(location) || storeType != null) {
             String password = props.getStringProperty(keyStorePassword);
-            char[] passwordChars = null;
-            if (password != null) {
-                passwordChars = password.toCharArray();
-            }
+            char[] passwordChars = getPassword(password, storeType);
             try {
-                keyStoreConfiguration = KeyStoreConfiguration.createKeyStoreConfiguration(location, passwordChars,
+                keyStoreConfiguration = KeyStoreConfiguration.createKeyStoreConfiguration(Strings.trimToNull(location), passwordChars,
                     props.getStringProperty(keyStorePasswordEnvVar), props.getStringProperty(keyStorePasswordFile),
-                    props.getStringProperty(keyStoreType), props.getStringProperty(keyStoreKeyManagerFactoryAlgorithm));
+                    storeType, props.getStringProperty(keyStoreKeyManagerFactoryAlgorithm));
             } catch (Exception ex) {
                 LOGGER.warn("Unable to create key store configuration due to: {} {}", ex.getClass().getName(),
                     ex.getMessage());
@@ -85,6 +82,22 @@ public class SslConfigurationFactory {
         return null;
     }
 
+    private static char[] getPassword(final String password, final String keyStoreType) {
+        // Note from Tomcat's SSLUtiBase#getStore:
+        //
+        // JKS key stores treat null and "" interchangeably.
+        // PKCS12 key stores don't return the cert if null is used.
+        // Key stores that do not use passwords expect null
+        // Therefore:
+        // - generally use null if pass is null or ""
+        // - for JKS or PKCS12 only use null if pass is null
+        //   (because JKS will auto-switch to PKCS12)
+        if (keyStoreType.equals(StoreConfiguration.JKS) || keyStoreType.equals(StoreConfiguration.PKCS12)) {
+            return password != null ? password.toCharArray() : null;
+        }
+        return Strings.isEmpty(password) ? null : password.toCharArray();
+    }
+
     public static SslConfiguration getSslConfiguration() {
         return sslConfiguration;
     }
diff --git a/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/StoreConfiguration.java b/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/StoreConfiguration.java
index 6d4e686a95..d995bb5d6f 100644
--- a/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/StoreConfiguration.java
+++ b/log4j-core/src/main/java/org/apache/logging/log4j/core/net/ssl/StoreConfiguration.java
@@ -25,6 +25,9 @@ import org.apache.logging.log4j.status.StatusLogger;
  *
  */
 public class StoreConfiguration<T> {
+
+    static final String PKCS12 = "PKCS12";
+    static final String JKS = "JKS";
     protected static final StatusLogger LOGGER = StatusLogger.getLogger();
 
     private String location;
