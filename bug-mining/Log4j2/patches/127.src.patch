diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java
index f9d0665925..01701f6cdb 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java
@@ -115,8 +115,7 @@ public class SocketAppender<T extends Serializable> extends AbstractOutputStream
             return null;
         }
 
-        final String prot = protocol != null ? protocol : Protocol.TCP.name();
-        final Protocol p = EnglishEnums.valueOf(Protocol.class, protocol);
+        final Protocol p = EnglishEnums.valueOf(Protocol.class, protocol != null ? protocol : Protocol.TCP.name());
         if (p.equals(Protocol.UDP)) {
             isFlush = true;
         }
diff --git a/core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderTest.java b/core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderTest.java
index 8f88f974c7..0bb34050e4 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/appender/SocketAppenderTest.java
@@ -122,6 +122,15 @@ public class SocketAppenderTest {
         assertTrue("Message not delivered via TCP", tcpCount > 1);
     }
 
+    @Test
+    public void testDefaultProtocol() throws Exception {
+
+        final SocketAppender appender = SocketAppender.createAppender("localhost", PORT, null, "-1",
+            "false", "Test", null, null, null, null, null, null);
+        assertNotNull(appender);
+    }
+
+
 
     @Test
     public void testUDPAppender() throws Exception {
diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index 5c8351f162..96b9416f90 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -23,6 +23,9 @@
   </properties>
   <body>
     <release version="2.0-beta8" date="2013-??-??" description="Bug fixes and enhancements">
+      <action issue="LOG4J2-139" dev="rgoers" type="fix">
+        Fix NullPointerException (regression due to fix for LOG4J2-228)
+      </action>
       <action issue="LOG4J2-168" dev="rgoers" type="update" due-to="Scott Severtson">
         Allow elements of the logging event to be added to the mdc structured data in RFC5424Layout.
       </action>
