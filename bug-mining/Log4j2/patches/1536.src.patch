diff --git a/log4j-1.2-api/src/main/java/org/apache/log4j/builders/AbstractBuilder.java b/log4j-1.2-api/src/main/java/org/apache/log4j/builders/AbstractBuilder.java
index 72fb985ecd..bbb8bd7e18 100644
--- a/log4j-1.2-api/src/main/java/org/apache/log4j/builders/AbstractBuilder.java
+++ b/log4j-1.2-api/src/main/java/org/apache/log4j/builders/AbstractBuilder.java
@@ -87,7 +87,7 @@ public abstract class AbstractBuilder {
     }
 
     protected String getValueAttribute(Element element) {
-        return element.getAttribute(VALUE_ATTR);
+        return substVars(element.getAttribute(VALUE_ATTR));
     }
 
     public boolean getBooleanProperty(String key) {
diff --git a/log4j-1.2-api/src/test/java/org/apache/log4j/config/XmlRollingWithPropertiesTest.java b/log4j-1.2-api/src/test/java/org/apache/log4j/config/XmlRollingWithPropertiesTest.java
index 858ba68d57..ba779ad749 100644
--- a/log4j-1.2-api/src/test/java/org/apache/log4j/config/XmlRollingWithPropertiesTest.java
+++ b/log4j-1.2-api/src/test/java/org/apache/log4j/config/XmlRollingWithPropertiesTest.java
@@ -26,7 +26,6 @@ import org.apache.log4j.LogManager;
 import org.apache.log4j.Logger;
 import org.apache.logging.log4j.test.SystemPropertyTestRule;
 import org.junit.ClassRule;
-import org.junit.Ignore;
 import org.junit.Test;
 import org.junit.rules.RuleChain;
 import org.junit.rules.TestRule;
@@ -34,7 +33,6 @@ import org.junit.rules.TestRule;
 /**
  * Test configuration from Properties.
  */
-@Ignore
 public class XmlRollingWithPropertiesTest {
 
     private static final String TEST_DIR = "target/" + XmlRollingWithPropertiesTest.class.getSimpleName();
@@ -49,11 +47,12 @@ public class XmlRollingWithPropertiesTest {
     @Test
     public void testProperties() throws Exception {
         // ${test.directory}/logs/etl.log
-        Logger logger = LogManager.getLogger("test");
+        final Path path = Paths.get(TEST_DIR, "logs/etl.log");
+        Files.deleteIfExists(path);
+        final Logger logger = LogManager.getLogger("test");
         logger.debug("This is a test of the root logger");
-        Path path = Paths.get(TEST_DIR, "logs/etl.log");
-        assertTrue("Log file was not created", Files.exists(path));
-        assertTrue("Log file is empty", Files.size(path) > 0);
+        assertTrue("Log file was not created " + path, Files.exists(path));
+        assertTrue("Log file is empty " + path, Files.size(path) > 0);
     }
 
 }
diff --git a/log4j-1.2-api/src/test/resources/log4j1-rolling-properties.xml b/log4j-1.2-api/src/test/resources/log4j1-rolling-properties.xml
index a27263004e..f5b08aa9c9 100644
--- a/log4j-1.2-api/src/test/resources/log4j1-rolling-properties.xml
+++ b/log4j-1.2-api/src/test/resources/log4j1-rolling-properties.xml
@@ -25,7 +25,7 @@
     </layout>
   </appender>
   <root>
-    <priority value="OFF" />
+    <priority value="DEBUG" />
     <appender-ref ref="DAILY" />
   </root>
 </log4j:configuration>
