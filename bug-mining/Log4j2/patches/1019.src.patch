diff --git a/log4j-core/src/test/java/org/apache/logging/log4j/core/config/xml/XmlLoggerPropsTest.java b/log4j-core/src/test/java/org/apache/logging/log4j/core/config/xml/XmlLoggerPropsTest.java
index 01bd08611d..55a62248d1 100644
--- a/log4j-core/src/test/java/org/apache/logging/log4j/core/config/xml/XmlLoggerPropsTest.java
+++ b/log4j-core/src/test/java/org/apache/logging/log4j/core/config/xml/XmlLoggerPropsTest.java
@@ -67,6 +67,8 @@ public class XmlLoggerPropsTest {
                 containsString("test=test"),
                 containsString("test2=test2default"),
                 containsString("test3=Unknown"),
+                containsString("test4=test"),
+                containsString("test5=test"),
                 containsString("attribKey=attribValue"),
                 containsString("duplicateKey=nodeValue")
             ));
@@ -76,6 +78,8 @@ public class XmlLoggerPropsTest {
                 containsString("test=test"),
                 containsString("test2=test2default"),
                 containsString("test3=Unknown"),
+                containsString("test4=test"),
+                containsString("test5=test"),
                 containsString("attribKey=attribValue"),
                 containsString("duplicateKey=nodeValue")
             ));
diff --git a/log4j-core/src/test/resources/log4j-loggerprops.xml b/log4j-core/src/test/resources/log4j-loggerprops.xml
index 84e4feaa66..f327029510 100644
--- a/log4j-core/src/test/resources/log4j-loggerprops.xml
+++ b/log4j-core/src/test/resources/log4j-loggerprops.xml
@@ -20,10 +20,11 @@
      <Property name="test2">test2default</Property>
      <Property name="attribKey" value="attribValue" />
      <Property name="duplicateKey" value="attribValue">nodeValue</Property>
+     <Property name="test5">${sys:test3:-${sys:test}}</Property>
   </Properties>
   <Appenders>
     <List name="List">
-        <PatternLayout pattern="[%-5level] %c{1.} user=%X{user} phrasex=%X{phrasex} test=%X{test} test2=$${sys:test2} test3=$${sys:test3:-Unknown} attribKey=$${attribKey} duplicateKey=$${duplicateKey}%msg%n" />
+        <PatternLayout pattern="[%-5level] %c{1.} user=%X{user} phrasex=%X{phrasex} test=%X{test} test2=$${sys:test2} test3=$${sys:test3:-Unknown} test4=$${sys:test3:-${sys:test}} test5=${test5} attribKey=$${attribKey} duplicateKey=$${duplicateKey}%msg%n" />
     </List>
   </Appenders>
 
