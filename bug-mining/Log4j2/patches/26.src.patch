diff --git a/combined/src/test/resources/log4j-test2.xml b/combined/src/test/resources/log4j-test2.xml
index 2bc4942e0b..37a5fcc6fb 100644
--- a/combined/src/test/resources/log4j-test2.xml
+++ b/combined/src/test/resources/log4j-test2.xml
@@ -16,7 +16,7 @@
  limitations under the License.
 
 -->
-<configuration status="debug" name="XMLConfigTest" packages="org.apache.logging.log4j.test">
+<configuration status="debug" name="XMLConfigTest" monitorInterval="5" packages="org.apache.logging.log4j.test">
   <properties>
     <property name="filename">target/test.log</property>
   </properties>
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/ConfigurationFactory.java b/core/src/main/java/org/apache/logging/log4j/core/config/ConfigurationFactory.java
index dfb8f64a8b..e73542d383 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/ConfigurationFactory.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/ConfigurationFactory.java
@@ -91,11 +91,6 @@ public abstract class ConfigurationFactory {
 
     private static ConfigurationFactory configFactory = new Factory();
 
-    /**
-     * The configuration File.
-     */
-    protected File configFile = null;
-
     /**
      * Returns the ConfigurationFactory.
      * @return the ConfigurationFactory.
@@ -175,7 +170,7 @@ public abstract class ConfigurationFactory {
         return true;
     }
 
-    public abstract Configuration getConfiguration(InputSource source);
+    public abstract Configuration getConfiguration(ConfigurationSource source);
 
     /**
      * Returns the Configuration.
@@ -188,7 +183,7 @@ public abstract class ConfigurationFactory {
             return null;
         }
         if (configLocation != null) {
-            InputSource source = getInputFromURI(configLocation);
+            ConfigurationSource source = getInputFromURI(configLocation);
             if (source != null) {
                 return getConfiguration(source);
             }
@@ -199,15 +194,13 @@ public abstract class ConfigurationFactory {
     /**
      * Load the configuration from a URI.
      * @param configLocation A URI representing the location of the configuration.
-     * @return The InputSource for the configuration.
+     * @return The ConfigurationSource for the configuration.
      */
-    protected InputSource getInputFromURI(URI configLocation) {
-        configFile = FileUtils.fileFromURI(configLocation);
+    protected ConfigurationSource getInputFromURI(URI configLocation) {
+        File configFile = FileUtils.fileFromURI(configLocation);
         if (configFile != null && configFile.exists() && configFile.canRead()) {
             try {
-                InputSource source = new InputSource(new FileInputStream(configFile));
-                source.setSystemId(configFile.getAbsolutePath());
-                return source;
+                return new ConfigurationSource(new FileInputStream(configFile), configFile);
             } catch (FileNotFoundException ex) {
                 LOGGER.error("Cannot locate file " + configLocation.getPath(), ex);
             }
@@ -215,15 +208,13 @@ public abstract class ConfigurationFactory {
         String scheme = configLocation.getScheme();
         if (scheme == null || scheme.equals("classloader")) {
             ClassLoader loader = this.getClass().getClassLoader();
-            InputSource source = getInputFromResource(configLocation.getPath(), loader);
+            ConfigurationSource source = getInputFromResource(configLocation.getPath(), loader);
             if (source != null) {
                 return source;
             }
         }
         try {
-            InputSource source = new InputSource(configLocation.toURL().openStream());
-            source.setSystemId(configLocation.getPath());
-            return source;
+            return new ConfigurationSource(configLocation.toURL().openStream(), configLocation.getPath());
         } catch (MalformedURLException ex) {
             LOGGER.error("Invalid URL " + configLocation.toString(), ex);
         } catch (IOException ex) {
@@ -240,40 +231,31 @@ public abstract class ConfigurationFactory {
      * @param loader The default ClassLoader to use.
      * @return The InputSource to use to read the configuration.
      */
-    protected InputSource getInputFromString(String config, ClassLoader loader) {
-        InputSource source;
+    protected ConfigurationSource getInputFromString(String config, ClassLoader loader) {
         try {
             URL url = new URL(config);
-            source = new InputSource(url.openStream());
-            if (FileUtils.isFile(url)) {
-                configFile = FileUtils.fileFromURI(url.toURI());
-            }
-            source.setSystemId(config);
-            return source;
+            return new ConfigurationSource(url.openStream(), FileUtils.fileFromURI(url.toURI()));
         } catch (Exception ex) {
-            source = getInputFromResource(config, loader);
+            ConfigurationSource source = getInputFromResource(config, loader);
             if (source == null) {
                 try {
                     File file = new File(config);
-                    FileInputStream is = new FileInputStream(file);
-                    configFile = file;
-                    source = new InputSource(is);
-                    source.setSystemId(config);
+                    return new ConfigurationSource(new FileInputStream(file), file);
                 } catch (FileNotFoundException fnfe) {
                     // Ignore the exception
                 }
             }
+            return source;
         }
-        return source;
     }
 
     /**
      * Retrieve the configuration via the ClassLoader.
      * @param resource The resource to load.
      * @param loader The default ClassLoader to use.
-     * @return The InputSource for the configuration.
+     * @return The ConfigurationSource for the configuration.
      */
-    protected InputSource getInputFromResource(String resource, ClassLoader loader) {
+    protected ConfigurationSource getInputFromResource(String resource, ClassLoader loader) {
         URL url = Loader.getResource(resource, loader);
         if (url == null) {
             return null;
@@ -287,16 +269,15 @@ public abstract class ConfigurationFactory {
         if (is == null) {
             return null;
         }
-        InputSource source = new InputSource(is);
+
         if (FileUtils.isFile(url)) {
             try {
-                configFile = FileUtils.fileFromURI(url.toURI());
+                return new ConfigurationSource(is, FileUtils.fileFromURI((url.toURI())));
             } catch (URISyntaxException ex) {
                 // Just ignore the exception.
             }
         }
-        source.setSystemId(resource);
-        return source;
+        return new ConfigurationSource(is, resource);
     }
 
     /**
@@ -346,7 +327,7 @@ public abstract class ConfigurationFactory {
                 String config = System.getProperty(CONFIGURATION_FILE_PROPERTY);
                 if (config != null) {
                     ClassLoader loader = this.getClass().getClassLoader();
-                    InputSource source = getInputFromString(config, loader);
+                    ConfigurationSource source = getInputFromString(config, loader);
                     if (source != null) {
                         for (ConfigurationFactory factory : factories) {
                             String[] types = factory.getSupportedTypes();
@@ -409,7 +390,7 @@ public abstract class ConfigurationFactory {
                     }
                     configName = named ? prefix + name + suffix : prefix + suffix;
 
-                    InputSource source = getInputFromResource(configName, loader);
+                    ConfigurationSource source = getInputFromResource(configName, loader);
                     if (source != null) {
                         return factory.getConfiguration(source);
                     }
@@ -424,9 +405,9 @@ public abstract class ConfigurationFactory {
         }
 
         @Override
-        public Configuration getConfiguration(InputSource source) {
+        public Configuration getConfiguration(ConfigurationSource source) {
             if (source != null) {
-                String config = source.getSystemId() != null ? source.getSystemId() : source.getPublicId();
+                String config = source.getLocation();
                 for (ConfigurationFactory factory : factories) {
                     String[] types = factory.getSupportedTypes();
                     if (types != null) {
@@ -448,4 +429,58 @@ public abstract class ConfigurationFactory {
             return null;
         }
     }
+
+    public static class ConfigurationSource {
+
+        private File file;
+
+        private String location;
+
+        private InputStream stream;
+
+        public ConfigurationSource() {
+        }
+
+        public ConfigurationSource(InputStream stream) {
+            this.stream = stream;
+            this .file = null;
+            this.location = null;
+        }
+
+        public ConfigurationSource(InputStream stream, File file) {
+            this.stream = stream;
+            this.file = file;
+            this.location = file.getAbsolutePath();
+        }
+
+        public ConfigurationSource(InputStream stream, String location) {
+            this.stream = stream;
+            this.location = location;
+            this.file = null;
+        }
+
+        public File getFile() {
+            return file;
+        }
+
+        public void setFile(File file) {
+            this.file = file;
+        }
+
+        public String getLocation() {
+            return location;
+        }
+
+        public void setLocation(String location) {
+            this.location = location;
+        }
+
+        public InputStream getInputStream() {
+            return stream;
+        }
+
+        public void setInputStream(InputStream stream) {
+            this.stream = stream;
+        }
+    }
 }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/Configurator.java b/core/src/main/java/org/apache/logging/log4j/core/config/Configurator.java
index e896723e02..436b11bc58 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/Configurator.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/Configurator.java
@@ -75,7 +75,7 @@ public final class Configurator {
      * @param source The InputSource for the configuration.
      * @return The LoggerContext.
      */
-    public static LoggerContext initialize(ClassLoader loader, InputSource source) {
+    public static LoggerContext initialize(ClassLoader loader, ConfigurationFactory.ConfigurationSource source) {
 
         try {
             LoggerContext ctx = (LoggerContext) LogManager.getContext(loader, false);
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/FileConfigurationMonitor.java b/core/src/main/java/org/apache/logging/log4j/core/config/FileConfigurationMonitor.java
index edfbc33460..c25cf77ced 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/FileConfigurationMonitor.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/FileConfigurationMonitor.java
@@ -50,7 +50,7 @@ public class FileConfigurationMonitor implements ConfigurationMonitor {
      * @param reconfigurable The Configuration that can be reconfigured.
      * @param file The File to monitor.
      * @param listeners The List of ConfigurationListeners to notify upon a change.
-     * @param interval The monitor interval in seconds. The minimum interval is 30 seconds.
+     * @param interval The monitor interval in seconds. The minimum interval is 5 seconds.
      */
     public FileConfigurationMonitor(Reconfigurable reconfigurable, File file, List<ConfigurationListener> listeners,
                                     int interval) {
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
index 03eff035ac..08cc3291b9 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfiguration.java
@@ -27,7 +27,6 @@ import org.apache.logging.log4j.status.StatusLogger;
 import org.codehaus.jackson.JsonNode;
 import org.codehaus.jackson.JsonParser;
 import org.codehaus.jackson.map.ObjectMapper;
-import org.xml.sax.InputSource;
 
 import java.io.ByteArrayInputStream;
 import java.io.ByteArrayOutputStream;
@@ -62,16 +61,15 @@ public class JSONConfiguration extends BaseConfiguration implements Reconfigurab
 
     private File configFile;
 
-    public JSONConfiguration(InputSource source, File configFile) {
-        this.configFile = configFile;
+    public JSONConfiguration(ConfigurationFactory.ConfigurationSource configSource) {
+        this.configFile = configSource.getFile();
         byte[] buffer;
 
         try {
-            InputStream configStream = source.getByteStream();
+            InputStream configStream = configSource.getInputStream();
             buffer = toByteArray(configStream);
             configStream.close();
             InputStream is = new ByteArrayInputStream(buffer);
-            source = new InputSource(is);
             ObjectMapper mapper = new ObjectMapper().configure(JsonParser.Feature.ALLOW_COMMENTS, true);
             root = mapper.readTree(is);
             if (root.size() == 1) {
@@ -143,10 +141,10 @@ public class JSONConfiguration extends BaseConfiguration implements Reconfigurab
                 }
             }
             if (getName() == null) {
-                setName(source.getSystemId());
+                setName(configSource.getLocation());
             }
         } catch (Exception ex) {
-            LOGGER.error("Error parsing " + source.getSystemId(), ex);
+            LOGGER.error("Error parsing " + configSource.getLocation(), ex);
             ex.printStackTrace();
         }
     }
@@ -177,9 +175,9 @@ public class JSONConfiguration extends BaseConfiguration implements Reconfigurab
     public Configuration reconfigure() {
         if (configFile != null) {
             try {
-                InputSource source = new InputSource(new FileInputStream(configFile));
-                source.setSystemId(configFile.getAbsolutePath());
-                return new JSONConfiguration(source, configFile);
+                ConfigurationFactory.ConfigurationSource source =
+                    new ConfigurationFactory.ConfigurationSource(new FileInputStream(configFile), configFile);
+                return new JSONConfiguration(source);
             } catch (FileNotFoundException ex) {
                 LOGGER.error("Cannot locate file " + configFile, ex);
             }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfigurationFactory.java b/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfigurationFactory.java
index 55c4e1fd58..c46fb24e7e 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfigurationFactory.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/JSONConfigurationFactory.java
@@ -61,11 +61,11 @@ public class JSONConfigurationFactory extends ConfigurationFactory {
     }
 
     @Override
-    public Configuration getConfiguration(InputSource source) {
+    public Configuration getConfiguration(ConfigurationSource source) {
         if (!isActive) {
             return null;
         }
-        return new JSONConfiguration(source, configFile);
+        return new JSONConfiguration(source);
     }
 
     @Override
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java b/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
index 76ca30c6b1..3b580f4c70 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfiguration.java
@@ -83,15 +83,15 @@ public class XMLConfiguration extends BaseConfiguration implements Reconfigurabl
 
     private final File configFile;
 
-    public XMLConfiguration(InputSource source, File configFile) {
-        this.configFile = configFile;
+    public XMLConfiguration(ConfigurationFactory.ConfigurationSource configSource) {
+        this.configFile = configSource.getFile();
         byte[] buffer = null;
 
         try {
-            InputStream configStream = source.getByteStream();
+            InputStream configStream = configSource.getInputStream();
             buffer = toByteArray(configStream);
             configStream.close();
-            source = new InputSource(new ByteArrayInputStream(buffer));
+            InputSource source = new InputSource(new ByteArrayInputStream(buffer));
             DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();
             Document document = builder.parse(source);
             rootElement = document.getDocumentElement();
@@ -165,11 +165,11 @@ public class XMLConfiguration extends BaseConfiguration implements Reconfigurabl
             }
 
         } catch (SAXException domEx) {
-            LOGGER.error("Error parsing " + source.getSystemId(), domEx);
+            LOGGER.error("Error parsing " + configSource.getLocation(), domEx);
         } catch (IOException ioe) {
-            LOGGER.error("Error parsing " + source.getSystemId(), ioe);
+            LOGGER.error("Error parsing " + configSource.getLocation(), ioe);
         } catch (ParserConfigurationException pex) {
-            LOGGER.error("Error parsing " + source.getSystemId(), pex);
+            LOGGER.error("Error parsing " + configSource.getLocation(), pex);
         }
         if (strict && schema != null && buffer != null) {
             InputStream is = null;
@@ -201,7 +201,7 @@ public class XMLConfiguration extends BaseConfiguration implements Reconfigurabl
         }
 
         if (getName() == null) {
-            setName(source.getSystemId());
+            setName(configSource.getLocation());
         }
     }
 
@@ -220,9 +220,9 @@ public class XMLConfiguration extends BaseConfiguration implements Reconfigurabl
     public Configuration reconfigure() {
         if (configFile != null) {
             try {
-                InputSource source = new InputSource(new FileInputStream(configFile));
-                source.setSystemId(configFile.getAbsolutePath());
-                return new XMLConfiguration(source, configFile);
+                ConfigurationFactory.ConfigurationSource source =
+                    new ConfigurationFactory.ConfigurationSource(new FileInputStream(configFile), configFile);
+                return new XMLConfiguration(source);
             } catch (FileNotFoundException ex) {
                 LOGGER.error("Cannot locate file " + configFile, ex);
             }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfigurationFactory.java b/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfigurationFactory.java
index e6375d6276..2d08004549 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfigurationFactory.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/XMLConfigurationFactory.java
@@ -37,8 +37,8 @@ public class XMLConfigurationFactory extends ConfigurationFactory {
      * @return The Configuration.
      */
     @Override
-    public Configuration getConfiguration(InputSource source) {
-        return new XMLConfiguration(source, configFile);
+    public Configuration getConfiguration(ConfigurationSource source) {
+        return new XMLConfiguration(source);
     }
 
     /**
diff --git a/core/src/main/java/org/apache/logging/log4j/core/config/plugins/ResolverUtil.java b/core/src/main/java/org/apache/logging/log4j/core/config/plugins/ResolverUtil.java
index 003b78b664..7da0816845 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/config/plugins/ResolverUtil.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/config/plugins/ResolverUtil.java
@@ -276,8 +276,8 @@ public class ResolverUtil<T> {
     }
 
     private void loadImplementationsInBundle(Test test, String packageName) {
-        Collection<String> list = FrameworkUtil.getBundle(ResolverUtil.class).adapt(BundleWiring.class)
-            .listResources(packageName, "*.class", BundleWiring.LISTRESOURCES_RECURSE);
+        BundleWiring wiring = (BundleWiring)FrameworkUtil.getBundle(ResolverUtil.class).adapt(BundleWiring.class);
+        Collection<String> list = wiring.listResources(packageName, "*.class", BundleWiring.LISTRESOURCES_RECURSE);
         for (String name : list) {
             addIfMatching(test, name);
         }
diff --git a/core/src/main/java/org/apache/logging/log4j/core/net/SocketServer.java b/core/src/main/java/org/apache/logging/log4j/core/net/SocketServer.java
index 15b1a283af..af81f1a3ac 100644
--- a/core/src/main/java/org/apache/logging/log4j/core/net/SocketServer.java
+++ b/core/src/main/java/org/apache/logging/log4j/core/net/SocketServer.java
@@ -217,20 +217,18 @@ public class SocketServer extends AbstractServer implements Runnable {
         public Configuration getConfiguration(String name, URI configLocation) {
             if (path != null && path.length() > 0) {
                 File file = null;
-                InputSource source = null;
+                ConfigurationSource source = null;
                 try {
                     file = new File(path);
                     FileInputStream is = new FileInputStream(file);
-                    source = new InputSource(is);
-                    source.setSystemId(path);
+                    source = new ConfigurationSource(is, file);
                 } catch (FileNotFoundException ex) {
                     // Ignore this error
                 }
                 if (source == null) {
                     try {
                         URL url = new URL(path);
-                        source = new InputSource(url.openStream());
-                        source.setSystemId(path);
+                        source = new ConfigurationSource(url.openStream(), path);
                     } catch (MalformedURLException mue) {
                         // Ignore this error
                     } catch (IOException ioe) {
@@ -240,7 +238,7 @@ public class SocketServer extends AbstractServer implements Runnable {
 
                 try {
                     if (source != null) {
-                        return new XMLConfiguration(source, file);
+                        return new XMLConfiguration(source);
                     }
                 } catch (Exception ex) {
                     // Ignore this error.
diff --git a/core/src/test/java/org/apache/logging/log4j/core/BasicConfigurationFactory.java b/core/src/test/java/org/apache/logging/log4j/core/BasicConfigurationFactory.java
index e73da3a83f..2616e55af3 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/BasicConfigurationFactory.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/BasicConfigurationFactory.java
@@ -41,7 +41,7 @@ public class BasicConfigurationFactory extends ConfigurationFactory {
     }
 
     @Override
-    public Configuration getConfiguration(InputSource source) {
+    public Configuration getConfiguration(ConfigurationSource source) {
         return null;
     }
 
diff --git a/core/src/test/java/org/apache/logging/log4j/core/LoggerTest.java b/core/src/test/java/org/apache/logging/log4j/core/LoggerTest.java
index abb0349c18..5659373b91 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/LoggerTest.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/LoggerTest.java
@@ -25,15 +25,18 @@ import org.apache.logging.log4j.core.config.XMLConfigurationFactory;
 import org.apache.logging.log4j.status.StatusLogger;
 import org.apache.logging.log4j.message.StructuredDataMessage;
 import org.junit.AfterClass;
+import org.junit.Before;
 import org.junit.BeforeClass;
 import org.junit.Test;
 
+import java.io.File;
 import java.util.Date;
 import java.util.List;
 import java.util.Locale;
 import java.util.Map;
 
 import static org.junit.Assert.assertTrue;
+import static org.junit.Assert.assertNotNull;
 
 /**
  *
@@ -49,6 +52,17 @@ public class LoggerTest {
     public static void setupClass() {
         System.setProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY, CONFIG);
         ctx = (LoggerContext) LogManager.getContext(false);
+    }
+
+    @AfterClass
+    public static void cleanupClass() {
+        System.clearProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY);
+        ctx.reconfigure();
+        StatusLogger.getLogger().reset();
+    }
+
+    @Before
+    public void before() {
         config = ctx.getConfiguration();
         for (Map.Entry<String, Appender> entry : config.getAppenders().entrySet()) {
             if (entry.getKey().equals("List")) {
@@ -56,14 +70,10 @@ public class LoggerTest {
                 break;
             }
         }
+        assertNotNull("No Appender", app);
+        app.clear();
     }
 
-    @AfterClass
-    public static void cleanupClass() {
-        System.clearProperty(XMLConfigurationFactory.CONFIGURATION_FILE_PROPERTY);
-        ctx.reconfigure();
-        StatusLogger.getLogger().reset();
-    }
 
     org.apache.logging.log4j.Logger logger = LogManager.getLogger("LoggerTest");
 
@@ -156,5 +166,20 @@ public class LoggerTest {
         assertTrue("Incorrect number of events. Expected 1, actual " + events.size(), events.size() == 1);
         app.clear();
     }
+
+    @Test
+    public void testReconfiguration() throws Exception {
+        File file = new File("target/test-classes/" + CONFIG);
+        long orig = file.lastModified();
+        long newTime = orig + 10000;
+        file.setLastModified(newTime);
+        Thread.sleep(6000);
+        for (int i = 0; i < 17; ++i) {
+            logger.debug("Reconfigure");
+        }
+        Configuration cfg = ctx.getConfiguration();
+        assertNotNull("No configuration", cfg);
+        assertTrue("Reconfiguration failed", cfg != config);
+    }
 }
 
diff --git a/core/src/test/java/org/apache/logging/log4j/core/config/TestConfigurator.java b/core/src/test/java/org/apache/logging/log4j/core/config/TestConfigurator.java
index 6d152c2262..93fca5e528 100644
--- a/core/src/test/java/org/apache/logging/log4j/core/config/TestConfigurator.java
+++ b/core/src/test/java/org/apache/logging/log4j/core/config/TestConfigurator.java
@@ -62,8 +62,8 @@ public class TestConfigurator {
     @Test
     public void testFromStream() throws Exception {
         InputStream is = new FileInputStream("target/test-classes/log4j2-config.xml");
-        InputSource source = new InputSource(is);
-        source.setSystemId("target/test-classes/log4j2-config.xml");
+        ConfigurationFactory.ConfigurationSource source =
+            new ConfigurationFactory.ConfigurationSource(is, "target/test-classes/log4j2-config.xml");
         LoggerContext ctx = Configurator.initialize(null, source);
         Logger logger = LogManager.getLogger("org.apache.test.TestConfigurator");
         Configuration config = ctx.getConfiguration();
@@ -82,7 +82,8 @@ public class TestConfigurator {
     @Test
     public void testFromStreamNoId() throws Exception {
         InputStream is = new FileInputStream("target/test-classes/log4j2-config.xml");
-        InputSource source = new InputSource(is);
+        ConfigurationFactory.ConfigurationSource source =
+            new ConfigurationFactory.ConfigurationSource(is);
         LoggerContext ctx = Configurator.initialize(null, source);
         Logger logger = LogManager.getLogger("org.apache.test.TestConfigurator");
         Configuration config = ctx.getConfiguration();
diff --git a/core/src/test/resources/log4j-test2.xml b/core/src/test/resources/log4j-test2.xml
index 2bc4942e0b..37a5fcc6fb 100644
--- a/core/src/test/resources/log4j-test2.xml
+++ b/core/src/test/resources/log4j-test2.xml
@@ -16,7 +16,7 @@
  limitations under the License.
 
 -->
-<configuration status="debug" name="XMLConfigTest" packages="org.apache.logging.log4j.test">
+<configuration status="debug" name="XMLConfigTest" monitorInterval="5" packages="org.apache.logging.log4j.test">
   <properties>
     <property name="filename">target/test.log</property>
   </properties>
diff --git a/log4j12-api/src/test/java/org/apache/log4j/BasicConfigurationFactory.java b/log4j12-api/src/test/java/org/apache/log4j/BasicConfigurationFactory.java
index 65b94d706b..2404ff4752 100644
--- a/log4j12-api/src/test/java/org/apache/log4j/BasicConfigurationFactory.java
+++ b/log4j12-api/src/test/java/org/apache/log4j/BasicConfigurationFactory.java
@@ -36,7 +36,7 @@ public class BasicConfigurationFactory extends ConfigurationFactory {
     }
 
     @Override
-    public Configuration getConfiguration(InputSource source) {
+    public Configuration getConfiguration(ConfigurationSource source) {
         return new BasicConfiguration();
     }
 
