diff --git a/log4j-core/src/main/java/org/apache/logging/log4j/core/impl/ThrowableProxy.java b/log4j-core/src/main/java/org/apache/logging/log4j/core/impl/ThrowableProxy.java
index e12e14a4c2..4dd19682cc 100644
--- a/log4j-core/src/main/java/org/apache/logging/log4j/core/impl/ThrowableProxy.java
+++ b/log4j-core/src/main/java/org/apache/logging/log4j/core/impl/ThrowableProxy.java
@@ -30,6 +30,7 @@ import java.util.Stack;
 
 import org.apache.logging.log4j.core.pattern.PlainTextRenderer;
 import org.apache.logging.log4j.core.pattern.TextRenderer;
+import org.apache.logging.log4j.core.util.Loader;
 import org.apache.logging.log4j.status.StatusLogger;
 import org.apache.logging.log4j.util.LoaderUtil;
 import org.apache.logging.log4j.util.ReflectionUtil;
@@ -556,7 +557,7 @@ public class ThrowableProxy implements Serializable {
 
     private Class<?> loadClass(final String className) {
         try {
-            return this.getClass().getClassLoader().loadClass(className);
+            return Loader.loadClass(className,this.getClass().getClassLoader());
         } catch (final ClassNotFoundException | NoClassDefFoundError | SecurityException e) {
             return null;
         }
diff --git a/log4j-core/src/main/java/org/apache/logging/log4j/core/util/Loader.java b/log4j-core/src/main/java/org/apache/logging/log4j/core/util/Loader.java
index 6400294d87..d1013f7295 100644
--- a/log4j-core/src/main/java/org/apache/logging/log4j/core/util/Loader.java
+++ b/log4j-core/src/main/java/org/apache/logging/log4j/core/util/Loader.java
@@ -227,6 +227,19 @@ public final class Loader {
         return Class.forName(className, true, loader);
     }
 
+    /**
+     * Loads a named Class using a given ClassLoader.
+     *
+     * @param className The class name.
+     * @param loader The class loader.
+     * @return The class, or null if loader is null.
+     * @throws ClassNotFoundException if the class could not be found.
+     */
+    public static Class<?> loadClass(final String className, final ClassLoader loader)
+            throws ClassNotFoundException {
+        return loader != null ? loader.loadClass(className) : null;
+    }    
+    
     /**
      * Load a Class in the {@code java.*} namespace by name. Useful for peculiar scenarios typically involving
      * Google App Engine.
diff --git a/log4j-core/src/test/java/org/apache/logging/log4j/core/util/LoaderTest.java b/log4j-core/src/test/java/org/apache/logging/log4j/core/util/LoaderTest.java
new file mode 100644
index 0000000000..c97d3b6cb4
--- /dev/null
+++ b/log4j-core/src/test/java/org/apache/logging/log4j/core/util/LoaderTest.java
@@ -0,0 +1,40 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache license, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the license for the specific language governing permissions and
+ * limitations under the license.
+ */
+
+package org.apache.logging.log4j.core.util;
+
+import org.junit.Test;
+
+import static org.junit.Assert.*;
+
+/**
+ * Tests the Loader class.
+ */
+public class LoaderTest {
+
+    @Test
+    public void testLoadClassWithNullClassloaderReturnNull() throws Exception {
+        assertNull("Expect null return value for null ClassLoader.",
+                Loader.loadClass(Loader.class.getCanonicalName(), null));
+    }
+
+    @Test
+    public void testLoadClassReturnClassForExistingClass() throws Exception {
+        assertEquals("Expect Class return value for null ClassLoader.", Loader.class,
+                Loader.loadClass(Loader.class.getCanonicalName(), Loader.getClassLoader()));
+    }
+}
\ No newline at end of file
diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index 89a1b357d1..a6279b26c7 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -144,6 +144,9 @@
       <action issue="LOG4J2-1664" dev="ggregory" type="fix" due-to="Ludovic HOCHET">
         Improve OSGi unit tests.
       </action>
+      <action issue="LOG4J2-1687" dev="ggregory" type="fix" due-to="Robert Christiansen">
+        NPE in ThrowableProxy when resolving stack in Java EE/OSGi environment.
+      </action>
       <action issue="LOG4J2-1644" dev="ggregory" type="update" due-to="Tim Gokcen, Pavel Sivolobtchik">
         Inefficient locking in AbstractLoggerAdapter.
       </action>
