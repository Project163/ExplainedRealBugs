diff --git a/log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/FileAppenderBenchmark.java b/log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/FileAppenderBenchmark.java
index cab01633ad..420b563976 100644
--- a/log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/FileAppenderBenchmark.java
+++ b/log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/FileAppenderBenchmark.java
@@ -50,6 +50,7 @@ public class FileAppenderBenchmark {
 
     Logger log4j2Logger;
     Logger log4j2RandomLogger;
+    Logger log4j2MemoryLogger;
     org.slf4j.Logger slf4jLogger;
     org.apache.log4j.Logger log4j1Logger;
     java.util.logging.Logger julLogger;
@@ -63,6 +64,7 @@ public class FileAppenderBenchmark {
         deleteLogFiles();
 
         log4j2Logger = LogManager.getLogger(FileAppenderBenchmark.class);
+        log4j2MemoryLogger = LogManager.getLogger("MemoryMapped");
         log4j2RandomLogger = LogManager.getLogger("TestRandom");
         slf4jLogger = LoggerFactory.getLogger(FileAppenderBenchmark.class);
         log4j1Logger = org.apache.log4j.Logger.getLogger(FileAppenderBenchmark.class);
@@ -90,6 +92,8 @@ public class FileAppenderBenchmark {
         log4jFile.delete();
         final File log4jRandomFile = new File ("target/testRandomlog4j2.log");
         log4jRandomFile.delete();
+        final File log4jMemoryFile = new File ("target/testMappedlog4j2.log");
+        log4jMemoryFile.delete();
         final File log4j2File = new File ("target/testlog4j2.log");
         log4j2File.delete();
         final File julFile = new File("target/testJulLog.log");
@@ -103,6 +107,13 @@ public class FileAppenderBenchmark {
         log4j2RandomLogger.debug(MESSAGE);
     }
 
+    @BenchmarkMode(Mode.Throughput)
+    @OutputTimeUnit(TimeUnit.SECONDS)
+    @Benchmark
+    public void log4j2MMF() {
+        log4j2MemoryLogger.debug(MESSAGE);
+    }
+
 
     @BenchmarkMode(Mode.Throughput)
     @OutputTimeUnit(TimeUnit.SECONDS)
diff --git a/log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/PatternLayoutComparisonBenchmark.java b/log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/PatternLayoutComparisonBenchmark.java
index 0bcf3daced..c95590c130 100644
--- a/log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/PatternLayoutComparisonBenchmark.java
+++ b/log4j-perf/src/main/java/org/apache/logging/log4j/perf/jmh/PatternLayoutComparisonBenchmark.java
@@ -103,7 +103,6 @@ public class PatternLayoutComparisonBenchmark {
         patternLayoutEncoder.setContext(context);
         patternLayoutEncoder.start();
         ((ch.qos.logback.classic.PatternLayout) patternLayoutEncoder.getLayout()).setOutputPatternAsHeader(false);
-        patternLayoutEncoder.init(baos);
     }
 
     ILoggingEvent makeLoggingEvent(final String message) {
@@ -114,9 +113,7 @@ public class PatternLayoutComparisonBenchmark {
     @Benchmark
     public byte[] logback() throws IOException {
         baos.reset();
-        patternLayoutEncoder.doEncode(LOGBACKEVENT);
-        // patternLayoutEncoder.close();
-        return baos.toByteArray();
+        return patternLayoutEncoder.encode(LOGBACKEVENT);
     }
 
     @Benchmark
diff --git a/log4j-perf/src/main/resources/log4j2-perf.xml b/log4j-perf/src/main/resources/log4j2-perf.xml
index c23737e4f2..7e6a7b5872 100644
--- a/log4j-perf/src/main/resources/log4j2-perf.xml
+++ b/log4j-perf/src/main/resources/log4j2-perf.xml
@@ -23,6 +23,11 @@
                 <Pattern>%d %5p [%t] %c{1} %X{transactionId} - %m%n</Pattern>
             </PatternLayout>
         </File>
+        <MemoryMappedFile name="MemoryMappedLogFile" fileName="target/testMappedlog4j2.log" immediateFlush="false">
+            <PatternLayout>
+                <Pattern>%d %5p [%t] %c{1} %X{transactionId} - %m%n</Pattern>
+            </PatternLayout>
+        </MemoryMappedFile>
         <RandomAccessFile name="RandomAccessLogFile" fileName="target/testRandomlog4j2.log" immediateFlush="false">
             <PatternLayout>
                 <Pattern>%d %5p [%t] %c{1} %X{transactionId} - %m%n</Pattern>
@@ -30,6 +35,9 @@
         </RandomAccessFile>
     </Appenders>
     <Loggers>
+        <Logger name="MemoryMapped" level="debug" additivity="false">
+            <AppenderRef ref="MemoryMappedLogFile"/>
+        </Logger>
         <Logger name="TestRandom" level="debug" additivity="false">
             <AppenderRef ref="RandomAccessLogFile"/>
         </Logger>
diff --git a/pom.xml b/pom.xml
index 056ee81565..9c5e7d1cb7 100644
--- a/pom.xml
+++ b/pom.xml
@@ -177,7 +177,7 @@
     <Log4jReleaseKey>FA1C814D</Log4jReleaseKey> -->
     <!-- note that any properties you want available in velocity templates must not use periods! -->
     <slf4jVersion>1.7.21</slf4jVersion>
-    <logbackVersion>1.1.10</logbackVersion>
+    <logbackVersion>1.2.0</logbackVersion>
     <jackson1Version>1.9.13</jackson1Version>
     <jackson2Version>2.8.5</jackson2Version>
     <springVersion>3.2.18.RELEASE</springVersion>
diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index db13e56f6d..b12e8dd1ce 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -26,7 +26,7 @@
     <!-- NOTE: the text node in an action element is interpreted as Markdown in the release notes! -->
     <release version="2.8.1" date="2017-MM-DD" description="GA Release 2.8.1">
       <action issue="LOG4J2-1810" dev="rgoers" type="update">
-        Update to use Logback 1.1.10 for tests.
+        Update to use Logback 1.1.10 and then Logback 1.2 for tests.
       </action>
       <action issue="LOG4J2-1803" dev="rgoers" type="fix">
         Fix Maven POM to ensure JMH generated classes in log4j-perf are included in benchmarks jar.
