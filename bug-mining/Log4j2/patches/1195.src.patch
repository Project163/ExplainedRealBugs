diff --git a/log4j-api/src/main/java/org/apache/logging/log4j/util/LoaderUtil.java b/log4j-api/src/main/java/org/apache/logging/log4j/util/LoaderUtil.java
index 762670475c..2a153b1bfb 100644
--- a/log4j-api/src/main/java/org/apache/logging/log4j/util/LoaderUtil.java
+++ b/log4j-api/src/main/java/org/apache/logging/log4j/util/LoaderUtil.java
@@ -117,9 +117,10 @@ public final class LoaderUtil {
                 classLoaders.add(parent);
             }
         }
-        ClassLoader parent = tcl;
+        ClassLoader parent = tcl.getParent();
         while (parent != null && !classLoaders.contains(parent)) {
             classLoaders.add(parent);
+            parent = parent.getParent();
         }
         if (!classLoaders.contains(ClassLoader.getSystemClassLoader())) {
             classLoaders.add(ClassLoader.getSystemClassLoader());
