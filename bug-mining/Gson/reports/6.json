{"url":"https://api.github.com/repos/google/gson/issues/1606","repository_url":"https://api.github.com/repos/google/gson","labels_url":"https://api.github.com/repos/google/gson/issues/1606/labels{/name}","comments_url":"https://api.github.com/repos/google/gson/issues/1606/comments","events_url":"https://api.github.com/repos/google/gson/issues/1606/events","html_url":"https://github.com/google/gson/issues/1606","id":517918126,"node_id":"MDU6SXNzdWU1MTc5MTgxMjY=","number":1606,"title":"Fix Travis CI","user":{"login":"Marcono1234","id":11685886,"node_id":"MDQ6VXNlcjExNjg1ODg2","avatar_url":"https://avatars.githubusercontent.com/u/11685886?v=4","gravatar_id":"","url":"https://api.github.com/users/Marcono1234","html_url":"https://github.com/Marcono1234","followers_url":"https://api.github.com/users/Marcono1234/followers","following_url":"https://api.github.com/users/Marcono1234/following{/other_user}","gists_url":"https://api.github.com/users/Marcono1234/gists{/gist_id}","starred_url":"https://api.github.com/users/Marcono1234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Marcono1234/subscriptions","organizations_url":"https://api.github.com/users/Marcono1234/orgs","repos_url":"https://api.github.com/users/Marcono1234/repos","events_url":"https://api.github.com/users/Marcono1234/events{/privacy}","received_events_url":"https://api.github.com/users/Marcono1234/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-11-05T17:30:57Z","updated_at":"2019-11-05T18:29:12Z","closed_at":"2019-11-05T18:29:12Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# Description\r\nTravis CI fails for all builds. The relevant Travis log part is probably:\r\n```\r\nopenjdk version \"9.0.4\"\r\nOpenJDK Runtime Environment (build 9.0.4+11)\r\nOpenJDK 64-Bit Server VM (build 9.0.4+11, mixed mode)\r\n$ javac -J-Xmx32m -version\r\njavac 9.0.4\r\n3.54s$ mvn -f gson install -DskipTests=true\r\n[INFO] Scanning for projects...\r\nDownloading from google-maven-central: https://maven-central.storage-download.googleapis.com/repos/central/data/org/sonatype/oss/oss-parent/7/oss-parent-7.pom\r\nDownloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/sonatype/oss/oss-parent/7/oss-parent-7.pom\r\nDownloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/sonatype/oss/oss-parent/7/oss-parent-7.pom\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[FATAL] Non-resolvable parent POM for com.google.code.gson:gson-parent:2.8.6-SNAPSHOT: Could not transfer artifact org.sonatype.oss:oss-parent:pom:7 from/to google-maven-central (https://maven-central.storage-download.googleapis.com/repos/central/data/): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target and 'parent.relativePath' points at wrong local POM @ com.google.code.gson:gson-parent:2.8.6-SNAPSHOT, /home/travis/build/google/gson/pom.xml, line 6, column 11\r\n```\r\n\r\nIt appears it tries all configured repositories and then fails:\r\n1. maven-central.storage-download.googleapis.com\r\n2. oss.sonatype.org (this just redirects to central!)\r\n3. repository.apache.org\r\n\r\nIt looks like Maven mixes the exception messages, but the actual problem is:\r\n> sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nIf we now compare the last [successful build](https://travis-ci.org/google/gson/jobs/541365646) with the [first known failing](https://travis-ci.org/google/gson/jobs/583845328) (there might have been earlier ones through pull requests, but Travis does not show them), we will see:\r\n\r\n<table>\r\n    <thead>\r\n        <tr>\r\n            <th>Successful</th>\r\n            <th>Failed</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr>\r\n            <td>\r\n<pre>\r\njava version \"9.0.1\"\r\nJava(TM) SE Runtime Environment (build 9.0.1+11)\r\n</pre>\r\n            </td>\r\n            <td>\r\n<pre>\r\nopenjdk version \"9.0.4\"\r\nOpenJDK Runtime Environment (build 9.0.4+11)\r\n</pre>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\nAnd indeed there is [JDK-8189357](https://bugs.openjdk.java.net/browse/JDK-8189357) which describes that the `cacerts` file for OpenJDK is empty.  \r\nTo fix this a different truststore has to be specified, the certificates have to be imported, or you could switch to OpenJDK > 9 (see JEP [319](https://openjdk.java.net/jeps/319)), e.g. 11 which runs the build successfully as well and is also LTS.","closed_by":{"login":"inder123","id":1093834,"node_id":"MDQ6VXNlcjEwOTM4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1093834?v=4","gravatar_id":"","url":"https://api.github.com/users/inder123","html_url":"https://github.com/inder123","followers_url":"https://api.github.com/users/inder123/followers","following_url":"https://api.github.com/users/inder123/following{/other_user}","gists_url":"https://api.github.com/users/inder123/gists{/gist_id}","starred_url":"https://api.github.com/users/inder123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inder123/subscriptions","organizations_url":"https://api.github.com/users/inder123/orgs","repos_url":"https://api.github.com/users/inder123/repos","events_url":"https://api.github.com/users/inder123/events{/privacy}","received_events_url":"https://api.github.com/users/inder123/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google/gson/issues/1606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google/gson/issues/1606/timeline","performed_via_github_app":null,"state_reason":"completed"}