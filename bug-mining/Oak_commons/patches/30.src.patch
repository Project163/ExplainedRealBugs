diff --git a/oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/StringUtils.java b/oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/StringUtils.java
index f7a8cfb85e..dbebb9fc27 100644
--- a/oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/StringUtils.java
+++ b/oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/StringUtils.java
@@ -16,11 +16,16 @@
  */
 package org.apache.jackrabbit.oak.commons;
 
+import org.slf4j.Logger;
+import org.slf4j.LoggerFactory;
+
 /**
  * Some string utility methods.
  */
 public class StringUtils {
 
+    private static final Logger LOG = LoggerFactory.getLogger(StringUtils.class);
+
     private static final char[] HEX = "0123456789abcdef".toCharArray();
 
     /**
@@ -87,6 +92,11 @@ public class StringUtils {
      * @return the estimated memory usage.
      */
     public static int estimateMemoryUsage(String s) {
-        return s == null ? 0 : 48 + s.length() * 2;
+        long size = s == null ? 0 : 48 + (long)s.length() * 2;
+        if (size > Integer.MAX_VALUE) {
+            LOG.debug("Estimated memory footprint larger than Integer.MAX_VALUE: {}.", size);
+            size = Integer.MAX_VALUE;
+        }
+        return (int) size;
     }
 }
