<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:41:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHARED-191] Specification-Version must not contain &quot;-SNAPSHOT&quot;</title>
                <link>https://issues.apache.org/jira/browse/MSHARED-191</link>
                <project id="12317922" key="MSHARED">Maven Shared Components</project>
                    <description>&lt;p&gt;When building an artifact with a SNAPSHOT version,&lt;br/&gt;
Specification-Version and Implementation-Version are both set to ${pom.version} (as described in the documentation).&lt;/p&gt;

&lt;p&gt;But this will break the deployment in a container like WebLogic Server 10.3.4.&lt;br/&gt;
This behavior is compliant with specification&lt;br/&gt;
&lt;a href=&quot;http://download.oracle.com/javase/6/docs/technotes/guides/versioning/spec/versioning2.html#wp89939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.oracle.com/javase/6/docs/technotes/guides/versioning/spec/versioning2.html#wp89939&lt;/a&gt;&lt;br/&gt;
where it is said that &quot;Specification version numbers use a Dewey decimal notation consisting of numbers seperated by periods&quot;&lt;/p&gt;

&lt;p&gt;Further in this spec, in &#167; &quot;1.5.10 Rationale for limiting Implementation version numbers to identity&quot;, it is explained why Implementation-Version need to be compared strictly for equality.&lt;/p&gt;

&lt;p&gt;So we can understand that:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Specification-Version must NOT have &quot;-SNAPSHOT&quot; suffix. This is legal to keep only the beginning of ${pom.version}, because it represents the spec version, not the build ;&lt;/li&gt;
	&lt;li&gt;Implementation-Version has to be set to ${pom.version} to represent the exact version of the build.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This used to be the behavior in Maven 1:&lt;br/&gt;
&lt;a href=&quot;http://maven.apache.org/maven-1.x/plugins/jar/manifest.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/maven-1.x/plugins/jar/manifest.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Ubuntu 10.10, Maven 2.2.1 and Maven 3.0.3, OpenJDK Runtime Environment (IcedTea6 1.9.7) (6b20-1.9.7-0ubuntu1) (64 bits)&lt;br/&gt;
Mint 17.1, Java HotSpot(TM) 64-Bit Server VM (build 20.0-b11, mixed mode), Maven 3.2.5</environment>
        <key id="12808152">MSHARED-191</key>
            <summary>Specification-Version must not contain &quot;-SNAPSHOT&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michael-o">Michael Osipov</assignee>
                                    <reporter username="romain.buquet">Romain Buquet</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Mar 2011 09:40:06 +0000</created>
                <updated>Sun, 15 Jun 2025 12:53:30 +0000</updated>
                            <resolved>Thu, 31 Dec 2015 21:34:08 +0000</resolved>
                                    <version>maven-archiver-2.4.1</version>
                                    <fixVersion>maven-archiver-3.0.1</fixVersion>
                                    <component>maven-archiver</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14449608" author="joehni" created="Tue, 29 Mar 2011 01:28:51 +0000"  >&lt;p&gt;At least there is a workaround: &lt;a href=&quot;http://article.gmane.org/gmane.comp.jakarta.commons.devel/113911&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://article.gmane.org/gmane.comp.jakarta.commons.devel/113911&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14449813" author="michael-o" created="Tue, 25 Nov 2014 14:48:31 +0000"  >&lt;p&gt;Please refer to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/MAVEN/The+Great+JIRA+Cleanup+of+2014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/MAVEN/The+Great+JIRA+Cleanup+of+2014&lt;/a&gt; if you&apos;re wondering why this issue was closed out.&lt;/p&gt;</comment>
                            <comment id="14449862" author="romain.buquet" created="Wed, 26 Nov 2014 03:19:41 +0000"  >&lt;p&gt;I read through &quot;The Great JIRA Cleanup of 2014&quot; article. I understand your motivations. It&apos;s a tough move, with the risk of a lot of frustrations. But it is for the best. Good job!&lt;/p&gt;

&lt;p&gt;Now for my issue, I&apos;m asking to reopen it because I think that it is compliant with your legitimate conditions: it&apos;s clearly described, the bug violates a Java specification, a patch candidate is provided, and it looks that it will not be too long to fix...&lt;/p&gt;

&lt;p&gt;Hope you will agree with me, and that we can close this issue once and for all!&lt;/p&gt;</comment>
                            <comment id="14449814" author="michael-o" created="Wed, 26 Nov 2014 03:57:04 +0000"  >&lt;p&gt;Perfectly fine that you have reopened this issue. Can you check the patch against trunk, run all tests and update if necessary? I would be included to merge this one.&lt;/p&gt;</comment>
                            <comment id="14955013" author="romain.buquet" created="Tue, 13 Oct 2015 14:20:22 +0000"  >&lt;p&gt;Sorry for the delay.&lt;br/&gt;
I tried again with Maven 3.2.5 (the last version with Java 6 support that I have to stick with), with war-plugin version 2.6 (maven-archiver-2.6).&lt;br/&gt;
Still the same behavior: Specification-Version and Implementation-Version have the same value (i.e. with &quot;-SNAPSHOT&quot;).&lt;/p&gt;</comment>
                            <comment id="15046803" author="michael-o" created="Tue, 8 Dec 2015 12:24:07 +0000"  >&lt;p&gt;To pick this up, what about version qualifiers, are they valid? We have to consider all states.&lt;/p&gt;</comment>
                            <comment id="15046827" author="michael-o" created="Tue, 8 Dec 2015 12:52:53 +0000"  >&lt;p&gt;Would it be an acceptible solution to strip out &lt;tt&gt;-SNAPSHOT&lt;/tt&gt;? The other option I see is to work with &lt;tt&gt;MavenProject#getArtifact&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15046836" author="joerg.sesterhenn" created="Tue, 8 Dec 2015 13:07:01 +0000"  >&lt;p&gt;I think that the proposed solution by Joerg Schaible (using majorVersion.minorVersion for spec-version) would be an ideal default since the spec-version must look like int(.int)* with int &amp;gt;=0. Compare &lt;a href=&quot;https://issues.apache.org/jira/browse/MSHARED-432&quot; title=&quot;Maven Archiver creates invalid Specification-Version string for SNAPSHOTs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHARED-432&quot;&gt;&lt;del&gt;MSHARED-432&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Leave everything else including qualifiers to the implementation-version.&lt;/p&gt;</comment>
                            <comment id="15051524" author="michael-o" created="Thu, 10 Dec 2015 19:40:43 +0000"  >&lt;p&gt;I agree. What I would change now is instead of&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;project.getVersion()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ArtifactVersion version = project.getArtifact().getArtifactVersion();
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; specVersion = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;%s.%s&quot;&lt;/span&gt;, version.getMajorVersion(), version.getMinorVersion());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that acceptable?&lt;/p&gt;</comment>
                            <comment id="15052383" author="joerg.sesterhenn" created="Fri, 11 Dec 2015 08:05:46 +0000"  >&lt;p&gt;Absolutely, as far as I am concerned.&lt;/p&gt;</comment>
                            <comment id="15052390" author="joerg.sesterhenn" created="Fri, 11 Dec 2015 08:08:58 +0000"  >&lt;p&gt;What is the target for this? Will this make it into 3.0.1?&lt;/p&gt;</comment>
                            <comment id="15052476" author="michael-o" created="Fri, 11 Dec 2015 09:03:01 +0000"  >&lt;p&gt;I&apos;ll wait for other opinions or even better ideas for a couple of days. If no one opposes, I will do the change.&lt;/p&gt;</comment>
                            <comment id="15052548" author="romain.buquet" created="Fri, 11 Dec 2015 09:52:45 +0000"  >&lt;p&gt;This is OK for me. Thanks!&lt;/p&gt;</comment>
                            <comment id="15068951" author="michael-o" created="Wed, 23 Dec 2015 00:26:32 +0000"  >&lt;p&gt;Hi folks,&lt;/p&gt;

&lt;p&gt;I have created a patch which solves the issue. Though, I am quite uncertain about the selected version operation, especially the impact it might have. Alternatively, one could use &lt;tt&gt;DefaultArtifactVersion&lt;/tt&gt; and get the bits from there.&lt;/p&gt;

&lt;p&gt;Please test the patch and post you (negative) results. I would like to avoid using &lt;tt&gt;DefaultArtifactVersion&lt;/tt&gt; which is an implementation detail. I would like to stick to &lt;tt&gt;getSelectedVersion&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15076142" author="michael-o" created="Thu, 31 Dec 2015 21:34:08 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;http://svn.apache.org/r1722470&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1722470&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15076173" author="hudson" created="Thu, 31 Dec 2015 22:31:56 +0000"  >&lt;p&gt;SUCCESS: Integrated in maven-shared #845 (See &lt;a href=&quot;https://builds.apache.org/job/maven-shared/845/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-shared/845/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHARED-191&quot; title=&quot;Specification-Version must not contain &amp;quot;-SNAPSHOT&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHARED-191&quot;&gt;&lt;del&gt;MSHARED-191&lt;/del&gt;&lt;/a&gt; Specification-Version must not contain &quot;-SNAPSHOT&quot; (michaelo: &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1722470&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1722470&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;maven-archiver/src/main/java/org/apache/maven/archiver/MavenArchiver.java&lt;/li&gt;
	&lt;li&gt;maven-archiver/src/site/apt/examples/manifest.apt&lt;/li&gt;
	&lt;li&gt;maven-archiver/src/site/xdoc/index.xml.vm&lt;/li&gt;
	&lt;li&gt;maven-archiver/src/test/java/org/apache/maven/archiver/MavenArchiverTest.java&lt;/li&gt;
	&lt;li&gt;maven-archiver/src/test/java/org/apache/maven/archiver/MockArtifact.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15235732" author="hudson" created="Mon, 11 Apr 2016 18:58:43 +0000"  >&lt;p&gt;FAILURE: Integrated in maven-plugins #5674 (See &lt;a href=&quot;https://builds.apache.org/job/maven-plugins/5674/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-plugins/5674/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MJAR-213&quot; title=&quot;Upgrade to maven-archiver 3.0.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAR-213&quot;&gt;&lt;del&gt;MJAR-213&lt;/del&gt;&lt;/a&gt; Upgrade to maven-archiver 3.0.1&lt;br/&gt;
 o Upgrading to maven-archiver-3.0.1 means that the&lt;br/&gt;
   Specification-Version within the MANIFEST.MF&lt;br/&gt;
   does not allow having -SNAPSHOT.&lt;br/&gt;
   This behaviour has been changed according to&lt;br/&gt;
   the Product Versioning Spec. See also &lt;a href=&quot;https://issues.apache.org/jira/browse/MSHARED-191&quot; title=&quot;Specification-Version must not contain &amp;quot;-SNAPSHOT&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHARED-191&quot;&gt;&lt;del&gt;MSHARED-191&lt;/del&gt;&lt;/a&gt; (khmarbaise: &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1738620&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1738620&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;maven-jar-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;maven-jar-plugin/src/it/&lt;a href=&quot;https://issues.apache.org/jira/browse/MJAR-82&quot; title=&quot;Class-Path manifest entry should support maven repository layout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MJAR-82&quot;&gt;&lt;del&gt;MJAR-82&lt;/del&gt;&lt;/a&gt;/pom.xml&lt;/li&gt;
	&lt;li&gt;maven-jar-plugin/src/it/manifest-content/verify.bsh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17977496" author="JIRAUSER302100" created="Sun, 15 Jun 2025 12:53:30 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-archiver/issues/149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-archiver#149&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12957328">MJAR-213</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12851603">MSHARED-432</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12779158" name="MSHARED-191.patch" size="8275" author="michael-o" created="Wed, 23 Dec 2015 00:26:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2b2yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>