<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:41:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MSHARED-494] Impossible to generate a reproducible build due to timestamp in pom.properties</title>
                <link>https://issues.apache.org/jira/browse/MSHARED-494</link>
                <project id="12317922" key="MSHARED">Maven Shared Components</project>
                    <description>&lt;p&gt;Try to making a pom for do a reproducible build, meaning by reproducible build the ability to produce the exact same artifact (same checksum) starting from the same code, a two different times, i had some trouble with the files generated in: /META-INF/maven/groupId/artifactId/ &lt;br/&gt;
in the specific the  /META-INF/maven/groupId/artifactId/pom.properties contains the timestamp.&lt;/p&gt;

&lt;p&gt;digging in the code in the class: &lt;a href=&quot;http://svn.apache.org/viewvc/maven/shared/tags/maven-archiver-3.0.0/src/main/java/org/apache/maven/archiver/PomPropertiesUtil.java?revision=1708674&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/maven/shared/tags/maven-archiver-3.0.0/src/main/java/org/apache/maven/archiver/PomPropertiesUtil.java?revision=1708674&amp;amp;view=markup&lt;/a&gt;&lt;br/&gt;
line 86&lt;/p&gt;

&lt;p&gt;is used the java.util.Properties#store which write the timestamp in any case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12935444">MSHARED-494</key>
            <summary>Impossible to generate a reproducible build due to timestamp in pom.properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michael-o">Michael Osipov</assignee>
                                    <reporter username="tglman">Ema Tag</reporter>
                        <labels>
                    </labels>
                <created>Sun, 31 Jan 2016 16:19:14 +0000</created>
                <updated>Sun, 15 Jun 2025 12:53:33 +0000</updated>
                            <resolved>Sat, 21 May 2016 23:01:14 +0000</resolved>
                                    <version>maven-archiver-3.0.0</version>
                                    <fixVersion>maven-archiver-3.1.0</fixVersion>
                                    <component>maven-archiver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="15125496" author="michael-o" created="Sun, 31 Jan 2016 20:45:22 +0000"  >&lt;p&gt;This method does not write the timestamp. Oracle&apos;s implementation of &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Properties.java#Properties.store0%28java.io.BufferedWriter%2Cjava.lang.String%2Cboolean%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;store()&lt;/tt&gt;&lt;/a&gt; does write the stupid &lt;tt&gt;new Date().toString()&lt;/tt&gt;. If you provide a proper implementation of an &lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/io/FilterOutputStream.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;FilterOutputStream&lt;/tt&gt;&lt;/a&gt; wich drops this line, I will add it to the code.&lt;/p&gt;</comment>
                            <comment id="15230678" author="sewe" created="Thu, 7 Apr 2016 17:40:30 +0000"  >&lt;p&gt;FWIW, if &lt;a href=&quot;https://issues.apache.org/jira/browse/MSHARED-505&quot; title=&quot;Add &amp;lt;timestamp&amp;gt; element to &amp;lt;archive&amp;gt; to allow for reproducible builds&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHARED-505&quot;&gt;&lt;del&gt;MSHARED-505&lt;/del&gt;&lt;/a&gt; is taken on, one could simply fix the timestamp in the comment (although one still needs to circumvent &lt;tt&gt;store()&lt;/tt&gt;) and leave the current behavior as a often useful default. A changing timestamp is better than no timestamp, IMHO.&lt;/p&gt;</comment>
                            <comment id="15295293" author="michael-o" created="Sat, 21 May 2016 23:01:14 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;http://svn.apache.org/r1745000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1745000&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15295309" author="hudson" created="Sat, 21 May 2016 23:44:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in maven-shared #1759 (See &lt;a href=&quot;https://builds.apache.org/job/maven-shared/1759/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-shared/1759/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MSHARED-494&quot; title=&quot;Impossible to generate a reproducible build due to timestamp in pom.properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MSHARED-494&quot;&gt;&lt;del&gt;MSHARED-494&lt;/del&gt;&lt;/a&gt; Impossible to generate a reproducible build due to timestamp in pom.properties&lt;/p&gt;

&lt;p&gt;Stupid hack: write the properties to a StringWriter, iterate with a BufferedReader and drop all comments, finall write real content to the target file. (michaelo: &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1745000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1745000&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;maven-archiver/src/main/java/org/apache/maven/archiver/PomPropertiesUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15356695" author="dwegener" created="Thu, 30 Jun 2016 07:56:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tglman&quot; class=&quot;user-hover&quot; rel=&quot;tglman&quot;&gt;tglman&lt;/a&gt; Just curios, how did you manage to prevent plexus archiver from writing zipEntry lastModified timestamps?&lt;/p&gt;</comment>
                            <comment id="15356974" author="tglman" created="Thu, 30 Jun 2016 12:04:46 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I haven&apos;t, still investigating on how to fix that, I did investigate the archiver code but no solution found yet,once is found the place it should be fairly easy to add a setting to make the archiver not to set the timestamp.&lt;/p&gt;

&lt;p&gt;the good news is that from my tests is the last missing bit, if you are interested we can collaborate a bit on this!&lt;/p&gt;</comment>
                            <comment id="15356982" author="dwegener" created="Thu, 30 Jun 2016 12:12:19 +0000"  >&lt;p&gt;Sounds great! Did a first step just into that direction today &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;a href=&quot;https://github.com/codehaus-plexus/plexus-archiver/issues/48&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/codehaus-plexus/plexus-archiver/issues/48&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Feel free to jump in if you want.&lt;/p&gt;

&lt;p&gt;I am still a bit concerned about the file ordering within the zip file - the order in which files in a directory are iterated depends on the OS/FileSystem - so there might be still some steps to go. But I&apos;d feel much better if two builds on the same machine/environment would at least produce the same output.&lt;/p&gt;</comment>
                            <comment id="15357008" author="krosenvold" created="Thu, 30 Jun 2016 12:30:11 +0000"  >&lt;p&gt;The archiver uses a default multihtreaded implementation which will also guarantee you a race wrt the order of your files.&lt;/p&gt;</comment>
                            <comment id="16195681" author="zlika" created="Sat, 7 Oct 2017 13:02:05 +0000"  >&lt;p&gt;Hello,&lt;br/&gt;
You can have a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-6276&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MNG-6276&lt;/a&gt; and &lt;a href=&quot;https://github.com/Zlika/reproducible-build-maven-plugin&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Zlika/reproducible-build-maven-plugin&lt;/a&gt; for reproducible builds.&lt;/p&gt;</comment>
                            <comment id="17977520" author="JIRAUSER302100" created="Sun, 15 Jun 2025 12:53:33 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-archiver/issues/182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-archiver#182&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13097712">MNG-6276</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13269028">FELIX-6203</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13042431">MSHADE-249</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s7cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>