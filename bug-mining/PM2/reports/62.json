{"url":"https://api.github.com/repos/Unitech/pm2/issues/1577","repository_url":"https://api.github.com/repos/Unitech/pm2","labels_url":"https://api.github.com/repos/Unitech/pm2/issues/1577/labels{/name}","comments_url":"https://api.github.com/repos/Unitech/pm2/issues/1577/comments","events_url":"https://api.github.com/repos/Unitech/pm2/issues/1577/events","html_url":"https://github.com/Unitech/pm2/issues/1577","id":104523061,"node_id":"MDU6SXNzdWUxMDQ1MjMwNjE=","number":1577,"title":" --ignore-watch=\"*.log\" has crashed pm2 ","user":{"login":"soichih","id":923896,"node_id":"MDQ6VXNlcjkyMzg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/923896?v=4","gravatar_id":"","url":"https://api.github.com/users/soichih","html_url":"https://github.com/soichih","followers_url":"https://api.github.com/users/soichih/followers","following_url":"https://api.github.com/users/soichih/following{/other_user}","gists_url":"https://api.github.com/users/soichih/gists{/gist_id}","starred_url":"https://api.github.com/users/soichih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soichih/subscriptions","organizations_url":"https://api.github.com/users/soichih/orgs","repos_url":"https://api.github.com/users/soichih/repos","events_url":"https://api.github.com/users/soichih/events{/privacy}","received_events_url":"https://api.github.com/users/soichih/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":40425958,"node_id":"MDU6TGFiZWw0MDQyNTk1OA==","url":"https://api.github.com/repos/Unitech/pm2/labels/T:%20Bug","name":"T: Bug","color":"d93f0b","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"soyuka","id":1321971,"node_id":"MDQ6VXNlcjEzMjE5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1321971?v=4","gravatar_id":"","url":"https://api.github.com/users/soyuka","html_url":"https://github.com/soyuka","followers_url":"https://api.github.com/users/soyuka/followers","following_url":"https://api.github.com/users/soyuka/following{/other_user}","gists_url":"https://api.github.com/users/soyuka/gists{/gist_id}","starred_url":"https://api.github.com/users/soyuka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soyuka/subscriptions","organizations_url":"https://api.github.com/users/soyuka/orgs","repos_url":"https://api.github.com/users/soyuka/repos","events_url":"https://api.github.com/users/soyuka/events{/privacy}","received_events_url":"https://api.github.com/users/soyuka/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"soyuka","id":1321971,"node_id":"MDQ6VXNlcjEzMjE5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1321971?v=4","gravatar_id":"","url":"https://api.github.com/users/soyuka","html_url":"https://github.com/soyuka","followers_url":"https://api.github.com/users/soyuka/followers","following_url":"https://api.github.com/users/soyuka/following{/other_user}","gists_url":"https://api.github.com/users/soyuka/gists{/gist_id}","starred_url":"https://api.github.com/users/soyuka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soyuka/subscriptions","organizations_url":"https://api.github.com/users/soyuka/orgs","repos_url":"https://api.github.com/users/soyuka/repos","events_url":"https://api.github.com/users/soyuka/events{/privacy}","received_events_url":"https://api.github.com/users/soyuka/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2015-09-02T16:34:54Z","updated_at":"2015-09-18T14:31:00Z","closed_at":"2015-09-18T14:31:00Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I just observed that pm2 server crashed and killed all of my node apps simply by trying to start another application by doing following.\n\n```\npm2 start progress.js --watch --ignore-watch=\"error.log\"\n```\n\nI see following in the pm2 logs\n\n```\n2015-09-02 16:27:32: Process with pid 13717 killed\n2015-09-02 16:27:36: [PM2] Error caught by domain:\nSyntaxError: Invalid regular expression: /*.log/: Nothing to repeat\n    at new RegExp (<anonymous>)\n    at Object.ClusterMode.God.watch.enable (/usr/lib/node_modules/pm2/lib/Watcher.js:33:17)\n    at Object.executeApp (/usr/lib/node_modules/pm2/lib/God.js:111:17)\n    at ex (/usr/lib/node_modules/pm2/lib/God.js:367:18)\n    at prepare (/usr/lib/node_modules/pm2/lib/God.js:373:7)\n    at Server.onmessage (/usr/lib/node_modules/pm2/node_modules/pm2-axon-rpc/lib/server.js:105:6)\n    at RepSocket.emit (events.js:98:17)\n    at Parser.<anonymous> (/usr/lib/node_modules/pm2/node_modules/pm2-axon/lib/sockets/rep.js:51:15)\n    at Parser.emit (events.js:95:17)\n    at Parser._write (/usr/lib/node_modules/pm2/node_modules/pm2-axon/node_modules/amp/lib/stream.js:91:16)\n2015-09-02 16:27:36: [PM2] Trying to update PM2...\n\nmodule.js:340\n    throw err;\n          ^\nError: Cannot find module '/undefined'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16)\n    at node.js:929:3\n\nevents.js:72\n        throw er; // Unhandled 'error' event\n              ^\n```\n\n2 requests...\n\n1) Make pm2 not crash if it received any uncaught exceptions.\n2) Make --ignore-watch to accept wild cards (like *.log)\n(I just realized I could do --ignore-watch=\".log$\".. however)\n\nThank you!\n","closed_by":{"login":"Unitech","id":757747,"node_id":"MDQ6VXNlcjc1Nzc0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/757747?v=4","gravatar_id":"","url":"https://api.github.com/users/Unitech","html_url":"https://github.com/Unitech","followers_url":"https://api.github.com/users/Unitech/followers","following_url":"https://api.github.com/users/Unitech/following{/other_user}","gists_url":"https://api.github.com/users/Unitech/gists{/gist_id}","starred_url":"https://api.github.com/users/Unitech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Unitech/subscriptions","organizations_url":"https://api.github.com/users/Unitech/orgs","repos_url":"https://api.github.com/users/Unitech/repos","events_url":"https://api.github.com/users/Unitech/events{/privacy}","received_events_url":"https://api.github.com/users/Unitech/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Unitech/pm2/issues/1577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Unitech/pm2/issues/1577/timeline","performed_via_github_app":null,"state_reason":"completed"}