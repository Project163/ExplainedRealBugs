{"url":"https://api.github.com/repos/Unitech/pm2/issues/1746","repository_url":"https://api.github.com/repos/Unitech/pm2","labels_url":"https://api.github.com/repos/Unitech/pm2/issues/1746/labels{/name}","comments_url":"https://api.github.com/repos/Unitech/pm2/issues/1746/comments","events_url":"https://api.github.com/repos/Unitech/pm2/issues/1746/events","html_url":"https://github.com/Unitech/pm2/issues/1746","id":115049073,"node_id":"MDU6SXNzdWUxMTUwNDkwNzM=","number":1746,"title":"Error introduced from 0.15.8 to 0.15.9","user":{"login":"LarsBuur","id":3585707,"node_id":"MDQ6VXNlcjM1ODU3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/3585707?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsBuur","html_url":"https://github.com/LarsBuur","followers_url":"https://api.github.com/users/LarsBuur/followers","following_url":"https://api.github.com/users/LarsBuur/following{/other_user}","gists_url":"https://api.github.com/users/LarsBuur/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsBuur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsBuur/subscriptions","organizations_url":"https://api.github.com/users/LarsBuur/orgs","repos_url":"https://api.github.com/users/LarsBuur/repos","events_url":"https://api.github.com/users/LarsBuur/events{/privacy}","received_events_url":"https://api.github.com/users/LarsBuur/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-11-04T13:11:16Z","updated_at":"2015-11-04T17:12:35Z","closed_at":"2015-11-04T13:36:48Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Just updated to 0.15.9 and got this error \n\n```\n/usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/lib/CLI.js:2305\n    if(util.isObject(app.env[key])) {\n            ^\nTypeError: Object #<Object> has no method 'isObject'\n    at mergeEnvironmentVariables (/usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/lib/CLI.js:2305:13)\n    at /usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/lib/CLI.js:337:7\n    at /usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/node_modules/async/lib/async.js:181:20\n    at replenish (/usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/node_modules/async/lib/async.js:319:21)\n    at /usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/node_modules/async/lib/async.js:330:15\n    at Object.async.forEachLimit.async.eachLimit (/usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/node_modules/async/lib/async.js:220:35)\n    at startApps (/usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/lib/CLI.js:323:11)\n    at /usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/lib/CLI.js:423:14\n    at /usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/node_modules/async/lib/async.js:52:16\n    at replenish (/usr/local/bin/xxx-worker/.npm-packages/lib/node_modules/pm2/node_modules/async/lib/async.js:314:29)\n```\n\nrunning \n\n```\n./.npm-packages/bin/pm2 start process.json\n```\n\ncontents of process.json:\n\n```\n{\n  \"name\": \"xxx-worker\",\n  \"script\": \"/usr/local/bin/xxx-worker/runner.js\",\n  \"log_date_format\": \"YYYY-MM-DD HH:mm Z\",\n  \"watch\": false,\n  \"env\": {\n    \"NODE_ENV\": \"production\",\n    \"xxxx\":\"YYYYY...\"\n  }\n}\n```\n\nafter running \n\n```\nnpm install pm2@0.15.8 -g\n```\n\npm2 is running again.\n\nNode version: v0.10.40\nOS: Debian GNU/Linux 7.9 (wheezy)\n\nAdditional info: \n\n```\n2015-11-04 13:49:23: [PM2][WORKER] Started with refreshing interval: 30000\n2015-11-04 13:49:23: [[[[ PM2/God daemon launched ]]]]\n2015-11-04 13:49:23: BUS system [READY] on port /home/xxx/.pm2/pub.sock\n2015-11-04 13:49:23: RPC interface [READY] on port /home/xxx/.pm2/rpc.sock\n```\n","closed_by":{"login":"LarsBuur","id":3585707,"node_id":"MDQ6VXNlcjM1ODU3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/3585707?v=4","gravatar_id":"","url":"https://api.github.com/users/LarsBuur","html_url":"https://github.com/LarsBuur","followers_url":"https://api.github.com/users/LarsBuur/followers","following_url":"https://api.github.com/users/LarsBuur/following{/other_user}","gists_url":"https://api.github.com/users/LarsBuur/gists{/gist_id}","starred_url":"https://api.github.com/users/LarsBuur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LarsBuur/subscriptions","organizations_url":"https://api.github.com/users/LarsBuur/orgs","repos_url":"https://api.github.com/users/LarsBuur/repos","events_url":"https://api.github.com/users/LarsBuur/events{/privacy}","received_events_url":"https://api.github.com/users/LarsBuur/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Unitech/pm2/issues/1746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Unitech/pm2/issues/1746/timeline","performed_via_github_app":null,"state_reason":"completed"}