{"url":"https://api.github.com/repos/Unitech/pm2/issues/4834","repository_url":"https://api.github.com/repos/Unitech/pm2","labels_url":"https://api.github.com/repos/Unitech/pm2/issues/4834/labels{/name}","comments_url":"https://api.github.com/repos/Unitech/pm2/issues/4834/comments","events_url":"https://api.github.com/repos/Unitech/pm2/issues/4834/events","html_url":"https://github.com/Unitech/pm2/issues/4834","id":689222617,"node_id":"MDU6SXNzdWU2ODkyMjI2MTc=","number":4834,"title":"pm2 cron stops running tasks","user":{"login":"Dejw4g","id":7347910,"node_id":"MDQ6VXNlcjczNDc5MTA=","avatar_url":"https://avatars.githubusercontent.com/u/7347910?v=4","gravatar_id":"","url":"https://api.github.com/users/Dejw4g","html_url":"https://github.com/Dejw4g","followers_url":"https://api.github.com/users/Dejw4g/followers","following_url":"https://api.github.com/users/Dejw4g/following{/other_user}","gists_url":"https://api.github.com/users/Dejw4g/gists{/gist_id}","starred_url":"https://api.github.com/users/Dejw4g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dejw4g/subscriptions","organizations_url":"https://api.github.com/users/Dejw4g/orgs","repos_url":"https://api.github.com/users/Dejw4g/repos","events_url":"https://api.github.com/users/Dejw4g/events{/privacy}","received_events_url":"https://api.github.com/users/Dejw4g/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-08-31T13:48:28Z","updated_at":"2020-12-16T14:37:39Z","closed_at":"2020-12-16T11:15:33Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\nYour issue may already be reported!\r\nPlease search on the [issue tracker](https://github.com/Unitech/pm2/search?type=Issues) before creating one.\r\n-->\r\n\r\n## What's going wrong?\r\ntask scheduled using cron function stops running after some time\r\n\r\n## How could we reproduce this issue?\r\nI don't know ho to reproduce it directly, but it always happens after some time (days).\r\n\r\nI create the task like this: pm2 start index.js --name auto-dnd --watch --time --cron \"*/5 * * * *\" --no-autorestart\r\n\r\nand here is the log:\r\nrunning auto-dnd: 2020-8-28 11:7:27\r\nrunning auto-dnd: 2020-8-28 11:10:3\r\nrunning auto-dnd: 2020-8-28 11:15:2\r\nrunning auto-dnd: 2020-8-28 11:20:1\r\nrunning auto-dnd: 2020-8-31 14:15:29\r\nrunning auto-dnd: 2020-8-31 14:20:0\r\n\r\nwhere the log from 31.8. happened after manually reloading the task - it was dead without it. PM2 and the script is running on my macbook pro, so the machine doesn't run 24/7 - but for most of the time it manages to continue normally after opening up the macbook and start using it - but then, for some unknown reason, it stops running...\r\n\r\n\r\n## Supporting information\r\n\r\n<!--\r\nPlease run the following command (available on PM2 >= 2.6)\r\n-->\r\n```\r\n--- PM2 report ----------------------------------------------------------------\r\nDate                 : Mon Aug 31 2020 15:47:20 GMT+0200 (Central European Summer Time)\r\n===============================================================================\r\n--- Daemon -------------------------------------------------\r\npm2d version         : 4.4.1\r\nnode version         : 10.20.1\r\nnode path            : /Users/dejw/.nvm/versions/node/v10.20.1/bin/pm2\r\nargv                 : /Users/dejw/.nvm/versions/node/v10.20.1/bin/node,/Users/dejw/.nvm/versions/node/v10.20.1/lib/node_modules/pm2/lib/Daemon.js\r\nargv0                : node\r\nuser                 : dejw\r\nuid                  : 501\r\ngid                  : 20\r\nuptime               : 26min\r\n===============================================================================\r\n--- CLI ----------------------------------------------------\r\nlocal pm2            : 4.4.1\r\nnode version         : 10.20.1\r\nnode path            : /Users/dejw/.nvm/versions/node/v10.20.1/bin/pm2\r\nargv                 : /Users/dejw/.nvm/versions/node/v10.20.1/bin/node,/Users/dejw/.nvm/versions/node/v10.20.1/bin/pm2,report\r\nargv0                : node\r\nuser                 : dejw\r\nuid                  : 501\r\ngid                  : 20\r\n===============================================================================\r\n--- System info --------------------------------------------\r\narch                 : x64\r\nplatform             : darwin\r\ntype                 : Darwin\r\ncpus                 : Intel(R) Core(TM) i5-7267U CPU @ 3.10GHz\r\ncpus nb              : 4\r\nfreemem              : 641970176\r\ntotalmem             : 17179869184\r\nhome                 : /Users/dejw\r\n===============================================================================\r\n--- PM2 list -----------------------------------------------\r\n┌─────┬─────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐\r\n│ id  │ name        │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │\r\n├─────┼─────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤\r\n│ 0   │ auto-dnd    │ default     │ N/A     │ fork    │ 0        │ 0      │ 0    │ stopped   │ 0%       │ 0b       │ dejw     │ enabled  │\r\n└─────┴─────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘\r\n===============================================================================\r\n--- Daemon logs --------------------------------------------\r\n/Users/dejw/.pm2/pm2.log last 20 lines:\r\nPM2        | 2020-08-31T15:25:00: PM2 log: Process 0 in a stopped status, starting it\r\nPM2        | 2020-08-31T15:25:00: PM2 log: App [auto-dnd:0] starting in -fork mode-\r\nPM2        | 2020-08-31T15:25:00: PM2 log: App [auto-dnd:0] online\r\nPM2        | 2020-08-31T15:25:06: PM2 log: App [auto-dnd:0] exited with code [0] via signal [SIGINT]\r\nPM2        | 2020-08-31T15:30:00: PM2 log: Process 0 in a stopped status, starting it\r\nPM2        | 2020-08-31T15:30:00: PM2 log: App [auto-dnd:0] starting in -fork mode-\r\nPM2        | 2020-08-31T15:30:00: PM2 log: App [auto-dnd:0] online\r\nPM2        | 2020-08-31T15:30:03: PM2 log: App [auto-dnd:0] exited with code [0] via signal [SIGINT]\r\nPM2        | 2020-08-31T15:35:00: PM2 log: Process 0 in a stopped status, starting it\r\nPM2        | 2020-08-31T15:35:00: PM2 log: App [auto-dnd:0] starting in -fork mode-\r\nPM2        | 2020-08-31T15:35:00: PM2 log: App [auto-dnd:0] online\r\nPM2        | 2020-08-31T15:35:03: PM2 log: App [auto-dnd:0] exited with code [0] via signal [SIGINT]\r\nPM2        | 2020-08-31T15:40:00: PM2 log: Process 0 in a stopped status, starting it\r\nPM2        | 2020-08-31T15:40:00: PM2 log: App [auto-dnd:0] starting in -fork mode-\r\nPM2        | 2020-08-31T15:40:00: PM2 log: App [auto-dnd:0] online\r\nPM2        | 2020-08-31T15:40:03: PM2 log: App [auto-dnd:0] exited with code [0] via signal [SIGINT]\r\nPM2        | 2020-08-31T15:45:00: PM2 log: Process 0 in a stopped status, starting it\r\nPM2        | 2020-08-31T15:45:00: PM2 log: App [auto-dnd:0] starting in -fork mode-\r\nPM2        | 2020-08-31T15:45:00: PM2 log: App [auto-dnd:0] online\r\nPM2        | 2020-08-31T15:45:03: PM2 log: App [auto-dnd:0] exited with code [0] via signal [SIGINT]\r\n\r\n```\r\n","closed_by":{"login":"Unitech","id":757747,"node_id":"MDQ6VXNlcjc1Nzc0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/757747?v=4","gravatar_id":"","url":"https://api.github.com/users/Unitech","html_url":"https://github.com/Unitech","followers_url":"https://api.github.com/users/Unitech/followers","following_url":"https://api.github.com/users/Unitech/following{/other_user}","gists_url":"https://api.github.com/users/Unitech/gists{/gist_id}","starred_url":"https://api.github.com/users/Unitech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Unitech/subscriptions","organizations_url":"https://api.github.com/users/Unitech/orgs","repos_url":"https://api.github.com/users/Unitech/repos","events_url":"https://api.github.com/users/Unitech/events{/privacy}","received_events_url":"https://api.github.com/users/Unitech/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Unitech/pm2/issues/4834/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":2},"timeline_url":"https://api.github.com/repos/Unitech/pm2/issues/4834/timeline","performed_via_github_app":null,"state_reason":"completed"}