[{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/560181087","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-560181087","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":560181087,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDE4MTA4Nw==","user":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T00:30:30Z","updated_at":"2019-12-02T00:30:30Z","body":"Alacritty has not previously checked anything about floating or not, so it's mostly a coincidence that it worked previously.\r\n\r\nAs far as Alacritty is concerned, you're telling it to create the window at a certain size and then your window manager resizes it to a different size.\r\n\r\nWouldn't it be more reliable, to set a floating size in bspwm instead of Alacritty? The window manager is aware of which mode a window is spawned in, so it seems like that would be the better place with a tiling window manager like bspwm/i3/sway.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/560181087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2843907676,"node_id":"MDEyOkxhYmVsZWRFdmVudDI4NDM5MDc2NzY=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/2843907676","actor":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-12-02T00:31:07Z","label":{"name":"H - linux","color":"000000"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/560181184","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-560181184","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":560181184,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDE4MTE4NA==","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T00:31:21Z","updated_at":"2019-12-02T00:31:38Z","body":"Just to make it clear, the v0.3.3 wasn't initializing the window content before drawing, so you can see that the border appears first, but then you're getting your terminal content. However v0.4.0 fills this content with color and then \"resize?\" (window appears with border and some content in it as you can see), so that's why you see some kind of a glitch, I guess.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/560181184/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2960916508,"node_id":"MDEyOkxhYmVsZWRFdmVudDI5NjA5MTY1MDg=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/2960916508","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-01-19T14:14:59Z","label":{"name":"S - render","color":"5319e7"},"performed_via_github_app":null},{"id":3287725762,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMyODc3MjU3NjI=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3287725762","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0df960d63a9ff8e023372dbf4aaf3f58fb492ea1","commit_url":"https://api.github.com/repos/kchibisov/alacritty/commits/0df960d63a9ff8e023372dbf4aaf3f58fb492ea1","created_at":"2020-04-30T06:20:01Z","performed_via_github_app":null},{"actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T06:20:32Z","updated_at":"2020-04-30T06:20:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3660","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/3660/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/3660/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/3660/events","html_url":"https://github.com/alacritty/alacritty/pull/3660","id":609623596,"node_id":"MDExOlB1bGxSZXF1ZXN0NDExMTc1Nzgz","number":3660,"title":"Call glFinish right after swap_buffers on X11","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-04-30T06:20:32Z","updated_at":"2022-03-13T22:38:29Z","closed_at":"2020-05-01T20:57:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":51980455,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MDQ1NQ==","name":"alacritty","full_name":"alacritty/alacritty","private":false,"owner":{"login":"alacritty","id":29714349,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI5NzE0MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/29714349?v=4","gravatar_id":"","url":"https://api.github.com/users/alacritty","html_url":"https://github.com/alacritty","followers_url":"https://api.github.com/users/alacritty/followers","following_url":"https://api.github.com/users/alacritty/following{/other_user}","gists_url":"https://api.github.com/users/alacritty/gists{/gist_id}","starred_url":"https://api.github.com/users/alacritty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alacritty/subscriptions","organizations_url":"https://api.github.com/users/alacritty/orgs","repos_url":"https://api.github.com/users/alacritty/repos","events_url":"https://api.github.com/users/alacritty/events{/privacy}","received_events_url":"https://api.github.com/users/alacritty/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/alacritty/alacritty","description":"A cross-platform, OpenGL terminal emulator.","fork":false,"url":"https://api.github.com/repos/alacritty/alacritty","forks_url":"https://api.github.com/repos/alacritty/alacritty/forks","keys_url":"https://api.github.com/repos/alacritty/alacritty/keys{/key_id}","collaborators_url":"https://api.github.com/repos/alacritty/alacritty/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/alacritty/alacritty/teams","hooks_url":"https://api.github.com/repos/alacritty/alacritty/hooks","issue_events_url":"https://api.github.com/repos/alacritty/alacritty/issues/events{/number}","events_url":"https://api.github.com/repos/alacritty/alacritty/events","assignees_url":"https://api.github.com/repos/alacritty/alacritty/assignees{/user}","branches_url":"https://api.github.com/repos/alacritty/alacritty/branches{/branch}","tags_url":"https://api.github.com/repos/alacritty/alacritty/tags","blobs_url":"https://api.github.com/repos/alacritty/alacritty/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/alacritty/alacritty/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/alacritty/alacritty/git/refs{/sha}","trees_url":"https://api.github.com/repos/alacritty/alacritty/git/trees{/sha}","statuses_url":"https://api.github.com/repos/alacritty/alacritty/statuses/{sha}","languages_url":"https://api.github.com/repos/alacritty/alacritty/languages","stargazers_url":"https://api.github.com/repos/alacritty/alacritty/stargazers","contributors_url":"https://api.github.com/repos/alacritty/alacritty/contributors","subscribers_url":"https://api.github.com/repos/alacritty/alacritty/subscribers","subscription_url":"https://api.github.com/repos/alacritty/alacritty/subscription","commits_url":"https://api.github.com/repos/alacritty/alacritty/commits{/sha}","git_commits_url":"https://api.github.com/repos/alacritty/alacritty/git/commits{/sha}","comments_url":"https://api.github.com/repos/alacritty/alacritty/comments{/number}","issue_comment_url":"https://api.github.com/repos/alacritty/alacritty/issues/comments{/number}","contents_url":"https://api.github.com/repos/alacritty/alacritty/contents/{+path}","compare_url":"https://api.github.com/repos/alacritty/alacritty/compare/{base}...{head}","merges_url":"https://api.github.com/repos/alacritty/alacritty/merges","archive_url":"https://api.github.com/repos/alacritty/alacritty/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/alacritty/alacritty/downloads","issues_url":"https://api.github.com/repos/alacritty/alacritty/issues{/number}","pulls_url":"https://api.github.com/repos/alacritty/alacritty/pulls{/number}","milestones_url":"https://api.github.com/repos/alacritty/alacritty/milestones{/number}","notifications_url":"https://api.github.com/repos/alacritty/alacritty/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/alacritty/alacritty/labels{/name}","releases_url":"https://api.github.com/repos/alacritty/alacritty/releases{/id}","deployments_url":"https://api.github.com/repos/alacritty/alacritty/deployments","created_at":"2016-02-18T05:02:30Z","updated_at":"2025-11-09T23:13:38Z","pushed_at":"2025-11-09T09:24:55Z","git_url":"git://github.com/alacritty/alacritty.git","ssh_url":"git@github.com:alacritty/alacritty.git","clone_url":"https://github.com/alacritty/alacritty.git","svn_url":"https://github.com/alacritty/alacritty","homepage":"https://alacritty.org","size":14119,"stargazers_count":60975,"watchers_count":60975,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3227,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":334,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bsd","gpu","linux","macos","opengl","rust","terminal","terminal-emulators","vte","windows"],"visibility":"public","forks":3227,"open_issues":334,"watchers":60975,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/alacritty/alacritty/pulls/3660","html_url":"https://github.com/alacritty/alacritty/pull/3660","diff_url":"https://github.com/alacritty/alacritty/pull/3660.diff","patch_url":"https://github.com/alacritty/alacritty/pull/3660.patch","merged_at":"2020-05-01T20:57:26Z"},"body":"It was find out that on X11 swap_buffers doesn't block with vsync on most\r\nsystems, so the block will be on the next gl command (glClear on the next\r\nevent loop tick for us), which introduces a permament one frame of delay\r\n\r\nFixes #3061.\r\n","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/3660/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3287735848,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzI4NzczNTg0OA==","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3287735848","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-04-30T06:24:07Z","label":{"name":"H - linux","color":"000000"},"performed_via_github_app":null},{"id":3287735851,"node_id":"MDEyOkxhYmVsZWRFdmVudDMyODc3MzU4NTE=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3287735851","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-04-30T06:24:07Z","label":{"name":"DS - X11","color":"63789b"},"performed_via_github_app":null},{"id":3292650672,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMyOTI2NTA2NzI=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3292650672","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"98014c8fc9be6155911edfb65fa09fb20976e6db","commit_url":"https://api.github.com/repos/kchibisov/alacritty/commits/98014c8fc9be6155911edfb65fa09fb20976e6db","created_at":"2020-05-01T09:03:19Z","performed_via_github_app":null},{"id":3294448878,"node_id":"MDExOkNsb3NlZEV2ZW50MzI5NDQ0ODg3OA==","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3294448878","actor":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-05-01T20:57:26Z","state_reason":null,"performed_via_github_app":null},{"id":3294448984,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMyOTQ0NDg5ODQ=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3294448984","actor":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"38d20d0c391c250953ce3c72a35c8d1156f06000","commit_url":"https://api.github.com/repos/alacritty/alacritty/commits/38d20d0c391c250953ce3c72a35c8d1156f06000","created_at":"2020-05-01T20:57:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627531186","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-627531186","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":627531186,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzUzMTE4Ng==","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T18:59:25Z","updated_at":"2020-05-12T18:59:25Z","body":"The issue persists with the latest git (73c7f0c4) [from what I can tell](https://imgur.com/a/IPyrp05). Still happens with both the modesetting and intel DDX driver. And even when the compositor is off so that doesn't seem to be the issue here. Perhaps I should try with other tiling window managers but this is with bspwm.\r\nAny way I could help troubleshoot this?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627531186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627533204","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-627533204","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":627533204,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzUzMzIwNA==","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T19:03:04Z","updated_at":"2020-05-12T19:03:04Z","body":"Oh, now it happens sometimes, weird, since I can't repro it at all anymore on my intel/amdgpu system... However I was testing with i3.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627533204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3328904430,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQzMzI4OTA0NDMw","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3328904430","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2020-05-12T19:03:04Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627535087","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-627535087","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":627535087,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzUzNTA4Nw==","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T19:06:48Z","updated_at":"2020-05-12T19:07:00Z","body":"I'll try to see if it still happens with i3. But other than that, maybe hunting which commit introduced this would help ?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627535087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627537159","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-627537159","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":627537159,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzUzNzE1OQ==","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T19:11:12Z","updated_at":"2020-05-12T19:11:12Z","body":"I know which commit was that, since I've added it originally, the problem is that without it, some users were getting garbage from the GPU on startup or just plain borders on slow hard drives for like 2 seconds. So there're to ways - wait for window to be mapped, figure out how to handle that resize on startup.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627537159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627554029","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-627554029","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":627554029,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzU1NDAyOQ==","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T19:45:15Z","updated_at":"2020-05-12T20:04:28Z","body":"Yep, it's an issue even with [i3](https://imgur.com/a/pdS8nt5) on my end.\r\n\r\nSo if I understand this correctly, this behavior is needed because for some users its either draw nothing / 'garbage from the GPU' on startup, or this where we draw an initial rectangle using the configured column and size. Then, later we just let the WM resize the window to a more appropriate size that it wants (when the window has been \"mapped\")?\r\n\r\nMight just have to live with it then until my WM is ported to wayland somehow :s (it doesn't seem to happen there from my testing).\r\n\r\nIt could also be that the GPU just isn't powerful enough to handle these GPU events anymore, since the HD3000 *is* pretty old. Though that makes me curious if it also happens with even older GPUs. Or at least the generations adjacent to it.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/627554029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629158914","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-629158914","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":629158914,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE1ODkxNA==","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T10:26:14Z","updated_at":"2020-05-15T10:31:20Z","body":"Investigating a bit. It looks like this might be an issue with height and width detection instead of tiling or floating mode detection (because the latter alacritty never actually did).\r\n\r\nIf we look at the logs closely, we see that in v0.3.3 we first obtain estimated values for the dimensions:\r\n```\r\n[2019-12-02 07:34] [DEBUG] Estimated Dimensions: Some((509.0, 305.0))\r\n```\r\nBut later, we grab a more correct value from `viewport`, as we see here:\r\n```\r\n[2019-12-02 07:34] [INFO] Width: 1330, Height: 708\r\n```\r\nThen, that is what we use to draw the window for alacritty at the correct size which the WM had told us.\r\n\r\n\r\nHowever in v0.4.x, things are a bit different.\r\nWe first get an estimated value of the dimensions like before:\r\n```\r\n[2019-12-02 07:33] [DEBUG] Estimated Dimensions: Some((397.0, 235.0))\r\n```\r\nBut by the time we try to grab the more correct values from `viewport`, it returns us the same values we had already estimated from the first run:\r\n```\r\n[2019-12-02 07:33] [INFO] Width: 397, Height: 235\r\n```\r\n\r\nWe know that we cannot rely on having the same values between \"real\" dimensions (from `viewport`) and estimated dimensions. Because as we see in previous versions of alacritty. The values from `viewport` (which I expect is from the WM itself) will usually give us a more correct size.\r\n\r\nWe expect `viewport` to give us these more correct dimensions (`1330.0, 708.0`), just like before. But starting v0.4.x, we somehow get the same `viewport` sizes as we do from its estimated size.\r\n\r\nThis causes the issue that OP describes where when we start alacritty. It starts it at a specific size. The size of which looks suspiciously identical to our \"estimated values\". After this, alacritty says it has finished initialization. But then we see, it actually still has to resize due to the incorrect size values set on startup. This is even visible in the logs:\r\n**v0.4.0**\r\n```\r\n[2019-12-02 07:33] [INFO] PTY Dimensions: Line(15) x Column(51)\r\n[2019-12-02 07:33] [INFO] Initialisation complete\r\n[2019-12-02 07:33] [DEBUG] New num_cols is 184 and num_lines is 51\r\n[2019-12-02 07:33] [INFO] Width: 1330, Height: 708\r\n[2019-12-02 07:33] [INFO] Goodbye\r\n```\r\nversus\r\n**v0.3.3**\r\n```\r\n2019-12-02 07:34] [INFO] PTY Dimensions: Line(38) x Column(142)\r\n[2019-12-02 07:34] [INFO] Initialisation complete\r\n[2019-12-02 07:34] [INFO] Goodbye\r\n```\r\n\r\nI'm not knowledgeable enough in Rust nor the alacritty codebase to tell what could have caused this new behavior. It might be intended behavior, or it might be a bug upstream caused by the upgrade from `winit 0.19.1` to `winit 0.22.0`. In any case, I hope the devs who've made this change could comment.\r\n\r\nLastly, I would add that this issue is likely only visible with older / slower GPUs. Newer and faster GPUs I would expect could draw these resize events fast enough for the issue to be virtually invisible. It can still be traced in the logs though, so I think it still matters even on newer hardware. It could also be the reason why @kchibisov reports his intel/amdgpu systems don't have this issue anymore. But somehow mine still do with the latest git version.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629158914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3340325478,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzM0MDMyNTQ3OA==","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3340325478","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-15T10:26:14Z","performed_via_github_app":null},{"id":3340325484,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzNDAzMjU0ODQ=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3340325484","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-15T10:26:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629161234","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-629161234","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":629161234,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE2MTIzNA==","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T10:31:41Z","updated_at":"2020-05-15T10:31:41Z","body":"I'm not sure what happened to winit from `0.19.1` to `0.22.0` in terms of resize + initial size on X11, since our logic was kept the same. The original commit, that added the behavior of clear is 0815774cbfb9d1421b8077d5d9d641faf5f818c1 , so you can try to test it, since it was before winit update, so it's still old winit.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629161234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629226318","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-629226318","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":629226318,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTIyNjMxOA==","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T13:08:49Z","updated_at":"2020-05-15T13:08:49Z","body":"Will do, thanks!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629226318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629345456","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-629345456","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":629345456,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTM0NTQ1Ng==","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T16:09:41Z","updated_at":"2020-05-17T04:28:58Z","body":"Hi! I tried testing the commit you mentioned. But the solution I came up with is a bit different.\r\n\r\nIt turns out the incorrect size values was caused by the show() call being called way too late in the init process. So the solution is simply to call it earlier in the process so that we can obtain the correct dimensions as before 0815774cbfb9d1421b8077d5d9d641faf5f818c1.\r\n\r\nTo get rid of the issue completely, we need to move the `show()` call back to the Window constructor (if I understand the syntax correctly). So that when we create a new instance of Window, we are immediately given an appropriate size by the WM (as opposed to an estimated one like described in the issue).\r\n\r\nThat said, my testing shows that going this far isn't really going to be needed. As it looks like just moving the `show()` call right before we call `new_glyph_cache()` is enough to get rid of the resize lag.\r\n\r\nSo if you will, this might be a more convenient fix to the issue.\r\n\r\nHere is the patch that moves the call up a bit in the init process: [https://gist.github.com/arvl130/04d0520c4b42a5b4322512b806eb1aa3](https://gist.github.com/arvl130/04d0520c4b42a5b4322512b806eb1aa3)\r\n\r\nIf you are okay with this patch I can create a PR instead. But I'm not sure if this will regress the previous issue you mentioned with hanging (for 2 secs) and getting garbage output from the GPU.\r\n\r\n~~I was only getting them when I tried to remove the `swap_buffers` call past 0815774cbfb9d1421b8077d5d9d641faf5f818c1. So it *might* regress, it might not. I don't seem to be getting them though.~~\r\n\r\n~~Edit: Nevermind, indeed this patch would regress the issue fixed by 0815774cbfb9d1421b8077d5d9d641faf5f818c1 because it requires show() to be called *before* glClear(). I'll have to rework it first.~~","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629345456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629741491","html_url":"https://github.com/alacritty/alacritty/issues/3061#issuecomment-629741491","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/3061","id":629741491,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTc0MTQ5MQ==","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T04:28:30Z","updated_at":"2020-05-17T14:54:45Z","body":"After much testing and tinkering, I've finally pinpointed the issue that's causing this.\r\n\r\n0815774cbfb9d1421b8077d5d9d641faf5f818c1 introduced a fix where we color over portions of the screen during init. So that when we actually show the window, we are immediately given a proper window background, instead of an uninitialized surface.\r\n\r\nThis was done by calling glClear() off-screen. Swap buffers, then only then will we set the window to be visible. The problem with that is that the portion of the screen that glClear() colors is based upon which dimensions it is given at the time it is called.\r\n\r\nIn some X11 WMs, the dimensions for a window while it is hidden will be different, compared to when it is shown.\r\n\r\nThis is why we are getting the issue here, where glClear() colors over portions of the screen it was mapped while it was hidden, but when the window is actually shown, the portion of the screen it has to take over is actually bigger than what had actually been colored.\r\n\r\nThat's why we see [weird rectangles](https://i.imgur.com/HvjiDqh.jpg) during init, like described in OP. glClear() colors over a portion of the screen, but not enough to cover the entire window it is actually mapped to. So the rest remains uninitialized surface.\r\n\r\nThe fix is simply to make sure the right dimensions are detected on init (based on my testing, this is only possible if we call the `set_visible()` function inside the `Window` constructor). Then, call glClear() only right after that.\r\n\r\nSo we still get the intended background coloring by 0815774cbfb9d1421b8077d5d9d641faf5f818c1, but now it gets rendered at the correct size.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/629741491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3344192931,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMzNDQxOTI5MzE=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3344192931","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"18e0d77d79c927e1ef9e80f64a422836ce360448","commit_url":"https://api.github.com/repos/arvl130/alacritty/commits/18e0d77d79c927e1ef9e80f64a422836ce360448","created_at":"2020-05-17T05:12:01Z","performed_via_github_app":null},{"id":3344197543,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMzNDQxOTc1NDM=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3344197543","actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4a3a636306d6fb6e3b1e9c5e3c39638e93ae7dd1","commit_url":"https://api.github.com/repos/arvl130/alacritty/commits/4a3a636306d6fb6e3b1e9c5e3c39638e93ae7dd1","created_at":"2020-05-17T05:20:13Z","performed_via_github_app":null},{"actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T07:52:33Z","updated_at":"2020-05-17T07:52:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3736","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/3736/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/3736/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/3736/events","html_url":"https://github.com/alacritty/alacritty/pull/3736","id":619615440,"node_id":"MDExOlB1bGxSZXF1ZXN0NDE5MDY0MTQw","number":3736,"title":"Perform glClear() on-screen on X11","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2020-05-17T05:34:59Z","updated_at":"2020-05-23T12:21:24Z","closed_at":"2020-05-20T20:49:12Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":51980455,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MDQ1NQ==","name":"alacritty","full_name":"alacritty/alacritty","private":false,"owner":{"login":"alacritty","id":29714349,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI5NzE0MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/29714349?v=4","gravatar_id":"","url":"https://api.github.com/users/alacritty","html_url":"https://github.com/alacritty","followers_url":"https://api.github.com/users/alacritty/followers","following_url":"https://api.github.com/users/alacritty/following{/other_user}","gists_url":"https://api.github.com/users/alacritty/gists{/gist_id}","starred_url":"https://api.github.com/users/alacritty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alacritty/subscriptions","organizations_url":"https://api.github.com/users/alacritty/orgs","repos_url":"https://api.github.com/users/alacritty/repos","events_url":"https://api.github.com/users/alacritty/events{/privacy}","received_events_url":"https://api.github.com/users/alacritty/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/alacritty/alacritty","description":"A cross-platform, OpenGL terminal emulator.","fork":false,"url":"https://api.github.com/repos/alacritty/alacritty","forks_url":"https://api.github.com/repos/alacritty/alacritty/forks","keys_url":"https://api.github.com/repos/alacritty/alacritty/keys{/key_id}","collaborators_url":"https://api.github.com/repos/alacritty/alacritty/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/alacritty/alacritty/teams","hooks_url":"https://api.github.com/repos/alacritty/alacritty/hooks","issue_events_url":"https://api.github.com/repos/alacritty/alacritty/issues/events{/number}","events_url":"https://api.github.com/repos/alacritty/alacritty/events","assignees_url":"https://api.github.com/repos/alacritty/alacritty/assignees{/user}","branches_url":"https://api.github.com/repos/alacritty/alacritty/branches{/branch}","tags_url":"https://api.github.com/repos/alacritty/alacritty/tags","blobs_url":"https://api.github.com/repos/alacritty/alacritty/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/alacritty/alacritty/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/alacritty/alacritty/git/refs{/sha}","trees_url":"https://api.github.com/repos/alacritty/alacritty/git/trees{/sha}","statuses_url":"https://api.github.com/repos/alacritty/alacritty/statuses/{sha}","languages_url":"https://api.github.com/repos/alacritty/alacritty/languages","stargazers_url":"https://api.github.com/repos/alacritty/alacritty/stargazers","contributors_url":"https://api.github.com/repos/alacritty/alacritty/contributors","subscribers_url":"https://api.github.com/repos/alacritty/alacritty/subscribers","subscription_url":"https://api.github.com/repos/alacritty/alacritty/subscription","commits_url":"https://api.github.com/repos/alacritty/alacritty/commits{/sha}","git_commits_url":"https://api.github.com/repos/alacritty/alacritty/git/commits{/sha}","comments_url":"https://api.github.com/repos/alacritty/alacritty/comments{/number}","issue_comment_url":"https://api.github.com/repos/alacritty/alacritty/issues/comments{/number}","contents_url":"https://api.github.com/repos/alacritty/alacritty/contents/{+path}","compare_url":"https://api.github.com/repos/alacritty/alacritty/compare/{base}...{head}","merges_url":"https://api.github.com/repos/alacritty/alacritty/merges","archive_url":"https://api.github.com/repos/alacritty/alacritty/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/alacritty/alacritty/downloads","issues_url":"https://api.github.com/repos/alacritty/alacritty/issues{/number}","pulls_url":"https://api.github.com/repos/alacritty/alacritty/pulls{/number}","milestones_url":"https://api.github.com/repos/alacritty/alacritty/milestones{/number}","notifications_url":"https://api.github.com/repos/alacritty/alacritty/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/alacritty/alacritty/labels{/name}","releases_url":"https://api.github.com/repos/alacritty/alacritty/releases{/id}","deployments_url":"https://api.github.com/repos/alacritty/alacritty/deployments","created_at":"2016-02-18T05:02:30Z","updated_at":"2025-11-09T23:13:38Z","pushed_at":"2025-11-09T09:24:55Z","git_url":"git://github.com/alacritty/alacritty.git","ssh_url":"git@github.com:alacritty/alacritty.git","clone_url":"https://github.com/alacritty/alacritty.git","svn_url":"https://github.com/alacritty/alacritty","homepage":"https://alacritty.org","size":14119,"stargazers_count":60975,"watchers_count":60975,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3227,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":334,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bsd","gpu","linux","macos","opengl","rust","terminal","terminal-emulators","vte","windows"],"visibility":"public","forks":3227,"open_issues":334,"watchers":60975,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/alacritty/alacritty/pulls/3736","html_url":"https://github.com/alacritty/alacritty/pull/3736","diff_url":"https://github.com/alacritty/alacritty/pull/3736.diff","patch_url":"https://github.com/alacritty/alacritty/pull/3736.patch","merged_at":null},"body":"Fixes #3061.\r\n\r\nOn X11, `glClear()` relies on dimensions from the WM to know what portions of the screen it should color on.\r\n\r\nThese dimensions may be different for when the window is shown, and when the window is hidden. But the former tends to be more reliable (this is especially the case on tiling WMs which remap windows after they are shown).\r\n\r\nSo we only call `glClear()` when the window is on-screen.\r\n\r\nThis PR makes Alacritty call `set_visible()` earlier during init on X11 (the same behavior prior to 0815774cbfb9d1421b8077d5d9d641faf5f818c1), because this seems to be the only way I can get the window to init at the correct dimensions.\r\n\r\nOther than that, it also makes Alacritty call `glClear()` earlier on X11 (right after `set_visible()`). This is to avoid having the window from being shown with an uninitialized surface (what 0815774cbfb9d1421b8077d5d9d641faf5f818c1 fixes) during init.\r\n","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/3736/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3371394128,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMzNzEzOTQxMjg=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3371394128","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0c7e1abc3647a7f80abf1f8043fb55e2e17a2793","commit_url":"https://api.github.com/repos/alacritty/alacritty/commits/0c7e1abc3647a7f80abf1f8043fb55e2e17a2793","created_at":"2020-05-25T22:49:06Z","performed_via_github_app":null},{"id":3371470671,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMzNzE0NzA2NzE=","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/3371470671","actor":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a78e6c9cabd21a7d72051e4302522698416b9602","commit_url":"https://api.github.com/repos/alacritty/alacritty/commits/a78e6c9cabd21a7d72051e4302522698416b9602","created_at":"2020-05-26T00:02:23Z","performed_via_github_app":null},{"actor":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T09:18:45Z","updated_at":"2020-05-27T09:18:45Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3776","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/3776/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/3776/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/3776/events","html_url":"https://github.com/alacritty/alacritty/pull/3776","id":625526365,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIzNzIwMjEx","number":3776,"title":"Perform glClear() on-screen on X11","user":{"login":"arvl130","id":59502616,"node_id":"MDQ6VXNlcjU5NTAyNjE2","avatar_url":"https://avatars.githubusercontent.com/u/59502616?v=4","gravatar_id":"","url":"https://api.github.com/users/arvl130","html_url":"https://github.com/arvl130","followers_url":"https://api.github.com/users/arvl130/followers","following_url":"https://api.github.com/users/arvl130/following{/other_user}","gists_url":"https://api.github.com/users/arvl130/gists{/gist_id}","starred_url":"https://api.github.com/users/arvl130/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvl130/subscriptions","organizations_url":"https://api.github.com/users/arvl130/orgs","repos_url":"https://api.github.com/users/arvl130/repos","events_url":"https://api.github.com/users/arvl130/events{/privacy}","received_events_url":"https://api.github.com/users/arvl130/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2020-05-27T09:18:45Z","updated_at":"2020-07-30T07:19:43Z","closed_at":"2020-07-30T07:19:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":51980455,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MDQ1NQ==","name":"alacritty","full_name":"alacritty/alacritty","private":false,"owner":{"login":"alacritty","id":29714349,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI5NzE0MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/29714349?v=4","gravatar_id":"","url":"https://api.github.com/users/alacritty","html_url":"https://github.com/alacritty","followers_url":"https://api.github.com/users/alacritty/followers","following_url":"https://api.github.com/users/alacritty/following{/other_user}","gists_url":"https://api.github.com/users/alacritty/gists{/gist_id}","starred_url":"https://api.github.com/users/alacritty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alacritty/subscriptions","organizations_url":"https://api.github.com/users/alacritty/orgs","repos_url":"https://api.github.com/users/alacritty/repos","events_url":"https://api.github.com/users/alacritty/events{/privacy}","received_events_url":"https://api.github.com/users/alacritty/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/alacritty/alacritty","description":"A cross-platform, OpenGL terminal emulator.","fork":false,"url":"https://api.github.com/repos/alacritty/alacritty","forks_url":"https://api.github.com/repos/alacritty/alacritty/forks","keys_url":"https://api.github.com/repos/alacritty/alacritty/keys{/key_id}","collaborators_url":"https://api.github.com/repos/alacritty/alacritty/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/alacritty/alacritty/teams","hooks_url":"https://api.github.com/repos/alacritty/alacritty/hooks","issue_events_url":"https://api.github.com/repos/alacritty/alacritty/issues/events{/number}","events_url":"https://api.github.com/repos/alacritty/alacritty/events","assignees_url":"https://api.github.com/repos/alacritty/alacritty/assignees{/user}","branches_url":"https://api.github.com/repos/alacritty/alacritty/branches{/branch}","tags_url":"https://api.github.com/repos/alacritty/alacritty/tags","blobs_url":"https://api.github.com/repos/alacritty/alacritty/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/alacritty/alacritty/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/alacritty/alacritty/git/refs{/sha}","trees_url":"https://api.github.com/repos/alacritty/alacritty/git/trees{/sha}","statuses_url":"https://api.github.com/repos/alacritty/alacritty/statuses/{sha}","languages_url":"https://api.github.com/repos/alacritty/alacritty/languages","stargazers_url":"https://api.github.com/repos/alacritty/alacritty/stargazers","contributors_url":"https://api.github.com/repos/alacritty/alacritty/contributors","subscribers_url":"https://api.github.com/repos/alacritty/alacritty/subscribers","subscription_url":"https://api.github.com/repos/alacritty/alacritty/subscription","commits_url":"https://api.github.com/repos/alacritty/alacritty/commits{/sha}","git_commits_url":"https://api.github.com/repos/alacritty/alacritty/git/commits{/sha}","comments_url":"https://api.github.com/repos/alacritty/alacritty/comments{/number}","issue_comment_url":"https://api.github.com/repos/alacritty/alacritty/issues/comments{/number}","contents_url":"https://api.github.com/repos/alacritty/alacritty/contents/{+path}","compare_url":"https://api.github.com/repos/alacritty/alacritty/compare/{base}...{head}","merges_url":"https://api.github.com/repos/alacritty/alacritty/merges","archive_url":"https://api.github.com/repos/alacritty/alacritty/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/alacritty/alacritty/downloads","issues_url":"https://api.github.com/repos/alacritty/alacritty/issues{/number}","pulls_url":"https://api.github.com/repos/alacritty/alacritty/pulls{/number}","milestones_url":"https://api.github.com/repos/alacritty/alacritty/milestones{/number}","notifications_url":"https://api.github.com/repos/alacritty/alacritty/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/alacritty/alacritty/labels{/name}","releases_url":"https://api.github.com/repos/alacritty/alacritty/releases{/id}","deployments_url":"https://api.github.com/repos/alacritty/alacritty/deployments","created_at":"2016-02-18T05:02:30Z","updated_at":"2025-11-09T23:13:38Z","pushed_at":"2025-11-09T09:24:55Z","git_url":"git://github.com/alacritty/alacritty.git","ssh_url":"git@github.com:alacritty/alacritty.git","clone_url":"https://github.com/alacritty/alacritty.git","svn_url":"https://github.com/alacritty/alacritty","homepage":"https://alacritty.org","size":14119,"stargazers_count":60975,"watchers_count":60975,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3227,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":334,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bsd","gpu","linux","macos","opengl","rust","terminal","terminal-emulators","vte","windows"],"visibility":"public","forks":3227,"open_issues":334,"watchers":60975,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/alacritty/alacritty/pulls/3776","html_url":"https://github.com/alacritty/alacritty/pull/3776","diff_url":"https://github.com/alacritty/alacritty/pull/3776.diff","patch_url":"https://github.com/alacritty/alacritty/pull/3776.patch","merged_at":null},"body":"This is my attempt #2 at getting a fix for #3061 merged into upstream. \r\n\r\nThe way we fix it is still the same. So I've chosen to reuse the title. But there's a few differences on how we do things now.\r\n\r\nI don't think it's worth your time me explaining what I changed since then. The only things that should stand out now is that:\r\n\r\n1) We now call `api.clear()` much later in the process (only in X11).\r\n\r\nThe reason for doing this is still as the title implies. Though, the decision to do it this way was based on a suggestion by @kchibisov in the previous thread. It was suggested that calling things nearer to `run_return` might help make the previous fix work better. And in fact, it actually does, with some tweaking. So I'm submitting it here now for further review.\r\n\r\n2) We now do `api.clear()` behind ifs and conditionals.\r\n\r\nThe reason for doing this is to retain our previous behavior in other systems (MacOS, Windows, Unix with Wayland) where this bug doesn't exist. I'm not sure if there are better ways to do this yet. If so, please tell me.\r\n\r\n[This was something I actually also did in my previous PR, but I failed to explain why. Hope that clears it up now why there are new ifs and conditionals everywhere]\r\n\r\nI've done my best to comment on every change I made, but there's probably a few things I still left here and there. If so, kindly please tell me how I could improve on that. Thank you for your time.\r\n\r\n\\[[master](https://i.imgur.com/dspmolA.mp4)\\]\r\n\\[[patched](https://i.imgur.com/lBQZkh8.mp4)\\]","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/3776/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]