{"url":"https://api.github.com/repos/alacritty/alacritty/issues/1258","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/1258/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/1258/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/1258/events","html_url":"https://github.com/alacritty/alacritty/issues/1258","id":316408498,"node_id":"MDU6SXNzdWUzMTY0MDg0OTg=","number":1258,"title":"RFC: Allow overriding config option from the command line","user":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":638282924,"node_id":"MDU6TGFiZWw2MzgyODI5MjQ=","url":"https://api.github.com/repos/alacritty/alacritty/labels/S%20-%20config","name":"S - config","color":"5319e7","default":false,"description":null},{"id":786086088,"node_id":"MDU6TGFiZWw3ODYwODYwODg=","url":"https://api.github.com/repos/alacritty/alacritty/labels/rfc","name":"rfc","color":"b8f754","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-04-20T20:54:14Z","updated_at":"2020-08-22T20:55:28Z","closed_at":"2020-08-22T20:55:28Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Problem\r\nCurrently it is not possible to override certain config flags from the command line. And there are flags that exist in the CLI but not in the config.\r\n\r\nThis is quite inflexible and requires implementing new command line flags separately from new config options.\r\n\r\n### Proposal\r\nTo solve this issue I would like to propose a command line interface which will allow overriding any field of the configuration file. And every command line parameter which might be useful should not be exclusive to the command line but also be an option in the configuration file.\r\n\r\nTo override a single config file field the following syntax could be used:\r\n```bash\r\nalacritty --option \"window.padding.x\" \"5\"\r\n```\r\n\r\nIf overriding multiple fields is desired, this could be done by making use of multiple `--option` parameters like this:\r\n```bash\r\nalacritty --option \"window.padding.x\" \"5\" --option \"window.padding.y\" \"5\"\r\n```\r\n\r\nIf a command line option is specified it should always override the same field in the configuration file.\r\n\r\n### Current CLI Flags\r\nMany of the current CLI flags could be replaced with this system, options like `--live-config-reload` could instead be set using `--option \"live_config_reload\" \"true\"`. This would simplify the CLI a bit.\r\n\r\nThese are the current command line parameters:\r\n```bash\r\nFLAGS:\r\n    -h, --help\r\n        --live-config-reload\r\n        --no-live-config-reload\r\n        --print-events\r\n    -q\r\n        --ref-test\r\n    -v\r\n    -V, --version\r\nOPTIONS:\r\n    -e, --command <command>...\r\n        --config-file <config-file>\r\n    -d, --dimensions <columns> <lines>\r\n    -t, --title <title>\r\n        --working-directory <working-directory>\r\n```\r\n\r\nMaking use of this system they could be reduced to this:\r\n```bash\r\nFLAGS:\r\n    -h, --help\r\n        -̶-̶l̶i̶v̶e̶-̶c̶o̶n̶f̶i̶g̶-̶r̶e̶l̶o̶a̶d̶ -> --option \"live_config_reload\" \"true\"\r\n        -̶-̶n̶o̶-̶l̶i̶v̶e̶-̶c̶o̶n̶f̶i̶g̶-̶r̶e̶l̶o̶a̶d̶ -> --option \"live_config_reload\" \"false\"\r\n        -̶-̶p̶r̶i̶n̶t̶-̶e̶v̶e̶n̶t̶s̶ -> --option \"print_events\" \"true\" [NEW CONFIG OPTION!]\r\n    -̶q̶ -> --option \"verbosity\" \"1-2\" [NEW CONFIG OPTION!]\r\n        --ref-test\r\n    -̶v̶ -> --option \"verbosity\" \"3-5\" [NEW CONFIG OPTION!]\r\n    -V, --version\r\nOPTIONS:\r\n    -e, --command <command>...\r\n        --config-file <config-file>\r\n    -̶d̶,̶ ̶-̶-̶d̶i̶m̶e̶n̶s̶i̶o̶n̶s̶ ̶<̶c̶o̶l̶u̶m̶n̶s̶>̶ ̶<̶l̶i̶n̶e̶s̶>̶ -> --option \"window.dimensions.columns/lines\" \"3\"\r\n    -̶t̶,̶ ̶-̶-̶t̶i̶t̶l̶e̶ ̶<̶t̶i̶t̶l̶e̶>̶ -> --option \"title\" \"Alacritty\" [NEW CONFIG OPTION!]\r\n        -̶-̶w̶o̶r̶k̶i̶n̶g̶-̶d̶i̶r̶e̶c̶t̶o̶r̶y̶ ̶<̶d̶i̶r̶>̶ -> --option \"working_directory\" \"~\" [NEW CONFIG OPTION!]\r\n```\r\n\r\n### Problems\r\nEven though the basic concept of overriding the options in the config file with a command line parameter seems quite sane, there are some issues with moving existing parameters into the config file.\r\n\r\nRemoving options like `-v (verbosity)` would significantly impact the discoverability of these flags because a simple `alacritty --help` would not list them anymore. This could lead to confusion especially if the config file keeps expanding.\r\n\r\nAnother drawback is that the config file already is pretty big, so if an option is not necessary to be set permanently, it probably has no place in the config file. Adding all the flags to the config file as proposed, could introduce a significant amount of bloat that would go completely unused.\r\n\r\n### RFC\r\nThis is just a rough draft based on some ideas discussed in #1255 and other issues which have come up in the past. Please share comments regarding this proposal if you have any.\r\nIf something like this is not desired, feel free to say so @jwilm.","closed_by":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/1258/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/1258/timeline","performed_via_github_app":null,"state_reason":"completed"}