{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3088","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/3088/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/3088/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/3088/events","html_url":"https://github.com/alacritty/alacritty/issues/3088","id":536177133,"node_id":"MDU6SXNzdWU1MzYxNzcxMzM=","number":3088,"title":"Crash on assertion since 36185c47533d6189c9116df7a41a13766ca2b40c","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-12-11T06:50:13Z","updated_at":"2019-12-13T04:17:27Z","closed_at":"2019-12-12T15:02:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I've managed to repro it only with the following thing.\r\n\r\nEnter `tmux`, run `watch -n 1 sensors`, toggle fullscreen, toggle it once again. So it crashes during shrinking.\r\n\r\nBacktrace\r\n```\r\nthread 'main' panicked at 'assertion failed: mid <= self.len()', /rustc/412f43ac5b4ae8c3599e71c6972112e9be4758fa/src/libcore/macros/mod.rs:15:40\r\nstack backtrace:\r\n   0:     0x555881bb5204 - backtrace::backtrace::libunwind::trace::h1702f02e9561de90\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.40/src/backtrace/libunwind.rs:88\r\n   1:     0x555881bb5204 - backtrace::backtrace::trace_unsynchronized::h1c634812fc0220cb\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.40/src/backtrace/mod.rs:66\r\n   2:     0x555881bb5204 - std::sys_common::backtrace::_print_fmt::h9d5a053d21e8c033\r\n                               at src/libstd/sys_common/backtrace.rs:84\r\n   3:     0x555881bb5204 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hc65c735014fa52d2\r\n                               at src/libstd/sys_common/backtrace.rs:61\r\n   4:     0x555881bdc42c - core::fmt::write::h125da652425b39e8\r\n                               at src/libcore/fmt/mod.rs:1030\r\n   5:     0x555881bb1ec7 - std::io::Write::write_fmt::h20322e8675759303\r\n                               at src/libstd/io/mod.rs:1412\r\n   6:     0x555881bb74fe - std::sys_common::backtrace::_print::h56bfd19cdffe3007\r\n                               at src/libstd/sys_common/backtrace.rs:65\r\n   7:     0x555881bb74fe - std::sys_common::backtrace::print::h76b7a0cb6d897cab\r\n                               at src/libstd/sys_common/backtrace.rs:50\r\n   8:     0x555881bb74fe - std::panicking::default_hook::{{closure}}::h7cd2878d4328ecd0\r\n                               at src/libstd/panicking.rs:188\r\n   9:     0x555881bb71f1 - std::panicking::default_hook::hf3eaa2d2726e3f01\r\n                               at src/libstd/panicking.rs:205\r\n  10:     0x555881bb7bfb - std::panicking::rust_panic_with_hook::h5240f420a7eb117e\r\n                               at src/libstd/panicking.rs:464\r\n  11:     0x555881bb779e - std::panicking::continue_panic_fmt::h2c13cd042727582d\r\n                               at src/libstd/panicking.rs:373\r\n  12:     0x555881bb7686 - rust_begin_unwind\r\n                               at src/libstd/panicking.rs:302\r\n  13:     0x555881bd87de - core::panicking::panic_fmt::h57471c12138e404c\r\n                               at src/libcore/panicking.rs:82\r\n  14:     0x555881bd872a - core::panicking::panic::h7404c94bad530272\r\n                               at src/libcore/panicking.rs:50\r\n  15:     0x555880eec48f - core::slice::<impl [T]>::rotate_left::h13f94fd86904cf5d\r\n                               at /rustc/412f43ac5b4ae8c3599e71c6972112e9be4758fa/src/libcore/macros/mod.rs:15\r\n  16:     0x55588106e326 - alacritty_terminal::grid::storage::Storage<T>::truncate::h5508c9038938e6e5\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty/alacritty_terminal/src/grid/storage.rs:178\r\n  17:     0x55588106e1b2 - alacritty_terminal::grid::storage::Storage<T>::drain::h87088e6a5164a5d7\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty/alacritty_terminal/src/grid/storage.rs:270\r\n  18:     0x55588108026a - alacritty_terminal::grid::Grid<T>::shrink_cols::ha34ef8a5338254ad\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty/alacritty_terminal/src/grid/mod.rs:359\r\n  19:     0x555881082240 - alacritty_terminal::grid::Grid<T>::resize::h1a930b03137c2d69\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty/alacritty_terminal/src/grid/mod.rs:237\r\n  20:     0x55588105d995 - alacritty_terminal::term::Term<T>::resize::h7ef294159e3b0d04\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty/alacritty_terminal/src/term/mod.rs:1088\r\n  21:     0x555880f73737 - alacritty::display::Display::handle_update::hd96fbd4d30cae7ed\r\n                               at alacritty/src/display.rs:341\r\n  22:     0x555880ecd106 - alacritty::event::Processor<N>::run::{{closure}}::h21e74911f7b53142\r\n                               at alacritty/src/event.rs:406\r\n  23:     0x55588113d42f - winit::platform_impl::platform::sticky_exit_callback::h471ea39a234a94f3\r\n                               at /home/kchibisov/.cargo/git/checkouts/winit-c2fdb27092aba5a7/1a514df/src/platform_impl/linux/mod.rs:693\r\n  24:     0x555881070904 - winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::run_return::h6bad7188bee3c1f7\r\n                               at /home/kchibisov/.cargo/git/checkouts/winit-c2fdb27092aba5a7/1a514df/src/platform_impl/linux/wayland/event_loop.rs:522\r\n  25:     0x55588113c73d - winit::platform_impl::platform::EventLoop<T>::run_return::h13f7b604448cc640\r\n                               at /home/kchibisov/.cargo/git/checkouts/winit-c2fdb27092aba5a7/1a514df/src/platform_impl/linux/mod.rs:629\r\n  26:     0x555880ff2f25 - <winit::event_loop::EventLoop<T> as winit::platform::desktop::EventLoopExtDesktop>::run_return::he973a4d82bc8cf23\r\n                               at /home/kchibisov/.cargo/git/checkouts/winit-c2fdb27092aba5a7/1a514df/src/platform/desktop.rs:43\r\n  27:     0x555880ecc78b - alacritty::event::Processor<N>::run::h0e9448c5bab1a9c1\r\n                               at alacritty/src/event.rs:350\r\n  28:     0x555880f7a7df - alacritty::run::hb8ec30082b1f608e\r\n                               at alacritty/src/main.rs:223\r\n  29:     0x555880f7922d - alacritty::main::h0c04137696c12767\r\n                               at alacritty/src/main.rs:114\r\n  30:     0x5558810a1260 - std::rt::lang_start::{{closure}}::h3036f85b091705eb\r\n                               at /rustc/412f43ac5b4ae8c3599e71c6972112e9be4758fa/src/libstd/rt.rs:61\r\n  31:     0x555881bb7623 - std::rt::lang_start_internal::{{closure}}::h16dc1ac2088d9f7a\r\n                               at src/libstd/rt.rs:48\r\n  32:     0x555881bb7623 - std::panicking::try::do_call::h0ce6ab68fad638ec\r\n                               at src/libstd/panicking.rs:287\r\n  33:     0x555881bc01ca - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:81\r\n  34:     0x555881bb80dd - std::panicking::try::hc9afc7e8c88da3b3\r\n                               at src/libstd/panicking.rs:265\r\n  35:     0x555881bb80dd - std::panic::catch_unwind::hda5772ede2be7694\r\n                               at src/libstd/panic.rs:395\r\n  36:     0x555881bb80dd - std::rt::lang_start_internal::h5c5e596798427697\r\n                               at src/libstd/rt.rs:47\r\n  37:     0x5558810a1239 - std::rt::lang_start::h91350cc24be06879\r\n                               at /rustc/412f43ac5b4ae8c3599e71c6972112e9be4758fa/src/libstd/rt.rs:61\r\n  38:     0x555880f7ad6a - main\r\n  39:     0x7f1fee29ff1b - __libc_start_main\r\n  40:     0x555880e4d1aa - _start\r\n  41:                0x0 - <unknown>\r\n\r\n```\r\n","closed_by":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3088/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/3088/timeline","performed_via_github_app":null,"state_reason":"completed"}