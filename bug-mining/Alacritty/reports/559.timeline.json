[{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1834692601","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1834692601","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1834692601,"node_id":"IC_kwDOAxkop85tWy_5","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T23:01:09Z","updated_at":"2023-11-30T23:01:09Z","body":"mesa bugs belong to mesa. r300 has 64 ALU and we work with it, we won't go below.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1834692601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11114936747,"node_id":"CE_lADOAxkop854YUQYzwAAAAKWgHmr","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/11114936747","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-11-30T23:01:09Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1834698837","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1834698837","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1834698837,"node_id":"IC_kwDOAxkop85tW0hV","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T23:07:53Z","updated_at":"2023-11-30T23:09:53Z","body":"Does this fix ALU issue?\r\n\r\n```diff\r\ndiff --git a/alacritty/res/rect.f.glsl b/alacritty/res/rect.f.glsl\r\nindex 9951861f..cd28368e 100644\r\n--- a/alacritty/res/rect.f.glsl\r\n+++ b/alacritty/res/rect.f.glsl\r\n@@ -26,7 +26,7 @@ uniform float_t underlineThickness;\r\n \r\n uniform float_t undercurlPosition;\r\n \r\n-#define PI 3.1415926538\r\n+#define PI_2 6.283185307179586\r\n \r\n #if defined(DRAW_UNDERCURL)\r\n color_t draw_undercurl(float_t x, float_t y) {\r\n@@ -35,11 +35,12 @@ color_t draw_undercurl(float_t x, float_t y) {\r\n   //\r\n   // The `x` represents the left bound of pixel we should add `1/2` to it, so\r\n   // we compute the undercurl position for the center of the pixel.\r\n-  float_t undercurl = undercurlPosition / 2. * cos((x + 0.5) * 2.\r\n-                    * PI / cellWidth) + undercurlPosition - 1.;\r\n+  float_t undercurl = undercurlPosition / 2. * cos((x + 0.5)\r\n+                    * PI_2 / cellWidth) + undercurlPosition - 1.;\r\n \r\n-  float_t undercurlTop = undercurl + max((underlineThickness - 1.), 0.) / 2.;\r\n-  float_t undercurlBottom = undercurl - max((underlineThickness - 1.), 0.) / 2.;\r\n+  float_t thickness = max((underlineThickness - 1.), 0.) / 2.;\r\n+  float_t undercurlTop = undercurl + thickness;\r\n+  float_t undercurlBottom = undercurl - thickness;\r\n \r\n   // Compute resulted alpha based on distance from `gl_FragCoord.y` to the\r\n   // cosine curve.\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1834698837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835004632","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1835004632","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1835004632,"node_id":"IC_kwDOAxkop85tX_LY","user":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T00:12:16Z","updated_at":"2023-12-01T00:13:19Z","body":"Doesn't seem so:\r\n\r\n```\r\nCreated log file at \"/tmp/Alacritty-11918.log\"\r\n[0.000025632s] [INFO ] [alacritty] Welcome to Alacritty\r\n[0.000297248s] [INFO ] [alacritty] Version 0.13.0-dev (28d913cf)\r\n[0.000395725s] [INFO ] [alacritty] Running on X11\r\n[0.000801508s] [WARN ] [alacritty] YAML config \"/home/hexwell/.config/alacritty/alacritty.yml\" is deprecated, please migrate to TOML using `alacritty migrate`\r\n[0.003835447s] [INFO ] [alacritty] Configuration files loaded from:\r\n                                     \"/home/hexwell/.config/alacritty/alacritty.yml\"\r\n[0.228475649s] [INFO ] [alacritty] Using GLX 1.4\r\n[0.253845847s] [INFO ] [alacritty] Window scale factor: 1.25\r\n[0.430889735s] [INFO ] [alacritty] Running on i915 (chipset: Pineview M)\r\n[0.431005114s] [INFO ] [alacritty] OpenGL version OpenGL ES 2.0 Mesa 24.0.0-devel (git-bae7538a02), shader_version OpenGL ES GLSL ES 1.0.16\r\n[0.431102893s] [INFO ] [alacritty] Using OpenGL ES 2.0 renderer\r\n[0.431415995s] [INFO ] [alacritty] Running on OpenGL ES context\r\n[0.616539073s] [INFO ] [alacritty] Goodbye\r\nDeleted log file at \"/tmp/Alacritty-11918.log\"\r\nError: Render(Shader(Link(\"error: Exceeded max ALU instructions (68/64)\")))\r\n```\r\n\r\nI tested by cloning, applying patch and compiling with:\r\n\r\n```bash\r\ncargo build --release\r\n```\r\n\r\nand executing the binary in `target/release` from the mesa devenv.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835004632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835062334","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1835062334","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1835062334,"node_id":"IC_kwDOAxkop85tYNQ-","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T00:22:45Z","updated_at":"2023-12-01T00:22:45Z","body":"yeah, it was a basic check on whether compiler is bad or not for i915. I can't make shader simpler, sorry, it's already has like nothing in it. You can try doing so and keep the same functionality, but I'm not going to spend time on it, given that it works on r300, and i915 is legacy platform in amber.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835062334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835064950","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1835064950","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1835064950,"node_id":"IC_kwDOAxkop85tYN52","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T00:23:15Z","updated_at":"2023-12-01T00:23:15Z","body":"Be aware that it's all `cfg` guarded, so this function is like the only place to touch.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835064950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835122851","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1835122851","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1835122851,"node_id":"IC_kwDOAxkop85tYcCj","user":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T00:35:45Z","updated_at":"2023-12-01T00:35:45Z","body":"Understood, thank you for trying anyways. Appreciate it and love the project!\r\n\r\nMaybe if the mesa bug can be fixed it will work again.\r\n\r\nOtherwise I might try editing the shader myself. I have a lot to learn but I may try\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835122851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835213189","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1835213189","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1835213189,"node_id":"IC_kwDOAxkop85tYyGF","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T00:58:20Z","updated_at":"2023-12-01T00:58:20Z","body":"I mean it fits on r300 into 64 :p it's just probably cos stuff or mul stuff.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835213189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835243354","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1835243354","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1835243354,"node_id":"IC_kwDOAxkop85tY5da","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T01:14:08Z","updated_at":"2023-12-01T01:14:08Z","body":"btw, if there will be a linking error we could probably just use other shader, but in the meantime I don't think there's a linking error.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835243354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835534088","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1835534088","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1835534088,"node_id":"IC_kwDOAxkop85taAcI","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T06:21:14Z","updated_at":"2023-12-01T06:27:11Z","body":"Could you try this\r\n\r\n```diff\r\ndiff --git a/alacritty/res/rect.f.glsl b/alacritty/res/rect.f.glsl\r\nindex 9951861f..1d773f71 100644\r\n--- a/alacritty/res/rect.f.glsl\r\n+++ b/alacritty/res/rect.f.glsl\r\n@@ -43,14 +43,12 @@ color_t draw_undercurl(float_t x, float_t y) {\r\n \r\n   // Compute resulted alpha based on distance from `gl_FragCoord.y` to the\r\n   // cosine curve.\r\n-  float_t alpha = 1.;\r\n-  if (y > undercurlTop || y < undercurlBottom) {\r\n-    // Doing proper SDF is complicated for this shader, so just make AA\r\n-    // stronger by 1/x^2, which renders preserving underline thickness and\r\n-    // being bold enough.\r\n-    float_t dst = min(abs(undercurlTop - y), abs(undercurlBottom - y));\r\n-    alpha -= dst * dst;\r\n-  }\r\n+\r\n+  // Doing proper SDF is complicated for this shader, so just make AA\r\n+  // stronger by 1/x^2, which renders preserving underline thickness and\r\n+  // being bold enough.\r\n+  float_t dst = max(y - undercurlTop, max(undercurlBottom - y, 0.));\r\n+  alpha = 1. - dst * dst;\r\n \r\n   // The result is an alpha mask on a rect, which leaves only curve opaque.\r\n   return vec4(color.rgb, alpha);\r\n\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1835534088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836279909","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836279909","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836279909,"node_id":"IC_kwDOAxkop85tc2hl","user":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T15:09:56Z","updated_at":"2023-12-01T15:09:56Z","body":"Still `Exceeded max ALU instructions (68/64)` :/\r\n\r\n(Note: the type float_t of alpha variable was missing so I added it)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836279909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836289364","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836289364","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836289364,"node_id":"IC_kwDOAxkop85tc41U","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T15:16:14Z","updated_at":"2023-12-01T15:16:14Z","body":"Ah, so I think mesa changed shader compiler and I just thought that it's this function, since I changed it recently. Could you check which shader actually fails to compile (you can add `unwrap`). I think it's the `dotted` one.\r\n\r\nhttps://github.com/alacritty/alacritty/blob/master/alacritty/src/renderer/rects.rs#L264\r\n\r\nYou can add `.unwrap` instead of `?` to these lines and see which one fails.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836289364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836289691","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836289691","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836289691,"node_id":"IC_kwDOAxkop85tc46b","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T15:16:26Z","updated_at":"2023-12-01T15:16:26Z","body":"You also don't need `release` build for any of that, debug is more than enough.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836289691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836404942","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836404942","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836404942,"node_id":"IC_kwDOAxkop85tdVDO","user":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T16:21:50Z","updated_at":"2023-12-01T16:21:50Z","body":"Yes it's dotted","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836404942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836437358","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836437358","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836437358,"node_id":"IC_kwDOAxkop85tdc9u","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T16:40:39Z","updated_at":"2023-12-01T16:40:39Z","body":"yeah, i'll try something with it and go back to you.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836437358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836484515","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836484515","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836484515,"node_id":"IC_kwDOAxkop85tdoej","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T17:14:10Z","updated_at":"2023-12-01T17:14:10Z","body":"Could you try this \r\n\r\n```diff\r\ndiff --git a/alacritty/res/rect.f.glsl b/alacritty/res/rect.f.glsl\r\nindex 9951861f..19ff3e0a 100644\r\n--- a/alacritty/res/rect.f.glsl\r\n+++ b/alacritty/res/rect.f.glsl\r\n@@ -63,14 +63,14 @@ color_t draw_undercurl(float_t x, float_t y) {\r\n color_t draw_dotted_aliased(float_t x, float_t y) {\r\n   float_t dotNumber = floor(x / underlineThickness);\r\n \r\n-  float_t radius = underlineThickness / 2.;\r\n+  float_t radius  = underlineThickness / 2.;\r\n   float_t centerY = underlinePosition - 1.;\r\n \r\n-  float_t leftCenter = (dotNumber - mod(dotNumber, 2.)) * underlineThickness + radius;\r\n+  float_t leftCenter  = (dotNumber - mod(dotNumber, 2.)) * underlineThickness + radius;\r\n   float_t rightCenter = leftCenter + 2. * underlineThickness;\r\n \r\n-  float_t distanceLeft = sqrt(pow(x - leftCenter, 2.) + pow(y - centerY, 2.));\r\n-  float_t distanceRight = sqrt(pow(x - rightCenter, 2.) + pow(y - centerY, 2.));\r\n+  float_t distanceLeft  = distance(vec2(x, y), vec2(leftCenter, centerY));\r\n+  float_t distanceRight = distance(vec2(x, y), vec2(rightCenter, centerY));\r\n \r\n   float_t alpha = max(1. - (min(distanceLeft, distanceRight) - radius), 0.);\r\n   return vec4(color.rgb, alpha);\r\n@@ -78,16 +78,12 @@ color_t draw_dotted_aliased(float_t x, float_t y) {\r\n \r\n /// Draw dotted line when dot is just a single pixel.\r\n color_t draw_dotted(float_t x, float_t y) {\r\n-  float_t cellEven = 0.;\r\n-\r\n   // Since the size of the dot and its gap combined is 2px we should ensure that\r\n   // spacing will be even. If the cellWidth is even it'll work since we start\r\n   // with dot and end with gap. However if cellWidth is odd, the cell will start\r\n   // and end with a dot, creating a dash. To resolve this issue, we invert the\r\n   // pattern every two cells.\r\n-  if (int(mod(cellWidth, 2.)) != 0) {\r\n-    cellEven = mod((gl_FragCoord.x - paddingX) / cellWidth, 2.);\r\n-  }\r\n+  float_t cellEven = mod((gl_FragCoord.x - paddingX) / cellWidth, 2.) * mod(cellWidth, 2.);\r\n \r\n   // Since we use the entire descent area for dotted underlines, we limit its\r\n   // height to a single pixel so we don't draw bars instead of dots.\r\n\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836484515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836546461","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836546461","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836546461,"node_id":"IC_kwDOAxkop85td3md","user":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T17:59:31Z","updated_at":"2023-12-01T17:59:31Z","body":"Still getting `Exceeded max ALU instructions (68/64)` from dotted","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836546461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836562446","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836562446","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836562446,"node_id":"IC_kwDOAxkop85td7gO","user":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T18:11:31Z","updated_at":"2023-12-01T18:24:59Z","body":"Ok it's the second if in the draw_dotted function (single pixel).\r\nI removed it and it works.\r\n\r\nI'll look at what you changed in draw_dotted_aliased and try to do the same","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836562446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836616548","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836616548","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836616548,"node_id":"IC_kwDOAxkop85teItk","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T18:53:21Z","updated_at":"2023-12-01T18:53:21Z","body":"See https://github.com/alacritty/alacritty/pull/7408","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836616548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836675094","html_url":"https://github.com/alacritty/alacritty/issues/7404#issuecomment-1836675094","issue_url":"https://api.github.com/repos/alacritty/alacritty/issues/7404","id":1836675094,"node_id":"IC_kwDOAxkop85teXAW","user":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T19:44:30Z","updated_at":"2023-12-01T19:44:30Z","body":"Nice the change works!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/comments/1836675094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hexwell","id":10564016,"node_id":"MDQ6VXNlcjEwNTY0MDE2","avatar_url":"https://avatars.githubusercontent.com/u/10564016?v=4","gravatar_id":"","url":"https://api.github.com/users/hexwell","html_url":"https://github.com/hexwell","followers_url":"https://api.github.com/users/hexwell/followers","following_url":"https://api.github.com/users/hexwell/following{/other_user}","gists_url":"https://api.github.com/users/hexwell/gists{/gist_id}","starred_url":"https://api.github.com/users/hexwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexwell/subscriptions","organizations_url":"https://api.github.com/users/hexwell/orgs","repos_url":"https://api.github.com/users/hexwell/repos","events_url":"https://api.github.com/users/hexwell/events{/privacy}","received_events_url":"https://api.github.com/users/hexwell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11127433225,"node_id":"REFE_lADOAxkop854YUQYzwAAAAKXPygJ","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/11127433225","actor":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"28364792b3a7d0982eb7759bae0c9b3773c48518","commit_url":"https://api.github.com/repos/alacritty/alacritty/commits/28364792b3a7d0982eb7759bae0c9b3773c48518","created_at":"2023-12-01T23:52:54Z","performed_via_github_app":null},{"id":12920478213,"node_id":"REFE_lADOAxkop854YUQYzwAAAAMCHtoF","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/12920478213","actor":{"login":"xiaogaozi","id":149645,"node_id":"MDQ6VXNlcjE0OTY0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/149645?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaogaozi","html_url":"https://github.com/xiaogaozi","followers_url":"https://api.github.com/users/xiaogaozi/followers","following_url":"https://api.github.com/users/xiaogaozi/following{/other_user}","gists_url":"https://api.github.com/users/xiaogaozi/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaogaozi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaogaozi/subscriptions","organizations_url":"https://api.github.com/users/xiaogaozi/orgs","repos_url":"https://api.github.com/users/xiaogaozi/repos","events_url":"https://api.github.com/users/xiaogaozi/events{/privacy}","received_events_url":"https://api.github.com/users/xiaogaozi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e93c99087bfbb269a8a1aade111e37f629f6dbe7","commit_url":"https://api.github.com/repos/xiaogaozi/alacritty/commits/e93c99087bfbb269a8a1aade111e37f629f6dbe7","created_at":"2024-05-24T07:38:56Z","performed_via_github_app":null},{"id":14801212722,"node_id":"REFE_lADOAxkop854YUQYzwAAAANyOJUy","url":"https://api.github.com/repos/alacritty/alacritty/issues/events/14801212722","actor":{"login":"xiaogaozi","id":149645,"node_id":"MDQ6VXNlcjE0OTY0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/149645?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaogaozi","html_url":"https://github.com/xiaogaozi","followers_url":"https://api.github.com/users/xiaogaozi/followers","following_url":"https://api.github.com/users/xiaogaozi/following{/other_user}","gists_url":"https://api.github.com/users/xiaogaozi/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaogaozi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaogaozi/subscriptions","organizations_url":"https://api.github.com/users/xiaogaozi/orgs","repos_url":"https://api.github.com/users/xiaogaozi/repos","events_url":"https://api.github.com/users/xiaogaozi/events{/privacy}","received_events_url":"https://api.github.com/users/xiaogaozi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"88da78c7b9fab84a3da51a9e36d21457bd24d4c3","commit_url":"https://api.github.com/repos/xiaogaozi/alacritty/commits/88da78c7b9fab84a3da51a9e36d21457bd24d4c3","created_at":"2024-10-23T05:19:06Z","performed_via_github_app":null}]