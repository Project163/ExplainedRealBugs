{"url":"https://api.github.com/repos/alacritty/alacritty/issues/25","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/25/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/25/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/25/events","html_url":"https://github.com/alacritty/alacritty/issues/25","id":194770338,"node_id":"MDU6SXNzdWUxOTQ3NzAzMzg=","number":25,"title":"`C-c` panic in fish shell","user":{"login":"quininer","id":6286761,"node_id":"MDQ6VXNlcjYyODY3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/6286761?v=4","gravatar_id":"","url":"https://api.github.com/users/quininer","html_url":"https://github.com/quininer","followers_url":"https://api.github.com/users/quininer/followers","following_url":"https://api.github.com/users/quininer/following{/other_user}","gists_url":"https://api.github.com/users/quininer/gists{/gist_id}","starred_url":"https://api.github.com/users/quininer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quininer/subscriptions","organizations_url":"https://api.github.com/users/quininer/orgs","repos_url":"https://api.github.com/users/quininer/repos","events_url":"https://api.github.com/users/quininer/events{/privacy}","received_events_url":"https://api.github.com/users/quininer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-12-10T14:17:23Z","updated_at":"2016-12-15T17:28:36Z","closed_at":"2016-12-15T17:18:45Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Reproducing step:\r\n\r\n0. open `alacritty` and `fish`\r\n1. `a`\r\n2. `C-c`\r\n\r\nlog:\r\n\r\n```[I] ➜  alacritty git:(master) ✗ cargo run\r\n    Finished debug [unoptimized + debuginfo] target(s) in 0.1 secs\r\n     Running `target/debug/alacritty`\r\ndevice_pixel_ratio: 1\r\nwidth: 1024, height: 768\r\nInitializing glyph cache\r\nFinished initializing glyph cache in 0.124546754\r\nset_inner_size: 804 x 604\r\nset_inner_size: 804 x 604; pts: 804 x 604\r\nwidth: 804, height: 604\r\nCell Size: (10 x 25)\r\nnum_cols, num_lines = Column(80), Line(24)\r\nnum_cols, num_lines = Column(102), Line(30)\r\nwidth: 1024, height: 768\r\nnum_cols, num_lines = Column(80), Line(24)\r\nwidth: 804, height: 604\r\n[unhandled osc_start]\r\n[unhandled osc_put] byte='5'\r\n[unhandled osc_put] byte='0'\r\n[unhandled osc_put] byte=';'\r\n[unhandled osc_put] byte='C'\r\n[unhandled osc_put] byte='u'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='o'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='S'\r\n[unhandled osc_put] byte='h'\r\n[unhandled osc_put] byte='a'\r\n[unhandled osc_put] byte='p'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='='\r\n[unhandled osc_put] byte='0'\r\n[unhandled osc_end] byte=0\r\n[unhandled osc_start]\r\n[unhandled osc_put] byte='0'\r\n[unhandled osc_put] byte=';'\r\n[unhandled osc_put] byte='f'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='h'\r\n[unhandled osc_put] byte=' '\r\n[unhandled osc_put] byte=' '\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='h'\r\n[unhandled osc_put] byte='o'\r\n[unhandled osc_put] byte='m'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='q'\r\n[unhandled osc_put] byte='u'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='n'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='n'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='t'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='t'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='u'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='a'\r\n[unhandled osc_put] byte='l'\r\n[unhandled osc_put] byte='a'\r\n[unhandled osc_put] byte='c'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='t'\r\n[unhandled osc_put] byte='t'\r\n[unhandled osc_put] byte='y'\r\n[unhandled osc_end] byte=0\r\nSet Attribute: Foreground(Black)\r\n[unhandled] esc_dispatch params=[], ints=[40], byte='B' (42)\r\nSet Attribute: Reset\r\ncarriage_return\r\nlinefeed\r\nSet Attribute: Foreground(Green)\r\nSet Attribute: Foreground(Black)\r\nSet Attribute: Reset\r\n[Unhandled CSI] action='m', args=[0, 10], intermediates=[]\r\ncarriage_return\r\nlinefeed\r\n[unhandled osc_start]\r\n[unhandled osc_put] byte='5'\r\n[unhandled osc_put] byte='0'\r\n[unhandled osc_put] byte=';'\r\n[unhandled osc_put] byte='C'\r\n[unhandled osc_put] byte='u'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='o'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='S'\r\n[unhandled osc_put] byte='h'\r\n[unhandled osc_put] byte='a'\r\n[unhandled osc_put] byte='p'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='='\r\n[unhandled osc_put] byte='0'\r\n[unhandled osc_end] byte=0\r\n[unhandled osc_start]\r\n[unhandled osc_put] byte='5'\r\n[unhandled osc_put] byte='0'\r\n[unhandled osc_put] byte=';'\r\n[unhandled osc_put] byte='C'\r\n[unhandled osc_put] byte='u'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='o'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='S'\r\n[unhandled osc_put] byte='h'\r\n[unhandled osc_put] byte='a'\r\n[unhandled osc_put] byte='p'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='='\r\n[unhandled osc_put] byte='0'\r\n[unhandled osc_end] byte=0\r\n[unhandled osc_start]\r\n[unhandled osc_put] byte='0'\r\n[unhandled osc_put] byte=';'\r\n[unhandled osc_put] byte='f'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='h'\r\n[unhandled osc_put] byte=' '\r\n[unhandled osc_put] byte=' '\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='h'\r\n[unhandled osc_put] byte='o'\r\n[unhandled osc_put] byte='m'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='q'\r\n[unhandled osc_put] byte='u'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='n'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='n'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='t'\r\n[unhandled osc_put] byte='e'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='t'\r\n[unhandled osc_put] byte='s'\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='u'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='/'\r\n[unhandled osc_put] byte='a'\r\n[unhandled osc_put] byte='l'\r\n[unhandled osc_put] byte='a'\r\n[unhandled osc_put] byte='c'\r\n[unhandled osc_put] byte='r'\r\n[unhandled osc_put] byte='i'\r\n[unhandled osc_put] byte='t'\r\n[unhandled osc_put] byte='t'\r\n[unhandled osc_put] byte='y'\r\n[unhandled osc_end] byte=0\r\nSet Attribute: Foreground(Black)\r\n[unhandled] esc_dispatch params=[], ints=[40], byte='B' (42)\r\nSet Attribute: Reset\r\nSet Attribute: Dim\r\nTerm got unhandled attr: Dim\r\n[unhandled] esc_dispatch params=[], ints=[40], byte='B' (42)\r\nSet Attribute: Reset\r\ncarriage_return\r\ncarriage_return\r\nclear_line: All\r\nSet Attribute: Bold\r\nSet Attribute: Foreground(White)\r\nSet Attribute: Background(Green)\r\nSet Attribute: Foreground(Black)\r\n[unhandled] esc_dispatch params=[], ints=[40], byte='B' (42)\r\nSet Attribute: Reset\r\nSet Attribute: Bold\r\nSet Attribute: Foreground(Green)\r\nSet Attribute: Bold\r\nSet Attribute: Foreground(Cyan)\r\nSet Attribute: Bold\r\nSet Attribute: Foreground(Blue)\r\nSet Attribute: Bold\r\nSet Attribute: Foreground(Red)\r\nSet Attribute: Bold\r\nSet Attribute: Foreground(Blue)\r\nSet Attribute: Bold\r\nSet Attribute: Foreground(Yellow)\r\nSet Attribute: Foreground(Black)\r\n[unhandled] esc_dispatch params=[], ints=[40], byte='B' (42)\r\nSet Attribute: Reset\r\nclear_line: Right\r\nbackspace\r\nSet Attribute: Foreground(Red)\r\nSet Attribute: Bold\r\n[unhandled] esc_dispatch params=[], ints=[40], byte='B' (42)\r\nSet Attribute: Reset\r\nSet Attribute: ForegroundSpec(Rgb { r: 85, g: 85, b: 85 })\r\nmove_backward: Column(9)\r\nSet Attribute: Foreground(Black)\r\n[unhandled] esc_dispatch params=[], ints=[40], byte='B' (42)\r\nSet Attribute: Reset\r\nSet Attribute: Reverse\r\nSet Attribute: CancelReverse\r\nclear_line: Right\r\ncarriage_return\r\nlinefeed\r\nbackspace\r\nthread 'pty reader' panicked at 'attempt to subtract with overflow', src/index.rs:251\r\nstack backtrace:\r\n   1:     0x563ad40383aa - std::sys::imp::backtrace::tracing::imp::write::hbea47d9dd19b523c\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:42\r\n   2:     0x563ad403d9af - std::panicking::default_hook::{{closure}}::h6875a2976258b020\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:247\r\n   3:     0x563ad403d5ae - std::panicking::default_hook::h88ffbc5922643264\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:263\r\n   4:     0x563ad403de57 - std::panicking::rust_panic_with_hook::hc790e47d4ecc86cd\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:451\r\n   5:     0x563ad403dce4 - std::panicking::begin_panic::hc066339e2fdc17d1\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:413\r\n   6:     0x563ad403dc09 - std::panicking::begin_panic_fmt::h5912b2d2df332044\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:397\r\n   7:     0x563ad403db97 - rust_begin_unwind\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:373\r\n   8:     0x563ad407a53d - core::panicking::panic_fmt::h561c5ee168a3d2cb\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libcore/panicking.rs:69\r\n   9:     0x563ad407a474 - core::panicking::panic::h194ce5d68a8f28a1\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libcore/panicking.rs:49\r\n  10:     0x563ad3cd1c36 - <alacritty::index::Column as core::ops::SubAssign<usize>>::sub_assign::h0d91353cd4e41af1\r\n                        at /home/quininer/tests/ui/alacritty/src/index.rs:251\r\n  11:     0x563ad3cbee0a - <alacritty::term::Term as alacritty::ansi::Handler>::backspace::h0f69366576cc537e\r\n                        at /home/quininer/tests/ui/alacritty/src/term.rs:573\r\n  12:     0x563ad3cd7322 - <alacritty::ansi::Performer<'a, H> as vte::Perform>::execute::h13c990c23c2f5e84\r\n                        at /home/quininer/tests/ui/alacritty/src/ansi.rs:403\r\n  13:     0x563ad3c5d2d8 - vte::Parser::perform_action::h8e9207d2609e34af\r\n                        at /home/quininer/.cargo/registry/src/github.com-1ecc6299db9ec823/vte-0.1.2/src/lib.rs:190\r\n  14:     0x563ad3c5d8fe - vte::Parser::perform_state_change::h9a56f079e43e56e3\r\n                        at /home/quininer/.cargo/registry/src/github.com-1ecc6299db9ec823/vte-0.1.2/src/lib.rs:167\r\n  15:     0x563ad3c5dc74 - vte::Parser::advance::he199b620df8be155\r\n                        at /home/quininer/.cargo/registry/src/github.com-1ecc6299db9ec823/vte-0.1.2/src/lib.rs:137\r\n  16:     0x563ad3d14bcc - alacritty::ansi::Processor::advance::hef377be56860e454\r\n                        at /home/quininer/tests/ui/alacritty/src/ansi.rs:81\r\n  17:     0x563ad3cac8fe - <alacritty::event_loop::EventLoop<Io>>::pty_read::h1fd65b9f29f2a13b\r\n                        at /home/quininer/tests/ui/alacritty/src/event_loop.rs:192\r\n  18:     0x563ad3cac098 - <alacritty::event_loop::EventLoop<Io>>::spawn::{{closure}}::h0bb425cd2fe8582f\r\n                        at /home/quininer/tests/ui/alacritty/src/event_loop.rs:281\r\n  19:     0x563ad3cdf804 - <std::panic::AssertUnwindSafe<F> as core::ops::FnOnce<()>>::call_once::heccf5411cd66eb39\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panic.rs:295\r\n  20:     0x563ad3c5cf7f - std::panicking::try::do_call::h546e5663bd72af75\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:356\r\n  21:     0x563ad40468ba - __rust_maybe_catch_panic\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libpanic_unwind/lib.rs:97\r\n  22:     0x563ad3c5c7db - std::panicking::try::h2364aec27ae8e5f6\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:332\r\n  23:     0x563ad3c5a9e4 - std::panic::catch_unwind::ha436adb5d97f012c\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panic.rs:351\r\n  24:     0x563ad3c5c34c - std::thread::Builder::spawn::{{closure}}::h9d2c7b9b28783ee1\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/thread/mod.rs:287\r\n  25:     0x563ad3ca46e9 - <F as alloc::boxed::FnBox<A>>::call_box::hbd32ccd14fb32e99\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/liballoc/boxed.rs:595\r\n  26:     0x563ad403cca4 - std::sys::imp::thread::Thread::new::thread_start::h8084b1107992ae5b\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/liballoc/boxed.rs:605\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/sys_common/thread.rs:21\r\n                        at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/sys/unix/thread.rs:84\r\n  27:     0x7fc80624e453 - start_thread\r\n  28:     0x7fc805d7a7de - __GI___clone\r\n  29:                0x0 - <unknown>\r\nGoodbye\r\n```","closed_by":{"login":"jwilm","id":4285147,"node_id":"MDQ6VXNlcjQyODUxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/4285147?v=4","gravatar_id":"","url":"https://api.github.com/users/jwilm","html_url":"https://github.com/jwilm","followers_url":"https://api.github.com/users/jwilm/followers","following_url":"https://api.github.com/users/jwilm/following{/other_user}","gists_url":"https://api.github.com/users/jwilm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwilm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwilm/subscriptions","organizations_url":"https://api.github.com/users/jwilm/orgs","repos_url":"https://api.github.com/users/jwilm/repos","events_url":"https://api.github.com/users/jwilm/events{/privacy}","received_events_url":"https://api.github.com/users/jwilm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/25/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/25/timeline","performed_via_github_app":null,"state_reason":"completed"}