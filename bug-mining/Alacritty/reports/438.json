{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4564","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/4564/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/4564/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/4564/events","html_url":"https://github.com/alacritty/alacritty/issues/4564","id":764141475,"node_id":"MDU6SXNzdWU3NjQxNDE0NzU=","number":4564,"title":"Cursor Color Contrast Logic is Too Sensitive","user":{"login":"Neightro","id":23202923,"node_id":"MDQ6VXNlcjIzMjAyOTIz","avatar_url":"https://avatars.githubusercontent.com/u/23202923?v=4","gravatar_id":"","url":"https://api.github.com/users/Neightro","html_url":"https://github.com/Neightro","followers_url":"https://api.github.com/users/Neightro/followers","following_url":"https://api.github.com/users/Neightro/following{/other_user}","gists_url":"https://api.github.com/users/Neightro/gists{/gist_id}","starred_url":"https://api.github.com/users/Neightro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Neightro/subscriptions","organizations_url":"https://api.github.com/users/Neightro/orgs","repos_url":"https://api.github.com/users/Neightro/repos","events_url":"https://api.github.com/users/Neightro/events{/privacy}","received_events_url":"https://api.github.com/users/Neightro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-12-12T18:13:32Z","updated_at":"2021-10-22T06:33:35Z","closed_at":"2021-10-22T06:33:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have a color specified for my cursor. When hovering over text that has the 'reverse' style, the cursor switches to be the inverse of the color underneath it. My understanding, as informed by @kchibisov in #2398, is that this is caused by a feature intended to keep the cursor itself from blending in with text that is very similar in color. However, this functionality kicks in in some situations where it likely shouldn't.\r\n\r\n## My alacritty.yml\r\n\r\n[alacritty.yml.txt](https://github.com/alacritty/alacritty/files/5683408/alacritty.yml.txt)\r\n\r\n## To Reproduce\r\n\r\nI've found two ways of reproducing this. The first is, while running my config and any program that doesn't change the background color, use the mouse to select over the cursor, which should turn black despite not being similar in color to the highlighted text.\r\n\r\n![image](https://user-images.githubusercontent.com/23202923/101971520-b7607180-3be6-11eb-98e3-ea611716e2f2.png)\r\n\r\nAlternatively, should that approach not work for some reason:\r\n\r\n1) Run `vim -u NONE test.c`\r\n2) Type the text `int test`\r\n3) Within Vim, run the command `syn on | hi Type cterm=reverse gui=reverse`\r\n4) Hover over the keyword `int`, which should be highlighted in lime green. The cursor will turn black, and the character underneath green. (Image is not very accurate, but I can't stop the window from unfocusing when taking a screenshot.)\r\n\r\n![image](https://user-images.githubusercontent.com/23202923/101991110-5c1e9580-3c5f-11eb-8893-c3801902aedd.png)\r\n\r\n## Current Behavior\r\n\r\nIn many cases, the cursor changes color when hovering over text with the reverse style even if the color of the text is not similar to that of the cursor. My cursor is orange (#e19b14), though it will turn black over text that is green or teal, for instance.\r\n\r\nThis behavior has the side effect of making the cursor hard to see in many cases, such as when hovering over matching delimiters in Vim with 'matchparen'. This doesn't affect every color scheme, though; only ones using the 'reverse' style with a bright enough color.\r\n\r\n## Expected Behavior\r\n\r\nThe cursor only changes color when the background is very similar in color to the cursor itself, such as white on very light gray. Ideally this behavior would never happen with Vim's 'matchparen' highlighting or other one-character highlights, though that's likely a different issue.\r\n\r\n## System \r\n\r\nManjaro and Arch Linux\r\nalacritty 0.6.0 (04cbf767)\r\nX11 (xorg-server 1.20.10-0)\r\n\r\nPlease let me know if you need any more information, and I will be happy to oblige.","closed_by":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/4564/timeline","performed_via_github_app":null,"state_reason":"completed"}