{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4591","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/4591/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/4591/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/4591/events","html_url":"https://github.com/alacritty/alacritty/issues/4591","id":770749894,"node_id":"MDU6SXNzdWU3NzA3NDk4OTQ=","number":4591,"title":"Panic in concept_frame.rs when opening Alacritty","user":{"login":"catleeball","id":43632885,"node_id":"MDQ6VXNlcjQzNjMyODg1","avatar_url":"https://avatars.githubusercontent.com/u/43632885?v=4","gravatar_id":"","url":"https://api.github.com/users/catleeball","html_url":"https://github.com/catleeball","followers_url":"https://api.github.com/users/catleeball/followers","following_url":"https://api.github.com/users/catleeball/following{/other_user}","gists_url":"https://api.github.com/users/catleeball/gists{/gist_id}","starred_url":"https://api.github.com/users/catleeball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catleeball/subscriptions","organizations_url":"https://api.github.com/users/catleeball/orgs","repos_url":"https://api.github.com/users/catleeball/repos","events_url":"https://api.github.com/users/catleeball/events{/privacy}","received_events_url":"https://api.github.com/users/catleeball/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":638282629,"node_id":"MDU6TGFiZWw2MzgyODI2Mjk=","url":"https://api.github.com/repos/alacritty/alacritty/labels/A%20-%20deps","name":"A - deps","color":"fef2c0","default":false,"description":null},{"id":1954290149,"node_id":"MDU6TGFiZWwxOTU0MjkwMTQ5","url":"https://api.github.com/repos/alacritty/alacritty/labels/C%20-%20waiting%20on%20dependency","name":"C - waiting on dependency","color":"2fb56d","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-12-18T09:57:12Z","updated_at":"2020-12-31T07:49:50Z","closed_at":"2020-12-31T05:21:24Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### System\r\n\r\nOS: Clear Linux `Linux $HOSTNAME 5.9.14-1007.native #1 SMP Fri Dec 11 05:03:15 PST 2020 x86_64 GNU/Linux`\r\nVersion: `alacritty 0.7.0-dev (116faba)` and also `alacritty 0.6.0 (04cbf76)`\r\nLinux/BSD: Gnome on Wayland, Nouveau driver for GPU\r\n- `gnome-shell --version` -> `GNOME Shell 3.38.2`\r\n- nouveau version 5.9.14-1007.native SMP mod_unload ([full modinfo output](https://gist.github.com/catleeball/c01ff0773534ddcd05ced3b3ead3ea9a))\r\n- [hardware (in a google sheet)](https://docs.google.com/spreadsheets/d/1lIlZ_OYXOURL2VhYCJr03b6iWKPYZAG_f-bMsFBaCnQ/edit?usp=sharing)\r\n\r\n### Logs\r\n\r\nBacktrace to stderr: https://gist.github.com/catleeball/ade1dfe5fb4997e1726bf00a92f0fefd\r\n\r\n\r\n### Summary\r\n\r\nVery briefly, Alacritty crashes when I try to open it when building at head or at 0.6. More details below:\r\n\r\n### Steps to reproduce\r\n\r\n- git clone alarcritty repo\r\n- install deps from install.md:\r\n  - `sudo swupd bundle-add devpkg-expat devpkg-freetype devpkg-libxcb devpkg-fontconfig`\r\n- ensure rust stable toolchain is up-to-date\r\n  - `rustup update`\r\n  - `rustup show active-toolchain` -> `stable-x86_64-unknown-linux-gnu (default)`\r\n- build alacritty from repo head\r\n  - `RUSTFLAGS=\"-C target-cpu=native\" cargo build --release`\r\n- Check version of the resulting binary\r\n  - `alacritty --version` -> `alacritty 0.7.0-dev (116faba)`\r\n- Try to run binary, encounter panic\r\n  - https://gist.github.com/catleeball/ade1dfe5fb4997e1726bf00a92f0fefd\r\n\r\n\r\n### Troubleshooting\r\n\r\nTried checking out latest release instead of head:\r\n\r\n- `cargo clean` after last build\r\n- get latest release (instead of head) `git checkout v0.6.0`\r\n- rebuild with `RUSTFLAGS=\"-C target-cpu=native\" cargo build --release`\r\n- Crashes again :(\r\n  - all terminal out, including build output and panic backtrace: https://gist.github.com/catleeball/1f987e8850175efbb5f2aab78eb54939\r\n\r\nThen I tried building v0.6.0 without the RUSTFLAGS:\r\n\r\n- `cargo clean`\r\n- `cargo build --release`\r\n- crashes again. [log](https://gist.github.com/catleeball/32627c17306b582afd0349cefe273852)\r\n\r\nThen I tried installing via cargo rather than building from the source repo:\r\n\r\n- `cargo install alacritty`\r\n- still crashes. [log](https://gist.github.com/catleeball/a1aa403528c2bda23ef5b3e2912e9790)\r\n\r\n### Epilogue\r\n\r\nI checked journalctl and didn't find anything too interesting. I haven't tried switching to Gnome on X11 yet, but I'll try that in the morning.\r\n\r\nPlease let me know if there's any info or logs that would assist you in debugging.","closed_by":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/4591/timeline","performed_via_github_app":null,"state_reason":"completed"}