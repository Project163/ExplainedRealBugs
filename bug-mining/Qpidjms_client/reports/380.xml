<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:21:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-2158] [Java 0-8/0-9] Overlong AMQShortStrings incorrectly encoded and cause Frame corruption</title>
                <link>https://issues.apache.org/jira/browse/QPID-2158</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;AMQP defines as shortstr as a 1-octet length followed by that many octets of data.  In java we use the AMQShortString class to represent this datatype in the 0-8/0-9 codebase.  Unfortunately the AMQShortString class does not check to ensure that on construction its total length is less than 256 characters.  In cases where an overlong  AMQShortString is created and subsequently encoded, the size is written out as (byte) length, which means that a String of length 296 will be encoded as an octect with value 40 (296 &amp;amp; 255) followed by 296 octets of data.  Upon decoding this causes a frame decoding error.&lt;/p&gt;

&lt;p&gt;We should check on construction of an AMQShortString that the underlying data does not have length &amp;gt; 255, and that if it does we should throw an appropriate exception (IndexOutOfBoundsException?)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;This error was discovered when a long queue name was created, and that queue subsequently used as the destination for a reply-to field... the encoding of a reply-to copies the queue name twice (once as the queue name, once as the binding-key&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12438896">QPID-2158</key>
            <summary>[Java 0-8/0-9] Overlong AMQShortStrings incorrectly encoded and cause Frame corruption</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robbie">Robbie Gemmell</assignee>
                                    <reporter username="rgodfrey">Robert Godfrey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Oct 2009 08:17:20 +0000</created>
                <updated>Tue, 14 Mar 2017 20:07:58 +0000</updated>
                            <resolved>Tue, 7 Jun 2011 15:05:41 +0000</resolved>
                                    <version>M2</version>
                    <version>M2.1</version>
                    <version>M3</version>
                    <version>M4</version>
                    <version>0.5</version>
                    <version>0.6</version>
                    <version>0.7</version>
                    <version>0.8</version>
                    <version>0.9</version>
                    <version>0.10</version>
                                    <fixVersion>0.11</fixVersion>
                                    <component>Java Common</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13033078" author="alex.rufous" created="Fri, 13 May 2011 15:22:06 +0000"  >&lt;p&gt;Attached a patch adding AMQShortString length validation&lt;/p&gt;</comment>
                            <comment id="13040198" author="alex.rufous" created="Fri, 27 May 2011 12:13:08 +0000"  >&lt;p&gt;The attached patch adds length validation to AMQShortString class. Also, it removes a dead code from AMQDestination and AMQShortString. Channel and connection exception messages are truncated to 255 length before being passed over wire.&lt;/p&gt;</comment>
                            <comment id="13045468" author="gemmellr" created="Tue, 7 Jun 2011 15:05:41 +0000"  >&lt;p&gt;Patch applied.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12480648" name="adds-amqshortstring-length-validation.patch" size="25620" author="orudyy" created="Fri, 27 May 2011 12:13:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>71819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bnt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>