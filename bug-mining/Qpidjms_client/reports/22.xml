<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:19:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-9] Missing support for field table types D, T and F</title>
                <link>https://issues.apache.org/jira/browse/QPID-9</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;The spec defines these additional types. This area may be in flux so check spec status before implementing:&lt;br/&gt;
/ &apos;D&apos; decimal-value&lt;br/&gt;
/ &apos;T&apos; timestamp&lt;br/&gt;
/ &apos;F&apos; field-table&lt;/p&gt;

&lt;p&gt;Needs to be addressed across all languages and the python headers exchange tests should test all types.&lt;/p&gt;

&lt;p&gt;The field table also does not support sufficient types of values for JMS support see message thread:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://amqp.108.redhat.com/servlets/ReadMsg?list=dev&amp;amp;msgNo=169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://amqp.108.redhat.com/servlets/ReadMsg?list=dev&amp;amp;msgNo=169&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Possible a possible temporary work around would be to use encoded String values &lt;/p&gt;</description>
                <environment></environment>
        <key id="12350530">QPID-9</key>
            <summary>Missing support for field table types D, T and F</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgreig">Robert Greig</assignee>
                                    <reporter username="aconway">Alan Conway</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Sep 2006 18:05:15 +0000</created>
                <updated>Tue, 14 Mar 2017 20:02:39 +0000</updated>
                            <resolved>Thu, 14 Feb 2008 16:02:10 +0000</resolved>
                                                    <fixVersion>M2.1</fixVersion>
                                    <component>Java Common</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                                                            <comments>
                            <comment id="12455947" author="ritchiem" created="Wed, 6 Dec 2006 09:50:54 +0000"  >&lt;p&gt;r482733 the amqp field table does not support sufficent types to allow all JMS primatives to be preserved during transportation. This update encodes all java types using the xml format used by MapMessage.&lt;/p&gt;

&lt;p&gt;However this doesn&apos;t address missing type support detailed in this JIRA. However from a JMS compliance point of view this won&apos;t affect us. We will have to re-address this issue as we develop an AMQP API level as currently we cannot build an interoperable java AMQP only client without these changes.&lt;/p&gt;</comment>
                            <comment id="12456381" author="marnie" created="Thu, 7 Dec 2006 12:11:15 +0000"  >&lt;p&gt;Note that the AbstractJMSMessage.setObjectProperty now supports all java datatypes, related to this change.&lt;/p&gt;</comment>
                            <comment id="12456435" author="ritchiem" created="Thu, 7 Dec 2006 14:39:48 +0000"  >&lt;p&gt;   Guidelines for implementers:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Field names MUST start with a letter, &apos;$&apos; or &apos;#&apos; and may continue with&lt;br/&gt;
     letters, &apos;$&apos; or &apos;#&apos;, digits, or underlines, to a maximum length of 128&lt;br/&gt;
     characters.&lt;/li&gt;
	&lt;li&gt;The  server SHOULD validate field names and upon receiving an invalid&lt;br/&gt;
     field  name,  it  SHOULD signal a connection exception with reply code&lt;br/&gt;
     503 (syntax error). Conformance test: amq_wlp_table_01.&lt;/li&gt;
	&lt;li&gt;A peer MUST handle duplicate fields by using only the first instance.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12456436" author="ritchiem" created="Thu, 7 Dec 2006 14:40:13 +0000"  >&lt;p&gt;Previous comment from AMQP Spec: 4.2.5.5 Field Tables&lt;/p&gt;</comment>
                            <comment id="12456438" author="ritchiem" created="Thu, 7 Dec 2006 14:44:30 +0000"  >&lt;p&gt;Of course JMS requirements are not quite compatible.&lt;br/&gt;
3.5.1 Property Names&lt;br/&gt;
? Identifiers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;An identifier is an unlimited-length character sequence that must begin&lt;br/&gt;
with a Java identifier start character; all following characters must be Java&lt;br/&gt;
identifier part characters. An identifier start character is any character for&lt;br/&gt;
which the method Character.isJavaIdentifierStart returns true. This includes&lt;br/&gt;
&apos;_&apos; and &apos;$&apos;. An identifier part character is any character for which the&lt;br/&gt;
method Character.isJavaIdentifierPart returns true.&lt;/li&gt;
	&lt;li&gt;Identifiers cannot be the names NULL, TRUE, or FALSE.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Allowing an unlimited-lenght character sequence compared to AMQP&apos;s 128 limit.&lt;/p&gt;</comment>
                            <comment id="12456460" author="ritchiem" created="Thu, 7 Dec 2006 15:53:54 +0000"  >&lt;p&gt;Completed: At revision: 483503  &lt;/p&gt;

&lt;p&gt;Encoding updated based on the FieldTable Proposal:&lt;br/&gt;
----------------&lt;/p&gt;

&lt;p&gt;   Field tables are binary structures that contain packed name-value pairs.&lt;br/&gt;
   Each  name-value pair is a structure that provides a field name, a field&lt;br/&gt;
   type (referred to as the discriminator), and a field value.&lt;/p&gt;

&lt;p&gt;   The following types can be stored in a field table:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;A boolean that can take one of the values True or False. The value is&lt;br/&gt;
   encoded  as  a  single  byte  where the value 0 represents false and the&lt;br/&gt;
   value 1 represents true. The discriminator is the character &apos;t&apos;.&lt;/li&gt;
	&lt;li&gt;A  range  of  different  sized  signed  values. In each case they are&lt;br/&gt;
   encoded  using  two&apos;s complement. The list below shows the sizes and the&lt;br/&gt;
   discriminators:&lt;br/&gt;
   8: b&lt;br/&gt;
   16: s&lt;br/&gt;
   32: i&lt;br/&gt;
   64: l&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;A  range  of  different  sized unsigned values. In each case they are&lt;br/&gt;
   encoded as an unsigned binary number. The list below shows the sizes and&lt;br/&gt;
   the discriminators:&lt;br/&gt;
   8: B&lt;br/&gt;
   16: S&lt;br/&gt;
   32: I&lt;br/&gt;
   64: L&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Floating point types. Floating point types are encoded using the IEEE&lt;br/&gt;
   754  standard.  For  full  details of that encoding please see the &quot;IEEE&lt;br/&gt;
   Standard   for  Binary  Floating-Point  Arithmetic,  ANSI/IEEE  Standard&lt;br/&gt;
   754-1985&quot;. The different precisions supported are:&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;single precision, with discriminator f&lt;/li&gt;
	&lt;li&gt;double precision, with discriminator d&lt;/li&gt;
	&lt;li&gt;double-extended, which has an exponent of at least 15 bits in length and&lt;br/&gt;
a signed fraction of at least 64 bits, with discriminator D&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;An ASCII string type, containing ASCII characters. Encoded as a 2 byte&lt;br/&gt;
   unsigned  integer as the size followed by the characters, using one byte&lt;br/&gt;
   per character with an ASCII encoding. Discriminator &apos;c&apos;.&lt;/li&gt;
	&lt;li&gt;A  wide string type, containing characters encoded using the broker&apos;s&lt;br/&gt;
   configured  encoding  for  wide characters. Encoded as a 4 byte unsigned&lt;br/&gt;
   integer  as the size in bytes followed by the bytes of data. Examples of&lt;br/&gt;
   encodings are UTF-8 and UTF-16. Discriminator &apos;C&apos;.&lt;/li&gt;
	&lt;li&gt;A date time type, containing a 64 bit unsigned integer that represents&lt;br/&gt;
   the  time to a granularity of seconds encoded in POSIX  time_t format. A&lt;br/&gt;
   value  of  536457599  corresponds  to Wednesday December 31 23:35:59 GMT&lt;br/&gt;
   1986. This has a descriminator &apos;T&apos;.&lt;/li&gt;
	&lt;li&gt;A  binary  data  type,  to  allow encoding of arbitrary data. This is&lt;br/&gt;
   encoded  as  a four byte unsigned integer representing the size followed&lt;br/&gt;
   by that number of bytes. Discriminator &apos;x&apos;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With the Java basic types being encoded as follows:&lt;/p&gt;

&lt;p&gt;// As above types&lt;br/&gt;
BOOLEAN_PROPERTY_PREFIX = t&lt;br/&gt;
BYTE_PROPERTY_PREFIX = b&lt;br/&gt;
SHORT_PROPERTY_PREFIX = s&lt;br/&gt;
INT_PROPERTY_PREFIX = i&lt;br/&gt;
LONG_PROPERTY_PREFIX = l&lt;br/&gt;
FLOAT_PROPERTY_PREFIX = f&lt;br/&gt;
DOUBLE_PROPERTY_PREFIX = d&lt;/p&gt;

&lt;p&gt;Unsigned types have not been implemented&lt;/p&gt;

&lt;p&gt;STRING_PROPERTY_PREFIX = AMQP_STRING_PROPERTY_PREFIX;&lt;br/&gt;
BYTES_PROPERTY_PREFIX = AMQP_BINARY_PROPERTY_PREFIX;&lt;br/&gt;
CHAR_PROPERTY_PREFIX = AMQP_ASCII_STRING_PROPERTY_PREFIX;&lt;/p&gt;

&lt;p&gt;The problem with the CHAR encoding results in standard ASCII strings being truncated. However we need to know the difference between a single char and a string property.&lt;/p&gt;</comment>
                            <comment id="12456461" author="ritchiem" created="Thu, 7 Dec 2006 15:53:55 +0000"  >&lt;p&gt;Completed: At revision: 483503  &lt;/p&gt;

&lt;p&gt;Encoding updated based on the FieldTable Proposal:&lt;br/&gt;
----------------&lt;/p&gt;

&lt;p&gt;   Field tables are binary structures that contain packed name-value pairs.&lt;br/&gt;
   Each  name-value pair is a structure that provides a field name, a field&lt;br/&gt;
   type (referred to as the discriminator), and a field value.&lt;/p&gt;

&lt;p&gt;   The following types can be stored in a field table:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;A boolean that can take one of the values True or False. The value is&lt;br/&gt;
   encoded  as  a  single  byte  where the value 0 represents false and the&lt;br/&gt;
   value 1 represents true. The discriminator is the character &apos;t&apos;.&lt;/li&gt;
	&lt;li&gt;A  range  of  different  sized  signed  values. In each case they are&lt;br/&gt;
   encoded  using  two&apos;s complement. The list below shows the sizes and the&lt;br/&gt;
   discriminators:&lt;br/&gt;
   8: b&lt;br/&gt;
   16: s&lt;br/&gt;
   32: i&lt;br/&gt;
   64: l&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;A  range  of  different  sized unsigned values. In each case they are&lt;br/&gt;
   encoded as an unsigned binary number. The list below shows the sizes and&lt;br/&gt;
   the discriminators:&lt;br/&gt;
   8: B&lt;br/&gt;
   16: S&lt;br/&gt;
   32: I&lt;br/&gt;
   64: L&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Floating point types. Floating point types are encoded using the IEEE&lt;br/&gt;
   754  standard.  For  full  details of that encoding please see the &quot;IEEE&lt;br/&gt;
   Standard   for  Binary  Floating-Point  Arithmetic,  ANSI/IEEE  Standard&lt;br/&gt;
   754-1985&quot;. The different precisions supported are:&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;single precision, with discriminator f&lt;/li&gt;
	&lt;li&gt;double precision, with discriminator d&lt;/li&gt;
	&lt;li&gt;double-extended, which has an exponent of at least 15 bits in length and&lt;br/&gt;
a signed fraction of at least 64 bits, with discriminator D&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;An ASCII string type, containing ASCII characters. Encoded as a 2 byte&lt;br/&gt;
   unsigned  integer as the size followed by the characters, using one byte&lt;br/&gt;
   per character with an ASCII encoding. Discriminator &apos;c&apos;.&lt;/li&gt;
	&lt;li&gt;A  wide string type, containing characters encoded using the broker&apos;s&lt;br/&gt;
   configured  encoding  for  wide characters. Encoded as a 4 byte unsigned&lt;br/&gt;
   integer  as the size in bytes followed by the bytes of data. Examples of&lt;br/&gt;
   encodings are UTF-8 and UTF-16. Discriminator &apos;C&apos;.&lt;/li&gt;
	&lt;li&gt;A date time type, containing a 64 bit unsigned integer that represents&lt;br/&gt;
   the  time to a granularity of seconds encoded in POSIX  time_t format. A&lt;br/&gt;
   value  of  536457599  corresponds  to Wednesday December 31 23:35:59 GMT&lt;br/&gt;
   1986. This has a descriminator &apos;T&apos;.&lt;/li&gt;
	&lt;li&gt;A  binary  data  type,  to  allow encoding of arbitrary data. This is&lt;br/&gt;
   encoded  as  a four byte unsigned integer representing the size followed&lt;br/&gt;
   by that number of bytes. Discriminator &apos;x&apos;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With the Java basic types being encoded as follows:&lt;/p&gt;

&lt;p&gt;// As above types&lt;br/&gt;
BOOLEAN_PROPERTY_PREFIX = t&lt;br/&gt;
BYTE_PROPERTY_PREFIX = b&lt;br/&gt;
SHORT_PROPERTY_PREFIX = s&lt;br/&gt;
INT_PROPERTY_PREFIX = i&lt;br/&gt;
LONG_PROPERTY_PREFIX = l&lt;br/&gt;
FLOAT_PROPERTY_PREFIX = f&lt;br/&gt;
DOUBLE_PROPERTY_PREFIX = d&lt;/p&gt;

&lt;p&gt;Unsigned types have not been implemented&lt;/p&gt;

&lt;p&gt;STRING_PROPERTY_PREFIX = AMQP_STRING_PROPERTY_PREFIX;&lt;br/&gt;
BYTES_PROPERTY_PREFIX = AMQP_BINARY_PROPERTY_PREFIX;&lt;br/&gt;
CHAR_PROPERTY_PREFIX = AMQP_ASCII_STRING_PROPERTY_PREFIX;&lt;/p&gt;

&lt;p&gt;The problem with the CHAR encoding results in standard ASCII strings being truncated. However we need to know the difference between a single char and a string property.&lt;/p&gt;</comment>
                            <comment id="12458066" author="ritchiem" created="Wed, 13 Dec 2006 10:01:46 +0000"  >&lt;p&gt;The above String type is unable to differentitate between an empty string and a null string.&lt;br/&gt;
Have added:&lt;/p&gt;

&lt;p&gt;NULL_STRING_PROPERTY_PREFIX=&apos;n&apos;&lt;/p&gt;

&lt;p&gt;Updated in revision: 486574  &lt;/p&gt;</comment>
                            <comment id="12458721" author="ritchiem" created="Fri, 15 Dec 2006 08:49:06 +0000"  >&lt;p&gt;Field table updated but main issue of JIRA: Missing D,T and F fields not implemented however JMS support has been addressed&lt;/p&gt;</comment>
                            <comment id="12468671" author="marnie" created="Tue, 30 Jan 2007 16:37:49 +0000"  >&lt;p&gt;Rupert Smith to complete this change&lt;/p&gt;</comment>
                            <comment id="12498701" author="ritchiem" created="Thu, 24 May 2007 16:24:02 +0000"  >&lt;p&gt;Decimal and Timestamp were added at revision r535309.&lt;/p&gt;

&lt;p&gt;String and Int were also moved to AMQMessage to be consistent. &lt;/p&gt;

&lt;p&gt;Fieldtable was not implemented. Though would be easy to add.&lt;/p&gt;</comment>
                            <comment id="12568981" author="rupertlssmith" created="Thu, 14 Feb 2008 16:02:09 +0000"  >&lt;p&gt;D, T, and F are now all implemented.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12358106">QPID-161</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>167054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0c0p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>