<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:21:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-3047] The QueueDepthWithSelectorTest fails on 0-10 profiles</title>
                <link>https://issues.apache.org/jira/browse/QPID-3047</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;The QueueDepthWithSelector needs refactored to use QpidBrokerTestCase rather than being hardcoded simply the 0-8 iVM broker. Once this is done, the test fails on 0-10 profiles,  as the session is not flushing acks correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498128">QPID-3047</key>
            <summary>The QueueDepthWithSelectorTest fails on 0-10 profiles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robbie">Robbie Gemmell</assignee>
                                    <reporter username="andrew.kennedy">Andrew Kennedy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Feb 2011 14:42:31 +0000</created>
                <updated>Tue, 14 Mar 2017 20:07:34 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 10:34:08 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12992521" author="rajith" created="Wed, 9 Feb 2011 15:09:26 +0000"  >&lt;p&gt;In AMQSession_0_10.java, when using AUTO_ACK or DUPS_OK the acknowledgements are batched to improve performance.&lt;br/&gt;
The ack are flushed based one of the following conditions (which ever happens first).&lt;/p&gt;

&lt;p&gt;1. When the ack timer fires. The ack-time is configure via qpid.session.max_ack_delay&lt;br/&gt;
2. if un_acked_msg_count &amp;gt; max_prefetch/2. &lt;/p&gt;

&lt;p&gt;For the test case you could force it to ack more frequently by having a smaller prefetch.&lt;/p&gt;

&lt;p&gt;(Please note as per the JMS spec AUTO_ACK should ack each message before it serves up the next message. However by default our AUTO_ACK acts the same as DUPS_OK.)&lt;/p&gt;</comment>
                            <comment id="12992529" author="andrew.kennedy" created="Wed, 9 Feb 2011 15:24:27 +0000"  >&lt;p&gt;Understood.&lt;/p&gt;

&lt;p&gt;This fixes the situation where the client is requesting the queue depth, and there are queued up unsent acks because neither 1 or 2 has happenend yet. In this case, the reported queue depth will be wrong, so sending any unflushed acks beforehand is the correct thing to do for this type of synchronous operation.&lt;/p&gt;</comment>
                            <comment id="12995828" author="andrew.kennedy" created="Thu, 17 Feb 2011 14:40:05 +0000"  >&lt;p&gt;Ready to review&lt;/p&gt;</comment>
                            <comment id="13003316" author="gemmellr" created="Mon, 7 Mar 2011 10:34:08 +0000"  >&lt;p&gt;Looks good to me.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bonb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>