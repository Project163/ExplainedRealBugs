<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:21:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-3527] Messages may not acknowledged immediately after receiving in AUTO_ACKNOWLEDGE mode on 0-10 client</title>
                <link>https://issues.apache.org/jira/browse/QPID-3527</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;In AUTO_ACKNOWLEDGE mode on 0-10 client messages may not acknowledged immediately after receiving. The message acknowledgement in AA mode is implemented in lazy fashion with flusher thread. As result of it, the acknowledgement might happened in 1 second (by default) after receiving the message.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525851">QPID-3527</key>
            <summary>Messages may not acknowledged immediately after receiving in AUTO_ACKNOWLEDGE mode on 0-10 client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robbie">Robbie Gemmell</assignee>
                                    <reporter username="orudyy">Alex Rudyy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Oct 2011 15:49:26 +0000</created>
                <updated>Tue, 14 Mar 2017 20:08:15 +0000</updated>
                            <resolved>Fri, 7 Oct 2011 09:21:29 +0000</resolved>
                                    <version>0.5</version>
                    <version>0.6</version>
                    <version>0.7</version>
                    <version>0.8</version>
                    <version>0.9</version>
                    <version>0.10</version>
                    <version>0.11</version>
                    <version>0.12</version>
                                    <fixVersion>0.13</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13121309" author="rajith" created="Wed, 5 Oct 2011 18:13:24 +0000"  >&lt;p&gt;Actually acknowledgement happens in two ways (based on which ever happens first).&lt;/p&gt;

&lt;p&gt;1. Based on the prefetch (or credit window)&lt;br/&gt;
2. Based on the ack-flusher thread&lt;/p&gt;

&lt;p&gt;First of all, the current behaviour is incorrect as it&apos;s the same as DUPS ok.&lt;/p&gt;

&lt;p&gt;The first method was to ack every time the number of unacked messages exceeded more than half the credit window (or prefetch value). I don&apos;t know the reasons behind why it was done this way. I am guessing performance.&lt;/p&gt;

&lt;p&gt;The second method was added by myself as I found when there is a large prefetch window, but with very slow message flows, no acks are sent at all. And often when the client fails over all most all messages are replayed. The ack flusher thread prevented that from happening.&lt;/p&gt;

&lt;p&gt;When we fix this issue, we would need to ensure we consider performance. We should also make some noise about this change in the release notes to ensure we don&apos;t catch any folks by surprise.&lt;/p&gt;</comment>
                            <comment id="13122038" author="alex.rufous" created="Thu, 6 Oct 2011 16:13:23 +0000"  >&lt;p&gt;Attached patche from Robbie Gemmell and me fixing the issue.&lt;/p&gt;</comment>
                            <comment id="13122039" author="alex.rufous" created="Thu, 6 Oct 2011 16:14:31 +0000"  >&lt;p&gt;Robbie, could you please review and apply the patch attached?&lt;/p&gt;</comment>
                            <comment id="13122657" author="gemmellr" created="Fri, 7 Oct 2011 09:21:20 +0000"  >&lt;p&gt;Patch applied. Auto-ack now results in sending asynchronous acks after each message is delivered to the application.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12498024" name="0003-QPID-3527-update-handling-of-auto-ack-messages-for-0.patch" size="18064" author="orudyy" created="Thu, 6 Oct 2011 16:13:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bkrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>