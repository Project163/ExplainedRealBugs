<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:19:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-149] Invalid replyTo destination when temporary queue is used</title>
                <link>https://issues.apache.org/jira/browse/QPID-149</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;When sending a JMS message with a replyTo field set to a JMS temporary queue.&lt;/p&gt;

&lt;p&gt;At the point the message is sent in the client, it has the following details:&lt;/p&gt;

&lt;p&gt;INFO: Sending JMS message: Body:&lt;br/&gt;
hello&lt;br/&gt;
JMS timestamp: 0&lt;br/&gt;
JMS expiration: 0&lt;br/&gt;
JMS priority: 0&lt;br/&gt;
JMS delivery mode: 0&lt;br/&gt;
JMS reply to: direct://amq.direct/TempQueue1164991547153/tmp_127.0.0.12068_1?exclusive=&apos;true&apos;&amp;amp;autodelete=&apos;true&apos;&lt;br/&gt;
AMQ message number: -1&lt;/p&gt;

&lt;p&gt;However, when it is received it has the details:&lt;/p&gt;

&lt;p&gt;INFO: Handle message: Body:&lt;br/&gt;
hello&lt;br/&gt;
JMS timestamp: 1055409977&lt;br/&gt;
JMS expiration: 0&lt;br/&gt;
JMS priority: 0&lt;br/&gt;
JMS delivery mode: 2&lt;br/&gt;
JMS reply to: direct://amq.direct/null/null?durable=&apos;true&apos;&lt;br/&gt;
AMQ message number: 1&lt;/p&gt;

&lt;p&gt;When I do the same test with a defined queue (i.e. not temporary), it works correctly.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Java 1.5.0_04 Windows XP&lt;/p&gt;</environment>
        <key id="12357466">QPID-149</key>
            <summary>Invalid replyTo destination when temporary queue is used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ritchiem">Martin Ritchie</assignee>
                                    <reporter username="objectiser">Gary Brown</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Dec 2006 17:25:50 +0000</created>
                <updated>Wed, 13 Dec 2006 13:39:27 +0000</updated>
                            <resolved>Wed, 13 Dec 2006 13:39:27 +0000</resolved>
                                    <version>M1</version>
                                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12455252" author="ritchiem" created="Mon, 4 Dec 2006 08:15:10 +0000"  >&lt;p&gt;I believe this is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-148&quot; title=&quot;Field table values are not preserved.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-148&quot;&gt;&lt;del&gt;QPID-148&lt;/del&gt;&lt;/a&gt; as that reply to address looks like it has been instantiated with null values.&lt;/p&gt;</comment>
                            <comment id="12455331" author="ritchiem" created="Mon, 4 Dec 2006 15:35:42 +0000"  >&lt;p&gt;This is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-148&quot; title=&quot;Field table values are not preserved.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-148&quot;&gt;&lt;del&gt;QPID-148&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12455632" author="ritchiem" created="Tue, 5 Dec 2006 13:34:52 +0000"  >&lt;p&gt;Now that the temporary queue is correctly transfered it appears that the queue name is changing.. perhaps because it will be recreating an AMQTemporaryQueue which takes the current System time as part of its name. So in some of the tests it passes if the message is transported within 1 ms.&lt;/p&gt;</comment>
                            <comment id="12456351" author="ritchiem" created="Thu, 7 Dec 2006 11:06:22 +0000"  >&lt;p&gt;The getJMSReplyTo in AbstractJMSMessage uses a static destinationCache to prevent excessive object creation.&lt;/p&gt;

&lt;p&gt;Problem is that setJMSReplyTo uses:&lt;/p&gt;

&lt;p&gt;        final AMQDestination amqd = (AMQDestination) destination;&lt;/p&gt;

&lt;p&gt;        final String encodedDestination = amqd.getEncodedName();&lt;/p&gt;


&lt;p&gt;and for the case of a AMQQueue this does:&lt;/p&gt;

&lt;p&gt;    public String getEncodedName()&lt;/p&gt;
    {
        return &apos;Q&apos; + getQueueName();
    }


&lt;p&gt;and the _queueName is set to be null in an AMQTemporaryQueue. This causes a problem with the _destinationCache as all the values are entered with key &apos;Q&apos; this make the cache return invalid values. &lt;/p&gt;</comment>
                            <comment id="12458106" author="ritchiem" created="Wed, 13 Dec 2006 13:20:52 +0000"  >&lt;p&gt;The EncodedName was an older mechanism of determining what the destination type was. This should use the BindingURL format. &lt;/p&gt;</comment>
                            <comment id="12458114" author="ritchiem" created="Wed, 13 Dec 2006 13:39:27 +0000"  >&lt;p&gt;Completed: At revision: 486647  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>167189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0c2nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>