<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:23:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-8255] [JMS AMQP 0-x] Connection failure  with connection option &apos;client_cert_priv_key_path&apos; and java 11</title>
                <link>https://issues.apache.org/jira/browse/QPID-8255</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;Connection establishment fails with java 11 when connection option &apos;client_cert_priv_key_path&apos; is used:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
javax.jms.JMSException: Error creating connection: Key protection&#160; algorithm not found: java.security.UnrecoverableKeyException: Encrypt Private Key failed: getSecretKey failed: Password is not ASCII

&#160;&#160; &#160;at org.apache.qpid.client.AMQConnectionFactory.createConnection(AMQConnectionFactory.java:169)
&#160;&#160; &#160;at org.apache.qpid.client.AMQConnectionFactory.createConnection(AMQConnectionFactory.java:143)
&#160;&#160; &#160;at org.apache.qpid.client.AMQConnectionFactory.createConnection(AMQConnectionFactory.java:57)
&#160;&#160; &#160;at org.apache.qpid.systests.QpidJmsClient0xConnectionBuilder.build(QpidJmsClient0xConnectionBuilder.java:270)
&#160;&#160; &#160;at org.apache.qpid.systests.jms_1_1.extensions.tls.TlsTest.testCreateSSLWithCertFileAndPrivateKey(TlsTest.java:508)
&#160;&#160; &#160;at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160;&#160; &#160;at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
&#160;&#160; &#160;at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160;&#160; &#160;at java.base/java.lang.reflect.Method.invoke(Method.java:566)
&#160;&#160; &#160;at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
&#160;&#160; &#160;at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
&#160;&#160; &#160;at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
&#160;&#160; &#160;at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
&#160;&#160; &#160;at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
&#160;&#160; &#160;at org.junit.rules.RunRules.evaluate(RunRules.java:20)
&#160;&#160; &#160;at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
&#160;&#160; &#160;at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
&#160;&#160; &#160;at org.apache.qpid.tests.utils.QpidTestRunner.runChild(QpidTestRunner.java:84)
&#160;&#160; &#160;at org.apache.qpid.tests.utils.QpidTestRunner.runChild(QpidTestRunner.java:28)
&#160;&#160; &#160;at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
&#160;&#160; &#160;at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
&#160;&#160; &#160;at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
&#160;&#160; &#160;at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
&#160;&#160; &#160;at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
&#160;&#160; &#160;at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
&#160;&#160; &#160;at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
&#160;&#160; &#160;at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
&#160;&#160; &#160;at org.apache.qpid.tests.utils.QpidTestRunner.run(QpidTestRunner.java:59)
&#160;&#160; &#160;at org.junit.runner.JUnitCore.run(JUnitCore.java:160)
&#160;&#160; &#160;at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
&#160;&#160; &#160;at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
&#160;&#160; &#160;at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
&#160;&#160; &#160;at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.apache.qpid.AMQConnectionFailureException: Key protection&#160; algorithm not found: java.security.UnrecoverableKeyException: Encrypt Private Key failed: getSecretKey failed: Password is not ASCII
&#160;&#160; &#160;at org.apache.qpid.client.AMQConnection.makeConnection(AMQConnection.java:672)
&#160;&#160; &#160;at org.apache.qpid.client.AMQConnection.&amp;lt;init&amp;gt;(AMQConnection.java:522)
&#160;&#160; &#160;at org.apache.qpid.client.AMQConnectionFactory.createConnection(AMQConnectionFactory.java:164)
&#160;&#160; &#160;... 32 more
Caused by: org.apache.qpid.transport.TransportException: Error creating SSL Context
&#160;&#160; &#160;at org.apache.qpid.transport.network.security.SecurityLayerFactory$SSLSecurityLayer.&amp;lt;init&amp;gt;(SecurityLayerFactory.java:100)
&#160;&#160; &#160;at org.apache.qpid.transport.network.security.SecurityLayerFactory.newInstance(SecurityLayerFactory.java:59)
&#160;&#160; &#160;at org.apache.qpid.client.AMQConnectionDelegate_8_0.makeBrokerConnection(AMQConnectionDelegate_8_0.java:142)
&#160;&#160; &#160;at org.apache.qpid.client.AMQConnection.makeBrokerConnection(AMQConnection.java:816)
&#160;&#160; &#160;at org.apache.qpid.client.AMQConnection.makeConnection(AMQConnection.java:583)
&#160;&#160; &#160;... 34 more
Caused by: java.security.KeyStoreException: Key protection&#160; algorithm not found: java.security.UnrecoverableKeyException: Encrypt Private Key failed: getSecretKey failed: Password is not ASCII
&#160;&#160; &#160;at java.base/sun.security.pkcs12.PKCS12KeyStore.setKeyEntry(PKCS12KeyStore.java:704)
&#160;&#160; &#160;at java.base/sun.security.pkcs12.PKCS12KeyStore.engineSetKeyEntry(PKCS12KeyStore.java:601)
&#160;&#160; &#160;at java.base/sun.security.util.KeyStoreDelegator.engineSetKeyEntry(KeyStoreDelegator.java:111)
&#160;&#160; &#160;at java.base/java.security.KeyStore.setKeyEntry(KeyStore.java:1174)
&#160;&#160; &#160;at org.apache.qpid.transport.ConnectionSettings.getKeyManagers(ConnectionSettings.java:666)
&#160;&#160; &#160;at org.apache.qpid.transport.ConnectionSettings.getKeyManagers(ConnectionSettings.java:610)
&#160;&#160; &#160;at org.apache.qpid.transport.network.security.SecurityLayerFactory$SSLSecurityLayer.&amp;lt;init&amp;gt;(SecurityLayerFactory.java:93)
&#160;&#160; &#160;... 38 more
Caused by: java.security.UnrecoverableKeyException: Encrypt Private Key failed: getSecretKey failed: Password is not ASCII
&#160;&#160; &#160;at java.base/sun.security.pkcs12.PKCS12KeyStore.encryptPrivateKey(PKCS12KeyStore.java:951)
&#160;&#160; &#160;at java.base/sun.security.pkcs12.PKCS12KeyStore.setKeyEntry(PKCS12KeyStore.java:641)
&#160;&#160; &#160;... 44 more
Caused by: java.io.IOException: getSecretKey failed: Password is not ASCII
&#160;&#160; &#160;at java.base/sun.security.pkcs12.PKCS12KeyStore.getPBEKey(PKCS12KeyStore.java:868)
&#160;&#160; &#160;at java.base/sun.security.pkcs12.PKCS12KeyStore.encryptPrivateKey(PKCS12KeyStore.java:932)
&#160;&#160; &#160;... 45 more
Caused by: java.security.spec.InvalidKeySpecException: Password is not ASCII
&#160;&#160; &#160;at java.base/com.sun.crypto.provider.PBEKey.&amp;lt;init&amp;gt;(PBEKey.java:67)
&#160;&#160; &#160;at java.base/com.sun.crypto.provider.PBEKeyFactory.engineGenerateSecret(PBEKeyFactory.java:219)
&#160;&#160; &#160;at java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:344)
&#160;&#160; &#160;at java.base/sun.security.pkcs12.PKCS12KeyStore.getPBEKey(PKCS12KeyStore.java:864)
&#160;&#160; &#160;... 46 more



&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;java11&lt;/p&gt;</environment>
        <key id="13195153">QPID-8255</key>
            <summary>[JMS AMQP 0-x] Connection failure  with connection option &apos;client_cert_priv_key_path&apos; and java 11</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="orudyy">Alex Rudyy</assignee>
                                    <reporter username="orudyy">Alex Rudyy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2018 16:13:11 +0000</created>
                <updated>Thu, 28 May 2020 13:46:26 +0000</updated>
                            <resolved>Mon, 20 May 2019 08:43:18 +0000</resolved>
                                    <version>qpid-java-client-0-x-6.3.3</version>
                                    <fixVersion>qpid-java-client-0-x-6.3.4</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16837565" author="jira-bot" created="Fri, 10 May 2019 20:07:10 +0000"  >&lt;p&gt;Commit 5ec0a566a465f7e249d750157b68c99b7789c490 in qpid-jms-amqp-0-x&apos;s branch refs/heads/master from Alex Rudyy&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=5ec0a56&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=5ec0a56&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-8255&quot; title=&quot;[JMS AMQP 0-x] Connection failure  with connection option &amp;#39;client_cert_priv_key_path&amp;#39; and java 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-8255&quot;&gt;&lt;del&gt;QPID-8255&lt;/del&gt;&lt;/a&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;JMS AMQ 0-x&amp;#93;&lt;/span&gt; Stop using non-ASCII characters in internal passwords&lt;/p&gt;</comment>
                            <comment id="16837568" author="jira-bot" created="Fri, 10 May 2019 20:11:25 +0000"  >&lt;p&gt;Commit a8672ab66e8885532c19bae6943c3f833840015d in qpid-jms-amqp-0-x&apos;s branch refs/heads/6.3.x from Alex Rudyy&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=a8672ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=a8672ab&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-8255&quot; title=&quot;[JMS AMQP 0-x] Connection failure  with connection option &amp;#39;client_cert_priv_key_path&amp;#39; and java 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-8255&quot;&gt;&lt;del&gt;QPID-8255&lt;/del&gt;&lt;/a&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;JMS AMQ 0-x&amp;#93;&lt;/span&gt; Stop using non-ASCII characters in internal passwords&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 5ec0a566a465f7e249d750157b68c99b7789c490)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3zt2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>