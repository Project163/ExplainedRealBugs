<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:20:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-1119] [Java] Timeout on consumer creation with large queues</title>
                <link>https://issues.apache.org/jira/browse/QPID-1119</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;We&apos;ve seen consumer timeout (&quot;Error registering consumer: org.apache.qpid.AMQTimeoutException: Server did not respond in a timely fashion&quot;). This was seen with volume testing, and 45,000 messages in the queue the consumer was attempting to connect to.&lt;/p&gt;

&lt;p&gt;The issue there is that for every subscription request it needs to go over the whole queue, to work out which messages should go to which subscriber. The broker runs with number of threads == number of cores, so if you have lots of consumers they will queue up behind one another to get processed. One solution is to stagger the consumer starts on the appication side, but we can also expose the connection timeout for configuration so that applications can use this.&lt;/p&gt;

&lt;p&gt;Thus need to create a configurable timeout for sync responses. Rob Godfrey can advise if further info required.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12397386">QPID-1119</key>
            <summary>[Java] Timeout on consumer creation with large queues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aidan">Aidan Skinner</assignee>
                                    <reporter username="marnie">Marnie McCormack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 15:31:17 +0000</created>
                <updated>Tue, 14 Mar 2017 20:02:04 +0000</updated>
                            <resolved>Wed, 22 Oct 2008 10:59:00 +0000</resolved>
                                    <version>M2.1</version>
                                    <fixVersion>M3</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12620648" author="aidan" created="Thu, 7 Aug 2008 15:19:06 +0000"  >&lt;p&gt;Needs test, shouldn&apos;t be a problem post refactor&lt;/p&gt;</comment>
                            <comment id="12624899" author="ritchiem" created="Fri, 22 Aug 2008 16:45:03 +0000"  >&lt;p&gt;Hey can you review this form me?&lt;/p&gt;</comment>
                            <comment id="12625306" author="aidan" created="Mon, 25 Aug 2008 09:57:24 +0000"  >&lt;p&gt;Patch looks OK, the test has been failing in cruise control though. &lt;/p&gt;</comment>
                            <comment id="12625765" author="ritchiem" created="Tue, 26 Aug 2008 15:23:03 +0000"  >&lt;p&gt;The problem with the test failing in CI seems to be a protocol issue.&lt;/p&gt;</comment>
                            <comment id="12628301" author="ritchiem" created="Thu, 4 Sep 2008 10:30:50 +0000"  >&lt;p&gt;SyncWaitTimeoutDelayTest has been disabled as per &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-1262&quot; title=&quot;[AMQP-0-8/9] Client can incorrectly report CommitOK if previous commit timed out.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-1262&quot;&gt;&lt;del&gt;QPID-1262&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12628302" author="ritchiem" created="Thu, 4 Sep 2008 10:31:24 +0000"  >&lt;p&gt;Aidan can you review this change please.&lt;/p&gt;</comment>
                            <comment id="12629518" author="aidan" created="Tue, 9 Sep 2008 16:14:20 +0000"  >&lt;p&gt;Now there is a test, but it&apos;s been disabled. &lt;/p&gt;</comment>
                            <comment id="12639863" author="ritchiem" created="Wed, 15 Oct 2008 14:12:02 +0000"  >&lt;p&gt;The test had been disabled but &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-1262&quot; title=&quot;[AMQP-0-8/9] Client can incorrectly report CommitOK if previous commit timed out.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-1262&quot;&gt;&lt;del&gt;QPID-1262&lt;/del&gt;&lt;/a&gt; does not block this issue.&lt;/p&gt;

&lt;p&gt;The reason that the SWTDT was failing was that we have no way to start an external broker with a specified broker.&lt;/p&gt;

&lt;p&gt;JIRA to follow.&lt;/p&gt;</comment>
                            <comment id="12639865" author="ritchiem" created="Wed, 15 Oct 2008 14:20:43 +0000"  >&lt;p&gt;The Timeout test fails when run with the Java profile as the configuration setup is only used by the InVM broker. &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-1103&quot; title=&quot;Add ability to provide a configuration file for broker start up in java test suite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-1103&quot;&gt;&lt;del&gt;QPID-1103&lt;/del&gt;&lt;/a&gt; will allow this test to be run against an external broker but the test runs file against the InVM broker.&lt;/p&gt;</comment>
                            <comment id="12639866" author="ritchiem" created="Wed, 15 Oct 2008 14:31:49 +0000"  >&lt;p&gt;This issue is not blocked by &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-1262&quot; title=&quot;[AMQP-0-8/9] Client can incorrectly report CommitOK if previous commit timed out.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-1262&quot;&gt;&lt;del&gt;QPID-1262&lt;/del&gt;&lt;/a&gt; as mentioned above.&lt;/p&gt;</comment>
                            <comment id="12640099" author="ritchiem" created="Thu, 16 Oct 2008 08:03:46 +0000"  >&lt;p&gt;Hi Aidan, The test has been re-enabled on for InVM tests the Java Profile testing will need &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-1103&quot; title=&quot;Add ability to provide a configuration file for broker start up in java test suite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-1103&quot;&gt;&lt;del&gt;QPID-1103&lt;/del&gt;&lt;/a&gt; to be completed first. &lt;/p&gt;</comment>
                            <comment id="12641779" author="aidan" created="Wed, 22 Oct 2008 10:59:00 +0000"  >&lt;p&gt;Fine, just remember to re-enable this for the Java broker when &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-1103&quot; title=&quot;Add ability to provide a configuration file for broker start up in java test suite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-1103&quot;&gt;&lt;del&gt;QPID-1103&lt;/del&gt;&lt;/a&gt; is fixed&lt;/p&gt;</comment>
                            <comment id="12757858" author="ritchiem" created="Mon, 21 Sep 2009 09:34:55 +0000"  >&lt;p&gt;FAQ Entry&lt;br/&gt;
&lt;a href=&quot;http://cwiki.apache.org/confluence/display/qpid/Qpid+Java+FAQ#QpidJavaFAQ-Clientkeepsthrowing%27Serverdidnotrespondinatimelyfashion%27&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/confluence/display/qpid/Qpid+Java+FAQ#QpidJavaFAQ-Clientkeepsthrowing%27Serverdidnotrespondinatimelyfashion%27&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12397065">QPID-1103</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>168074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bu53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>