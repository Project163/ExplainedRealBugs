<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:20:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-1178] Java Client Rejects messages for QueueBrowsers</title>
                <link>https://issues.apache.org/jira/browse/QPID-1178</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;Summary:&lt;br/&gt;
The Java client wastes it&apos;s time rejecting messages for closed QueueBrowsers.&lt;/p&gt;

&lt;p&gt;In 0-8 these messages are sent with NO_ACK so the reject will currently have no effect.&lt;br/&gt;
Currently the Java Broker simply reports a warning of this:&lt;br/&gt;
            _logger.warn(&quot;Dropping reject request as message is null for tag:&quot; + deliveryTag);&lt;br/&gt;
//            throw evt.getMethod().getChannelException(AMQConstant.NOT_FOUND, &quot;Delivery Tag(&quot; + deliveryTag + &quot;)not known&quot;);&lt;br/&gt;
But it should close the Channel as rejecting an invalid message is a Channel error:&lt;/p&gt;

&lt;p&gt;Protocol Trace attached in comments:&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400367">QPID-1178</key>
            <summary>Java Client Rejects messages for QueueBrowsers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ritchiem">Martin Ritchie</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Jul 2008 11:16:57 +0000</created>
                <updated>Tue, 14 Mar 2017 20:02:03 +0000</updated>
                            <resolved>Wed, 23 Jul 2008 15:39:20 +0000</resolved>
                                                    <fixVersion>M3</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12613910" author="ritchiem" created="Wed, 16 Jul 2008 11:17:08 +0000"  >
&lt;p&gt;pool-6-thread-1 2008-07-15 22:52:34,102 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.server.protocol.AMQProtocolSession&amp;#93;&lt;/span&gt; Frame Received: Frame channelId: 1, bodyFrame: [BasicConsumeBodyImpl: ticket=0, queue=example.queue, consumerTag=4, noLocal=false, noAck=true, exclusive=false, nowait=false, arguments=&lt;/p&gt;
{x-filter-auto-close=[BOOLEAN: true], x-filter-no-consume=[BOOLEAN: true]}
&lt;p&gt;]&lt;br/&gt;
pool-6-thread-1 2008-07-15 22:52:34,102 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.server.handler.BasicConsumeMethodHandler&amp;#93;&lt;/span&gt; BasicConsume: from &apos;example.queue&apos; for:4 nowait:false args:&lt;/p&gt;
{x-filter-auto-close=[BOOLEAN: true], x-filter-no-consume=[BOOLEAN: true]}
&lt;p&gt;...&lt;br/&gt;
pool-6-thread-3 2008-07-15 22:52:34,110 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.client.protocol.AMQProtocolHandler&amp;#93;&lt;/span&gt; (32978439)Method frame received: &lt;span class=&quot;error&quot;&gt;&amp;#91;BasicDeliverBodyImpl: consumerTag=4, deliveryTag=1, redelivered=false, exchange=amq.direct, routingKey=example.queue&amp;#93;&lt;/span&gt;&lt;br/&gt;
pool-6-thread-3 2008-07-15 22:52:34,110 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.client.handler.BasicDeliverMethodHandler&amp;#93;&lt;/span&gt; New JmsDeliver method received:org.apache.qpid.client.protocol.AMQProtocolSession@164c243&lt;br/&gt;
...&lt;br/&gt;
main 2008-07-15 22:52:34,115 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;apache.qpid.client.BasicMessageConsumer&amp;#93;&lt;/span&gt; Closing consumer:4&lt;span class=&quot;error&quot;&gt;&amp;#91;18154379&amp;#93;&lt;/span&gt;&lt;br/&gt;
main 2008-07-15 22:52:34,115 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;apache.qpid.framing.AMQDataBlockEncoder&amp;#93;&lt;/span&gt; Encoded frame byte-buffer is &apos;0x01000100000007003c001e013400ce&apos;&lt;br/&gt;
main 2008-07-15 22:52:34,115 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.client.protocol.AMQProtocolHandler&amp;#93;&lt;/span&gt; Sent frame Frame channelId: 1, bodyFrame: &lt;span class=&quot;error&quot;&gt;&amp;#91;BasicCancelBodyImpl: consumerTag=4, nowait=false&amp;#93;&lt;/span&gt;&lt;br/&gt;
...&lt;br/&gt;
Dispatcher-Channel-1 2008-07-15 22:52:34,115 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;apache.qpid.client.AMQSession$Dispatcher&amp;#93;&lt;/span&gt; Received a message(10201233)&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; from queue  consumer(4) is closed rejecting(requeue)...&lt;br/&gt;
...&lt;br/&gt;
Dispatcher-Channel-1 2008-07-15 22:52:34,115 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;apache.qpid.client.AMQSession&amp;#93;&lt;/span&gt; Rejecting Unacked message:1&lt;br/&gt;
Dispatcher-Channel-1 2008-07-15 22:52:34,115 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;apache.qpid.client.AMQSession&amp;#93;&lt;/span&gt; Rejecting delivery tag:1:SessionHC:22530022&lt;br/&gt;
Dispatcher-Channel-1 2008-07-15 22:52:34,115 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;apache.qpid.framing.AMQDataBlockEncoder&amp;#93;&lt;/span&gt; Encoded frame byte-buffer is &apos;0x0100010000000d003c005a000000000000000101ce&apos;&lt;br/&gt;
Dispatcher-Channel-1 2008-07-15 22:52:34,115 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.client.protocol.AMQProtocolHandler&amp;#93;&lt;/span&gt; Sent frame Frame channelId: 1, bodyFrame: &lt;span class=&quot;error&quot;&gt;&amp;#91;BasicRejectBodyImpl: deliveryTag=1, requeue=true&amp;#93;&lt;/span&gt;&lt;br/&gt;
...&lt;br/&gt;
pool-6-thread-4 2008-07-15 22:52:34,835 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.server.protocol.AMQProtocolSession&amp;#93;&lt;/span&gt; Frame Received: Frame channelId: 1, bodyFrame: &lt;span class=&quot;error&quot;&gt;&amp;#91;BasicRejectBodyImpl: deliveryTag=1, requeue=true&amp;#93;&lt;/span&gt;&lt;br/&gt;
pool-6-thread-4 2008-07-15 22:52:34,835 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.server.handler.BasicRejectMethodHandler&amp;#93;&lt;/span&gt; Rejecting:1: Requeue:true on channel:1(26085693)&lt;br/&gt;
pool-6-thread-4 2008-07-15 22:52:34,835 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;qpid.server.handler.BasicRejectMethodHandler&amp;#93;&lt;/span&gt; Dropping reject request as message is null for tag:1&lt;/p&gt;</comment>
                            <comment id="12616127" author="ritchiem" created="Wed, 23 Jul 2008 15:39:20 +0000"  >&lt;p&gt;Resolved on trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>168127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 18 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bxrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67582</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>