<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:20:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-1319] Options for a broker (given in the broker list in the connection URL) should default to the top level values</title>
                <link>https://issues.apache.org/jira/browse/QPID-1319</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;Options for a given broker (specified in the broker list in conneciton URL) should default  to the top level values unless specified explictly.&lt;br/&gt;
However there seems to be only one such option, which is SSL. (according to the wiki)&lt;br/&gt;
Ih the future there maybe more such options.&lt;/p&gt;

&lt;p&gt;Currently if SSL option is specified in top level options, it doesn&apos;t get copied to individual broker level options.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405844">QPID-1319</key>
            <summary>Options for a broker (given in the broker list in the connection URL) should default to the top level values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajith">Rajith Muditha Attapattu</assignee>
                                    <reporter username="rajith">Rajith Muditha Attapattu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Oct 2008 19:38:33 +0000</created>
                <updated>Tue, 14 Mar 2017 20:02:46 +0000</updated>
                            <resolved>Thu, 18 Dec 2008 14:27:07 +0000</resolved>
                                    <version>M4</version>
                                    <fixVersion>M4</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12637498" author="rajith" created="Tue, 7 Oct 2008 14:14:41 +0000"  >&lt;p&gt;A fix for this along with a test case has been committed in r702488 on trunk.&lt;/p&gt;</comment>
                            <comment id="12637520" author="ritchiem" created="Tue, 7 Oct 2008 15:34:07 +0000"  >&lt;p&gt;Hi Rajith, a couple of points that would be good to address in your changes.&lt;/p&gt;

&lt;p&gt;The ssl option should only be attached to the entry in the brokerlist and not at the same level as brokerlist.&lt;/p&gt;

&lt;p&gt;The change of the empty constructor to be totally empty highlights its weirdness, the fact that you can make the AMQBrokerDetails object in two different ways that result in two different objects &lt;/p&gt;




</comment>
                            <comment id="12637525" author="rajith" created="Tue, 7 Oct 2008 15:54:27 +0000"  >&lt;p&gt;Martin, appreciate your comments.&lt;/p&gt;

&lt;p&gt;&amp;gt;The ssl option should only be attached to the entry in the brokerlist and not at the same level as brokerlist.&lt;br/&gt;
According to the wiki entry below that is not the case.&lt;br/&gt;
&lt;a href=&quot;http://cwiki.apache.org/qpid/connection-url-format.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/qpid/connection-url-format.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;More specifcally look at the following example given in the above wiki entry.&lt;br/&gt;
amqp://guest:guest@client/test?ssl=&apos;true&apos;&amp;amp;brokerlist=&apos;tcp://localhost;tcp://redundant-server:5673?ssl=&apos;false&apos;&apos;&amp;amp;failover=&apos;roundrobin&apos;&lt;/p&gt;

&lt;p&gt;I don&apos;t know which one is correct. What ever we do, we need to sync our documentation with the code.&lt;/p&gt;

&lt;p&gt;&amp;gt; The change of the empty constructor to be totally empty highlights its weirdness, the fact that you can make the AMQBrokerDetails object in two different ways that result in two different objects&lt;br/&gt;
There is code in the client that does rely on the empty constructor. Look at URLParser_0_10.java line 198.&lt;br/&gt;
This code is not in any way weird than the previous version. &lt;br/&gt;
If somebody called the argumentless constructor in the previous version it would have resulted in the same state. (i.e in the prev version the options was initialized in the constructor, in the new version it was init as a field).&lt;br/&gt;
Could you please explain how it is different now? (maybe I have missed something).&lt;/p&gt;</comment>
                            <comment id="12637526" author="rajith" created="Tue, 7 Oct 2008 15:56:57 +0000"  >&lt;p&gt;Assigning to Aidan for review as indicated on the qpid-list.&lt;/p&gt;</comment>
                            <comment id="12637532" author="aidan" created="Tue, 7 Oct 2008 16:12:48 +0000"  >&lt;p&gt;Assigning to Rajith since the review has found problems. &lt;/p&gt;</comment>
                            <comment id="12637535" author="rajith" created="Tue, 7 Oct 2008 16:20:35 +0000"  >&lt;p&gt;I don&apos;t believe they are problems and have answered the concerns raised by Martin.&lt;/p&gt;</comment>
                            <comment id="12637930" author="rgodfrey" created="Wed, 8 Oct 2008 13:56:27 +0000"  >&lt;p&gt;Comment on the following snippet:&lt;/p&gt;

&lt;p&gt;269 	         if (_options.containsKey(ConnectionURL.OPTIONS_SSL))&lt;br/&gt;
270 	  	         {&lt;br/&gt;
271 	  	             try&lt;br/&gt;
272 	  	             &lt;/p&gt;
{
273 	  	                 return Boolean.parseBoolean(_options.get(ConnectionURL.OPTIONS_SSL));
274 	  	             }
&lt;p&gt;275 	  	             catch (NumberFormatException nfe)&lt;br/&gt;
276 	  	             &lt;/p&gt;
{
277 	  	                 //Do nothing as we will use the default below.
278 	  	             }

&lt;p&gt;AFAICT there is no way that Boolean.parseBoolean can throw a NFE...  &lt;/p&gt;

&lt;p&gt;Looking at the publically available Sun 1.6 source code parseBoolean can never throw an exceptions directly...&lt;/p&gt;
</comment>
                            <comment id="12637932" author="rgodfrey" created="Wed, 8 Oct 2008 14:01:51 +0000"  >&lt;p&gt;Also,  I&apos;m not quite sure why the following constructor has been added:&lt;/p&gt;

&lt;p&gt;public AMQBrokerDetails(String url,Map&amp;lt;String, String&amp;gt; options) throws URLSyntaxException&lt;/p&gt;

&lt;p&gt;AFAICT at a cursory reading the only place that calls this is the other constructor which passes in &quot;null&quot; as the options map&lt;/p&gt;</comment>
                            <comment id="12638005" author="rajith" created="Wed, 8 Oct 2008 17:54:46 +0000"  >&lt;p&gt;Rob, thx for having a look at the JIRA.&lt;br/&gt;
The NFE was definitely a cut paste error and I will be correcting it shortly.&lt;/p&gt;

&lt;p&gt;As for the constructor, it is been called in URLParser.java line 196.&lt;br/&gt;
However I think the wiki entry is wrong and I agree with Aidan that SSL should only be a broker level option.&lt;br/&gt;
If we go that route then you don&apos;t need this constructor.&lt;/p&gt;</comment>
                            <comment id="12642236" author="rajith" created="Thu, 23 Oct 2008 19:21:30 +0000"  >&lt;p&gt;The code is reversed back to what it was before the above changes were applied.&lt;br/&gt;
Changes are checked in r707452 on trunk.&lt;br/&gt;
Need to change the examples in the wiki page as well.&lt;br/&gt;
I also removed the NFE in the useSSL method highlighted by rob.&lt;/p&gt;</comment>
                            <comment id="12642248" author="rajith" created="Thu, 23 Oct 2008 19:45:18 +0000"  >&lt;p&gt;I modified the examples and documentaiton on the wiki to reflect the code.&lt;/p&gt;</comment>
                            <comment id="12657784" author="rajith" created="Thu, 18 Dec 2008 14:27:07 +0000"  >&lt;p&gt;The fix to the URL issues was reversed. Instead the documentation on the wiki was updated to match the code.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>168235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bw7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>