<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:23:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-7297] [Java Client] Using socket:// address to supply a preexisting existing socket to the client fails on the 0-10 path</title>
                <link>https://issues.apache.org/jira/browse/QPID-7297</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;The Java Client supports addresses in the form &lt;tt&gt;socket://&amp;lt;socketname&amp;gt;&lt;/tt&gt; where &lt;tt&gt;&amp;lt;socketname&amp;gt;&lt;/tt&gt; is a string naming a Socket that has been previously registered with the client with &lt;tt&gt;org.apache.qpid.transport.network.io.IoNetworkTransport#registerOpenSocket&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This feature works in 0-8..0-91, but fails in 0-10 with the following stack trace.&lt;/p&gt;

&lt;p&gt;If the user wishes to use a protocol other than 0-10, they can workaround this problem by setting system property &lt;tt&gt;qpid.ampq.version&lt;/tt&gt; e.g -Dqpid.ampq.version=0-9.&lt;/p&gt;

&lt;p&gt;The problem is the 0-10 protocol stack fails to propagate the protocol name from the broker details url, so it treats the address as if it were tcp:.&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;javax.jms.JMSException: Error creating connection: mysock: nodename nor
servname provided, or not known
at org.apache.qpid.client.AMQConnectionFactory.createConnection(AMQConnectionFactory.java:134)
at org.apache.qpid.client.AMQConnectionFactory.createConnection(AMQConnectionFactory.java:57)
at org.apache.qpid.example.Hello.runTest(Hello.java:69)
at org.apache.qpid.example.Hello.main(Hello.java:51)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:606)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.apache.qpid.AMQUnresolvedAddressException: mysock:
nodename nor servname provided, or not known Broker,
&quot;socket://mysock:5672&quot;
at org.apache.qpid.client.AMQConnection.makeConnection(AMQConnection.java:598)
at org.apache.qpid.client.AMQConnection.&amp;lt;init&amp;gt;(AMQConnection.java:484)
at org.apache.qpid.client.AMQConnectionFactory.createConnection(AMQConnectionFactory.java:130)
... 8 more
Caused by: org.apache.qpid.transport.TransportException: Error
connecting to broker
at org.apache.qpid.transport.network.io.IoNetworkTransport.connectTcp(IoNetworkTransport.java:151)
at org.apache.qpid.transport.network.io.IoNetworkTransport.connect(IoNetworkTransport.java:69)
at org.apache.qpid.transport.Connection.connect(Connection.java:240)
at org.apache.qpid.client.AMQConnectionDelegate_0_10.makeBrokerConnection(AMQConnectionDelegate_0_10.java:240)
at org.apache.qpid.client.AMQConnection.makeBrokerConnection(AMQConnection.java:748)
at org.apache.qpid.client.AMQConnection.makeConnection(AMQConnection.java:514)
... 10 more
Caused by: java.net.UnknownHostException: mysock: nodename nor
servname provided, or not known
at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
at java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:901)
at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1295)
at java.net.InetAddress.getAllByName0(InetAddress.java:1248)
at java.net.InetAddress.getAllByName(InetAddress.java:1164)
at java.net.InetAddress.getAllByName(InetAddress.java:1098)
at java.net.InetAddress.getByName(InetAddress.java:1048)
at org.apache.qpid.transport.network.io.IoNetworkTransport.connectTcp(IoNetworkTransport.java:128)
... 15 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12977125">QPID-7297</key>
            <summary>[Java Client] Using socket:// address to supply a preexisting existing socket to the client fails on the 0-10 path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwall">Keith Wall</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Jun 2016 07:40:04 +0000</created>
                <updated>Wed, 2 Oct 2019 19:22:39 +0000</updated>
                            <resolved>Mon, 13 Jun 2016 09:28:55 +0000</resolved>
                                                    <fixVersion>qpid-java-6.1</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15326642" author="jira-bot" created="Sun, 12 Jun 2016 21:27:56 +0000"  >&lt;p&gt;Commit 1748053 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwall&quot; class=&quot;user-hover&quot; rel=&quot;kwall&quot;&gt;kwall&lt;/a&gt; in branch &apos;java/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1748053&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1748053&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-7297&quot; title=&quot;[Java Client] Using socket:// address to supply a preexisting existing socket to the client fails on the 0-10 path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-7297&quot;&gt;&lt;del&gt;QPID-7297&lt;/del&gt;&lt;/a&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;Java Client&amp;#93;&lt;/span&gt; Allow an existing socket to be used for 0-10 connections too&lt;/p&gt;</comment>
                            <comment id="15326655" author="rgodfrey" created="Sun, 12 Jun 2016 22:11:25 +0000"  >&lt;p&gt;Trivial nit-pick&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; expected = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error creating connection: No socket registered with id &lt;span class=&quot;code-quote&quot;&gt;&apos;unknownSock&apos;&lt;/span&gt;&quot;&lt;/span&gt;,
                                unknownSockName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should probably be&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; expected = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error creating connection: No socket registered with id &lt;span class=&quot;code-quote&quot;&gt;&apos;%s&apos;&lt;/span&gt;&quot;&lt;/span&gt;,
                                unknownSockName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15327046" author="jira-bot" created="Mon, 13 Jun 2016 09:20:19 +0000"  >&lt;p&gt;Commit 1748149 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwall&quot; class=&quot;user-hover&quot; rel=&quot;kwall&quot;&gt;kwall&lt;/a&gt; in branch &apos;java/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1748149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1748149&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-7297&quot; title=&quot;[Java Client] Using socket:// address to supply a preexisting existing socket to the client fails on the 0-10 path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-7297&quot;&gt;&lt;del&gt;QPID-7297&lt;/del&gt;&lt;/a&gt;: Address review comments from rgodfrey@apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2z7ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>