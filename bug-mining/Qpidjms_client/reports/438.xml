<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:21:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-3739] Java properties qpid.ssl.keyStoreCertType and qpid.ssl.trustStoreCertType have misleading names and would be better called qpid.ssl.[Key|Trust]ManagerFactory.algorithm</title>
                <link>https://issues.apache.org/jira/browse/QPID-3739</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;The Java client supports two system properties, &lt;tt&gt;qpid.ssl.trustStoreCertType&lt;/tt&gt; and &lt;tt&gt;qpid.ssl.keyStoreCertType&lt;/tt&gt; that the Programming-In-Apache-Qpid docbook describe as &quot;the certificate type&quot;.   These properties are defaulted to &lt;tt&gt;SunX509&lt;/tt&gt; in ConnectionSettings.java and SSLContextFactory.java.&lt;/p&gt;

&lt;p&gt;Similarly, the Java broker supports a configuration item &lt;tt&gt;connector/ssl/certType&lt;/tt&gt; which is again defaulted to &lt;tt&gt;SunX509&lt;/tt&gt; in ServerConfiguration.&lt;/p&gt;

&lt;p&gt;On all code paths, these values are passed down to {{javax.net.ssl.KeyManagerFactory&lt;br/&gt;
#getInstance()}} and &lt;tt&gt;javax.net.ssl.TrustManagerFactory#getInstance()&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The confusion is that &lt;tt&gt;KeyManagerFactory#getInstance()&lt;/tt&gt;/&lt;tt&gt;TrustManagerFactory#getInstance()&lt;/tt&gt; do not accept a certificate type at all.  It accepts a key/trust manager factory algorithm name.&lt;/p&gt;

&lt;p&gt;It would be better if the existing property names were deprecated and a more accurate name used, such as&lt;br/&gt;
qpid.ssl.KeyManagerFactory.algorithm/qpid.ssl.TrustManagerFactory.algorithm.  We would continue to support the existing properties, with a warning for a time period.&lt;/p&gt;

&lt;p&gt;I also notice that other projects tend to default the algorithm to Security.getProperty(&quot;ssl.KeyManagerFactory.algorithm&quot; and only fallback to SunX509 if that is null.  This plays better with non Sun JDKs such as IBMs. See:  &lt;a href=&quot;http://jira.codehaus.org/browse/JETTY-70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/JETTY-70&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12537875">QPID-3739</key>
            <summary>Java properties qpid.ssl.keyStoreCertType and qpid.ssl.trustStoreCertType have misleading names and would be better called qpid.ssl.[Key|Trust]ManagerFactory.algorithm</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwall">Keith Wall</assignee>
                                    <reporter username="kwall">Keith Wall</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 09:10:51 +0000</created>
                <updated>Wed, 11 Feb 2015 20:07:27 +0000</updated>
                            <resolved>Tue, 14 Feb 2012 10:32:58 +0000</resolved>
                                    <version>0.15</version>
                                    <fixVersion>0.15</fixVersion>
                                    <component>Broker-J</component>
                    <component>Java Documentation</component>
                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13195871" author="k-wall" created="Sun, 29 Jan 2012 23:06:37 +0000"  >&lt;p&gt;Committed patch.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Introduced two properties qpid.ssl.KeyManagerFactory.algorithm and qpid.ssl.TrustManagerFactory.algorithm to allow a client user to override the algorithm name used w&lt;/li&gt;
	&lt;li&gt;Continued to support qpid.ssl.keyStoreCertType and qpid.ssl.trustStoreCertType (now marked as deprecated)&lt;/li&gt;
	&lt;li&gt;Introduced a new Java Broker configuration key connector/ssl/keyManagerFactoryAlgorithm&lt;/li&gt;
	&lt;li&gt;Continued to support broker configuration key connector/ssl/certType (now marked as deprecated and will issue warning if used).&lt;/li&gt;
	&lt;li&gt;Changed the default from hardcoded &apos;SunX509&apos; to the value(s) returned by KeyManagerFactory#getDefaultAlgorithm() and TrustManagerFactory#getDefaultAlgorithm().  This&lt;/li&gt;
	&lt;li&gt;Updated client docbook documentation.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Tested both Java Broker and Client on IBM JDK and ensured all 0-10 and 0-9-1 profiles pass (including SSLTest which was failing prior to this change).&lt;/p&gt;</comment>
                            <comment id="13195874" author="k-wall" created="Sun, 29 Jan 2012 23:07:24 +0000"  >&lt;p&gt;Hi Robbie, could you review this commit please?&lt;/p&gt;</comment>
                            <comment id="13200472" author="gemmellr" created="Sat, 4 Feb 2012 16:12:23 +0000"  >&lt;p&gt;Changes seem good, just a couple tiny niggles:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The DEFAULT_ALGORITHM_NAME constant added in in ConnectionSettings seems unused.&lt;/li&gt;
	&lt;li&gt;The JETTY Jira mentions that the Security.getProperty() calls actually do return null on some JVMs, so it might be an idea to guard for that.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13204770" author="k-wall" created="Thu, 9 Feb 2012 19:40:43 +0000"  >&lt;p&gt;I&apos;ll remove the DEFAULT_ALGORITHM_NAME, we don&apos;t need it.&lt;/p&gt;

&lt;p&gt;I decided to default the algorithm names using KeyManagerFactory#getDefaultAlgorithm() and TrustManagerFactory#getDefaultAlgorithm() rather than using the system properties ssl.KeyManagerFactory.algorithm and ssl.TrustManagerFactory.algorithm to avoid the possibility that those system properties can return null on some JVM platforms.   I think it reasonable to assume that all platforms will return a default value.&lt;/p&gt;

&lt;p&gt;The Jetty defect mentions the  GnuJVM. The classpath docs say that getDefaultAlgorithm() returns JessieX509.&lt;/p&gt;

</comment>
                            <comment id="13207620" author="gemmellr" created="Tue, 14 Feb 2012 10:32:44 +0000"  >&lt;p&gt;Seems reasonable then, closing out.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bj93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>