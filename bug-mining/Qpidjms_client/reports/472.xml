<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:22:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-4289] [Java Client 0-8/0-9.x] Failover functionality sometimes does not restore the connection</title>
                <link>https://issues.apache.org/jira/browse/QPID-4289</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;Failover functionality on 0-8/0-9.x java client does not restore the connection in the following scenarios:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;when on initial establishing of the connectivity the connection object is marked as closed after not being able to connect to the first brokers from the broker list but at the end it manages to connect to the one of the following brokers from the broker list&lt;/li&gt;
	&lt;li&gt;there is a racing condition between waking up the connection state waiter and closing the phisical connection on receiving ConnectionClose command from the broker. As result, waiters are notified, new connection is created and closed afterwards.&lt;/li&gt;
	&lt;li&gt;on killing the broker when no IOException is thrown from socket input/output streams but instead -1 is returned by read operation, the failover starts but IoSender thread is left running. As result, on multiple reconnection attempts the thread resources can be exhausted and that can potentially result in OOME.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12606568">QPID-4289</key>
            <summary>[Java Client 0-8/0-9.x] Failover functionality sometimes does not restore the connection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="philharveyonline">Phil Harvey</assignee>
                                    <reporter username="orudyy">Alex Rudyy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Sep 2012 12:27:35 +0000</created>
                <updated>Tue, 14 Mar 2017 20:08:10 +0000</updated>
                            <resolved>Thu, 8 Nov 2012 05:58:16 +0000</resolved>
                                    <version>0.16</version>
                    <version>0.18</version>
                    <version>0.19</version>
                                    <fixVersion>0.19</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13450562" author="alex.rufous" created="Fri, 7 Sep 2012 12:32:51 +0000"  >&lt;p&gt;Attached a patch resolving the failover faunctionality issues on 0-9.x/0-8 path&lt;/p&gt;</comment>
                            <comment id="13450563" author="alex.rufous" created="Fri, 7 Sep 2012 12:33:48 +0000"  >&lt;p&gt;Robbie,&lt;br/&gt;
Could you please review and commit the patch attached?&lt;/p&gt;</comment>
                            <comment id="13451928" author="alex.rufous" created="Mon, 10 Sep 2012 12:43:04 +0000"  >&lt;p&gt;Attached the final version of the patch&lt;/p&gt;</comment>
                            <comment id="13452950" author="gemmellr" created="Tue, 11 Sep 2012 11:50:54 +0000"  >&lt;p&gt;Patch applied.&lt;/p&gt;</comment>
                            <comment id="13490028" author="gemmellr" created="Sat, 3 Nov 2012 14:20:02 +0000"  >&lt;p&gt;Reopening due to issues discussed on &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-4344&quot; title=&quot;FailoverTest.testP2PFailover 0-9 - failover not begun by client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-4344&quot;&gt;&lt;del&gt;QPID-4344&lt;/del&gt;&lt;/a&gt; which resulted from the changes sin this JIRA.&lt;/p&gt;</comment>
                            <comment id="13490036" author="gemmellr" created="Sat, 3 Nov 2012 15:20:30 +0000"  >&lt;p&gt;I have applied a patch from Phil Harvey (found on &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-4344&quot; title=&quot;FailoverTest.testP2PFailover 0-9 - failover not begun by client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-4344&quot;&gt;&lt;del&gt;QPID-4344&lt;/del&gt;&lt;/a&gt;) along with some additional changes of my own to resolve some issues (one caused by the prior changes in this JIRA) which could lead to the client not initiating failover when it should.&lt;/p&gt;</comment>
                            <comment id="13490037" author="gemmellr" created="Sat, 3 Nov 2012 15:21:13 +0000"  >&lt;p&gt;Phil, could you review the change please?&lt;/p&gt;</comment>
                            <comment id="13492978" author="philharveyonline" created="Thu, 8 Nov 2012 05:58:16 +0000"  >&lt;p&gt;I reviewed the changes Robbie made in the light of &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-4344&quot; title=&quot;FailoverTest.testP2PFailover 0-9 - failover not begun by client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-4344&quot;&gt;&lt;del&gt;QPID-4344&lt;/del&gt;&lt;/a&gt;. All looks good.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12608992">QPID-4344</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12547797">QPID-3912</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12544457" name="0001-QPID-4289-Fix-failover-issues.patch" size="32856" author="orudyy" created="Mon, 10 Sep 2012 12:43:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0be3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>