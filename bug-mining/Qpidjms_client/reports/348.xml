<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:21:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-3011] NPE thrown when using a custom exchange in a replyTo address.</title>
                <link>https://issues.apache.org/jira/browse/QPID-3011</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;The NPE is due to the generateDestination method in AbstractAMQMessageDelegate.java not handling the case where the _exchangeMap does not contain information about a particular exchange.&lt;/p&gt;

&lt;p&gt;This _exchangeMap is pre populated with the known exchange types and any other exchange it discovers subsequently through the updateExchangeMethod.&lt;br/&gt;
However if it encounters an exchange which is not represented in the map, that case is not handled.&lt;/p&gt;

&lt;p&gt;For example the following address is likely to cause an NPE if it is used as a replyTo address and wasn&apos;t used previously by any of the producers or consumers for that particular session.&lt;br/&gt;
&quot;hello;{create:always,node:{type:topic}}&quot;&lt;/p&gt;

&lt;p&gt;The solution to this problem should be two fold IMO&lt;/p&gt;

&lt;p&gt;1. Handle the null case - if information regarding an exchange is not present, create an ExchangeInfo object using the exchange-name, &quot;&quot; as the exchange class and UNKOWN as the destination type and use that to create the destination.&lt;br/&gt;
   If this destination is then used in a consumer or a producer, the address resolution code will query the broker and figure out the correct information.&lt;br/&gt;
   However it would have been better if information could be queried an updated right within the the generateDestination method - but at present that does not seem to be easy to deal with.&lt;/p&gt;

&lt;p&gt;2. Query and update the exchange information for the replyTo address (if present) just as we would for the &quot;exchange&quot; where the message originated from.&lt;br/&gt;
    This is done within the updateExchangeTypeMapping method in AMQMessageDelegate_0_10.java&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496200">QPID-3011</key>
            <summary>NPE thrown when using a custom exchange in a replyTo address.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajith">Rajith Muditha Attapattu</assignee>
                                    <reporter username="rajith">Rajith Muditha Attapattu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Jan 2011 23:44:59 +0000</created>
                <updated>Tue, 14 Mar 2017 20:07:31 +0000</updated>
                            <resolved>Thu, 17 Mar 2011 21:30:15 +0000</resolved>
                                    <version>0.8</version>
                                    <fixVersion>0.9</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13008152" author="rajith" created="Thu, 17 Mar 2011 21:30:15 +0000"  >&lt;p&gt;Fixed along with a test case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0boen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>