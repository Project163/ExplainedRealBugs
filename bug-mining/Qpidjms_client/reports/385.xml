<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:21:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-3263] Java (org.apache.qpid.client) XAResourceImpl always returns false for isSameRM</title>
                <link>https://issues.apache.org/jira/browse/QPID-3263</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;The isSameRM method of org.apache.qpid.client.XAResourceImpl always returns&lt;br/&gt;
false.&lt;/p&gt;

&lt;p&gt;The javadoc for isSameRM says ..&lt;/p&gt;

&lt;p&gt;&quot;This method is called to determine if the resource manager instance&lt;br/&gt;
represented by the target object is the same as the resource manager instance&lt;br/&gt;
represented by the parameter xares .&quot;&lt;/p&gt;

&lt;p&gt;which means isSameRM has to return true when invoked with identical objects&lt;br/&gt;
(Java identity). Clearly, these two XA resources are backed by the same&lt;br/&gt;
resource manager.&lt;/p&gt;

&lt;p&gt;//xaResource1 == xaResource2&lt;br/&gt;
XAResource xaResource1 = jmsXAResource;&lt;br/&gt;
XAResource xaResource2 = jmsXAResource;&lt;/p&gt;

&lt;p&gt;// xaResource1.isSameRM(xaResource2) should be true&lt;/p&gt;

&lt;p&gt;Because the Qpid implementation always returns false, it affects resource&lt;br/&gt;
enlistment/delistment.&lt;/p&gt;

&lt;p&gt;The source code (lines 213 - 217) of org.apache.qpid.client.XAResourceImpl&lt;br/&gt;
suggests that this method has not been fully completed.&lt;/p&gt;

&lt;p&gt;public boolean isSameRM(XAResource xaResource) throws XAException&lt;br/&gt;
{&lt;br/&gt;
// TODO : get the server identity of xaResource and compare it with our own one&lt;br/&gt;
return false;&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;All OS/hardware platforms as well as current brokers.&lt;/p&gt;</environment>
        <key id="12507633">QPID-3263</key>
            <summary>Java (org.apache.qpid.client) XAResourceImpl always returns false for isSameRM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wprice">Weston M. Price</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 May 2011 17:10:57 +0000</created>
                <updated>Tue, 14 Mar 2017 20:07:25 +0000</updated>
                            <resolved>Tue, 2 Aug 2011 15:38:59 +0000</resolved>
                                    <version>0.11</version>
                                    <fixVersion>0.14</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13035496" author="wprice" created="Wed, 18 May 2011 17:12:14 +0000"  >&lt;p&gt;Note, this was reported internally at RedHat via a customer. I am also attaching a test case as provided by the customer that shows the issue. I am working on a patch to fix the issue that I will submit to the review board once complete.&lt;/p&gt;
</comment>
                            <comment id="13035497" author="wprice" created="Wed, 18 May 2011 17:13:22 +0000"  >&lt;p&gt;Test case showing incorrect or incomplete isSameRM implementation in client XAResourceImpl.java&lt;/p&gt;</comment>
                            <comment id="13051024" author="wprice" created="Fri, 17 Jun 2011 12:45:50 +0000"  >&lt;p&gt;Adding patch for isSameRM fix.&lt;/p&gt;</comment>
                            <comment id="13073646" author="gsim" created="Mon, 1 Aug 2011 18:25:23 +0000"  >&lt;p&gt;Looks fine to me. (I might have been tempted to call the new method getBrokerId() since it returns a string which could potentially be any form of identifier. Very minor and subjective issue though).&lt;/p&gt;</comment>
                            <comment id="13073648" author="wprice" created="Mon, 1 Aug 2011 18:28:10 +0000"  >&lt;p&gt;why are you awake? &lt;/p&gt;



</comment>
                            <comment id="13076273" author="rajith" created="Tue, 2 Aug 2011 15:38:59 +0000"  >&lt;p&gt;Applied the patch from Weston Price with the following modifications.&lt;/p&gt;

&lt;p&gt;1. The test case now extends QpidBrokerTestCase instead of TestCase to ensure that it can run under the automated ant builds.&lt;/p&gt;

&lt;p&gt;2. Added an additional case to testIsSameRMMultiCF to ensure that isSameRM() returns false for two XAResources created from two different brokers.&lt;/p&gt;

&lt;p&gt;3. Excluded this test from the Java test profiles.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12479623" name="MRG-00471937.zip" size="3111" author="wprice" created="Wed, 18 May 2011 17:13:22 +0000"/>
                            <attachment id="12482928" name="qpid3263.patch" size="9535" author="wprice" created="Fri, 17 Jun 2011 12:45:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bn7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>