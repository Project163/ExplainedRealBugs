<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:20:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-1645] Kerberos auth support for the java client</title>
                <link>https://issues.apache.org/jira/browse/QPID-1645</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;Currently the 0-8 java client only supports PLAIN and cram-MD5 as authentication mechanisms.&lt;br/&gt;
The 0-10 java client only uses PLAIN.&lt;br/&gt;
It would be good to add Keberos as an authentication mechanism to the java client.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414055">QPID-1645</key>
            <summary>Kerberos auth support for the java client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajith">Rajith Muditha Attapattu</assignee>
                                    <reporter username="rajith">Rajith Muditha Attapattu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Feb 2009 23:29:34 +0000</created>
                <updated>Fri, 17 Apr 2009 09:51:17 +0000</updated>
                            <resolved>Tue, 24 Mar 2009 18:02:39 +0000</resolved>
                                    <version>M4</version>
                                    <fixVersion>0.5</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12671736" author="rajith" created="Mon, 9 Feb 2009 05:34:15 +0000"  >&lt;p&gt;This is commited to trunk at rev 742267.&lt;br/&gt;
I have only added this to the 0-10 code path, and should be trivial to add this to the 0-8/9 code path.&lt;br/&gt;
However currently only the c++ broker supports kerberos.&lt;/p&gt;

&lt;p&gt;How to&lt;br/&gt;
==========&lt;br/&gt;
You could force the java client to use kerberos auth by specifying it in the connection URL as follows.&lt;br/&gt;
amqp://guest:guest@clientid/testpath?brokerlist=&apos;tcp://localhost:5672?&apos;&amp;amp;sasl_mechs=&apos;GSSAPI&apos;&lt;/p&gt;

&lt;p&gt;You would then need to pass in the following jvm arguments&lt;br/&gt;
-Djavax.security.auth.useSubjectCredsOnly=false  (This will force the SASL GASSPI client to obtain the kerberos credentials explicitly instead of obtaining from the &quot;subject&quot; that owns the currents thread)&lt;br/&gt;
-Djava.security.auth.login.config=myjas.conf  (this specifies the jass config file)&lt;br/&gt;
-Dsun.security.krb5.debug=true (to enable detailed debug info for troubleshooting)&lt;/p&gt;

&lt;p&gt;Before running the java client you would need to do kinit and grab a kerberos ticket.&lt;br/&gt;
Alternative you could set useTicketCache=false and when the client loads, it will prompt you for the user/pass and will obtain the ticket&lt;br/&gt;
(You would also need to setup your kerberos environment properly  -refer to doc links below).&lt;/p&gt;

&lt;p&gt;======== Sample JASS Config file =============================&lt;/p&gt;

&lt;p&gt;com.sun.security.jgss.initiate  {&lt;br/&gt;
  com.sun.security.auth.module.Krb5LoginModule required useTicketCache=true;&lt;br/&gt;
};&lt;/p&gt;

&lt;p&gt;=========================================================&lt;/p&gt;

&lt;p&gt;Please refer to the following documentation for more details&lt;br/&gt;
&lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/guide/security/sasl/sasl-refguide.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/j2se/1.5.0/docs/guide/security/sasl/sasl-refguide.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/guide/security/jgss/tutorials/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/j2se/1.5.0/docs/guide/security/jgss/tutorials/index.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://tldp.org/HOWTO/Kerberos-Infrastructure-HOWTO/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tldp.org/HOWTO/Kerberos-Infrastructure-HOWTO/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12688772" author="rhs" created="Tue, 24 Mar 2009 18:03:07 +0000"  >&lt;p&gt;Reviewed commits.&lt;/p&gt;</comment>
                            <comment id="12696946" author="jasan" created="Wed, 8 Apr 2009 08:39:46 +0000"  >&lt;p&gt;I am about to verify the Java client kerberos SASL auth works.&lt;/p&gt;</comment>
                            <comment id="12700101" author="jasan" created="Fri, 17 Apr 2009 09:38:52 +0000"  >&lt;p&gt;VERIFIED&lt;br/&gt;
========&lt;/p&gt;

&lt;p&gt;On RHEL4 and RHEL5 I have verified this using the following&lt;br/&gt;
script:&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
#!/bin/sh&lt;br/&gt;
#&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Prerequisities:&lt;/li&gt;
	&lt;li&gt;* broker has to be run with &quot;qpidd --auth yes --realm EXAMPLE.COM&quot;&lt;/li&gt;
	&lt;li&gt;* you have to get the ticket first&lt;/li&gt;
	&lt;li&gt;* packages (qpidd, krb5-&lt;b&gt;, cyrus-sasl-gssapi, qpid-java-&lt;/b&gt;,&lt;/li&gt;
	&lt;li&gt;rhm-docs)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;EXAMPLE_PATH=/usr/share/doc/rhm-0.5/java&lt;br/&gt;
EXAMPLE_LIST=`find $EXAMPLE_PATH -type f -name &apos;*.java&apos;`&lt;br/&gt;
CLASSPATH=`find /usr/share/java -name &apos;*.jar&apos; | tr &apos;\n&apos; :`&lt;/p&gt;

&lt;p&gt;TMPFILE=`mktemp`&lt;br/&gt;
PROPFILE=$EXAMPLE_PATH/org/apache/qpid/example/jmsexample/requestResponse/\&lt;br/&gt;
requestResponse.properties&lt;/p&gt;

&lt;p&gt;cat $PROPFILE &amp;gt; $TMPFILE&lt;br/&gt;
sed -i &quot;s|^&amp;#40;connectionfactory.qpidConnectionfactory&amp;#41;.*$|\1 = amqp://testuser:test@clientid/testpath?brokerlist=&apos;tcp://$HOSTNAME:5672&apos;|&quot; $PROPFILE&lt;/p&gt;

&lt;p&gt;cat &amp;gt; $EXAMPLE_PATH/myjas.conf &amp;lt;&amp;lt;EOF&lt;br/&gt;
com.sun.security.jgss.initiate {&lt;br/&gt;
  com.sun.security.auth.module.Krb5LoginModule required useTicketCache=true;&lt;br/&gt;
};&lt;br/&gt;
EOF&lt;/p&gt;

&lt;p&gt;pushd $EXAMPLE_PATH&lt;br/&gt;
find $EXAMPLE_PATH  -iname *.class -exec rm {} \;&lt;br/&gt;
javac -cp  &quot;$CLASSPATH&quot; -sourcepath &quot;$EXAMPLE_PATH&quot; \&lt;br/&gt;
  -d &quot;$EXAMPLE_PATH&quot; $EXAMPLE_LIST&lt;/p&gt;

&lt;p&gt;java \&lt;br/&gt;
    -Djavax.security.auth.useSubjectCredsOnly=false \&lt;br/&gt;
    -Djava.security.auth.login.config=myjas.conf \&lt;br/&gt;
    -Dsun.security.krb5.debug=true \&lt;br/&gt;
    -Dqpid.sasl_mechs=&quot;GSSAPI&quot; \&lt;br/&gt;
    -Dqpid.sasl_protocol=qpidd \&lt;br/&gt;
    -Dqpid.sasl_server_name=$HOSTNAME \&lt;br/&gt;
    -cp &quot;$CLASSPATH&quot; \&lt;br/&gt;
    org.apache.qpid.example.jmsexample.requestResponse.Server \&lt;br/&gt;
    &amp;amp;&amp;gt; /dev/null &amp;amp;&lt;/p&gt;

&lt;p&gt;sleep 3&lt;/p&gt;

&lt;p&gt;java \&lt;br/&gt;
    -Djavax.security.auth.useSubjectCredsOnly=false \&lt;br/&gt;
    -Djava.security.auth.login.config=myjas.conf \&lt;br/&gt;
    -Dsun.security.krb5.debug=true \&lt;br/&gt;
    -Dqpid.sasl_mechs=&quot;GSSAPI&quot; \&lt;br/&gt;
    -Dqpid.sasl_protocol=qpidd \&lt;br/&gt;
    -Dqpid.sasl_server_name=$HOSTNAME \&lt;br/&gt;
    -cp &quot;$CLASSPATH&quot; \&lt;br/&gt;
    org.apache.qpid.example.jmsexample.requestResponse.Client&lt;/p&gt;

&lt;p&gt;killall java&lt;br/&gt;
cat $TMPFILE &amp;gt; $PROPFILE&lt;br/&gt;
rm -rfv $TMPFILE $EXAMPLE_PATH/myjas.conf&lt;br/&gt;
-------------------------------------------------------------------------------&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>168495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bvhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>