<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:21:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-3273]  JMSDeliveryMode has to be used as a string in a selector</title>
                <link>https://issues.apache.org/jira/browse/QPID-3273</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;Section 3.8.13 of the JMS spec says that JMSDeliveryMode has to be used as a string in a selector (i.e. JMSDeliveryMode = &apos;PERSISTENT&apos;). &lt;br/&gt;
But Qpid only supports it as an integer (i.e JMSDeliveryMode = 2).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507950">QPID-3273</key>
            <summary> JMSDeliveryMode has to be used as a string in a selector</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajith">Rajith Muditha Attapattu</assignee>
                                    <reporter username="rajith">Rajith Muditha Attapattu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 May 2011 01:41:23 +0000</created>
                <updated>Tue, 14 Mar 2017 20:08:11 +0000</updated>
                            <resolved>Wed, 29 Jun 2011 15:53:17 +0000</resolved>
                                    <version>0.6</version>
                    <version>0.8</version>
                    <version>0.10</version>
                                    <fixVersion>0.11</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13050449" author="gemmellr" created="Thu, 16 Jun 2011 14:31:42 +0000"  >&lt;p&gt;Hi Rajith, I have a few comments on the patch:&lt;/p&gt;

&lt;p&gt;The broker does not currently depend on the JMS specification jar, so it cant use the javax.jms.DeliveryMode constants; there are a matching set of constants in the BasicContentHeaderProperties class, if not others.&lt;/p&gt;

&lt;p&gt;The &lt;span class=&quot;error&quot;&gt;&amp;#91;pre-existing&amp;#93;&lt;/span&gt; log statements will now continue to output the int value for the DeliveryMode whilst the return value is updated to be a String, I think it should probably log the String now, or both.&lt;/p&gt;

&lt;p&gt;There should be a constant (one may or may not exist in the code base) for the PERSISTENT and NON_PERSISTENT strings instead of sprinkling more literals around the code base for them.&lt;/p&gt;

&lt;p&gt;The patch introduces a number of tabs instead of using spaces.&lt;/p&gt;</comment>
                            <comment id="13050577" author="rajith" created="Thu, 16 Jun 2011 17:31:14 +0000"  >&lt;p&gt;I already noticed that the broker does not depend on the JMS spec jar and fixed that - but thanks for pointing it out.&lt;br/&gt;
It seems the anyedit plugin is somewhat doing the exact opposite with the tabs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I will fix the log statements to probably include both.&lt;br/&gt;
As for using constants for PERSISTENT and NON_PERSISTENT, I will check to see if we have any existing constants.&lt;br/&gt;
If it doesn&apos;t exist, I am wondering where to include the constants. Do you know of an existing class that contains constants?&lt;br/&gt;
I am not too keen to add a new class just for this.&lt;/p&gt;</comment>
                            <comment id="13050581" author="rajith" created="Thu, 16 Jun 2011 17:34:07 +0000"  >&lt;p&gt;I could include the constants in the PropertyExpression.java itself. I guess for the time being thats the best option.&lt;/p&gt;</comment>
                            <comment id="13050631" author="rajith" created="Thu, 16 Jun 2011 18:30:01 +0000"  >&lt;p&gt;Used enums instead of string literals.&lt;br/&gt;
The log statements now print the textual representation instead of an int.&lt;/p&gt;</comment>
                            <comment id="13050937" author="gemmellr" created="Fri, 17 Jun 2011 08:50:41 +0000"  >&lt;p&gt;I think the enum should be static since it makes no use of the containing class, and probably private too (if it warrants being public then in this case it should be in its own file rather than being duplicated).&lt;/p&gt;

&lt;p&gt;Also, it occurs to me that there cant be an existing test for this otherwise the patch would be breaking it, so I think adding a unit test to cover the change is in order.&lt;/p&gt;</comment>
                            <comment id="13051176" author="rajith" created="Fri, 17 Jun 2011 16:37:05 +0000"  >&lt;p&gt;I will make it private. It would have been nice if there was a way to not duplicate it in both classes, but I think such a change was out of scope. Perhaps this is something we should keep in mind when we redesign things.&lt;/p&gt;

&lt;p&gt;As for the tests, I will try to add it to an existing test case.&lt;br/&gt;
I don&apos;t think adding a new test case for each commit is a very useful thing (this is not a criticism of your statement, but rather an observation of how we deal with this as a project). We currently have a very bloated test suite that is becoming unmanageable. However that&apos;s topic we need to discuss on a separate forum &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13051312" author="gemmellr" created="Fri, 17 Jun 2011 20:35:10 +0000"  >&lt;p&gt;The way not to duplicate the enum would just be to declare it in its own file in the common tree, not exactly a large change and certainly in scope considering you are adding it just now, but I dont feel strongly about that given what its used for.&lt;/p&gt;

&lt;p&gt;I do fairly strongly disagree with much of your comment about testing though. Many of our existing systests certainly do suck, but we absolutely should be ensuring we improve unit test coverage as we go and the clear way to do that is by adding specifically targeted unit tests of functionality whenever we know we are changing untested code. We certainly wont improve our testing situation by perpetuating it.&lt;/p&gt;</comment>
                            <comment id="13057309" author="rajith" created="Wed, 29 Jun 2011 15:53:17 +0000"  >&lt;p&gt;Fixed along with a test case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12482837" name="0001-QPID-3273.patch" size="5326" author="rajith" created="Thu, 16 Jun 2011 18:30:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bnlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>