<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:20:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-1823] Session creation for more than 64K channelId causes timeout </title>
                <link>https://issues.apache.org/jira/browse/QPID-1823</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;Mule connectors create a session for each message send. Once we get beyond 64K this causes a problem since channelId gets converted in AMQFrame.writeUnsignedShort and loops back round to 0. This is a problem since the channelId that the connection is holding does not get reset to the new value. It&apos;s also not ideal since channel 0 is the control channel.&lt;/p&gt;

&lt;p&gt;So, proposed solution is to:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;check the channelId on session creation to see if greater than the channelMax value&lt;/li&gt;
	&lt;li&gt;if greater, then create an array holding a boolean for each index position (i.e. integer) false meaning channelId available and true if in use.&lt;/li&gt;
	&lt;li&gt;we can also also reserve channel 0 for control channel&lt;/li&gt;
	&lt;li&gt;so, for sessions created after the channel max value is hit then we perform a lookup/add on session creation and a remove on session close&lt;/li&gt;
	&lt;li&gt;thus the cost associated is marginal and only introduced after the 64K+1 session is opened&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12423268">QPID-1823</key>
            <summary>Session creation for more than 64K channelId causes timeout </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aidan">Aidan Skinner</assignee>
                                    <reporter username="aidan">Aidan Skinner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Apr 2009 10:22:48 +0000</created>
                <updated>Tue, 14 Mar 2017 20:12:57 +0000</updated>
                            <resolved>Wed, 29 Jul 2009 15:53:03 +0000</resolved>
                                    <version>0.5</version>
                                    <fixVersion>0.5</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12700823" author="aidan" created="Mon, 20 Apr 2009 15:33:21 +0000"  >&lt;p&gt;patch, please review&lt;/p&gt;</comment>
                            <comment id="12700829" author="aidan" created="Mon, 20 Apr 2009 16:13:08 +0000"  >&lt;p&gt;Revised patch with criticism from Martin&lt;/p&gt;</comment>
                            <comment id="12701061" author="rossmason" created="Tue, 21 Apr 2009 05:41:54 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Just to clarify, you can tell Mule to cache sessions, Just set the cacheJmsSessions property on the connector:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jsm:connector name=&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt; cacheJmsSessions=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; .../&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This feature is off by default because it&apos;s not part of the JMS spec.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405944" name="QPID-1823.patch" size="10612" author="aidan" created="Mon, 20 Apr 2009 16:13:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>168645</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0bur3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>