<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:23:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPID-8135] [JMS AMQP 0-x] Connection URL options for end-to-end encryption keystore/trustore passwords can be logged when log level for &apos;org.apache.qpid&apos; loggers is lower than &apos;warn&apos;</title>
                <link>https://issues.apache.org/jira/browse/QPID-8135</link>
                <project id="12310520" key="QPID">Qpid</project>
                    <description>&lt;p&gt;The connection URL password options can be logged when log level for &apos;org.apache.qpid&apos; loggers is lower than &apos;warn&apos;.&lt;/p&gt;

&lt;p&gt;The following cases are identified when password is logged&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;when encryption keystore/trustore parameters are declared as part of broker URL , &apos;org.apache.qpid&apos; loggers log level is set to &apos;&apos;info&apos; or lower threshold and connectivity is not established, the encryption_key_store_password or encryption_trust_store_password can be logged with info log level as below
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2018-03-16 12:56:02,196 INFO  [main] o.a.q.c.AMQConnection Unable to connect to broker at tcp://localhost:5672?encryption_trust_store=&apos;/path/to/trustore.jks&apos;&amp;amp;encryption_trust_store_password=&apos;password&apos;
org.apache.qpid.transport.TransportException: Error connecting to broker
	at org.apache.qpid.transport.network.io.IoNetworkTransport.connectTcp(IoNetworkTransport.java:151)
...
2018-03-16 12:56:02,196 INFO  [main] o.a.q.j.f.FailoverRoundRobinServers ==== Checking failoverAllowed() ====
2018-03-16 12:56:02,197 INFO  [main] o.a.q.j.f.FailoverRoundRobinServers Cycle Servers:
Cycle Retries:20
Current Cycle:20
Server Retries:0
Current Retry:0
Current Broker:0
&amp;gt;tcp://localhost:5672?encryption_trust_store=&apos;/path/to/trsutsore.jks&apos;&amp;amp;encryption_trust_store_password=&apos;password&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;when encryption keystore/trustore parameters  or/and SSL trust store  parameters or/and SSL client-auth parameters are declared as part of connection URL and &apos;org.apache.qpid&apos; loggers log level is set to &apos;debug&apos; or lower threshold, the password options can be logged with DEBUG log level as below:
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2018-03-16 13:03:20,879 DEBUG [main] o.a.q.c.AMQConnection Connection(1):amqp://admin:********@consumer/?encryption_trust_store=&apos;/path/to/keystore.jks&apos;&amp;amp;trust_store=&apos;/path/to/trsustore.ts&apos;&amp;amp;key_store_password=&apos;secret&apos;&amp;amp;encryption_trust_store_password=&apos;password&apos;&amp;amp;key_store=&apos;/path/to/keystore.ks&apos;&amp;amp;trust_store_password=&apos;secret&apos;&amp;amp;brokerlist=&apos;tcp://localhost:5672&apos;&amp;amp;failover=&apos;roundrobin?cyclecount=&apos;20&apos;&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The work around for the issue would be to set debug log level to warn at least for the following loggers:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;org.apache.qpid.client.AMQConnection&lt;/li&gt;
	&lt;li&gt;org.apache.qpid.jms.failover.FailoverRoundRobinServers&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13145702">QPID-8135</key>
            <summary>[JMS AMQP 0-x] Connection URL options for end-to-end encryption keystore/trustore passwords can be logged when log level for &apos;org.apache.qpid&apos; loggers is lower than &apos;warn&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="orudyy">Alex Rudyy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Mar 2018 13:08:34 +0000</created>
                <updated>Wed, 2 Oct 2019 19:22:10 +0000</updated>
                            <resolved>Thu, 19 Apr 2018 11:35:10 +0000</resolved>
                                    <version>qpid-java-client-0-x-6.3.0</version>
                                    <fixVersion>qpid-java-client-0-x-6.3.1</fixVersion>
                                    <component>JMS AMQP 0-x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16427108" author="k-wall" created="Thu, 5 Apr 2018 15:27:42 +0000"  >&lt;p&gt;This JIRA is partly invalid - including the title.  Parameters key_store_password/trust_store_password/encryption_trust_store_password/encryption_key_store_password can&apos;t appear at the connection url level, so the second point listed above is invalid.   BrokerDetails#toString already masked key_store_password/trust_store_password.&lt;/p&gt;</comment>
                            <comment id="16427111" author="jira-bot" created="Thu, 5 Apr 2018 15:29:31 +0000"  >&lt;p&gt;Commit 97347f0fb0e0782398bd16a7ba2d318bbb759bd1 in qpid-jms-amqp-0-x&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwall&quot; class=&quot;user-hover&quot; rel=&quot;kwall&quot;&gt;kwall&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=97347f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=97347f0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-8135&quot; title=&quot;[JMS AMQP 0-x] Connection URL options for end-to-end encryption keystore/trustore passwords can be logged when log level for &amp;#39;org.apache.qpid&amp;#39; loggers is lower than &amp;#39;warn&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-8135&quot;&gt;&lt;del&gt;QPID-8135&lt;/del&gt;&lt;/a&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;Qpid JMS AMQP 0-x&amp;#93;&lt;/span&gt; Mask passwords associated with end to end encryption in the BrokerDetails#toString()&lt;/p&gt;</comment>
                            <comment id="16439624" author="alex.rufous" created="Mon, 16 Apr 2018 15:56:21 +0000"  >&lt;p&gt;Keith,&lt;br/&gt;
I believe that JIRA description is accurate. Since commit against &lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-6576&quot; title=&quot;[Java Client] Provide easy-to-use mechanism for end-to-end encryption of messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-6576&quot;&gt;&lt;del&gt;QPID-6576&lt;/del&gt;&lt;/a&gt;, the truststore/kestore options can now be declared either on broker URL level or connection URL level. If corresponding broker option is not present, the connection options are checked and if option is there it is used.  See &lt;tt&gt;BrokerDetails&lt;/tt&gt;. Though, this &quot;feature&quot; is undocumented.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getProperty(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key)
    {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value = _options.get(key);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(value == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; _connectionUrl != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            value = _connectionUrl.getOption(key);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Taking that declaration of encryption keystore/trustore parameters or/and SSL trust store parameters or/and SSL client-auth parameters on connection URL is undocumented I am happy with the changes implemented in [ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=97347f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=97347f0&lt;/a&gt; ].&lt;/p&gt;</comment>
                            <comment id="16439650" author="jira-bot" created="Mon, 16 Apr 2018 16:13:49 +0000"  >&lt;p&gt;Commit a9ff1856da994be8d4f83cc612e5ac1fd2bdddb6 in qpid-jms-amqp-0-x&apos;s branch refs/heads/6.3.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwall&quot; class=&quot;user-hover&quot; rel=&quot;kwall&quot;&gt;kwall&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=a9ff185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=a9ff185&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-8135&quot; title=&quot;[JMS AMQP 0-x] Connection URL options for end-to-end encryption keystore/trustore passwords can be logged when log level for &amp;#39;org.apache.qpid&amp;#39; loggers is lower than &amp;#39;warn&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-8135&quot;&gt;&lt;del&gt;QPID-8135&lt;/del&gt;&lt;/a&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;Qpid JMS AMQP 0-x&amp;#93;&lt;/span&gt; Mask passwords associated with end to end encryption in the BrokerDetails#toString()&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 97347f0fb0e0782398bd16a7ba2d318bbb759bd1)&lt;/p&gt;</comment>
                            <comment id="16442434" author="jira-bot" created="Wed, 18 Apr 2018 12:39:03 +0000"  >&lt;p&gt;Commit bcb5f70fd8bc0f628c868cf30b30f2f2ca349295 in qpid-jms-amqp-0-x&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alex.rufous&quot; class=&quot;user-hover&quot; rel=&quot;alex.rufous&quot;&gt;alex.rufous&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=bcb5f70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=bcb5f70&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-8135&quot; title=&quot;[JMS AMQP 0-x] Connection URL options for end-to-end encryption keystore/trustore passwords can be logged when log level for &amp;#39;org.apache.qpid&amp;#39; loggers is lower than &amp;#39;warn&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-8135&quot;&gt;&lt;del&gt;QPID-8135&lt;/del&gt;&lt;/a&gt;: Mask connection URL password options&lt;/p&gt;</comment>
                            <comment id="16443925" author="jira-bot" created="Thu, 19 Apr 2018 11:34:21 +0000"  >&lt;p&gt;Commit 37b6ce3177d7336057b91463bb42881a3de8d693 in qpid-jms-amqp-0-x&apos;s branch refs/heads/6.3.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alex.rufous&quot; class=&quot;user-hover&quot; rel=&quot;alex.rufous&quot;&gt;alex.rufous&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=37b6ce3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=37b6ce3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPID-8135&quot; title=&quot;[JMS AMQP 0-x] Connection URL options for end-to-end encryption keystore/trustore passwords can be logged when log level for &amp;#39;org.apache.qpid&amp;#39; loggers is lower than &amp;#39;warn&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPID-8135&quot;&gt;&lt;del&gt;QPID-8135&lt;/del&gt;&lt;/a&gt;: Mask connection URL password options&lt;/p&gt;</comment>
                            <comment id="16443926" author="k-wall" created="Thu, 19 Apr 2018 11:34:55 +0000"  >&lt;p&gt;Changes at&#160; &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms-amqp-0-x.git;h=bcb5f70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;bcb5f70&lt;/a&gt;&#160;looked reasonable to me.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3reg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>