diff --git a/client/src/main/java/org/apache/qpid/client/AMQConnectionDelegate_8_0.java b/client/src/main/java/org/apache/qpid/client/AMQConnectionDelegate_8_0.java
index bb04a7c19..634397547 100644
--- a/client/src/main/java/org/apache/qpid/client/AMQConnectionDelegate_8_0.java
+++ b/client/src/main/java/org/apache/qpid/client/AMQConnectionDelegate_8_0.java
@@ -120,7 +120,6 @@ public class AMQConnectionDelegate_8_0 implements AMQConnectionDelegate
                 EnumSet.of(AMQState.CONNECTION_OPEN, AMQState.CONNECTION_CLOSED);
 
         ConnectionSettings settings = brokerDetail.buildConnectionSettings();
-        settings.setProtocol(brokerDetail.getTransport());
 
         //Check connection-level ssl override setting
         String connectionSslOption = _conn.getConnectionURL().getOption(ConnectionURL.OPTIONS_SSL);
diff --git a/client/src/main/java/org/apache/qpid/client/BrokerDetails.java b/client/src/main/java/org/apache/qpid/client/BrokerDetails.java
index fd2516d5c..44255130b 100644
--- a/client/src/main/java/org/apache/qpid/client/BrokerDetails.java
+++ b/client/src/main/java/org/apache/qpid/client/BrokerDetails.java
@@ -461,6 +461,7 @@ public class BrokerDetails implements Serializable
 
         conSettings.setHost(getHost());
         conSettings.setPort(getPort());
+        conSettings.setTransport(getTransport());
 
         // ------------ sasl options ---------------
         if (getProperty(BrokerDetails.OPTIONS_SASL_MECHS) != null)
