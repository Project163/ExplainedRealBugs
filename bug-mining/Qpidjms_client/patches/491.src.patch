diff --git a/client/src/main/java/org/apache/qpid/client/XASessionImpl.java b/client/src/main/java/org/apache/qpid/client/XASessionImpl.java
index 05bd121bb..e01ec8578 100644
--- a/client/src/main/java/org/apache/qpid/client/XASessionImpl.java
+++ b/client/src/main/java/org/apache/qpid/client/XASessionImpl.java
@@ -88,7 +88,7 @@ public class XASessionImpl extends AMQSession_0_10 implements XASession, XATopic
      */
     public void createSession()
     {
-        _qpidDtxSession = getQpidConnection().createSession(0);
+        _qpidDtxSession = getQpidConnection().createSession(0,true);
         _qpidDtxSession.setSessionListener(this);
         _qpidDtxSession.dtxSelect();
     }
diff --git a/client/src/test/java/org/apache/qpid/client/AMQSession_0_10Test.java b/client/src/test/java/org/apache/qpid/client/AMQSession_0_10Test.java
index 59181c3a1..d4e0ee60a 100644
--- a/client/src/test/java/org/apache/qpid/client/AMQSession_0_10Test.java
+++ b/client/src/test/java/org/apache/qpid/client/AMQSession_0_10Test.java
@@ -597,7 +597,7 @@ public class AMQSession_0_10Test extends QpidTestCase
         connection.setSessionFactory(new SessionFactory()
         {
 
-            public Session newSession(Connection conn, Binary name, long expiry)
+            public Session newSession(Connection conn, Binary name, long expiry, boolean isNoReplay)
             {
                 return new MockSession(conn, new SessionDelegate(), name, expiry, throwException);
             }
