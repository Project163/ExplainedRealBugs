diff --git a/client/src/main/java/org/apache/qpid/client/AMQBrokerDetails.java b/client/src/main/java/org/apache/qpid/client/AMQBrokerDetails.java
index e59b6fbe1..8fb87f9e6 100644
--- a/client/src/main/java/org/apache/qpid/client/AMQBrokerDetails.java
+++ b/client/src/main/java/org/apache/qpid/client/AMQBrokerDetails.java
@@ -334,4 +334,15 @@ public class AMQBrokerDetails implements BrokerDetails
     }
 
 
+    public static String checkTransport(String broker)
+    {
+        if ((!broker.contains("://")))
+        {
+            return "tcp://" + broker;
+        }
+        else
+        {
+            return broker;
+        }
+    }
 }
diff --git a/client/src/main/java/org/apache/qpid/client/AMQConnection.java b/client/src/main/java/org/apache/qpid/client/AMQConnection.java
index ca101cb3b..b82a735f0 100644
--- a/client/src/main/java/org/apache/qpid/client/AMQConnection.java
+++ b/client/src/main/java/org/apache/qpid/client/AMQConnection.java
@@ -148,7 +148,7 @@ public class AMQConnection extends Closeable implements Connection, QueueConnect
         this(new AMQConnectionURL(ConnectionURL.AMQ_PROTOCOL + "://" +
                                   username + ":" + password + "@" +
                                   (clientName==null?"":clientName) +
-                                  virtualHost + "?brokerlist='" + broker + "'"));
+                                  virtualHost + "?brokerlist='" + AMQBrokerDetails.checkTransport(broker) + "'"));
     }
 
     public AMQConnection(String host, int port, String username, String password,
diff --git a/client/src/test/java/org/apache/qpid/test/unit/client/connectionurl/ConnectionURLTest.java b/client/src/test/java/org/apache/qpid/test/unit/client/connectionurl/ConnectionURLTest.java
index 147d2ae43..8e67f9778 100644
--- a/client/src/test/java/org/apache/qpid/test/unit/client/connectionurl/ConnectionURLTest.java
+++ b/client/src/test/java/org/apache/qpid/test/unit/client/connectionurl/ConnectionURLTest.java
@@ -207,6 +207,72 @@ public class ConnectionURLTest extends TestCase
         assertTrue(service.getPort() == 5672);
     }
 
+    public void testSingleTransportDefaultedBrokerWithPort() throws URLSyntaxException
+    {
+        String url = "amqp://guest:guest@/temp?brokerlist='localhost:1234'";
+
+        ConnectionURL connectionurl = new AMQConnectionURL(url);
+
+        assertTrue(connectionurl.getFailoverMethod() == null);
+        assertTrue(connectionurl.getUsername().equals("guest"));
+        assertTrue(connectionurl.getPassword().equals("guest"));
+        assertTrue(connectionurl.getVirtualHost().equals("/temp"));
+
+
+        assertTrue(connectionurl.getBrokerCount() == 1);
+
+        BrokerDetails service = connectionurl.getBrokerDetails(0);
+
+        assertTrue(service.getTransport().equals("tcp"));
+
+        assertTrue(service.getHost().equals("localhost"));
+        assertTrue(service.getPort() == 1234);
+    }
+
+    public void testSingleTransportDefaultedBrokerWithIP() throws URLSyntaxException
+    {
+        String url = "amqp://guest:guest@/temp?brokerlist='127.0.0.1'";
+
+        ConnectionURL connectionurl = new AMQConnectionURL(url);
+
+        assertTrue(connectionurl.getFailoverMethod() == null);
+        assertTrue(connectionurl.getUsername().equals("guest"));
+        assertTrue(connectionurl.getPassword().equals("guest"));
+        assertTrue(connectionurl.getVirtualHost().equals("/temp"));
+
+
+        assertTrue(connectionurl.getBrokerCount() == 1);
+
+        BrokerDetails service = connectionurl.getBrokerDetails(0);
+
+        assertTrue(service.getTransport().equals("tcp"));
+
+        assertTrue(service.getHost().equals("127.0.0.1"));
+        assertTrue(service.getPort() == 5672);
+    }
+
+    public void testSingleTransportDefaultedBrokerWithIPandPort() throws URLSyntaxException
+    {
+        String url = "amqp://guest:guest@/temp?brokerlist='127.0.0.1:1234'";
+
+//        ConnectionURL connectionurl = new AMQConnectionURL(url);
+//
+//        assertTrue(connectionurl.getFailoverMethod() == null);
+//        assertTrue(connectionurl.getUsername().equals("guest"));
+//        assertTrue(connectionurl.getPassword().equals("guest"));
+//        assertTrue(connectionurl.getVirtualHost().equals("/temp"));
+//
+//
+//        assertTrue(connectionurl.getBrokerCount() == 1);
+//
+//        BrokerDetails service = connectionurl.getBrokerDetails(0);
+//
+//        assertTrue(service.getTransport().equals("tcp"));
+//
+//        assertTrue(service.getHost().equals("127.0.0.1"));
+//        assertTrue(service.getPort() == 1234);
+    }
+
 
     public void testSingleTransportMultiOptionURL() throws URLSyntaxException
     {
@@ -309,7 +375,6 @@ public class ConnectionURLTest extends TestCase
     }
 
 
-
     public void testWrongOptionSeparatorInOptions()
     {
         String url = "amqp://guest:guest@/test?brokerlist='tcp://localhost:5672;tcp://localhost:5673'+failover='roundrobin'";
