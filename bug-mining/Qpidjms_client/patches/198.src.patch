diff --git a/client/src/main/java/org/apache/qpid/client/AMQConnectionFactory.java b/client/src/main/java/org/apache/qpid/client/AMQConnectionFactory.java
index 090620a56..01a915f2c 100644
--- a/client/src/main/java/org/apache/qpid/client/AMQConnectionFactory.java
+++ b/client/src/main/java/org/apache/qpid/client/AMQConnectionFactory.java
@@ -292,6 +292,11 @@ public class AMQConnectionFactory implements ConnectionFactory, QueueConnectionF
     }
 
     public Connection createConnection(String userName, String password) throws JMSException
+    {
+        return createConnection(userName, password, null);
+    }
+    
+    public Connection createConnection(String userName, String password, String id) throws JMSException
     {
         try
         {
@@ -299,8 +304,12 @@ public class AMQConnectionFactory implements ConnectionFactory, QueueConnectionF
             {
                 _connectionDetails.setUsername(userName);
                 _connectionDetails.setPassword(password);
-
-                if (_connectionDetails.getClientName() == null || _connectionDetails.getClientName().equals(""))
+                
+                if (id != null && !id.equals(""))
+                {
+                    _connectionDetails.setClientName(id);
+                } 
+                else if (_connectionDetails.getClientName() == null || _connectionDetails.getClientName().equals(""))
                 {
                     _connectionDetails.setClientName(getUniqueClientID());
                 }
@@ -308,7 +317,7 @@ public class AMQConnectionFactory implements ConnectionFactory, QueueConnectionF
             }
             else
             {
-                return new AMQConnection(_host, _port, userName, password, getUniqueClientID(), _virtualPath);
+                return new AMQConnection(_host, _port, userName, password, (id != null ? id : getUniqueClientID()), _virtualPath);
             }
         }
         catch (Exception e)
