diff --git a/client/src/main/java/org/apache/qpid/client/BasicMessageConsumer.java b/client/src/main/java/org/apache/qpid/client/BasicMessageConsumer.java
index 754055ad9..78741d629 100644
--- a/client/src/main/java/org/apache/qpid/client/BasicMessageConsumer.java
+++ b/client/src/main/java/org/apache/qpid/client/BasicMessageConsumer.java
@@ -323,14 +323,14 @@ public abstract class BasicMessageConsumer<U> extends Closeable implements Messa
             }
         }
 
-        if (!_receiving.compareAndSet(false, true))
+        if (isMessageListenerSet())
         {
-            throw new javax.jms.IllegalStateException("Another thread is already receiving.");
+            throw new javax.jms.IllegalStateException("A listener has already been set.");
         }
 
-        if (isMessageListenerSet())
+        if (!_receiving.compareAndSet(false, true))
         {
-            throw new javax.jms.IllegalStateException("A listener has already been set.");
+            throw new javax.jms.IllegalStateException("Another thread is already receiving.");
         }
 
         _receivingThread = Thread.currentThread();
