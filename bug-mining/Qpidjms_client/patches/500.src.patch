diff --git a/client/src/main/java/org/apache/qpid/client/security/CallbackHandlerRegistry.java b/client/src/main/java/org/apache/qpid/client/security/CallbackHandlerRegistry.java
index 6b2448e38..ce6d9bdc5 100644
--- a/client/src/main/java/org/apache/qpid/client/security/CallbackHandlerRegistry.java
+++ b/client/src/main/java/org/apache/qpid/client/security/CallbackHandlerRegistry.java
@@ -27,6 +27,7 @@ import org.apache.qpid.util.FileUtils;
 
 import java.io.IOException;
 import java.io.InputStream;
+import java.util.Arrays;
 import java.util.Collection;
 import java.util.Collections;
 import java.util.Enumeration;
@@ -80,6 +81,8 @@ public class CallbackHandlerRegistry
     /** Ordered collection of mechanisms for which callback handlers exist. */
     private Collection<String> _mechanisms;
 
+    private static final Collection<String> MECHS_THAT_NEED_USERPASS = Arrays.asList(new String [] {"PLAIN", "AMQPLAIN", "CRAM-MD5","CRAM-MD5-HASHED"});
+
     static
     {
         // Register any configured SASL client factories.
@@ -311,4 +314,8 @@ public class CallbackHandlerRegistry
         return Collections.unmodifiableSet(mechanismSet);
     }
 
+    public boolean isUserPassRequired(String selectedMech)
+    {
+        return MECHS_THAT_NEED_USERPASS.contains(selectedMech);
+    }
 }
diff --git a/client/src/main/java/org/apache/qpid/client/transport/ClientConnectionDelegate.java b/client/src/main/java/org/apache/qpid/client/transport/ClientConnectionDelegate.java
index 4789dd0ed..2775354ac 100644
--- a/client/src/main/java/org/apache/qpid/client/transport/ClientConnectionDelegate.java
+++ b/client/src/main/java/org/apache/qpid/client/transport/ClientConnectionDelegate.java
@@ -98,6 +98,14 @@ public class ClientConnectionDelegate extends ClientDelegate
                     " Client restricted itself to : " + (restrictionList != null ? restrictionList : "no restriction"));
         }
 
+        if (CallbackHandlerRegistry.getInstance().isUserPassRequired(selectedMech))
+        {
+            throw new ConnectionException("Username and Password is required for the selected mechanism : " + selectedMech +
+                    " Broker allows : " + brokerMechanisms +
+                    " Client has : " + CallbackHandlerRegistry.getInstance().getMechanisms()  +
+                    " Client restricted itself to : " + (restrictionList != null ? restrictionList : "no restriction"));
+        }
+
         Map<String,Object> saslProps = new HashMap<String,Object>();
         if (getConnectionSettings().isUseSASLEncryption())
         {
diff --git a/client/src/main/java/org/apache/qpid/client/url/URLParser.java b/client/src/main/java/org/apache/qpid/client/url/URLParser.java
index 516ee8cf3..754b5ff6a 100644
--- a/client/src/main/java/org/apache/qpid/client/url/URLParser.java
+++ b/client/src/main/java/org/apache/qpid/client/url/URLParser.java
@@ -106,11 +106,7 @@ public class URLParser
 
             }
 
-            if (userInfo == null)
-            {
-                throw URLHelper.parseError(AMQConnectionURL.AMQ_PROTOCOL.length() + 3, "User information not found on url", fullURL);
-            }
-            else
+            if (userInfo != null)
             {
                 parseUserInfo(userInfo);
             }
