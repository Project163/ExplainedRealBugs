diff --git a/client/src/main/java/org/apache/qpid/client/BasicMessageProducer.java b/client/src/main/java/org/apache/qpid/client/BasicMessageProducer.java
index f56fc4036..f4fda40be 100644
--- a/client/src/main/java/org/apache/qpid/client/BasicMessageProducer.java
+++ b/client/src/main/java/org/apache/qpid/client/BasicMessageProducer.java
@@ -24,14 +24,12 @@ import org.apache.log4j.Logger;
 import org.apache.mina.common.ByteBuffer;
 import org.apache.qpid.AMQException;
 import org.apache.qpid.client.message.AbstractJMSMessage;
-import org.apache.qpid.client.message.JMSBytesMessage;
 import org.apache.qpid.client.message.MessageConverter;
 import org.apache.qpid.client.protocol.AMQProtocolHandler;
 import org.apache.qpid.framing.*;
 
 import javax.jms.*;
 import java.io.UnsupportedEncodingException;
-import java.util.Enumeration;
 
 public class BasicMessageProducer extends Closeable implements org.apache.qpid.jms.MessageProducer
 {
@@ -440,7 +438,7 @@ public class BasicMessageProducer extends Closeable implements org.apache.qpid.j
 
         AbstractJMSMessage message = convertToNativeMessage(origMessage);
 
-        byte type;
+        int type;
         if(destination instanceof Topic)
         {
             type = AMQDestination.TOPIC_TYPE;
@@ -454,7 +452,7 @@ public class BasicMessageProducer extends Closeable implements org.apache.qpid.j
             type = AMQDestination.UNKNOWN_TYPE;
         }
 
-        message.getJmsHeaders().setByte(CustomJMSXProperty.JMSZ_QPID_DESTTYPE.getShortStringName(),
+        message.getJmsHeaders().setInteger(CustomJMSXProperty.JMS_QPID_DESTTYPE.getShortStringName(),
                                                type);
 
         // AMQP version change: Hardwire the version to 0-8 (major=8, minor=0)
diff --git a/client/src/main/java/org/apache/qpid/client/CustomJMSXProperty.java b/client/src/main/java/org/apache/qpid/client/CustomJMSXProperty.java
index 319077c45..18e6ac4ca 100644
--- a/client/src/main/java/org/apache/qpid/client/CustomJMSXProperty.java
+++ b/client/src/main/java/org/apache/qpid/client/CustomJMSXProperty.java
@@ -26,7 +26,8 @@ import java.util.*;
 
 public enum CustomJMSXProperty
 {
-    JMSZ_QPID_DESTTYPE,    
+    JMS_AMQP_NULL,
+    JMS_QPID_DESTTYPE,    
     JMSXGroupID,
     JMSXGroupSeq;
 
diff --git a/client/src/main/java/org/apache/qpid/client/message/AbstractJMSMessage.java b/client/src/main/java/org/apache/qpid/client/message/AbstractJMSMessage.java
index 113cce4ef..8b6f2b4ab 100644
--- a/client/src/main/java/org/apache/qpid/client/message/AbstractJMSMessage.java
+++ b/client/src/main/java/org/apache/qpid/client/message/AbstractJMSMessage.java
@@ -72,7 +72,7 @@ public abstract class AbstractJMSMessage extends AMQMessage implements org.apach
         this(contentHeader, deliveryTag);
 
 
-        byte type = contentHeader.getHeaders().getByte(CustomJMSXProperty.JMSZ_QPID_DESTTYPE.getShortStringName());
+        int type = contentHeader.getHeaders().getInteger(CustomJMSXProperty.JMS_QPID_DESTTYPE.getShortStringName());
 
         AMQDestination dest;
 
