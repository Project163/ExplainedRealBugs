diff --git a/client/src/main/java/org/apache/qpid/client/AMQSession_0_10.java b/client/src/main/java/org/apache/qpid/client/AMQSession_0_10.java
index 6ea338a66..71a4010d6 100644
--- a/client/src/main/java/org/apache/qpid/client/AMQSession_0_10.java
+++ b/client/src/main/java/org/apache/qpid/client/AMQSession_0_10.java
@@ -1128,7 +1128,9 @@ public class AMQSession_0_10 extends AMQSession<BasicMessageConsumer_0_10, Basic
         }
         else
         {
-            throw new AMQException("The name supplied in the address doesn't resolve to an exchange or a queue");
+            throw new AMQException(
+                    "The name '" + dest.getName() +
+                    "' supplied in the address doesn't resolve to an exchange or a queue");
         }
     }
     
diff --git a/client/src/main/java/org/apache/qpid/client/BasicMessageProducer_0_10.java b/client/src/main/java/org/apache/qpid/client/BasicMessageProducer_0_10.java
index 4cc419b0c..045cb2445 100644
--- a/client/src/main/java/org/apache/qpid/client/BasicMessageProducer_0_10.java
+++ b/client/src/main/java/org/apache/qpid/client/BasicMessageProducer_0_10.java
@@ -21,13 +21,14 @@ import static org.apache.qpid.transport.Option.NONE;
 import static org.apache.qpid.transport.Option.SYNC;
 
 import java.nio.ByteBuffer;
+import java.util.HashMap;
+import java.util.Map;
 import java.util.UUID;
 
 import javax.jms.DeliveryMode;
 import javax.jms.JMSException;
 import javax.jms.Message;
 
-import org.apache.qpid.client.AMQDestination.AddressOption;
 import org.apache.qpid.client.AMQDestination.DestSyntax;
 import org.apache.qpid.client.message.AMQMessageDelegate_0_10;
 import org.apache.qpid.client.message.AbstractJMSMessage;
@@ -166,6 +167,17 @@ public class BasicMessageProducer_0_10 extends BasicMessageProducer
         {
             deliveryProp.setRoutingKey(routingKey);
         }
+        
+        if (destination.getSubject() != null && !destination.getSubject().equals(""))
+        {
+            Map<String,Object> appProps = messageProps.getApplicationHeaders();
+            if (appProps == null)
+            {
+                appProps = new HashMap<String,Object>();
+            }
+            appProps.put("qpid.subject",destination.getSubject());
+            messageProps.setApplicationHeaders(appProps);
+        }        
 
         messageProps.setContentLength(message.getContentLength());
 
@@ -201,7 +213,7 @@ public class BasicMessageProducer_0_10 extends BasicMessageProducer
         catch (RuntimeException rte)
         {
             JMSException ex = new JMSException("Exception when sending message");
-            ex.setLinkedException(rte);
+            ex.initCause(rte);
             throw ex;
         }
     }
diff --git a/client/src/main/java/org/apache/qpid/client/messaging/address/AddressHelper.java b/client/src/main/java/org/apache/qpid/client/messaging/address/AddressHelper.java
index d1ea8dce2..84bc4d596 100644
--- a/client/src/main/java/org/apache/qpid/client/messaging/address/AddressHelper.java
+++ b/client/src/main/java/org/apache/qpid/client/messaging/address/AddressHelper.java
@@ -193,7 +193,8 @@ public class AddressHelper
     {
         List<Binding> bindings = new ArrayList<Binding>();
         if (address.getOptions() != null &&
-            address.getOptions().get(NODE_PROPS) != null)
+            address.getOptions().get(NODE_PROPS) != null &&
+            ((Map)address.getOptions().get(NODE_PROPS)).get(X_PROPS) != null)
         {
             Map node_props = (Map)address.getOptions().get(NODE_PROPS);
             List<String> bindingList = 
