{"url":"https://api.github.com/repos/emilk/egui/issues/4914","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/4914/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/4914/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/4914/events","html_url":"https://github.com/emilk/egui/issues/4914","id":2447189077,"node_id":"I_kwDOCd2s286R3SRV","number":4914,"title":"Allow usage with atomics as well as wgpu on wasm32 ","user":{"login":"9SMTM6","id":44668330,"node_id":"MDQ6VXNlcjQ0NjY4MzMw","avatar_url":"https://avatars.githubusercontent.com/u/44668330?v=4","gravatar_id":"","url":"https://api.github.com/users/9SMTM6","html_url":"https://github.com/9SMTM6","followers_url":"https://api.github.com/users/9SMTM6/followers","following_url":"https://api.github.com/users/9SMTM6/following{/other_user}","gists_url":"https://api.github.com/users/9SMTM6/gists{/gist_id}","starred_url":"https://api.github.com/users/9SMTM6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/9SMTM6/subscriptions","organizations_url":"https://api.github.com/users/9SMTM6/orgs","repos_url":"https://api.github.com/users/9SMTM6/repos","events_url":"https://api.github.com/users/9SMTM6/events{/privacy}","received_events_url":"https://api.github.com/users/9SMTM6/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4445848959,"node_id":"LA_kwDOCd2s288AAAABCP5Ffw","url":"https://api.github.com/repos/emilk/egui/labels/egui-wgpu","name":"egui-wgpu","color":"0e8a16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-08-04T15:46:24Z","updated_at":"2024-09-13T11:00:19Z","closed_at":"2024-09-13T11:00:19Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Is your feature request related to a problem? Please describe.**\r\nI'd like to move some single threaded heavy work that creates a lot of data into a background thread on wasm, and put a lot of time into preparing to do this with shared memory. At the same time I do render the results of that calculation, and may in the future move some parallelizable work, into webgpu shaders. So I use egui-wgpu. But egui-wgpu depends on wgpu with `fragile-send-sync-non-atomic-wasm`. This means that its fundamentally incompatible with `wasm_thread`, `wasm-bindgen-rayon` and `wasm-mt`, as well as any other project that wants to use Wasm-Workers with SharedArrayBuffer.\r\n\r\n**Describe the solution you'd like**\r\nIdeally of course the removal of that feature. But some indication why this was required would be helpful already, and perhaps a guess about the difficulty of getting rid of this feature.\r\n\r\nIf no solution is reached, then a warning in some spot would be very helpful. Someone that uses webgpu could be expected to also want to have shared memory multithreading on the web. Had I known about this beforehand I had not put so much energy into solving other issues around having that kind of multithreading.\r\n\r\n**Describe alternatives you've considered**\r\nWell, getting rid of WebGPU isn't gonna be easy at this point, and likely will also make performance much worse. So IDK.\r\n\r\n**Additional context**\r\n[This commit](https://github.com/emilk/egui/commit/bfadb90d429c9e6aa1beba37c6c38335e7462eb0) seems to have introduced this feature. Its a merge commit, in that merge, [this commit](https://github.com/emilk/egui/pull/3595/commits/c5746dbd37a31d9a90c8987449b4089eb910ad8c) seems to have introduced it. In that case all it did was remove a conditional import of either the concurrent or non-concurrent typemap. I don't know if the gained concurrency was used for something else somewhere else.\r\n\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\n","closed_by":{"login":"Wumpf","id":1220815,"node_id":"MDQ6VXNlcjEyMjA4MTU=","avatar_url":"https://avatars.githubusercontent.com/u/1220815?v=4","gravatar_id":"","url":"https://api.github.com/users/Wumpf","html_url":"https://github.com/Wumpf","followers_url":"https://api.github.com/users/Wumpf/followers","following_url":"https://api.github.com/users/Wumpf/following{/other_user}","gists_url":"https://api.github.com/users/Wumpf/gists{/gist_id}","starred_url":"https://api.github.com/users/Wumpf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wumpf/subscriptions","organizations_url":"https://api.github.com/users/Wumpf/orgs","repos_url":"https://api.github.com/users/Wumpf/repos","events_url":"https://api.github.com/users/Wumpf/events{/privacy}","received_events_url":"https://api.github.com/users/Wumpf/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/4914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/4914/timeline","performed_via_github_app":null,"state_reason":"completed"}