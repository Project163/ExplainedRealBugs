{"url":"https://api.github.com/repos/emilk/egui/issues/5206","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/5206/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/5206/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/5206/events","html_url":"https://github.com/emilk/egui/issues/5206","id":2560763566,"node_id":"I_kwDOCd2s286Yoiau","number":5206,"title":"Popup incorrectly calculates possible min width of popup causing panic","user":{"login":"PPakalns","id":5494814,"node_id":"MDQ6VXNlcjU0OTQ4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5494814?v=4","gravatar_id":"","url":"https://api.github.com/users/PPakalns","html_url":"https://github.com/PPakalns","followers_url":"https://api.github.com/users/PPakalns/followers","following_url":"https://api.github.com/users/PPakalns/following{/other_user}","gists_url":"https://api.github.com/users/PPakalns/gists{/gist_id}","starred_url":"https://api.github.com/users/PPakalns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PPakalns/subscriptions","organizations_url":"https://api.github.com/users/PPakalns/orgs","repos_url":"https://api.github.com/users/PPakalns/repos","events_url":"https://api.github.com/users/PPakalns/events{/privacy}","received_events_url":"https://api.github.com/users/PPakalns/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1191600517,"node_id":"MDU6TGFiZWwxMTkxNjAwNTE3","url":"https://api.github.com/repos/emilk/egui/labels/bug","name":"bug","color":"FBCA04","default":true,"description":"Something is broken"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/emilk/egui/milestones/5","html_url":"https://github.com/emilk/egui/milestone/5","labels_url":"https://api.github.com/repos/emilk/egui/milestones/5/labels","id":10538632,"node_id":"MI_kwDOCd2s284AoM6I","number":5,"title":"Next Patch Release","description":"Things to be considered for the next patch release","creator":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":47,"state":"closed","created_at":"2024-02-10T09:40:03Z","updated_at":"2025-04-30T08:11:09Z","due_on":null,"closed_at":"2025-04-30T08:11:09Z"},"comments":0,"created_at":"2024-10-02T06:29:38Z","updated_at":"2024-10-29T11:43:07Z","closed_at":"2024-10-29T11:43:07Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\nFirst look if there is already a similar bug report. If there is, upvote the issue with ðŸ‘\r\n\r\nPlease also check if the bug is still present in latest master! Do so by adding the following lines to your Cargo.toml:\r\n\r\n\r\n[patch.crates-io]\r\negui = { git = \"https://github.com/emilk/egui\", branch = \"master\" }\r\n# if you're using eframe:\r\neframe = { git = \"https://github.com/emilk/egui\", branch = \"master\" }\r\n-->\r\n\r\nDebug build panics due to incorrect calculation here:\r\nhttps://github.com/emilk/egui/blob/24cd711f5b9fce1e0ee28dbe518651b1a84899f8/crates/egui/src/containers/popup.rs#L410\r\n\r\nand later panic is caused inside set_min_width debug assert.\r\n\r\n\r\n**To Reproduce**\r\nCreate button with very small width and create popup for it:\r\n```rs\r\n            let button = ui.add(egui::Button::new(\"\"));\r\n            let popup_id = ui.id().with(\"test\");\r\n\r\n            if button.clicked() {\r\n                ui.memory_mut(|memory| memory.open_popup(popup_id));\r\n            }\r\n            egui::popup_above_or_below_widget(\r\n                ui,\r\n                popup_id,\r\n                &button,\r\n                AboveOrBelow::Above,\r\n                egui::PopupCloseBehavior::CloseOnClickOutside,\r\n                |ui| {\r\n                    ui.label(\"Test?\");\r\n                },\r\n            );\r\n```\r\n\r\n**Expected behavior**\r\nCorrectly shows popup.\r\n\r\n**Additional information**\r\nCurrently tested with egui 0.28, but from source code seems that the issue still persists in 0.29.","closed_by":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/5206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/5206/timeline","performed_via_github_app":null,"state_reason":"completed"}