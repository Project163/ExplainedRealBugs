{"url":"https://api.github.com/repos/emilk/egui/issues/5053","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/5053/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/5053/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/5053/events","html_url":"https://github.com/emilk/egui/issues/5053","id":2499545144,"node_id":"I_kwDOCd2s286U_Ag4","number":5053,"title":"`Context::interact_bg` breaks focus","user":{"login":"lucasmerlin","id":8009393,"node_id":"MDQ6VXNlcjgwMDkzOTM=","avatar_url":"https://avatars.githubusercontent.com/u/8009393?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasmerlin","html_url":"https://github.com/lucasmerlin","followers_url":"https://api.github.com/users/lucasmerlin/followers","following_url":"https://api.github.com/users/lucasmerlin/following{/other_user}","gists_url":"https://api.github.com/users/lucasmerlin/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasmerlin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasmerlin/subscriptions","organizations_url":"https://api.github.com/users/lucasmerlin/orgs","repos_url":"https://api.github.com/users/lucasmerlin/repos","events_url":"https://api.github.com/users/lucasmerlin/events{/privacy}","received_events_url":"https://api.github.com/users/lucasmerlin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1191600517,"node_id":"MDU6TGFiZWwxMTkxNjAwNTE3","url":"https://api.github.com/repos/emilk/egui/labels/bug","name":"bug","color":"FBCA04","default":true,"description":"Something is broken"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-09-01T15:38:33Z","updated_at":"2024-09-19T09:55:23Z","closed_at":"2024-09-19T09:55:23Z","author_association":"COLLABORATOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\n\r\nCalling `ui.interact_bg(Sense::click())` somewhere in an egui applicaiton makes it impossible to focus any elements added after the call.\r\n\r\n\r\nhttps://github.com/user-attachments/assets/588c2aef-005b-491a-acb1-5578deb1aa44\r\n\r\n\r\nThe label in the video is in a child ui where `interact_bg` is called. I just keep pressing tab. \r\nI'd expect the focus to jump between the first button, the child scope and the second button with each tab press. \r\nInstead the scope seems to receive focus for a single frame and then loose it, causing the first button to be focused again on the next tab press.\r\n\r\n\r\n**To Reproduce**\r\nExample code: \r\n```rust\r\nuse eframe::egui;\r\nuse eframe::NativeOptions;\r\nuse egui::{CentralPanel, Sense};\r\n\r\npub fn main() -> eframe::Result {\r\n    eframe::run_simple_native(\"focus test\", NativeOptions::default(), |ctx, _frame| {\r\n        CentralPanel::default().show(ctx, |ui| {\r\n            ui.button(\"I can focus\");\r\n\r\n            ui.push_id(\"focus me\", |ui| {\r\n                ui.label(\"I can focus for a single frame\");\r\n                let response = ui.interact_bg(Sense::click());\r\n                let t = if response.has_focus() {\r\n                    \"has focus\"\r\n                } else {\r\n                    \"doesn't have focus\"\r\n                };\r\n                ui.label(t);\r\n            });\r\n\r\n            ui.button(\"I can't focus :(\");\r\n        });\r\n    })\r\n}\r\n\r\n```\r\n\r\n**Expected behavior**\r\nFocus jumps between all focusable elements.\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: macOS 14.6.1\r\n","closed_by":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/5053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/5053/timeline","performed_via_github_app":null,"state_reason":"completed"}