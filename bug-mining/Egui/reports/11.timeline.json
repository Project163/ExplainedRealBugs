[{"id":6270178174,"node_id":"LE_lADOCd2s285F_q5JzwAAAAF1u1N-","url":"https://api.github.com/repos/emilk/egui/issues/events/6270178174","actor":{"login":"DusterTheFirst","id":14093962,"node_id":"MDQ6VXNlcjE0MDkzOTYy","avatar_url":"https://avatars.githubusercontent.com/u/14093962?v=4","gravatar_id":"","url":"https://api.github.com/users/DusterTheFirst","html_url":"https://github.com/DusterTheFirst","followers_url":"https://api.github.com/users/DusterTheFirst/followers","following_url":"https://api.github.com/users/DusterTheFirst/following{/other_user}","gists_url":"https://api.github.com/users/DusterTheFirst/gists{/gist_id}","starred_url":"https://api.github.com/users/DusterTheFirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DusterTheFirst/subscriptions","organizations_url":"https://api.github.com/users/DusterTheFirst/orgs","repos_url":"https://api.github.com/users/DusterTheFirst/repos","events_url":"https://api.github.com/users/DusterTheFirst/events{/privacy}","received_events_url":"https://api.github.com/users/DusterTheFirst/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-19T17:48:15Z","label":{"name":"bug","color":"FBCA04"},"performed_via_github_app":null},{"id":6270178182,"node_id":"MEE_lADOCd2s285F_q5JzwAAAAF1u1OG","url":"https://api.github.com/repos/emilk/egui/issues/events/6270178182","actor":{"login":"quietvoid","id":39477805,"node_id":"MDQ6VXNlcjM5NDc3ODA1","avatar_url":"https://avatars.githubusercontent.com/u/39477805?v=4","gravatar_id":"","url":"https://api.github.com/users/quietvoid","html_url":"https://github.com/quietvoid","followers_url":"https://api.github.com/users/quietvoid/followers","following_url":"https://api.github.com/users/quietvoid/following{/other_user}","gists_url":"https://api.github.com/users/quietvoid/gists{/gist_id}","starred_url":"https://api.github.com/users/quietvoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quietvoid/subscriptions","organizations_url":"https://api.github.com/users/quietvoid/orgs","repos_url":"https://api.github.com/users/quietvoid/repos","events_url":"https://api.github.com/users/quietvoid/events{/privacy}","received_events_url":"https://api.github.com/users/quietvoid/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-03-19T17:48:15Z","performed_via_github_app":null},{"id":6270178183,"node_id":"SE_lADOCd2s285F_q5JzwAAAAF1u1OH","url":"https://api.github.com/repos/emilk/egui/issues/events/6270178183","actor":{"login":"quietvoid","id":39477805,"node_id":"MDQ6VXNlcjM5NDc3ODA1","avatar_url":"https://avatars.githubusercontent.com/u/39477805?v=4","gravatar_id":"","url":"https://api.github.com/users/quietvoid","html_url":"https://github.com/quietvoid","followers_url":"https://api.github.com/users/quietvoid/followers","following_url":"https://api.github.com/users/quietvoid/following{/other_user}","gists_url":"https://api.github.com/users/quietvoid/gists{/gist_id}","starred_url":"https://api.github.com/users/quietvoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quietvoid/subscriptions","organizations_url":"https://api.github.com/users/quietvoid/orgs","repos_url":"https://api.github.com/users/quietvoid/repos","events_url":"https://api.github.com/users/quietvoid/events{/privacy}","received_events_url":"https://api.github.com/users/quietvoid/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-03-19T17:48:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/emilk/egui/issues/comments/1073054558","html_url":"https://github.com/emilk/egui/issues/1379#issuecomment-1073054558","issue_url":"https://api.github.com/repos/emilk/egui/issues/1379","id":1073054558,"node_id":"IC_kwDOCd2s284_9YNe","user":{"login":"quietvoid","id":39477805,"node_id":"MDQ6VXNlcjM5NDc3ODA1","avatar_url":"https://avatars.githubusercontent.com/u/39477805?v=4","gravatar_id":"","url":"https://api.github.com/users/quietvoid","html_url":"https://github.com/quietvoid","followers_url":"https://api.github.com/users/quietvoid/followers","following_url":"https://api.github.com/users/quietvoid/following{/other_user}","gists_url":"https://api.github.com/users/quietvoid/gists{/gist_id}","starred_url":"https://api.github.com/users/quietvoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quietvoid/subscriptions","organizations_url":"https://api.github.com/users/quietvoid/orgs","repos_url":"https://api.github.com/users/quietvoid/repos","events_url":"https://api.github.com/users/quietvoid/events{/privacy}","received_events_url":"https://api.github.com/users/quietvoid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-19T18:02:22Z","updated_at":"2022-03-21T20:02:21Z","body":"I modified the `eframe` `download_image` example to reproduce this:\r\n\r\n<details>\r\n  <summary>Example</summary>\r\n\r\n  ```diff\r\n  diff --git a/eframe/examples/download_image.rs b/eframe/examples/download_image.rs\r\n  index 9cbb51d1..c6471014 100644\r\n  --- a/eframe/examples/download_image.rs\r\n  +++ b/eframe/examples/download_image.rs\r\n  @@ -36,17 +36,39 @@ impl eframe::App for MyApp {\r\n               promise\r\n           });\r\n   \r\n  -        egui::CentralPanel::default().show(ctx, |ui| match promise.ready() {\r\n  -            None => {\r\n  -                ui.add(egui::Spinner::new()); // still loading\r\n  -            }\r\n  -            Some(Err(err)) => {\r\n  -                ui.colored_label(egui::Color32::RED, err); // something went wrong\r\n  +        let mut new_promise = None;\r\n  +\r\n  +        egui::CentralPanel::default().show(ctx, |ui| {\r\n  +            if ui.button(\"Reload image\").clicked() {\r\n  +                let ctx = ctx.clone();\r\n  +                let (sender, promise) = Promise::new();\r\n  +\r\n  +                let request = ehttp::Request::get(\"https://picsum.photos/seed/1.759706314/1024\");\r\n  +                ehttp::fetch(request, move |response| {\r\n  +                    let image = response.and_then(parse_response);\r\n  +                    sender.send(image); // send the results back to the UI thread.\r\n  +                    ctx.request_repaint(); // wake up UI thread\r\n  +                });\r\n  +\r\n  +                new_promise = Some(promise);\r\n               }\r\n  -            Some(Ok(image)) => {\r\n  -                image.show_max_size(ui, ui.available_size());\r\n  +\r\n  +            match promise.ready() {\r\n  +                None => {\r\n  +                    ui.add(egui::Spinner::new()); // still loading\r\n  +                }\r\n  +                Some(Err(err)) => {\r\n  +                    ui.colored_label(egui::Color32::RED, err); // something went wrong\r\n  +                }\r\n  +                Some(Ok(image)) => {\r\n  +                    image.show_max_size(ui, ui.available_size());\r\n  +                }\r\n               }\r\n           });\r\n  +\r\n  +        if new_promise.is_some() {\r\n  +            self.promise = new_promise;\r\n  +        }\r\n       }\r\n   }\r\n  ```\r\n</details>\r\n\r\nThe panic happens pretty consistently if the \"Reload image\" button is clicked many times.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/comments/1073054558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"quietvoid","id":39477805,"node_id":"MDQ6VXNlcjM5NDc3ODA1","avatar_url":"https://avatars.githubusercontent.com/u/39477805?v=4","gravatar_id":"","url":"https://api.github.com/users/quietvoid","html_url":"https://github.com/quietvoid","followers_url":"https://api.github.com/users/quietvoid/followers","following_url":"https://api.github.com/users/quietvoid/following{/other_user}","gists_url":"https://api.github.com/users/quietvoid/gists{/gist_id}","starred_url":"https://api.github.com/users/quietvoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quietvoid/subscriptions","organizations_url":"https://api.github.com/users/quietvoid/orgs","repos_url":"https://api.github.com/users/quietvoid/repos","events_url":"https://api.github.com/users/quietvoid/events{/privacy}","received_events_url":"https://api.github.com/users/quietvoid/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6270456220,"node_id":"LE_lADOCd2s285F_q5JzwAAAAF1v5Gc","url":"https://api.github.com/repos/emilk/egui/issues/events/6270456220","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-19T23:17:40Z","label":{"name":"high priority","color":"B60205"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/emilk/egui/issues/comments/1073203988","html_url":"https://github.com/emilk/egui/issues/1379#issuecomment-1073203988","issue_url":"https://api.github.com/repos/emilk/egui/issues/1379","id":1073203988,"node_id":"IC_kwDOCd2s284_98sU","user":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-20T09:00:24Z","updated_at":"2022-03-20T09:00:24Z","body":"Good catch, and thanks for testing bleeding edge egui!\r\n\r\nAs you point out, one solution would be to just remove the `single_threaded` option from `epaint`, and always use `parking_lot`. On `demo_no_tessellate` this results in a very minor performance hit of ~1%, but on some benchmarks (`label format!` and `Painter::rect`) the difference is around 10%. Still, it would be a nice simplification, and would remove the current footgun where `Context impl Sync` even without the `multi_threaded` feature. Of course, even with the `multi_threaded` feature turned on, it is still dangerous to use `Context` from multiple threads - you cannot, for instance, construct panels and windows in parallel.\r\n\r\nAnother alternative is to put `repaint_requests/request_repaint_callbacks` in their own `Arc<parking_lot::Mutex<…>>` inside of `Context`, so that `Context::request_repaint` becomes the only true multi-threaded function on `Context`.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/comments/1073203988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/emilk/egui/issues/comments/1073206231","html_url":"https://github.com/emilk/egui/issues/1379#issuecomment-1073206231","issue_url":"https://api.github.com/repos/emilk/egui/issues/1379","id":1073206231,"node_id":"IC_kwDOCd2s284_99PX","user":{"login":"DusterTheFirst","id":14093962,"node_id":"MDQ6VXNlcjE0MDkzOTYy","avatar_url":"https://avatars.githubusercontent.com/u/14093962?v=4","gravatar_id":"","url":"https://api.github.com/users/DusterTheFirst","html_url":"https://github.com/DusterTheFirst","followers_url":"https://api.github.com/users/DusterTheFirst/followers","following_url":"https://api.github.com/users/DusterTheFirst/following{/other_user}","gists_url":"https://api.github.com/users/DusterTheFirst/gists{/gist_id}","starred_url":"https://api.github.com/users/DusterTheFirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DusterTheFirst/subscriptions","organizations_url":"https://api.github.com/users/DusterTheFirst/orgs","repos_url":"https://api.github.com/users/DusterTheFirst/repos","events_url":"https://api.github.com/users/DusterTheFirst/events{/privacy}","received_events_url":"https://api.github.com/users/DusterTheFirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-20T09:11:28Z","updated_at":"2022-03-20T09:46:11Z","body":"> Another alternative is to put `repaint_requests/request_repaint_callbacks` in their own `Arc<parking_lot::Mutex<…>>` inside of `Context`, so that `Context::request_repaint` becomes the only true multi-threaded function on `Context`.\r\n\r\nThis alternative seems the best in my opinion since these functions are the only ones that require the multi-thread safety, allowing the single thread only code to have better performance. It could also make sense to create a separate struct that is used to request the repaints which is what users would send to their background threads, preventing them from accidentally using any other part of the context's api from the other thread.\r\n\r\n**EDIT:** the `Context::load_texture` function is also one that would make sense calling from another thread","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/comments/1073206231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DusterTheFirst","id":14093962,"node_id":"MDQ6VXNlcjE0MDkzOTYy","avatar_url":"https://avatars.githubusercontent.com/u/14093962?v=4","gravatar_id":"","url":"https://api.github.com/users/DusterTheFirst","html_url":"https://github.com/DusterTheFirst","followers_url":"https://api.github.com/users/DusterTheFirst/followers","following_url":"https://api.github.com/users/DusterTheFirst/following{/other_user}","gists_url":"https://api.github.com/users/DusterTheFirst/gists{/gist_id}","starred_url":"https://api.github.com/users/DusterTheFirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DusterTheFirst/subscriptions","organizations_url":"https://api.github.com/users/DusterTheFirst/orgs","repos_url":"https://api.github.com/users/DusterTheFirst/repos","events_url":"https://api.github.com/users/DusterTheFirst/events{/privacy}","received_events_url":"https://api.github.com/users/DusterTheFirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6271688554,"node_id":"REFE_lADOCd2s285F_q5JzwAAAAF10l9q","url":"https://api.github.com/repos/emilk/egui/issues/events/6271688554","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4d98f81a458c6823caae81b137bbe6f385735559","commit_url":"https://api.github.com/repos/emilk/egui/commits/4d98f81a458c6823caae81b137bbe6f385735559","created_at":"2022-03-20T19:53:21Z","performed_via_github_app":null},{"actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-20T20:12:07Z","updated_at":"2022-03-20T20:12:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/emilk/egui/issues/1389","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/1389/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/1389/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/1389/events","html_url":"https://github.com/emilk/egui/pull/1389","id":1174670200,"node_id":"PR_kwDOCd2s2840tJI5","number":1389,"title":"Put repaint callback and tex manager behind separate mutexes","user":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-03-20T20:12:07Z","updated_at":"2022-07-03T13:45:23Z","closed_at":"2022-07-03T13:45:23Z","author_association":"OWNER","active_lock_reason":null,"draft":true,"repository":{"id":165522651,"node_id":"MDEwOlJlcG9zaXRvcnkxNjU1MjI2NTE=","name":"egui","full_name":"emilk/egui","private":false,"owner":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/emilk/egui","description":"egui: an easy-to-use immediate mode GUI in Rust that runs on both web and native","fork":false,"url":"https://api.github.com/repos/emilk/egui","forks_url":"https://api.github.com/repos/emilk/egui/forks","keys_url":"https://api.github.com/repos/emilk/egui/keys{/key_id}","collaborators_url":"https://api.github.com/repos/emilk/egui/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/emilk/egui/teams","hooks_url":"https://api.github.com/repos/emilk/egui/hooks","issue_events_url":"https://api.github.com/repos/emilk/egui/issues/events{/number}","events_url":"https://api.github.com/repos/emilk/egui/events","assignees_url":"https://api.github.com/repos/emilk/egui/assignees{/user}","branches_url":"https://api.github.com/repos/emilk/egui/branches{/branch}","tags_url":"https://api.github.com/repos/emilk/egui/tags","blobs_url":"https://api.github.com/repos/emilk/egui/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/emilk/egui/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/emilk/egui/git/refs{/sha}","trees_url":"https://api.github.com/repos/emilk/egui/git/trees{/sha}","statuses_url":"https://api.github.com/repos/emilk/egui/statuses/{sha}","languages_url":"https://api.github.com/repos/emilk/egui/languages","stargazers_url":"https://api.github.com/repos/emilk/egui/stargazers","contributors_url":"https://api.github.com/repos/emilk/egui/contributors","subscribers_url":"https://api.github.com/repos/emilk/egui/subscribers","subscription_url":"https://api.github.com/repos/emilk/egui/subscription","commits_url":"https://api.github.com/repos/emilk/egui/commits{/sha}","git_commits_url":"https://api.github.com/repos/emilk/egui/git/commits{/sha}","comments_url":"https://api.github.com/repos/emilk/egui/comments{/number}","issue_comment_url":"https://api.github.com/repos/emilk/egui/issues/comments{/number}","contents_url":"https://api.github.com/repos/emilk/egui/contents/{+path}","compare_url":"https://api.github.com/repos/emilk/egui/compare/{base}...{head}","merges_url":"https://api.github.com/repos/emilk/egui/merges","archive_url":"https://api.github.com/repos/emilk/egui/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/emilk/egui/downloads","issues_url":"https://api.github.com/repos/emilk/egui/issues{/number}","pulls_url":"https://api.github.com/repos/emilk/egui/pulls{/number}","milestones_url":"https://api.github.com/repos/emilk/egui/milestones{/number}","notifications_url":"https://api.github.com/repos/emilk/egui/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/emilk/egui/labels{/name}","releases_url":"https://api.github.com/repos/emilk/egui/releases{/id}","deployments_url":"https://api.github.com/repos/emilk/egui/deployments","created_at":"2019-01-13T15:39:15Z","updated_at":"2025-11-10T11:16:44Z","pushed_at":"2025-11-07T14:35:55Z","git_url":"git://github.com/emilk/egui.git","ssh_url":"git@github.com:emilk/egui.git","clone_url":"https://github.com/emilk/egui.git","svn_url":"https://github.com/emilk/egui","homepage":"https://www.egui.rs/","size":88685,"stargazers_count":27079,"watchers_count":27079,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1864,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1010,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["egui","game-development","gamedev","gui","imgui","rust","wasm"],"visibility":"public","forks":1864,"open_issues":1010,"watchers":27079,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/emilk/egui/pulls/1389","html_url":"https://github.com/emilk/egui/pull/1389","diff_url":"https://github.com/emilk/egui/pull/1389.diff","patch_url":"https://github.com/emilk/egui/pull/1389.patch","merged_at":null},"body":"Closes https://github.com/emilk/egui/issues/1379\r\n\r\nPlease take a look @DusterTheFirst \r\n\r\nThis fattens up `Context` so that the repaint callback and texture manager can be used from any thread, even when you are _not_ compiling with the `multi_threaded` feature flag:\r\n\r\n``` rust\r\npub struct Context {\r\n    ctx: Arc<RwLock<ContextImpl>>,\r\n    repaint_info: Arc<RepaintInfo>,\r\n    tex_manager: WrappedTextureManager,\r\n}\r\n```\r\n\r\nThis is one solution, but I'm not sure it is the best one.\r\n\r\nThe solution in this PR has the added advantage of mitigating https://github.com/emilk/egui/pull/1380\r\n\r\n---\r\nPerformance: the e2e tests shows very little change, but some specific tests (`Painter::rect` and `label format!`) shows 10% slowdowns.\r\n\r\n---\r\n\r\nI think the simpler solution is to remove the `single_threaded/multi_threaded` features and to always use proper mutexes, as proposed in:\r\n\r\n* https://github.com/emilk/egui/pull/1390","reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/1389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/1389/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6271727410,"node_id":"REFE_lADOCd2s285F_q5JzwAAAAF10vcy","url":"https://api.github.com/repos/emilk/egui/issues/events/6271727410","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c7d6775fd25ddda614fb7bb9252721a902eae49f","commit_url":"https://api.github.com/repos/emilk/egui/commits/c7d6775fd25ddda614fb7bb9252721a902eae49f","created_at":"2022-03-20T20:23:42Z","performed_via_github_app":null},{"actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-20T20:24:52Z","updated_at":"2022-03-20T20:24:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/emilk/egui/issues/1390","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/1390/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/1390/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/1390/events","html_url":"https://github.com/emilk/egui/pull/1390","id":1174674025,"node_id":"PR_kwDOCd2s2840tJu6","number":1390,"title":"Remove the single_threaded/multi_threaded feature flags","user":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-03-20T20:24:52Z","updated_at":"2022-03-21T21:20:38Z","closed_at":"2022-03-21T21:20:37Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":165522651,"node_id":"MDEwOlJlcG9zaXRvcnkxNjU1MjI2NTE=","name":"egui","full_name":"emilk/egui","private":false,"owner":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/emilk/egui","description":"egui: an easy-to-use immediate mode GUI in Rust that runs on both web and native","fork":false,"url":"https://api.github.com/repos/emilk/egui","forks_url":"https://api.github.com/repos/emilk/egui/forks","keys_url":"https://api.github.com/repos/emilk/egui/keys{/key_id}","collaborators_url":"https://api.github.com/repos/emilk/egui/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/emilk/egui/teams","hooks_url":"https://api.github.com/repos/emilk/egui/hooks","issue_events_url":"https://api.github.com/repos/emilk/egui/issues/events{/number}","events_url":"https://api.github.com/repos/emilk/egui/events","assignees_url":"https://api.github.com/repos/emilk/egui/assignees{/user}","branches_url":"https://api.github.com/repos/emilk/egui/branches{/branch}","tags_url":"https://api.github.com/repos/emilk/egui/tags","blobs_url":"https://api.github.com/repos/emilk/egui/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/emilk/egui/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/emilk/egui/git/refs{/sha}","trees_url":"https://api.github.com/repos/emilk/egui/git/trees{/sha}","statuses_url":"https://api.github.com/repos/emilk/egui/statuses/{sha}","languages_url":"https://api.github.com/repos/emilk/egui/languages","stargazers_url":"https://api.github.com/repos/emilk/egui/stargazers","contributors_url":"https://api.github.com/repos/emilk/egui/contributors","subscribers_url":"https://api.github.com/repos/emilk/egui/subscribers","subscription_url":"https://api.github.com/repos/emilk/egui/subscription","commits_url":"https://api.github.com/repos/emilk/egui/commits{/sha}","git_commits_url":"https://api.github.com/repos/emilk/egui/git/commits{/sha}","comments_url":"https://api.github.com/repos/emilk/egui/comments{/number}","issue_comment_url":"https://api.github.com/repos/emilk/egui/issues/comments{/number}","contents_url":"https://api.github.com/repos/emilk/egui/contents/{+path}","compare_url":"https://api.github.com/repos/emilk/egui/compare/{base}...{head}","merges_url":"https://api.github.com/repos/emilk/egui/merges","archive_url":"https://api.github.com/repos/emilk/egui/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/emilk/egui/downloads","issues_url":"https://api.github.com/repos/emilk/egui/issues{/number}","pulls_url":"https://api.github.com/repos/emilk/egui/pulls{/number}","milestones_url":"https://api.github.com/repos/emilk/egui/milestones{/number}","notifications_url":"https://api.github.com/repos/emilk/egui/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/emilk/egui/labels{/name}","releases_url":"https://api.github.com/repos/emilk/egui/releases{/id}","deployments_url":"https://api.github.com/repos/emilk/egui/deployments","created_at":"2019-01-13T15:39:15Z","updated_at":"2025-11-10T11:16:44Z","pushed_at":"2025-11-07T14:35:55Z","git_url":"git://github.com/emilk/egui.git","ssh_url":"git@github.com:emilk/egui.git","clone_url":"https://github.com/emilk/egui.git","svn_url":"https://github.com/emilk/egui","homepage":"https://www.egui.rs/","size":88685,"stargazers_count":27079,"watchers_count":27079,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1864,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1010,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["egui","game-development","gamedev","gui","imgui","rust","wasm"],"visibility":"public","forks":1864,"open_issues":1010,"watchers":27079,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/emilk/egui/pulls/1390","html_url":"https://github.com/emilk/egui/pull/1390","diff_url":"https://github.com/emilk/egui/pull/1390.diff","patch_url":"https://github.com/emilk/egui/pull/1390.patch","merged_at":"2022-03-21T21:20:37Z"},"body":"Always use `parking_lot` for mutexes, i.e. always be multi-threaded.\r\n\r\nCloses #1379 \r\n \r\nPlease take a look @DusterTheFirst\r\n\r\n`cargo bench` shows no difference, so at this point I see no real reason of keeping the `single_threaded` path.\r\n\r\nThere is an alternative solution (which is orthogonal to this one):\r\n\r\n* https://github.com/emilk/egui/pull/1389\r\n\r\nwhich has the advantage of not triggering the problem caught in https://github.com/emilk/egui/pull/1380","reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/1390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/1390/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"quietvoid","id":39477805,"node_id":"MDQ6VXNlcjM5NDc3ODA1","avatar_url":"https://avatars.githubusercontent.com/u/39477805?v=4","gravatar_id":"","url":"https://api.github.com/users/quietvoid","html_url":"https://github.com/quietvoid","followers_url":"https://api.github.com/users/quietvoid/followers","following_url":"https://api.github.com/users/quietvoid/following{/other_user}","gists_url":"https://api.github.com/users/quietvoid/gists{/gist_id}","starred_url":"https://api.github.com/users/quietvoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quietvoid/subscriptions","organizations_url":"https://api.github.com/users/quietvoid/orgs","repos_url":"https://api.github.com/users/quietvoid/repos","events_url":"https://api.github.com/users/quietvoid/events{/privacy}","received_events_url":"https://api.github.com/users/quietvoid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T12:56:52Z","updated_at":"2022-03-21T12:56:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues/19","repository_url":"https://api.github.com/repos/quietvoid/vspreview-rs","labels_url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues/19/labels{/name}","comments_url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues/19/comments","events_url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues/19/events","html_url":"https://github.com/quietvoid/vspreview-rs/pull/19","id":1175347380,"node_id":"PR_kwDOEFROs840vPSx","number":19,"title":"Update egui","user":{"login":"quietvoid","id":39477805,"node_id":"MDQ6VXNlcjM5NDc3ODA1","avatar_url":"https://avatars.githubusercontent.com/u/39477805?v=4","gravatar_id":"","url":"https://api.github.com/users/quietvoid","html_url":"https://github.com/quietvoid","followers_url":"https://api.github.com/users/quietvoid/followers","following_url":"https://api.github.com/users/quietvoid/following{/other_user}","gists_url":"https://api.github.com/users/quietvoid/gists{/gist_id}","starred_url":"https://api.github.com/users/quietvoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quietvoid/subscriptions","organizations_url":"https://api.github.com/users/quietvoid/orgs","repos_url":"https://api.github.com/users/quietvoid/repos","events_url":"https://api.github.com/users/quietvoid/events{/privacy}","received_events_url":"https://api.github.com/users/quietvoid/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-03-21T12:56:52Z","updated_at":"2022-04-10T01:08:51Z","closed_at":"2022-03-22T03:29:59Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":273960627,"node_id":"MDEwOlJlcG9zaXRvcnkyNzM5NjA2Mjc=","name":"vspreview-rs","full_name":"quietvoid/vspreview-rs","private":false,"owner":{"login":"quietvoid","id":39477805,"node_id":"MDQ6VXNlcjM5NDc3ODA1","avatar_url":"https://avatars.githubusercontent.com/u/39477805?v=4","gravatar_id":"","url":"https://api.github.com/users/quietvoid","html_url":"https://github.com/quietvoid","followers_url":"https://api.github.com/users/quietvoid/followers","following_url":"https://api.github.com/users/quietvoid/following{/other_user}","gists_url":"https://api.github.com/users/quietvoid/gists{/gist_id}","starred_url":"https://api.github.com/users/quietvoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quietvoid/subscriptions","organizations_url":"https://api.github.com/users/quietvoid/orgs","repos_url":"https://api.github.com/users/quietvoid/repos","events_url":"https://api.github.com/users/quietvoid/events{/privacy}","received_events_url":"https://api.github.com/users/quietvoid/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/quietvoid/vspreview-rs","description":"minimal VapourSynth script previewer","fork":false,"url":"https://api.github.com/repos/quietvoid/vspreview-rs","forks_url":"https://api.github.com/repos/quietvoid/vspreview-rs/forks","keys_url":"https://api.github.com/repos/quietvoid/vspreview-rs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/quietvoid/vspreview-rs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/quietvoid/vspreview-rs/teams","hooks_url":"https://api.github.com/repos/quietvoid/vspreview-rs/hooks","issue_events_url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues/events{/number}","events_url":"https://api.github.com/repos/quietvoid/vspreview-rs/events","assignees_url":"https://api.github.com/repos/quietvoid/vspreview-rs/assignees{/user}","branches_url":"https://api.github.com/repos/quietvoid/vspreview-rs/branches{/branch}","tags_url":"https://api.github.com/repos/quietvoid/vspreview-rs/tags","blobs_url":"https://api.github.com/repos/quietvoid/vspreview-rs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/quietvoid/vspreview-rs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/quietvoid/vspreview-rs/git/refs{/sha}","trees_url":"https://api.github.com/repos/quietvoid/vspreview-rs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/quietvoid/vspreview-rs/statuses/{sha}","languages_url":"https://api.github.com/repos/quietvoid/vspreview-rs/languages","stargazers_url":"https://api.github.com/repos/quietvoid/vspreview-rs/stargazers","contributors_url":"https://api.github.com/repos/quietvoid/vspreview-rs/contributors","subscribers_url":"https://api.github.com/repos/quietvoid/vspreview-rs/subscribers","subscription_url":"https://api.github.com/repos/quietvoid/vspreview-rs/subscription","commits_url":"https://api.github.com/repos/quietvoid/vspreview-rs/commits{/sha}","git_commits_url":"https://api.github.com/repos/quietvoid/vspreview-rs/git/commits{/sha}","comments_url":"https://api.github.com/repos/quietvoid/vspreview-rs/comments{/number}","issue_comment_url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues/comments{/number}","contents_url":"https://api.github.com/repos/quietvoid/vspreview-rs/contents/{+path}","compare_url":"https://api.github.com/repos/quietvoid/vspreview-rs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/quietvoid/vspreview-rs/merges","archive_url":"https://api.github.com/repos/quietvoid/vspreview-rs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/quietvoid/vspreview-rs/downloads","issues_url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues{/number}","pulls_url":"https://api.github.com/repos/quietvoid/vspreview-rs/pulls{/number}","milestones_url":"https://api.github.com/repos/quietvoid/vspreview-rs/milestones{/number}","notifications_url":"https://api.github.com/repos/quietvoid/vspreview-rs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/quietvoid/vspreview-rs/labels{/name}","releases_url":"https://api.github.com/repos/quietvoid/vspreview-rs/releases{/id}","deployments_url":"https://api.github.com/repos/quietvoid/vspreview-rs/deployments","created_at":"2020-06-21T18:22:08Z","updated_at":"2025-11-01T15:12:53Z","pushed_at":"2025-11-01T15:12:50Z","git_url":"git://github.com/quietvoid/vspreview-rs.git","ssh_url":"git@github.com:quietvoid/vspreview-rs.git","clone_url":"https://github.com/quietvoid/vspreview-rs.git","svn_url":"https://github.com/quietvoid/vspreview-rs","homepage":"","size":1055,"stargazers_count":38,"watchers_count":38,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"gpl-3.0","name":"GNU General Public License v3.0","spdx_id":"GPL-3.0","url":"https://api.github.com/licenses/gpl-3.0","node_id":"MDc6TGljZW5zZTk="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":8,"watchers":38,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/quietvoid/vspreview-rs/pulls/19","html_url":"https://github.com/quietvoid/vspreview-rs/pull/19","diff_url":"https://github.com/quietvoid/vspreview-rs/pull/19.diff","patch_url":"https://github.com/quietvoid/vspreview-rs/pull/19.patch","merged_at":"2022-03-22T03:29:59Z"},"body":"Triggers https://github.com/emilk/egui/issues/1379 consistently.","reactions":{"url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues/19/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/quietvoid/vspreview-rs/issues/19/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/emilk/egui/issues/comments/1074048561","html_url":"https://github.com/emilk/egui/issues/1379#issuecomment-1074048561","issue_url":"https://api.github.com/repos/emilk/egui/issues/1379","id":1074048561,"node_id":"IC_kwDOCd2s285ABK4x","user":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T15:33:18Z","updated_at":"2022-03-21T15:33:18Z","body":"A workaround for this right now is adding this to your `Cargo.toml`:\r\n\r\n``` toml\r\nepaint = { version = \"0.17\", features = [\"multi_threaded\"] }\r\n```","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/comments/1074048561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6276618767,"node_id":"REFE_lADOCd2s285F_q5JzwAAAAF2HZoP","url":"https://api.github.com/repos/emilk/egui/issues/events/6276618767","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f64e494c79b46fe3961627e9ea75fb0fed362ea9","commit_url":"https://api.github.com/repos/emilk/egui/commits/f64e494c79b46fe3961627e9ea75fb0fed362ea9","created_at":"2022-03-21T15:37:02Z","performed_via_github_app":null},{"id":6276646198,"node_id":"REFE_lADOCd2s285F_q5JzwAAAAF2HgU2","url":"https://api.github.com/repos/emilk/egui/issues/events/6276646198","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"72d264ed6c363bafe340ed66a045cb873757c8f6","commit_url":"https://api.github.com/repos/emilk/egui/commits/72d264ed6c363bafe340ed66a045cb873757c8f6","created_at":"2022-03-21T15:40:16Z","performed_via_github_app":null},{"id":6278931000,"node_id":"CE_lADOCd2s285F_q5JzwAAAAF2QOI4","url":"https://api.github.com/repos/emilk/egui/issues/events/6278931000","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-03-21T21:20:37Z","state_reason":null,"performed_via_github_app":null},{"id":6278931174,"node_id":"REFE_lADOCd2s285F_q5JzwAAAAF2QOLm","url":"https://api.github.com/repos/emilk/egui/issues/events/6278931174","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"15254f8235e5905b1c61c9f29aff30ce22db8141","commit_url":"https://api.github.com/repos/emilk/egui/commits/15254f8235e5905b1c61c9f29aff30ce22db8141","created_at":"2022-03-21T21:20:39Z","performed_via_github_app":null},{"id":6281975974,"node_id":"REFE_lADOCd2s285F_q5JzwAAAAF2b1im","url":"https://api.github.com/repos/emilk/egui/issues/events/6281975974","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fe3e317061d59fa1e0172bd44d0d6dd2e3b965f5","commit_url":"https://api.github.com/repos/emilk/egui/commits/fe3e317061d59fa1e0172bd44d0d6dd2e3b965f5","created_at":"2022-03-22T09:26:25Z","performed_via_github_app":null},{"id":6281994867,"node_id":"REFE_lADOCd2s285F_q5JzwAAAAF2b6Jz","url":"https://api.github.com/repos/emilk/egui/issues/events/6281994867","actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"88c5947afb964a27b8eea05f8796cb330cfac598","commit_url":"https://api.github.com/repos/emilk/egui/commits/88c5947afb964a27b8eea05f8796cb330cfac598","created_at":"2022-03-22T09:28:59Z","performed_via_github_app":null},{"actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T09:34:32Z","updated_at":"2022-03-22T09:34:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/emilk/egui/issues/1398","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/1398/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/1398/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/1398/events","html_url":"https://github.com/emilk/egui/pull/1398","id":1176506241,"node_id":"PR_kwDOCd2s2840zGF9","number":1398,"title":"Add example using `three-d`","user":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-03-22T09:29:17Z","updated_at":"2022-03-23T10:15:42Z","closed_at":"2022-03-22T22:02:20Z","author_association":"OWNER","active_lock_reason":null,"draft":true,"repository":{"id":165522651,"node_id":"MDEwOlJlcG9zaXRvcnkxNjU1MjI2NTE=","name":"egui","full_name":"emilk/egui","private":false,"owner":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/emilk/egui","description":"egui: an easy-to-use immediate mode GUI in Rust that runs on both web and native","fork":false,"url":"https://api.github.com/repos/emilk/egui","forks_url":"https://api.github.com/repos/emilk/egui/forks","keys_url":"https://api.github.com/repos/emilk/egui/keys{/key_id}","collaborators_url":"https://api.github.com/repos/emilk/egui/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/emilk/egui/teams","hooks_url":"https://api.github.com/repos/emilk/egui/hooks","issue_events_url":"https://api.github.com/repos/emilk/egui/issues/events{/number}","events_url":"https://api.github.com/repos/emilk/egui/events","assignees_url":"https://api.github.com/repos/emilk/egui/assignees{/user}","branches_url":"https://api.github.com/repos/emilk/egui/branches{/branch}","tags_url":"https://api.github.com/repos/emilk/egui/tags","blobs_url":"https://api.github.com/repos/emilk/egui/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/emilk/egui/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/emilk/egui/git/refs{/sha}","trees_url":"https://api.github.com/repos/emilk/egui/git/trees{/sha}","statuses_url":"https://api.github.com/repos/emilk/egui/statuses/{sha}","languages_url":"https://api.github.com/repos/emilk/egui/languages","stargazers_url":"https://api.github.com/repos/emilk/egui/stargazers","contributors_url":"https://api.github.com/repos/emilk/egui/contributors","subscribers_url":"https://api.github.com/repos/emilk/egui/subscribers","subscription_url":"https://api.github.com/repos/emilk/egui/subscription","commits_url":"https://api.github.com/repos/emilk/egui/commits{/sha}","git_commits_url":"https://api.github.com/repos/emilk/egui/git/commits{/sha}","comments_url":"https://api.github.com/repos/emilk/egui/comments{/number}","issue_comment_url":"https://api.github.com/repos/emilk/egui/issues/comments{/number}","contents_url":"https://api.github.com/repos/emilk/egui/contents/{+path}","compare_url":"https://api.github.com/repos/emilk/egui/compare/{base}...{head}","merges_url":"https://api.github.com/repos/emilk/egui/merges","archive_url":"https://api.github.com/repos/emilk/egui/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/emilk/egui/downloads","issues_url":"https://api.github.com/repos/emilk/egui/issues{/number}","pulls_url":"https://api.github.com/repos/emilk/egui/pulls{/number}","milestones_url":"https://api.github.com/repos/emilk/egui/milestones{/number}","notifications_url":"https://api.github.com/repos/emilk/egui/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/emilk/egui/labels{/name}","releases_url":"https://api.github.com/repos/emilk/egui/releases{/id}","deployments_url":"https://api.github.com/repos/emilk/egui/deployments","created_at":"2019-01-13T15:39:15Z","updated_at":"2025-11-10T11:16:44Z","pushed_at":"2025-11-07T14:35:55Z","git_url":"git://github.com/emilk/egui.git","ssh_url":"git@github.com:emilk/egui.git","clone_url":"https://github.com/emilk/egui.git","svn_url":"https://github.com/emilk/egui","homepage":"https://www.egui.rs/","size":88685,"stargazers_count":27079,"watchers_count":27079,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1864,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1010,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["egui","game-development","gamedev","gui","imgui","rust","wasm"],"visibility":"public","forks":1864,"open_issues":1010,"watchers":27079,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/emilk/egui/pulls/1398","html_url":"https://github.com/emilk/egui/pull/1398","diff_url":"https://github.com/emilk/egui/pull/1398.diff","patch_url":"https://github.com/emilk/egui/pull/1398.patch","merged_at":null},"body":"**EDIT:** rebased in https://github.com/emilk/egui/pull/1407\r\n\r\n\r\nhttps://github.com/asny/three-d recently merged a PR adding `glow` support: https://github.com/asny/three-d/pull/210.\r\nThis means it is a prime candidate for embedding 3D painting inside an eframe app.\r\n\r\n![Screen Shot 2022-03-22 at 10 27 24](https://user-images.githubusercontent.com/1148717/159449118-08bac832-181f-424c-9a6c-82df719389dc.png)\r\n\r\nThere are currently a few kinks that need to be figured out:\r\n\r\n* [x] sudden egui paint failure\r\n* [x] viewport\r\n* [ ] anti-aliasing\r\n* [ ] `Send+Sync`\r\n\r\n## Sudden egui paint failure\r\nWhen reusing the same `three_d` context over time (as one should), we get two(!) good frames of `egui+three_d`, but frame three and onwards the `egui` painting breaks (nothing is painted), but the `three_d` still works. Very weird!\r\n\r\n**EDIT**: fixed by https://github.com/asny/three-d/commit/07bbf3b6e3336b758d7dbdfcc14c72f95f361376\r\n\r\n## Viewport\r\nThe `thee-d` camera requires a viewport (in pixels). This need to be passed in to the `PaintCallback` function, or there needs to be some way of telling `three-d` to use the currently set viewport (less likely).\r\n\r\n**EDIT**: fixed by https://github.com/emilk/egui/pull/1398/commits/9181dc7a0e52c48fbdc2648d4b328d95dcaac051\r\n\r\n## Anti-aliasing\r\nIt would be nice to enable MSAA to smooth out the edges.\r\n\r\n## `Shape: Send + Sync`\r\n`Shape` is `Send + Sync` and `three_d::Context` is not. This means we cannot store a three_d context and send it to the `Shape::Callback`.\r\n\r\nSo we either need to recreate the three_d context each frame (obviously a bad idea), or access it through a `thread_local` hack. This PR adds both as examples, with a checkbox to switch.\r\n\r\nWe could consider making `Shape: !Send + !Sync`, but that has a lot of downstream implications, as discussed in https://github.com/emilk/egui/issues/1399\r\n","reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/1398/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/1398/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T09:35:55Z","updated_at":"2022-03-22T09:35:55Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/emilk/egui/issues/1399","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/1399/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/1399/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/1399/events","html_url":"https://github.com/emilk/egui/issues/1399","id":1176514130,"node_id":"I_kwDOCd2s285GIC5S","number":1399,"title":"Consider making egui::Context !Send+!Sync","user":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1191600519,"node_id":"MDU6TGFiZWwxMTkxNjAwNTE5","url":"https://api.github.com/repos/emilk/egui/labels/feature","name":"feature","color":"a2eeef","default":false,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-03-22T09:35:55Z","updated_at":"2023-11-20T06:34:40Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":165522651,"node_id":"MDEwOlJlcG9zaXRvcnkxNjU1MjI2NTE=","name":"egui","full_name":"emilk/egui","private":false,"owner":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/emilk/egui","description":"egui: an easy-to-use immediate mode GUI in Rust that runs on both web and native","fork":false,"url":"https://api.github.com/repos/emilk/egui","forks_url":"https://api.github.com/repos/emilk/egui/forks","keys_url":"https://api.github.com/repos/emilk/egui/keys{/key_id}","collaborators_url":"https://api.github.com/repos/emilk/egui/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/emilk/egui/teams","hooks_url":"https://api.github.com/repos/emilk/egui/hooks","issue_events_url":"https://api.github.com/repos/emilk/egui/issues/events{/number}","events_url":"https://api.github.com/repos/emilk/egui/events","assignees_url":"https://api.github.com/repos/emilk/egui/assignees{/user}","branches_url":"https://api.github.com/repos/emilk/egui/branches{/branch}","tags_url":"https://api.github.com/repos/emilk/egui/tags","blobs_url":"https://api.github.com/repos/emilk/egui/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/emilk/egui/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/emilk/egui/git/refs{/sha}","trees_url":"https://api.github.com/repos/emilk/egui/git/trees{/sha}","statuses_url":"https://api.github.com/repos/emilk/egui/statuses/{sha}","languages_url":"https://api.github.com/repos/emilk/egui/languages","stargazers_url":"https://api.github.com/repos/emilk/egui/stargazers","contributors_url":"https://api.github.com/repos/emilk/egui/contributors","subscribers_url":"https://api.github.com/repos/emilk/egui/subscribers","subscription_url":"https://api.github.com/repos/emilk/egui/subscription","commits_url":"https://api.github.com/repos/emilk/egui/commits{/sha}","git_commits_url":"https://api.github.com/repos/emilk/egui/git/commits{/sha}","comments_url":"https://api.github.com/repos/emilk/egui/comments{/number}","issue_comment_url":"https://api.github.com/repos/emilk/egui/issues/comments{/number}","contents_url":"https://api.github.com/repos/emilk/egui/contents/{+path}","compare_url":"https://api.github.com/repos/emilk/egui/compare/{base}...{head}","merges_url":"https://api.github.com/repos/emilk/egui/merges","archive_url":"https://api.github.com/repos/emilk/egui/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/emilk/egui/downloads","issues_url":"https://api.github.com/repos/emilk/egui/issues{/number}","pulls_url":"https://api.github.com/repos/emilk/egui/pulls{/number}","milestones_url":"https://api.github.com/repos/emilk/egui/milestones{/number}","notifications_url":"https://api.github.com/repos/emilk/egui/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/emilk/egui/labels{/name}","releases_url":"https://api.github.com/repos/emilk/egui/releases{/id}","deployments_url":"https://api.github.com/repos/emilk/egui/deployments","created_at":"2019-01-13T15:39:15Z","updated_at":"2025-11-10T11:16:44Z","pushed_at":"2025-11-07T14:35:55Z","git_url":"git://github.com/emilk/egui.git","ssh_url":"git@github.com:emilk/egui.git","clone_url":"https://github.com/emilk/egui.git","svn_url":"https://github.com/emilk/egui","homepage":"https://www.egui.rs/","size":88685,"stargazers_count":27079,"watchers_count":27079,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":1864,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1010,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["egui","game-development","gamedev","gui","imgui","rust","wasm"],"visibility":"public","forks":1864,"open_issues":1010,"watchers":27079,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Prompted by https://github.com/emilk/egui/pull/1398\r\n\r\nCurrently `Context` and `Shape` are both `Send+Sync`. This means `Shape::Callback` can only capture things that are `Send+Sync`, even though almost all users will be running their UI code on the the paint thread.\r\n\r\nWe could consider making `Shape: !Send + !Sync`, but that would mean `egui::Context` could not be `Send+Sync` either (because the egui context stores shapes). This could actually be fine. `egui::Context` should only be used from a background thread for calling `request_repaint` and allocating textures. These could be made separate parts of the egui Context, so that one would do:\r\n\r\n``` rust\r\nlet repaint_signal = egui_ctx.repaint_signal();\r\nlet tex_mngr = egui_ctx.tex_mngr();\r\nstd::thread::spawn(move || {\r\n    // We can use repaint_signal and tex_mngr here,\r\n    // but NOT `egui_ctx`.\r\n}):\r\n```\r\n\r\nMaking `Context: !Sync` would also solve deadlocks discussed in #1379 and #1380.\r\n\r\nThe downside of this is that it would stop users from running their UI code in a separate thread from their main window/paint thread.\r\n\r\nRelated:\r\n* https://github.com/emilk/egui/issues/1379\r\n* https://github.com/emilk/egui/pull/1380\r\n* https://github.com/emilk/egui/pull/1389\r\n","reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/1399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/1399/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]