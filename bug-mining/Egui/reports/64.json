{"url":"https://api.github.com/repos/emilk/egui/issues/4534","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/4534/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/4534/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/4534/events","html_url":"https://github.com/emilk/egui/issues/4534","id":2314923842,"node_id":"I_kwDOCd2s286J-u9C","number":4534,"title":"Store a Ui/Frame-stack","user":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3679039344,"node_id":"LA_kwDOCd2s287bSa9w","url":"https://api.github.com/repos/emilk/egui/labels/layout","name":"layout","color":"5319e7","default":false,"description":"Related to widget layout"},{"id":6181757357,"node_id":"LA_kwDOCd2s288AAAABcHYhrQ","url":"https://api.github.com/repos/emilk/egui/labels/rerun","name":"rerun","color":"c2e0c6","default":false,"description":"Desired for Rerun.io"},{"id":6741652506,"node_id":"LA_kwDOCd2s288AAAABkdV0Gg","url":"https://api.github.com/repos/emilk/egui/labels/style","name":"style","color":"127DBA","default":false,"description":"visuals and theming"}],"state":"closed","locked":false,"assignee":{"login":"abey79","id":49431240,"node_id":"MDQ6VXNlcjQ5NDMxMjQw","avatar_url":"https://avatars.githubusercontent.com/u/49431240?v=4","gravatar_id":"","url":"https://api.github.com/users/abey79","html_url":"https://github.com/abey79","followers_url":"https://api.github.com/users/abey79/followers","following_url":"https://api.github.com/users/abey79/following{/other_user}","gists_url":"https://api.github.com/users/abey79/gists{/gist_id}","starred_url":"https://api.github.com/users/abey79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abey79/subscriptions","organizations_url":"https://api.github.com/users/abey79/orgs","repos_url":"https://api.github.com/users/abey79/repos","events_url":"https://api.github.com/users/abey79/events{/privacy}","received_events_url":"https://api.github.com/users/abey79/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"abey79","id":49431240,"node_id":"MDQ6VXNlcjQ5NDMxMjQw","avatar_url":"https://avatars.githubusercontent.com/u/49431240?v=4","gravatar_id":"","url":"https://api.github.com/users/abey79","html_url":"https://github.com/abey79","followers_url":"https://api.github.com/users/abey79/followers","following_url":"https://api.github.com/users/abey79/following{/other_user}","gists_url":"https://api.github.com/users/abey79/gists{/gist_id}","starred_url":"https://api.github.com/users/abey79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abey79/subscriptions","organizations_url":"https://api.github.com/users/abey79/orgs","repos_url":"https://api.github.com/users/abey79/repos","events_url":"https://api.github.com/users/abey79/events{/privacy}","received_events_url":"https://api.github.com/users/abey79/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/emilk/egui/milestones/3","html_url":"https://github.com/emilk/egui/milestone/3","labels_url":"https://api.github.com/repos/emilk/egui/milestones/3/labels","id":10214453,"node_id":"MI_kwDOCd2s284Am9w1","number":3,"title":"Next Major Release","description":"Issues to consider before then next major release","creator":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":88,"state":"closed","created_at":"2023-11-21T09:33:31Z","updated_at":"2025-01-06T18:29:55Z","due_on":null,"closed_at":"2024-12-11T15:45:02Z"},"comments":0,"created_at":"2024-05-24T09:33:07Z","updated_at":"2024-06-04T08:12:25Z","closed_at":"2024-06-04T08:12:24Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Sometimes you want to answer the question \"What is this Ui part of?\". For instance: sometimes you want to paint the background of a widget to extend to the edges of the panel it is in, but that panel may be several `Ui`s removed from the current widget.\r\n\r\nWhat you want is access to a stack of parent Ui frames, with some semantics.\r\n\r\nEach stack should contain:\r\n\r\n* `Id`\r\n* `Frame` (inner & outer margins, stroke, …)\r\n* `min_size` and `max_size` (with/without margins)\r\n* Type (Panel, Area, Group, …)\r\n\r\nWe would push onto this stack each time we create a new `Ui`.\r\n\r\nThis means the root of the stack is created by `Ui::new` (most often created by `Area/Window` and `Panel`).\r\nThen things like `ui.group`, `ui.horizontal`, `egui::Frame` etc would push onto this stack before calling into its contents, and then pop afterwards.\r\n\r\nWorking name: `StackFrame`.\r\n\r\nThen we add `impl Ui { pub fn stack(&self) -> &Stack { … } }` and then users can walk the stack to implement advanced styling.\r\n\r\n### Implementation\r\n`Ui::new` creates the stack as a `Rc<RefCell<Stack>>` and hands it to its children.\r\n\r\n### Future work: columns\r\nWe can use this architecture to implement columnar layouts, allowing aligning widgets that share an ancestor.\r\nEach `StackFrame` has an optional field for column widths.\r\n\r\nAn `egui::Grid` would create such a special stack frame.\r\nWhen adding a widget, we would walk up the stack to find which column we are in, and align to that, then register if we overflowed that width.\r\n`ui.end_row()` would reset a column=0.\r\n\r\nMaybe this should be a separate stack?  Probably.\r\n\r\nAnyway, this requires more design, so let's not discuss this further here.","closed_by":{"login":"abey79","id":49431240,"node_id":"MDQ6VXNlcjQ5NDMxMjQw","avatar_url":"https://avatars.githubusercontent.com/u/49431240?v=4","gravatar_id":"","url":"https://api.github.com/users/abey79","html_url":"https://github.com/abey79","followers_url":"https://api.github.com/users/abey79/followers","following_url":"https://api.github.com/users/abey79/following{/other_user}","gists_url":"https://api.github.com/users/abey79/gists{/gist_id}","starred_url":"https://api.github.com/users/abey79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abey79/subscriptions","organizations_url":"https://api.github.com/users/abey79/orgs","repos_url":"https://api.github.com/users/abey79/repos","events_url":"https://api.github.com/users/abey79/events{/privacy}","received_events_url":"https://api.github.com/users/abey79/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/4534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/4534/timeline","performed_via_github_app":null,"state_reason":"completed"}