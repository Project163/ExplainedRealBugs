{"url":"https://api.github.com/repos/emilk/egui/issues/1991","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/1991/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/1991/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/1991/events","html_url":"https://github.com/emilk/egui/issues/1991","id":1357928977,"node_id":"I_kwDOCd2s285Q8FoR","number":1991,"title":"srgb unsupported on Vivante openGL (embedded)","user":{"login":"flukejones","id":2015870,"node_id":"MDQ6VXNlcjIwMTU4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/2015870?v=4","gravatar_id":"","url":"https://api.github.com/users/flukejones","html_url":"https://github.com/flukejones","followers_url":"https://api.github.com/users/flukejones/followers","following_url":"https://api.github.com/users/flukejones/following{/other_user}","gists_url":"https://api.github.com/users/flukejones/gists{/gist_id}","starred_url":"https://api.github.com/users/flukejones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flukejones/subscriptions","organizations_url":"https://api.github.com/users/flukejones/orgs","repos_url":"https://api.github.com/users/flukejones/repos","events_url":"https://api.github.com/users/flukejones/events{/privacy}","received_events_url":"https://api.github.com/users/flukejones/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-08-31T22:11:27Z","updated_at":"2022-09-06T08:07:50Z","closed_at":"2022-09-06T08:07:50Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm trying to prototype use of egui on an STM32MP1 based board here at work to try and move off QT and C++. I notice that in many cases egui defaults to use of SRGB format - for example in the `egui_glium` crate, painter uses `SrgbFormat`.\r\n\r\nIf I try to use other integrations such as glow or eframe I get a blank window (except for shader path), which I'm assuming is due to this.\r\n\r\nThe following is a dump of info:\r\n\r\nGL version = 2.0\r\n\r\n```\r\n[egui/crates/egui_glium/src/painter.rs:258] facade.get_capabilities() = Capabilities {\r\n    supported_glsl_versions: [\r\n        Version(\r\n            GlEs,\r\n            1,\r\n            0,\r\n        ),\r\n        Version(\r\n            Gl,\r\n            1,\r\n            1,\r\n        ),\r\n    ],\r\n    version: \"2.0 Mesa 22.1.6\",\r\n    vendor: \"etnaviv\",\r\n    renderer: \"Vivante GC400 rev 4652\",\r\n    profile: None,\r\n    debug: false,\r\n    forward_compatible: false,\r\n    robustness: false,\r\n    can_lose_context: false,\r\n    release_behavior: Flush,\r\n    stereo: false,\r\n    srgb: false,\r\n    depth_bits: Some(\r\n        24,\r\n    ),\r\n    stencil_bits: Some(\r\n        8,\r\n    ),\r\n    internal_formats_textures: {\r\n        DepthFormat(\r\n            I32,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U12U12U12U12,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        DepthFormat(\r\n            I16,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U2U2U2U2,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U5U5U5U1,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U12U12U12,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U3U3U2,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        DepthStencilFormat(\r\n            I24I8,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U5U5U5,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U8U8U8U8,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        DepthFormat(\r\n            I24,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U10U10U10U2,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U4U4U4U4,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U10U10U10,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U4U4U4,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U16U16U16U16,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U8U8U8,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [],\r\n            ),\r\n        },\r\n    },\r\n    internal_formats_renderbuffers: {\r\n        DepthFormat(\r\n            I32,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    16,\r\n                    15,\r\n                    14,\r\n                    13,\r\n                    12,\r\n                    11,\r\n                    10,\r\n                    9,\r\n                    8,\r\n                    7,\r\n                    6,\r\n                    5,\r\n                    4,\r\n                    3,\r\n                    2,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U12U12U12U12,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        DepthFormat(\r\n            I16,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    16,\r\n                    15,\r\n                    14,\r\n                    13,\r\n                    12,\r\n                    11,\r\n                    10,\r\n                    9,\r\n                    8,\r\n                    7,\r\n                    6,\r\n                    5,\r\n                    4,\r\n                    3,\r\n                    2,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U2U2U2U2,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        StencilFormat(\r\n            I1,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    16,\r\n                    15,\r\n                    14,\r\n                    13,\r\n                    12,\r\n                    11,\r\n                    10,\r\n                    9,\r\n                    8,\r\n                    7,\r\n                    6,\r\n                    5,\r\n                    4,\r\n                    3,\r\n                    2,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U5U5U5U1,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U12U12U12,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U3U3U2,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        DepthStencilFormat(\r\n            I24I8,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    16,\r\n                    15,\r\n                    14,\r\n                    13,\r\n                    12,\r\n                    11,\r\n                    10,\r\n                    9,\r\n                    8,\r\n                    7,\r\n                    6,\r\n                    5,\r\n                    4,\r\n                    3,\r\n                    2,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U5U5U5,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U8U8U8U8,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        DepthFormat(\r\n            I24,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    16,\r\n                    15,\r\n                    14,\r\n                    13,\r\n                    12,\r\n                    11,\r\n                    10,\r\n                    9,\r\n                    8,\r\n                    7,\r\n                    6,\r\n                    5,\r\n                    4,\r\n                    3,\r\n                    2,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U10U10U10U2,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        StencilFormat(\r\n            I4,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    16,\r\n                    15,\r\n                    14,\r\n                    13,\r\n                    12,\r\n                    11,\r\n                    10,\r\n                    9,\r\n                    8,\r\n                    7,\r\n                    6,\r\n                    5,\r\n                    4,\r\n                    3,\r\n                    2,\r\n                ],\r\n            ),\r\n        },\r\n        StencilFormat(\r\n            I16,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    16,\r\n                    15,\r\n                    14,\r\n                    13,\r\n                    12,\r\n                    11,\r\n                    10,\r\n                    9,\r\n                    8,\r\n                    7,\r\n                    6,\r\n                    5,\r\n                    4,\r\n                    3,\r\n                    2,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U4U4U4U4,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U10U10U10,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U4U4U4,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U16U16U16U16,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n        UncompressedFloat(\r\n            U8U8U8,\r\n        ): FormatInfos {\r\n            multisamples: Some(\r\n                [\r\n                    1,\r\n                ],\r\n            ),\r\n        },\r\n    },\r\n    max_combined_texture_image_units: 8,\r\n    max_texture_max_anisotropy: None,\r\n    max_texture_size: 8192,\r\n    max_texture_buffer_size: None,\r\n    max_viewport_dims: (\r\n        8192,\r\n        8192,\r\n    ),\r\n    max_draw_buffers: 1,\r\n    max_patch_vertices: None,\r\n    max_indexed_atomic_counter_buffer: 0,\r\n    max_indexed_shader_storage_buffer: 0,\r\n    max_indexed_transform_feedback_buffer: 0,\r\n    max_indexed_uniform_buffer: 0,\r\n    max_compute_work_group_count: (\r\n        0,\r\n        0,\r\n        0,\r\n    ),\r\n    max_color_attachments: 1,\r\n    max_framebuffer_width: None,\r\n    max_framebuffer_height: None,\r\n    max_framebuffer_layers: None,\r\n    max_framebuffer_samples: None,\r\n```\r\n\r\n```\r\n[egui/crates/egui_glium/src/painter.rs:259] facade.get_extensions() = ExtensionsList {\r\n    gl_amd_depth_clamp_separate: false,\r\n    gl_amd_query_buffer_object: false,\r\n    gl_angle_framebuffer_multisample: false,\r\n    gl_apple_framebuffer_multisample: false,\r\n    gl_apple_sync: false,\r\n    gl_apple_vertex_array_object: false,\r\n    gl_arb_bindless_texture: false,\r\n    gl_arb_buffer_storage: false,\r\n    gl_arb_compute_shader: false,\r\n    gl_arb_copy_buffer: true,\r\n    gl_arb_debug_output: true,\r\n    gl_arb_depth_clamp: false,\r\n    gl_arb_depth_texture: true,\r\n    gl_arb_direct_state_access: false,\r\n    gl_arb_draw_buffers: true,\r\n    gl_arb_draw_elements_base_vertex: true,\r\n    gl_arb_compatibility: false,\r\n    gl_arb_es2_compatibility: true,\r\n    gl_arb_es3_compatibility: false,\r\n    gl_arb_es3_1_compatibility: false,\r\n    gl_arb_es3_2_compatibility: false,\r\n    gl_arb_fragment_shader: true,\r\n    gl_arb_framebuffer_no_attachments: false,\r\n    gl_arb_framebuffer_object: true,\r\n    gl_arb_framebuffer_srgb: false,\r\n    gl_arb_geometry_shader4: false,\r\n    gl_arb_get_programy_binary: true,\r\n    gl_arb_gl_spirv: false,\r\n    gl_arb_gpu_shader_fp64: false,\r\n    gl_arb_gpu_shader_int64: false,\r\n    gl_arb_instanced_arrays: false,\r\n    gl_arb_internalformat_query: true,\r\n    gl_arb_invalidate_subdata: true,\r\n    gl_arb_occlusion_query: true,\r\n    gl_arb_occlusion_query2: false,\r\n    gl_arb_pixel_buffer_object: true,\r\n    gl_arb_program_interface_query: true,\r\n    gl_arb_query_buffer_object: false,\r\n    gl_arb_map_buffer_range: true,\r\n    gl_arb_multi_draw_indirect: false,\r\n    gl_arb_provoking_vertex: true,\r\n    gl_arb_robustness: true,\r\n    gl_arb_robust_buffer_access_behavior: false,\r\n    gl_arb_sampler_objects: true,\r\n    gl_arb_seamless_cube_map: false,\r\n    gl_arb_shader_atomic_counters: false,\r\n    gl_arb_shader_image_load_store: false,\r\n    gl_arb_shader_objects: true,\r\n    gl_arb_shader_storage_buffer_object: false,\r\n    gl_arb_shader_subroutine: false,\r\n    gl_arb_sync: true,\r\n    gl_arb_tessellation_shader: false,\r\n    gl_arb_texture_buffer_object: false,\r\n    gl_arb_texture_buffer_object_rgb32: false,\r\n    gl_arb_texture_compression_bptc: false,\r\n    gl_arb_texture_cube_map: true,\r\n    gl_arb_texture_cube_map_array: false,\r\n    gl_arb_texture_float: false,\r\n    gl_arb_texture_multisample: false,\r\n    gl_arb_texture_non_power_of_two: true,\r\n    gl_arb_texture_rg: false,\r\n    gl_arb_texture_rgb10_a2ui: false,\r\n    gl_arb_texture_stencil8: false,\r\n    gl_arb_texture_storage: true,\r\n    gl_arb_timer_query: false,\r\n    gl_arb_transform_feedback3: false,\r\n    gl_arb_uniform_buffer_object: false,\r\n    gl_arb_vertex_array_object: true,\r\n    gl_arb_vertex_buffer_object: true,\r\n    gl_arb_vertex_half_float: false,\r\n    gl_arb_vertex_shader: true,\r\n    gl_arb_vertex_type_10f_11f_11f_rev: false,\r\n    gl_arb_vertex_type_2_10_10_10_rev: false,\r\n    gl_arm_rgba8: false,\r\n    gl_ati_meminfo: false,\r\n    gl_ati_draw_buffers: true,\r\n    gl_ati_texture_float: false,\r\n    gl_ext_blend_minmax: true,\r\n    gl_ext_buffer_storage: false,\r\n    gl_ext_debug_marker: false,\r\n    gl_ext_direct_state_access: true,\r\n    gl_ext_memory_object: false,\r\n    gl_ext_memory_object_fd: false,\r\n    gl_ext_disjoint_timer_query: false,\r\n    gl_ext_framebuffer_blit: true,\r\n    gl_ext_framebuffer_object: true,\r\n    gl_ext_framebuffer_multisample: false,\r\n    gl_ext_framebuffer_srgb: false,\r\n    gl_ext_geometry_shader: false,\r\n    gl_ext_geometry_shader4: false,\r\n    gl_ext_gpu_shader4: false,\r\n    gl_ext_multi_draw_indirect: false,\r\n    gl_ext_multisampled_render_to_texture: false,\r\n    gl_ext_occlusion_query_boolean: false,\r\n    gl_ext_packed_depth_stencil: true,\r\n    gl_ext_packed_float: false,\r\n    gl_ext_primitive_bounding_box: false,\r\n    gl_ext_provoking_vertex: true,\r\n    gl_ext_robustness: false,\r\n    gl_ext_srgb_write_control: false,\r\n    gl_ext_texture3d: true,\r\n    gl_ext_semaphore: false,\r\n    gl_ext_semaphore_fd: false,\r\n    gl_ext_texture_array: true,\r\n    gl_ext_texture_buffer: false,\r\n    gl_ext_texture_buffer_object: false,\r\n    gl_ext_texture_compression_s3tc: false,\r\n    gl_ext_texture_cube_map: true,\r\n    gl_ext_texture_cube_map_array: false,\r\n    gl_ext_texture_filter_anisotropic: false,\r\n    gl_ext_texture_integer: false,\r\n    gl_ext_texture_shared_exponent: false,\r\n    gl_ext_texture_snorm: false,\r\n    gl_ext_texture_srgb: false,\r\n    gl_ext_transform_feedback: false,\r\n    gl_gremedy_string_marker: false,\r\n    gl_khr_debug: true,\r\n    gl_khr_context_flush_control: true,\r\n    gl_khr_robustness: false,\r\n    gl_khr_robust_buffer_access_behavior: false,\r\n    gl_nv_fbo_color_attachments: false,\r\n    gl_nv_conditional_render: false,\r\n    gl_nv_copy_buffer: false,\r\n    gl_nv_depth_clamp: false,\r\n    gl_nv_framebuffer_multisample: false,\r\n    gl_nv_half_float: true,\r\n    gl_nv_internalformat_sample_query: false,\r\n    gl_nv_pixel_buffer_object: false,\r\n    gl_nv_read_depth: false,\r\n    gl_nv_read_stencil: false,\r\n    gl_nv_read_depth_stencil: false,\r\n    gl_nv_shader_atomic_counters: false,\r\n    gl_nv_shader_storage_buffer_object: false,\r\n    gl_nv_texture_array: false,\r\n    gl_nv_transform_feedback: false,\r\n    gl_nv_vertex_attrib_integer_64bit: false,\r\n    gl_nvx_gpu_memory_info: false,\r\n    gl_oes_depth_texture: false,\r\n    gl_oes_draw_elements_base_vertex: false,\r\n    gl_oes_element_index_uint: false,\r\n    gl_oes_fixed_point: false,\r\n    gl_oes_geometry_shader: false,\r\n    gl_oes_packed_depth_stencil: false,\r\n    gl_oes_primitive_bounding_box: false,\r\n    gl_oes_rgb8_rgba8: false,\r\n    gl_oes_stencil1: false,\r\n    gl_oes_stencil4: false,\r\n    gl_oes_tessellation_shader: false,\r\n    gl_oes_texture_3d: false,\r\n    gl_oes_texture_buffer: false,\r\n    gl_oes_texture_cube_map_array: false,\r\n    gl_oes_texture_stencil8: false,\r\n    gl_oes_texture_storage_multisample_2d_array: false,\r\n    gl_oes_vertex_array_object: false,\r\n    gl_oes_vertex_half_float: false,\r\n    gl_oes_vertex_type_10_10_10_2: false,\r\n}\r\n```\r\n\r\nI'm willing to put in the work, I'm just unsure where to start.","closed_by":{"login":"emilk","id":1148717,"node_id":"MDQ6VXNlcjExNDg3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1148717?v=4","gravatar_id":"","url":"https://api.github.com/users/emilk","html_url":"https://github.com/emilk","followers_url":"https://api.github.com/users/emilk/followers","following_url":"https://api.github.com/users/emilk/following{/other_user}","gists_url":"https://api.github.com/users/emilk/gists{/gist_id}","starred_url":"https://api.github.com/users/emilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilk/subscriptions","organizations_url":"https://api.github.com/users/emilk/orgs","repos_url":"https://api.github.com/users/emilk/repos","events_url":"https://api.github.com/users/emilk/events{/privacy}","received_events_url":"https://api.github.com/users/emilk/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/1991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/1991/timeline","performed_via_github_app":null,"state_reason":"completed"}