{"url":"https://api.github.com/repos/emilk/egui/issues/5679","repository_url":"https://api.github.com/repos/emilk/egui","labels_url":"https://api.github.com/repos/emilk/egui/issues/5679/labels{/name}","comments_url":"https://api.github.com/repos/emilk/egui/issues/5679/comments","events_url":"https://api.github.com/repos/emilk/egui/issues/5679/events","html_url":"https://github.com/emilk/egui/issues/5679","id":2831075633,"node_id":"I_kwDOCd2s286ovskx","number":5679,"title":"Cannot load an image of mime-type \"application/x-msdownload;charset=UTF-8\"","user":{"login":"markusdd","id":25175069,"node_id":"MDQ6VXNlcjI1MTc1MDY5","avatar_url":"https://avatars.githubusercontent.com/u/25175069?v=4","gravatar_id":"","url":"https://api.github.com/users/markusdd","html_url":"https://github.com/markusdd","followers_url":"https://api.github.com/users/markusdd/followers","following_url":"https://api.github.com/users/markusdd/following{/other_user}","gists_url":"https://api.github.com/users/markusdd/gists{/gist_id}","starred_url":"https://api.github.com/users/markusdd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusdd/subscriptions","organizations_url":"https://api.github.com/users/markusdd/orgs","repos_url":"https://api.github.com/users/markusdd/repos","events_url":"https://api.github.com/users/markusdd/events{/privacy}","received_events_url":"https://api.github.com/users/markusdd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1191600517,"node_id":"MDU6TGFiZWwxMTkxNjAwNTE3","url":"https://api.github.com/repos/emilk/egui/labels/bug","name":"bug","color":"FBCA04","default":true,"description":"Something is broken"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-02-04T19:08:52Z","updated_at":"2025-03-18T10:51:02Z","closed_at":"2025-03-18T10:51:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm currently facing a problem in my program https://github.com/markusdd/EasyEDA_to_KiCAD_Lib_UI where I'm having to interface with a new image API. (using egui 0.30 for this as I cannot migrate to 0.31 yet because of a dependency, but I checked the relevant code, it has not changed)\n\nMost older catalogue entries had URLs directly pointing to JPG files, like this one: https://assets.lcsc.com/images/lcsc/900x900/20230828_Megastar-ZX-PZ2-54-2-5PZZ_C7501276_back.jpg \n\nAnalyzing in browser it looks like this: \n\n![Image](https://github.com/user-attachments/assets/db104815-cc4e-4b15-aad8-09a5fde0eab2)\n\nNow, there is a new API like this: https://jlcpcb.com/api/file/downloadByFileSystemAccessId/8553684168530669568 \n\n![Image](https://github.com/user-attachments/assets/1ea2135b-c610-49be-bb7f-ba5ea6a43f22)\n\nSo the MIME-Type is designated as a download and only the disposition gives away that it is an image. This is common practice for images that are not getting displayed in the browser but directly being downloaded.\n\nThe issue is: The image loader currently fails because it does not recognize the MIME-Type and I have found no way through the API to tell it to ignore that.\n\nWhat I have tried is locally patching the \"is_supported_mime\" function in   src\\loaders\\image_loader.rs of egui-extras to do this:\n\n```rust\nif mime == \"application/octet-stream\" || mime == \"application/x-msdownload;charset=UTF-8\"\n```\n\nSo I just 'bluntly' attached my requirement.\n\nAnd it works perfectly, the images are being displayed again:\n\n![Image](https://github.com/user-attachments/assets/7b283c9d-57f5-4135-9523-e4c2a870d223)\n\nBut this is not a nice solution and I also cannot deploy my app like this, unless I switch to a fork of egui which I really want to avoid.\n\nAny recommendations how to fix this properly or at least work around it for now?","closed_by":{"login":"lucasmerlin","id":8009393,"node_id":"MDQ6VXNlcjgwMDkzOTM=","avatar_url":"https://avatars.githubusercontent.com/u/8009393?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasmerlin","html_url":"https://github.com/lucasmerlin","followers_url":"https://api.github.com/users/lucasmerlin/followers","following_url":"https://api.github.com/users/lucasmerlin/following{/other_user}","gists_url":"https://api.github.com/users/lucasmerlin/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasmerlin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasmerlin/subscriptions","organizations_url":"https://api.github.com/users/lucasmerlin/orgs","repos_url":"https://api.github.com/users/lucasmerlin/repos","events_url":"https://api.github.com/users/lucasmerlin/events{/privacy}","received_events_url":"https://api.github.com/users/lucasmerlin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/emilk/egui/issues/5679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/emilk/egui/issues/5679/timeline","performed_via_github_app":null,"state_reason":"completed"}