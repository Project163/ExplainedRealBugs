diff --git a/web/src/main/java/org/apache/shiro/web/servlet/AbstractShiroFilter.java b/web/src/main/java/org/apache/shiro/web/servlet/AbstractShiroFilter.java
index 829706149..2b0a32cd8 100644
--- a/web/src/main/java/org/apache/shiro/web/servlet/AbstractShiroFilter.java
+++ b/web/src/main/java/org/apache/shiro/web/servlet/AbstractShiroFilter.java
@@ -299,9 +299,10 @@ public abstract class AbstractShiroFilter extends OncePerRequestFilter {
         ServletRequest request = prepareServletRequest(servletRequest, servletResponse, chain);
         ServletResponse response = prepareServletResponse(request, servletResponse, chain);
 
-        ThreadState threadState = bind(request, response);
+        ThreadState threadState = null;
 
         try {
+            threadState = bind(request, response);
             updateSessionLastAccessTime(request, response);
             executeChain(request, response, chain);
         } finally {
