<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:35:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SHIRO-753] Regression in URI parsing in Shiro 1.5.2</title>
                <link>https://issues.apache.org/jira/browse/SHIRO-753</link>
                <project id="12310950" key="SHIRO">Shiro</project>
                    <description>&lt;p&gt;Hello everyone,&lt;/p&gt;

&lt;p&gt;In Shiro 1.5.2, &lt;tt&gt;WebUtils.getRequestURI()&lt;/tt&gt; no longer support paths with &apos;%&apos; character in it&lt;/p&gt;

&lt;p&gt;In Shiro 1.5.1, when the path is &quot;A%B&quot; then the String URI retrieved from &lt;tt&gt;request.getRequestURI()&lt;/tt&gt; returns &quot;A%25B&quot; which is properly decoded afterward by the&#160;&lt;tt&gt;decodeAndCleanUriString&lt;/tt&gt; method.&lt;/p&gt;

&lt;p&gt;In Shiro 1.5.2, when the path is &quot;A%B&quot; then the String URI reconstructed from context+path+pathInfo returns &quot;A%B&quot; (it&apos;s already decoded) which crashes when calling &lt;tt&gt;decodeAndCleanUriString&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.IllegalArgumentException: URLDecoder: Illegal hex characters in escape (%) pattern - Error at index 1 in: &quot;B/&quot;
    at java.net.URLDecoder.decode(URLDecoder.java:232) ~[?:?]
    at java.net.URLDecoder.decode(URLDecoder.java:142) ~[?:?]
    at org.apache.shiro.web.util.WebUtils.decodeRequestString(WebUtils.java:357) ~[?:?]
    at org.apache.shiro.web.util.WebUtils.decodeAndCleanUriString(WebUtils.java:242) ~[?:?]
    at org.apache.shiro.web.util.WebUtils.getRequestUri(WebUtils.java:143) ~[?:?]
    at org.apache.shiro.web.util.WebUtils.getPathWithinApplication(WebUtils.java:113) ~[?:?]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Decoding twice the URI might produce other incorrect results.&lt;/p&gt;

&lt;p&gt;Can you have a look? Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13296789">SHIRO-753</key>
            <summary>Regression in URI parsing in Shiro 1.5.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10003">Resolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="antoine.dessaigne">Antoine DESSAIGNE</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Apr 2020 09:41:34 +0000</created>
                <updated>Wed, 24 Jun 2020 15:13:45 +0000</updated>
                            <resolved>Wed, 8 Apr 2020 15:51:20 +0000</resolved>
                                    <version>1.5.2</version>
                                    <fixVersion>1.5.3</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17077112" author="mampf86" created="Tue, 7 Apr 2020 10:53:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdemers&quot; class=&quot;user-hover&quot; rel=&quot;bdemers&quot;&gt;bdemers&lt;/a&gt;&#160;this commit?&#160;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/shiro/commit/3708d7907016bf2fa12691dff6ff0def1249b8ce#diff-98f7bc5c0391389e56531f8b3754081aR139-R141&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/commit/3708d7907016bf2fa12691dff6ff0def1249b8ce#diff-98f7bc5c0391389e56531f8b3754081aR139-R141&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17077401" author="bdemers" created="Tue, 7 Apr 2020 16:48:07 +0000"  >&lt;p&gt;Looking in to it&lt;/p&gt;</comment>
                            <comment id="17077530" author="bdemers" created="Tue, 7 Apr 2020 19:58:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/shiro/pull/211&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/pull/211&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17077998" author="antoine.dessaigne" created="Wed, 8 Apr 2020 09:40:58 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdemers&quot; class=&quot;user-hover&quot; rel=&quot;bdemers&quot;&gt;bdemers&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thanks a lot for creating a pull request so quickly. We built Shiro using your pull request, then relaunched our tests that showed this issue and it&apos;s all good now, thanks.&lt;/p&gt;</comment>
                            <comment id="17078423" author="antoine.dessaigne" created="Wed, 8 Apr 2020 16:01:30 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpapon&quot; class=&quot;user-hover&quot; rel=&quot;fpapon&quot;&gt;fpapon&lt;/a&gt; for merging the pull request.&lt;br/&gt;
Do you think it would be possible to backport it to the 1.5.x branch as well? Thanks!&lt;/p&gt;</comment>
                            <comment id="17078429" author="fpapon" created="Wed, 8 Apr 2020 16:05:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=antoine.dessaigne&quot; class=&quot;user-hover&quot; rel=&quot;antoine.dessaigne&quot;&gt;antoine.dessaigne&lt;/a&gt; yes of course &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;We will check if we can release a 1.5.3 soon.&lt;/p&gt;</comment>
                            <comment id="17078435" author="antoine.dessaigne" created="Wed, 8 Apr 2020 16:14:13 +0000"  >&lt;p&gt;Thank you very much! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17084814" author="antoine.dessaigne" created="Thu, 16 Apr 2020 12:13:47 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpapon&quot; class=&quot;user-hover&quot; rel=&quot;fpapon&quot;&gt;fpapon&lt;/a&gt;,&lt;br/&gt;
Do you know when 1.5.3 can be released? Right now there&apos;s a security vuln in 1.5.2 and this issue prevents me from updating &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thank you very much.&lt;/p&gt;</comment>
                            <comment id="17084820" author="fpapon" created="Thu, 16 Apr 2020 12:23:22 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=antoine.dessaigne&quot; class=&quot;user-hover&quot; rel=&quot;antoine.dessaigne&quot;&gt;antoine.dessaigne&lt;/a&gt; , I merged some dependencies upgrade and I think I could send the release on vote next week.&lt;/p&gt;</comment>
                            <comment id="17084823" author="antoine.dessaigne" created="Thu, 16 Apr 2020 12:27:58 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpapon&quot; class=&quot;user-hover&quot; rel=&quot;fpapon&quot;&gt;fpapon&lt;/a&gt; for the info.&lt;/p&gt;</comment>
                            <comment id="17143891" author="sourabhsparkala" created="Wed, 24 Jun 2020 14:53:19 +0000"  >&lt;p&gt;This fix re-introduced CVE-2020-1957. As this fix was reverted&#160;&lt;a href=&quot;https://github.com/apache/shiro/commit/b90f91875e5e18c4805013c2fa0567b1700f5a96#diff-98f7bc5c0391389e56531f8b3754081aR132&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/commit/b90f91875e5e18c4805013c2fa0567b1700f5a96#diff-98f7bc5c0391389e56531f8b3754081aR132&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Could you please let me know what is the next step to address this?&lt;/p&gt;</comment>
                            <comment id="17143916" author="bdemers" created="Wed, 24 Jun 2020 15:12:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sourabhsparkala&quot; class=&quot;user-hover&quot; rel=&quot;sourabhsparkala&quot;&gt;sourabhsparkala&lt;/a&gt;&#160;The line you referenced is no longer used by Shiro.&#160; It is part of the public API, and was marked deprecated.&#160; Usage outside of this method outside of the Shiro project would be unrelated to this CVE.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Also, if/when you think you see a security-related issue in the future please contact our security list (security@shiro.apache.org) first (for more details see:&#160;&lt;a href=&quot;https://www.apache.org/security/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/security/&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0dcyw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>