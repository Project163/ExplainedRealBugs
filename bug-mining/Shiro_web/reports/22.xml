<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:35:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SHIRO-306] EnvironmentLoaderListener crashes if custom filters are configured. </title>
                <link>https://issues.apache.org/jira/browse/SHIRO-306</link>
                <project id="12310950" key="SHIRO">Shiro</project>
                    <description>&lt;p&gt;Custom filters are initialized in init method of IniShiroFilter. EnvironmentLoaderListener runs before filters and is unable to access custom filters. &lt;/p&gt;

&lt;p&gt;How to reproduce it: define and use custom filter in Shiro.ini of samples-web application:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;br/&gt;
    shiro.loginUrl = /login.jsp&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;create custom filter&lt;br/&gt;
    filter=org.apache.shiro.web.filter.authc.FormAuthenticationFilter&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    ...&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;urls&amp;#93;&lt;/span&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Use custom filter defined above&lt;br/&gt;
    /login.jsp = filter&lt;br/&gt;
    /logout = logout&lt;br/&gt;
    /account/** = filter&lt;br/&gt;
    /remoting/** = filter, roles&lt;span class=&quot;error&quot;&gt;&amp;#91;b2bClient&amp;#93;&lt;/span&gt;, perms&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;remote:invoke:lan,wan&amp;quot;&amp;#93;&lt;/span&gt;&lt;br/&gt;
    /** = filter&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Exception thrown on application start-up:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: There is no filter with name &apos;filter&apos; to apply to chain &lt;span class=&quot;error&quot;&gt;&amp;#91;/login.jsp&amp;#93;&lt;/span&gt; in the pool of available Filters.  Ensure a filter with that name/path has first been registered with the addFilter method(s).&lt;br/&gt;
	at org.apache.shiro.web.filter.mgt.DefaultFilterChainManager.addToChain(DefaultFilterChainManager.java:185)&lt;br/&gt;
	at org.apache.shiro.web.filter.mgt.DefaultFilterChainManager.createChain(DefaultFilterChainManager.java:158)&lt;br/&gt;
	at org.apache.shiro.web.config.IniFilterChainResolverFactory.createChains(IniFilterChainResolverFactory.java:186)&lt;br/&gt;
	at org.apache.shiro.web.config.IniFilterChainResolverFactory.buildChains(IniFilterChainResolverFactory.java:127)&lt;br/&gt;
	at org.apache.shiro.web.config.IniFilterChainResolverFactory.createInstance(IniFilterChainResolverFactory.java:80)&lt;br/&gt;
	at org.apache.shiro.web.config.IniFilterChainResolverFactory.createInstance(IniFilterChainResolverFactory.java:1)&lt;br/&gt;
	at org.apache.shiro.config.IniFactorySupport.createInstance(IniFactorySupport.java:123)&lt;br/&gt;
	at org.apache.shiro.util.AbstractFactory.getInstance(AbstractFactory.java:47)&lt;br/&gt;
	at org.apache.shiro.web.env.IniWebEnvironment.createFilterChainResolver(IniWebEnvironment.java:187)&lt;br/&gt;
	at org.apache.shiro.web.env.IniWebEnvironment.configure(IniWebEnvironment.java:102)&lt;br/&gt;
	at org.apache.shiro.web.env.IniWebEnvironment.init(IniWebEnvironment.java:92)&lt;br/&gt;
	at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:45)&lt;br/&gt;
	at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:40)&lt;br/&gt;
	at org.apache.shiro.web.env.EnvironmentLoader.createEnvironment(EnvironmentLoader.java:226)&lt;br/&gt;
	at org.apache.shiro.web.env.EnvironmentLoader.initEnvironment(EnvironmentLoader.java:138)&lt;br/&gt;
	at org.apache.shiro.web.env.EnvironmentLoaderListener.contextInitialized(EnvironmentLoaderListener.java:58)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:548)&lt;br/&gt;
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
	at org.mortbay.jetty.Server.doStart(Server.java:224)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.apache.shiro.test.AbstractContainerTest.startContainer(AbstractContainerTest.java:47)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)&lt;/p&gt;
</description>
                <environment>jetty</environment>
        <key id="12510493">SHIRO-306</key>
            <summary>EnvironmentLoaderListener crashes if custom filters are configured. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhazlewood">Les Hazlewood</assignee>
                                    <reporter username="meri">Maria Jurcovicova</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jun 2011 20:30:45 +0000</created>
                <updated>Tue, 24 Jan 2012 01:11:37 +0000</updated>
                            <resolved>Tue, 27 Dec 2011 23:35:18 +0000</resolved>
                                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13175580" author="asaf000" created="Fri, 23 Dec 2011 21:10:51 +0000"  >&lt;p&gt;Hey,&lt;br/&gt;
Can someone reply this issue? whether it&apos;s going to get fixed or whether there&apos;s a workaround?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13175592" author="asaf000" created="Fri, 23 Dec 2011 22:09:36 +0000"  >&lt;p&gt;After some debugging it seems like it&apos;s possible to add a &lt;span class=&quot;error&quot;&gt;&amp;#91;filters&amp;#93;&lt;/span&gt; section in the ini file,&lt;br/&gt;
Please document this here: &lt;a href=&quot;http://shiro.apache.org/web.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://shiro.apache.org/web.html&lt;/a&gt; whenever you can,&lt;/p&gt;


&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13176026" author="lhazlewood" created="Mon, 26 Dec 2011 21:51:26 +0000"  >&lt;p&gt;Actually this is a bug.  The &lt;span class=&quot;error&quot;&gt;&amp;#91;filters&amp;#93;&lt;/span&gt; section has been deprecated and should not be necessary anymore.  I&apos;ll take a peek at this as soon as I&apos;m able.  Thanks for the issue!&lt;/p&gt;</comment>
                            <comment id="13176361" author="lhazlewood" created="Tue, 27 Dec 2011 23:35:18 +0000"  >&lt;p&gt;Fix applied to trunk.  IniFilterChainResolverFactoryTest and IniWebEnvironmentTest test cases verify fix.&lt;/p&gt;</comment>
                            <comment id="13191737" author="lhazlewood" created="Tue, 24 Jan 2012 01:11:37 +0000"  >&lt;p&gt;Closing with the 1.2.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>71158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1037r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>