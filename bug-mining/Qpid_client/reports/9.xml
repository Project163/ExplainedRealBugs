<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:17:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-42] When amqps connection fails, the program never exits?</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-42</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;I have a very simple program - it tries to connect, create session, consumer and read messages in a loop. When exception is raised it tries to close connection (if connection exists) and finishes.&lt;/p&gt;

&lt;p&gt;However, when the attempt to open the SSL connection (amqps) is unsuccessful (for example nobody is listening on the specified port), the program seems to never exit.&lt;/p&gt;

&lt;p&gt;I don&apos;t think there is a mistake in my program - it almost looks to me like the problem is the nioEventLoop, which seems to have a thread still running at the end when the program keeps hanging.&lt;/p&gt;

&lt;p&gt;My source code as well as the thread dump can be found here: &lt;a href=&quot;https://gist.github.com/scholzj/c8a3f3b534bbb0d973d9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/scholzj/c8a3f3b534bbb0d973d9&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12821242">QPIDJMS-42</key>
            <summary>When amqps connection fails, the program never exits?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="scholzj">Jakub Scholz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Apr 2015 17:51:08 +0000</created>
                <updated>Wed, 6 Jan 2016 12:33:00 +0000</updated>
                            <resolved>Thu, 16 Apr 2015 20:02:52 +0000</resolved>
                                    <version>0.1.0</version>
                                    <fixVersion>0.2.0</fixVersion>
                                    <component>qpid-jms-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14496980" author="tabish121" created="Wed, 15 Apr 2015 20:58:50 +0000"  >&lt;p&gt;Can you package up a little sample app that can reproduce it?  I can take a look later on if there&apos;s something I can run real quick.  &lt;/p&gt;</comment>
                            <comment id="14497028" author="scholzj" created="Wed, 15 Apr 2015 21:17:56 +0000"  >&lt;p&gt;What do you mean with package? Like with maven?&lt;/p&gt;</comment>
                            <comment id="14497041" author="tabish121" created="Wed, 15 Apr 2015 21:26:25 +0000"  >&lt;p&gt;Well, I wouldn&apos;t turn down a nice little maven project &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; , but mainly the source and the required properties file and anything else needed to reproduce the behaviour as close to your setup as possible would be great just to take the guess work out of it.  &lt;/p&gt;</comment>
                            <comment id="14497112" author="scholzj" created="Wed, 15 Apr 2015 22:11:30 +0000"  >&lt;p&gt;Maven based reproducer.&lt;/p&gt;</comment>
                            <comment id="14497114" author="scholzj" created="Wed, 15 Apr 2015 22:13:22 +0000"  >&lt;p&gt;Ok, I decided to learn something new and tried the Maven thing. I was running it as:&lt;br/&gt;
$ mvn compile&lt;br/&gt;
$ mvn exec:java -Dexec.mainClass=&quot;cz.scholz.amqp.App&quot;&lt;br/&gt;
I hope it works somehow for you.&lt;/p&gt;</comment>
                            <comment id="14498605" author="jira-bot" created="Thu, 16 Apr 2015 20:01:50 +0000"  >&lt;p&gt;Commit 6bfc26f33f2453f72193e48cccfb5a30921daf1a in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=6bfc26f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=6bfc26f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-42&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/QPIDJMS-42&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Be sure to shut down Netty resources if the connect attempt fails.&lt;/p&gt;</comment>
                            <comment id="14498607" author="tabish121" created="Thu, 16 Apr 2015 20:02:52 +0000"  >&lt;p&gt;Thanks for the test.  Fixed on master, Netty resources are properly shut down now in the case of connection failure.  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12725705" name="qpidjms42.tar" size="14336" author="scholzj" created="Wed, 15 Apr 2015 22:11:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dapr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>