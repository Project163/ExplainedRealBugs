<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:18:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-395] remote connection closure can lead to send exception even though failover is enabled</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-395</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;Based on &lt;a href=&quot;http://qpid.2158936.n2.nabble.com/Reconnect-and-amqp-connection-forced-td7659043.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://qpid.2158936.n2.nabble.com/Reconnect-and-amqp-connection-forced-td7659043.html&lt;/a&gt;, I believe that reconnect:force error should not be propagated to library user and the library should silently reconnect. This does not happen in the test below, when I am sending messages fast--I do get exception caused by connection:forced. Notice the commented out sleep() call.&lt;/p&gt;

&lt;p&gt;In ActiveMQ Artemis testsuite:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/tests/integration-tests/src/test/java/org/apache/activemq/artemis/tests/integration/amqp/AmqpFailoverEndpointDiscoveryTest.java b/tests/integration-tests/src/test/java/org/apache/activemq/artemis/tests/integration/amqp/AmqpFailoverEndpointDiscoveryTest.java
index 81c28855ef..888171227b 100644
--- a/tests/integration-tests/src/test/java/org/apache/activemq/artemis/tests/integration/amqp/AmqpFailoverEndpointDiscoveryTest.java
+++ b/tests/integration-tests/src/test/java/org/apache/activemq/artemis/tests/integration/amqp/AmqpFailoverEndpointDiscoveryTest.java
@@ -86,6 +86,32 @@ public class AmqpFailoverEndpointDiscoveryTest extends FailoverTestBase {
       }
    }
 
+   @Test(timeout = 120000)
+   public void testReconnectWhileSendingWithAMQP() throws Exception {
+      JmsConnectionFactory factory = getJmsConnectionFactory();
+      try (Connection connection = factory.createConnection()) {
+         connection.start();
+         Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
+         javax.jms.Queue queue = session.createQueue(ADDRESS.toString());
+         MessageProducer producer = session.createProducer(queue);
+         Thread t = new Thread(() -&amp;gt; {
+            try {
+               while(true) {
+                  System.out.println(&quot;sending message&quot;);
+                  producer.send(session.createTextMessage(&quot;hello before failover&quot;));
+//                  Thread.sleep(1000);  // comment out to send messages quickly
+               }
+            } catch (Exception e ) {
+               e.printStackTrace();
+            }
+         });
+         t.start();
+         Thread.sleep(2000);  // simpler to read than actual synchronization
+         liveServer.crash(true, true);
+         Thread.sleep(2000);
+      }
+   }
+
    private JmsConnectionFactory getJmsConnectionFactory() {
       if (protocol == 0) {
          return new JmsConnectionFactory(&quot;failover:(amqp://localhost:61616)&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above will print (only print, there aren&apos;t asserts)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;javax.jms.JMSException: Received error from remote peer without description [condition = amqp:connection:forced]
	at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToException(AmqpSupport.java:164)
	at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToException(AmqpSupport.java:117)
	at org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.processRemoteClose(AmqpAbstractResource.java:262)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:971)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider.access$1900(AmqpProvider.java:105)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider$17.run(AmqpProvider.java:854)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The PN_TRACE_FRM log for this is&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[...]
[1476077082:1] -&amp;gt; Transfer{handle=0, deliveryId=221, deliveryTag=\x00, messageFormat=0, settled=null, more=false, rcvSettleMode=null, state=null, resume=false, aborted=false, batchable=false} (179) &quot;\x00Sp\xc0\x02\x01A\x00Sr\xc1)\x04\xa3\x0ex-opt-jms-destQ\x00\xa3\x12x-opt-jms-msg-typeQ\x05\x00Ss\xd0\x00\x00\x00\x5c\x00\x00\x00\x0a\xa11ID:bc37e33f-5706-4fe3-b953-c5be80e38b52:1:1:1-222@\xa1\x13FailoverTestAddress@@@@@@\x83\x00\x00\x01d\x12f\x06\xac\x00Sw\xa1\x15hello before failover&quot;
[913923932:1] &amp;lt;- Transfer{handle=0, deliveryId=221, deliveryTag=\x00, messageFormat=0, settled=null, more=false, rcvSettleMode=null, state=null, resume=false, aborted=false, batchable=false} (179) &quot;\x00Sp\xc0\x02\x01A\x00Sr\xc1)\x04\xa3\x0ex-opt-jms-destQ\x00\xa3\x12x-opt-jms-msg-typeQ\x05\x00Ss\xd0\x00\x00\x00\x5c\x00\x00\x00\x0a\xa11ID:bc37e33f-5706-4fe3-b953-c5be80e38b52:1:1:1-222@\xa1\x13FailoverTestAddress@@@@@@\x83\x00\x00\x01d\x12f\x06\xac\x00Sw\xa1\x15hello before failover&quot;
[913923932:1] -&amp;gt; Disposition{role=RECEIVER, first=221, last=221, settled=true, state=Accepted{}, batchable=false}
[1476077082:1] &amp;lt;- Disposition{role=RECEIVER, first=221, last=221, settled=true, state=Accepted{}, batchable=false}
sending message
[1476077082:1] -&amp;gt; Transfer{handle=0, deliveryId=222, deliveryTag=\x00, messageFormat=0, settled=null, more=false, rcvSettleMode=null, state=null, resume=false, aborted=false, batchable=false} (179) &quot;\x00Sp\xc0\x02\x01A\x00Sr\xc1)\x04\xa3\x0ex-opt-jms-destQ\x00\xa3\x12x-opt-jms-msg-typeQ\x05\x00Ss\xd0\x00\x00\x00\x5c\x00\x00\x00\x0a\xa11ID:bc37e33f-5706-4fe3-b953-c5be80e38b52:1:1:1-223@\xa1\x13FailoverTestAddress@@@@@@\x83\x00\x00\x01d\x12f\x06\xb0\x00Sw\xa1\x15hello before failover&quot;
[913923932:0] -&amp;gt; Close{error=Error{condition=amqp:connection:forced, description=&apos;null&apos;, info=null}}
[913923932:1] &amp;lt;- Transfer{handle=0, deliveryId=222, deliveryTag=\x00, messageFormat=0, settled=null, more=false, rcvSettleMode=null, state=null, resume=false, aborted=false, batchable=false} (179) &quot;\x00Sp\xc0\x02\x01A\x00Sr\xc1)\x04\xa3\x0ex-opt-jms-destQ\x00\xa3\x12x-opt-jms-msg-typeQ\x05\x00Ss\xd0\x00\x00\x00\x5c\x00\x00\x00\x0a\xa11ID:bc37e33f-5706-4fe3-b953-c5be80e38b52:1:1:1-223@\xa1\x13FailoverTestAddress@@@@@@\x83\x00\x00\x01d\x12f\x06\xb0\x00Sw\xa1\x15hello before failover&quot;
[1476077082:0] &amp;lt;- Close{error=Error{condition=amqp:connection:forced, description=&apos;null&apos;, info=null}}
[1476077082:0] -&amp;gt; Close{error=null}
[913923932:0] &amp;lt;- Close{error=null}
javax.jms.JMSException: Received error from remote peer without description [condition = amqp:connection:forced]
	at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToException(AmqpSupport.java:164)
	at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToException(AmqpSupport.java:117)
	at org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.processRemoteClose(AmqpAbstractResource.java:262)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:971)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider.access$1900(AmqpProvider.java:105)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider$17.run(AmqpProvider.java:854)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
[Thread-8 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$5@343570b7)] 12:17:13,704 WARN  [org.apache.activemq.artemis.core.client] AMQ212037: Connection failure has been detected: AMQ119015: The connection was disconnected because of server shutdown [code=DISCONNECTED]
[Thread-6 (ActiveMQ-client-global-threads)] 12:17:13,704 WARN  [org.apache.activemq.artemis.core.client] AMQ212037: Connection failure has been detected: AMQ119015: The connection was disconnected because of server shutdown [code=DISCONNECTED]
[Thread-2] 12:17:13,731 INFO  [org.apache.activemq.artemis.core.server] AMQ221002: Apache ActiveMQ Artemis Message Broker version identity=AmqpFailoverEndpointDiscoveryTest/liveServer,version=2.7.0-SNAPSHOT [c1f0e25e-72e0-11e8-acbd-b6cd2f5fd8dd] stopped, uptime 4.323 seconds
[Thread-6 (ActiveMQ-client-global-threads)] 12:17:13,737 WARN  [org.apache.activemq.artemis.core.client] AMQ212004: Failed to connect to server.
[AMQ119000: Activation for server ActiveMQServerImpl::AmqpFailoverEndpointDiscoveryTest/backupServers] 12:17:13,831 INFO  [org.apache.activemq.artemis.core.server] AMQ221020: Started EPOLL Acceptor at localhost:61617 for protocols [CORE,MQTT,AMQP,STOMP,HORNETQ,OPENWIRE]
[AMQ119000: Activation for server ActiveMQServerImpl::AmqpFailoverEndpointDiscoveryTest/backupServers] 12:17:13,831 INFO  [org.apache.activemq.artemis.core.server] AMQ221010: Backup Server is now live
[737743497:0] -&amp;gt; Open{ containerId=&apos;ID:b8e3f0c3-0810-41d0-a087-c69de89f017f:1&apos;, hostname=&apos;localhost&apos;, maxFrameSize=1048576, channelMax=32767, idleTimeOut=30000, outgoingLocales=null, incomingLocales=null, offeredCapabilities=null, desiredCapabilities=[sole-connection-for-container, DELAYED_DELIVERY, ANONYMOUS-RELAY, SHARED-SUBS], properties={product=QpidJMS, version=0.32.0, platform=JVM: 1.8.0_172, 25.172-b11, Oracle Corporation, OS: Linux, 4.14.43, amd64}}
[1583552999:0] &amp;lt;- Open{ containerId=&apos;ID:b8e3f0c3-0810-41d0-a087-c69de89f017f:1&apos;, hostname=&apos;localhost&apos;, maxFrameSize=1048576, channelMax=32767, idleTimeOut=30000, outgoingLocales=null, incomingLocales=null, offeredCapabilities=null, desiredCapabilities=[sole-connection-for-container, DELAYED_DELIVERY, ANONYMOUS-RELAY, SHARED-SUBS], properties={product=QpidJMS, version=0.32.0, platform=JVM: 1.8.0_172, 25.172-b11, Oracle Corporation, OS: Linux, 4.14.43, amd64}}
[1583552999:0] -&amp;gt; Open{ containerId=&apos;localhost&apos;, hostname=&apos;null&apos;, maxFrameSize=131072, channelMax=65535, idleTimeOut=30000, outgoingLocales=null, incomingLocales=null, offeredCapabilities=[sole-connection-for-container, DELAYED_DELIVERY, SHARED-SUBS, ANONYMOUS-RELAY], desiredCapabilities=null, properties={product=apache-activemq-artemis, version=2.7.0-SNAPSHOT}}
[737743497:0] &amp;lt;- Open{ containerId=&apos;localhost&apos;, hostname=&apos;null&apos;, maxFrameSize=131072, channelMax=65535, idleTimeOut=30000, outgoingLocales=null, incomingLocales=null, offeredCapabilities=[sole-connection-for-container, DELAYED_DELIVERY, SHARED-SUBS, ANONYMOUS-RELAY], desiredCapabilities=null, properties={product=apache-activemq-artemis, version=2.7.0-SNAPSHOT}}
[737743497:0] -&amp;gt; Begin{remoteChannel=null, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[1583552999:0] &amp;lt;- Begin{remoteChannel=null, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[1583552999:0] -&amp;gt; Begin{remoteChannel=0, nextOutgoingId=1, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[737743497:0] &amp;lt;- Begin{remoteChannel=0, nextOutgoingId=1, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[737743497:1] -&amp;gt; Begin{remoteChannel=null, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[1583552999:1] &amp;lt;- Begin{remoteChannel=null, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[1583552999:1] -&amp;gt; Begin{remoteChannel=1, nextOutgoingId=1, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[737743497:1] &amp;lt;- Begin{remoteChannel=1, nextOutgoingId=1, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[737743497:1] -&amp;gt; Attach{name=&apos;qpid-jms:sender:ID:bc37e33f-5706-4fe3-b953-c5be80e38b52:1:1:1:FailoverTestAddress&apos;, handle=0, role=SENDER, sndSettleMode=UNSETTLED, rcvSettleMode=FIRST, source=Source{address=&apos;ID:bc37e33f-5706-4fe3-b953-c5be80e38b52:1:1:1&apos;, durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=false, dynamicNodeProperties=null, distributionMode=null, filter=null, defaultOutcome=null, outcomes=[amqp:accepted:list, amqp:rejected:list, amqp:released:list, amqp:modified:list], capabilities=null}, target=Target{address=&apos;FailoverTestAddress&apos;, durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=false, dynamicNodeProperties=null, capabilities=[queue]}, unsettled=null, incompleteUnsettled=false, initialDeliveryCount=0, maxMessageSize=null, offeredCapabilities=null, desiredCapabilities=null, properties=null}
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13166678">QPIDJMS-395</key>
            <summary>remote connection closure can lead to send exception even though failover is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="jdanek">Jiri Dan&#283;k</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jun 2018 10:21:31 +0000</created>
                <updated>Wed, 5 Oct 2022 14:32:40 +0000</updated>
                            <resolved>Mon, 25 Jun 2018 19:45:47 +0000</resolved>
                                    <version>0.33.0</version>
                                    <fixVersion>0.34.0</fixVersion>
                                    <component>qpid-jms-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16517248" author="jdanek" created="Tue, 19 Jun 2018 15:48:06 +0000"  >&lt;p&gt;I will just resend if I get such exception.&lt;/p&gt;

&lt;p&gt;Artemis Core JMS is throwing a specific subclass of JMSException in this situation. It is a bit clearer, but it makes the program JMS provider specific... The Artemis Core JMS version would be something like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                    msgProducer.send(message);
                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (JMSException jex) {
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (jex.getCause() &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ActiveMQUnBlockedException) {
                        &lt;span class=&quot;code-comment&quot;&gt;// Resend missed messages due to unblocking blocking call.
&lt;/span&gt;                        &lt;span class=&quot;code-comment&quot;&gt;// See &lt;span class=&quot;code-quote&quot;&gt;&quot;Handling Blocking Calls During Failover&quot;&lt;/span&gt; in link below
&lt;/span&gt;                        &lt;span class=&quot;code-comment&quot;&gt;// https://activemq.apache.org/artemis/docs/latest/ha.html
&lt;/span&gt;                        LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Resending message %d due to unblocking a blocking send.&quot;&lt;/span&gt;, msgCounter);
                        msgProducer.send(message);
                    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; jex;
                    }
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16517273" author="tabish121" created="Tue, 19 Jun 2018 16:13:04 +0000"  >&lt;p&gt;Having a JMS client specific exception would mean that those using it are now tied to that client implementation.&#160; The other question I&apos;d ask would be, what exception that is thrown from send would indicate that a resend wasn&apos;t needed?&#160;&lt;/p&gt;</comment>
                            <comment id="16517274" author="jdanek" created="Tue, 19 Jun 2018 16:13:57 +0000"  >&lt;p&gt;I do need to inspect the exception I got from send, because I may also get exception due to missing SEND permission to a queue, which I must handle differently.&lt;/p&gt;

&lt;p&gt;So I end up with&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                    msgProducer.send(message);
                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (JMSException jex) {
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (jex.getMessage().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;[condition = amqp:connection:forced]&quot;&lt;/span&gt;)) {
                        LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Resending message %d due to unblocking a blocking send.&quot;&lt;/span&gt;, msgCounter);
                        msgProducer.send(message);
                    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; jex;
                    }
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Edit: ok, I can catch JMSSecurityException for the send permission case, so maybe I don&apos;t have to read the cause string after all.&lt;/p&gt;</comment>
                            <comment id="16517277" author="tabish121" created="Tue, 19 Jun 2018 16:22:31 +0000"  >&lt;p&gt;Would you not be testing for &lt;a href=&quot;https://docs.oracle.com/javaee/7/api/javax/jms/JMSSecurityException.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JMSSecurityException&lt;/a&gt; in that case?&lt;/p&gt;</comment>
                            <comment id="16522055" author="gemmellr" created="Mon, 25 Jun 2018 08:58:49 +0000"  >&lt;p&gt;The git-&amp;gt;JIRA comment bot is playing up. Changes were made against this JIRA in the following commits:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/4bfe7f5a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/4bfe7f5a&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit 4bfe7f5ae60680d220dbe2b7cbcfeb824b5e6e9d
Author: Timothy Bish
Date:   Tue Jun 19 15:03:15 2018 -0400

    QPIDJMS-395 Add failed state in provider to prevent possible race
    
    Adds a failed state to the AMQP provider such that any queued actions
    such as a send which race into the provider between the time a
    connection error is detected and the failover bits close the provider
    received a consistent exception that allows normal failover processing
    to occur.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/38459911&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/38459911&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit 3845991106aaad1421fbf3bdb4375f367c2ac9cd
Author: Timothy Bish
Date:   Tue Jun 19 19:04:20 2018 -0400

    QPIDJMS-395 Throw a more descriptive exception type when forced
    
    Use a somewhat more descriptive exception type when the connection is
    remotely closed due to a forced error condition to aid in debug.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/09546c55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/09546c55&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit 09546c553c0a8fccedcc36b73e4ef33d42ceff7f
Author: Timothy Bish
Date:   Thu Jun 21 18:13:31 2018 -0400

    QPIDJMS-395 Adding additional failover handling tests
    
    Add new test that validates reconnect on error after a successful
    connection was made and the next reconnect has its open attempt
    rejected.  Client should reconnect to final peer and return to normal
    operation.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16522116" author="gemmellr" created="Mon, 25 Jun 2018 10:15:41 +0000"  >&lt;p&gt;Some tweaks to the tests made in commits:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/ed27c4ea&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/ed27c4ea&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit ed27c4ea51f19b822902e289b6d6b5023e5925b8
Author: Robbie Gemmell
Date:   Mon Jun 25 10:15:33 2018 +0100

    QPIDJMS-395: fix some c&amp;amp;p test comments
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/02c76f64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/qpid-jms/commit/02c76f64&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit 02c76f64c5a7b83f862e5f4358e7135ed096da7d (HEAD -&amp;gt; master, origin/master, origin/HEAD)
Author: Robbie Gemmell
Date:   Mon Jun 25 11:08:31 2018 +0100

    QPIDJMS-395: expand test to check versions with and without container-id hint, i.e. invalid ClientID
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16522592" author="tabish121" created="Mon, 25 Jun 2018 17:41:20 +0000"  >&lt;p&gt;Fix for handling connection remote closed and resending pending messages:&lt;br/&gt;
&lt;a href=&quot;https://git1-us-west.apache.org/repos/asf?p=qpid-jms.git;a=commit;h=fe0307b58beb7ec344f728e34a7ca0e3ef103add&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git1-us-west.apache.org/repos/asf?p=qpid-jms.git;a=commit;h=fe0307b58beb7ec344f728e34a7ca0e3ef103add&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;QPIDJMS-395 Resend message in flight when remote closed

When the remote closes the connection and an inflight send
is outstanding we should handle the close and resend those
messages that are still awaiting dispositions in the same
manner as we do when the connection unexpectedly drops when
using the Failover feature.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16522734" author="tabish121" created="Mon, 25 Jun 2018 19:45:47 +0000"  >&lt;p&gt;Fix such that resends are attempted on connection remote close, and more specific exception is thrown when not using failover to aid in debug.&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3uyv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>