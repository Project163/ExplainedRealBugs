<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:18:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-376] notify the ExceptionListener when a consumer with a MessageListener remotely closes</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-376</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;When I create a consumer to an address that just does not exist, I expected to get some exception or that the client retries the operation. But there seems not even to be a log message which indicates a failure.&lt;/p&gt;


&lt;p&gt;Is this intended behavior or is this a bug? A more general description is: If AMQP server closes the receiver link, qpid jms client does not notify the user anyhow or does not re-establish the link.&lt;/p&gt;</description>
                <environment>&lt;p&gt;AMQP Server: Enmasse 0.17.1&lt;/p&gt;

&lt;p&gt;Enmasse Address Type: anycast&lt;/p&gt;</environment>
        <key id="13151338">QPIDJMS-376</key>
            <summary>notify the ExceptionListener when a consumer with a MessageListener remotely closes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="DanielMaier-BSI">Daniel Maier</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Apr 2018 10:48:13 +0000</created>
                <updated>Thu, 7 Jun 2018 06:45:05 +0000</updated>
                            <resolved>Mon, 4 Jun 2018 11:46:55 +0000</resolved>
                                    <version>0.31.0</version>
                                    <fixVersion>0.32.0</fixVersion>
                                    <component>qpid-jms-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16432132" author="gemmellr" created="Tue, 10 Apr 2018 11:52:34 +0000"  >&lt;p&gt;This looks like a server issue. The server is attaching the consumers link with a non-null &apos;source&apos; and then immediately detaching the link. As such the client has no way to know that the attach attempt is essentially going to be refused, so it will successfully open and return the consumer, and then will close it when the detach arrives. If you try to use the consumer, I&apos;d expect it should be marked as closed and throw an exception.&lt;/p&gt;

&lt;p&gt;The way the server should react when refusing a link, per the AMQP spec, is to attach the consumers link with a null source, thus indicating to the client that it has actually failed to complete the attach and a detach follows indicating the error condition. In this case the client can throw an exception from createConsumer() becuase it knows the link never opened successfully.&lt;/p&gt;

&lt;p&gt;It is expected that the client does not try to restablish the link by itself in this case, it only recreates things itself during failover.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2018-04-10 12:12:55.002 [AmqpProvider :(1):[amqps://192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Attach{name=&apos;qpid-jms:receiver:ID:2d5039c1-49fa-454b-be3a-da8b835a3186:1:1:1:telemetry/PERF_TEST_TENANT&apos;, handle=0, role=SENDER, sndSettleMode=MIXED, rcvSettleMode=FIRST, source=Source{address=&apos;null&apos;, durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=false, dynamicNodeProperties=null, distributionMode=null, filter=null, defaultOutcome=null, outcomes=null, capabilities=null}, target=Target{address=&apos;null&apos;, durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=false, dynamicNodeProperties=null, capabilities=null}, unsettled=null, incompleteUnsettled=false, initialDeliveryCount=0, maxMessageSize=0, offeredCapabilities=null, desiredCapabilities=null, properties=null}
2018-04-10 12:12:55.003 [AmqpProvider :(1):[amqps://192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Detach{handle=0, closed=true, error=Error{condition=amqp:not-found, description=&apos;Node not found&apos;, info=null}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16432248" author="danielmaier-bsi" created="Tue, 10 Apr 2018 13:25:58 +0000"  >&lt;p&gt;Ok, I will investigate why the server behaves this way.&lt;/p&gt;

&lt;p&gt;What do you mean with &quot;use the consumer&quot; exactly? This is the code I am using:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NamingException, JMSException, InterruptedException {
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Hashtable&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; env = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Hashtable&amp;lt;&amp;gt;();
    env.put(Context.INITIAL_CONTEXT_FACTORY, &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.qpid.jms.jndi.JmsInitialContextFactory&quot;&lt;/span&gt;);
    env.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;connectionfactory.&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;cfid&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;failover:(amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071?amqp.saslMechanisms=PLAIN&amp;amp;transport.trustAll=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;&quot;&lt;/span&gt; +
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;transport.verifyHost=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;amqp.traceFrames=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)?jms.username=perf_test_tenant&amp;amp;jms.password=secret&amp;amp;&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;initialReconnectDelay=10s&amp;amp;reconnectDelay=1s&amp;amp;maxReconnectDelay=1h&amp;amp;useReconnectBackOff=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;reconnectBackOffMultiplier=1m&quot;&lt;/span&gt;);

    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Context ctx = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InitialContext(env);
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConnectionFactory cf = (ConnectionFactory) ctx.lookup(&lt;span class=&quot;code-quote&quot;&gt;&quot;cfid&quot;&lt;/span&gt;);

    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Connection connection = cf.createConnection();
    connection.setExceptionListener(jmsException -&amp;gt; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(jmsException));
    connection.setClientID(&lt;span class=&quot;code-quote&quot;&gt;&quot;cfid&quot;&lt;/span&gt;);
    connection.start();

    MessageConsumer consumer = connection.createSession().createConsumer(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JmsQueue(&lt;span class=&quot;code-quote&quot;&gt;&quot;telemetry/PERF_TEST_TENANT&quot;&lt;/span&gt;));
    consumer.setMessageListener(message -&amp;gt; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(message));

    &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.currentThread().join();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I get no exception anywhere.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Additionally: What is the expected behavior if the server closes the link after the link was established before? There is no way my client gets notified about that when I am using message listener?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16432552" author="gemmellr" created="Tue, 10 Apr 2018 16:31:33 +0000"  >&lt;p&gt;By use I meant call a method on it. Now that I see you are using a MessageListener, obviously you don&apos;t do that and it wouldnt be &apos;active&apos; unless a message actually arrives, which it cant if closed. We should probably be tripping the ExceptionListener in the case the consumer detaches after creation, if a listener is set on it. Though as earlier, in this specific case it should have failed before then but didn&apos;t as the server isn&apos;t really refusing the link properly.&lt;/p&gt;</comment>
                            <comment id="16432836" author="jira-bot" created="Tue, 10 Apr 2018 19:37:55 +0000"  >&lt;p&gt;Commit 18c017da8cd41d21fc4a8a763dd9797cadd6c37a in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=18c017d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=18c017d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-376&quot; title=&quot;notify the ExceptionListener when a consumer with a MessageListener remotely closes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-376&quot;&gt;&lt;del&gt;QPIDJMS-376&lt;/del&gt;&lt;/a&gt; Fire JMS ExceptionListener event on consumer remote close&lt;/p&gt;

&lt;p&gt;When a MessageConsumer has a MessageListener fire the JMS&lt;br/&gt;
ExceptionListener to signal the error as the consumer would not&lt;br/&gt;
otherwise indicate to the user it had closed and would not be handling&lt;br/&gt;
messages.&lt;/p&gt;</comment>
                            <comment id="16433757" author="jira-bot" created="Wed, 11 Apr 2018 11:20:49 +0000"  >&lt;p&gt;Commit da0d4e50a43a51abd51a13a9996b116d851d2f62 in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gemmellr&quot; class=&quot;user-hover&quot; rel=&quot;gemmellr&quot;&gt;gemmellr&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=da0d4e5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=da0d4e5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-376&quot; title=&quot;notify the ExceptionListener when a consumer with a MessageListener remotely closes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-376&quot;&gt;&lt;del&gt;QPIDJMS-376&lt;/del&gt;&lt;/a&gt;: fix tests to avoid sporadic/erroneous failures due to races&lt;/p&gt;</comment>
                            <comment id="16433834" author="jira-bot" created="Wed, 11 Apr 2018 12:27:43 +0000"  >&lt;p&gt;Commit a307df8bcb24f29760cb68c51f92f420396c1c3a in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gemmellr&quot; class=&quot;user-hover&quot; rel=&quot;gemmellr&quot;&gt;gemmellr&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=a307df8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=a307df8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-376&quot; title=&quot;notify the ExceptionListener when a consumer with a MessageListener remotely closes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-376&quot;&gt;&lt;del&gt;QPIDJMS-376&lt;/del&gt;&lt;/a&gt;: add related test (and verify exception listener isnt called for regular close) and restore timeout on an existing test&lt;/p&gt;</comment>
                            <comment id="16433842" author="gemmellr" created="Wed, 11 Apr 2018 12:33:14 +0000"  >&lt;p&gt;The exception listener is now fired for remotely closed consumers with message listeners.&lt;/p&gt;</comment>
                            <comment id="16434028" author="gemmellr" created="Wed, 11 Apr 2018 14:53:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DISPATCH-962&quot; title=&quot;links established to &amp;#39;unavailable&amp;#39; addresses are not refused correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DISPATCH-962&quot;&gt;&lt;del&gt;DISPATCH-962&lt;/del&gt;&lt;/a&gt; raised for what I think will be the related server behaviour seen here.&lt;/p&gt;</comment>
                            <comment id="16487394" author="danielmaier-bsi" created="Wed, 23 May 2018 14:47:44 +0000"  >&lt;p&gt;Sorry &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gemmellr&quot; class=&quot;user-hover&quot; rel=&quot;gemmellr&quot;&gt;gemmellr&lt;/a&gt; for the late feedback.&lt;/p&gt;

&lt;p&gt;I tested the fix together with &lt;a href=&quot;https://issues.apache.org/jira/browse/DISPATCH-962&quot; title=&quot;links established to &amp;#39;unavailable&amp;#39; addresses are not refused correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DISPATCH-962&quot;&gt;&lt;del&gt;DISPATCH-962&lt;/del&gt;&lt;/a&gt;. It works now fine for me for initial connect, i.e. if link gets closed from qdrouter while receiver link establishment I get an exception in my &lt;br/&gt;
exception listener.&lt;/p&gt;

&lt;p&gt;However I am not sure if the failover behavior is correct. I run into the following corner case:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;configure JMS client with infinite failover&lt;/li&gt;
	&lt;li&gt;set consumer message listener&lt;/li&gt;
	&lt;li&gt;start connection to qdrouter&lt;/li&gt;
	&lt;li&gt;connection succeeds and receiver link gets established&lt;/li&gt;
	&lt;li&gt;stop qdrouter and delete address to which the JMS client is connected to&lt;/li&gt;
	&lt;li&gt;start qdrouter again&lt;/li&gt;
	&lt;li&gt;JMS client re-connects to qdrouter and also tries to re-established receiver link&lt;/li&gt;
	&lt;li&gt;As address does not exist qdrouter closes link&lt;/li&gt;
	&lt;li&gt;JMS client does not try to re-established receiver link any longer and also my exception listener does not get called&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Is this behaviour intended? As failover stops and no exception listener gets called I have no chance to react to this siutation in my code and my JMS client does never recover from this state.&lt;/p&gt;</comment>
                            <comment id="16499851" author="danielmaier-bsi" created="Mon, 4 Jun 2018 07:46:56 +0000"  >&lt;p&gt;As I am not sure if someone reads my last comment when this issue is closed, I re-open it. If you prefer a new issue let me know.&lt;/p&gt;</comment>
                            <comment id="16500115" author="gemmellr" created="Mon, 4 Jun 2018 11:46:55 +0000"  >&lt;p&gt;As I assume you are still using a router with the &lt;a href=&quot;https://issues.apache.org/jira/browse/DISPATCH-962&quot; title=&quot;links established to &amp;#39;unavailable&amp;#39; addresses are not refused correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DISPATCH-962&quot;&gt;&lt;del&gt;DISPATCH-962&lt;/del&gt;&lt;/a&gt; bug in place, I believe you are probably hitting effectively the same issue I&apos;ve just identified for someone else on the users list about a related-but-different situation, due to an issue in the failover layers handling of it.&lt;/p&gt;

&lt;p&gt;Its worth noting that I wouldn&apos;t expect the clients failover handling to be able to handle the situation you describe very pleasantly. I would typically expect it to class the inability to restore the existing consumer as a failed failover attempt and keep trying, but the &lt;a href=&quot;https://issues.apache.org/jira/browse/DISPATCH-962&quot; title=&quot;links established to &amp;#39;unavailable&amp;#39; addresses are not refused correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DISPATCH-962&quot;&gt;&lt;del&gt;DISPATCH-962&lt;/del&gt;&lt;/a&gt; router bug making it seem like its succeeded in creating the consumer will likely make it act differently currently.&lt;/p&gt;

&lt;p&gt;Yes, as this JIRA&apos;s changes have been released already, a new JIRA would be needed for further change if made, though commenting on here to establish whats needed first would be fine. Your earlier comment was just missed due to a deluge of updates at the time and being busy with other things.&lt;/p&gt;</comment>
                            <comment id="16500339" author="danielmaier-bsi" created="Mon, 4 Jun 2018 15:00:55 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gemmellr&quot; class=&quot;user-hover&quot; rel=&quot;gemmellr&quot;&gt;gemmellr&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;no problem you missed my comment.&lt;/p&gt;

&lt;p&gt;My described behavior was already with fixed &lt;a href=&quot;https://issues.apache.org/jira/browse/DISPATCH-962&quot; title=&quot;links established to &amp;#39;unavailable&amp;#39; addresses are not refused correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DISPATCH-962&quot;&gt;&lt;del&gt;DISPATCH-962&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Indeed the issue on the mailing list sounds the same as mine, i.e. failover does not retry when link gets closed remotely nor exception listener gets called.&lt;/p&gt;

&lt;p&gt;Did you already create an issue for this?&lt;/p&gt;</comment>
                            <comment id="16500448" author="gemmellr" created="Mon, 4 Jun 2018 16:19:49 +0000"  >&lt;p&gt;I&apos;ve made a change via &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-386&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/QPIDJMS-386&lt;/a&gt;. You can either build from master (e.g &lt;a href=&quot;https://github.com/apache/qpid-jms&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/qpid-jms&lt;/a&gt;) or use a build from the snapshots repo (&lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/)&lt;/a&gt; to give it a test if you&apos;d like. To be clear, the client wont try to re-establish the consumer links outside of a failover attempt.&lt;/p&gt;

&lt;p&gt;Robbie&lt;/p&gt;</comment>
                            <comment id="16501593" author="danielmaier-bsi" created="Tue, 5 Jun 2018 11:05:37 +0000"  >&lt;p&gt;Thanks a lot.&lt;/p&gt;

&lt;p&gt;I tried my &quot;special&quot; scenario (client tries to re-connect due to fail-over but on successful re-connect prio established link cannot be established again) with the snapshot, without success. Can you please have a look at my logs? It seems that I am not allowed to attach files to a closed issue. Here is a excerpt of the log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2018-06-05 12:40:03.233 [FailoverProvider: connect thread] INFO&#160; o.a.q.j.p.failover.FailoverProvider - Connection attempt:[11] to: amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071 failed
&lt;/span&gt;2018-06-05 12:40:03.235 [FailoverProvider: connect thread] TRACE o.a.qpid.jms.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@66906e1d[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 2] with await termination: 10000 millis
2018-06-05 12:40:03.235 [FailoverProvider: connect thread] DEBUG o.a.qpid.jms.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@66906e1d[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2] is shutdown: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; and terminated: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; took: 0.000 seconds.
2018-06-05 12:40:03.236 [FailoverProvider: connect thread] TRACE o.a.q.j.p.failover.FailoverProvider - Connection attempt:[11] failed error: syscall:getsockopt(..) failed: Connection refused: /192.168.99.100:30071
2018-06-05 12:40:03.236 [FailoverProvider: connect thread] TRACE o.a.q.j.p.failover.FailoverProvider - Next reconnect attempt will be in 10240 milliseconds
2018-06-05 12:40:13.477 [FailoverProvider: connect thread] DEBUG o.a.q.j.p.failover.FailoverProvider - Connection attempt:[12] to: amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071 in-progress
&lt;/span&gt;2018-06-05 12:40:13.478 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Getting SSLContext instance using protocol: TLS
&lt;/span&gt;2018-06-05 12:40:13.479 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Default protocols from the SSLEngine: [SSLv2Hello, TLSv1, TLSv1.1, TLSv1.2]
&lt;/span&gt;2018-06-05 12:40:13.479 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Disabled protocols: [SSLv2Hello, SSLv3]
&lt;/span&gt;2018-06-05 12:40:13.479 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
&lt;/span&gt;2018-06-05 12:40:13.479 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Default cipher suites from the SSLEngine: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
&lt;/span&gt;2018-06-05 12:40:13.480 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Enabled cipher suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
&lt;/span&gt;2018-06-05 12:40:13.480 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Netty Transport using Epoll mode
&lt;/span&gt;2018-06-05 12:40:13.561 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - SSL Handshake has completed: [id: 0xee93b98b, L:/192.168.99.1:46244 - R:192.168.99.100/192.168.99.100:30071]
2018-06-05 12:40:13.561 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - Channel has become active! Channel is [id: 0xee93b98b, L:/192.168.99.1:46244 - R:192.168.99.100/192.168.99.100:30071]
2018-06-05 12:40:13.561 [epollEventLoopGroup-15-1] DEBUG io.netty.handler.ssl.SslHandler - [id: 0xee93b98b, L:/192.168.99.1:46244 - R:192.168.99.100/192.168.99.100:30071] HANDSHAKEN: TLS_RSA_WITH_AES_256_CBC_SHA256
2018-06-05 12:40:13.562 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 8 bytes
&lt;/span&gt;2018-06-05 12:40:13.569 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 8 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 69)
2018-06-05 12:40:13.570 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: CONNECTION_INIT
&lt;/span&gt;2018-06-05 12:40:13.595 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 99 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 99, cap: 165)
2018-06-05 12:40:13.596 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.jms.sasl.SaslMechanismFinder - Skipping SCRAM-SHA-1 mechanism because it is not in the configured mechanisms restriction set
&lt;/span&gt;2018-06-05 12:40:13.596 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.jms.sasl.SaslMechanismFinder - Skipping SCRAM-SHA-256 mechanism because it is not in the configured mechanisms restriction set
&lt;/span&gt;2018-06-05 12:40:13.596 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.jms.sasl.SaslMechanismFinder - Unknown SASL mechanism: [SCRAM-SHA-512]
&lt;/span&gt;2018-06-05 12:40:13.597 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.jms.sasl.SaslMechanismFinder - Skipping XOAUTH2 mechanism because it is not in the configured mechanisms restriction set
&lt;/span&gt;2018-06-05 12:40:13.597 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] INFO&#160; o.a.q.jms.sasl.SaslMechanismFinder - Best match &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; SASL auth was: SASL-PLAIN
&lt;/span&gt;2018-06-05 12:40:13.597 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 69 bytes
&lt;/span&gt;2018-06-05 12:40:13.662 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 22 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 22, cap: 85)
2018-06-05 12:40:13.663 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 8 bytes
&lt;/span&gt;2018-06-05 12:40:13.664 [FailoverProvider: serialization thread] DEBUG o.a.q.j.p.failover.FailoverProvider - Signalling connection recovery: AmqpProvider: 192.168.99.100:30071
2018-06-05 12:40:13.664 [FailoverProvider: serialization thread] DEBUG org.apache.qpid.jms.JmsConnection - Connection ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1 is starting recovery.
[953254382:0] -&amp;gt; Open{ containerId=&lt;span class=&quot;code-quote&quot;&gt;&apos;cfid&apos;&lt;/span&gt;, hostname=&lt;span class=&quot;code-quote&quot;&gt;&apos;192.168.99.100&apos;&lt;/span&gt;, maxFrameSize=1048576, channelMax=32767, idleTimeOut=30000, outgoingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incomingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=[sole-connection-&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;-container, DELAYED_DELIVERY, ANONYMOUS-RELAY, SHARED-SUBS], properties={product=QpidJMS, version=0.33.0-SNAPSHOT, platform=JVM: 1.8.0_171, 25.171-b11, Oracle Corporation, OS: Linux, 4.13.0-36-&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;, amd64}}
2018-06-05 12:40:13.664 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Open{ containerId=&lt;span class=&quot;code-quote&quot;&gt;&apos;cfid&apos;&lt;/span&gt;, hostname=&lt;span class=&quot;code-quote&quot;&gt;&apos;192.168.99.100&apos;&lt;/span&gt;, maxFrameSize=1048576, channelMax=32767, idleTimeOut=30000, outgoingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incomingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=[sole-connection-&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;-container, DELAYED_DELIVERY, ANONYMOUS-RELAY, SHARED-SUBS], properties={product=QpidJMS, version=0.33.0-SNAPSHOT, platform=JVM: 1.8.0_171, 25.171-b11, Oracle Corporation, OS: Linux, 4.13.0-36-&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;, amd64}}
&lt;/span&gt;2018-06-05 12:40:13.665 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 279 bytes
&lt;/span&gt;2018-06-05 12:40:13.669 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 8 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 69)
2018-06-05 12:40:13.669 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: CONNECTION_LOCAL_OPEN
&lt;/span&gt;2018-06-05 12:40:13.671 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 144 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 144, cap: 213)
[953254382:0] &amp;lt;- Open{ containerId=&lt;span class=&quot;code-quote&quot;&gt;&apos;Router.qdrouterd-756f57946-r7zlw&apos;&lt;/span&gt;, hostname=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, maxFrameSize=16384, channelMax=32767, idleTimeOut=8000, outgoingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incomingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=[ANONYMOUS-RELAY], desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties={product=qpid-dispatch-router, version=1.1.0}}
2018-06-05 12:40:13.673 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Open{ containerId=&lt;span class=&quot;code-quote&quot;&gt;&apos;Router.qdrouterd-756f57946-r7zlw&apos;&lt;/span&gt;, hostname=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, maxFrameSize=16384, channelMax=32767, idleTimeOut=8000, outgoingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incomingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=[ANONYMOUS-RELAY], desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties={product=qpid-dispatch-router, version=1.1.0}}
&lt;/span&gt;2018-06-05 12:40:13.673 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: CONNECTION_REMOTE_OPEN
&lt;/span&gt;2018-06-05 12:40:13.674 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_INIT
&lt;/span&gt;2018-06-05 12:40:13.674 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_LOCAL_OPEN
&lt;/span&gt;[953254382:0] -&amp;gt; Begin{remoteChannel=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.674 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Begin{remoteChannel=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:13.675 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 32 bytes
&lt;/span&gt;2018-06-05 12:40:13.678 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 35 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 35, cap: 101)
[953254382:0] &amp;lt;- Begin{remoteChannel=0, nextOutgoingId=0, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=4294967295, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.679 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Begin{remoteChannel=0, nextOutgoingId=0, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=4294967295, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:13.679 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_REMOTE_OPEN
&lt;/span&gt;2018-06-05 12:40:13.679 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.j.p.a.b.AmqpConnectionBuilder - AmqpConnection { ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1 } is now open:
&lt;/span&gt;2018-06-05 12:40:13.679 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - IdleTimeoutCheck being initiated, initial delay: 4000
&lt;/span&gt;[953254382:1] -&amp;gt; Begin{remoteChannel=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.682 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Begin{remoteChannel=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:13.682 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 32 bytes
&lt;/span&gt;2018-06-05 12:40:13.686 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 35 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 35, cap: 101)
[953254382:1] &amp;lt;- Begin{remoteChannel=1, nextOutgoingId=0, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=4294967295, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.687 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Begin{remoteChannel=1, nextOutgoingId=0, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=4294967295, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:13.687 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_INIT
&lt;/span&gt;2018-06-05 12:40:13.687 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_LOCAL_OPEN
&lt;/span&gt;2018-06-05 12:40:13.687 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_REMOTE_OPEN
&lt;/span&gt;[953254382:1] -&amp;gt; Attach{name=&lt;span class=&quot;code-quote&quot;&gt;&apos;qpid-jms:receiver:ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1:1:1:telemetry/PERF_TEST_TENANT&apos;&lt;/span&gt;, handle=0, role=RECEIVER, sndSettleMode=UNSETTLED, rcvSettleMode=FIRST, source=Source{address=&lt;span class=&quot;code-quote&quot;&gt;&apos;telemetry/PERF_TEST_TENANT&apos;&lt;/span&gt;, durable=NONE, expiryPolicy=LINK_DETACH, timeout=0, dynamic=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, dynamicNodeProperties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, distributionMode=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, filter=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, defaultOutcome=Modified{deliveryFailed=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, undeliverableHere=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, messageAnnotations=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}, outcomes=[amqp:accepted:list, amqp:rejected:list, amqp:released:list, amqp:modified:list], capabilities=[queue]}, target=Target{address=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, dynamicNodeProperties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, capabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}, unsettled=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incompleteUnsettled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, initialDeliveryCount=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, maxMessageSize=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.689 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Attach{name=&lt;span class=&quot;code-quote&quot;&gt;&apos;qpid-jms:receiver:ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1:1:1:telemetry/PERF_TEST_TENANT&apos;&lt;/span&gt;, handle=0, role=RECEIVER, sndSettleMode=UNSETTLED, rcvSettleMode=FIRST, source=Source{address=&lt;span class=&quot;code-quote&quot;&gt;&apos;telemetry/PERF_TEST_TENANT&apos;&lt;/span&gt;, durable=NONE, expiryPolicy=LINK_DETACH, timeout=0, dynamic=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, dynamicNodeProperties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, distributionMode=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, filter=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, defaultOutcome=Modified{deliveryFailed=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, undeliverableHere=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, messageAnnotations=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}, outcomes=[amqp:accepted:list, amqp:rejected:list, amqp:released:list, amqp:modified:list], capabilities=[queue]}, target=Target{address=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, dynamicNodeProperties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, capabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}, unsettled=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incompleteUnsettled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, initialDeliveryCount=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, maxMessageSize=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:13.689 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 266 bytes
&lt;/span&gt;2018-06-05 12:40:13.694 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 212 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 212, cap: 277)
[953254382:1] &amp;lt;- Attach{name=&lt;span class=&quot;code-quote&quot;&gt;&apos;qpid-jms:receiver:ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1:1:1:telemetry/PERF_TEST_TENANT&apos;&lt;/span&gt;, handle=0, role=SENDER, sndSettleMode=MIXED, rcvSettleMode=FIRST, source=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, target=Target{address=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, dynamicNodeProperties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, capabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}, unsettled=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incompleteUnsettled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, initialDeliveryCount=0, maxMessageSize=0, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.696 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Attach{name=&lt;span class=&quot;code-quote&quot;&gt;&apos;qpid-jms:receiver:ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1:1:1:telemetry/PERF_TEST_TENANT&apos;&lt;/span&gt;, handle=0, role=SENDER, sndSettleMode=MIXED, rcvSettleMode=FIRST, source=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, target=Target{address=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, dynamicNodeProperties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, capabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}, unsettled=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incompleteUnsettled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, initialDeliveryCount=0, maxMessageSize=0, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;[953254382:1] &amp;lt;- Detach{handle=0, closed=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, error=Error{condition=amqp:not-found, description=&lt;span class=&quot;code-quote&quot;&gt;&apos;Node not found&apos;&lt;/span&gt;, info=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}}
2018-06-05 12:40:13.697 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Detach{handle=0, closed=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, error=Error{condition=amqp:not-found, description=&lt;span class=&quot;code-quote&quot;&gt;&apos;Node not found&apos;&lt;/span&gt;, info=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}}
&lt;/span&gt;2018-06-05 12:40:13.697 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: LINK_INIT
&lt;/span&gt;2018-06-05 12:40:13.698 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: LINK_LOCAL_OPEN
&lt;/span&gt;2018-06-05 12:40:13.698 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: LINK_REMOTE_OPEN
&lt;/span&gt;2018-06-05 12:40:13.698 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: LINK_REMOTE_CLOSE
&lt;/span&gt;2018-06-05 12:40:13.700 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] WARN&#160; o.a.q.j.p.a.b.AmqpResourceBuilder - Open of resource:(JmsConsumerInfo: { ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1:1:1, destination = telemetry/PERF_TEST_TENANT }) failed: Node not found [condition = amqp:not-found]
&lt;/span&gt;2018-06-05 12:40:13.700 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: LINK_LOCAL_CLOSE
&lt;/span&gt;2018-06-05 12:40:13.700 [FailoverProvider: serialization thread] TRACE o.a.q.j.p.failover.FailoverProvider - Connection attempt:[12] to: amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071?amqp.saslMechanisms=PLAIN&amp;amp;transport.trustAll=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;transport.verifyHost=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;amqp.traceFrames=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; failed
&lt;/span&gt;2018-06-05 12:40:13.700 [FailoverProvider: serialization thread] DEBUG o.a.q.j.p.failover.FailoverProvider - handling Provider failure: Node not found [condition = amqp:not-found]
2018-06-05 12:40:13.701 [FailoverProvider: serialization thread] TRACE o.a.q.j.p.failover.FailoverProvider - stack
java.io.IOException: Node not found [condition = amqp:not-found]
&#160;&#160; &#160;at org.apache.qpid.jms.util.IOExceptionSupport.create(IOExceptionSupport.java:45)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.ProviderFuture.failOnError(ProviderFuture.java:114)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.ProviderFuture.sync(ProviderFuture.java:108)
&#160;&#160; &#160;at org.apache.qpid.jms.JmsMessageConsumer.onConnectionRecovery(JmsMessageConsumer.java:655)
&#160;&#160; &#160;at org.apache.qpid.jms.JmsSession.onConnectionRecovery(JmsSession.java:1352)
&#160;&#160; &#160;at org.apache.qpid.jms.JmsConnection.onConnectionRecovery(JmsConnection.java:1275)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.failover.FailoverProvider$15.run(FailoverProvider.java:601)
&#160;&#160; &#160;at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
&#160;&#160; &#160;at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
&#160;&#160; &#160;at java.util.concurrent.FutureTask.run(FutureTask.java)
&#160;&#160; &#160;at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
&#160;&#160; &#160;at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
&#160;&#160; &#160;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
&#160;&#160; &#160;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
&#160;&#160; &#160;at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
Caused by: javax.jms.InvalidDestinationException: Node not found [condition = amqp:not-found]
&#160;&#160; &#160;at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToException(AmqpSupport.java:150)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToException(AmqpSupport.java:117)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.amqp.builders.AmqpResourceBuilder.handleClosed(AmqpResourceBuilder.java:185)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.amqp.builders.AmqpResourceBuilder.processRemoteClose(AmqpResourceBuilder.java:129)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:995)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.amqp.AmqpProvider.access$1900(AmqpProvider.java:105)
&#160;&#160; &#160;at org.apache.qpid.jms.provider.amqp.AmqpProvider$17.run(AmqpProvider.java:854)
&#160;&#160; &#160;... 8 common frames omitted
[953254382:1] -&amp;gt; Detach{handle=0, closed=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, error=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.703 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Detach{handle=0, closed=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, error=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:13.703 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 16 bytes
&lt;/span&gt;2018-06-05 12:40:13.703 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.p.amqp.AmqpAbstractResource - AmqpConnection { ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1 } requesting close on remote.
&lt;/span&gt;[953254382:0] -&amp;gt; Close{error=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.705 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Close{error=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:13.705 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 12 bytes
&lt;/span&gt;2018-06-05 12:40:13.705 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - Cancelling scheduled IdleTimeoutCheck
&lt;/span&gt;2018-06-05 12:40:13.712 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 12 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 69)
[953254382:0] &amp;lt;- Close{error=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:13.713 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Close{error=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:13.713 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: LINK_FINAL
&lt;/span&gt;2018-06-05 12:40:13.713 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: CONNECTION_LOCAL_CLOSE
&lt;/span&gt;2018-06-05 12:40:13.713 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: TRANSPORT_HEAD_CLOSED
&lt;/span&gt;2018-06-05 12:40:13.713 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: CONNECTION_REMOTE_CLOSE
&lt;/span&gt;2018-06-05 12:40:13.713 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.j.p.amqp.AmqpAbstractResource - AmqpConnection { ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1 } is now closed:
&lt;/span&gt;2018-06-05 12:40:13.714 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: TRANSPORT_TAIL_CLOSED
&lt;/span&gt;2018-06-05 12:40:13.714 [AmqpProvider :(13):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: TRANSPORT_CLOSED
&lt;/span&gt;2018-06-05 12:40:13.714 [epollEventLoopGroup-15-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - Channel has gone inactive! Channel is [id: 0xee93b98b, L:/192.168.99.1:46244 ! R:192.168.99.100/192.168.99.100:30071]
2018-06-05 12:40:13.716 [FailoverProvider: serialization thread] TRACE o.a.qpid.jms.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@2ec16b7f[Running, pool size = 1, active threads = 0, queued tasks = 3, completed tasks = 14] with await termination: 10000 millis
2018-06-05 12:40:13.716 [epollEventLoopGroup-15-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 13 thread-local buffer(s) from thread: epollEventLoopGroup-15-1
2018-06-05 12:40:13.720 [FailoverProvider: serialization thread] DEBUG o.a.qpid.jms.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@2ec16b7f[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 14] is shutdown: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; and terminated: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; took: 0.001 seconds.
2018-06-05 12:40:13.721 [FailoverProvider: serialization thread] TRACE o.a.q.j.p.failover.FailoverProvider - Next reconnect attempt will be in 20480 milliseconds
2018-06-05 12:40:14.563 [threadDeathWatcher-3-2] DEBUG io.netty.buffer.PoolThreadCache - Freed 6 thread-local buffer(s) from thread: threadDeathWatcher-3-2
2018-06-05 12:40:34.202 [FailoverProvider: connect thread] DEBUG o.a.q.j.p.failover.FailoverProvider - Connection attempt:[13] to: amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071 in-progress
&lt;/span&gt;2018-06-05 12:40:34.204 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Getting SSLContext instance using protocol: TLS
&lt;/span&gt;2018-06-05 12:40:34.204 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Default protocols from the SSLEngine: [SSLv2Hello, TLSv1, TLSv1.1, TLSv1.2]
&lt;/span&gt;2018-06-05 12:40:34.204 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Disabled protocols: [SSLv2Hello, SSLv3]
&lt;/span&gt;2018-06-05 12:40:34.204 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
&lt;/span&gt;2018-06-05 12:40:34.204 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Default cipher suites from the SSLEngine: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
&lt;/span&gt;2018-06-05 12:40:34.204 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.transports.TransportSupport - Enabled cipher suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
&lt;/span&gt;2018-06-05 12:40:34.204 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Netty Transport using Epoll mode
&lt;/span&gt;2018-06-05 12:40:34.242 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - SSL Handshake has completed: [id: 0xf69f7326, L:/192.168.99.1:46250 - R:192.168.99.100/192.168.99.100:30071]
2018-06-05 12:40:34.242 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - Channel has become active! Channel is [id: 0xf69f7326, L:/192.168.99.1:46250 - R:192.168.99.100/192.168.99.100:30071]
2018-06-05 12:40:34.242 [epollEventLoopGroup-16-1] DEBUG io.netty.handler.ssl.SslHandler - [id: 0xf69f7326, L:/192.168.99.1:46250 - R:192.168.99.100/192.168.99.100:30071] HANDSHAKEN: TLS_RSA_WITH_AES_256_CBC_SHA256
2018-06-05 12:40:34.244 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 8 bytes
&lt;/span&gt;2018-06-05 12:40:34.247 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 8 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 69)
2018-06-05 12:40:34.248 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: CONNECTION_INIT
&lt;/span&gt;2018-06-05 12:40:34.262 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 99 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 99, cap: 165)
2018-06-05 12:40:34.263 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.jms.sasl.SaslMechanismFinder - Skipping SCRAM-SHA-1 mechanism because it is not in the configured mechanisms restriction set
&lt;/span&gt;2018-06-05 12:40:34.263 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.jms.sasl.SaslMechanismFinder - Skipping SCRAM-SHA-256 mechanism because it is not in the configured mechanisms restriction set
&lt;/span&gt;2018-06-05 12:40:34.263 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.jms.sasl.SaslMechanismFinder - Unknown SASL mechanism: [SCRAM-SHA-512]
&lt;/span&gt;2018-06-05 12:40:34.263 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.jms.sasl.SaslMechanismFinder - Skipping XOAUTH2 mechanism because it is not in the configured mechanisms restriction set
&lt;/span&gt;2018-06-05 12:40:34.263 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] INFO&#160; o.a.q.jms.sasl.SaslMechanismFinder - Best match &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; SASL auth was: SASL-PLAIN
&lt;/span&gt;2018-06-05 12:40:34.264 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 69 bytes
&lt;/span&gt;2018-06-05 12:40:34.321 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 22 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 22, cap: 85)
2018-06-05 12:40:34.322 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 8 bytes
&lt;/span&gt;2018-06-05 12:40:34.322 [FailoverProvider: serialization thread] DEBUG o.a.q.j.p.failover.FailoverProvider - Signalling connection recovery: AmqpProvider: 192.168.99.100:30071
2018-06-05 12:40:34.322 [FailoverProvider: serialization thread] DEBUG org.apache.qpid.jms.JmsConnection - Connection ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1 is starting recovery.
[1626051893:0] -&amp;gt; Open{ containerId=&lt;span class=&quot;code-quote&quot;&gt;&apos;cfid&apos;&lt;/span&gt;, hostname=&lt;span class=&quot;code-quote&quot;&gt;&apos;192.168.99.100&apos;&lt;/span&gt;, maxFrameSize=1048576, channelMax=32767, idleTimeOut=30000, outgoingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incomingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=[sole-connection-&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;-container, DELAYED_DELIVERY, ANONYMOUS-RELAY, SHARED-SUBS], properties={product=QpidJMS, version=0.33.0-SNAPSHOT, platform=JVM: 1.8.0_171, 25.171-b11, Oracle Corporation, OS: Linux, 4.13.0-36-&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;, amd64}}
2018-06-05 12:40:34.323 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Open{ containerId=&lt;span class=&quot;code-quote&quot;&gt;&apos;cfid&apos;&lt;/span&gt;, hostname=&lt;span class=&quot;code-quote&quot;&gt;&apos;192.168.99.100&apos;&lt;/span&gt;, maxFrameSize=1048576, channelMax=32767, idleTimeOut=30000, outgoingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incomingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=[sole-connection-&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;-container, DELAYED_DELIVERY, ANONYMOUS-RELAY, SHARED-SUBS], properties={product=QpidJMS, version=0.33.0-SNAPSHOT, platform=JVM: 1.8.0_171, 25.171-b11, Oracle Corporation, OS: Linux, 4.13.0-36-&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;, amd64}}
&lt;/span&gt;2018-06-05 12:40:34.323 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 279 bytes
&lt;/span&gt;2018-06-05 12:40:34.324 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 8 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 69)
2018-06-05 12:40:34.324 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: CONNECTION_LOCAL_OPEN
&lt;/span&gt;2018-06-05 12:40:34.325 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 144 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 144, cap: 213)
[1626051893:0] &amp;lt;- Open{ containerId=&lt;span class=&quot;code-quote&quot;&gt;&apos;Router.qdrouterd-756f57946-r7zlw&apos;&lt;/span&gt;, hostname=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, maxFrameSize=16384, channelMax=32767, idleTimeOut=8000, outgoingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incomingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=[ANONYMOUS-RELAY], desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties={product=qpid-dispatch-router, version=1.1.0}}
2018-06-05 12:40:34.325 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Open{ containerId=&lt;span class=&quot;code-quote&quot;&gt;&apos;Router.qdrouterd-756f57946-r7zlw&apos;&lt;/span&gt;, hostname=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, maxFrameSize=16384, channelMax=32767, idleTimeOut=8000, outgoingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, incomingLocales=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, offeredCapabilities=[ANONYMOUS-RELAY], desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties={product=qpid-dispatch-router, version=1.1.0}}
&lt;/span&gt;2018-06-05 12:40:34.325 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: CONNECTION_REMOTE_OPEN
&lt;/span&gt;2018-06-05 12:40:34.325 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_INIT
&lt;/span&gt;2018-06-05 12:40:34.325 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_LOCAL_OPEN
&lt;/span&gt;[1626051893:0] -&amp;gt; Begin{remoteChannel=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:34.326 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Begin{remoteChannel=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:34.326 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 32 bytes
&lt;/span&gt;2018-06-05 12:40:34.327 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 35 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 35, cap: 101)
[1626051893:0] &amp;lt;- Begin{remoteChannel=0, nextOutgoingId=0, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=4294967295, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:34.328 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Begin{remoteChannel=0, nextOutgoingId=0, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=4294967295, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:34.328 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_REMOTE_OPEN
&lt;/span&gt;2018-06-05 12:40:34.328 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] DEBUG o.a.q.j.p.a.b.AmqpConnectionBuilder - AmqpConnection { ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1 } is now open:
&lt;/span&gt;2018-06-05 12:40:34.328 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - IdleTimeoutCheck being initiated, initial delay: 4000
&lt;/span&gt;[1626051893:1] -&amp;gt; Begin{remoteChannel=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:34.329 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Begin{remoteChannel=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, nextOutgoingId=1, incomingWindow=2047, outgoingWindow=2147483647, handleMax=65535, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:34.329 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 32 bytes
&lt;/span&gt;2018-06-05 12:40:34.331 [epollEventLoopGroup-16-1] TRACE o.a.q.j.t.netty.NettyTcpTransport - New data read: 35 bytes incoming: PooledUnsafeDirectByteBuf(ridx: 0, widx: 35, cap: 101)
[1626051893:1] &amp;lt;- Begin{remoteChannel=1, nextOutgoingId=0, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=4294967295, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2018-06-05 12:40:34.332 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - RECV: Begin{remoteChannel=1, nextOutgoingId=0, incomingWindow=2147483647, outgoingWindow=2147483647, handleMax=4294967295, offeredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, desiredCapabilities=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, properties=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
&lt;/span&gt;2018-06-05 12:40:34.332 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_INIT
&lt;/span&gt;2018-06-05 12:40:34.332 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_LOCAL_OPEN
&lt;/span&gt;2018-06-05 12:40:34.332 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - New Proton Event: SESSION_REMOTE_OPEN
&lt;/span&gt;2018-06-05 12:40:34.333 [FailoverProvider: serialization thread] DEBUG org.apache.qpid.jms.JmsConnection - Connection ID:1e1943d4-c102-4116-b878-acf5ea02b14e:1 is finalizing recovery.
2018-06-05 12:40:38.329 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - IdleTimeoutCheck rescheduling with delay: 4000
&lt;/span&gt;[1626051893:0] -&amp;gt; Empty Frame
2018-06-05 12:40:42.329 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.qpid.jms.provider.amqp.FRAMES - SENT: Empty Frame
&lt;/span&gt;2018-06-05 12:40:42.329 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.j.t.netty.NettyTcpTransport - Attempted write of: 8 bytes
&lt;/span&gt;2018-06-05 12:40:42.330 [AmqpProvider :(14):[amqps:&lt;span class=&quot;code-comment&quot;&gt;//192.168.99.100:30071]] TRACE o.a.q.jms.provider.amqp.AmqpProvider - IdleTimeoutCheck rescheduling with delay: 4000
&lt;/span&gt;[1626051893:0] -&amp;gt; Empty Frame&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Seems that JMS client re-connects successfully, tries to re-establish the receiver link, this fails, client logs the error, tries to re-connect again, re-connect is successful, receiver link gets not re-established (because it is marked as closed now?), we have JMS connection without link now but no exception listener was called.&lt;/p&gt;</comment>
                            <comment id="16503029" author="gemmellr" created="Wed, 6 Jun 2018 09:08:44 +0000"  >&lt;p&gt;Yep, your comment appears to be exactly what happened, given the most recent behaviour added, we will need to look into further adjustments so I have reopened &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-386&quot; title=&quot;failover provider prevents handling of remote resource closure from completing correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-386&quot;&gt;&lt;del&gt;QPIDJMS-386&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16504314" author="danielmaier-bsi" created="Thu, 7 Jun 2018 06:45:05 +0000"  >&lt;p&gt;I will test it, thanks for your great support.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13163878">QPIDJMS-386</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13151667">DISPATCH-962</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12918360" name="clientlogs.txt" size="29854" author="DanielMaier-BSI" created="Tue, 10 Apr 2018 10:50:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3sd3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>