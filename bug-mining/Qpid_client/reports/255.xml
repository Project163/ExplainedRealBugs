<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:19:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-602] racing local and remote closures can NPE in session shutdown, cause executor leak</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-602</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;Following &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-600&quot; title=&quot;Session and Connection close should await async send completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-600&quot;&gt;&lt;del&gt;QPIDJMS-600&lt;/del&gt;&lt;/a&gt;, when local resource teardown (e.g due to a connection.close()) overlaps with similar teardown provoked by remote connection closure, the session shutdown attempts to await async send completions can NPE, causing it not to shut down the related completions executor, if it tries to use the underlying provider after it has gone.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13593541">QPIDJMS-602</key>
            <summary>racing local and remote closures can NPE in session shutdown, cause executor leak</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robbie">Robbie Gemmell</assignee>
                                    <reporter username="robbie">Robbie Gemmell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Sep 2024 17:34:28 +0000</created>
                <updated>Fri, 4 Oct 2024 15:34:22 +0000</updated>
                            <resolved>Fri, 27 Sep 2024 18:09:16 +0000</resolved>
                                    <version>1.12.0</version>
                    <version>2.6.0</version>
                                    <fixVersion>2.6.1</fixVersion>
                    <fixVersion>1.12.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17885441" author="jira-bot" created="Fri, 27 Sep 2024 18:06:42 +0000"  >&lt;p&gt;Commit 82557f96f8da8767277db18f0aa7db7d5556a132 in qpid-jms&apos;s branch refs/heads/main from Robbie Gemmell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=82557f96&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=82557f96&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-602&quot; title=&quot;racing local and remote closures can NPE in session shutdown, cause executor leak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-602&quot;&gt;&lt;del&gt;QPIDJMS-602&lt;/del&gt;&lt;/a&gt;: fix potential for session shutdown NPE during competing local and remote closures&lt;/p&gt;

&lt;p&gt;Make the ProviderFuture creation safe from NPE, validate a future is returned and noop the&lt;br/&gt;
completion wait if not since the provider ref is gone already.&lt;br/&gt;
Add additional try-finally to ensure executor shutdown occurs.&lt;/p&gt;</comment>
                            <comment id="17885442" author="jira-bot" created="Fri, 27 Sep 2024 18:07:14 +0000"  >&lt;p&gt;Commit 1f2cfe3775f99a263ede3b3aba4f359125835773 in qpid-jms&apos;s branch refs/heads/1.x from Robbie Gemmell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=1f2cfe37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=1f2cfe37&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-602&quot; title=&quot;racing local and remote closures can NPE in session shutdown, cause executor leak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-602&quot;&gt;&lt;del&gt;QPIDJMS-602&lt;/del&gt;&lt;/a&gt;: fix potential for session shutdown NPE during competing local and remote closures&lt;/p&gt;

&lt;p&gt;Make the ProviderFuture creation safe from NPE, validate a future is returned and noop the&lt;br/&gt;
completion wait if not since the provider ref is gone already.&lt;br/&gt;
Add additional try-finally to ensure executor shutdown occurs.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 82557f96f8da8767277db18f0aa7db7d5556a132)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13576239">QPIDJMS-600</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rnxk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>