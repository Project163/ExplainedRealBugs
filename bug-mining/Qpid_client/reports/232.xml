<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:18:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-481] improve handling of transport/decode errors and better signal failure cause</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-481</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;When a decode exception happens in the proton transport while decoding incoming frames, proton closes the transport and emits a close frame (typically causing a response close to be sent) but the client itself is essentially unaware until later. An example of this was seen while identifying &lt;a href=&quot;https://issues.apache.org/jira/browse/DISPATCH-1488&quot; title=&quot;link-routed transaction coordination broken due to &amp;#39;declared&amp;#39; state truncation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DISPATCH-1488&quot;&gt;&lt;del&gt;DISPATCH-1488&lt;/del&gt;&lt;/a&gt; recently.&lt;/p&gt;

&lt;p&gt;If the response close (or other data) arrives, the client tries to process the proton transport with the data, which throws due to its input already being closed. This triggers the connection failure handling and provokes a stack trace in the logs, but neither gives much helpful info about the cause of the overall situation, simply referring to the resulting &apos;tail closed&apos; situation.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PROTON-2142&quot; title=&quot;transports closed due to decode error may emit a close frame without error condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PROTON-2142&quot;&gt;&lt;del&gt;PROTON-2142&lt;/del&gt;&lt;/a&gt; fixes the proton-j handling to ensure the close frame emitted actually contains a decode error giving some indication of what actually lead to the closure. The client should also look to handle this situation better itself though, using notice of the transport decode error occurring to trigger its failure handling directly with the error detail noted as the failure cause, and skip further input processing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270428">QPIDJMS-481</key>
            <summary>improve handling of transport/decode errors and better signal failure cause</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robbie">Robbie Gemmell</assignee>
                                    <reporter username="robbie">Robbie Gemmell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2019 12:06:08 +0000</created>
                <updated>Wed, 29 Jan 2020 13:45:46 +0000</updated>
                            <resolved>Mon, 25 Nov 2019 12:10:53 +0000</resolved>
                                    <version>0.47.0</version>
                                    <fixVersion>0.48.0</fixVersion>
                                    <component>qpid-jms-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16981501" author="jira-bot" created="Mon, 25 Nov 2019 12:10:32 +0000"  >&lt;p&gt;Commit c4ab27d2b92c8d9156e138bd7486a9088165ddcb in qpid-jms&apos;s branch refs/heads/master from Robbie Gemmell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=c4ab27d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=c4ab27d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-481&quot; title=&quot;improve handling of transport/decode errors and better signal failure cause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-481&quot;&gt;&lt;del&gt;QPIDJMS-481&lt;/del&gt;&lt;/a&gt;: improve handling of transport/decode errors and better signal failure cause&lt;/p&gt;</comment>
                            <comment id="16989849" author="jira-bot" created="Fri, 6 Dec 2019 15:00:21 +0000"  >&lt;p&gt;Commit 274bd97fda17a93e4877d08b30a8032f63ffeb8a in qpid-jms&apos;s branch refs/heads/master from Robbie Gemmell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=274bd97&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=274bd97&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-482&quot; title=&quot;update to proton-j 0.33.3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-482&quot;&gt;&lt;del&gt;QPIDJMS-482&lt;/del&gt;&lt;/a&gt;: update to proton-j 0.33.3, and update tests for &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-481&quot; title=&quot;improve handling of transport/decode errors and better signal failure cause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-481&quot;&gt;&lt;del&gt;QPIDJMS-481&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13269104">DISPATCH-1488</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13270138">PROTON-2142</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13270430">QPIDJMS-482</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08z3k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>