<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:17:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-115] Repetitive reconnections when wrong password set</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-115</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;When I supply wrong password in connection string, client tries connect again immediately after failure. These reconnection will happen until I stop the client.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;2015-09-22 12:36:08 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:08 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:09 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;2015-09-22 12:36:10 +0200 INFO org.apache.qpid.jms.sasl.SaslMechanismFinder - Best match for SASL auth was: SASL-CRAM-MD5&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;...&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This is happening during creating session.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;session = connection.createSession(false, Session.CLIENT_ACKNOWLEDGE);&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Used connection string:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;failover:(amqp://cbgc01:21415)?jms.username=admin&amp;amp;jms.password=admin2&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;AMQP 0-10 client prints out an exception and quits when wrong password supplied, is same behavior expected here?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.7&lt;/p&gt;</environment>
        <key id="12895402">QPIDJMS-115</key>
            <summary>Repetitive reconnections when wrong password set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="vavrtom">Tomas Vavricka</reporter>
                        <labels>
                            <label>connection</label>
                    </labels>
                <created>Tue, 22 Sep 2015 10:47:54 +0000</created>
                <updated>Wed, 6 Jan 2016 12:32:50 +0000</updated>
                            <resolved>Thu, 24 Sep 2015 09:59:36 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>qpid-jms-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14902624" author="tabish121" created="Tue, 22 Sep 2015 13:38:45 +0000"  >&lt;p&gt;We need a bit more info before we can really determine what happened here.  Details like what broker (and its version) you are using would be great to provide.  If you have the resources to capture the AMQP / SASL frames that are exchanged during the connection attempt that would also provide much needed insight into what transpired.  &lt;/p&gt;</comment>
                            <comment id="14903330" author="jira-bot" created="Tue, 22 Sep 2015 19:56:27 +0000"  >&lt;p&gt;Commit 2f97ccb04b19b9203c7a7b1e42513152c65d5508 in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=2f97ccb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=2f97ccb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-115&quot; title=&quot;Repetitive reconnections when wrong password set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-115&quot;&gt;&lt;del&gt;QPIDJMS-115&lt;/del&gt;&lt;/a&gt; When a JMSSecurityException is raised from a connection&lt;br/&gt;
attempt disable future reconnection and propagate the error to the&lt;br/&gt;
connection.  &lt;/p&gt;</comment>
                            <comment id="14904321" author="vavrtom" created="Wed, 23 Sep 2015 10:30:13 +0000"  >&lt;p&gt;I can confirm that commit &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=2f97ccb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=2f97ccb&lt;/a&gt; fixes the wrong password issue.&lt;/p&gt;

&lt;p&gt;I encountered another issue maybe connected to this one.&lt;/p&gt;

&lt;p&gt;Using properties:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;java.naming.factory.initial=org.apache.qpid.jms.jndi.JmsInitialContextFactory&lt;br/&gt;
connectionfactory.connection=failover:(amqp://cbgc01:21415?amqp.traceFrames=true)?jms.username=admin&amp;amp;jms.password=admin&amp;amp;failover.reconnectDelay=60000&amp;amp;failover.maxReconnectAttempts=2&lt;br/&gt;
queue.broadcastAddress2=nonexistent.queue&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;When I try to create consumer&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;MessageConsumer broadcastConsumer = session.createConsumer((Destination) ctx.lookup(&quot;broadcastAddress2&quot;));&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;exception is thrown, failover closes the connection and client tries to reconnect endlessly.&lt;/p&gt;

&lt;p&gt;Logs are attached in file unexistent.queue.log.txt.&lt;/p&gt;</comment>
                            <comment id="14904666" author="tabish121" created="Wed, 23 Sep 2015 15:32:29 +0000"  >&lt;p&gt;Thanks for the logs, those help to see what&apos;s going on much easier.  &lt;/p&gt;</comment>
                            <comment id="14904734" author="jira-bot" created="Wed, 23 Sep 2015 16:14:23 +0000"  >&lt;p&gt;Commit 689bd88b78a6cdaa17a88fe7f8e38544db0877a8 in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=689bd88&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=689bd88&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-115&quot; title=&quot;Repetitive reconnections when wrong password set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-115&quot;&gt;&lt;del&gt;QPIDJMS-115&lt;/del&gt;&lt;/a&gt; On request failure pass along the JMSException error to the&lt;br/&gt;
JMS layer and let it decide what is a failure.&lt;/p&gt;</comment>
                            <comment id="14904736" author="tabish121" created="Wed, 23 Sep 2015 16:14:58 +0000"  >&lt;p&gt;You can test now with the latest fix which should resolve the newer problem you are seeing.  &lt;/p&gt;</comment>
                            <comment id="14905867" author="vavrtom" created="Thu, 24 Sep 2015 06:01:59 +0000"  >&lt;p&gt;I confirm that newer problem is resolved aswell.  Thanks&lt;/p&gt;</comment>
                            <comment id="14906139" author="tabish121" created="Thu, 24 Sep 2015 09:59:36 +0000"  >&lt;p&gt;This is now resolved on master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12761863" name="unexistent.queue.log.txt" size="231991" author="vavrtom" created="Wed, 23 Sep 2015 10:30:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2le6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>