<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:18:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-305] Potential race on sasl authentication failures can throw wrong exception on connect</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-305</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;During the SASL authentication process there&apos;s a change that an error thrown from the handler code in the exchange phases can result the wrong exception being thrown from the connection create methods in the ConnectionFactory due to a race between asynchronous notifications and the exception thrown from the connect call.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13088911">QPIDJMS-305</key>
            <summary>Potential race on sasl authentication failures can throw wrong exception on connect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="tabish">Timothy A. Bish</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Jul 2017 21:51:52 +0000</created>
                <updated>Wed, 30 Aug 2017 14:26:32 +0000</updated>
                            <resolved>Fri, 21 Jul 2017 16:01:58 +0000</resolved>
                                    <version>0.23.0</version>
                                    <fixVersion>0.24.0</fixVersion>
                                    <component>qpid-jms-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16095435" author="jira-bot" created="Thu, 20 Jul 2017 21:54:05 +0000"  >&lt;p&gt;Commit f5f287ec021e2bd881b3992b328c78f48d8397eb in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=f5f287e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=f5f287e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-305&quot; title=&quot;Potential race on sasl authentication failures can throw wrong exception on connect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-305&quot;&gt;&lt;del&gt;QPIDJMS-305&lt;/del&gt;&lt;/a&gt; Refactor the SASL Authentication process to remove race&lt;/p&gt;

&lt;p&gt;Refactor of the SASL Authenticator and the way it handles failures and&lt;br/&gt;
how they are then reported.  Removes a race where an async provider&lt;br/&gt;
exception and the exception returned from the connect call can chase&lt;br/&gt;
each other and the wrong one gets tracked as the failure cuase.&lt;/p&gt;</comment>
                            <comment id="16096256" author="k-wall" created="Fri, 21 Jul 2017 13:31:40 +0000"  >&lt;p&gt;Looking at f5f287e, is seems like  &lt;tt&gt;AmqpSaslAuthenticator&lt;/tt&gt; should no longer have an &lt;tt&gt;AsyncResult&lt;/tt&gt; at all.  Currently &lt;tt&gt;AmqpProvider&lt;/tt&gt; gives &lt;tt&gt;AmqpSaslAuthenticator&lt;/tt&gt; the AsyncResult through its constructor. It is only mutated via the &lt;tt&gt;signalCompletion()&lt;/tt&gt;, which is only by &lt;tt&gt;AmqpProvider&lt;/tt&gt;. &lt;/p&gt;</comment>
                            <comment id="16096266" author="tabish121" created="Fri, 21 Jul 2017 13:37:25 +0000"  >&lt;p&gt;I prefer it where it is as it&apos;s only needed during authentication and that is a good place to store it off.  &lt;/p&gt;</comment>
                            <comment id="16096351" author="k-wall" created="Fri, 21 Jul 2017 15:08:51 +0000"  >&lt;p&gt;Doesn&apos;t AmqpProvider already keep a reference to the same AsyncResult (org/apache/qpid/jms/provider/amqp/AmqpProvider.java:136)?  It strikes me that information hiding could be improved by not having the &lt;tt&gt;AsyncResult&lt;/tt&gt; exposed to &lt;tt&gt;AmqpSaslAuthenticator&lt;/tt&gt; and instead turn &lt;tt&gt;AmqpSaslAuthenticator#wasSuccessful()&lt;/tt&gt; into something that would expose the &lt;tt&gt;failureCause&lt;/tt&gt;.  AmqpProvider would then call AsyncResult#onSuccess/onFailure directly (as it already does in other situations).  &lt;/p&gt;</comment>
                            <comment id="16096363" author="tabish121" created="Fri, 21 Jul 2017 15:19:20 +0000"  >&lt;p&gt;I&apos;d forgotten it was the same request object reused, so I&apos;ll go ahead and change it so you feel better.  &lt;/p&gt;</comment>
                            <comment id="16096394" author="jira-bot" created="Fri, 21 Jul 2017 15:45:17 +0000"  >&lt;p&gt;Commit 62e30c0fc254a2a832b81c3c9a8cf5332ddf9cf5 in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=62e30c0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=62e30c0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-305&quot; title=&quot;Potential race on sasl authentication failures can throw wrong exception on connect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-305&quot;&gt;&lt;del&gt;QPIDJMS-305&lt;/del&gt;&lt;/a&gt; Remove the request object from the authenticator&lt;/p&gt;

&lt;p&gt;Remove the request object from the authenticator and let the provider&lt;br/&gt;
just manage calls to success and failure since it drives the&lt;br/&gt;
notification now.  &lt;/p&gt;</comment>
                            <comment id="16096407" author="k-wall" created="Fri, 21 Jul 2017 15:56:41 +0000"  >&lt;p&gt;Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3htqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>