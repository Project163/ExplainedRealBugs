<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:19:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-529] Remote link closure when producer send and close race and lead to close blocking forever</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-529</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;A three way race can occur when a remote link closure occurs and two threads are in the process of both sending a message and attempting to close the producer.&#160; Due to a bug in the provider producer send handler the send can trigger tracking of the send even when it has known to have failed due to the link already having entered a closed state due to remote detach arriving.&#160; The MessageProducer close operation if initiated such that it is waiting behind the send call for the IO thread can block forever waiting for the tracked send to be discarded which it never will as it was already considered failed by the initial send call.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13367994">QPIDJMS-529</key>
            <summary>Remote link closure when producer send and close race and lead to close blocking forever</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="tabish">Timothy A. Bish</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Mar 2021 19:55:43 +0000</created>
                <updated>Tue, 13 Apr 2021 11:31:42 +0000</updated>
                            <resolved>Wed, 31 Mar 2021 15:32:50 +0000</resolved>
                                    <version>0.57.0</version>
                                    <fixVersion>0.58.0</fixVersion>
                                    <component>qpid-jms-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17309712" author="jira-bot" created="Fri, 26 Mar 2021 20:38:17 +0000"  >&lt;p&gt;Commit e328aedbd7aa0fed82ab7f52c7cda43b76025db4 in qpid-jms&apos;s branch refs/heads/main from Timothy Bish&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=e328aed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=e328aed&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-529&quot; title=&quot;Remote link closure when producer send and close race and lead to close blocking forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-529&quot;&gt;&lt;del&gt;QPIDJMS-529&lt;/del&gt;&lt;/a&gt; Don&apos;t track send that fail due to producer already closed&lt;/p&gt;

&lt;p&gt;The send method in AmqpFixedProducer was neglecting to exit after&lt;br/&gt;
failing a send due to producer already having closed which lead to a&lt;br/&gt;
tracked send that had no change of being completed later in most cases&lt;br/&gt;
which could cause a hang on producer close due to send in the blocked&lt;br/&gt;
list.&lt;/p&gt;</comment>
                            <comment id="17310712" author="jira-bot" created="Mon, 29 Mar 2021 15:00:06 +0000"  >&lt;p&gt;Commit 9e99edf31865b096500e984c2bc577ba72ad910c in qpid-jms&apos;s branch refs/heads/main from Robbie Gemmell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=9e99edf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=9e99edf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-529&quot; title=&quot;Remote link closure when producer send and close race and lead to close blocking forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-529&quot;&gt;&lt;del&gt;QPIDJMS-529&lt;/del&gt;&lt;/a&gt;: close down connection at end, ensure test timeout exceeds component timeouts&lt;/p&gt;</comment>
                            <comment id="17310722" author="jira-bot" created="Mon, 29 Mar 2021 15:17:24 +0000"  >&lt;p&gt;Commit eac6ae78400b018e69d5791af711adbf7b67568e in qpid-jms&apos;s branch refs/heads/main from Robbie Gemmell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=eac6ae7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=qpid-jms.git;h=eac6ae7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-529&quot; title=&quot;Remote link closure when producer send and close race and lead to close blocking forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-529&quot;&gt;&lt;del&gt;QPIDJMS-529&lt;/del&gt;&lt;/a&gt;: verify the termination completes in alotted time, ensuring test fails if it doesnt&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0p9fs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>