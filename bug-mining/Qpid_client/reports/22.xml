<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:17:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[QPIDJMS-63] SASL ANONYMOUS doesn&apos;t seem to work against the C++ broker</title>
                <link>https://issues.apache.org/jira/browse/QPIDJMS-63</link>
                <project id="12314524" key="QPIDJMS">Qpid JMS</project>
                    <description>&lt;p&gt;It looks like the same problem which was described and fixed for SASL EXTERNAL in &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-33&quot; title=&quot;SASL EXTERNAL doesn&amp;#39;t seem to work against the C++ broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-33&quot;&gt;&lt;del&gt;QPIDJMS-33&lt;/del&gt;&lt;/a&gt; is present also for the ANONYMOUS mechanism (broker log): &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-06-01 21:01:59 [Network] info Set TCP_NODELAY on connection to 192.168.1.241:57519
2015-06-01 21:01:59 [Broker] info Using AMQP 1.0 (with SASL layer)
2015-06-01 21:01:59 [Security] info SASL: Mechanism list: ANONYMOUS
2015-06-01 21:01:59 [Protocol] debug qpid.172.17.0.15:5672-192.168.1.241:57519 Sent SASL-MECHANISMS(ANONYMOUS) 31
2015-06-01 21:01:59 [Protocol] debug qpid.172.17.0.15:5672-192.168.1.241:57519 writing protocol header: 1-0
2015-06-01 21:01:59 [Protocol] debug qpid.172.17.0.15:5672-192.168.1.241:57519 Received SASL-INIT(ANONYMOUS, )
2015-06-01 21:01:59 [Security] info SASL: Starting authentication with mechanism: ANONYMOUS
2015-06-01 21:01:59 [Protocol] debug qpid.172.17.0.15:5672-192.168.1.241:57519 Sent SASL-CHALLENGE() 22
2015-06-01 21:01:59 [Security] info qpid.172.17.0.15:5672-192.168.1.241:57519 Challenge issued
2015-06-01 21:02:09 [&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;] error Connection qpid.172.17.0.15:5672-192.168.1.241:57519 No protocol received after 10s, closing
2015-06-01 21:02:09 [Security] info qpid.172.17.0.15:5672-192.168.1.241:57519 Connection closed prior to authentication completing
2015-06-01 21:02:09 [Security] info qpid.172.17.0.15:5672-192.168.1.241:57519 Connection closed prior to authentication completing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This occurs only when the authentication is enabled in the AMQP broker. When the broker is started without authentication (--auth=no option) it actually works fine. Only when the ANONYMOUS mechanism is enabled as a part of the regular authentication, this error appears.&lt;/p&gt;

&lt;p&gt;The solution seems to be the same as in &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-33&quot; title=&quot;SASL EXTERNAL doesn&amp;#39;t seem to work against the C++ broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-33&quot;&gt;&lt;del&gt;QPIDJMS-33&lt;/del&gt;&lt;/a&gt;. I.e. setting the initial response to EMPTY instead of null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12834374">QPIDJMS-63</key>
            <summary>SASL ANONYMOUS doesn&apos;t seem to work against the C++ broker</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scholzj">Jakub Scholz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Jun 2015 21:11:19 +0000</created>
                <updated>Wed, 6 Jan 2016 12:33:03 +0000</updated>
                            <resolved>Tue, 2 Jun 2015 09:46:30 +0000</resolved>
                                    <version>0.2.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>qpid-jms-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14568027" author="scholzj" created="Mon, 1 Jun 2015 21:19:03 +0000"  >&lt;p&gt;A patch based on the fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-33&quot; title=&quot;SASL EXTERNAL doesn&amp;#39;t seem to work against the C++ broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-33&quot;&gt;&lt;del&gt;QPIDJMS-33&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14568086" author="jira-bot" created="Mon, 1 Jun 2015 21:46:13 +0000"  >&lt;p&gt;Commit 74acf459f9dfcc2c8ead510d41dcfdcf053bc80b in qpid-jms&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=74acf45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=74acf45&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-63&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/QPIDJMS-63&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Apply patch from scholzj to resolve issues with SASL ANONYMOUS and the&lt;br/&gt;
C++ broker.  &lt;/p&gt;</comment>
                            <comment id="14568828" author="jira-bot" created="Tue, 2 Jun 2015 09:25:18 +0000"  >&lt;p&gt;Commit 5c21506fcf3ccda968407bba63599219fe4ff40c in qpid-jms&apos;s branch refs/heads/master from Robert Gemmell&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=5c21506&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=qpid-jms.git;h=5c21506&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-63&quot; title=&quot;SASL ANONYMOUS doesn&amp;#39;t seem to work against the C++ broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-63&quot;&gt;&lt;del&gt;QPIDJMS-63&lt;/del&gt;&lt;/a&gt;: restore checks for expected initial response value&lt;/p&gt;</comment>
                            <comment id="14568856" author="gemmellr" created="Tue, 2 Jun 2015 09:46:30 +0000"  >&lt;p&gt;Thanks for finding+fixing this Jakub.&lt;/p&gt;

&lt;p&gt;It is less clear the client is actually doing anything wrong in this case than it was for &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-33&quot; title=&quot;SASL EXTERNAL doesn&amp;#39;t seem to work against the C++ broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-33&quot;&gt;&lt;del&gt;QPIDJMS-33&lt;/del&gt;&lt;/a&gt;, but if the change gets things working I&apos;m happy to go with it. I did put back verification of the behaviour in the test peer. Upon looking, this will give essentially the same behaviour that results from the other JMS clients we have (they also seem to skip the initial response, but are able to respond with an empty response if a subsequent empty challenge arrives, which it does from the C++ broker but not the Java broker).&lt;/p&gt;

&lt;p&gt;(Aside: The SASL EXTERNAL definition is fairly clear on what it means to send the empty (but present) initial response and what happens when you dont, whereas the ANONYMOUS definition is less so. The initial response is described as trace information the client &quot;may&quot; send, and the exchange is described as a single message from client to server, with note that protocols like AMQP 1.0 that allow inclusion of the initial response up front will be able to avoid a roundtrip for the initial response.)&lt;/p&gt;</comment>
                            <comment id="14568973" author="scholzj" created="Tue, 2 Jun 2015 11:31:58 +0000"  >&lt;p&gt;To be honest, I didn&apos;t studied the SASL specification - I saw that the behavior was the same as in &lt;a href=&quot;https://issues.apache.org/jira/browse/QPIDJMS-33&quot; title=&quot;SASL EXTERNAL doesn&amp;#39;t seem to work against the C++ broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;QPIDJMS-33&quot;&gt;&lt;del&gt;QPIDJMS-33&lt;/del&gt;&lt;/a&gt; and maybe jumped a bit to the conclusion :-o. But it seems to work with both modes of the C++ broker as well as the Java broker.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12736664" name="QPIDJMS-63.patch" size="1598" author="scholzj" created="Mon, 1 Jun 2015 21:19:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fh87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>