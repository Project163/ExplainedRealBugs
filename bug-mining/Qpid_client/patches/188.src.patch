diff --git a/qpid-jms-client/src/main/java/org/apache/qpid/jms/provider/amqp/AmqpProviderFactory.java b/qpid-jms-client/src/main/java/org/apache/qpid/jms/provider/amqp/AmqpProviderFactory.java
index 56752771..c141e26f 100644
--- a/qpid-jms-client/src/main/java/org/apache/qpid/jms/provider/amqp/AmqpProviderFactory.java
+++ b/qpid-jms-client/src/main/java/org/apache/qpid/jms/provider/amqp/AmqpProviderFactory.java
@@ -38,7 +38,7 @@ public class AmqpProviderFactory extends ProviderFactory {
     @Override
     public AmqpProvider createProvider(URI remoteURI) throws Exception {
 
-        Map<String, String> map = PropertyUtil.parseQuery(remoteURI.getQuery());
+        Map<String, String> map = PropertyUtil.parseQuery(remoteURI);
         Map<String, String> providerOptions = PropertyUtil.filterProperties(map, "amqp.");
 
         // Clear off any amqp.X values from the transport before creation.
diff --git a/qpid-jms-client/src/main/java/org/apache/qpid/jms/transports/TransportFactory.java b/qpid-jms-client/src/main/java/org/apache/qpid/jms/transports/TransportFactory.java
index d3202e71..e5a56c8e 100644
--- a/qpid-jms-client/src/main/java/org/apache/qpid/jms/transports/TransportFactory.java
+++ b/qpid-jms-client/src/main/java/org/apache/qpid/jms/transports/TransportFactory.java
@@ -48,7 +48,7 @@ public abstract class TransportFactory {
      * @throws Exception if an error occurs while creating the Transport instance.
      */
     public Transport createTransport(URI remoteURI) throws Exception {
-        Map<String, String> map = PropertyUtil.parseQuery(remoteURI.getQuery());
+        Map<String, String> map = PropertyUtil.parseQuery(remoteURI);
         Map<String, String> transportURIOptions = PropertyUtil.filterProperties(map, "transport.");
 
         remoteURI = PropertyUtil.replaceQuery(remoteURI, map);
diff --git a/qpid-jms-client/src/test/java/org/apache/qpid/jms/provider/amqp/AmqpProviderFactoryTest.java b/qpid-jms-client/src/test/java/org/apache/qpid/jms/provider/amqp/AmqpProviderFactoryTest.java
index e49e42ec..09557670 100644
--- a/qpid-jms-client/src/test/java/org/apache/qpid/jms/provider/amqp/AmqpProviderFactoryTest.java
+++ b/qpid-jms-client/src/test/java/org/apache/qpid/jms/provider/amqp/AmqpProviderFactoryTest.java
@@ -22,6 +22,7 @@ import static org.junit.Assert.assertTrue;
 
 import java.io.IOException;
 import java.net.URI;
+import java.net.URLEncoder;
 
 import org.apache.qpid.jms.provider.Provider;
 import org.apache.qpid.jms.test.QpidJmsTestCase;
@@ -127,4 +128,17 @@ public class AmqpProviderFactoryTest extends QpidJmsTestCase {
         assertEquals(true, amqpProvider.isTraceFrames());
         assertEquals(32, amqpProvider.getChannelMax());
     }
+
+    @Test(timeout = 20000)
+    public void testCreateProviderEncodedVhost() throws IOException, Exception {
+        URI configuredURI = new URI(peerURI.toString() +
+            "?amqp.vhost=" + URLEncoder.encode("v+host", "utf-8"));
+        Provider provider = AmqpProviderFactory.create(configuredURI);
+        assertNotNull(provider);
+        assertTrue(provider instanceof AmqpProvider);
+
+        AmqpProvider amqpProvider = (AmqpProvider) provider;
+
+        assertEquals("v+host", amqpProvider.getVhost());
+    }
 }
diff --git a/qpid-jms-client/src/test/java/org/apache/qpid/jms/transports/netty/NettySslTransportFactoryTest.java b/qpid-jms-client/src/test/java/org/apache/qpid/jms/transports/netty/NettySslTransportFactoryTest.java
index ed46d134..c37a29e1 100644
--- a/qpid-jms-client/src/test/java/org/apache/qpid/jms/transports/netty/NettySslTransportFactoryTest.java
+++ b/qpid-jms-client/src/test/java/org/apache/qpid/jms/transports/netty/NettySslTransportFactoryTest.java
@@ -26,6 +26,7 @@ import static org.junit.Assert.assertThat;
 import static org.junit.Assert.assertTrue;
 
 import java.net.URI;
+import java.net.URLEncoder;
 import java.util.Arrays;
 import java.util.List;
 
@@ -61,6 +62,8 @@ public class NettySslTransportFactoryTest {
     public static final boolean CUSTOM_TRUST_ALL = true;
     public static final boolean CUSTOM_VERIFY_HOST = false;
     public static final String CUSTOM_KEY_ALIAS = "myTestAlias";
+    public static final String CUSTOM_TRUST_STORE_LOCATION = "/home/user/store";
+    public static final String CUSTOM_TRUST_STORE_PASSWORD = "pass+word";
 
     @Test
     public void testCreateWithDefaultOptions() throws Exception {
@@ -233,4 +236,23 @@ public class NettySslTransportFactoryTest {
         assertEquals(CUSTOM_STORE_TYPE_PKCS12, sslOptions.getKeyStoreType());
         assertEquals(CUSTOM_STORE_TYPE, sslOptions.getTrustStoreType());
     }
+
+    @Test
+    public void testUrlEncodedTransportValues() throws Exception {
+        URI BASE_URI = new URI("tcp://localhost:5672");
+        final String encodedLocation = URLEncoder.encode(CUSTOM_TRUST_STORE_LOCATION, "utf-8");
+        final String encodedPassword = URLEncoder.encode(CUSTOM_TRUST_STORE_PASSWORD, "utf-8");
+        URI configuredURI = new URI(BASE_URI.toString() + "?" +
+                "transport.trustStoreLocation=" + encodedLocation + "&" +
+                "transport.trustStorePassword=" + encodedPassword);
+
+        NettySslTransportFactory factory = new NettySslTransportFactory();
+        Transport transport = factory.createTransport(configuredURI);
+        TransportOptions options = transport.getTransportOptions();
+        assertTrue(options instanceof TransportSslOptions);
+        TransportSslOptions sslOptions = (TransportSslOptions) options;
+
+        assertEquals(CUSTOM_TRUST_STORE_LOCATION, sslOptions.getTrustStoreLocation());
+        assertEquals(CUSTOM_TRUST_STORE_PASSWORD, sslOptions.getTrustStorePassword());
+    }
 }
