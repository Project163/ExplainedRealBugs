<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:19:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2208] Build error for Java IBM</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2208</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Using IBM Java 7 will break the built:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    [INFO] --- scala-maven-plugin:3.1.4:compile (scala-compile-first) @ flink-runtime ---
[INFO] /share/flink/flink-0.9-SNAPSHOT-wo-Yarn/flink-runtime/src/main/java:-1: info: compiling
[INFO] /share/flink/flink-0.9-SNAPSHOT-wo-Yarn/flink-runtime/src/main/scala:-1: info: compiling
[INFO] Compiling 461 source files to /share/flink/flink-0.9-SNAPSHOT-wo-Yarn/flink-runtime/target/classes at 1434059956648
[ERROR] /share/flink/flink-0.9-SNAPSHOT-wo-Yarn/flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala:1768: error: type OperatingSystemMXBean is not a member of package com.sun.management
[ERROR]             asInstanceOf[com.sun.management.OperatingSystemMXBean]).
[ERROR]                                             ^
[ERROR] /share/flink/flink-0.9-SNAPSHOT-wo-Yarn/flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala:1787: error: type OperatingSystemMXBean is not a member of package com.sun.management
[ERROR]     val methodsList = classOf[com.sun.management.OperatingSystemMXBean].getMethods()
[ERROR]                                                  ^
[ERROR] two errors found
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] flink .............................................. SUCCESS [ 14.447 s]
[INFO] flink-shaded-hadoop ................................ SUCCESS [  2.548 s]
[INFO] flink-shaded-include-yarn .......................... SUCCESS [ 36.122 s]
[INFO] flink-shaded-include-yarn-tests .................... SUCCESS [ 36.980 s]
[INFO] flink-core ......................................... SUCCESS [ 21.887 s]
[INFO] flink-java ......................................... SUCCESS [ 16.023 s]
[INFO] flink-runtime ...................................... FAILURE [ 20.241 s]
[INFO] flink-optimizer .................................... SKIPPED


[hadoop@ibm-power-1 /]$ java -version
java version &lt;span class=&quot;code-quote&quot;&gt;&quot;1.7.0&quot;&lt;/span&gt;
Java(TM) SE Runtime Environment (build pxp6470_27sr1fp1-20140708_01(SR1 FP1))
IBM J9 VM (build 2.7, JRE 1.7.0 Linux ppc64-64 Compressed References 20140707_205525 (JIT enabled, AOT enabled)
J9VM - R27_Java727_SR1_20140707_1408_B205525
JIT  - tr.r13.java_20140410_61421.07
GC   - R27_Java727_SR1_20140707_1408_B205525_CMPRSS
J9CL - 20140707_205525)
JCL - 20140707_01 based on Oracle 7u65-b16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12837267">FLINK-2208</key>
            <summary>Build error for Java IBM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="Felix Neutatz">Felix Neutatz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jun 2015 22:59:09 +0000</created>
                <updated>Wed, 8 Jul 2015 18:32:13 +0000</updated>
                            <resolved>Wed, 8 Jul 2015 18:32:05 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14584610" author="jguenther" created="Sat, 13 Jun 2015 14:11:55 +0000"  >&lt;p&gt;My first guess is that the IBM JDK is not supported officially and therefore not tested.&lt;br/&gt;
Also the Automatic buildprocess in Travis does not seem to support it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://docs.travis-ci.com/user/languages/java/#Testing-Against-Multiple-JDKs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.travis-ci.com/user/languages/java/#Testing-Against-Multiple-JDKs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That being said the com.sun,management packages are internal API&apos;s for the Sun(Oracle) JDKs that seem to be used by the openjdk also&lt;br/&gt;
a fix is to use the java.lang.management.OperatingSystemMXBean instead&lt;br/&gt;
com.sun.*  packages are not meant to be used outside the sun jdk and are not meant to be used in programms&lt;/p&gt;</comment>
                            <comment id="14585045" author="felix neutatz" created="Sun, 14 Jun 2015 11:44:08 +0000"  >&lt;p&gt;Thanks, that solved the issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I will push the fix soon &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14585085" author="githubbot" created="Sun, 14 Jun 2015 14:47:16 +0000"  >&lt;p&gt;GitHub user FelixNeutatz opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2208&quot; title=&quot;Build error for Java IBM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2208&quot;&gt;&lt;del&gt;FLINK-2208&lt;/del&gt;&lt;/a&gt; Fix IBM Java integration bug&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/FelixNeutatz/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/FelixNeutatz/incubator-flink&lt;/a&gt; FLINK_2208_IBM_JAVA&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #833&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit feb7ab113f5bdeb4449c2c1c1bf3ca6b38e64e89&lt;br/&gt;
Author: FelixNeutatz &amp;lt;neutatz@googlemail.com&amp;gt;&lt;br/&gt;
Date:   2015-06-14T12:59:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2208&quot; title=&quot;Build error for Java IBM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2208&quot;&gt;&lt;del&gt;FLINK-2208&lt;/del&gt;&lt;/a&gt; Fix IBM Java integration bug&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14585149" author="githubbot" created="Sun, 14 Jun 2015 17:46:53 +0000"  >&lt;p&gt;Github user rmetzger commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833#discussion_r32382190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833#discussion_r32382190&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala &amp;#8212;&lt;br/&gt;
    @@ -1765,7 +1765,7 @@ object TaskManager {&lt;br/&gt;
           override def getValue: Double = {&lt;br/&gt;
             try{&lt;br/&gt;
               fetchCPULoad.map(_.invoke(ManagementFactory.getOperatingSystemMXBean().&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;asInstanceOf&lt;span class=&quot;error&quot;&gt;&amp;#91;com.sun.management.OperatingSystemMXBean&amp;#93;&lt;/span&gt;).&lt;br/&gt;
    +            asInstanceOf&lt;span class=&quot;error&quot;&gt;&amp;#91;java.lang.management.OperatingSystemMXBean&amp;#93;&lt;/span&gt;).
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I think the change makes the cast unnecessary because thats exactly the type returned by the method.&lt;/p&gt;</comment>
                            <comment id="14585150" author="githubbot" created="Sun, 14 Jun 2015 17:47:35 +0000"  >&lt;p&gt;Github user rmetzger commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833#discussion_r32382202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833#discussion_r32382202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime/src/main/scala/org/apache/flink/runtime/taskmanager/TaskManager.scala &amp;#8212;&lt;br/&gt;
    @@ -1784,7 +1784,7 @@ object TaskManager {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@return&lt;br/&gt;
        */&lt;br/&gt;
       private def getMethodToFetchCPULoad(): Option&lt;span class=&quot;error&quot;&gt;&amp;#91;Method&amp;#93;&lt;/span&gt; = {&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;val methodsList = classOf&lt;span class=&quot;error&quot;&gt;&amp;#91;com.sun.management.OperatingSystemMXBean&amp;#93;&lt;/span&gt;.getMethods()&lt;br/&gt;
    +    val methodsList = classOf&lt;span class=&quot;error&quot;&gt;&amp;#91;java.lang.management.OperatingSystemMXBean&amp;#93;&lt;/span&gt;.getMethods()
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    getMethods() will never contain the `getProcessCpuLoad` method, so the feature is basically disabled&lt;/p&gt;</comment>
                            <comment id="14585153" author="githubbot" created="Sun, 14 Jun 2015 17:49:57 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833#issuecomment-111855825&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833#issuecomment-111855825&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think this pull request is disabling the CPU utilization monitoring because the check whether the `getProcessCpuLoad()` exists will always be false (even though we are on a Sun JVM).&lt;/p&gt;
</comment>
                            <comment id="14616397" author="githubbot" created="Tue, 7 Jul 2015 09:12:43 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833#issuecomment-119133444&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833#issuecomment-119133444&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Is anything happening with this pull request?&lt;/p&gt;

&lt;p&gt;    If you do not want  to update it any more, could you close it?&lt;/p&gt;</comment>
                            <comment id="14616839" author="githubbot" created="Tue, 7 Jul 2015 15:12:14 +0000"  >&lt;p&gt;Github user FelixNeutatz commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833#issuecomment-119234837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833#issuecomment-119234837&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I have no time at the moment to think about it. But this is still an issue ...&lt;/p&gt;</comment>
                            <comment id="14618282" author="githubbot" created="Wed, 8 Jul 2015 09:29:12 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833#issuecomment-119519214&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833#issuecomment-119519214&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ll take a quick stab at it...&lt;/p&gt;</comment>
                            <comment id="14618283" author="githubbot" created="Wed, 8 Jul 2015 09:30:39 +0000"  >&lt;p&gt;Github user FelixNeutatz commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833#issuecomment-119519615&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833#issuecomment-119519615&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    thanks, so I will close it&lt;/p&gt;</comment>
                            <comment id="14618284" author="githubbot" created="Wed, 8 Jul 2015 09:30:39 +0000"  >&lt;p&gt;Github user FelixNeutatz closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/833&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/833&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14619116" author="stephanewen" created="Wed, 8 Jul 2015 18:32:05 +0000"  >&lt;p&gt;60cfa0b2dcb4dae1637d867c4c63c67b3d26adf9&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fy9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>