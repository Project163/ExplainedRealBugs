<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:44:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-15772] Shaded Hadoop S3A with credentials provider end-to-end test fails on travis</title>
                <link>https://issues.apache.org/jira/browse/FLINK-15772</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Shaded Hadoop S3A with credentials provider end-to-end test fails on travis with below error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Job with JobID 048b4651c0ba858b926aeb36f5315058 has finished.
Job &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;: 6016 ms

sort: cannot read: &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/travis/build/apache/flink/flink-end-to-end-tests/test-scripts/temp-test-directory-17605057822/temp/test_batch_wordcount-2abf3dbf-b4ba-4d3a-a43b-c43e710eb439*&apos;&lt;/span&gt;: No such file or directory
FAIL WordCount (hadoop_with_provider): Output hash mismatch.  Got d41d8cd98f00b204e9800998ecf8427e, expected 72a690412be8928ba239c2da967328a5.
head hexdump of actual:
head: cannot open &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/travis/build/apache/flink/flink-end-to-end-tests/test-scripts/temp-test-directory-17605057822/temp/test_batch_wordcount-2abf3dbf-b4ba-4d3a-a43b-c43e710eb439*&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; reading: No such file or directory
ed2bf7571ec8ab184b7316809da0b2facb9b367a7c7f0f1bdaac6dd5e6f107ae
ed2bf7571ec8ab184b7316809da0b2facb9b367a7c7f0f1bdaac6dd5e6f107ae
[FAIL] Test script contains errors.
Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; errors...
No errors in log files.
Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; exceptions...
No exceptions in log files.
Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; non-empty .out files...
No non-empty .out files.

[FAIL] &lt;span class=&quot;code-quote&quot;&gt;&apos;Shaded Hadoop S3A with credentials provider end-to-end test&apos;&lt;/span&gt; failed after 0 minutes and 20 seconds! Test exited with exit code 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.org/v3/job/641444512/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/641444512/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13281576">FLINK-15772</key>
            <summary>Shaded Hadoop S3A with credentials provider end-to-end test fails on travis</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aljoscha">Aljoscha Krettek</assignee>
                                    <reporter username="liyu">Yu Li</reporter>
                        <labels>
                            <label>test-stability</label>
                    </labels>
                <created>Sun, 26 Jan 2020 07:14:42 +0000</created>
                <updated>Thu, 9 Apr 2020 12:56:08 +0000</updated>
                            <resolved>Mon, 6 Apr 2020 10:48:46 +0000</resolved>
                                    <version>1.10.0</version>
                    <version>1.11.0</version>
                                    <fixVersion>1.10.1</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>Connectors / FileSystem</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17060690" author="pnowojski" created="Tue, 17 Mar 2020 07:44:57 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://api.travis-ci.org/v3/job/663331003/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/663331003/log.txt&lt;/a&gt; , after next occurrence please bump the priority.&lt;/p&gt;</comment>
                            <comment id="17063217" author="pnowojski" created="Fri, 20 Mar 2020 09:16:17 +0000"  >&lt;p&gt;Another instance &lt;a href=&quot;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=6426&amp;amp;view=logs&amp;amp;j=6caf31d6-847a-526e-9624-468e053467d6&amp;amp;t=679407b1-ea2c-5965-2c8d-1467777fff88&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=6426&amp;amp;view=logs&amp;amp;j=6caf31d6-847a-526e-9624-468e053467d6&amp;amp;t=679407b1-ea2c-5965-2c8d-1467777fff88&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17066583" author="zjwang" created="Wed, 25 Mar 2020 10:28:44 +0000"  >&lt;p&gt;Another instance&#160;&lt;a href=&quot;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=6606&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=6606&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17067817" author="carp84" created="Thu, 26 Mar 2020 16:22:16 +0000"  >&lt;p&gt;Another instance in release-1.10 crone build: &lt;a href=&quot;https://api.travis-ci.org/v3/job/666898964/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/666898964/log.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17072774" author="aljoscha" created="Wed, 1 Apr 2020 13:26:31 +0000"  >&lt;p&gt;I added debug output in 4412c6ef4fbb208cba6e44e7a90fdfe1e07bf727. Let&apos;s see if this shows whether downloading from S3 works.&lt;/p&gt;</comment>
                            <comment id="17075093" author="rmetzger" created="Sat, 4 Apr 2020 08:46:33 +0000"  >&lt;p&gt;I guess here you have your debug output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Job with JobID 022d2eb602cba43a89cae0e99b55b8ab has finished.
Job &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;: 5050 ms
Error executing aws command: s3 cp --quiet s3:&lt;span class=&quot;code-comment&quot;&gt;//[secure]/temp/test_batch_wordcount-057d4df3-e1f0-461d-b57b-80d9fe3c14be /hostdir//temp-test-directory-25704116629/temp/test_batch_wordcount-057d4df3-e1f0-461d-b57b-80d9fe3c14be --exclude &lt;span class=&quot;code-quote&quot;&gt;&apos;*&apos;&lt;/span&gt; --include &lt;span class=&quot;code-quote&quot;&gt;&apos;*/&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;[!/]*&apos;&lt;/span&gt;
&lt;/span&gt;sort: cannot read: &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/travis/build/apache/flink/flink-end-to-end-tests/test-scripts/temp-test-directory-25704116629/temp/test_batch_wordcount-057d4df3-e1f0-461d-b57b-80d9fe3c14be*&apos;&lt;/span&gt;: No such file or directory
FAIL WordCount (hadoop): Output hash mismatch.  Got d41d8cd98f00b204e9800998ecf8427e, expected 72a690412be8928ba239c2da967328a5.
head hexdump of actual:
head: cannot open &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/travis/build/apache/flink/flink-end-to-end-tests/test-scripts/temp-test-directory-25704116629/temp/test_batch_wordcount-057d4df3-e1f0-461d-b57b-80d9fe3c14be*&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; reading: No such file or directory
5dbc1b27a868582f4415cb51c107b8be4ad2c6d79da43075a700b3e8fb423829
5dbc1b27a868582f4415cb51c107b8be4ad2c6d79da43075a700b3e8fb423829
[FAIL] Test script contains errors.
Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; errors...
No errors in log files.
Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; exceptions...
No exceptions in log files.
Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; non-empty .out files...
No non-empty .out files.
[FAIL] &lt;span class=&quot;code-quote&quot;&gt;&apos;Shaded Hadoop S3A end-to-end test&apos;&lt;/span&gt; failed after 0 minutes and 27 seconds! Test exited with exit code 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://travis-ci.org/github/apache/flink/jobs/670250246?utm_medium=notification&amp;amp;utm_source=slack&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/github/apache/flink/jobs/670250246?utm_medium=notification&amp;amp;utm_source=slack&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17076220" author="aljoscha" created="Mon, 6 Apr 2020 10:48:46 +0000"  >&lt;p&gt;I added a (tentative) fix in 1a06dd82a06d2fb80b4a878e1bc90eda72d1c307. My suspicion is that S3 is flaky so I added retries to the file fetching. Please re-open if you see this again.&lt;/p&gt;</comment>
                            <comment id="17076898" author="rmetzger" created="Tue, 7 Apr 2020 04:41:30 +0000"  >&lt;p&gt;Did the changes in 1a06dd82a06d2fb80b4a878e1bc90eda72d1c307 go through a PR?&lt;/p&gt;

&lt;p&gt;I wonder if this is related: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17010&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-17010&lt;/a&gt;&lt;br/&gt;
Since your commit, &quot;Streaming File Sink s3 end-to-end&quot; has failed twice, and has never passed.&lt;/p&gt;</comment>
                            <comment id="17077057" author="rmetzger" created="Tue, 7 Apr 2020 08:53:26 +0000"  >&lt;p&gt;Sorry for accusing you of not having PR tested 1a06dd82a06d2fb80b4a878e1bc90eda72d1c307. Even a pull request would not have revealed the issue, since the test requires S3 credentials to be set. I&apos;ve triggered a CI run to see if reverting the commit fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17010&quot; title=&quot;Streaming File Sink s3 end-to-end test fails with &amp;quot;Output hash mismatch&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17010&quot;&gt;&lt;del&gt;FLINK-17010&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17077410" author="rmetzger" created="Tue, 7 Apr 2020 16:53:00 +0000"  >&lt;p&gt;Another case: &lt;a href=&quot;https://travis-ci.org/github/apache/flink/jobs/672041886?utm_medium=notification&amp;amp;utm_source=slack&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/github/apache/flink/jobs/672041886?utm_medium=notification&amp;amp;utm_source=slack&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17077993" author="aljoscha" created="Wed, 8 Apr 2020 09:31:32 +0000"  >&lt;p&gt;&lt;tt&gt;release-1.10&lt;/tt&gt; doesn&apos;t have the fix. I will also push it there now.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17078068" author="aljoscha" created="Wed, 8 Apr 2020 11:00:58 +0000"  >&lt;p&gt;Fix on release-1.10:&#160;0ad2f0634e81921472ebb506f9d826c7ad6f69a3&lt;/p&gt;</comment>
                            <comment id="17079303" author="carp84" created="Thu, 9 Apr 2020 12:56:08 +0000"  >&lt;p&gt;Thanks for also taking care of release-1.10 branch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13296537">FLINK-17010</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0av5s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>