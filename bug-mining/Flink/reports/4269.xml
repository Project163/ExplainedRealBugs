<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:47:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-18239] Kubernetes e2e test fails with &quot;Kubernetes 1.18.3 requires conntrack to be installed in root&apos;s path&quot; </title>
                <link>https://issues.apache.org/jira/browse/FLINK-18239</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3133&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3133&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Docker version 19.03.11, build 42e35e61f3
docker-compose version 1.26.0, build d4451659
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
Starting minikube ...
* minikube v1.11.0 on Ubuntu 16.04
* Using the none driver based on user configuration
X Sorry, Kubernetes 1.18.3 requires conntrack to be installed in root&apos;s path
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
Command: start_kubernetes_if_not_running failed. Retrying...
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
Starting minikube ...
* minikube v1.11.0 on Ubuntu 16.04
* Using the none driver based on user configuration
X Sorry, Kubernetes 1.18.3 requires conntrack to be installed in root&apos;s path
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
Command: start_kubernetes_if_not_running failed. Retrying...
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
Starting minikube ...
* minikube v1.11.0 on Ubuntu 16.04
* Using the none driver based on user configuration
X Sorry, Kubernetes 1.18.3 requires conntrack to be installed in root&apos;s path
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
* There is no local cluster named &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube&quot;&lt;/span&gt;
  - To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, run: &lt;span class=&quot;code-quote&quot;&gt;&quot;minikube start&quot;&lt;/span&gt;
Command: start_kubernetes_if_not_running failed. Retrying...
Command: start_kubernetes_if_not_running failed 3 times.
Could not start minikube. Aborting...
Debugging failed Kubernetes test:
Currently existing Kubernetes resources
The connection to the server localhost:8080 was refused - did you specify the right host or port?
The connection to the server localhost:8080 was refused - did you specify the right host or port?
Flink logs:

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13310619">FLINK-18239</key>
            <summary>Kubernetes e2e test fails with &quot;Kubernetes 1.18.3 requires conntrack to be installed in root&apos;s path&quot; </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wangyang0918">Yang Wang</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Wed, 10 Jun 2020 10:43:29 +0000</created>
                <updated>Wed, 10 Jun 2020 16:53:34 +0000</updated>
                            <resolved>Wed, 10 Jun 2020 16:53:29 +0000</resolved>
                                    <version>1.11.0</version>
                    <version>1.12.0</version>
                                    <fixVersion>1.11.0</fixVersion>
                                    <component>Deployment / Kubernetes</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17130498" author="rmetzger" created="Wed, 10 Jun 2020 10:43:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3134&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3134&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17130499" author="rmetzger" created="Wed, 10 Jun 2020 10:46:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3140&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3140&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17130500" author="rmetzger" created="Wed, 10 Jun 2020 10:47:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3140&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3140&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17130501" author="rmetzger" created="Wed, 10 Jun 2020 10:48:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3144&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3144&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17130506" author="rmetzger" created="Wed, 10 Jun 2020 10:52:02 +0000"  >&lt;p&gt;Looks like K8s has upgraded from v1.17.3 to v1.18.3&lt;/p&gt;</comment>
                            <comment id="17130549" author="aljoscha" created="Wed, 10 Jun 2020 11:30:46 +0000"  >&lt;p&gt;You mean we upgraded? Or it upgraded by itself? &#128517;&lt;/p&gt;</comment>
                            <comment id="17130551" author="aljoscha" created="Wed, 10 Jun 2020 11:31:51 +0000"  >&lt;p&gt;This isn&apos;t even an instability, I think all my builds have this.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fly_in_gis&quot; class=&quot;user-hover&quot; rel=&quot;fly_in_gis&quot;&gt;fly_in_gis&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17130568" author="zentol" created="Wed, 10 Jun 2020 11:39:15 +0000"  >&lt;p&gt;Let&apos;s just pin the version in &lt;tt&gt;flink-end-to-end-tests/test-scripts/common_kubernetes.sh:setup_kubernetes_for_linux&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17130578" author="fly_in_gis" created="Wed, 10 Jun 2020 11:58:26 +0000"  >&lt;p&gt;It seems that the azure environment has changed. And it provides a default minikube with version v1.11.0. Before this we are using v1.8.2.&lt;/p&gt;

&lt;p&gt;I will try to pin the minikube version for the current K8s e2e tests.&lt;/p&gt;</comment>
                            <comment id="17130588" author="rmetzger" created="Wed, 10 Jun 2020 12:10:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;You mean we upgraded? Or it upgraded by itself? &#128517;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We are always testing against the latest stable version. If the K8s project decides to change that version, our test is affected as well.&lt;/p&gt;</comment>
                            <comment id="17130592" author="zentol" created="Wed, 10 Jun 2020 12:14:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fly_in_gis&quot; class=&quot;user-hover&quot; rel=&quot;fly_in_gis&quot;&gt;fly_in_gis&lt;/a&gt; How long do you think that will take? If it takes longer we may instead want to disable the kubernetes tests in the meantime.&lt;/p&gt;</comment>
                            <comment id="17130613" author="fly_in_gis" created="Wed, 10 Jun 2020 12:25:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; I will have a hotfix right now. But i think running the e2e tests needs more than 2 hour. We could disable the K8s e2e tests first and when it is fixed i will re-enable them.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;&#160;Actually, the minikube version does not change in our test. However, the azure provides a new version by default. Currently, we choose to use the installed minikube and skip downloading. I will fix it via always using the installed version.&lt;/p&gt;</comment>
                            <comment id="17130757" author="rmetzger" created="Wed, 10 Jun 2020 14:50:53 +0000"  >&lt;p&gt;What&apos;s the status? What you can do is change the order of e2e tests so that the K8s tests run first. Then you have a result in 40 minutes.&lt;/p&gt;</comment>
                            <comment id="17130828" author="fly_in_gis" created="Wed, 10 Jun 2020 16:01:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;&#160;I have attached a PR for this issue. And the K8s e2e tests could pass.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/flink/pull/12585&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/12585&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3200&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=3200&amp;amp;view=logs&amp;amp;j=c88eea3b-64a0-564d-0031-9fdcd7b8abee&amp;amp;t=1e2bbe5b-4657-50be-1f07-d84bfce5b1f5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17130928" author="rmetzger" created="Wed, 10 Jun 2020 16:53:23 +0000"  >&lt;p&gt;Thanks. I merged it to master: &lt;a href=&quot;https://github.com/apache/flink/commit/3dedb85000d722620d65ef41e791a8e1d1a910e2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/3dedb85000d722620d65ef41e791a8e1d1a910e2&lt;/a&gt;&lt;br/&gt;
and release-1.11: &lt;a href=&quot;https://github.com/apache/flink/commit/ea5aae232865d7fe16041a5ecd448760ae4abecc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/ea5aae232865d7fe16041a5ecd448760ae4abecc&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fpkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>