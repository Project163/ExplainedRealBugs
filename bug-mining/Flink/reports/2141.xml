<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:31:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8265] Missing jackson dependency for flink-mesos</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8265</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The Jackson library that is required by Fenzo is missing from the Flink distribution jar-file.&lt;/p&gt;

&lt;p&gt;This manifests as an exception in certain circumstances when a hard constraint is configured (&quot;mesos.constraints.hard.hostattribute&quot;).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
NoClassDefFoundError: org/apache/flink/mesos/shaded/com/fasterxml/jackson/databind/ObjectMapper
    at com.netflix.fenzo.ConstraintFailure.&amp;lt;clinit&amp;gt;(ConstraintFailure.java:35)
    at com.netflix.fenzo.AssignableVirtualMachine.findFailedHardConstraints(AssignableVirtualMachine.java:784)
    at com.netflix.fenzo.AssignableVirtualMachine.tryRequest(AssignableVirtualMachine.java:581)
    at com.netflix.fenzo.TaskScheduler.evalAssignments(TaskScheduler.java:796)
    at com.netflix.fenzo.TaskScheduler.access$1500(TaskScheduler.java:70)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13125039">FLINK-8265</key>
            <summary>Missing jackson dependency for flink-mesos</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eronwright">Eron Wright</assignee>
                                    <reporter username="eronwright">Eron Wright</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Dec 2017 20:56:53 +0000</created>
                <updated>Wed, 31 Jan 2018 13:27:43 +0000</updated>
                            <resolved>Fri, 5 Jan 2018 20:48:37 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.1</fixVersion>
                    <fixVersion>1.5.0</fixVersion>
                                    <component>Deployment / Mesos</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16291605" author="jstehler" created="Thu, 14 Dec 2017 21:12:25 +0000"  >&lt;p&gt;There is a shaded jackson class with jackson2 in the package, but none with the path shown. It seems like there is a missing include for jackson here in the flink-mesos pom?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
							&amp;lt;artifactSet&amp;gt;
								&amp;lt;includes combine.children=&lt;span class=&quot;code-quote&quot;&gt;&quot;append&quot;&lt;/span&gt;&amp;gt;
									&amp;lt;include&amp;gt;com.google.protobuf:protobuf-java&amp;lt;/include&amp;gt;
									&amp;lt;include&amp;gt;org.apache.mesos:mesos&amp;lt;/include&amp;gt;
									&amp;lt;include&amp;gt;com.netflix.fenzo:fenzo-core&amp;lt;/include&amp;gt;
								&amp;lt;/includes&amp;gt;
							&amp;lt;/artifactSet&amp;gt;
							&amp;lt;relocations combine.children=&lt;span class=&quot;code-quote&quot;&gt;&quot;append&quot;&lt;/span&gt;&amp;gt;
								&amp;lt;relocation&amp;gt;
									&amp;lt;pattern&amp;gt;com.google.protobuf&amp;lt;/pattern&amp;gt;
									&amp;lt;shadedPattern&amp;gt;org.apache.flink.mesos.shaded.com.google.protobuf&amp;lt;/shadedPattern&amp;gt;
								&amp;lt;/relocation&amp;gt;
								&amp;lt;relocation&amp;gt;
									&amp;lt;pattern&amp;gt;com.fasterxml.jackson&amp;lt;/pattern&amp;gt;
									&amp;lt;shadedPattern&amp;gt;org.apache.flink.mesos.shaded.com.fasterxml.jackson&amp;lt;/shadedPattern&amp;gt;
								&amp;lt;/relocation&amp;gt;
							&amp;lt;/relocations&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I was able as a workaround to build a simple shaded jackson deps jar relocated to &quot;org.apache.flink.mesos.shaded.com.fasterxml.jackson&quot; and adding that to my /lib.&lt;/p&gt;</comment>
                            <comment id="16304836" author="githubbot" created="Wed, 27 Dec 2017 22:35:55 +0000"  >&lt;p&gt;GitHub user EronWright opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8265&quot; title=&quot;Missing jackson dependency for flink-mesos&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8265&quot;&gt;&lt;del&gt;FLINK-8265&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Mesos&amp;#93;&lt;/span&gt; Missing jackson dependency for flink-mesos&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;br/&gt;
    Fix for missing dependency in Mesos deployments.&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;updated `pom.xml` of `flink-mesos` to include `com.fasterxml.jackson.core:*` as a shaded and relocated dependency.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;verify that `flink-dist_2.11-1.4-SNAPSHOT.jar` includes classes in `org/apache/flink/mesos/shaded/com/fasterxml/jackson/`.&lt;/li&gt;
	&lt;li&gt;This change is a trivial rework / code cleanup without any test coverage.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): yes&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: no&lt;/li&gt;
	&lt;li&gt;The serializers: no&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive):  no&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: no&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: no&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? no&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? not applicable&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/EronWright/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/EronWright/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8265&quot; title=&quot;Missing jackson dependency for flink-mesos&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8265&quot;&gt;&lt;del&gt;FLINK-8265&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5208&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit fd5d7e5e138b543bdf35d0b3a4c36fe5934f5eb6&lt;br/&gt;
Author: Eron Wright &amp;lt;eronwright@...&amp;gt;&lt;br/&gt;
Date:   2017-12-27T22:26:47Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8265&quot; title=&quot;Missing jackson dependency for flink-mesos&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8265&quot;&gt;&lt;del&gt;FLINK-8265&lt;/del&gt;&lt;/a&gt; Missing jackson dependency for flink-mesos&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16308328" author="githubbot" created="Tue, 2 Jan 2018 16:35:44 +0000"  >&lt;p&gt;Github user jaredstehler commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    looks good to me, thanks!&lt;/p&gt;</comment>
                            <comment id="16308673" author="githubbot" created="Tue, 2 Jan 2018 20:39:56 +0000"  >&lt;p&gt;Github user EronWright commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @aljoscha please review&lt;/p&gt;</comment>
                            <comment id="16309587" author="githubbot" created="Wed, 3 Jan 2018 12:34:39 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    With this change we will have Jackson shaded/relocated twice in `flink-dist`: once under `org.apacha.flink.shaded.jackson2` and once under `org.apache.flink.mesos.shaded`.&lt;/p&gt;

&lt;p&gt;    @zentol Wouldn&apos;t it suffice to change the shading pattern in `flink-mesos` to `org.apache.flink.shaded.jackson2.com.fasterxml.jackson` so that the Fenzo code is correctly changed to refer to our (already) shaded/relocated Jackson?&lt;/p&gt;</comment>
                            <comment id="16310016" author="githubbot" created="Wed, 3 Jan 2018 18:11:50 +0000"  >&lt;p&gt;Github user EronWright commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @aljoscha that might work but the independence is also nice.  In this case, Fenzo is using Jackson 2.4.5 while Flink itself is using 2.7.9.  How strongly do you feel about this?&lt;/p&gt;</comment>
                            <comment id="16311169" author="githubbot" created="Thu, 4 Jan 2018 10:56:44 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @EronWright Yes, you&apos;re right. &#128077; &lt;/p&gt;

&lt;p&gt;    I&apos;ll merge&lt;/p&gt;
</comment>
                            <comment id="16311174" author="githubbot" created="Thu, 4 Jan 2018 10:59:52 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The same commit should be applied to master, right?&lt;/p&gt;</comment>
                            <comment id="16311175" author="aljoscha" created="Thu, 4 Jan 2018 11:00:30 +0000"  >&lt;p&gt;Fixed on release-1.4 in&lt;br/&gt;
87d8dc1b0a1d915912e78d68aa99cf1965299a07&lt;/p&gt;</comment>
                            <comment id="16313850" author="aljoscha" created="Fri, 5 Jan 2018 20:48:37 +0000"  >&lt;p&gt;Fixed on master in&lt;br/&gt;
9ae4c5447a2f5aae2b65d5860f822d452a9d5af1&lt;/p&gt;</comment>
                            <comment id="16313852" author="githubbot" created="Fri, 5 Jan 2018 20:48:58 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merged, and thanks for fixing this! &#128077; &lt;/p&gt;

&lt;p&gt;    Could you please close the PR?&lt;/p&gt;</comment>
                            <comment id="16346814" author="githubbot" created="Wed, 31 Jan 2018 13:27:43 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5208&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3nx3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>