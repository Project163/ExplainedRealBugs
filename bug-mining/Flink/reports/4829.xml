<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:51:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-20059] Outdated SQL docs on aggregate functions&apos; merge</title>
                <link>https://issues.apache.org/jira/browse/FLINK-20059</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In the java docs as well as the user docs, the &lt;tt&gt;merge&lt;/tt&gt; method of an aggregation UDF is described as optional, e.g.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Merges a group of accumulator instances into one accumulator instance. This function must be implemented for data stream session window grouping aggregates and data set grouping aggregates.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;However, it seems that nowadays this method is required in more cases (I stumbled on this for a HOP window in streaming):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
StreamExecGlobalGroupAggregate.scala
      .needMerge(mergedAccOffset, mergedAccOnHeap, mergedAccExternalTypes)
StreamExecGroupWindowAggregateBase.scala
      generator.needMerge(mergedAccOffset = 0, mergedAccOnHeap = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
StreamExecIncrementalGroupAggregate.scala
      .needMerge(mergedAccOffset, mergedAccOnHeap = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, mergedAccExternalTypes)
StreamExecLocalGroupAggregate.scala
      .needMerge(mergedAccOffset = 0, mergedAccOnHeap = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13339476">FLINK-20059</key>
            <summary>Outdated SQL docs on aggregate functions&apos; merge</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jark">Jark Wu</assignee>
                                    <reporter username="nkruber">Nico Kruber</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 9 Nov 2020 09:28:44 +0000</created>
                <updated>Mon, 23 Nov 2020 03:38:21 +0000</updated>
                            <resolved>Mon, 23 Nov 2020 03:38:21 +0000</resolved>
                                    <version>1.11.2</version>
                    <version>1.12.0</version>
                                    <fixVersion>1.12.0</fixVersion>
                                    <component>Documentation</component>
                    <component>Table SQL / API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17228538" author="jark" created="Mon, 9 Nov 2020 11:58:38 +0000"  >&lt;p&gt;Yes. We should update the documentation and recommend users to implement it. Also the local-global optimization requires merge() method. &lt;/p&gt;</comment>
                            <comment id="17236204" author="twalthr" created="Fri, 20 Nov 2020 14:52:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt; can you perform the same changes also to the docs of `TableAggregateFunction`?&lt;/p&gt;</comment>
                            <comment id="17236247" author="jark" created="Fri, 20 Nov 2020 15:49:58 +0000"  >&lt;p&gt;Sure &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twalthr&quot; class=&quot;user-hover&quot; rel=&quot;twalthr&quot;&gt;twalthr&lt;/a&gt;, AFAIK, `TableAggregateFunction` also requires &quot;merge&quot; in hopping windows. But `TableAggregateFunction` doesn&apos;t support local-global optimization yet. &lt;/p&gt;</comment>
                            <comment id="17237101" author="jark" created="Mon, 23 Nov 2020 03:38:10 +0000"  >&lt;p&gt;Fixed in master (1.12.0): &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;3a066d6ec3fe46716b12e8d2756ba5f0e463fe43&lt;/li&gt;
	&lt;li&gt;d6a1fd049058cb38008289f8563a828930bd55a2&lt;/li&gt;
&lt;/ul&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ke6g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>