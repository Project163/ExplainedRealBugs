<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:14:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-29479] Support whether using system PythonPath for PyFlink jobs</title>
                <link>https://issues.apache.org/jira/browse/FLINK-29479</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;It exists PYTHONPATH env in system,like yarn/k8s images, it will cause conflict with users python depdendency sometimes. so i suggest add a config to do whether using system env of PYTHONPATH&lt;/p&gt;</description>
                <environment></environment>
        <key id="13483937">FLINK-29479</key>
            <summary>Support whether using system PythonPath for PyFlink jobs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jackylau">Jacky Lau</assignee>
                                    <reporter username="jackylau">Jacky Lau</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 30 Sep 2022 05:33:02 +0000</created>
                <updated>Wed, 26 Oct 2022 08:26:53 +0000</updated>
                            <resolved>Tue, 25 Oct 2022 11:33:00 +0000</resolved>
                                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.15.3</fixVersion>
                    <fixVersion>1.16.1</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17611358" author="jackylau" created="Fri, 30 Sep 2022 05:34:23 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dianfu&quot; class=&quot;user-hover&quot; rel=&quot;dianfu&quot;&gt;dianfu&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hxbks2ks&quot; class=&quot;user-hover&quot; rel=&quot;hxbks2ks&quot;&gt;hxbks2ks&lt;/a&gt; , what do you think?&lt;/p&gt;</comment>
                            <comment id="17611359" author="jackylau" created="Fri, 30 Sep 2022 05:35:02 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// conf like
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;/** Whether preserves system env of PYTHONPATH. */&lt;/span&gt;
@Experimental
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConfigOption&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;&amp;gt; PYTHON_PRESERVE_PYTHONPATH_ENABLED =
        ConfigOptions.key(&lt;span class=&quot;code-quote&quot;&gt;&quot;python.preserve.pythonpath.enabled&quot;&lt;/span&gt;)
                .booleanType()
                .defaultValue(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
                .withDescription(&lt;span class=&quot;code-quote&quot;&gt;&quot;Whether preserves system env of PYTHONPATH.&quot;&lt;/span&gt;);
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17611469" author="hxbks2ks" created="Fri, 30 Sep 2022 09:38:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jackylau&quot; class=&quot;user-hover&quot; rel=&quot;jackylau&quot;&gt;jackylau&lt;/a&gt; From my side, the users dependency will have a higher priority, so it shouldn&apos;t be affected by the PYTHONPATH of the system env  under normal circumstances. Could you give a more specific example of how the system&apos;s PYTHONPATH is having a bad effect in some circumstance.&lt;/p&gt;</comment>
                            <comment id="17615630" author="hxb" created="Tue, 11 Oct 2022 09:25:09 +0000"  >&lt;p&gt;I have discussed this problem with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jackylau&quot; class=&quot;user-hover&quot; rel=&quot;jackylau&quot;&gt;jackylau&lt;/a&gt;&#160; offline. I think we may really need to introduce a config to decide whether we need to use the PYTHONPATH that comes with the system, but we can reconsider the name of the config. For example, a more general meaning of config means whether to use a completely isolated and independent of all environment variables. cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dianfu&quot; class=&quot;user-hover&quot; rel=&quot;dianfu&quot;&gt;dianfu&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17620058" author="jackylau" created="Wed, 19 Oct 2022 07:29:38 +0000"  >&lt;p&gt;After researching spark, it does not rely on system environment variables. Through careful offline communication with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hxb&quot; class=&quot;user-hover&quot; rel=&quot;hxb&quot;&gt;hxb&lt;/a&gt; , we reached an agreement to use this parameter to decide whether to retain system environment variables&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// code placeholder
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConfigOption&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;&amp;gt; PYTHON_SYSTEMENV_ENABLED =
ConfigOptions.key(&lt;span class=&quot;code-quote&quot;&gt;&quot;python.systemenv.enabled &quot;&lt;/span&gt;)
.booleanType()
.defaultValue(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
.withDescription(&lt;span class=&quot;code-quote&quot;&gt;&quot;Whether uses system env in python.&quot;&lt;/span&gt;); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17623771" author="hxb" created="Tue, 25 Oct 2022 11:33:00 +0000"  >&lt;p&gt;Merged into master via 8e16cc8e424e352c5b45b46f1520ecf0edec70be&lt;/p&gt;

&lt;p&gt;Merged into release-1.16 via 9213effb32a4e80d8113ba7bf36782f33a5e197c&lt;/p&gt;

&lt;p&gt;Merged into release-1.15 via 91ccde95c7eae7f020d68592a7fa76201674724a&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18yso:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>