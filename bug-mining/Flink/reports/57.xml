<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:17:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1119] StreamComponentTest fails with NoResourceAvailableException </title>
                <link>https://issues.apache.org/jira/browse/FLINK-1119</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;On my machine, the current master branch (commit f329fe2b654eea078de085442d68dd1d5a9fc09a) fails to build due to two tests in error in StreamComponentTest.&lt;br/&gt;
Both tests fail with a NoResourceAvailableException:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;22:08:56.779 [IPC Server handler 0 on 1624] ERROR org.apache.flink.runtime.jobmanager.JobManager  - Job submission failed.
org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException: Not enough free slots available to run the job. You can decrease the &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; parallelism or increase the number of slots per TaskManager in the configuration.
	at org.apache.flink.runtime.jobmanager.scheduler.Scheduler.scheduleTask(Scheduler.java:201) ~[flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
	at org.apache.flink.runtime.jobmanager.scheduler.Scheduler.scheduleImmediately(Scheduler.java:116) ~[flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
	at org.apache.flink.runtime.executiongraph.Execution.scheduleForExecution(Execution.java:203) ~[flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
	at org.apache.flink.runtime.executiongraph.ExecutionVertex.scheduleForExecution(ExecutionVertex.java:326) ~[flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
	at org.apache.flink.runtime.executiongraph.ExecutionJobVertex.scheduleAll(ExecutionJobVertex.java:238) ~[flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
	at org.apache.flink.runtime.executiongraph.ExecutionGraph.scheduleForExecution(ExecutionGraph.java:293) ~[flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
	at org.apache.flink.runtime.jobmanager.JobManager.submitJob(JobManager.java:377) ~[flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.7.0_67]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.7.0_67]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_67]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_67]
	at org.apache.flink.runtime.ipc.RPC$Server.call(RPC.java:418) [flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
	at org.apache.flink.runtime.ipc.Server$Handler.run(Server.java:947) [flink-runtime-0.7-incubating-SNAPSHOT.jar:0.7-incubating-SNAPSHOT]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12743605">FLINK-1119</key>
            <summary>StreamComponentTest fails with NoResourceAvailableException </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="fhueske">Fabian Hueske</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Sep 2014 20:20:10 +0000</created>
                <updated>Thu, 28 Feb 2019 11:16:16 +0000</updated>
                            <resolved>Tue, 23 Sep 2014 23:50:33 +0000</resolved>
                                    <version>0.7.0-incubating</version>
                                    <fixVersion>0.7.0-incubating</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14145435" author="gyfora" created="Tue, 23 Sep 2014 21:02:23 +0000"  >&lt;p&gt;That&apos;s very interesting because the the parallelism for all operators are set to 1 and so is the number of slots. It runs for me and it ran on travis too, always. And it hasn&apos;t changed for a very long time.&lt;/p&gt;</comment>
                            <comment id="14145441" author="gyfora" created="Tue, 23 Sep 2014 21:04:04 +0000"  >&lt;p&gt;Maybe you could try playing with the parallelism settings a little bit, see if anything changes.&lt;/p&gt;</comment>
                            <comment id="14145459" author="fhueske" created="Tue, 23 Sep 2014 21:17:57 +0000"  >&lt;p&gt;Yeah, it&apos;s a bit mysterious. &lt;br/&gt;
When I run the test in Eclipse it works fine, but if I do &lt;tt&gt;mvn clean verify&lt;/tt&gt; it failed 4 out of 4 times.&lt;/p&gt;

&lt;p&gt;And due to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1104&quot; title=&quot;Eliminate Tuple1 from flink-streaming-connectors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1104&quot;&gt;&lt;del&gt;FLINK-1104&lt;/del&gt;&lt;/a&gt; it&apos;s a bit painful to debug because you need to wait for approx. 15 minutes to find out that nothing changed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14145489" author="gyfora" created="Tue, 23 Sep 2014 21:36:31 +0000"  >&lt;p&gt;Hm, when I run mvn clean verify, I get the same results, it fails .&lt;/p&gt;

&lt;p&gt;mvn package/install works just fine.&lt;/p&gt;

&lt;p&gt;Btw you probably meant &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1114&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;FLINK-1114&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14145495" author="fhueske" created="Tue, 23 Sep 2014 21:39:50 +0000"  >&lt;p&gt;Thanks for the hint! Will try &lt;tt&gt;mvn clean install&lt;/tt&gt;. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
But anyways, we should try to find out what&apos;s going on there...&lt;/p&gt;

&lt;p&gt;And yes, I meant &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1114&quot; title=&quot;ScalaStyle prevents projects from being built individually&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1114&quot;&gt;&lt;del&gt;FLINK-1114&lt;/del&gt;&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14145501" author="stephanewen" created="Tue, 23 Sep 2014 21:44:35 +0000"  >&lt;p&gt;I have added additional debug output in the test and it fails saying that not a single task manager is registered.&lt;/p&gt;

&lt;p&gt;I suspect that there is a race in the startup of the test minicluster.&lt;/p&gt;

&lt;p&gt;Let me push that and a fix to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1114&quot; title=&quot;ScalaStyle prevents projects from being built individually&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1114&quot;&gt;&lt;del&gt;FLINK-1114&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14145513" author="fhueske" created="Tue, 23 Sep 2014 21:53:52 +0000"  >&lt;p&gt;Nice, that would be great!&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="14145586" author="stephanewen" created="Tue, 23 Sep 2014 23:09:29 +0000"  >&lt;p&gt;Okay, the check &lt;tt&gt;waitForJobManagerToBecomeReady(int numSlots)&lt;/tt&gt; does not properly wait for the system to be started, because &lt;tt&gt;numSlots&lt;/tt&gt; is frequently &lt;tt&gt;-1&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;That&apos;s why it may happen that jobs are started before any taskmanager is internally registered.&lt;/p&gt;

&lt;p&gt;TaskManagers register through the heartbeat thread, and this registration and the job submisson may race.&lt;/p&gt;</comment>
                            <comment id="14145592" author="stephanewen" created="Tue, 23 Sep 2014 23:16:04 +0000"  >&lt;p&gt;I think I have a fix, test are running right now...&lt;/p&gt;</comment>
                            <comment id="14145641" author="stephanewen" created="Tue, 23 Sep 2014 23:50:33 +0000"  >&lt;p&gt;Fixed in 68801f2d153a18b7d0fab0238abfd6fbf1091a75&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20eov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>