<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:17:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-26549] INSERT INTO with VALUES leads to wrong type inference with nested types</title>
                <link>https://issues.apache.org/jira/browse/FLINK-26549</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;While working on casting, I&apos;ve found out we have an interesting bug in the insert values type inference. This comes from the &lt;tt&gt;KafkaTableITCase#testKafkaSourceSinkWithMetadata&lt;/tt&gt; (look at this version in particular &lt;a href=&quot;https://github.com/apache/flink/blob/567440115bcacb5aceaf3304e486281c7da8c14f/flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/streaming/connectors/kafka/table/KafkaTableITCase.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/567440115bcacb5aceaf3304e486281c7da8c14f/flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/streaming/connectors/kafka/table/KafkaTableITCase.java&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The test scenario is an INSERT INTO VALUES query which is also pushing some metadata to a Kafka table, in particular is writing the headers metadata.&lt;/p&gt;

&lt;p&gt;The table is declared like that:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; kafka (
  `physical_1` &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;,
  `physical_2` &lt;span class=&quot;code-keyword&quot;&gt;INT&lt;/span&gt;,
  `&lt;span class=&quot;code-keyword&quot;&gt;timestamp&lt;/span&gt;-&lt;span class=&quot;code-keyword&quot;&gt;type&lt;/span&gt;` &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt; METADATA VIRTUAL,
  `&lt;span class=&quot;code-keyword&quot;&gt;timestamp&lt;/span&gt;` &lt;span class=&quot;code-keyword&quot;&gt;TIMESTAMP&lt;/span&gt;(3) METADATA,
  `leader-epoch` &lt;span class=&quot;code-keyword&quot;&gt;INT&lt;/span&gt; METADATA VIRTUAL,
  `headers` &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, BYTES&amp;gt; METADATA,
  `&lt;span class=&quot;code-keyword&quot;&gt;partition&lt;/span&gt;` &lt;span class=&quot;code-keyword&quot;&gt;INT&lt;/span&gt; METADATA VIRTUAL,
  `topic` &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt; METADATA VIRTUAL,
  `physical_3` &lt;span class=&quot;code-keyword&quot;&gt;BOOLEAN&lt;/span&gt;
) &lt;span class=&quot;code-keyword&quot;&gt;WITH&lt;/span&gt; (
   &lt;span class=&quot;code-quote&quot;&gt;&apos;connector&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;kafka&apos;&lt;/span&gt;,
   [...]
)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The insert into query looks like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;INTO&lt;/span&gt; kafka &lt;span class=&quot;code-keyword&quot;&gt;VALUES&lt;/span&gt;
(&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;data&lt;/span&gt; 1&apos;&lt;/span&gt;, 1, &lt;span class=&quot;code-keyword&quot;&gt;TIMESTAMP&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;2020-03-08 13:12:11.123&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;[&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, x&lt;span class=&quot;code-quote&quot;&gt;&apos;C0FFEE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, x&lt;span class=&quot;code-quote&quot;&gt;&apos;BABE&apos;&lt;/span&gt;], &lt;span class=&quot;code-keyword&quot;&gt;TRUE&lt;/span&gt;),
(&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;data&lt;/span&gt; 2&apos;&lt;/span&gt;, 2, &lt;span class=&quot;code-keyword&quot;&gt;TIMESTAMP&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;2020-03-09 13:12:11.123&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;CAST&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, BYTES&amp;gt;), &lt;span class=&quot;code-keyword&quot;&gt;FALSE&lt;/span&gt;),
(&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;data&lt;/span&gt; 3&apos;&lt;/span&gt;, 3, &lt;span class=&quot;code-keyword&quot;&gt;TIMESTAMP&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;2020-03-10 13:12:11.123&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;[&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;10&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;20&apos;&lt;/span&gt;], &lt;span class=&quot;code-keyword&quot;&gt;TRUE&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that in the first row, the byte literal is of length 3, while in the last row the byte literal is of length 1.&lt;/p&gt;

&lt;p&gt;The generated plan of this INSERT INTO is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
== Abstract Syntax Tree ==
LogicalSink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- LogicalProject(physical_1=[$0], physical_2=[$1], physical_3=[$4], headers=[CAST($3):(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP], timestamp=[CAST($2):TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)])
   +- LogicalUnion(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;])
      :- LogicalProject(EXPR$0=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt;], EXPR$1=[1], EXPR$2=[2020-03-08 13:12:11.123:TIMESTAMP(3)], EXPR$3=[MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;:VARBINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;:VARBINARY(3))], EXPR$4=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;])
      :  +- LogicalValues(tuples=[[{ 0 }]])
      :- LogicalProject(EXPR$0=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt;], EXPR$1=[2], EXPR$2=[2020-03-09 13:12:11.123:TIMESTAMP(3)], EXPR$3=[&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP], EXPR$4=[&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;])
      :  +- LogicalValues(tuples=[[{ 0 }]])
      +- LogicalProject(EXPR$0=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 3&apos;&lt;/span&gt;], EXPR$1=[3], EXPR$2=[2020-03-10 13:12:11.123:TIMESTAMP(3)], EXPR$3=[MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;10&apos;&lt;/span&gt;:BINARY(1), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;20&apos;&lt;/span&gt;:BINARY(1))], EXPR$4=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;])
         +- LogicalValues(tuples=[[{ 0 }]])

== Optimized Physical Plan ==
Sink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- Union(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;], union=[physical_1, physical_2, physical_3, headers, timestamp])
   :- Calc(select=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt; AS physical_1, 1 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(CAST(MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;:VARBINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;:VARBINARY(3)) AS (CHAR(2) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; NOT NULL, BINARY(1) NOT NULL) MAP) AS (VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-08 12:12:11.123:TIMESTAMP_WITH_LOCAL_TIME_ZONE(3) AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Values(type=[RecordType(INTEGER ZERO)], tuples=[[{ 0 }]])
   :- Calc(select=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt; AS physical_1, 2 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; AS physical_3, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP AS headers, CAST(2020-03-09 12:12:11.123:TIMESTAMP_WITH_LOCAL_TIME_ZONE(3) AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Values(type=[RecordType(INTEGER ZERO)], tuples=[[{ 0 }]])
   +- Calc(select=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 3&apos;&lt;/span&gt; AS physical_1, 3 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;10&apos;&lt;/span&gt;:BINARY(1), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;20&apos;&lt;/span&gt;:BINARY(1)) AS (VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-10 12:12:11.123:TIMESTAMP_WITH_LOCAL_TIME_ZONE(3) AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
      +- Values(type=[RecordType(INTEGER ZERO)], tuples=[[{ 0 }]])

== Optimized Execution Plan ==
Sink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- Union(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;], union=[physical_1, physical_2, physical_3, headers, timestamp])
   :- Calc(select=[&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt; AS physical_1, 1 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(CAST(MAP(&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;) AS (CHAR(2), BINARY(1)) MAP) AS (VARCHAR(2147483647), VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-08 12:12:11.123 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Values(tuples=[[{ 0 }]])(reuse_id=[1])
   :- Calc(select=[&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt; AS physical_1, 2 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; AS physical_3, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647), VARBINARY(2147483647)) MAP AS headers, CAST(2020-03-09 12:12:11.123 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Reused(reference_id=[1])
   +- Calc(select=[&lt;span class=&quot;code-quote&quot;&gt;&apos;data 3&apos;&lt;/span&gt; AS physical_1, 3 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(MAP(&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;10&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;20&apos;&lt;/span&gt;) AS (VARCHAR(2147483647), VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-10 12:12:11.123 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
      +- Reused(reference_id=[1])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As you see, in the &lt;em&gt;Abstract Syntax Tree&lt;/em&gt; section a casting for the headers is injected (although unnecessary, as it should be an identity cast), but then in &lt;em&gt;Optimized Physical Plan&lt;/em&gt; another casting is injected:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CAST(CAST(MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;:VARBINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;:VARBINARY(3)) AS (CHAR(2) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; NOT NULL, BINARY(1) NOT NULL) MAP) AS (VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP) AS headers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which makes no sense, as it&apos;s casting the values of the map first to &lt;tt&gt;BINARY(1)&lt;/tt&gt; and then to &lt;tt&gt;BYTES&lt;/tt&gt;, causing to trim the last 2 bytes. Removing the last row to insert makes the VALUES type inference work properly:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
== Abstract Syntax Tree ==
LogicalSink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- LogicalProject(physical_1=[$0], physical_2=[$1], physical_3=[$4], headers=[$3], timestamp=[CAST($2):TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)])
   +- LogicalUnion(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;])
      :- LogicalProject(EXPR$0=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt;], EXPR$1=[1], EXPR$2=[2020-03-08 13:12:11.123:TIMESTAMP(3)], EXPR$3=[MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;:VARBINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;:VARBINARY(3))], EXPR$4=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;])
      :  +- LogicalValues(tuples=[[{ 0 }]])
      +- LogicalProject(EXPR$0=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt;], EXPR$1=[2], EXPR$2=[2020-03-09 13:12:11.123:TIMESTAMP(3)], EXPR$3=[&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP], EXPR$4=[&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;])
         +- LogicalValues(tuples=[[{ 0 }]])

== Optimized Physical Plan ==
Sink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- Union(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;], union=[physical_1, physical_2, physical_3, headers, timestamp])
   :- Calc(select=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt; AS physical_1, 1 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;:VARBINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;:VARBINARY(3)) AS (VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-08 12:12:11.123:TIMESTAMP_WITH_LOCAL_TIME_ZONE(3) AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Values(type=[RecordType(INTEGER ZERO)], tuples=[[{ 0 }]])
   +- Calc(select=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt; AS physical_1, 2 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; AS physical_3, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP AS headers, CAST(2020-03-09 12:12:11.123:TIMESTAMP_WITH_LOCAL_TIME_ZONE(3) AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
      +- Values(type=[RecordType(INTEGER ZERO)], tuples=[[{ 0 }]])

== Optimized Execution Plan ==
Sink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- Union(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;], union=[physical_1, physical_2, physical_3, headers, timestamp])
   :- Calc(select=[&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt; AS physical_1, 1 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(MAP(&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;) AS (VARCHAR(2147483647), VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-08 12:12:11.123 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Values(tuples=[[{ 0 }]])(reuse_id=[1])
   +- Calc(select=[&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt; AS physical_1, 2 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; AS physical_3, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647), VARBINARY(2147483647)) MAP AS headers, CAST(2020-03-09 12:12:11.123 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
      +- Reused(reference_id=[1])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;  </description>
                <environment></environment>
        <key id="13432846">FLINK-26549</key>
            <summary>INSERT INTO with VALUES leads to wrong type inference with nested types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Sergey Nuyanzin">Sergey Nuyanzin</assignee>
                                    <reporter username="slinkydeveloper">Francesco Guardiani</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 9 Mar 2022 11:21:31 +0000</created>
                <updated>Fri, 14 Jul 2023 20:51:05 +0000</updated>
                            <resolved>Fri, 14 Jul 2023 20:51:01 +0000</resolved>
                                                    <fixVersion>1.18.0</fixVersion>
                                    <component>Table SQL / Planner</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17503513" author="slinkydeveloper" created="Wed, 9 Mar 2022 11:28:42 +0000"  >&lt;p&gt;Another interesting situation, If I modify the map of the third row as following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;INTO&lt;/span&gt; kafka &lt;span class=&quot;code-keyword&quot;&gt;VALUES&lt;/span&gt;
(&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;data&lt;/span&gt; 1&apos;&lt;/span&gt;, 1, &lt;span class=&quot;code-keyword&quot;&gt;TIMESTAMP&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;2020-03-08 13:12:11.123&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;[&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, x&lt;span class=&quot;code-quote&quot;&gt;&apos;C0FFEE&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, x&lt;span class=&quot;code-quote&quot;&gt;&apos;BABE&apos;&lt;/span&gt;], &lt;span class=&quot;code-keyword&quot;&gt;TRUE&lt;/span&gt;),
(&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;data&lt;/span&gt; 2&apos;&lt;/span&gt;, 2, &lt;span class=&quot;code-keyword&quot;&gt;TIMESTAMP&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;2020-03-09 13:12:11.123&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;CAST&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, BYTES&amp;gt;), &lt;span class=&quot;code-keyword&quot;&gt;FALSE&lt;/span&gt;),
(&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;data&lt;/span&gt; 3&apos;&lt;/span&gt;, 3, &lt;span class=&quot;code-keyword&quot;&gt;TIMESTAMP&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;2020-03-10 13:12:11.123&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;[&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;102030&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;203040&apos;&lt;/span&gt;], &lt;span class=&quot;code-keyword&quot;&gt;TRUE&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;I get the following plan:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
== Abstract Syntax Tree ==
LogicalSink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- LogicalProject(physical_1=[$0], physical_2=[$1], physical_3=[$4], headers=[CAST($3):(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP], timestamp=[CAST($2):TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)])
   +- LogicalUnion(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;])
      :- LogicalProject(EXPR$0=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt;], EXPR$1=[1], EXPR$2=[2020-03-08 13:12:11.123:TIMESTAMP(3)], EXPR$3=[MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;:VARBINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;:VARBINARY(3))], EXPR$4=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;])
      :  +- LogicalValues(tuples=[[{ 0 }]])
      :- LogicalProject(EXPR$0=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt;], EXPR$1=[2], EXPR$2=[2020-03-09 13:12:11.123:TIMESTAMP(3)], EXPR$3=[&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP], EXPR$4=[&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;])
      :  +- LogicalValues(tuples=[[{ 0 }]])
      +- LogicalProject(EXPR$0=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 3&apos;&lt;/span&gt;], EXPR$1=[3], EXPR$2=[2020-03-10 13:12:11.123:TIMESTAMP(3)], EXPR$3=[MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;102030&apos;&lt;/span&gt;:BINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;203040&apos;&lt;/span&gt;:BINARY(3))], EXPR$4=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;])
         +- LogicalValues(tuples=[[{ 0 }]])

== Optimized Physical Plan ==
Sink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- Union(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;], union=[physical_1, physical_2, physical_3, headers, timestamp])
   :- Calc(select=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt; AS physical_1, 1 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(CAST(MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;:VARBINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;:VARBINARY(3)) AS (CHAR(2) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt; NOT NULL, BINARY(3) NOT NULL) MAP) AS (VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-08 12:12:11.123:TIMESTAMP_WITH_LOCAL_TIME_ZONE(3) AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Values(type=[RecordType(INTEGER ZERO)], tuples=[[{ 0 }]])
   :- Calc(select=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt; AS physical_1, 2 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; AS physical_3, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP AS headers, CAST(2020-03-09 12:12:11.123:TIMESTAMP_WITH_LOCAL_TIME_ZONE(3) AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Values(type=[RecordType(INTEGER ZERO)], tuples=[[{ 0 }]])
   +- Calc(select=[_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;data 3&apos;&lt;/span&gt; AS physical_1, 3 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(MAP(_UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;102030&apos;&lt;/span&gt;:BINARY(3), _UTF-16LE&lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;203040&apos;&lt;/span&gt;:BINARY(3)) AS (VARCHAR(2147483647) CHARACTER SET &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-16LE&quot;&lt;/span&gt;, VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-10 12:12:11.123:TIMESTAMP_WITH_LOCAL_TIME_ZONE(3) AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
      +- Values(type=[RecordType(INTEGER ZERO)], tuples=[[{ 0 }]])

== Optimized Execution Plan ==
Sink(table=[default_catalog.default_database.kafka], fields=[physical_1, physical_2, physical_3, headers, timestamp])
+- Union(all=[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;], union=[physical_1, physical_2, physical_3, headers, timestamp])
   :- Calc(select=[&lt;span class=&quot;code-quote&quot;&gt;&apos;data 1&apos;&lt;/span&gt; AS physical_1, 1 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(CAST(MAP(&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;c0ffee&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;babe&apos;&lt;/span&gt;) AS (CHAR(2), BINARY(3)) MAP) AS (VARCHAR(2147483647), VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-08 12:12:11.123 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Values(tuples=[[{ 0 }]])(reuse_id=[1])
   :- Calc(select=[&lt;span class=&quot;code-quote&quot;&gt;&apos;data 2&apos;&lt;/span&gt; AS physical_1, 2 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; AS physical_3, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:(VARCHAR(2147483647), VARBINARY(2147483647)) MAP AS headers, CAST(2020-03-09 12:12:11.123 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
   :  +- Reused(reference_id=[1])
   +- Calc(select=[&lt;span class=&quot;code-quote&quot;&gt;&apos;data 3&apos;&lt;/span&gt; AS physical_1, 3 AS physical_2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AS physical_3, CAST(MAP(&lt;span class=&quot;code-quote&quot;&gt;&apos;k1&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;102030&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;k2&apos;&lt;/span&gt;, X&lt;span class=&quot;code-quote&quot;&gt;&apos;203040&apos;&lt;/span&gt;) AS (VARCHAR(2147483647), VARBINARY(2147483647)) MAP) AS headers, CAST(2020-03-10 12:12:11.123 AS TIMESTAMP_WITH_LOCAL_TIME_ZONE(3)) AS timestamp])
      +- Reused(reference_id=[1])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which is again wrong, as it&apos;s now forcing cast to &lt;tt&gt;BINARY(3)&lt;/tt&gt;, leading the value &lt;tt&gt;x&apos;BABE&apos;&lt;/tt&gt; to be padded&lt;/p&gt;</comment>
                            <comment id="17507003" author="slinkydeveloper" created="Tue, 15 Mar 2022 15:49:49 +0000"  >&lt;p&gt;Per &lt;a href=&quot;https://issues.apache.org/jira/browse/CALCITE-5046&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CALCITE-5046&lt;/a&gt;, our issue seems caused by a old Calcite bug which has been fixed in the recent releases (&lt;a href=&quot;https://issues.apache.org/jira/browse/CALCITE-4603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CALCITE-4603&lt;/a&gt; in 1.27+). The next Calcite bump should fix it. To verify, I&apos;ve attached two patches, one testing the plan of an INSERT INTO VALUES query, and the other testing the specific type factory method (and also converting the test to java)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13041168/13041168_InsertIntoValuesTest.patch&quot; title=&quot;InsertIntoValuesTest.patch attached to FLINK-26549&quot;&gt;InsertIntoValuesTest.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13041169/13041169_FlinkTypeFactoryTest.patch&quot; title=&quot;FlinkTypeFactoryTest.patch attached to FLINK-26549&quot;&gt;FlinkTypeFactoryTest.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17739503" author="sergey nuyanzin" created="Mon, 3 Jul 2023 08:59:40 +0000"  >&lt;p&gt;Confirm that it is reproduced on Flink 1.16.x which is on Calcite 1.26.0&lt;/p&gt;

&lt;p&gt;and it is fixed in 1.17.x with Calcite 1.29.0&lt;/p&gt;

&lt;p&gt;and 1.18.x with Calcite 1.31.0&lt;/p&gt;</comment>
                            <comment id="17739573" author="sergey nuyanzin" created="Mon, 3 Jul 2023 10:34:23 +0000"  >&lt;p&gt;I added a PR with these tests to master to be sure it will not be broken in future&lt;br/&gt;
thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=slinkydeveloper&quot; class=&quot;user-hover&quot; rel=&quot;slinkydeveloper&quot;&gt;slinkydeveloper&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17743287" author="sergey nuyanzin" created="Fri, 14 Jul 2023 20:51:01 +0000"  >&lt;p&gt;Tests merged to master as &lt;a href=&quot;https://github.com/apache/flink/commit/255ed35f22839be9b683e5e12c1a02b33d1c91fa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;255ed35f22839be9b683e5e12c1a02b33d1c91fa&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13350780">FLINK-20873</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13041169" name="FlinkTypeFactoryTest.patch" size="13919" author="slinkydeveloper" created="Tue, 15 Mar 2022 15:49:48 +0000"/>
                            <attachment id="13041168" name="InsertIntoValuesTest.patch" size="2835" author="slinkydeveloper" created="Tue, 15 Mar 2022 15:49:43 +0000"/>
                            <attachment id="13041167" name="Least_restrictive_issue.patch" size="2835" author="slinkydeveloper" created="Tue, 15 Mar 2022 15:48:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10bkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>