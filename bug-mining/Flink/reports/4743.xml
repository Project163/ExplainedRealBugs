<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:50:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-19384] Source API exception signatures are inconsistent</title>
                <link>https://issues.apache.org/jira/browse/FLINK-19384</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The methods in &lt;tt&gt;org.apache.flink.api.connector.source.Source&lt;/tt&gt; have inconsistent exception signatures:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the methods to create reader and enumerator do not throw a checked exception&lt;/li&gt;
	&lt;li&gt;the method to restore an enumerator throws an &lt;tt&gt;IOException&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Either all methods should allow throwing checked IOExceptions or all methods should not allo any checked exceptions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13329025">FLINK-19384</key>
            <summary>Source API exception signatures are inconsistent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 23 Sep 2020 15:55:33 +0000</created>
                <updated>Tue, 22 Jun 2021 13:55:46 +0000</updated>
                            <resolved>Fri, 6 Nov 2020 16:44:04 +0000</resolved>
                                    <version>1.11.0</version>
                    <version>1.11.1</version>
                    <version>1.11.2</version>
                                    <fixVersion>1.12.0</fixVersion>
                                    <component>API / Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17200911" author="stephanewen" created="Wed, 23 Sep 2020 15:56:22 +0000"  >&lt;p&gt;Given the practices in the remaining Flink code base, I would lean towards allowing checked Exceptions &lt;tt&gt;IOException&lt;/tt&gt; or even &lt;tt&gt;Exception&lt;/tt&gt; in all of the three above-mentioned methods.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jqin&quot; class=&quot;user-hover&quot; rel=&quot;jqin&quot;&gt;jqin&lt;/a&gt; what do you think?&lt;/p&gt;</comment>
                            <comment id="17212776" author="becket_qin" created="Tue, 13 Oct 2020 01:53:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt; Thanks for catching this. Throwing `Exception` in all the three cases sounds a good idea. It gives the source developer a clear indication on what to do if something goes wrong.&lt;/p&gt;</comment>
                            <comment id="17212999" author="stephanewen" created="Tue, 13 Oct 2020 09:30:52 +0000"  >&lt;p&gt;Yes, signaling to the developer to just let exceptions bubble up seems a good idea here.&lt;/p&gt;</comment>
                            <comment id="17213648" author="arvid" created="Wed, 14 Oct 2020 06:15:54 +0000"  >&lt;p&gt;Please don&apos;t go the &lt;tt&gt;Exception&lt;/tt&gt; route: it&apos;s impossible to react appropriately except by resorting to Pokemon exception handling (gonna catch them all). Either list all the possible checked exceptions explicitly or go with runtime exceptions.&lt;/p&gt;

&lt;p&gt;Also read Joshua Bloch&apos;s take of exception handling in &lt;a href=&quot;https://ahdak.github.io/blog/effective-java-part-9/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Effective Java&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Item 70: &quot;Use checked exceptions for conditions from which the caller can reasonably be expected to recover. You force the caller to handle the exception in a catch block or to propagate it.&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;d argue it&apos;s impossible to recover in a reasonable way if you catch all {{Exception}}s, since that also includes all {{RuntimeException}}s, which are by this definition not recoverable.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Item 71: &quot;Ask yourself how the programmer will handle the exception ? If the programmer can&#8217;t do better than e.printStackTrace() or throw new AssertionError(), then, an unchecked exception is called for.&quot;
Without any way to detect which exception is thrown, you are pretty much forced to just propagate it.

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Item 72: &quot;Do not reuse Exception, RuntimeException , Throwable or Error directly. Treat these classes as if they were abstract.&quot;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is more about not throwing an &lt;tt&gt;Exception&lt;/tt&gt;, but at the same time it also means that if your API simply declares &lt;tt&gt;throws Exception&lt;/tt&gt;, it is well possible in the API to use it in this way.&lt;/p&gt;</comment>
                            <comment id="17213652" author="zentol" created="Wed, 14 Oct 2020 06:26:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=AHeise&quot; class=&quot;user-hover&quot; rel=&quot;AHeise&quot;&gt;AHeise&lt;/a&gt; I don&apos;t think these principles really apply here; there&apos;s no way to recover from any exception thrown from user-code anyway. All we&apos;d be doing is forcing users to wrap everything in a RuntimeException, which is just inconvenient. And don&apos;t we have to catch everything from user-code in any case?&lt;/p&gt;</comment>
                            <comment id="17213836" author="arvid" created="Wed, 14 Oct 2020 11:26:18 +0000"  >&lt;p&gt;Sorry I rechecked the code and I completely agree &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;. It&apos;s very similar to &lt;tt&gt;MapFunction&lt;/tt&gt; and co, where we also do it. &lt;/p&gt;</comment>
                            <comment id="17214242" author="stephanewen" created="Wed, 14 Oct 2020 20:05:17 +0000"  >&lt;p&gt;The Josh Bloch guide is what I try to follow in Flink&apos;s internal implementations.&lt;/p&gt;

&lt;p&gt;For user functions and the like it is as you and Chesnay said - just spare them the inconvenience to wrap into some permitted exceptions (or RuntimeException).&lt;/p&gt;</comment>
                            <comment id="17221246" author="rmetzger" created="Tue, 27 Oct 2020 08:37:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=becket_qin&quot; class=&quot;user-hover&quot; rel=&quot;becket_qin&quot;&gt;becket_qin&lt;/a&gt; what is the status of this discussion? We need to merge a fix for this this week before the feature freeze.&lt;/p&gt;</comment>
                            <comment id="17221285" author="stephanewen" created="Tue, 27 Oct 2020 10:13:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=becket_qin&quot; class=&quot;user-hover&quot; rel=&quot;becket_qin&quot;&gt;becket_qin&lt;/a&gt; I can take this unless you have already started on this one.&lt;/p&gt;</comment>
                            <comment id="17226785" author="rmetzger" created="Thu, 5 Nov 2020 15:56:09 +0000"  >&lt;p&gt;Is this blocker expected to be merged before the feature freeze on Sunday?&lt;br/&gt;
Since this is an API breaking change, I would prefer to have it resolved rather soon.&lt;/p&gt;</comment>
                            <comment id="17226839" author="stephanewen" created="Thu, 5 Nov 2020 17:05:39 +0000"  >&lt;p&gt;PR is ready: &lt;a href=&quot;https://github.com/apache/flink/pull/13953&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/13953&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17227366" author="rmetzger" created="Fri, 6 Nov 2020 12:21:05 +0000"  >&lt;p&gt;Great, thanks a lot!&lt;/p&gt;</comment>
                            <comment id="17227491" author="stephanewen" created="Fri, 6 Nov 2020 16:44:04 +0000"  >&lt;p&gt;Fixed in 1.12.0 via c965d3b25984bf97d1e8de8f1440537774c5a49a&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0iup4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>