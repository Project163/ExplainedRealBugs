<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:27:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-5690] protobuf is not shaded properly</title>
                <link>https://issues.apache.org/jira/browse/FLINK-5690</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Currently distributive contains com/google/protobuf package. Without proper shading client code could fail with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.IllegalAccessError: tried to access method com.google.protobuf.XXXX
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;create job class &quot;com.google.protobuf.TestClass&quot;&lt;/li&gt;
	&lt;li&gt;call com.google.protobuf.TextFormat.escapeText(String) method from this class&lt;/li&gt;
	&lt;li&gt;deploy job to flink cluster (usign web console for example)&lt;/li&gt;
	&lt;li&gt;run job. In logs IllegalAccessError.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Issue in package protected method and different classloaders. TestClass loaded by FlinkUserCodeClassLoader, but TextFormat class loaded by sun.misc.Launcher$AppClassLoader&lt;/p&gt;</description>
                <environment></environment>
        <key id="13039153">FLINK-5690</key>
            <summary>protobuf is not shaded properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10003">Resolved</resolution>
                                        <assignee username="aljoscha">Aljoscha Krettek</assignee>
                                    <reporter username="dernasherbrezon">Andrey</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jan 2017 10:49:52 +0000</created>
                <updated>Sun, 15 Oct 2017 00:39:50 +0000</updated>
                            <resolved>Sun, 15 Oct 2017 00:39:43 +0000</resolved>
                                    <version>1.1.4</version>
                    <version>1.3.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="15846842" author="rmetzger" created="Tue, 31 Jan 2017 13:38:00 +0000"  >&lt;p&gt;I&apos;ve once tried shading akka&apos;s protobuf dependency away: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3211?focusedCommentId=15274018&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15274018&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-3211?focusedCommentId=15274018&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15274018&lt;/a&gt;&lt;br/&gt;
It seems that this is a really hard (or maybe even unsolvable) issue. &lt;/p&gt;

&lt;p&gt;Can you shade protobuf in your application?, alternatively, can you downgrade your protobuf dependency to the same version as Flink (I think its 2.5.0) ?&lt;/p&gt;</comment>
                            <comment id="15846931" author="dernasherbrezon" created="Tue, 31 Jan 2017 15:01:24 +0000"  >&lt;p&gt;We use the same version of protobuf - 2.5.0. Anyway, there are several workarounds:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;shade protobuf in client code.&lt;/li&gt;
	&lt;li&gt;do not re-use package protected methods from protobuf.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That means cluster execution is not the same as local execution. Which in turn means jobs should be properly tested on cluster to avoid java.lang.Error&lt;/p&gt;
</comment>
                            <comment id="15846939" author="rmetzger" created="Tue, 31 Jan 2017 15:08:28 +0000"  >&lt;p&gt;Mh, that&apos;s weird. According to this answer (&lt;a href=&quot;http://stackoverflow.com/questions/7076414/java-lang-illegalaccesserror-tried-to-access-method&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/7076414/java-lang-illegalaccesserror-tried-to-access-method&lt;/a&gt;) the IllegalAccessError is caused by compile time / runtime version mismatches, not by different classloaders.&lt;/p&gt;

&lt;p&gt;Are you running Flink on YARN? &lt;br/&gt;
Flink logs the classpath on startup. Can you check if maybe your Hadoop distribution is adding a different protobuf version into the CP?&lt;/p&gt;</comment>
                            <comment id="15846985" author="dernasherbrezon" created="Tue, 31 Jan 2017 15:46:34 +0000"  >&lt;p&gt;Here is sample program to reproduce issue with package protected methods and classloaders:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; parentClassloader = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URLClassLoader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL[]{&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;C:\\.m2\\repository\\com\\google\\protobuf\\protobuf-java\\2.5.0\\protobuf-java-2.5.0.jar&quot;&lt;/span&gt;).toURI().toURL()}, ClasspathTest.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader());
        parentClassloader.loadClass(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.protobuf.TextFormat&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; childClassloader = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URLClassLoader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL[]{&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;.\\target\\test-0.0.1-SNAPSHOT.jar&quot;&lt;/span&gt;).toURI().toURL()}, parentClassloader);
        &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; clazz = childClassloader.loadClass(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.protobuf.TextFormatterTest&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; instance = clazz.newInstance();
        Method m = instance.getClass().getMethod(&lt;span class=&quot;code-quote&quot;&gt;&quot;escapeIt&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
        m.invoke(instance, &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Where com.google.protobuf.TextFormatterTest has:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void escapeIt(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; str) {
        TextFormat.escapeText(str);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15853217" author="rmetzger" created="Sun, 5 Feb 2017 12:17:12 +0000"  >&lt;p&gt;Thank you for providing an example. I&apos;ll look into the issue next week.&lt;br/&gt;
Sorry for the delay. Please let me know if this issue is blocking you.&lt;/p&gt;</comment>
                            <comment id="15855933" author="dernasherbrezon" created="Tue, 7 Feb 2017 13:02:46 +0000"  >&lt;p&gt;Not blocking actually. We were able to shade our own jars&lt;/p&gt;</comment>
                            <comment id="15855966" author="rmetzger" created="Tue, 7 Feb 2017 13:20:11 +0000"  >&lt;p&gt;Okay, cool.&lt;br/&gt;
I still tried to reproduce the issue, but I was not able to trigger the exception.&lt;br/&gt;
These are the classes I&apos;ve used:&lt;br/&gt;
&lt;a href=&quot;https://github.com/rmetzger/scratch/blob/quickstart-1.2-tests/src/main/java/com/dataartisans/ClasspathTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rmetzger/scratch/blob/quickstart-1.2-tests/src/main/java/com/dataartisans/ClasspathTest.java&lt;/a&gt;&lt;br/&gt;
and &lt;br/&gt;
&lt;a href=&quot;https://github.com/rmetzger/scratch/blob/quickstart-1.2-tests/src/main/java/com/google/protobuf/TextFormatterTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rmetzger/scratch/blob/quickstart-1.2-tests/src/main/java/com/google/protobuf/TextFormatterTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15856009" author="dernasherbrezon" created="Tue, 7 Feb 2017 13:46:08 +0000"  >&lt;p&gt;Your project contains dependency on protobuf 2.5.0 which means protobuf was loaded into ClasspathTest&apos;s classloader. So when you execute &quot;String escaped = (String) m.invoke(instance, &quot;test &apos; me &quot;);&quot; it will re-use same classloader. &lt;/p&gt;

&lt;p&gt;I propose the following two options:&lt;br/&gt;
1) create separate project with protobuf dependency and TextFormatterTest. Then reference this jar during childClassloader instantiation.&lt;br/&gt;
2) Submit into flink cluster (not local execution!) simple job which executes TextFormatterTest.escapeIt().&lt;/p&gt;</comment>
                            <comment id="15862821" author="rmetzger" created="Sun, 12 Feb 2017 15:20:38 +0000"  >&lt;p&gt;You are right. My project contained the protobuf dependency.&lt;/p&gt;

&lt;p&gt;Are you okay with closing this JIRA as &quot;won&apos;t fix&quot;? We can currently not shade protobuf away, due to our dependency to Akka.&lt;/p&gt;</comment>
                            <comment id="15863399" author="dernasherbrezon" created="Mon, 13 Feb 2017 09:46:55 +0000"  >&lt;p&gt;Hi Robert,&lt;/p&gt;

&lt;p&gt;I&apos;m okay. However I would handle several things before closing:&lt;br/&gt;
1) Update documentation re potential issues with third party libraries&lt;br/&gt;
2) I see that several other third party libraries are not shaded (apache commons lang 3, slf4j). Maybe find them all and check if they could be shaded?&lt;/p&gt;</comment>
                            <comment id="15864266" author="rmetzger" created="Mon, 13 Feb 2017 19:24:34 +0000"  >&lt;p&gt;1) I&apos;ll open a pull request.&lt;/p&gt;

&lt;p&gt;Regarding 2) This is something we could look into. &lt;br/&gt;
However, so far, almost all complaints from users were about the dependencies we inherit from Hadoop. That&apos;s why I&apos;ve tried relocating all of Hadoop&apos;s dependencies: &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5297?focusedCommentId=15815050&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15815050&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-5297?focusedCommentId=15815050&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15815050&lt;/a&gt; (with mixed results).&lt;/p&gt;

&lt;p&gt;Also, I&apos;m planning to provide a &quot;hadoop free&quot; version of Flink. As more and more of our users actually run without anything from Hadoop (for example on AWS with S3 and Docker), these users don&apos;t need all the deps we inherit from Hadoop.&lt;br/&gt;
The libraries you&apos;ve mentioned are pretty good with maintaining API compatibility. So you can mix these libraries better in one classpath.&lt;/p&gt;</comment>
                            <comment id="15864303" author="githubbot" created="Mon, 13 Feb 2017 19:51:03 +0000"  >&lt;p&gt;GitHub user rmetzger opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3300&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5690&quot; title=&quot;protobuf is not shaded properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5690&quot;&gt;&lt;del&gt;FLINK-5690&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Add note on shading to best practices guide&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rmetzger/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rmetzger/flink&lt;/a&gt; flink5690&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3300.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3300.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3300&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 504cf17d28932921da9b27ea924d777107b248ed&lt;br/&gt;
Author: Robert Metzger &amp;lt;rmetzger@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-02-13T19:50:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-5690&quot; title=&quot;protobuf is not shaded properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-5690&quot;&gt;&lt;del&gt;FLINK-5690&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Add note on shading to best practices guide&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15864312" author="rmetzger" created="Mon, 13 Feb 2017 19:54:31 +0000"  >&lt;p&gt;Feel free to review my pull request.&lt;/p&gt;</comment>
                            <comment id="15865327" author="githubbot" created="Tue, 14 Feb 2017 08:09:37 +0000"  >&lt;p&gt;Github user uce commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3300#discussion_r100977226&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3300#discussion_r100977226&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/dev/best_practices.md &amp;#8212;&lt;br/&gt;
    @@ -310,3 +310,17 @@ Next, you need to put the following jar files into the `lib/` folder:&lt;br/&gt;
     Note that you need to explicitly set the `lib/` directory when using a per job YARN cluster.&lt;/p&gt;

&lt;p&gt;     The command to submit Flink on YARN with a custom logger is: `./bin/flink run -yt $FLINK_HOME/lib &amp;lt;... remaining arguments ...&amp;gt;`&lt;br/&gt;
    +&lt;br/&gt;
    +&lt;br/&gt;
    +## Resolving Dependency Conflicts with Flink using the maven-shade-plugin.&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I think this is better for the debugging section&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://ci.apache.org/projects/flink/flink-docs-release-1.3/monitoring/debugging_classloading.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.apache.org/projects/flink/flink-docs-release-1.3/monitoring/debugging_classloading.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15865794" author="githubbot" created="Tue, 14 Feb 2017 13:53:18 +0000"  >&lt;p&gt;Github user alpinegizmo commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3300#discussion_r101038332&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3300#discussion_r101038332&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/dev/best_practices.md &amp;#8212;&lt;br/&gt;
    @@ -310,3 +310,17 @@ Next, you need to put the following jar files into the `lib/` folder:&lt;br/&gt;
     Note that you need to explicitly set the `lib/` directory when using a per job YARN cluster.&lt;/p&gt;

&lt;p&gt;     The command to submit Flink on YARN with a custom logger is: `./bin/flink run -yt $FLINK_HOME/lib &amp;lt;... remaining arguments ...&amp;gt;`&lt;br/&gt;
    +&lt;br/&gt;
    +&lt;br/&gt;
    +## Resolving Dependency Conflicts with Flink using the maven-shade-plugin.&lt;br/&gt;
    +&lt;br/&gt;
    +Apache Flink loads many classes by default into its classpath (the &lt;span class=&quot;error&quot;&gt;&amp;#91;classloading is described here in detail&amp;#93;&lt;/span&gt;(&lt;tt&gt;site.baseurl&lt;/tt&gt;/monitoring/debugging_classloading.html)). If a user uses a different version of a library that Flink is using, often `IllegalAccessExceptions` or `NoSuchMethodError` are the result.&lt;br/&gt;
    +&lt;br/&gt;
    +Through Hadoop, Flink for example depends on the `aws-sdk` library or on `protobuf-java`. If your user code is using these libraries and you run into issues we recommend relocating the dependency in your user code jar.&lt;br/&gt;
    +&lt;br/&gt;
    +Apache Maven offers the &lt;span class=&quot;error&quot;&gt;&amp;#91;maven-shade-plugin&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://maven.apache.org/plugins/maven-shade-plugin/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-shade-plugin/&lt;/a&gt;), that allows to change the package of a class &lt;b&gt;after&lt;/b&gt; compiling it (so the code you are writing is not affected by the shading). For example if you have the `com.amazonaws` packages from the aws sdk in your user code jar, the shade plugin would relocate them into the `org.myorg.shaded.com.amazonaws` package, so that your code is calling your aws sdk version.&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I suggest a minor rewording:&lt;/p&gt;

&lt;p&gt;    Apache Maven offers the &lt;span class=&quot;error&quot;&gt;&amp;#91;maven-shade-plugin&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://maven.apache.org/plugins/maven-shade-plugin/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-shade-plugin/&lt;/a&gt;), which allows one to change the package of a class &lt;b&gt;after&lt;/b&gt; compiling it ...&lt;/p&gt;</comment>
                            <comment id="15865802" author="githubbot" created="Tue, 14 Feb 2017 14:01:31 +0000"  >&lt;p&gt;Github user rmetzger commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3300&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank you for your feedback. I&apos;ve addressed both concerns and will merge the change now.&lt;/p&gt;</comment>
                            <comment id="15865813" author="rmetzger" created="Tue, 14 Feb 2017 14:05:33 +0000"  >&lt;p&gt;Merged documentation update to master in &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flink/commit/d3228144&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flink/commit/d3228144&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15865814" author="githubbot" created="Tue, 14 Feb 2017 14:06:27 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/3300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/3300&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16001826" author="rehevkor5" created="Tue, 9 May 2017 00:03:02 +0000"  >&lt;p&gt;Regarding the comment:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Mh, that&apos;s weird. According to this answer (&lt;a href=&quot;http://stackoverflow.com/questions/7076414/java-lang-illegalaccesserror-tried-to-access-method&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/7076414/java-lang-illegalaccesserror-tried-to-access-method&lt;/a&gt;) the IllegalAccessError is caused by compile time / runtime version mismatches, not by different classloaders.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You might get IllegalAccessError if the class or method is eg. protected or default scope (not public or private) and the class trying to access it is in the same package but from a different classloader. We&apos;re having this problem when we try to use a more recent version of Typesafe Config, and I&apos;m not sure why it&apos;s not using the user code classloader provided via Thread#setContextClassLoader().&lt;/p&gt;</comment>
                            <comment id="16204878" author="stephanewen" created="Sun, 15 Oct 2017 00:39:02 +0000"  >&lt;p&gt;Fixed by moving to a newer version of Akka which hides Protobuf in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7810&quot; title=&quot;Switch from custom Flakka to Akka 2.4.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7810&quot;&gt;&lt;del&gt;FLINK-7810&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39evb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7810&quot; title=&quot;Switch from custom Flakka to Akka 2.4.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7810&quot;&gt;&lt;strike&gt;FLINK-7810&lt;/strike&gt;&lt;/a&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>