<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-7396] Don&apos;t put multiple directories in HADOOP_CONF_DIR in config.sh</title>
                <link>https://issues.apache.org/jira/browse/FLINK-7396</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In config.sh we do this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# Check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; deprecated HADOOP_HOME is set.
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ -n &lt;span class=&quot;code-quote&quot;&gt;&quot;$HADOOP_HOME&quot;&lt;/span&gt; ]; then
    # HADOOP_HOME is set. Check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; its a Hadoop 1.x or 2.x HADOOP_HOME path
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ -d &lt;span class=&quot;code-quote&quot;&gt;&quot;$HADOOP_HOME/conf&quot;&lt;/span&gt; ]; then
        # its a Hadoop 1.x
        HADOOP_CONF_DIR=&lt;span class=&quot;code-quote&quot;&gt;&quot;$HADOOP_CONF_DIR:$HADOOP_HOME/conf&quot;&lt;/span&gt;
    fi
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ -d &lt;span class=&quot;code-quote&quot;&gt;&quot;$HADOOP_HOME/etc/hadoop&quot;&lt;/span&gt; ]; then
        # Its Hadoop 2.2+
        HADOOP_CONF_DIR=&lt;span class=&quot;code-quote&quot;&gt;&quot;$HADOOP_CONF_DIR:$HADOOP_HOME/etc/hadoop&quot;&lt;/span&gt;
    fi
fi
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;while our &lt;tt&gt;HadoopFileSystem&lt;/tt&gt; actually only treats this paths as a single path, not a colon-separated path: &lt;a href=&quot;https://github.com/apache/flink/blob/854b05376a459a6197e41e141bb28a9befe481ad/flink-runtime/src/main/java/org/apache/flink/runtime/fs/hdfs/HadoopFileSystem.java#L236&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/854b05376a459a6197e41e141bb28a9befe481ad/flink-runtime/src/main/java/org/apache/flink/runtime/fs/hdfs/HadoopFileSystem.java#L236&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I also think that other tools don&apos;t assume multiple paths in there and at least one user ran into the problem on their setup.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13093420">FLINK-7396</key>
            <summary>Don&apos;t put multiple directories in HADOOP_CONF_DIR in config.sh</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zjureel">Fang Yong</assignee>
                                    <reporter username="aljoscha">Aljoscha Krettek</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Aug 2017 09:52:16 +0000</created>
                <updated>Mon, 12 Mar 2018 15:18:57 +0000</updated>
                            <resolved>Mon, 12 Mar 2018 15:18:57 +0000</resolved>
                                    <version>1.3.2</version>
                    <version>1.4.0</version>
                                    <fixVersion>1.3.4</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>Deployment / Scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16121357" author="githubbot" created="Thu, 10 Aug 2017 09:41:11 +0000"  >&lt;p&gt;GitHub user zjureel opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7396&quot; title=&quot;Don&amp;#39;t put multiple directories in HADOOP_CONF_DIR in config.sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7396&quot;&gt;&lt;del&gt;FLINK-7396&lt;/del&gt;&lt;/a&gt; Don&apos;t put multiple directories in HADOOP_CONF_DIR in config.sh&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Fix put multiple directories in HADOOP_CONF_DIR in config.sh&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    &lt;b&gt;(for example&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/b&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;b&gt;Check whether HADOOP_CONF_DIR before put directory to it&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    &lt;b&gt;(Please pick either of the following options)&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;    No test case&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (no)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (no)&lt;/li&gt;
	&lt;li&gt;The serializers: (no)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (no)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (no)&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)&lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zjureel/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zjureel/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7396&quot; title=&quot;Don&amp;#39;t put multiple directories in HADOOP_CONF_DIR in config.sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7396&quot;&gt;&lt;del&gt;FLINK-7396&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4511&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4d25ba8abad862a5cd04812311043de7f83cac89&lt;br/&gt;
Author: zjureel &amp;lt;zjureel@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-08-10T08:52:43Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7396&quot; title=&quot;Don&amp;#39;t put multiple directories in HADOOP_CONF_DIR in config.sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7396&quot;&gt;&lt;del&gt;FLINK-7396&lt;/del&gt;&lt;/a&gt; Fix don&apos;t put multiple directories in HADOOP_CONF_DIR in config.sh&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16121359" author="githubbot" created="Thu, 10 Aug 2017 09:42:16 +0000"  >&lt;p&gt;Github user zjureel commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @aljoscha What do you think of this change for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7396&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-7396&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7396&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-7396&lt;/a&gt;)  Thanks&lt;/p&gt;</comment>
                            <comment id="16121543" author="githubbot" created="Thu, 10 Aug 2017 12:32:33 +0000"  >&lt;p&gt;Github user aljoscha commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511#discussion_r132439899&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511#discussion_r132439899&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-dist/src/main/flink-bin/bin/config.sh &amp;#8212;&lt;br/&gt;
    @@ -336,16 +336,18 @@ if [ -z &quot;${JVM_ARGS}&quot; ]; then&lt;br/&gt;
         JVM_ARGS=&quot;&quot;&lt;br/&gt;
     fi&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Check if deprecated HADOOP_HOME is set.&lt;br/&gt;
    -if [ -n &quot;$HADOOP_HOME&quot; ]; then&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
	&lt;li&gt;# HADOOP_HOME is set. Check if its a Hadoop 1.x or 2.x HADOOP_HOME path&lt;/li&gt;
	&lt;li&gt;if [ -d &quot;$HADOOP_HOME/conf&quot; ]; then&lt;/li&gt;
	&lt;li&gt;# its a Hadoop 1.x&lt;/li&gt;
	&lt;li&gt;HADOOP_CONF_DIR=&quot;$HADOOP_CONF_DIR:$HADOOP_HOME/conf&quot;&lt;/li&gt;
	&lt;li&gt;fi&lt;/li&gt;
	&lt;li&gt;if [ -d &quot;$HADOOP_HOME/etc/hadoop&quot; ]; then&lt;/li&gt;
	&lt;li&gt;# Its Hadoop 2.2+&lt;/li&gt;
	&lt;li&gt;HADOOP_CONF_DIR=&quot;$HADOOP_CONF_DIR:$HADOOP_HOME/etc/hadoop&quot;&lt;br/&gt;
    +# Check if deprecated HADOOP_HOME is set, and specify config path to HADOOP_CONF_DIR if it&apos;s empty.&lt;br/&gt;
    +if [ -z &quot;$HADOOP_CONF_DIR&quot; ]; then&lt;br/&gt;
    +    if [ -n &quot;$HADOOP_HOME&quot; ]; then&lt;br/&gt;
    +        # HADOOP_HOME is set. Check if its a Hadoop 1.x or 2.x HADOOP_HOME path&lt;br/&gt;
    +        if [ -d &quot;$HADOOP_HOME/conf&quot; ]; then&lt;br/&gt;
    +            # its a Hadoop 1.x&lt;br/&gt;
    +            HADOOP_CONF_DIR=&quot;$HADOOP_CONF_DIR:$HADOOP_HOME/conf&quot;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    This is still putting multiple colon-separated directories in `HADOOP_CONF_DIR`. Simply removing `$HADOOP_CONF_DIR:` here should work. Same below.&lt;/p&gt;</comment>
                            <comment id="16122845" author="githubbot" created="Fri, 11 Aug 2017 04:59:42 +0000"  >&lt;p&gt;Github user zjureel commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @aljoscha Sorry it&apos;s my fault, I have fixed it, thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16123364" author="githubbot" created="Fri, 11 Aug 2017 13:51:09 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks! I merged it. &#128515; &lt;/p&gt;</comment>
                            <comment id="16123366" author="aljoscha" created="Fri, 11 Aug 2017 13:51:48 +0000"  >&lt;p&gt;Fixed on master in &lt;br/&gt;
1de8acc3c89af22f10aed80d7016545db23a0ad5&lt;/p&gt;

&lt;p&gt;Fixed on release-1.3 in&lt;br/&gt;
7095be5d770d3fd4c536bb2b79f05555578020e2&lt;/p&gt;</comment>
                            <comment id="16123367" author="githubbot" created="Fri, 11 Aug 2017 13:52:06 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Could you please close the PR?&lt;/p&gt;</comment>
                            <comment id="16125068" author="githubbot" created="Sun, 13 Aug 2017 22:47:01 +0000"  >&lt;p&gt;Github user zjureel commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank you for merging it&lt;/p&gt;</comment>
                            <comment id="16125069" author="githubbot" created="Sun, 13 Aug 2017 22:47:01 +0000"  >&lt;p&gt;Github user zjureel closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4511&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3il0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>