<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:22:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-37822] OpenTelemetryMetricReporterITCase.testReport test failed of azure ci</title>
                <link>https://issues.apache.org/jira/browse/FLINK-37822</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=67712&amp;amp;view=logs&amp;amp;j=1c002d28-a73d-5309-26ee-10036d8476b4&amp;amp;t=71fc2793-8c46-5786-4bb1-366e40d5ca24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=67712&amp;amp;view=logs&amp;amp;j=1c002d28-a73d-5309-26ee-10036d8476b4&amp;amp;t=71fc2793-8c46-5786-4bb1-366e40d5ca24&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13618730">FLINK-37822</key>
            <summary>OpenTelemetryMetricReporterITCase.testReport test failed of azure ci</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="izeren">Aleksandr Iushmanov</assignee>
                                    <reporter username="lsy">dalongliu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 21 May 2025 03:20:58 +0000</created>
                <updated>Mon, 9 Jun 2025 08:46:14 +0000</updated>
                            <resolved>Mon, 9 Jun 2025 08:46:14 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Runtime / Metrics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17953291" author="lsy" created="Thu, 22 May 2025 01:38:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=67722&amp;amp;view=logs&amp;amp;j=20977292-985a-55fa-bea5-c9f02afad127&amp;amp;t=d8c2bef2-fd58-51ba-dd75-00275ce23b28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=67722&amp;amp;view=logs&amp;amp;j=20977292-985a-55fa-bea5-c9f02afad127&amp;amp;t=d8c2bef2-fd58-51ba-dd75-00275ce23b28&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17953294" author="lsy" created="Thu, 22 May 2025 01:43:49 +0000"  >&lt;p&gt;Hi,  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; Can you help take a look at this case?&lt;/p&gt;</comment>
                            <comment id="17953899" author="lsy" created="Sun, 25 May 2025 09:56:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=67785&amp;amp;view=logs&amp;amp;j=1c002d28-a73d-5309-26ee-10036d8476b4&amp;amp;t=71fc2793-8c46-5786-4bb1-366e40d5ca24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=67785&amp;amp;view=logs&amp;amp;j=1c002d28-a73d-5309-26ee-10036d8476b4&amp;amp;t=71fc2793-8c46-5786-4bb1-366e40d5ca24&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17954243" author="pnowojski" created="Tue, 27 May 2025 07:20:51 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lsy&quot; class=&quot;user-hover&quot; rel=&quot;lsy&quot;&gt;lsy&lt;/a&gt;, I will try to take a look later this week. I can reproduce this issue locally, when running the test in a loop, but I still wonder why has it broken now? Has something changed?&lt;/p&gt;</comment>
                            <comment id="17954561" author="lsy" created="Wed, 28 May 2025 11:40:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; Thank you.&lt;/p&gt;</comment>
                            <comment id="17956258" author="lsy" created="Thu, 5 Jun 2025 06:14:16 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; any progress?&lt;/p&gt;</comment>
                            <comment id="17956603" author="izeren" created="Fri, 6 Jun 2025 14:14:40 +0000"  >&lt;p&gt;I have checked locally. Problem with this test is coming from `.report()` invocations race condition (&lt;a href=&quot;https://github.com/apache/flink/blob/c73d3ef375911235da9c55973351887735a66185/flink-metrics/flink-metrics-otel/src/test/java/org/apache/flink/metrics/otel/OpenTelemetryMetricReporterITCase.java#L82-L89&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/c73d3ef375911235da9c55973351887735a66185/flink-metrics/flink-metrics-otel/src/test/java/org/apache/flink/metrics/otel/OpenTelemetryMetricReporterITCase.java#L82-L89&lt;/a&gt;). It can happen that first report (with 2 metrics) is logged in the output after second report (with 5 metrics). Because test utils only uses last report line for validation(&lt;a href=&quot;https://github.com/apache/flink/blob/c73d3ef375911235da9c55973351887735a66185/flink-metrics/flink-metrics-otel/src/test/java/org/apache/flink/metrics/otel/OpenTelemetryTestBase.java#L87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/c73d3ef375911235da9c55973351887735a66185/flink-metrics/flink-metrics-otel/src/test/java/org/apache/flink/metrics/otel/OpenTelemetryTestBase.java#L87&lt;/a&gt;), it &quot;misses&quot; correct report. I will have a look into how best fix it&lt;/p&gt;</comment>
                            <comment id="17956621" author="izeren" created="Fri, 6 Jun 2025 15:14:05 +0000"  >&lt;p&gt;I have raised this PR with fix: &lt;a href=&quot;https://github.com/apache/flink/pull/26650&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/26650&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17956823" author="lsy" created="Mon, 9 Jun 2025 06:02:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=67974&amp;amp;view=logs&amp;amp;j=1c002d28-a73d-5309-26ee-10036d8476b4&amp;amp;t=71fc2793-8c46-5786-4bb1-366e40d5ca24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=67974&amp;amp;view=logs&amp;amp;j=1c002d28-a73d-5309-26ee-10036d8476b4&amp;amp;t=71fc2793-8c46-5786-4bb1-366e40d5ca24&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17956844" author="pnowojski" created="Mon, 9 Jun 2025 08:45:03 +0000"  >&lt;p&gt;merged 93a34d7 into apache:master &lt;/p&gt;</comment>
                            <comment id="17956845" author="pnowojski" created="Mon, 9 Jun 2025 08:45:36 +0000"  >&lt;p&gt;Thanks for fixing the problem &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=izeren&quot; class=&quot;user-hover&quot; rel=&quot;izeren&quot;&gt;izeren&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vyhc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>