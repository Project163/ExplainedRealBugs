<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:17:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1077] Flakey test CliFrontendPackageProgramTest</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1077</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Test is error is CliFrontendPackageProgramTest # testPlanWithExternalClass()&lt;/p&gt;

&lt;p&gt;The error occurs in my recent travis builds one in 10 times or so.&lt;/p&gt;

&lt;p&gt;The following stack trace describes the error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.AssertionError
 at org.junit.Assert.fail(Assert.java:86)
 at org.junit.Assert.assertTrue(Assert.java:41)
 at org.junit.Assert.assertTrue(Assert.java:52)
 at org.apache.flink.client.CliFrontendPackageProgramTest$1.loadClass(CliFrontendPackageProgramTest.java:249)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is it possible that race conditions cause the classloader to be used for different classes as well? In any case, the test should change the assertion to assertEquals, such that the expected name is part of the error message (helps debugging what went wrong).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12737890">FLINK-1077</key>
            <summary>Flakey test CliFrontendPackageProgramTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="twalthr">Timo Walther</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Aug 2014 19:23:35 +0000</created>
                <updated>Tue, 23 Sep 2014 22:16:32 +0000</updated>
                            <resolved>Sun, 21 Sep 2014 18:31:59 +0000</resolved>
                                                    <fixVersion>0.7.0-incubating</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14135345" author="githubbot" created="Tue, 16 Sep 2014 12:11:41 +0000"  >&lt;p&gt;GitHub user twalthr opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/120&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1077&quot; title=&quot;Flakey test CliFrontendPackageProgramTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1077&quot;&gt;&lt;del&gt;FLINK-1077&lt;/del&gt;&lt;/a&gt; Improved error message if test fails&lt;/p&gt;

&lt;p&gt;    I could not reproduce the mentioned error, but if the error occurs again a better error message will be printed.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/twalthr/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/twalthr/incubator-flink&lt;/a&gt; Flink-1077&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/120.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/120.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #120&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a71ccec4a50ee73694213dc5a5a6f476a6ad5610&lt;br/&gt;
Author: twalthr &amp;lt;info@twalthr.com&amp;gt;&lt;br/&gt;
Date:   2014-09-16T12:05:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1077&quot; title=&quot;Flakey test CliFrontendPackageProgramTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1077&quot;&gt;&lt;del&gt;FLINK-1077&lt;/del&gt;&lt;/a&gt; Improved error message if test fails&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14135346" author="twalthr" created="Tue, 16 Sep 2014 12:11:46 +0000"  >&lt;p&gt;I tried to reproduce your error, but without success. I have opened a PR for an improved error output, if the error occurs again.&lt;/p&gt;

&lt;p&gt;I tried the test in eclipse multiple times as well as with the following script:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cd ~/flink/incubator-flink
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; ; &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
    echo &lt;span class=&quot;code-quote&quot;&gt;&quot;New run&quot;&lt;/span&gt;
    part=$(mvn -pl=flink-clients -Dtest=CliFrontendPackageProgramTest#testPlanWithExternalClass test)
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ! grep &lt;span class=&quot;code-quote&quot;&gt;&apos;BUILD SUCCESS&apos;&lt;/span&gt; &amp;lt;&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;$part&quot;&lt;/span&gt; ; then
         echo &lt;span class=&quot;code-quote&quot;&gt;&quot;FAILURE:&quot;&lt;/span&gt;
         echo &lt;span class=&quot;code-quote&quot;&gt;&quot;$part&quot;&lt;/span&gt;
         &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;
    fi
done
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14135364" author="twalthr" created="Tue, 16 Sep 2014 12:31:40 +0000"  >&lt;p&gt;If you still get this error, I need a more detailed description of your job/environment etc.&lt;/p&gt;</comment>
                            <comment id="14142537" author="githubbot" created="Sun, 21 Sep 2014 17:56:35 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/120#issuecomment-56306778&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/120#issuecomment-56306778&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Will merge...&lt;/p&gt;</comment>
                            <comment id="14142549" author="githubbot" created="Sun, 21 Sep 2014 18:28:15 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/120&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14142554" author="stephanewen" created="Sun, 21 Sep 2014 18:31:29 +0000"  >&lt;p&gt;I have not seen this error lately, so I assume it is not an issue any more.&lt;/p&gt;</comment>
                            <comment id="14142557" author="stephanewen" created="Sun, 21 Sep 2014 18:31:59 +0000"  >&lt;p&gt;Tests enhanced in e17575b50505be2416b9850dac2465695cdafa1b&lt;/p&gt;</comment>
                            <comment id="14145511" author="stephanewen" created="Tue, 23 Sep 2014 21:53:37 +0000"  >&lt;p&gt;Error occurred again:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.junit.ComparisonFailure: expected:&amp;lt;org.apache.[hadoop.hive.ql.io.RCFileInputForma]t&amp;gt; but was:&amp;lt;org.apache.[flink.client.CliFrontendListCancelTes]t&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seems that some class loader reuse causes it to be used for different classes as well.&lt;/p&gt;</comment>
                            <comment id="14145539" author="stephanewen" created="Tue, 23 Sep 2014 22:16:32 +0000"  >&lt;p&gt;Seems like a Mockito hickup or so... The class loader is used for a totally different mock.&lt;/p&gt;

&lt;p&gt;I changed the code to allow other classes to be loaded, if the class name is different from the expected name.&lt;/p&gt;

&lt;p&gt;Fixed in 091f2bdfa5f30d42bd5b305558eba5a77563b277&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zi27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>