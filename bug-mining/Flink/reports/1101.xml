<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:24:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-4199] Misleading messages by CLI upon job submission</title>
                <link>https://issues.apache.org/jira/browse/FLINK-4199</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Trying to submit a job jar from the client to a non-existing cluster gives the following messages. In particular the first and last lines: &quot;Cluster retrieved: Standalone cluster with JobManager at localhost/127.0.0.1:6123&quot; and &quot;Job has been submitted with&quot; are totally misleading.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Cluster retrieved: Standalone cluster with JobManager at localhost/127.0.0.1:6123
Using address localhost:6123 to connect to JobManager.
JobManager web &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; address http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8081
&lt;/span&gt;Starting execution of program
Submitting job with JobID: 9c7120e5cc55b2a9157a7e2bc5a12c9d. Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job completion.
org.apache.flink.client.program.ProgramInvocationException: The program execution failed: Communication with JobManager failed: Lost connection to the JobManager.
Job has been submitted with JobID 9c7120e5cc55b2a9157a7e2bc5a12c9d
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12988667">FLINK-4199</key>
            <summary>Misleading messages by CLI upon job submission</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mxm">Maximilian Michels</assignee>
                                    <reporter username="kkl0u">Kostas Kloudas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jul 2016 09:16:28 +0000</created>
                <updated>Tue, 19 Jul 2016 15:59:30 +0000</updated>
                            <resolved>Tue, 19 Jul 2016 15:59:29 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Command Line Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15372951" author="kkl0u" created="Tue, 12 Jul 2016 14:24:56 +0000"  >&lt;p&gt;Another related issue is that a similar misleading message is printed when the source fails or stops in the middle of the execution:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Cluster retrieved: Standalone cluster with JobManager at localhost/127.0.0.1:6123
Using address localhost:6123 to connect to JobManager.
JobManager web &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; address http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8081
&lt;/span&gt;Starting execution of program
Submitting job with JobID: 477429b836247909dd428a6cba5b923b. Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job completion.
07/12/2016 16:18:52	Job execution switched to status RUNNING.
07/12/2016 16:18:52	Source: Socket Stream -&amp;gt; Sink: Unnamed(1/1) switched to SCHEDULED
07/12/2016 16:18:52	Source: Socket Stream -&amp;gt; Sink: Unnamed(1/1) switched to DEPLOYING
07/12/2016 16:18:52	Source: Socket Stream -&amp;gt; Sink: Unnamed(1/1) switched to RUNNING
07/12/2016 16:18:58	Source: Socket Stream -&amp;gt; Sink: Unnamed(1/1) switched to FINISHED
07/12/2016 16:18:58	Job execution switched to status FINISHED.
Job has been submitted with JobID 477429b836247909dd428a6cba5b923b
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The line &quot;Job has been submitted with JobID 477429b836247909dd428a6cba5b923b&quot; should be that the job XYZ finished.&lt;/p&gt;</comment>
                            <comment id="15382416" author="mxm" created="Mon, 18 Jul 2016 15:05:53 +0000"  >&lt;p&gt;Thanks for reporting!&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;1) Cluster retrieved: Standalone cluster with JobManager at localhost/127.0.0.1:6123&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I see how this is misleading. We don&apos;t do any communication with the cluster until we submit the job. So this should be more like &quot;Cluster configuration used: ...&quot;. We don&apos;t want any communication with the cluster before we have executed the user jar interactively because the jar may not even execute.&lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;org.apache.flink.client.program.ProgramInvocationException: The program execution failed: Communication with JobManager failed: Lost connection to the JobManager.&lt;br/&gt;
Job has been submitted with JobID 9c7120e5cc55b2a9157a7e2bc5a12c9d&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;07/12/2016 16:18:58	Job execution switched to status FINISHED.&lt;br/&gt;
Job has been submitted with JobID 477429b836247909dd428a6cba5b923b&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;These are both artifacts of Flink not returning proper results for interactive programs. I&apos;m changing that.&lt;/p&gt;</comment>
                            <comment id="15382423" author="mxm" created="Mon, 18 Jul 2016 15:07:56 +0000"  >
&lt;p&gt;This is how it looks now for successful executions:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Cluster configuration: Standalone cluster with JobManager at localhost/127.0.0.1:6123
Using address localhost:6123 to connect to JobManager.
JobManager web interface address http://localhost:8081
Starting execution of program
Executing WordCount example with default input data set.
Use --input to specify file input.
Printing result to stdout. Use --output to specify output path.
Submitting job with JobID: a56b184080d9755d3f2d40c7d9092b31. Waiting for job completion.
07/18/2016 16:42:23	Job execution switched to status RUNNING.
07/18/2016 16:42:23	Source: Collection Source -&amp;gt; Flat Map(1/1) switched to SCHEDULED 
07/18/2016 16:42:23	Source: Collection Source -&amp;gt; Flat Map(1/1) switched to DEPLOYING 
07/18/2016 16:42:23	Keyed Aggregation -&amp;gt; Sink: Unnamed(1/1) switched to SCHEDULED 
07/18/2016 16:42:23	Keyed Aggregation -&amp;gt; Sink: Unnamed(1/1) switched to DEPLOYING 
07/18/2016 16:42:23	Keyed Aggregation -&amp;gt; Sink: Unnamed(1/1) switched to RUNNING 
07/18/2016 16:42:23	Source: Collection Source -&amp;gt; Flat Map(1/1) switched to RUNNING 
07/18/2016 16:42:23	Source: Collection Source -&amp;gt; Flat Map(1/1) switched to FINISHED 
07/18/2016 16:42:23	Keyed Aggregation -&amp;gt; Sink: Unnamed(1/1) switched to FINISHED 
07/18/2016 16:42:23	Job execution switched to status FINISHED.
Program execution finished
Job with JobID a56b184080d9755d3f2d40c7d9092b31 has finished.
Job Runtime: 25 ms
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is how it looks when the JobManager is not available:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Cluster configuration: Standalone cluster with JobManager at localhost/127.0.0.1:6123
Using address localhost:6123 to connect to JobManager.
JobManager web interface address http://localhost:8081
Starting execution of program
Executing WordCount example with default input data set.
Use --input to specify file input.
Printing result to stdout. Use --output to specify output path.
Submitting job with JobID: 20d070cf6a4289df4e5045c9c52cc47b. Waiting for job completion.

------------------------------------------------------------
 The program finished with the following exception:

org.apache.flink.client.program.ProgramInvocationException: The program execution failed: Communication with JobManager failed: Lost connection to the JobManager.
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="15382457" author="githubbot" created="Mon, 18 Jul 2016 15:27:37 +0000"  >&lt;p&gt;GitHub user mxm opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2264&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4199&quot; title=&quot;Misleading messages by CLI upon job submission&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4199&quot;&gt;&lt;del&gt;FLINK-4199&lt;/del&gt;&lt;/a&gt; Fix misleading CLI messages and return execution result for interactive blocking execution&lt;/p&gt;

&lt;p&gt;    *&lt;b&gt;OLD&lt;/b&gt;*&lt;br/&gt;
    ```&lt;br/&gt;
    Cluster retrieved: Standalone cluster with JobManager at localhost/127.0.0.1:6123&lt;br/&gt;
    Using address localhost:6123 to connect to JobManager.&lt;br/&gt;
    JobManager web interface address &lt;a href=&quot;http://localhost:8081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8081&lt;/a&gt;&lt;br/&gt;
    Starting execution of program&lt;br/&gt;
    Submitting job with JobID: 9c7120e5cc55b2a9157a7e2bc5a12c9d. Waiting for job completion.&lt;br/&gt;
    org.apache.flink.client.program.ProgramInvocationException: The program execution failed: Communication with JobManager failed: Lost connection to the JobManager.&lt;br/&gt;
    Job has been submitted with JobID 9c7120e5cc55b2a9157a7e2bc5a12c9d&lt;br/&gt;
    ```&lt;br/&gt;
    *&lt;b&gt;NEW&lt;/b&gt;*&lt;br/&gt;
    ```&lt;br/&gt;
    Cluster configuration: Standalone cluster with JobManager at localhost/127.0.0.1:6123&lt;br/&gt;
    Using address localhost:6123 to connect to JobManager.&lt;br/&gt;
    JobManager web interface address &lt;a href=&quot;http://localhost:8081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8081&lt;/a&gt;&lt;br/&gt;
    Starting execution of program&lt;br/&gt;
    Executing WordCount example with default input data set.&lt;br/&gt;
    Use --input to specify file input.&lt;br/&gt;
    Printing result to stdout. Use --output to specify output path.&lt;br/&gt;
    Submitting job with JobID: 20d070cf6a4289df4e5045c9c52cc47b. Waiting for job completion.&lt;/p&gt;

&lt;p&gt;    ------------------------------------------------------------&lt;br/&gt;
     The program finished with the following exception:&lt;/p&gt;

&lt;p&gt;    org.apache.flink.client.program.ProgramInvocationException: The program execution failed: Communication with JobManager failed: Lost connection to the JobManager.&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    &amp;#8212;&lt;/p&gt;

&lt;p&gt;    *&lt;b&gt;OLD&lt;/b&gt;*&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    Cluster retrieved: Standalone cluster with JobManager at localhost/127.0.0.1:6123&lt;br/&gt;
    Using address localhost:6123 to connect to JobManager.&lt;br/&gt;
    JobManager web interface address &lt;a href=&quot;http://localhost:8081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8081&lt;/a&gt;&lt;br/&gt;
    Starting execution of program&lt;br/&gt;
    Submitting job with JobID: 477429b836247909dd428a6cba5b923b. Waiting for job completion.&lt;br/&gt;
    07/12/2016 16:18:52	Job execution switched to status RUNNING.&lt;br/&gt;
    07/12/2016 16:18:52	Source: Socket Stream -&amp;gt; Sink: Unnamed(1/1) switched to SCHEDULED&lt;br/&gt;
    07/12/2016 16:18:52	Source: Socket Stream -&amp;gt; Sink: Unnamed(1/1) switched to DEPLOYING&lt;br/&gt;
    07/12/2016 16:18:52	Source: Socket Stream -&amp;gt; Sink: Unnamed(1/1) switched to RUNNING&lt;br/&gt;
    07/12/2016 16:18:58	Source: Socket Stream -&amp;gt; Sink: Unnamed(1/1) switched to FINISHED&lt;br/&gt;
    07/12/2016 16:18:58	Job execution switched to status FINISHED.&lt;br/&gt;
    Job has been submitted with JobID 477429b836247909dd428a6cba5b923b&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    *&lt;b&gt;NEW&lt;/b&gt;*&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    Cluster configuration: Standalone cluster with JobManager at localhost/127.0.0.1:6123&lt;br/&gt;
    Using address localhost:6123 to connect to JobManager.&lt;br/&gt;
    JobManager web interface address &lt;a href=&quot;http://localhost:8081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8081&lt;/a&gt;&lt;br/&gt;
    Starting execution of program&lt;br/&gt;
    Executing WordCount example with default input data set.&lt;br/&gt;
    Use --input to specify file input.&lt;br/&gt;
    Printing result to stdout. Use --output to specify output path.&lt;br/&gt;
    Submitting job with JobID: a56b184080d9755d3f2d40c7d9092b31. Waiting for job completion.&lt;br/&gt;
    07/18/2016 16:42:23	Job execution switched to status RUNNING.&lt;br/&gt;
    07/18/2016 16:42:23	Source: Collection Source -&amp;gt; Flat Map(1/1) switched to SCHEDULED &lt;br/&gt;
    07/18/2016 16:42:23	Source: Collection Source -&amp;gt; Flat Map(1/1) switched to DEPLOYING &lt;br/&gt;
    07/18/2016 16:42:23	Keyed Aggregation -&amp;gt; Sink: Unnamed(1/1) switched to SCHEDULED &lt;br/&gt;
    07/18/2016 16:42:23	Keyed Aggregation -&amp;gt; Sink: Unnamed(1/1) switched to DEPLOYING &lt;br/&gt;
    07/18/2016 16:42:23	Keyed Aggregation -&amp;gt; Sink: Unnamed(1/1) switched to RUNNING &lt;br/&gt;
    07/18/2016 16:42:23	Source: Collection Source -&amp;gt; Flat Map(1/1) switched to RUNNING &lt;br/&gt;
    07/18/2016 16:42:23	Source: Collection Source -&amp;gt; Flat Map(1/1) switched to FINISHED &lt;br/&gt;
    07/18/2016 16:42:23	Keyed Aggregation -&amp;gt; Sink: Unnamed(1/1) switched to FINISHED &lt;br/&gt;
    07/18/2016 16:42:23	Job execution switched to status FINISHED.&lt;br/&gt;
    Program execution finished&lt;br/&gt;
    Job with JobID a56b184080d9755d3f2d40c7d9092b31 has finished.&lt;br/&gt;
    Job Runtime: 25 ms&lt;br/&gt;
    ```&lt;br/&gt;
    &amp;#8212;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mxm/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mxm/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4199&quot; title=&quot;Misleading messages by CLI upon job submission&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4199&quot;&gt;&lt;del&gt;FLINK-4199&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2264.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2264.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2264&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit de68ca28f6190dbbe90adf74447423549ea2c1c9&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-07-18T13:41:12Z&lt;/p&gt;

&lt;p&gt;    save JobExecutionResult for interactive executions&lt;/p&gt;

&lt;p&gt;commit 93045337bfe61287c42b62154d4e42aa44fc6f98&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-07-18T13:41:45Z&lt;/p&gt;

&lt;p&gt;    only print Collection size in accumulator results&lt;/p&gt;

&lt;p&gt;commit 5d26f43e8ca345d905ed63e20900efe9f09ef7d4&lt;br/&gt;
Author: Maximilian Michels &amp;lt;mxm@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-07-18T14:51:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4199&quot; title=&quot;Misleading messages by CLI upon job submission&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4199&quot;&gt;&lt;del&gt;FLINK-4199&lt;/del&gt;&lt;/a&gt; change CLI message upon cluster retrieval&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15384416" author="githubbot" created="Tue, 19 Jul 2016 15:59:22 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2264&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15384417" author="mxm" created="Tue, 19 Jul 2016 15:59:30 +0000"  >&lt;p&gt;Fixed via 17589d454d00efa43cdf6116ea29ff4f513b6f20&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30ua7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>