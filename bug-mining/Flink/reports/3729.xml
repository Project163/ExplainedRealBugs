<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:43:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-16026] Travis failed due to python setup</title>
                <link>https://issues.apache.org/jira/browse/FLINK-16026</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.com/v3/job/286671652/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.com/v3/job/286671652/log.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.org/v3/job/649754603/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/v3/job/649754603/log.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://api.travis-ci.com/v3/job/286409130/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.com/v3/job/286409130/log.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Collecting avro-python3&amp;lt;2.0.0,&amp;gt;=1.8.1; python_version &amp;gt;= &quot;3.0&quot; (from apache-beam==2.19.0-&amp;gt;apache-flink==1.11.dev0) Using cached &lt;a href=&quot;https://files.pythonhosted.org/packages/31/21/d98e2515e5ca0337d7e747e8065227ee77faf5c817bbb74391899613178a/avro-python3-1.9.2.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://files.pythonhosted.org/packages/31/21/d98e2515e5ca0337d7e747e8065227ee77faf5c817bbb74391899613178a/avro-python3-1.9.2.tar.gz&lt;/a&gt; Complete output from command python setup.py egg_info: Traceback (most recent call last): File &quot;&amp;lt;string&amp;gt;&quot;, line 1, in &amp;lt;module&amp;gt; File &quot;/tmp/pip-install-d6uvsl_b/avro-python3/setup.py&quot;, line 41, in &amp;lt;module&amp;gt; import pycodestyle ModuleNotFoundError: No module named &apos;pycodestyle&apos; ---------------------------------------- Command &quot;python setup.py egg_info&quot; failed with error code 1 in /tmp/pip-install-d6uvsl_b/avro-python3/ You are using pip version 10.0.1, however version 20.0.2 is available. You should consider upgrading via the &apos;pip install --upgrade pip&apos; command.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13284969">FLINK-16026</key>
            <summary>Travis failed due to python setup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hxbks2ks">Huang Xingbo</assignee>
                                    <reporter username="lzljs3620320">Jingsong Lee</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 13 Feb 2020 04:22:36 +0000</created>
                <updated>Fri, 14 Feb 2020 12:10:20 +0000</updated>
                            <resolved>Thu, 13 Feb 2020 06:32:12 +0000</resolved>
                                                    <fixVersion>1.10.1</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17035916" author="hxbks2ks" created="Thu, 13 Feb 2020 04:54:53 +0000"  >&lt;p&gt;This issue is caused by the latest released avro package. This package is broken and it has already been discussed in avro community to release a patched version(&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-2737&quot; title=&quot;Avro Python3 - Unable to install after updating to 1.9.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-2737&quot;&gt;&lt;del&gt;AVRO-2737&lt;/del&gt;&lt;/a&gt;). However, I&apos;m not sure when the new package will be available and I suggest to limit the avro-python3 version in Flink to work around this issue. I will submit a PR ASAP.&lt;/p&gt;</comment>
                            <comment id="17035921" author="dian.fu" created="Thu, 13 Feb 2020 05:05:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt; Thanks for reporting this issue.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hxbks2ks&quot; class=&quot;user-hover&quot; rel=&quot;hxbks2ks&quot;&gt;hxbks2ks&lt;/a&gt; Thanks for the analysis and fix. +1 to limit the version of avro-python3 in PyFlink.&lt;/p&gt;</comment>
                            <comment id="17035954" author="dian.fu" created="Thu, 13 Feb 2020 06:32:12 +0000"  >&lt;p&gt;Merged to &lt;br/&gt;
master via c40b0b232f4b04102b8220ced99cc4ae638a65df&lt;br/&gt;
release-1.10 via b59e348c4d5ae2c5e2817eca768635f9d3794278&lt;/p&gt;</comment>
                            <comment id="17036058" author="zentol" created="Thu, 13 Feb 2020 09:18:52 +0000"  >&lt;p&gt;Alright guys, this was now the 3rd or 4th instance of the build process being broken because some new dependency was released.&lt;/p&gt;

&lt;p&gt;Can we do a full sweep over the entire dependency tree and prevent this from happening again?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dian.fu&quot; class=&quot;user-hover&quot; rel=&quot;dian.fu&quot;&gt;dian.fu&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jincheng&quot; class=&quot;user-hover&quot; rel=&quot;jincheng&quot;&gt;jincheng&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17036088" author="sunjincheng121" created="Thu, 13 Feb 2020 09:52:42 +0000"  >&lt;p&gt;Thanks for the reminder &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We have offline discussed about initializing all current dependencies to a fixed version before this patch. The current patch is a quick fix for Travis. Will feedback here when have the final conclusion.&lt;/p&gt;</comment>
                            <comment id="17036656" author="dian.fu" created="Fri, 14 Feb 2020 02:50:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; Thanks a lot for your suggestions. Appreciated!&lt;/p&gt;

&lt;p&gt;I have investigated this issue with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunjincheng121&quot; class=&quot;user-hover&quot; rel=&quot;sunjincheng121&quot;&gt;sunjincheng121&lt;/a&gt;&#160;offline and want to share our thoughts as following:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;It&apos;s a good idea to limit the versions of the direct dependencies and I think we have already done that in PyFlink.&lt;/li&gt;
	&lt;li&gt;It may be not a good idea to limit the versions of the transitive dependencies to a different version declared by the direct dependency:
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;We should trust the direct dependency, e.g. if apache-beam declares that it support avro-python3&amp;lt;2, we should trust that it does support all versions of avro-python3 which are less than 2.&lt;/li&gt;
		&lt;li&gt;We should not change the range of versions of the transitive dependencies declared by the direct dependency, e.g. if apache-beam declares that it supports avro-python3&amp;lt;2, it may not be a good idea to change the version limit to avro-python3&amp;lt;1.9.1 in PyFlink. This will introduce a lot of issues:
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;We have to upgrade the versions of the transitive dependencies periodically if new packages have been released&lt;/li&gt;
			&lt;li&gt;For released package of PyFlink, there is no way to upgrade the versions of the transitive dependencies any more&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;If there are exceptions for the above cases, we could address them case by case(just like this JIRA does). For example, regarding to the issue of this JIRA, it&apos;s because that avro community has released an error package. We could just disable it for the time being. This is a trade off, however, I guess most Python projects handle this kind of issues in this way.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What&apos;s your thoughts?&lt;/p&gt;</comment>
                            <comment id="17036767" author="zentol" created="Fri, 14 Feb 2020 08:00:34 +0000"  >&lt;p&gt;&lt;tt&gt;It may be not a good idea to limit the versions of the transitive dependencies to a different version declared by the direct dependency:&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I disagree.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;We should trust the direct dependency, e.g. if apache-beam declares that it support avro-python3&amp;lt;2, we should trust that it does support all versions of avro-python3 which are less than 2.&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Not a single project can guarantee that it supports any future version of another library, as they have no control over it.&lt;br/&gt;
For all we now, the next version of avro-python3 breaks the entire API.&lt;br/&gt;
This is just a broken concept, and we see the fallout of this repeatedly in this project and in the JavaScript ecosystem.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;We have to upgrade the versions of the transitive dependencies periodically if new packages have been released&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Correct, we have to ensure that when we bump a dependency everything still works. I don&apos;t consider this a bad thing.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;For released package of PyFlink, there is no way to upgrade the versions of the transitive dependencies any more&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This is not a problem imo, but a benefit. It means the release is stable and will not magically stop working 2 years down the road.&lt;/p&gt;</comment>
                            <comment id="17036942" author="dian.fu" created="Fri, 14 Feb 2020 12:10:20 +0000"  >&lt;p&gt;The management of Python dependencies is quite different from the Java dependencies. Regarding to the Java dependencies, they are bundled in the distribution and so it&apos;s fine to use any version which could work. However, for the Python dependencies, they are not bundled in the distribution and we rely on the Python dependencies provided in the execution environment for Python UDF execution. The execution environment may be shared between many applications. This means that it may not be a good idea to limit the version to a very short range if possible. For example, if we limit avro-python3 to version &amp;lt;= 1.9.1, what will happen if users want to share the Python environment between multiple applications and another application requires a high version, e.g. 1.9.2? This introduces unnecessary dependency problems for users as we limit the version just for test stability instead because that version is not supported actually. Regarding to the avro-python3 problem, it&apos;s not caused by API breaking in the new version. It was unexpected and an error package was released just by mistaken and avro community has already provided a quick fix to address this problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bftc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>