<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:32:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8847] Modules containing package-info.java are always recompiled</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8847</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;All modules that contain a &lt;tt&gt;package-info.java&lt;/tt&gt; file (that do not contain annotations which applies to &lt;b&gt;all&lt;/b&gt; instances in Flink) will always be recompiled by the &lt;tt&gt;maven-compiler-plugin&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;To detect modified files the compiler compares timestamps of the source and .class file. In the case of &lt;tt&gt;package-info.java&lt;/tt&gt; no .class file is created if it doesn&apos;t contain annotations, which the compiler interprets as a missing .class file.&lt;/p&gt;

&lt;p&gt;We can add &lt;tt&gt;-Xpkginfo:always&lt;/tt&gt; to the compiler configuration to force the generation of these files to prevent this from happening.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13142295">FLINK-8847</key>
            <summary>Modules containing package-info.java are always recompiled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="chesnay">Chesnay Schepler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Mar 2018 19:37:11 +0000</created>
                <updated>Sat, 10 Mar 2018 12:12:42 +0000</updated>
                            <resolved>Sat, 10 Mar 2018 12:12:33 +0000</resolved>
                                    <version>1.3.2</version>
                    <version>1.4.1</version>
                    <version>1.5.0</version>
                                    <fixVersion>1.4.3</fixVersion>
                    <fixVersion>1.5.0</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16387561" author="githubbot" created="Tue, 6 Mar 2018 10:08:41 +0000"  >&lt;p&gt;GitHub user zentol opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5644&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8847&quot; title=&quot;Modules containing package-info.java are always recompiled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8847&quot;&gt;&lt;del&gt;FLINK-8847&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build&amp;#93;&lt;/span&gt; Prevent unnecessary recompilation&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This PR contains 2 changes to prevent the `maven-compiler-plugin` from recompiling a module that doesn&apos;t require it.&lt;/p&gt;

&lt;p&gt;    The `maven-compiler-plugin` will now always create `.class` files for `package-info.java` files. Previously this was only done if the `.java` file contained annotations.&lt;/p&gt;

&lt;p&gt;    Having a `.java` file without a corresponding `.class` file throws of the `maven-compiler-plugin` stale source detection, as described in &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-205&quot; title=&quot;incremental compilation broken for package-info classes &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-205&quot;&gt;&lt;del&gt;MCOMPILER-205&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-205&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MCOMPILER-205&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;    Additionally, `useIncrementalCompilation` is set to false which actually enables incremental compilation, as described in &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-209&quot; title=&quot;Incremental compilation doesn&amp;#39;t work unless useIncrementalCompilation is set to &amp;#39;false&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-209&quot;&gt;MCOMPILER-209&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-209&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MCOMPILER-209&lt;/a&gt;).&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul&gt;
	&lt;li&gt;create `.class` files for all `package-info.java` files&lt;/li&gt;
	&lt;li&gt;set `useIncrementalCompilation` to false which actually enables incremental compilation&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Pick any module that contains a  `package-info.java` file (like `flink-optimizer`) and run `mvn package &amp;lt;speed options&amp;gt;` twice. The plugin should not recompile the module.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zentol/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/zentol/flink&lt;/a&gt; 8847&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5644.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5644.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5644&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 293795b5e5f57dba07e985be9e46ba2534e91eac&lt;br/&gt;
Author: zentol &amp;lt;chesnay@...&amp;gt;&lt;br/&gt;
Date:   2018-03-06T09:45:25Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8847&quot; title=&quot;Modules containing package-info.java are always recompiled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8847&quot;&gt;&lt;del&gt;FLINK-8847&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build&amp;#93;&lt;/span&gt; Always generate .class files for package-info.java&lt;/p&gt;

&lt;p&gt;commit 92d17feab6cd604fd2bd2be96d6ed35485c13b80&lt;br/&gt;
Author: zentol &amp;lt;chesnay@...&amp;gt;&lt;br/&gt;
Date:   2018-03-06T10:04:42Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build&amp;#93;&lt;/span&gt; Enable incremental compilation&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16392679" author="githubbot" created="Fri, 9 Mar 2018 10:27:26 +0000"  >&lt;p&gt;Github user kl0u commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5644&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks @zentol for taking care of it and also mentioning the related issues. &lt;br/&gt;
    LGTM! &lt;/p&gt;</comment>
                            <comment id="16392830" author="githubbot" created="Fri, 9 Mar 2018 12:42:40 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5644&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good.&lt;/p&gt;
</comment>
                            <comment id="16394144" author="zentol" created="Sat, 10 Mar 2018 12:12:33 +0000"  >&lt;p&gt;master: 870ff31a944da5eba2c228f4529a26b6ff1d6846&lt;br/&gt;
1.5: 4d0b4db975577ccca50185bd5a1654a7fce5849d&lt;br/&gt;
1.4: 430336f5746d2a2fdf68d83522b03558f05bc780&lt;/p&gt;</comment>
                            <comment id="16394146" author="githubbot" created="Sat, 10 Mar 2018 12:12:42 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5644&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12800534">MCOMPILER-209</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12800565">MCOMPILER-205</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qtv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>