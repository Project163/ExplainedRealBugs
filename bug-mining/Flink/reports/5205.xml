<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:55:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-21148] YARNSessionFIFOSecuredITCase cannot connect to BlobServer</title>
                <link>https://issues.apache.org/jira/browse/FLINK-21148</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=12483&amp;amp;view=logs&amp;amp;j=f450c1a5-64b1-5955-e215-49cb1ad5ec88&amp;amp;t=ea63c80c-957f-50d1-8f67-3671c14686b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=12483&amp;amp;view=logs&amp;amp;j=f450c1a5-64b1-5955-e215-49cb1ad5ec88&amp;amp;t=ea63c80c-957f-50d1-8f67-3671c14686b9&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.io.IOException: Could not connect to BlobServer at address 29c91476178c/172.21.0.2:44412
java.io.IOException: Could not connect to BlobServer at address 29c91476178c/172.21.0.2:44412
	at org.apache.flink.runtime.blob.BlobClient.&amp;lt;init&amp;gt;(BlobClient.java:102) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
	at org.apache.flink.runtime.blob.BlobClient.downloadFromBlobServer(BlobClient.java:137) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
	at org.apache.flink.yarn.YarnTestBase.ensureNoProhibitedStringInLogFiles(YarnTestBase.java:538)
	at org.apache.flink.yarn.YARNSessionFIFOITCase.checkForProhibitedLogContents(YARNSessionFIFOITCase.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13354616">FLINK-21148</key>
            <summary>YARNSessionFIFOSecuredITCase cannot connect to BlobServer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mapohl">Matthias Pohl</assignee>
                                    <reporter username="dwysakowicz">Dawid Wysakowicz</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 26 Jan 2021 07:53:41 +0000</created>
                <updated>Sat, 28 Aug 2021 11:12:02 +0000</updated>
                            <resolved>Wed, 31 Mar 2021 15:27:16 +0000</resolved>
                                    <version>1.11.3</version>
                    <version>1.13.0</version>
                                    <fixVersion>1.11.4</fixVersion>
                    <fixVersion>1.13.0</fixVersion>
                    <fixVersion>1.12.3</fixVersion>
                                    <component>Deployment / YARN</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17278581" author="maguowei" created="Thu, 4 Feb 2021 06:43:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=12890&amp;amp;view=logs&amp;amp;j=fc5181b0-e452-5c8f-68de-1097947f6483&amp;amp;t=62110053-334f-5295-a0ab-80dd7e2babbf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=12890&amp;amp;view=logs&amp;amp;j=fc5181b0-e452-5c8f-68de-1097947f6483&amp;amp;t=62110053-334f-5295-a0ab-80dd7e2babbf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17298823" author="mapohl" created="Wed, 10 Mar 2021 13:15:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=14079&amp;amp;view=logs&amp;amp;j=8fd975ef-f478-511d-4997-6f15fe8a1fd3&amp;amp;t=ac0fa443-5d45-5a6b-3597-0310ecc1d2ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=14079&amp;amp;view=logs&amp;amp;j=8fd975ef-f478-511d-4997-6f15fe8a1fd3&amp;amp;t=ac0fa443-5d45-5a6b-3597-0310ecc1d2ab&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17303827" author="maguowei" created="Thu, 18 Mar 2021 03:14:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=14921&amp;amp;view=logs&amp;amp;j=8fd975ef-f478-511d-4997-6f15fe8a1fd3&amp;amp;t=6f8201e9-1579-595a-9d2b-7158b26b4c57&amp;amp;l=28913&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=14921&amp;amp;view=logs&amp;amp;j=8fd975ef-f478-511d-4997-6f15fe8a1fd3&amp;amp;t=6f8201e9-1579-595a-9d2b-7158b26b4c57&amp;amp;l=28913&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17309649" author="mapohl" created="Fri, 26 Mar 2021 18:48:14 +0000"  >&lt;p&gt;I looked over the issue with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;. The actual reason seems to be that the YARN containers get &lt;a href=&quot;https://github.com/apache/flink/blob/5e08e55caede0c81100d7032257133854de1155c/flink-yarn-tests/src/test/java/org/apache/flink/yarn/YARNSessionFIFOITCase.java#L192&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;killed at the end of the test&lt;/a&gt;. There&apos;s a race condition between stopping the TaskManager and stopping the JobManager. If the JM is stopped first, there is a risk that the TM is trying to access the JM&apos;s BLOB server at that moment. It loses the connection and reports the connection problem. The exception ends up in the output of the TaskManager and will trigger the test failure.&lt;/p&gt;

&lt;p&gt;The following logs showcase this based on the build reported in the Jira issues&apos; description (application folder: &lt;tt&gt;./container_1611618440792_0002_01_000001/&lt;/tt&gt;).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[...]
23:48:07,987 [   Time-limited test] INFO  org.apache.flink.yarn.YarnTestBase                           [] - Found string [switched from state RUNNING to FINISHED] in /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-fifo-secured/flink-yarn-tests-fifo-secured-logDir-nm-0_0/application_1611618440792_0002/container_1611618440792_0002_01_000001/jobmanager.log.
23:48:07,987 [   Time-limited test] INFO  org.apache.flink.yarn.YARNSessionFIFOITCase                  [] - Two containers are running. Killing the application
23:48:07,988 [   Time-limited test] INFO  org.apache.hadoop.yarn.client.RMProxy                        [] - Connecting to ResourceManager at 29c91476178c/172.21.0.2:37502
23:48:07,991 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppImpl [] - application_1611618440792_0002 State change from RUNNING to KILLING
23:48:07,991 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmapp.attempt.RMAppAttemptImpl [] - Updating application attempt appattempt_1611618440792_0002_000001 with &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; state: KILLED
23:48:07,991 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmapp.attempt.RMAppAttemptImpl [] - appattempt_1611618440792_0002_000001 State change from RUNNING to FINAL_SAVING
23:48:07,991 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.ApplicationMasterService [] - Unregistering app attempt : appattempt_1611618440792_0002_000001
23:48:07,992 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmapp.attempt.RMAppAttemptImpl [] - appattempt_1611618440792_0002_000001 State change from FINAL_SAVING to KILLED
23:48:07,992 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppImpl [] - Updating application application_1611618440792_0002 with &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; state: KILLED
23:48:07,992 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppImpl [] - application_1611618440792_0002 State change from KILLING to FINAL_SAVING
23:48:07,992 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore [] - Storing info &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; app: application_1611618440792_0002
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmcontainer.RMContainerImpl [] - container_1611618440792_0002_01_000001 Container Transitioned from RUNNING to KILLED
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.scheduler.common.fica.FiCaSchedulerApp [] - Completed container: container_1611618440792_0002_01_000001 in state: KILLED event:KILL
23:48:07,992 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppImpl [] - application_1611618440792_0002 State change from FINAL_SAVING to KILLED
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.RMAuditLogger  [] - USER=hadoop      OPERATION=AM Released Container TARGET=SchedulerApp     RESULT=SUCCESS  APPID=application_1611618440792_0002    CONTAINERID=container_1611618440792_0002_01_000001
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.scheduler.common.fica.FiCaSchedulerNode [] - Released container container_1611618440792_0002_01_000001 of capacity &amp;lt;memory:1024, vCores:1&amp;gt; on host 29c91476178c:36323, which currently has 1 containers, &amp;lt;memory:1024, vCores:1&amp;gt; used and &amp;lt;memory:3072, vCores:665&amp;gt; avail
able, release resources=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.scheduler.fifo.FifoScheduler [] - Application attempt appattempt_1611618440792_0002_000001 released container container_1611618440792_0002_01_000001 on node: host: 29c91476178c:36323 #containers=1 available=3072 used=1024 with event: KILL
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.rmcontainer.RMContainerImpl [] - container_1611618440792_0002_01_000002 Container Transitioned from RUNNING to KILLED
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.scheduler.common.fica.FiCaSchedulerApp [] - Completed container: container_1611618440792_0002_01_000002 in state: KILLED event:KILL
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.RMAuditLogger  [] - USER=hadoop      OPERATION=AM Released Container TARGET=SchedulerApp     RESULT=SUCCESS  APPID=application_1611618440792_0002    CONTAINERID=container_1611618440792_0002_01_000002
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.scheduler.common.fica.FiCaSchedulerNode [] - Released container container_1611618440792_0002_01_000002 of capacity &amp;lt;memory:1024, vCores:1&amp;gt; on host 29c91476178c:36323, which currently has 0 containers, &amp;lt;memory:0, vCores:0&amp;gt; used and &amp;lt;memory:4096, vCores:666&amp;gt; availabl
e, release resources=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
23:48:07,992 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.scheduler.fifo.FifoScheduler [] - Application attempt appattempt_1611618440792_0002_000001 released container container_1611618440792_0002_01_000002 on node: host: 29c91476178c:36323 #containers=0 available=4096 used=0 with event: KILL
23:48:07,993 [ResourceManager Event Processor] INFO  org.apache.hadoop.yarn.server.resourcemanager.scheduler.AppSchedulingInfo [] - Application application_1611618440792_0002 requests cleared
23:48:07,993 [     pool-3-thread-4] INFO  org.apache.hadoop.yarn.server.resourcemanager.amlauncher.AMLauncher [] - Cleaning master appattempt_1611618440792_0002_000001
23:48:07,993 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.RMAuditLogger  [] - USER=hadoop        OPERATION=Application Finished - Killed TARGET=RMAppManager     RESULT=SUCCESS  APPID=application_1611618440792_0002
23:48:07,993 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.resourcemanager.RMAppManager$ApplicationSummary [] - appId=application_1611618440792_0002,name=MyCustomName,user=hadoop,queue=&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;,state=KILLED,trackingUrl=http:&lt;span class=&quot;code-comment&quot;&gt;//29c91476178c:46794/cluster/app/application_1611618440792_0002,appMasterHost=N/A,startTime=1611618467077,finishTime=16
&lt;/span&gt;11618487992,finalStatus=KILLED
23:48:07,996 [Socket Reader #1 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; port 36323] INFO  SecurityLogger.org.apache.hadoop.ipc.Server                  [] - Auth successful &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; appattempt_1611618440792_0002_000001 (auth:SIMPLE)
23:48:07,998 [Socket Reader #1 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; port 36323] INFO  SecurityLogger.org.apache.hadoop.security.authorize.ServiceAuthorizationManager [] - Authorization successful &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; appattempt_1611618440792_0002_000001 (auth:TOKEN) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; protocol=&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.yarn.api.ContainerManagementProtocolPB
23:48:08,000 [IPC Server handler 11 on 36323] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl [] - Stopping container with container Id: container_1611618440792_0002_01_000001
23:48:08,000 [IPC Server handler 11 on 36323] INFO  org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger      [] - USER=hadoop       IP=172.21.0.2   OPERATION=Stop Container Request        TARGET=ContainerManageImpl      RESULT=SUCCESS  APPID=application_1611618440792_0002    CONTAINERID=container_1611618440792_0002_01_000001
23:48:08,000 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container [] - Container container_1611618440792_0002_01_000001 transitioned from RUNNING to KILLING
23:48:08,000 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch [] - Cleaning up container container_1611618440792_0002_01_000001
23:48:08,008 [ContainersLauncher #0] WARN  org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor [] - Exit code from container container_1611618440792_0002_01_000001 is : 143
23:48:08,023 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container [] - Container container_1611618440792_0002_01_000002 transitioned from RUNNING to KILLING
23:48:08,023 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application [] - Application application_1611618440792_0002 transitioned from RUNNING to FINISHING_CONTAINERS_WAIT
23:48:08,023 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container [] - Container container_1611618440792_0002_01_000001 transitioned from KILLING to CONTAINER_CLEANEDUP_AFTER_KILL
23:48:08,023 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch [] - Cleaning up container container_1611618440792_0002_01_000002
23:48:08,029 [ContainersLauncher #1] WARN  org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor [] - Exit code from container container_1611618440792_0002_01_000002 is : 143
23:48:08,043 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container [] - Container container_1611618440792_0002_01_000002 transitioned from KILLING to CONTAINER_CLEANEDUP_AFTER_KILL
23:48:08,043 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger      [] - USER=hadoop        OPERATION=Container Finished - Killed   TARGET=ContainerImpl    RESULT=SUCCESS  APPID=application_1611618440792_0002    CONTAINERID=container_1611618440792_0002_01_000001
23:48:08,043 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container [] - Container container_1611618440792_0002_01_000001 transitioned from CONTAINER_CLEANEDUP_AFTER_KILL to DONE
23:48:08,043 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application [] - Removing container_1611618440792_0002_01_000001 from application application_1611618440792_0002
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl [] - Neither virutal-memory nor physical-memory monitoring is needed. Not running the monitor-thread
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices [] - Got event CONTAINER_STOP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; appId application_1611618440792_0002
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger      [] - USER=hadoop        OPERATION=Container Finished - Killed   TARGET=ContainerImpl    RESULT=SUCCESS  APPID=application_1611618440792_0002    CONTAINERID=container_1611618440792_0002_01_000002
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container [] - Container container_1611618440792_0002_01_000002 transitioned from CONTAINER_CLEANEDUP_AFTER_KILL to DONE
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application [] - Removing container_1611618440792_0002_01_000002 from application application_1611618440792_0002
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application [] - Application application_1611618440792_0002 transitioned from FINISHING_CONTAINERS_WAIT to APPLICATION_RESOURCES_CLEANINGUP
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl [] - Neither virutal-memory nor physical-memory monitoring is needed. Not running the monitor-thread
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices [] - Got event CONTAINER_STOP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; appId application_1611618440792_0002
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices [] - Got event APPLICATION_STOP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; appId application_1611618440792_0002
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application [] - Application application_1611618440792_0002 transitioned from APPLICATION_RESOURCES_CLEANINGUP to FINISHED
23:48:08,044 [AsyncDispatcher event handler] INFO  org.apache.hadoop.yarn.server.nodemanager.containermanager.loghandler.NonAggregatingLogHandler [] - Scheduling Log Deletion &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; application: application_1611618440792_0002, with delay of 10800 seconds
23:48:08,192 [IPC Server handler 35 on 37502] INFO  org.apache.hadoop.yarn.server.resourcemanager.RMAuditLogger  [] - USER=hadoop       IP=172.21.0.2   OPERATION=Kill Application Request      TARGET=ClientRMService  RESULT=SUCCESS  APPID=application_1611618440792_0002
23:48:08,193 [   Time-limited test] INFO  org.apache.hadoop.yarn.client.api.impl.YarnClientImpl        [] - Killed application application_1611618440792_0002
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test code identifies the job to have &lt;a href=&quot;https://github.com/apache/flink/blob/5e08e55caede0c81100d7032257133854de1155c/flink-yarn-tests/src/test/java/org/apache/flink/yarn/YARNSessionFIFOITCase.java#L170&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;switched to FINISHED&lt;/a&gt; at &lt;tt&gt;23:48:07,987&lt;/tt&gt;. It triggers the killing of the application contains.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[...]
2021-01-25 23:48:07,329 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: Custom File Source (1/1) (08dfd77d53fd5c13af15596114b0eba2) switched from SCHEDULED to DEPLOYING.
2021-01-25 23:48:07,329 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Deploying Source: Custom File Source (1/1) (attempt #0) with attempt id 08dfd77d53fd5c13af15596114b0eba2 to container_1611618440792_0002_01_000002 @ 29c91476178c (dataPort=43007) with allocation id bd438a46d7b4cd9a6b9475fbd569a340
2021-01-25 23:48:07,333 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Split Reader: Custom File Source -&amp;gt; Flat Map (1/1) (ea3611e4c721d3b510a323c5233f4795) switched from SCHEDULED to DEPLOYING.
2021-01-25 23:48:07,334 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Deploying Split Reader: Custom File Source -&amp;gt; Flat Map (1/1) (attempt #0) with attempt id ea3611e4c721d3b510a323c5233f4795 to container_1611618440792_0002_01_000002 @ 29c91476178c (dataPort=43007) with allocation id bd438a46d7b4cd9a6b9475fbd569a340
2021-01-25 23:48:07,335 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Keyed Aggregation -&amp;gt; Sink: Print to Std. Out (1/1) (3a21d01cc0bb11d6e02f18a355e19302) switched from SCHEDULED to DEPLOYING.
2021-01-25 23:48:07,335 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Deploying Keyed Aggregation -&amp;gt; Sink: Print to Std. Out (1/1) (attempt #0) with attempt id 3a21d01cc0bb11d6e02f18a355e19302 to container_1611618440792_0002_01_000002 @ 29c91476178c (dataPort=43007) with allocation id bd438a46d7b4cd9a6b9475fbd569a340
2021-01-25 23:48:07,492 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Split Reader: Custom File Source -&amp;gt; Flat Map (1/1) (ea3611e4c721d3b510a323c5233f4795) switched from DEPLOYING to RUNNING.
2021-01-25 23:48:07,493 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: Custom File Source (1/1) (08dfd77d53fd5c13af15596114b0eba2) switched from DEPLOYING to RUNNING.
2021-01-25 23:48:07,493 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Keyed Aggregation -&amp;gt; Sink: Print to Std. Out (1/1) (3a21d01cc0bb11d6e02f18a355e19302) switched from DEPLOYING to RUNNING.
2021-01-25 23:48:07,750 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: Custom File Source (1/1) (08dfd77d53fd5c13af15596114b0eba2) switched from RUNNING to FINISHED.
2021-01-25 23:48:07,788 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Split Reader: Custom File Source -&amp;gt; Flat Map (1/1) (ea3611e4c721d3b510a323c5233f4795) switched from RUNNING to FINISHED.
2021-01-25 23:48:07,802 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Keyed Aggregation -&amp;gt; Sink: Print to Std. Out (1/1) (3a21d01cc0bb11d6e02f18a355e19302) switched from RUNNING to FINISHED.
2021-01-25 23:48:07,805 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job Streaming WordCount (5d6119527046c8e3498087511c7bbe6d) switched from state RUNNING to FINISHED.
2021-01-25 23:48:07,805 INFO  org.apache.flink.runtime.resourcemanager.active.ActiveResourceManager [] - Received resource declaration &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 5d6119527046c8e3498087511c7bbe6d: []
2021-01-25 23:48:07,805 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Stopping checkpoint coordinator &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 5d6119527046c8e3498087511c7bbe6d.
2021-01-25 23:48:07,809 INFO  org.apache.flink.runtime.checkpoint.StandaloneCompletedCheckpointStore [] - Shutting down
2021-01-25 23:48:07,815 INFO  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Job 5d6119527046c8e3498087511c7bbe6d reached globally terminal state FINISHED.
2021-01-25 23:48:07,829 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Stopping the JobMaster &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job Streaming WordCount(5d6119527046c8e3498087511c7bbe6d).
2021-01-25 23:48:07,832 INFO  org.apache.flink.runtime.jobmaster.slotpool.DefaultDeclarativeSlotPool [] - Releasing slot [bd438a46d7b4cd9a6b9475fbd569a340].
2021-01-25 23:48:07,836 INFO  org.apache.flink.runtime.resourcemanager.active.ActiveResourceManager [] - Received resource declaration &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 5d6119527046c8e3498087511c7bbe6d: []
2021-01-25 23:48:07,836 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Close ResourceManager connection bbf3844d540bca1b27ead1567a8c1a62: Stopping JobMaster &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job Streaming WordCount(5d6119527046c8e3498087511c7bbe6d)..
2021-01-25 23:48:07,836 INFO  org.apache.flink.runtime.jobmaster.slotpool.DeclarativeSlotPoolBridge [] - Closing slot pool.
2021-01-25 23:48:07,837 INFO  org.apache.flink.runtime.resourcemanager.active.ActiveResourceManager [] - Disconnect job manager 00000000000000000000000000000000@akka.tcp:&lt;span class=&quot;code-comment&quot;&gt;//flink@29c91476178c:38933/user/rpc/jobmanager_2 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job 5d6119527046c8e3498087511c7bbe6d from the resource manager.
&lt;/span&gt;2021-01-25 23:48:08,008 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.
2021-01-25 23:48:08,012 INFO  org.apache.flink.runtime.blob.BlobServer                     [] - Stopped BLOB server at 0.0.0.0:38379
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The JobManager&apos;s logs (see above) show that the job finished successfully (&lt;tt&gt;2021-01-25 23:48:07,80&lt;/tt&gt;). That (or probably even the two log messages before) triggered the killing &lt;a href=&quot;https://github.com/apache/flink/blob/5e08e55caede0c81100d7032257133854de1155c/flink-yarn-tests/src/test/java/org/apache/flink/yarn/YARNSessionFIFOITCase.java#L170&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;in the test code&lt;/a&gt;.&lt;br/&gt;
The JobManager received the &lt;tt&gt;SIGTERM&lt;/tt&gt; at &lt;tt&gt;23:48:08,008&lt;/tt&gt;. The process got killed.&lt;/p&gt;

&lt;p&gt;In the meantime, the TaskManager (see below) tries to access the BLOB server but fails and prints the &lt;tt&gt;IOException&lt;/tt&gt;. That exception causes the test to fail.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[...]
2021-01-25 23:47:46,296 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Received task Source: Custom File Source (1/1)#0 (dd105d5cece2a74fcbbcc4ea8d534da8), deploy into slot with allocation id ed45ec1ca967b5cba43f39cf8b316d31.
2021-01-25 23:47:46,302 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: Custom File Source (1/1)#0 (dd105d5cece2a74fcbbcc4ea8d534da8) switched from CREATED to DEPLOYING.
2021-01-25 23:47:46,331 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Loading JAR files &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; task Source: Custom File Source (1/1)#0 (dd105d5cece2a74fcbbcc4ea8d534da8) [DEPLOYING].
2021-01-25 23:47:46,417 INFO  org.apache.flink.runtime.blob.BlobClient                     [] - Downloading cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412
2021-01-25 23:47:46,418 ERROR org.apache.flink.runtime.blob.BlobClient                     [] - Failed to fetch BLOB cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 and store it under /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-fifo-secured/flink-yarn-tests-fifo-secured-localDir-nm-0_0/usercache/hadoop/appcache/application_1611618440792_0001/blobStore-63d93518-0608-430b-b65b-01042e1c8ddb/incoming/temp-00000000 Retrying...
2021-01-25 23:47:46,418 INFO  org.apache.flink.runtime.blob.BlobClient                     [] - Downloading cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 (retry 1)
2021-01-25 23:47:46,418 ERROR org.apache.flink.runtime.blob.BlobClient                     [] - Failed to fetch BLOB cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 and store it under /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-fifo-secured/flink-yarn-tests-fifo-secured-localDir-nm-0_0/usercache/hadoop/appcache/application_1611618440792_0001/blobStore-63d93518-0608-430b-b65b-01042e1c8ddb/incoming/temp-00000000 Retrying...
2021-01-25 23:47:46,419 INFO  org.apache.flink.runtime.blob.BlobClient                     [] - Downloading cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 (retry 2)
2021-01-25 23:47:46,419 ERROR org.apache.flink.runtime.blob.BlobClient                     [] - Failed to fetch BLOB cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 and store it under /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-fifo-secured/flink-yarn-tests-fifo-secured-localDir-nm-0_0/usercache/hadoop/appcache/application_1611618440792_0001/blobStore-63d93518-0608-430b-b65b-01042e1c8ddb/incoming/temp-00000000 Retrying...
2021-01-25 23:47:46,419 INFO  org.apache.flink.runtime.blob.BlobClient                     [] - Downloading cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 (retry 3)
2021-01-25 23:47:46,419 ERROR org.apache.flink.runtime.blob.BlobClient                     [] - Failed to fetch BLOB cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 and store it under /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-fifo-secured/flink-yarn-tests-fifo-secured-localDir-nm-0_0/usercache/hadoop/appcache/application_1611618440792_0001/blobStore-63d93518-0608-430b-b65b-01042e1c8ddb/incoming/temp-00000000 Retrying...
2021-01-25 23:47:46,420 INFO  org.apache.flink.runtime.blob.BlobClient                     [] - Downloading cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 (retry 4)
2021-01-25 23:47:46,420 ERROR org.apache.flink.runtime.blob.BlobClient                     [] - Failed to fetch BLOB cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 and store it under /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-fifo-secured/flink-yarn-tests-fifo-secured-localDir-nm-0_0/usercache/hadoop/appcache/application_1611618440792_0001/blobStore-63d93518-0608-430b-b65b-01042e1c8ddb/incoming/temp-00000000 Retrying...
2021-01-25 23:47:46,420 INFO  org.apache.flink.runtime.blob.BlobClient                     [] - Downloading cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 (retry 5)
2021-01-25 23:47:46,425 INFO  org.apache.flink.runtime.taskexecutor.slot.TaskSlotTableImpl [] - Activate slot ed45ec1ca967b5cba43f39cf8b316d31.
2021-01-25 23:47:46,444 WARN  akka.remote.ReliableDeliverySupervisor                       [] - Association with remote system [akka.tcp:&lt;span class=&quot;code-comment&quot;&gt;//flink@29c91476178c:39073] has failed, address is now gated &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; [50] ms. Reason: [Disassociated]
&lt;/span&gt;2021-01-25 23:47:46,456 INFO  org.apache.flink.yarn.YarnTaskExecutorRunner                 [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.
2021-01-25 23:47:46,480 INFO  org.apache.flink.runtime.state.TaskExecutorLocalStateStoresManager [] - Shutting down TaskExecutorLocalStateStoresManager.
2021-01-25 23:47:46,420 ERROR org.apache.flink.runtime.blob.BlobClient                     [] - Failed to fetch BLOB cb6e32b193e012291c98ab3c336ff7d3/p-aef31baf37b64c9891057b48b089308791bd78e0-8235b727f34796014af8e0c5df700b56 from 29c91476178c/172.21.0.2:44412 and store it under /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-fifo-secured/flink-yarn-tests-fifo-secured-localDir-nm-0_0/usercache/hadoop/appcache/application_1611618440792_0001/blobStore-63d93518-0608-430b-b65b-01042e1c8ddb/incoming/temp-00000000 No retries left.
java.io.IOException: Could not connect to BlobServer at address 29c91476178c/172.21.0.2:44412
        at org.apache.flink.runtime.blob.BlobClient.&amp;lt;init&amp;gt;(BlobClient.java:102) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.blob.BlobClient.downloadFromBlobServer(BlobClient.java:137) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.blob.AbstractBlobCache.getFileInternal(AbstractBlobCache.java:166) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.blob.PermanentBlobCache.getFile(PermanentBlobCache.java:187) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.execution.librarycache.BlobLibraryCacheManager$LibraryCacheEntry.createUserCodeClassLoader(BlobLibraryCacheManager.java:251) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.execution.librarycache.BlobLibraryCacheManager$LibraryCacheEntry.getOrResolveClassLoader(BlobLibraryCacheManager.java:228) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.execution.librarycache.BlobLibraryCacheManager$LibraryCacheEntry.access$1100(BlobLibraryCacheManager.java:199) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.execution.librarycache.BlobLibraryCacheManager$DefaultClassLoaderLease.getOrResolveClassLoader(BlobLibraryCacheManager.java:333) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.taskmanager.Task.createUserCodeClassloader(Task.java:994) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:627) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:565) [flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) [?:1.8.0_275]
Caused by: java.net.ConnectException: Connection refused (Connection refused)
        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:1.8.0_275]
        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_275]
        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_275]
        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_275]
        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_275]
        at java.net.Socket.connect(Socket.java:607) ~[?:1.8.0_275]
        at org.apache.flink.runtime.blob.BlobClient.&amp;lt;init&amp;gt;(BlobClient.java:96) ~[flink-dist_2.11-1.13-SNAPSHOT.jar:1.13-SNAPSHOT]
        ... 11 more
2021-01-25 23:47:46,585 INFO  org.apache.flink.runtime.io.disk.FileChannelManagerImpl      [] - FileChannelManager removed spill file directory /__w/2/s/flink-yarn-tests/target/flink-yarn-tests-fifo-secured/flink-yarn-tests-fifo-secured-localDir-nm-0_0/usercache/hadoop/appcache/application_1611618440792_0001/flink-netty-shuffle-84c8d5e6-6022-4af8-be0b-9f7b6a5f5b
1a
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The only strange thing is that the timetamp is not aligned. The TM receives the &lt;tt&gt;SIGTERM&lt;/tt&gt; at &lt;tt&gt;23:47:46,456&lt;/tt&gt;, ~22s earlier than the JobManager and even earlier than the test which is triggering the killing. It looks like there are two test running on the same application nodes. There are also four subfolders &lt;tt&gt;container_1611618440792_000*_01_000002/&lt;/tt&gt; containg 2 &lt;tt&gt;taskmanager.log&lt;/tt&gt; and 2 &lt;tt&gt;jobmanager.log&lt;/tt&gt;. Could it be that two Yarn tests are running in parallel and one killing triggered the killing of the other one? The second &lt;tt&gt;taskmanager.log&lt;/tt&gt; also received a &lt;tt&gt;SIGTERM&lt;/tt&gt; but at &lt;tt&gt;23:48:08,029&lt;/tt&gt; which would match our timestamps of the &lt;tt&gt;jobmanager.log&lt;/tt&gt; referred to above.&lt;/p&gt;</comment>
                            <comment id="17310577" author="mapohl" created="Mon, 29 Mar 2021 11:20:23 +0000"  >&lt;p&gt;I re-iterated over the problem: The actual test failing (in the build referred to in the Jira issues description) is &lt;tt&gt;YARNSessionFIFOSecuredITCase.testDetachedModeSecureWithPreInstallKeytab&lt;/tt&gt;. The test run takes too long which triggers the timeout of 10 seconds resulting in killing the corresponding YARN containers. The JM gets killed first (&lt;tt&gt;2021-01-25 23:47:46,001&lt;/tt&gt;). The TM tries to connect to the &lt;tt&gt;BlobServer&lt;/tt&gt; (&lt;tt&gt;2021-01-25 23:47:46,417&lt;/tt&gt;) in the meantime resulting into the &lt;tt&gt;java.io.IOException: Could not connect to BlobServer at address&lt;/tt&gt; after a few retries. The exceptions trigger the test failure in the end. I added the relevant log files to the issue.&lt;/p&gt;

&lt;p&gt;My previous findings having two containers (i.e. &lt;tt&gt;container_1611618440792_0001&lt;/tt&gt; and &lt;tt&gt;container_1611618440792_0002&lt;/tt&gt;) came due to the fact that &lt;tt&gt;YARNSessionFIFOSecuredITCase&lt;/tt&gt; runs multiple tests. The next test was already triggered while cleaning up the failed application.&lt;/p&gt;

&lt;p&gt;I attached the extracted logs for the &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=12483&amp;amp;view=logs&amp;amp;j=f450c1a5-64b1-5955-e215-49cb1ad5ec88&amp;amp;t=ea63c80c-957f-50d1-8f67-3671c14686b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;failed build from the Jira issue&apos;s description&lt;/a&gt; to make the verification of my findings easier.&lt;/p&gt;

&lt;p&gt;I made the test fail early when reaching the timeout. Additionally, I increased the timeout to fix the actual problem.&lt;/p&gt;</comment>
                            <comment id="17312467" author="zentol" created="Wed, 31 Mar 2021 15:27:16 +0000"  >&lt;p&gt;master:&lt;br/&gt;
ae2b376efebd70b68d63e56003c9c1f15afd2702&lt;br/&gt;
a39dfe94ad2a5b6418590e088790fd05dd21fb03&lt;br/&gt;
1828c6be560ea1e5c0d3aaf44e90b1bd1435f90f&lt;br/&gt;
9439c70a78d0f85779a16eb9ca67e02c04c61880&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13362237">FLINK-21598</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13023111" name="flink-21148-testDetachedModeSecureWithPreInstallKeytab-jobmanager.log" size="50268" author="mapohl" created="Mon, 29 Mar 2021 10:38:22 +0000"/>
                            <attachment id="13023112" name="flink-21148-testDetachedModeSecureWithPreInstallKeytab-taskmanager.log" size="52079" author="mapohl" created="Mon, 29 Mar 2021 10:38:22 +0000"/>
                            <attachment id="13023113" name="flink-21148.log" size="341313" author="mapohl" created="Mon, 29 Mar 2021 10:38:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mzpk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>