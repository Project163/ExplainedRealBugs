<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:21:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2696] ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest failed on Travis</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2696</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The &lt;tt&gt;ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest&lt;/tt&gt; failed on Travis with &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.flink.streaming.connectors.kafka.KafkaConsumerPartitionAssignmentTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.18 sec - in org.apache.flink.streaming.connectors.kafka.KafkaConsumerPartitionAssignmentTest
Running org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest
org.I0Itec.zkclient.exception.ZkTimeoutException: Unable to connect to zookeeper server within timeout: 20000
	at org.I0Itec.zkclient.ZkClient.connect(ZkClient.java:880)
	at org.I0Itec.zkclient.ZkClient.&amp;lt;init&amp;gt;(ZkClient.java:98)
	at org.I0Itec.zkclient.ZkClient.&amp;lt;init&amp;gt;(ZkClient.java:84)
	at org.apache.flink.streaming.connectors.kafka.KafkaTestBase.createZookeeperClient(KafkaTestBase.java:278)
	at org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest(ZookeeperOffsetHandlerTest.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 43.695 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest
runOffsetManipulationinZooKeeperTest(org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest)  Time elapsed: 21.258 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: Unable to connect to zookeeper server within timeout: 20000
	at org.junit.Assert.fail(Assert.java:88)
	at org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest(ZookeeperOffsetHandlerTest.java:57)

Running org.apache.flink.streaming.connectors.kafka.KafkaConsumerTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.385 sec - in org.apache.flink.streaming.connectors.kafka.KafkaConsumerTest
Running org.apache.flink.streaming.connectors.kafka.TestFixedPartitioner
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec - in org.apache.flink.streaming.connectors.kafka.TestFixedPartitioner

Results :

Failed tests: 
  ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest:57 Unable to connect to zookeeper server within timeout: 20000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/80770637/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/80770637/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12875385">FLINK-2696</key>
            <summary>ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest failed on Travis</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 17 Sep 2015 15:08:21 +0000</created>
                <updated>Mon, 8 Feb 2016 16:13:23 +0000</updated>
                            <resolved>Wed, 23 Sep 2015 10:14:59 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14848542" author="githubbot" created="Fri, 18 Sep 2015 12:38:35 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1144&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1144&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2696&quot; title=&quot;ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest failed on Travis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2696&quot;&gt;&lt;del&gt;FLINK-2696&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;test-stability&amp;#93;&lt;/span&gt; Hardens ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest&lt;/p&gt;

&lt;p&gt;    The test case `ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest` failed, because the ZooKeeper client could not connect to the ZooKeeper server. I suspect that this might be caused by contention of multiple test cases for the same port to bind to. Internally, Curator&apos;s `TestingServer` is started with a port which has been determined using `NetUtils.getAvailablePort`. Since the port is not directly bound, it is possible that another process uses the determined port and, thus, preventing the `TestingServer` from starting. &lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixZookeeperOffsetHandlerTest&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1144.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1144.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1144&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5889624ab6d345ced0be59bb71ca3dc3c84de0e1&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-09-18T12:28:56Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2696&quot; title=&quot;ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest failed on Travis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2696&quot;&gt;&lt;del&gt;FLINK-2696&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;test-stability&amp;#93;&lt;/span&gt; Hardens ZookeeperOffsetHandlerTest by letting Curator&apos;s TestingServer select the port to bind to instead of using NetUtils.getAvailablePort.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14852725" author="githubbot" created="Fri, 18 Sep 2015 12:49:55 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1144#issuecomment-141443252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1144#issuecomment-141443252&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 to merge&lt;/p&gt;</comment>
                            <comment id="14875661" author="githubbot" created="Fri, 18 Sep 2015 14:07:36 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1144#issuecomment-141460904&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1144#issuecomment-141460904&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 to merge&lt;/p&gt;</comment>
                            <comment id="14900427" author="githubbot" created="Mon, 21 Sep 2015 09:25:27 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1144#issuecomment-141923204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1144#issuecomment-141923204&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Failing test case is `org.apache.flink.yarn.YARNSessionFIFOITCase.testJavaAPI` and, thus, unrelated.&lt;/p&gt;</comment>
                            <comment id="14904256" author="githubbot" created="Wed, 23 Sep 2015 09:41:38 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1144#issuecomment-142547195&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1144#issuecomment-142547195&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merging it.&lt;/p&gt;</comment>
                            <comment id="14904300" author="githubbot" created="Wed, 23 Sep 2015 10:13:32 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1144&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1144&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14904304" author="till.rohrmann" created="Wed, 23 Sep 2015 10:14:59 +0000"  >&lt;p&gt;Fixed via 0ec65f9f8b1e889f15aa05a5becaaaa51db235ea&lt;/p&gt;</comment>
                            <comment id="15137146" author="uce" created="Mon, 8 Feb 2016 16:13:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/107770603/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/107770603/log.txt&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;================================================================================
Test runOffsetManipulationinZooKeeperTest(org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest) is running.
--------------------------------------------------------------------------------
14:35:37,640 INFO  org.apache.curator.framework.imps.CuratorFrameworkImpl        - Starting
14:35:37,700 INFO  org.apache.flink.streaming.connectors.kafka.KafkaTestEnvironmentImpl  - Creating topic ZookeeperOffsetHandlerTest-Topic
14:35:37,701 INFO  org.I0Itec.zkclient.ZkEventThread                             - Starting ZkClient event thread.
14:35:37,701 INFO  org.I0Itec.zkclient.ZkClient                                  - Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; keeper state SyncConnected
14:35:48,600 INFO  org.I0Itec.zkclient.ZkClient                                  - zookeeper state changed (Disconnected)
14:35:48,718 INFO  org.I0Itec.zkclient.ZkClient                                  - zookeeper state changed (Disconnected)
14:35:48,892 INFO  org.I0Itec.zkclient.ZkClient                                  - zookeeper state changed (Disconnected)
14:35:49,921 INFO  org.I0Itec.zkclient.ZkClient                                  - zookeeper state changed (SyncConnected)
14:35:50,592 INFO  org.I0Itec.zkclient.ZkClient                                  - zookeeper state changed (SyncConnected)
14:35:50,849 INFO  org.I0Itec.zkclient.ZkClient                                  - zookeeper state changed (SyncConnected)
14:35:57,702 INFO  org.I0Itec.zkclient.ZkEventThread                             - Terminate ZkClient event thread.
14:36:03,086 ERROR org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest  - 
--------------------------------------------------------------------------------
Test runOffsetManipulationinZooKeeperTest(org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest) failed with:
java.lang.AssertionError: Unable to connect to zookeeper server within timeout: 20000
	at org.junit.Assert.fail(Assert.java:88)
	at org.apache.flink.streaming.connectors.kafka.internals.ZookeeperOffsetHandlerTest.runOffsetManipulationinZooKeeperTest(ZookeeperOffsetHandlerTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2kb2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>