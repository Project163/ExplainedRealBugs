<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:16:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-31036] StateCheckpointedITCase timed out</title>
                <link>https://issues.apache.org/jira/browse/FLINK-31036</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=10608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=10608&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;Legacy Source &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; - Source: Custom Source -&amp;gt; Filter (6/12)#69980&quot;&lt;/span&gt; #13718026 prio=5 os_prio=0 tid=0x00007f05f44f0800 nid=0x128157 waiting on condition [0x00007f059feef000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000000f0a974e8&amp;gt; (a java.util.concurrent.CompletableFuture$Signaller)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1707)
	at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3323)
	at java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1742)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.flink.runtime.io.network.buffer.LocalBufferPool.requestMemorySegmentBlocking(LocalBufferPool.java:384)
	at org.apache.flink.runtime.io.network.buffer.LocalBufferPool.requestBufferBuilderBlocking(LocalBufferPool.java:356)
	at org.apache.flink.runtime.io.network.partition.BufferWritingResultPartition.requestNewBufferBuilderFromPool(BufferWritingResultPartition.java:414)
	at org.apache.flink.runtime.io.network.partition.BufferWritingResultPartition.requestNewUnicastBufferBuilder(BufferWritingResultPartition.java:390)
	at org.apache.flink.runtime.io.network.partition.BufferWritingResultPartition.appendUnicastDataForRecordContinuation(BufferWritingResultPartition.java:328)
	at org.apache.flink.runtime.io.network.partition.BufferWritingResultPartition.emitRecord(BufferWritingResultPartition.java:161)
	at org.apache.flink.runtime.io.network.api.writer.RecordWriter.emit(RecordWriter.java:107)
	at org.apache.flink.runtime.io.network.api.writer.ChannelSelectorRecordWriter.emit(ChannelSelectorRecordWriter.java:55)
	at org.apache.flink.streaming.runtime.io.RecordWriterOutput.pushToRecordWriter(RecordWriterOutput.java:105)
	at org.apache.flink.streaming.runtime.io.RecordWriterOutput.collect(RecordWriterOutput.java:91)
	at org.apache.flink.streaming.runtime.io.RecordWriterOutput.collect(RecordWriterOutput.java:45)
	at org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:59)
	at org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:31)
	at org.apache.flink.streaming.api.operators.StreamFilter.processElement(StreamFilter.java:39)
	at org.apache.flink.streaming.runtime.io.RecordProcessorUtils$$Lambda$1311/1256184070.accept(Unknown Source)
	at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:75)
	at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:50)
	at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)
	at org.apache.flink.streaming.api.operators.StreamSourceContexts$ManualWatermarkContext.processAndCollect(StreamSourceContexts.java:418)
	at org.apache.flink.streaming.api.operators.StreamSourceContexts$WatermarkContext.collect(StreamSourceContexts.java:513)
	- locked &amp;lt;0x00000000d55035c0&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.flink.streaming.api.operators.StreamSourceContexts$SwitchingOnClose.collect(StreamSourceContexts.java:103)
	at org.apache.flink.test.checkpointing.StateCheckpointedITCase$StringGeneratingSourceFunction.run(StateCheckpointedITCase.java:178)
	- locked &amp;lt;0x00000000d55035c0&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:110)
	at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:67)
	at org.apache.flink.streaming.runtime.tasks.SourceStreamTask$LegacySourceFunctionThread.run(SourceStreamTask.java:333)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13524431">FLINK-31036</key>
            <summary>StateCheckpointedITCase timed out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fanrui">Rui Fan</assignee>
                                    <reporter username="mapohl">Matthias Pohl</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 13 Feb 2023 09:22:59 +0000</created>
                <updated>Mon, 27 Feb 2023 10:33:32 +0000</updated>
                            <resolved>Tue, 21 Feb 2023 10:03:26 +0000</resolved>
                                    <version>1.17.0</version>
                                    <fixVersion>1.17.0</fixVersion>
                    <fixVersion>1.18.0</fixVersion>
                                    <component>Runtime / Checkpointing</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17687833" author="mapohl" created="Mon, 13 Feb 2023 09:25:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman&quot; class=&quot;user-hover&quot; rel=&quot;roman&quot;&gt;roman&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ym&quot; class=&quot;user-hover&quot; rel=&quot;ym&quot;&gt;ym&lt;/a&gt; can you help identifying the cause? I struggle to pin-point the change that might have caused the issue.&lt;/p&gt;</comment>
                            <comment id="17687851" author="roman_khachatryan" created="Mon, 13 Feb 2023 09:56:53 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;I briefly looked at the issue and it&apos;ss related to State Backends, but rather to Unaligned Checkpoints (channel state writer).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Also not sure if this is a deadlock:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Legacy Source Thread locked 0x00000000a29b0ae8 (&quot;checkpoint lock&quot;)&#160;&lt;/li&gt;
	&lt;li&gt;multiple instances of ChannelStateWriteRequestExecutorFactory are trying to acquire it (as part of task initialization)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The latter was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fanrui&quot; class=&quot;user-hover&quot; rel=&quot;fanrui&quot;&gt;fanrui&lt;/a&gt; I beleive you have more context, could you please take a look?&lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17687864" author="fanrui" created="Mon, 13 Feb 2023 10:19:49 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt;&#160; reports this issue, and thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman&quot; class=&quot;user-hover&quot; rel=&quot;roman&quot;&gt;roman&lt;/a&gt; help analyze it, I will take a look asap~&lt;/p&gt;</comment>
                            <comment id="17688437" author="fanrui" created="Tue, 14 Feb 2023 10:44:12 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman&quot; class=&quot;user-hover&quot; rel=&quot;roman&quot;&gt;roman&lt;/a&gt; , I&apos;m sorry, after analysis, I didn&apos;t find the root cause, I just suspect it&apos;s not caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;From jstack we can know that StateCheckpointedITCase has timed out. The logic of this test is: OnceFailingAggregator fails after running for a while, and then tests whether the checkpoint meets expectations.&#160;&lt;/p&gt;

&lt;p&gt;I suspect that the test has encountered some problems and is restarting frequently, so the tasks are frequently initialized. &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; added a lock in TM level during task is initializing, so we see that many tasks are waiting for locks.&lt;/p&gt;

&lt;p&gt;I want to check the log of the test to analyze what these tasks are doing, however I didn&apos;t found it here&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Whether the log is too big due to it runs for 4 hours? And I checked the upload log&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, it can&apos;t be shown.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please correct me if I&apos;m wrong. BTW, I run this test locally and it always succeeds. Does this test fail only once?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=artifacts&amp;amp;pathAsName=false&amp;amp;type=publishedArtifacts&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=artifacts&amp;amp;pathAsName=false&amp;amp;type=publishedArtifacts&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=8856ec62-ca1b-53d4-5e1a-5db3770f6c8a&lt;/p&gt;</comment>
                            <comment id="17688448" author="mapohl" created="Tue, 14 Feb 2023 10:55:50 +0000"  >&lt;blockquote&gt;
&lt;p&gt;BTW, I run this test locally and it always succeeds. Does this test fail only once?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;so far, I&apos;m only aware of this one test failure.&lt;/p&gt;</comment>
                            <comment id="17688783" author="fanrui" created="Wed, 15 Feb 2023 02:14:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;&#160;I&apos;m only aware of this one test failure.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks for your feedback, I can continue the analysis&#160; after it happens again and hope the log can be viewed next time.&lt;/p&gt;

&lt;p&gt;Or if other masters have some ideas, welcome to give feedback here.&lt;/p&gt;</comment>
                            <comment id="17689191" author="mapohl" created="Wed, 15 Feb 2023 15:07:08 +0000"  >&lt;p&gt;Why would you assume to get more from the logs than what is already offered in the most-recent test failure? Did you add more log messages? I&apos;m just wondering because there&apos;s no PR opened for that issue, yet.&lt;/p&gt;</comment>
                            <comment id="17689468" author="fanrui" created="Thu, 16 Feb 2023 03:08:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why would you assume to get more from the logs than what is already offered in the most-recent test failure?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I suspect that the test has encountered some problems and is restarting frequently, so the tasks are frequently initialized.&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; added a lock at TM level during task is initializing, so we see that many tasks are waiting for locks.&#160;&lt;/p&gt;

&lt;p&gt;I want to look at the logs of the failed tests to analyze what those tasks are doing, and what&apos;s wrong with this test?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Did you add more log messages?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I didn&apos;t add any log, the current log is enough. We can use the log to confirm whether the test job has been restarting and the reason for restarting.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have run it dozens of times locally, but I can&apos;t reproduce it. If it can be reproduced and has a log, it should be helpful to find the root cause.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17689584" author="mapohl" created="Thu, 16 Feb 2023 07:33:50 +0000"  >&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; added a lock at TM level during task is initializing, so we see that many tasks are waiting for locks. I want to look at the logs of the failed tests to analyze what those tasks are doing, and what&apos;s wrong with this test?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I see. But I still miss to understand why the current stacktrace isn&apos;t enough to do so when we don&apos;t add more logs and are fine with what the current logs are revealing?&lt;br/&gt;
The reason I am asking is because we might want to come up with a strategy if the issue cannot be resolved before the rc creation is started (because it might not appear that frequent). Reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; by then sounds reasonable considering that it&apos;s &quot;only&quot; an improvement. WDYT?&lt;/p&gt;</comment>
                            <comment id="17689591" author="fanrui" created="Thu, 16 Feb 2023 07:48:34 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; , do you have time help take a look this JIRA?&lt;/p&gt;

&lt;p&gt;I have analyzed the stack, but I didn&apos;t find why `StateCheckpointedITCase` failed, thanks a lot.&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17689608" author="fanrui" created="Thu, 16 Feb 2023 08:25:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;Reverting&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt;&#160;by then sounds reasonable considering that it&apos;s &quot;only&quot; an improvement. WDYT?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; , after my analysis, any bugs that cause jobs to be restarted or checkpoints not to be recovered can cause this stacktrace. This stack runs on &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; code, but may not be caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Has flink-1.17 or master branch fixed some bugs that caused jobs to be restarted or checkpoints not to be restored?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;BTW, StateCheckpointedITCase also enabled the ChangeLogStateBackend &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;,&#160; I see &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-28440&quot; title=&quot;EventTimeWindowCheckpointingITCase failed with restore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-28440&quot;&gt;FLINK-28440&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-30561&quot; title=&quot;ChangelogStreamHandleReaderWithCache cause FileNotFoundException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-30561&quot;&gt;&lt;del&gt;FLINK-30561&lt;/del&gt;&lt;/a&gt; is merged recently. It is possible that the root cause has been resolved, and StateCheckpointedITCase will always succeeds in the future.&lt;/p&gt;

&lt;p&gt;So after reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt;, if StateCheckpointedITCase always succeeds, it does not prove that &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt; caused the problem. WDYT?&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman&quot; class=&quot;user-hover&quot; rel=&quot;roman&quot;&gt;roman&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please correct me if I&apos;m wrong.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/flink/blob/b64739a5ef976e003bf87250b41ae1142e541497/flink-tests/src/test/java/org/apache/flink/test/checkpointing/StreamFaultToleranceTestBase.java#L91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/b64739a5ef976e003bf87250b41ae1142e541497/flink-tests/src/test/java/org/apache/flink/test/checkpointing/StreamFaultToleranceTestBase.java#L91&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17689614" author="fanrui" created="Thu, 16 Feb 2023 08:34:19 +0000"  >&lt;p&gt;I see that StateCheckpointedITCase fails when this commit&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; is merged.&lt;/p&gt;

&lt;p&gt;I have an idea: Based on this commit, use a script to run StateCheckpointedITCase(with LOG enabled) repeatedly to see if it can be reproduced. I&apos;ll update here when I come to any conclusions.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;https://github.com/flink-ci/flink-mirror/commit/331abad6dd2d6ec79ecde7116f3b48f2a249b9ef&lt;/p&gt;</comment>
                            <comment id="17689625" author="mapohl" created="Thu, 16 Feb 2023 08:55:27 +0000"  >&lt;p&gt;Is this a copy&amp;amp;paste error? The commit &lt;a href=&quot;https://github.com/flink-ci/flink-mirror/commit/331abad6dd2d6ec79ecde7116f3b48f2a249b9ef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;331abad6d&lt;/a&gt; points to a docs change in &lt;tt&gt;flink-ci/flink-mirror&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17689628" author="fanrui" created="Thu, 16 Feb 2023 09:05:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is this a copy&amp;amp;paste error? The commit&#160;&lt;a href=&quot;https://github.com/flink-ci/flink-mirror/commit/331abad6dd2d6ec79ecde7116f3b48f2a249b9ef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;331abad6d&lt;/a&gt;&#160;points to a docs change in&#160;&lt;tt&gt;flink-ci/flink-mirror&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, I copied the commit from the failed CI &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, I&apos;m not saying this commit is the root cause, I mean: root cause should be before this commit, so I run the StateCheckpointedITCase based on this commit to troubleshoot.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=10608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=10608&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17689646" author="mapohl" created="Thu, 16 Feb 2023 09:43:28 +0000"  >&lt;p&gt;Looks like it&apos;s not really a one-time thing:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=10608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=10608&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17689670" author="fanrui" created="Thu, 16 Feb 2023 10:09:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looks like it&apos;s not really a one-time thing:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=10608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46023&amp;amp;view=logs&amp;amp;j=39d5b1d5-3b41-54dc-6458-1e2ddd1cdcf3&amp;amp;t=0c010d0c-3dec-5bf1-d408-7b18988b1b2b&amp;amp;l=10608&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It&#8217;s your first link, right?&lt;/p&gt;</comment>
                            <comment id="17689681" author="mapohl" created="Thu, 16 Feb 2023 10:26:13 +0000"  >&lt;p&gt;Yes, sorry for the confusion. I must have ran into a copy&amp;amp;paste error when comparing the builds. Here&apos;s the actual one:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46199&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=11651&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46199&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=11651&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; #1 prio=5 os_prio=0 tid=0x00007fce4000b800 nid=0x28152 waiting on condition [0x00007fce478dc000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x00000000a468c860&amp;gt; (a java.util.concurrent.CompletableFuture$Signaller)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.CompletableFuture$Signaller.block(CompletableFuture.java:1707)
	at java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3323)
	at java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1742)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.flink.test.util.TestUtils.submitJobAndWaitForResult(TestUtils.java:99)
	at org.apache.flink.test.checkpointing.StreamFaultToleranceTestBase.runCheckpointedProgram(StreamFaultToleranceTestBase.java:136)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It doesn&apos;t state the actual ITCase in the stacktrace. &lt;tt&gt;StateCheckpointedITCase&lt;/tt&gt; &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46199&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=10020&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;is started&lt;/a&gt; but never finished based on the Maven output.&lt;/p&gt;</comment>
                            <comment id="17689697" author="pnowojski" created="Thu, 16 Feb 2023 11:12:53 +0000"  >&lt;p&gt;I will try to take a quick look.&lt;/p&gt;

&lt;p&gt;When trying to reproduce it locally, keep in mind that we have some parameters/configuraiton randomisation implemented AFAIR based on the git commit. Most likely one of the parameters that gets randomised is unaligned checkpoints turned on/off, so if the failures are happening only in one of those modes, make sure that locally you are using the same setting. If it&apos;s randomised based on the git commit hash, then it&apos;s probably best to just loop the test on the same commit that has failed in the CI. &lt;/p&gt;

&lt;p&gt;Sometimes it also helps to stress the local machine much more, like loop the same test 4 or 8 times running in parallel. &lt;/p&gt;</comment>
                            <comment id="17689746" author="fanrui" created="Thu, 16 Feb 2023 12:34:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;Here&apos;s the actual one:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46199&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=11651&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=46199&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=11651&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks a lot for the link, it&apos;s very very useful, It has log. The exception is `java.lang.RuntimeException: Test failed due to unexpected recovered state size 0`. I will continue to analyze why the restored state is wrong.&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13055511/13055511_image-2023-02-16-20-29-52-050.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17689834" author="pnowojski" created="Thu, 16 Feb 2023 16:26:46 +0000"  >&lt;p&gt;In this recent log I see two issues&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;tt&gt;checkpoint 20&lt;/tt&gt; is failing due to &quot;Size of the state is larger than the maximum permitted memory-backed state. Size=5621456, maxSize=5242880. Consider using a different checkpoint storage, like the FileSystemCheckpointStorage&quot;&lt;/li&gt;
	&lt;li&gt;recovery from &lt;tt&gt;checkpoint 19&lt;/tt&gt; is failing because &quot;java.lang.RuntimeException: Test failed due to unexpected recovered state size 0&quot;&lt;/li&gt;
&lt;/ol&gt;




&lt;ol&gt;
	&lt;li&gt;Is probably caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt;, probably a benign configuration issue&lt;/li&gt;
	&lt;li&gt;is just a minor bug/unsupported case in this test, since shortly before &lt;tt&gt;checkpoint 19&lt;/tt&gt;, some tasks have finished. &lt;tt&gt;StateCheckpointedITCase.StringRichFilterFunction#restoreState&lt;/tt&gt; simply doesn&apos;t support that. This test was created before FLIP-147 and doesn&apos;t expect the second failover caused by the 1.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="17690125" author="fanrui" created="Fri, 17 Feb 2023 03:51:56 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; , thanks a lot for the analysis, sounds makes sense to me.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;checkpoint 20&lt;/tt&gt;&#160;is failing due to &quot;Size of the state is larger than the maximum permitted memory-backed state. Size=5621456, maxSize=5242880. Consider using a different checkpoint storage, like the FileSystemCheckpointStorage&quot;&lt;/p&gt;

&lt;p&gt;Is probably caused by&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt;, probably a benign configuration issue&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The maxSize of memory checkpoint stream cannot be changed, and I see some comments in the `JobManagerCheckpointStorage`, it means we cannot increase the maxSize due to the limitation in the PRC side.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;WARNING:&amp;lt;/b&amp;gt; Increasing the size of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; value beyond the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value ({@value
* #DEFAULT_MAX_STATE_SIZE}) should be done with care. The checkpointed state needs to be send
* to the JobManager via limited size RPC messages, and there and the JobManager needs to be
* able to hold all aggregated state in its memory.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Also, I think all tests may have this problem, especially some tests with high parallelism. It is not introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-26803&quot; title=&quot;Merge small ChannelState file for Unaligned Checkpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-26803&quot;&gt;&lt;del&gt;FLINK-26803&lt;/del&gt;&lt;/a&gt;. If the test of the high parallelism job does not merge the channel state file, this problem may also exist.&lt;/p&gt;

&lt;p&gt;So should we use the `FileSystemCheckpointStorage` instead of `JobManagerCheckpointStorage`?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Recovery from &lt;tt&gt;checkpoint 19&lt;/tt&gt;&#160;is failing because &quot;java.lang.RuntimeException: Test failed due to unexpected recovered state size 0&quot;&lt;/p&gt;

&lt;p&gt;Is just a minor bug/unsupported case in this test, since shortly before &lt;tt&gt;checkpoint 19&lt;/tt&gt;, some tasks have finished.&#160;&lt;tt&gt;StateCheckpointedITCase.StringRichFilterFunction#restoreState&lt;/tt&gt;&#160;simply doesn&apos;t support that. This test was created before FLIP-147 and doesn&apos;t expect the second failover caused by the 1.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;As I understand, when problem 1 is solved, this problem will also be solved incidentally.&lt;/p&gt;

&lt;p&gt;However, I&apos;m not sure if these tests are robust after FLIP-147. When OnceFailingAggregator throw exception after some source tasks are finished, StateCheckpointedITCase will also fail(This is more likely to happen when the dataset is small.). Therefore, I guess there may be many old checkpoint-related tests that have similar risks after FLIP-147.&lt;/p&gt;</comment>
                            <comment id="17690217" author="pnowojski" created="Fri, 17 Feb 2023 07:56:32 +0000"  >&lt;blockquote&gt;
&lt;p&gt;So should we use the `FileSystemCheckpointStorage` instead of `JobManagerCheckpointStorage`?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Indeed that seems like the only feasible solution. Do you mean setting it for this test, or for all of the unit tests? ITCases? What would be the scope of such change?&lt;/p&gt;

&lt;p&gt;Re the 2nd problem, I think indeed the problem should go away. Nevertheless it would be nice if there is an easy way to fix this in  &lt;tt&gt;StateCheckpointedITCase&lt;/tt&gt;, but that&apos;s I think optional.&lt;/p&gt;</comment>
                            <comment id="17691210" author="mapohl" created="Mon, 20 Feb 2023 14:37:12 +0000"  >&lt;p&gt;Is &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-31138&quot; title=&quot;Either StreamCheckpointingITCase/StreamFaultToleranceTestBase or EventTimeWindowCheckpointingITCase are timinng out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-31138&quot;&gt;&lt;del&gt;FLINK-31138&lt;/del&gt;&lt;/a&gt; a duplicate of this Jira issue?&lt;/p&gt;</comment>
                            <comment id="17691214" author="fanrui" created="Mon, 20 Feb 2023 14:47:30 +0000"  >&lt;p&gt;merged commit ae53a8de47b31e248fef216428a83c8bf3f07b13 into apache:release-1.17&lt;/p&gt;

&lt;p&gt;merged commit 6fae8b58a49216d50e422d5e4e7be3d7ea3b4462 into apache:master&lt;/p&gt;</comment>
                            <comment id="17691222" author="fanrui" created="Mon, 20 Feb 2023 15:16:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-31138&quot; title=&quot;Either StreamCheckpointingITCase/StreamFaultToleranceTestBase or EventTimeWindowCheckpointingITCase are timinng out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-31138&quot;&gt;&lt;del&gt;FLINK-31138&lt;/del&gt;&lt;/a&gt;&#160;a duplicate of this Jira issue?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; , I did a quick checked, it isn&apos;t similar to this Jira, I have commented there. But I don&apos;t find the root cause now, I can continue analyze it tomorrow.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13435098">FLINK-26803</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13525417">FLINK-31138</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13055511" name="image-2023-02-16-20-29-52-050.png" size="241680" author="fanrui" created="Thu, 16 Feb 2023 12:29:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fvv4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>