<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:51:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-20679] JobMasterTest.testSlotRequestTimeoutWhenNoSlotOffering test failed</title>
                <link>https://issues.apache.org/jira/browse/FLINK-20679</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11055&amp;amp;view=logs&amp;amp;j=d89de3df-4600-5585-dadc-9bbc9a5e661c&amp;amp;t=19336553-69ec-5b03-471a-791a483cced6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11055&amp;amp;view=logs&amp;amp;j=d89de3df-4600-5585-dadc-9bbc9a5e661c&amp;amp;t=19336553-69ec-5b03-471a-791a483cced6&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failures: 
[ERROR]   JobMasterTest.testSlotRequestTimeoutWhenNoSlotOffering:972 
Expected: a collection with size &amp;lt;1&amp;gt;
     but: collection size was &amp;lt;0&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13346884">FLINK-20679</key>
            <summary>JobMasterTest.testSlotRequestTimeoutWhenNoSlotOffering test failed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="hxbks2ks">Huang Xingbo</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Sat, 19 Dec 2020 03:01:27 +0000</created>
                <updated>Tue, 22 Dec 2020 09:40:57 +0000</updated>
                            <resolved>Tue, 22 Dec 2020 09:40:54 +0000</resolved>
                                    <version>1.13.0</version>
                                    <fixVersion>1.13.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17252896" author="till.rohrmann" created="Mon, 21 Dec 2020 14:45:17 +0000"  >&lt;p&gt;I think this test instability is caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-10404&quot; title=&quot;FLIP-138 - Declarative resource management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-10404&quot;&gt;&lt;del&gt;FLINK-10404&lt;/del&gt;&lt;/a&gt;. The problem is that the &lt;tt&gt;SlotPool&lt;/tt&gt; no longer eagerly accepts newly offered slots. With the declarative resource management, it can happen that we are offering the slots just in the moment when the job fails over. Since we are decreasing the required resources when we are failing over, the offered slots can be rejected.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17252899" author="till.rohrmann" created="Mon, 21 Dec 2020 14:51:26 +0000"  >&lt;p&gt;Looking at the test case, I think we should rather test the behaviour on the &lt;tt&gt;SchedulerNG&lt;/tt&gt; instead of on the &lt;tt&gt;JobMaster&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17252909" author="till.rohrmann" created="Mon, 21 Dec 2020 15:12:32 +0000"  >&lt;p&gt;The scheduling part should be covered by &lt;tt&gt;DefaultSchedulerTest.restartVerticesOnSlotAllocationTimeout&lt;/tt&gt; which ensures that vertices are restarted on allocation timeouts. The allocation timeout part should be covered by &lt;tt&gt;PhysicalSlotRequestBulkCheckerImplTest.testUnfulfillableBulkIsCancelled&lt;/tt&gt; which ensures that &lt;tt&gt;PhysicalSlotRequestBulks&lt;/tt&gt; are timed out after a configured allocation timeout.&lt;/p&gt;</comment>
                            <comment id="17253209" author="godfreyhe" created="Tue, 22 Dec 2020 02:06:50 +0000"  >&lt;p&gt;same failure: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11118&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11118&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17253238" author="jark" created="Tue, 22 Dec 2020 03:02:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11126&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11126&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17253301" author="hxbks2ks" created="Tue, 22 Dec 2020 06:39:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11151&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=11151&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17253372" author="till.rohrmann" created="Tue, 22 Dec 2020 09:40:54 +0000"  >&lt;p&gt;Fixed via 2aa598b7e505bd0553d636726b1588fcf5e850c8&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13186957">FLINK-10404</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0lnu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>