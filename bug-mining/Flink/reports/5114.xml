<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:53:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-21497] JobLeaderIdService completes leader future despite no leader being elected</title>
                <link>https://issues.apache.org/jira/browse/FLINK-21497</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=13722&amp;amp;view=logs&amp;amp;j=a5ef94ef-68c2-57fd-3794-dc108ed1c495&amp;amp;t=9c1ddabe-d186-5a2c-5fcc-f3cafb3ec699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=13722&amp;amp;view=logs&amp;amp;j=a5ef94ef-68c2-57fd-3794-dc108ed1c495&amp;amp;t=9c1ddabe-d186-5a2c-5fcc-f3cafb3ec699&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2021-02-24T22:47:55.4844360Z java.lang.RuntimeException: Failed to fetch next result
2021-02-24T22:47:55.4847421Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.nextResultFromFetcher(CollectResultIterator.java:109)
2021-02-24T22:47:55.4848395Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.hasNext(CollectResultIterator.java:80)
2021-02-24T22:47:55.4849262Z 	at org.apache.flink.connector.file.src.FileSourceTextLinesITCase.testBoundedTextFileSource(FileSourceTextLinesITCase.java:148)
2021-02-24T22:47:55.4850030Z 	at org.apache.flink.connector.file.src.FileSourceTextLinesITCase.testBoundedTextFileSourceWithJobManagerFailover(FileSourceTextLinesITCase.java:108)
2021-02-24T22:47:55.4850780Z 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-24T22:47:55.4851322Z 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
2021-02-24T22:47:55.4858977Z 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
2021-02-24T22:47:55.4860737Z 	at java.lang.reflect.Method.invoke(Method.java:498)
2021-02-24T22:47:55.4861855Z 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
2021-02-24T22:47:55.4862873Z 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
2021-02-24T22:47:55.4863598Z 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
2021-02-24T22:47:55.4864289Z 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
2021-02-24T22:47:55.4864937Z 	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
2021-02-24T22:47:55.4865570Z 	at org.apache.flink.util.TestNameProvider$1.evaluate(TestNameProvider.java:45)
2021-02-24T22:47:55.4866152Z 	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
2021-02-24T22:47:55.4866670Z 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
2021-02-24T22:47:55.4867172Z 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
2021-02-24T22:47:55.4867765Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
2021-02-24T22:47:55.4868588Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
2021-02-24T22:47:55.4869683Z 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
2021-02-24T22:47:55.4886595Z 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
2021-02-24T22:47:55.4887656Z 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
2021-02-24T22:47:55.4888451Z 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
2021-02-24T22:47:55.4889199Z 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
2021-02-24T22:47:55.4889845Z 	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
2021-02-24T22:47:55.4890447Z 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
2021-02-24T22:47:55.4891037Z 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
2021-02-24T22:47:55.4891604Z 	at org.junit.runners.Suite.runChild(Suite.java:128)
2021-02-24T22:47:55.4892235Z 	at org.junit.runners.Suite.runChild(Suite.java:27)
2021-02-24T22:47:55.4892959Z 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
2021-02-24T22:47:55.4893573Z 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
2021-02-24T22:47:55.4894216Z 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
2021-02-24T22:47:55.4894824Z 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
2021-02-24T22:47:55.4895425Z 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
2021-02-24T22:47:55.4896027Z 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
2021-02-24T22:47:55.4896638Z 	at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)
2021-02-24T22:47:55.4897378Z 	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)
2021-02-24T22:47:55.4898342Z 	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)
2021-02-24T22:47:55.4899204Z 	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)
2021-02-24T22:47:55.4899965Z 	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)
2021-02-24T22:47:55.4900709Z 	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:158)
2021-02-24T22:47:55.4901503Z 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
2021-02-24T22:47:55.4902315Z 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
2021-02-24T22:47:55.4903260Z 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
2021-02-24T22:47:55.4903941Z 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
2021-02-24T22:47:55.4904586Z Caused by: java.io.IOException: Failed to fetch job execution result
2021-02-24T22:47:55.4905378Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.getAccumulatorResults(CollectResultFetcher.java:169)
2021-02-24T22:47:55.4906286Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.next(CollectResultFetcher.java:118)
2021-02-24T22:47:55.4907230Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultIterator.nextResultFromFetcher(CollectResultIterator.java:106)
2021-02-24T22:47:55.4907998Z 	... 44 more
2021-02-24T22:47:55.4908618Z Caused by: java.util.concurrent.ExecutionException: org.apache.flink.runtime.client.JobExecutionException: Job execution failed.
2021-02-24T22:47:55.4909533Z 	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
2021-02-24T22:47:55.4910233Z 	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)
2021-02-24T22:47:55.4911035Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.getAccumulatorResults(CollectResultFetcher.java:167)
2021-02-24T22:47:55.4911650Z 	... 46 more
2021-02-24T22:47:55.4912141Z Caused by: org.apache.flink.runtime.client.JobExecutionException: Job execution failed.
2021-02-24T22:47:55.4912942Z 	at org.apache.flink.runtime.jobmaster.JobResult.toJobExecutionResult(JobResult.java:144)
2021-02-24T22:47:55.4913955Z 	at org.apache.flink.runtime.minicluster.MiniClusterJobClient.lambda$getJobExecutionResult$3(MiniClusterJobClient.java:137)
2021-02-24T22:47:55.4914902Z 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
2021-02-24T22:47:55.4915610Z 	at java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:628)
2021-02-24T22:47:55.4916316Z 	at java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:1996)
2021-02-24T22:47:55.4917123Z 	at org.apache.flink.runtime.minicluster.MiniClusterJobClient.getJobExecutionResult(MiniClusterJobClient.java:134)
2021-02-24T22:47:55.4918172Z 	at org.apache.flink.streaming.api.operators.collect.CollectResultFetcher.getAccumulatorResults(CollectResultFetcher.java:166)
2021-02-24T22:47:55.4918901Z 	... 46 more
2021-02-24T22:47:55.4919463Z Caused by: org.apache.flink.runtime.client.JobExecutionException: Not enough resources available &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; scheduling.
2021-02-24T22:47:55.4920378Z 	at org.apache.flink.runtime.scheduler.adaptive.AdaptiveScheduler.lambda$determineParallelismAndAssignResources$18(AdaptiveScheduler.java:585)
2021-02-24T22:47:55.4921197Z 	at java.util.Optional.orElseThrow(Optional.java:290)
2021-02-24T22:47:55.4921999Z 	at org.apache.flink.runtime.scheduler.adaptive.AdaptiveScheduler.determineParallelismAndAssignResources(AdaptiveScheduler.java:582)
2021-02-24T22:47:55.4923217Z 	at org.apache.flink.runtime.scheduler.adaptive.AdaptiveScheduler.createExecutionGraphWithAvailableResources(AdaptiveScheduler.java:598)
2021-02-24T22:47:55.4924249Z 	at org.apache.flink.runtime.scheduler.adaptive.WaitingForResources.createExecutionGraphWithAvailableResources(WaitingForResources.java:105)
2021-02-24T22:47:55.4925252Z 	at org.apache.flink.runtime.scheduler.adaptive.WaitingForResources.resourceTimeout(WaitingForResources.java:99)
2021-02-24T22:47:55.4926126Z 	at org.apache.flink.runtime.scheduler.adaptive.AdaptiveScheduler.runIfState(AdaptiveScheduler.java:898)
2021-02-24T22:47:55.4926986Z 	at org.apache.flink.runtime.scheduler.adaptive.AdaptiveScheduler.lambda$runIfState$20(AdaptiveScheduler.java:913)
2021-02-24T22:47:55.4927768Z 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
2021-02-24T22:47:55.4928488Z 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
2021-02-24T22:47:55.4929180Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:440)
2021-02-24T22:47:55.4929946Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:208)
2021-02-24T22:47:55.4930725Z 	at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:77)
2021-02-24T22:47:55.4931493Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:158)
2021-02-24T22:47:55.4932187Z 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)
2021-02-24T22:47:55.4932944Z 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)
2021-02-24T22:47:55.4933558Z 	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:123)
2021-02-24T22:47:55.4934198Z 	at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)
2021-02-24T22:47:55.4934856Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)
2021-02-24T22:47:55.4935498Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2021-02-24T22:47:55.4936136Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2021-02-24T22:47:55.4936744Z 	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:517)
2021-02-24T22:47:55.4937321Z 	at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)
2021-02-24T22:47:55.4938023Z 	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)
2021-02-24T22:47:55.4938569Z 	at akka.actor.ActorCell.invoke(ActorCell.scala:561)
2021-02-24T22:47:55.4939154Z 	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)
2021-02-24T22:47:55.4939701Z 	at akka.dispatch.Mailbox.run(Mailbox.scala:225)
2021-02-24T22:47:55.4940205Z 	at akka.dispatch.Mailbox.exec(Mailbox.scala:235)
2021-02-24T22:47:55.4940958Z 	at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
2021-02-24T22:47:55.4941788Z 	at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
2021-02-24T22:47:55.4942569Z 	at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
2021-02-24T22:47:55.4943274Z 	at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
2021-02-24T22:47:55.4943685Z 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13360876">FLINK-21497</key>
            <summary>JobLeaderIdService completes leader future despite no leader being elected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="maguowei">Guowei Ma</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Thu, 25 Feb 2021 04:08:26 +0000</created>
                <updated>Wed, 3 Mar 2021 09:23:07 +0000</updated>
                            <resolved>Wed, 3 Mar 2021 09:22:53 +0000</resolved>
                                    <version>1.13.0</version>
                                    <fixVersion>1.11.4</fixVersion>
                    <fixVersion>1.13.0</fixVersion>
                    <fixVersion>1.12.3</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17290738" author="mapohl" created="Thu, 25 Feb 2021 07:24:35 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maguowei&quot; class=&quot;user-hover&quot; rel=&quot;maguowei&quot;&gt;maguowei&lt;/a&gt; for reporting this test instability. I&apos;m moving this issue into &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-21075&quot; title=&quot;FLIP-160: Adaptive scheduler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-21075&quot;&gt;&lt;del&gt;FLINK-21075&lt;/del&gt;&lt;/a&gt; where we collect issues related to the current FLIP-160 work&lt;/p&gt;</comment>
                            <comment id="17290840" author="zentol" created="Thu, 25 Feb 2021 10:48:14 +0000"  >&lt;p&gt;The underlying issue also occurs with the default scheduler.&lt;/p&gt;</comment>
                            <comment id="17292764" author="dawidwys" created="Mon, 1 Mar 2021 09:21:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=13905&amp;amp;view=logs&amp;amp;j=a5ef94ef-68c2-57fd-3794-dc108ed1c495&amp;amp;t=9c1ddabe-d186-5a2c-5fcc-f3cafb3ec699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=13905&amp;amp;view=logs&amp;amp;j=a5ef94ef-68c2-57fd-3794-dc108ed1c495&amp;amp;t=9c1ddabe-d186-5a2c-5fcc-f3cafb3ec699&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17294417" author="zentol" created="Wed, 3 Mar 2021 09:22:53 +0000"  >&lt;p&gt;master: 4542abba8b0743c5b121bf5fbbdcb2f492021aea&lt;br/&gt;
1.12: 8be24ee5c8b750765c0da0558f4928497d09a651&lt;br/&gt;
1.11: b61e01ac1644151ba02a4833181adb1383b1a9da&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0o1ns:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>