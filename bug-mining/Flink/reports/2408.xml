<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:33:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-9331] MesosResourceManager sometimes does not request new Containers</title>
                <link>https://issues.apache.org/jira/browse/FLINK-9331</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9190&quot; title=&quot;YarnResourceManager sometimes does not request new Containers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9190&quot;&gt;&lt;del&gt;FLINK-9190&lt;/del&gt;&lt;/a&gt; we also have to request new Mesos tasks if a task is reported to have failed. Otherwise we might run into the same problem that allocation requests are not fulfilled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13158469">FLINK-9331</key>
            <summary>MesosResourceManager sometimes does not request new Containers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="trohrmann">Till Rohrmann</reporter>
                        <labels>
                            <label>flip-6</label>
                    </labels>
                <created>Thu, 10 May 2018 13:16:33 +0000</created>
                <updated>Thu, 10 May 2018 14:23:39 +0000</updated>
                            <resolved>Thu, 10 May 2018 14:23:18 +0000</resolved>
                                    <version>1.5.0</version>
                    <version>1.6.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16470392" author="githubbot" created="Thu, 10 May 2018 13:33:50 +0000"  >&lt;p&gt;GitHub user tillrohrmann opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5986&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5986&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9331&quot; title=&quot;MesosResourceManager sometimes does not request new Containers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9331&quot;&gt;&lt;del&gt;FLINK-9331&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mesos&amp;#93;&lt;/span&gt; Let MesosResourceManager request new tasks for failed ones&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    In order to avoid the problem of not fulfilling allocation requests when a Mesos&lt;br/&gt;
    tasks dies before it could register at the RM, this commit restarts all failed&lt;br/&gt;
    Mesos tasks. The downside is that in some cases where the JM notices the failure&lt;br/&gt;
    of a TM and would fail the job, we request tasks which are not directly needed.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Brief change log&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Request a new Mesos task for all failed tasks&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adapted `MesosResourceManagerTest#testWorkerFailed` to check for the new Mesos task request&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (no)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (no)&lt;/li&gt;
	&lt;li&gt;The serializers: (no)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (no)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (yes)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? (no)&lt;/li&gt;
	&lt;li&gt;If yes, how is the feature documented? (not applicable)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tillrohrmann/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tillrohrmann/flink&lt;/a&gt; fixMesosTasksM&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5986.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5986.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5986&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e8c2c8fe74d9ab9b0d2a78ad3c18d5eba9c4dc4e&lt;br/&gt;
Author: gyao &amp;lt;gary@...&amp;gt;&lt;br/&gt;
Date:   2018-04-27T13:49:31Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9190&quot; title=&quot;YarnResourceManager sometimes does not request new Containers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9190&quot;&gt;&lt;del&gt;FLINK-9190&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;flip6,yarn&amp;#93;&lt;/span&gt; Request new container if container completed unexpectedly.&lt;/p&gt;

&lt;p&gt;    This closes #5931.&lt;/p&gt;

&lt;p&gt;commit da1be90c1c695a1d5e2aa53aed4dad961bd780a8&lt;br/&gt;
Author: gyao &amp;lt;gary@...&amp;gt;&lt;br/&gt;
Date:   2018-04-27T13:51:38Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;yarn&amp;#93;&lt;/span&gt; Reduce visibility of fields.&lt;/p&gt;

&lt;p&gt;commit ba6f02a406f9834ca44d8f2582775cce0cd02b47&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@...&amp;gt;&lt;br/&gt;
Date:   2018-05-04T16:19:10Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Minor code cleanups and improved comments.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Clarify the purposes of AllocationID versus SlotRequestId.&lt;/li&gt;
	&lt;li&gt;Remove an unnecessary method indirection&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 28d7303d58a0c5feb5791fce2e625eae00c9b54c&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-05-09T13:29:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9324&quot; title=&quot;SingleLogicalSlot returns completed release future before slot is properly returned&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9324&quot;&gt;&lt;del&gt;FLINK-9324&lt;/del&gt;&lt;/a&gt; Wait for slot release before completing release future in SingleLogicalSlot&lt;/p&gt;

&lt;p&gt;    This commit properly waits for the completion of the SingleLogicalSlot&apos;s release future&lt;br/&gt;
    until the SlotOwner has acknowledged the release. That way the ExecutionGraph will only&lt;br/&gt;
    recover after all of its slots have been returned to the SlotPool.&lt;/p&gt;

&lt;p&gt;    As a side effect, the changes in this commit should reduce the number of redundant release&lt;br/&gt;
    calls sent to the SlotOwner which cluttered the debug logs.&lt;/p&gt;

&lt;p&gt;    This closes #5980.&lt;/p&gt;

&lt;p&gt;commit d519b61a5a63e517b154be375213144177c9e578&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-05-09T22:45:12Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;tests&amp;#93;&lt;/span&gt; Harden YarnSessionFIFOITCase#testDetachedMode&lt;/p&gt;

&lt;p&gt;    Wait for the completion of the submitted job in order to avoid that we kill&lt;br/&gt;
    the JM while the TM tries to down load blobs from it.&lt;/p&gt;

&lt;p&gt;commit 845140a2d8f4a29f7379c6d1d99e67ba22030339&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@...&amp;gt;&lt;br/&gt;
Date:   2018-05-05T15:25:15Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Add toString() methods to SlotSharingManager and contained slot classes.&lt;/p&gt;

&lt;p&gt;commit dcf8cd653fc028e2054e9eefd5ddfd4003544ec3&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@...&amp;gt;&lt;br/&gt;
Date:   2018-05-05T15:58:20Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Add toString() and print methods to SlotPool classes for as debugging/diagnostic helpers&lt;/p&gt;

&lt;p&gt;commit 8b646f29cae371f18d803a8cba4772fe927d4bd3&lt;br/&gt;
Author: Stephan Ewen &amp;lt;sewen@...&amp;gt;&lt;br/&gt;
Date:   2018-05-05T16:18:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9330&quot; title=&quot;Improve logging of SlotPool for debugging purposes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9330&quot;&gt;&lt;del&gt;FLINK-9330&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Add periodic logging of SlotPool status&lt;/p&gt;

&lt;p&gt;    Only happens if log level for the SlotPool is set to DEBUG&lt;/p&gt;

&lt;p&gt;commit 7e6bc7775493e06d8004689b090f3ccecf638911&lt;br/&gt;
Author: Till Rohrmann &amp;lt;trohrmann@...&amp;gt;&lt;br/&gt;
Date:   2018-05-10T13:02:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-9331&quot; title=&quot;MesosResourceManager sometimes does not request new Containers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-9331&quot;&gt;&lt;del&gt;FLINK-9331&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mesos&amp;#93;&lt;/span&gt; Let MesosResourceManager request new tasks for failed ones&lt;/p&gt;

&lt;p&gt;    In order to avoid the problem of not fulfilling allocation requests when a Mesos&lt;br/&gt;
    tasks dies before it could register at the RM, this commit restarts all failed&lt;br/&gt;
    Mesos tasks. The downside is that in some cases where the JM notices the failure&lt;br/&gt;
    of a TM and would fail the job, we request tasks which are not directly needed.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16470443" author="till.rohrmann" created="Thu, 10 May 2018 14:23:18 +0000"  >&lt;p&gt;Fixed via&lt;br/&gt;
master: 1b1122fce18eaba4cc3539708fa555dbeafe88b5&lt;br/&gt;
1.5.0: ac043c4605d3504e19a54c19e9e1223c39abec57&lt;/p&gt;</comment>
                            <comment id="16470448" author="githubbot" created="Thu, 10 May 2018 14:23:39 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5986&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5986&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tkgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>