<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:20:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2003] Building on some encrypted filesystems leads to &quot;File name too long&quot; error</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2003</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The classnames generated from the build system can be too long.&lt;br/&gt;
Creating too long filenames in some encrypted filesystems is not possible, including encfs which is what Ubuntu uses.&lt;/p&gt;

&lt;p&gt;This the same as this &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-4820&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Spark issue&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The workaround (taken from the linked issue) is to add in Maven under the compile options: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+              &amp;lt;arg&amp;gt;-Xmax-classfile-name&amp;lt;/arg&amp;gt;
+              &amp;lt;arg&amp;gt;128&amp;lt;/arg&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And in SBT add:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    scalacOptions in Compile ++= Seq(&lt;span class=&quot;code-quote&quot;&gt;&quot;-Xmax-classfile-name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;128&quot;&lt;/span&gt;),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12829142">FLINK-2003</key>
            <summary>Building on some encrypted filesystems leads to &quot;File name too long&quot; error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tvas">Theodore Vasiloudis</assignee>
                                    <reporter username="tvas">Theodore Vasiloudis</reporter>
                        <labels>
                            <label>build</label>
                            <label>starter</label>
                    </labels>
                <created>Tue, 12 May 2015 09:41:55 +0000</created>
                <updated>Wed, 9 Sep 2015 18:17:51 +0000</updated>
                            <resolved>Wed, 9 Sep 2015 18:17:42 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build System</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14539694" author="rmetzger" created="Tue, 12 May 2015 12:00:49 +0000"  >&lt;p&gt;I think we also should put an entry to our FAQ and maybe to the README.&lt;/p&gt;</comment>
                            <comment id="14542183" author="tvas" created="Wed, 13 May 2015 16:22:43 +0000"  >&lt;p&gt;As a note, in my case this was caused by the flink-yarn package, so adding the compilation arg to its pom fixed the problems.&lt;/p&gt;</comment>
                            <comment id="14548053" author="githubbot" created="Mon, 18 May 2015 14:12:58 +0000"  >&lt;p&gt;GitHub user thvasilo opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2003&quot; title=&quot;Building on some encrypted filesystems leads to &amp;quot;File name too long&amp;quot; error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2003&quot;&gt;&lt;del&gt;FLINK-2003&lt;/del&gt;&lt;/a&gt;  Building on some encrypted filesystems leads to &quot;File name too long&quot; error&lt;/p&gt;

&lt;p&gt;    Added limit for length of class names for flink-yarn, to avoid &quot;Filename too long&quot; errors on encrypted filesystems.&lt;/p&gt;

&lt;p&gt;    I&apos;m not sure if there is a way to do this globally for the whole project (tried doing the same in the project pom and I couldn&apos;t get it to work), and what would the potential repercussions be of doing something like that.&lt;/p&gt;

&lt;p&gt;    PS. Fixed some whitespace errors as well.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/thvasilo/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/thvasilo/flink&lt;/a&gt; encfs-build&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #690&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b55a1a2e2a6486485087685e8ac082c97de06fb2&lt;br/&gt;
Author: Theodore Vasiloudis &amp;lt;tvas@sics.se&amp;gt;&lt;br/&gt;
Date:   2015-05-18T14:08:12Z&lt;/p&gt;

&lt;p&gt;    Added limit for length of class names, to avoid &quot;Filename too long&quot; errors on encrypted filesystems.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14548392" author="githubbot" created="Mon, 18 May 2015 17:46:56 +0000"  >&lt;p&gt;Github user rmetzger commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690#discussion_r30530340&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690#discussion_r30530340&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-yarn/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -113,6 +113,10 @@ under the License.&lt;br/&gt;
     						&amp;lt;jvmArg&amp;gt;-Xms128m&amp;lt;/jvmArg&amp;gt;&lt;br/&gt;
     						&amp;lt;jvmArg&amp;gt;-Xmx512m&amp;lt;/jvmArg&amp;gt;&lt;br/&gt;
     					&amp;lt;/jvmArgs&amp;gt;&lt;br/&gt;
    +					&amp;lt;args&amp;gt;&lt;br/&gt;
    +						&amp;lt;arg&amp;gt;-Xmax-classfile-name&amp;lt;/arg&amp;gt;&lt;br/&gt;
    +						&amp;lt;arg&amp;gt;128&amp;lt;/arg&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Does your encrypted file system only support 128 characters?&lt;br/&gt;
    We should try to set the value as high as possible, otherwise, we might run into &lt;span class=&quot;error&quot;&gt;&amp;#91;problems&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://scala-language.1934581.n4.nabble.com/Xmax-classfile-name-td4637574.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://scala-language.1934581.n4.nabble.com/Xmax-classfile-name-td4637574.html&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14550014" author="githubbot" created="Tue, 19 May 2015 08:11:58 +0000"  >&lt;p&gt;Github user thvasilo commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690#discussion_r30577392&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690#discussion_r30577392&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-yarn/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -113,6 +113,10 @@ under the License.&lt;br/&gt;
     						&amp;lt;jvmArg&amp;gt;-Xms128m&amp;lt;/jvmArg&amp;gt;&lt;br/&gt;
     						&amp;lt;jvmArg&amp;gt;-Xmx512m&amp;lt;/jvmArg&amp;gt;&lt;br/&gt;
     					&amp;lt;/jvmArgs&amp;gt;&lt;br/&gt;
    +					&amp;lt;args&amp;gt;&lt;br/&gt;
    +						&amp;lt;arg&amp;gt;-Xmax-classfile-name&amp;lt;/arg&amp;gt;&lt;br/&gt;
    +						&amp;lt;arg&amp;gt;128&amp;lt;/arg&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    According to the &lt;span class=&quot;error&quot;&gt;&amp;#91;man pages for EncFS&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://manpages.ubuntu.com/manpages/trusty/man1/encfs.1.html):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://manpages.ubuntu.com/manpages/trusty/man1/encfs.1.html):&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;gt;  One such limitation is filename length.  If your underlying filesystem&lt;br/&gt;
           limits you to N characters in a filename, then EncFS will limit you to&lt;br/&gt;
           approximately 3*(N-2)/4.  For example if the host filesystem limits to&lt;br/&gt;
           256 characters, then EncFS will be limited to 190 character filenames.&lt;br/&gt;
           This is because encrypted filenames are always longer then plaintext&lt;br/&gt;
           filenames.&lt;/p&gt;

&lt;p&gt;    So that would be &amp;lt;190 characters for ext4, but it depends on the filesystem. &lt;/p&gt;

&lt;p&gt;    I get the feeling that this creates unneeded headaches. I could change this PR into a docs one instead, and add a mention of the workaround in the docs as you suggested.&lt;/p&gt;</comment>
                            <comment id="14550052" author="githubbot" created="Tue, 19 May 2015 08:40:38 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690#issuecomment-103400415&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690#issuecomment-103400415&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yeah, I think that this may impact the compatibility of our code with other code.&lt;/p&gt;

&lt;p&gt;    A better approach would be IMHO to try and reduce the length of the classnames by reducing the nesting of functions and lambdas in scala a bit. Pull a few methods out rather than using n-level nested lambdas.&lt;/p&gt;</comment>
                            <comment id="14550129" author="githubbot" created="Tue, 19 May 2015 09:34:07 +0000"  >&lt;p&gt;Github user thvasilo commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690#issuecomment-103417077&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690#issuecomment-103417077&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    So @rmetzger, where do you think the note should go? In the project documentation or the &quot;How to contribute&quot; section of the project website?&lt;/p&gt;</comment>
                            <comment id="14553880" author="githubbot" created="Thu, 21 May 2015 08:35:12 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690#issuecomment-104181351&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690#issuecomment-104181351&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I would actually say into both, the README and the how to contribute section.&lt;/p&gt;</comment>
                            <comment id="14560871" author="githubbot" created="Wed, 27 May 2015 12:32:50 +0000"  >&lt;p&gt;Github user thvasilo commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690#issuecomment-105890348&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690#issuecomment-105890348&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    OK, I&apos;ll close this PR and open up another one with the doc fixes.&lt;/p&gt;</comment>
                            <comment id="14560872" author="githubbot" created="Wed, 27 May 2015 12:32:58 +0000"  >&lt;p&gt;Github user thvasilo closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/690&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/690&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14733774" author="githubbot" created="Mon, 7 Sep 2015 14:28:06 +0000"  >&lt;p&gt;GitHub user thvasilo opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1100&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2003&quot; title=&quot;Building on some encrypted filesystems leads to &amp;quot;File name too long&amp;quot; error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2003&quot;&gt;&lt;del&gt;FLINK-2003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Building on some encrypted filesystems leads to &quot;File name too long&quot; error&lt;/p&gt;

&lt;p&gt;    Replaces #690, adding docs instead of changing the pom files.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/thvasilo/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/thvasilo/flink&lt;/a&gt; encfs&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1100.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1100.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1100&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 0e1d83a58047a4af5a991e2c30bc8fc1398139fb&lt;br/&gt;
Author: Theodore Vasiloudis &amp;lt;tvas@sics.se&amp;gt;&lt;br/&gt;
Date:   2015-09-07T14:25:58Z&lt;/p&gt;

&lt;p&gt;    Added instructions for encrypted filesystems&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14733776" author="githubbot" created="Mon, 7 Sep 2015 14:30:39 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1100#issuecomment-138313755&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1100#issuecomment-138313755&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank you for opening a new pull request.&lt;/p&gt;

&lt;p&gt;    +1 to merge (@ merging committer: please rename the commit to include the JIRA id &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="14736603" author="githubbot" created="Wed, 9 Sep 2015 10:10:37 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1100#issuecomment-138863495&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1100#issuecomment-138863495&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Will merge this and add the issue number to the commit.&lt;/p&gt;</comment>
                            <comment id="14737342" author="githubbot" created="Wed, 9 Sep 2015 18:17:11 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1100&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14737344" author="stephanewen" created="Wed, 9 Sep 2015 18:17:42 +0000"  >&lt;p&gt;Documentation how to deal with this has been added in 4b6eae5a612ab1b28b64715acd831dccc0ea6d35&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2em1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>