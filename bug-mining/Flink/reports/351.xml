<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:19:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1828] Impossible to output data to an HBase table</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1828</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Right now it is not possible to use HBase TableOutputFormat as output format because Configurable.setConf  is not called in the configure() method of the HadoopOutputFormatBase&lt;/p&gt;</description>
                <environment></environment>
        <key id="12788276">FLINK-1828</key>
            <summary>Impossible to output data to an HBase table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="f.pompermaier">Flavio Pompermaier</reporter>
                        <labels>
                            <label>hadoop</label>
                            <label>hbase</label>
                    </labels>
                <created>Sat, 4 Apr 2015 11:08:08 +0000</created>
                <updated>Thu, 16 Jun 2016 17:07:56 +0000</updated>
                            <resolved>Mon, 27 Apr 2015 21:45:40 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9</fixVersion>
                    <fixVersion>0.8.2</fixVersion>
                                    <component>API / DataSet</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14395694" author="githubbot" created="Sat, 4 Apr 2015 11:13:33 +0000"  >&lt;p&gt;GitHub user fpompermaier opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fixed Configurable HadoopOutputFormat (&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1828&quot; title=&quot;Impossible to output data to an HBase table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1828&quot;&gt;&lt;del&gt;FLINK-1828&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;    See &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1828&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-1828&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/fpompermaier/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/fpompermaier/flink&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #571&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 83655bf2773a871c0fb88481be51c6d61ee98881&lt;br/&gt;
Author: fpompermaier &amp;lt;f.pompermaier@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-04-04T10:57:36Z&lt;/p&gt;

&lt;p&gt;    Fixed Configurable Hadoop output format initialization, added a simple&lt;br/&gt;
    HBase sink test and upgraded HBase dependencies (from 0.98.6 to 0.98.11)&lt;/p&gt;

&lt;p&gt;commit 85dbacf46c6f97f6033a4247cdd60ded87b93641&lt;br/&gt;
Author: fpompermaier &amp;lt;f.pompermaier@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-04-04T10:57:36Z&lt;/p&gt;

&lt;p&gt;    Fixed Configurable Hadoop output format initialization, added a simple&lt;br/&gt;
    HBase sink test and upgraded HBase dependencies (from 0.98.6 to 0.98.11)&lt;/p&gt;

&lt;p&gt;commit da39bd2da2ab6ae03ff90b4434e167b8278d2df2&lt;br/&gt;
Author: fpompermaier &amp;lt;f.pompermaier@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-04-04T11:11:55Z&lt;/p&gt;

&lt;p&gt;    Merge branch &apos;master&apos; of &lt;a href=&quot;https://github.com/fpompermaier/flink.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/fpompermaier/flink.git&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Conflicts:&lt;br/&gt;
    	flink-java/src/main/java/org/apache/flink/api/java/hadoop/mapreduce/HadoopOutputFormatBase.java&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14395707" author="githubbot" created="Sat, 4 Apr 2015 12:18:50 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r27768571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r27768571&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-java/src/main/java/org/apache/flink/api/java/hadoop/mapreduce/HadoopOutputFormatBase.java &amp;#8212;&lt;br/&gt;
    @@ -66,6 +67,8 @@ public HadoopOutputFormatBase(org.apache.hadoop.mapreduce.OutputFormat&amp;lt;K, V&amp;gt; map&lt;br/&gt;
     	@Override&lt;br/&gt;
     	public void configure(Configuration parameters) {&lt;br/&gt;
     		// nothing to do&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    The comment should be removed.&lt;/p&gt;</comment>
                            <comment id="14395709" author="githubbot" created="Sat, 4 Apr 2015 12:20:25 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r27768581&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r27768581&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/src/test/java/org/apache/flink/addons/hbase/example/HBaseWriteExample.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,197 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.addons.hbase.example;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.FlatMapFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapFunction;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.hadoop.mapreduce.HadoopOutputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.tuple.Tuple2;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.apache.hadoop.hbase.client.Mutation;&lt;br/&gt;
    +import org.apache.hadoop.hbase.client.Put;&lt;br/&gt;
    +import org.apache.hadoop.hbase.mapreduce.TableOutputFormat;&lt;br/&gt;
    +import org.apache.hadoop.hbase.util.Bytes;&lt;br/&gt;
    +import org.apache.hadoop.io.Text;&lt;br/&gt;
    +import org.apache.hadoop.mapreduce.Job;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class HBaseWriteExample {&lt;br/&gt;
    +	&lt;br/&gt;
    +	// *************************************************************************&lt;br/&gt;
    +	//     PROGRAM&lt;br/&gt;
    +	// *************************************************************************&lt;br/&gt;
    +	&lt;br/&gt;
    +	public static void main(String[] args) throws Exception {&lt;br/&gt;
    +&lt;br/&gt;
    +		if(!parseParameters(args)) &lt;/p&gt;
{
    +			return;
    +		}
&lt;p&gt;    +		&lt;br/&gt;
    +		// set up the execution environment&lt;br/&gt;
    +		final ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();&lt;br/&gt;
    +		&lt;br/&gt;
    +		// get input data&lt;br/&gt;
    +		DataSet&amp;lt;String&amp;gt; text = getTextDataSet(env);&lt;br/&gt;
    +		&lt;br/&gt;
    +		DataSet&amp;lt;Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt; counts = &lt;br/&gt;
    +				// split up the lines in pairs (2-tuples) containing: (word,1)&lt;br/&gt;
    +				text.flatMap(new Tokenizer())&lt;br/&gt;
    +				// group by the tuple field &quot;0&quot; and sum up tuple field &quot;1&quot;&lt;br/&gt;
    +				.groupBy(0)&lt;br/&gt;
    +				.sum(1);&lt;br/&gt;
    +&lt;br/&gt;
    +		// emit result&lt;br/&gt;
    +//		if(fileOutput) {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    the `if` statement should be completely removed.&lt;/p&gt;</comment>
                            <comment id="14395710" author="githubbot" created="Sat, 4 Apr 2015 12:20:47 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r27768585&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r27768585&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/src/test/java/org/apache/flink/addons/hbase/example/HBaseWriteExample.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,197 @@&lt;br/&gt;
    +/*&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.flink.addons.hbase.example;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.flink.api.common.functions.FlatMapFunction;&lt;br/&gt;
    +import org.apache.flink.api.common.functions.RichMapFunction;&lt;br/&gt;
    +import org.apache.flink.api.java.DataSet;&lt;br/&gt;
    +import org.apache.flink.api.java.ExecutionEnvironment;&lt;br/&gt;
    +import org.apache.flink.api.java.hadoop.mapreduce.HadoopOutputFormat;&lt;br/&gt;
    +import org.apache.flink.api.java.tuple.Tuple2;&lt;br/&gt;
    +import org.apache.flink.configuration.Configuration;&lt;br/&gt;
    +import org.apache.flink.util.Collector;&lt;br/&gt;
    +import org.apache.hadoop.hbase.client.Mutation;&lt;br/&gt;
    +import org.apache.hadoop.hbase.client.Put;&lt;br/&gt;
    +import org.apache.hadoop.hbase.mapreduce.TableOutputFormat;&lt;br/&gt;
    +import org.apache.hadoop.hbase.util.Bytes;&lt;br/&gt;
    +import org.apache.hadoop.io.Text;&lt;br/&gt;
    +import org.apache.hadoop.mapreduce.Job;&lt;br/&gt;
    +&lt;br/&gt;
    +@SuppressWarnings(&quot;serial&quot;)&lt;br/&gt;
    +public class HBaseWriteExample {&lt;br/&gt;
    +	&lt;br/&gt;
    +	// *************************************************************************&lt;br/&gt;
    +	//     PROGRAM&lt;br/&gt;
    +	// *************************************************************************&lt;br/&gt;
    +	&lt;br/&gt;
    +	public static void main(String[] args) throws Exception {&lt;br/&gt;
    +&lt;br/&gt;
    +		if(!parseParameters(args)) &lt;/p&gt;
{
    +			return;
    +		}
&lt;p&gt;    +		&lt;br/&gt;
    +		// set up the execution environment&lt;br/&gt;
    +		final ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();&lt;br/&gt;
    +		&lt;br/&gt;
    +		// get input data&lt;br/&gt;
    +		DataSet&amp;lt;String&amp;gt; text = getTextDataSet(env);&lt;br/&gt;
    +		&lt;br/&gt;
    +		DataSet&amp;lt;Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt; counts = &lt;br/&gt;
    +				// split up the lines in pairs (2-tuples) containing: (word,1)&lt;br/&gt;
    +				text.flatMap(new Tokenizer())&lt;br/&gt;
    +				// group by the tuple field &quot;0&quot; and sum up tuple field &quot;1&quot;&lt;br/&gt;
    +				.groupBy(0)&lt;br/&gt;
    +				.sum(1);&lt;br/&gt;
    +&lt;br/&gt;
    +		// emit result&lt;br/&gt;
    +//		if(fileOutput) {&lt;br/&gt;
    +			Job job = Job.getInstance();&lt;br/&gt;
    +			job.getConfiguration().set(TableOutputFormat.OUTPUT_TABLE, outputTableName);&lt;br/&gt;
    +			// TODO is &quot;mapred.output.dir&quot; really useful?&lt;br/&gt;
    +			job.getConfiguration().set(&quot;mapred.output.dir&quot;,&quot;/tmp/test&quot;);&lt;br/&gt;
    +			counts.map(new RichMapFunction &amp;lt;Tuple2&amp;lt;String,Integer&amp;gt;, Tuple2&amp;lt;Text,Mutation&amp;gt;&amp;gt;() {&lt;br/&gt;
    +				private final byte[] CF_SOME = Bytes.toBytes(&quot;test-column&quot;);&lt;br/&gt;
    +				private final byte[] Q_SOME = Bytes.toBytes(&quot;value&quot;);&lt;br/&gt;
    +				private transient Tuple2&amp;lt;Text, Mutation&amp;gt; reuse;&lt;br/&gt;
    +&lt;br/&gt;
    +				@Override&lt;br/&gt;
    +				public void open(Configuration parameters) throws Exception &lt;/p&gt;
{
    +					super.open(parameters);
    +					reuse = new Tuple2&amp;lt;Text, Mutation&amp;gt;();
    +				}
&lt;p&gt;    +&lt;br/&gt;
    +				@Override&lt;br/&gt;
    +				public Tuple2&amp;lt;Text, Mutation&amp;gt; map(Tuple2&amp;lt;String, Integer&amp;gt; t) throws Exception &lt;/p&gt;
{
    +					reuse.f0 = new Text(t.f0);
    +					Put put = new Put(t.f0.getBytes());
    +					put.add(CF_SOME, Q_SOME, Bytes.toBytes(t.f1));
    +					reuse.f1 = put;
    +					return reuse;
    +				}
&lt;p&gt;    +			}).output(new HadoopOutputFormat&amp;lt;Text, Mutation&amp;gt;(new TableOutputFormat&amp;lt;Text&amp;gt;(), job));&lt;br/&gt;
    +//		} else {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    `else` branch not necessary&lt;/p&gt;</comment>
                            <comment id="14395711" author="githubbot" created="Sat, 4 Apr 2015 12:26:37 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#issuecomment-89559472&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#issuecomment-89559472&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good to me, except for some comments that should be removed.&lt;/p&gt;

&lt;p&gt;    Regarding the `mapred.output.dir` parameter I am not sure whether this is generally expected for all Hadoop OutputFormats or only required for file-based OutputFormats. &lt;br/&gt;
    I would keep it for now and open a JIRA to investigate the issue and fix it if necessary.&lt;/p&gt;</comment>
                            <comment id="14395714" author="githubbot" created="Sat, 4 Apr 2015 12:54:58 +0000"  >&lt;p&gt;Github user fpompermaier commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#issuecomment-89570344&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#issuecomment-89570344&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Removed comments and commented code as suggested by Fabian. Do I have also to create a JIRA ticket about mapred.output.dir parameter? I think that it can be defaulted to the Flink temp directory or flinkTempDir/hadoop/job-id&lt;/p&gt;</comment>
                            <comment id="14482834" author="githubbot" created="Tue, 7 Apr 2015 09:07:24 +0000"  >&lt;p&gt;Github user mxm commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#issuecomment-90475934&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#issuecomment-90475934&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Is the Hadoop configuration specified in the flink-conf.yaml loaded? If we set `mapred.output.dir` then we should check for an existing config entry beforehand. Otherwise, we overwrite Hadoop configuration values. Like @fhueske suggested, please open a JIRA for investigation. &lt;/p&gt;</comment>
                            <comment id="14482898" author="githubbot" created="Tue, 7 Apr 2015 09:25:58 +0000"  >&lt;p&gt;Github user fpompermaier commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#issuecomment-90481118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#issuecomment-90481118&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ok, I created this issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1834&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-1834&lt;/a&gt;) about the mapred.output.dir &lt;/p&gt;</comment>
                            <comment id="14504721" author="githubbot" created="Tue, 21 Apr 2015 10:18:55 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28765691&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28765691&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/src/test/resources/hbase-site.xml &amp;#8212;&lt;br/&gt;
    @@ -22,14 +22,13 @@&lt;br/&gt;
     --&amp;gt;&lt;br/&gt;
     &amp;lt;configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;    +    &amp;lt;!-- &lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Are these mandatory parameters to use HBase?&lt;br/&gt;
    Otherwise, we should remove them.&lt;/p&gt;</comment>
                            <comment id="14504722" author="githubbot" created="Tue, 21 Apr 2015 10:19:58 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28765745&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28765745&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Why did you add this dependency? &lt;br/&gt;
    There are no additional tests that would require it, right?&lt;/p&gt;</comment>
                            <comment id="14504724" author="githubbot" created="Tue, 21 Apr 2015 10:21:50 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#issuecomment-94735401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#issuecomment-94735401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, except two minor things. &lt;br/&gt;
    Once these are resolved I would merge it and also backport it to the 0.8 branch.&lt;/p&gt;</comment>
                            <comment id="14504727" author="githubbot" created="Tue, 21 Apr 2015 10:24:15 +0000"  >&lt;p&gt;Github user fpompermaier commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28765996&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28765996&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    It is needed if you want to use the HBase TableOutputFormat&lt;/p&gt;</comment>
                            <comment id="14504728" author="githubbot" created="Tue, 21 Apr 2015 10:25:32 +0000"  >&lt;p&gt;Github user fpompermaier commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28766073&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28766073&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/src/test/resources/hbase-site.xml &amp;#8212;&lt;br/&gt;
    @@ -22,14 +22,13 @@&lt;br/&gt;
     --&amp;gt;&lt;br/&gt;
     &amp;lt;configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;    +    &amp;lt;!-- &lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I think you can remove the hbase-site.xml file. It is required only if you have hbase settings different from the default ones. Also the log4j.properties could be removed&lt;/p&gt;</comment>
                            <comment id="14504733" author="githubbot" created="Tue, 21 Apr 2015 10:28:27 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28766220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28766220&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    But why is it in test scope then?&lt;/p&gt;</comment>
                            <comment id="14504734" author="githubbot" created="Tue, 21 Apr 2015 10:29:45 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28766303&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28766303&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/src/test/resources/hbase-site.xml &amp;#8212;&lt;br/&gt;
    @@ -22,14 +22,13 @@&lt;br/&gt;
     --&amp;gt;&lt;br/&gt;
     &amp;lt;configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;    +    &amp;lt;!-- &lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    OK, let&apos;s remove them.&lt;/p&gt;</comment>
                            <comment id="14504737" author="githubbot" created="Tue, 21 Apr 2015 10:31:30 +0000"  >&lt;p&gt;Github user fpompermaier commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28766399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28766399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Because it is not required unless you want to write into HBase,  for the read it&apos;s not required&lt;/p&gt;</comment>
                            <comment id="14504779" author="githubbot" created="Tue, 21 Apr 2015 11:11:16 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28768490&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28768490&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    But putting it into test scope is not a proper solution to solve the issue. &lt;br/&gt;
    IMO, it should be either put in the regular scope such that it can be used at runtime or we put it into a comment and add a line explaining why we did that.&lt;/p&gt;
</comment>
                            <comment id="14504799" author="f.pompermaier" created="Tue, 21 Apr 2015 11:29:40 +0000"  >&lt;p&gt;Take into account that that dependency has a lot of transitive dependencies&lt;/p&gt;
</comment>
                            <comment id="14505406" author="githubbot" created="Tue, 21 Apr 2015 18:09:28 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28805740&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28805740&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Is the HBase server dependency really required for any client that wants to write into HBase? This seems like a pretty bad design on the HBase side.&lt;/p&gt;

&lt;p&gt;    Can you tell us what fails when you omit this dependency?&lt;/p&gt;</comment>
                            <comment id="14507025" author="githubbot" created="Wed, 22 Apr 2015 13:06:51 +0000"  >&lt;p&gt;Github user fpompermaier commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28869610&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28869610&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Unfortunately the TableInputFormat and TableOutputFormat are in the server jar.&lt;br/&gt;
    For the read we&apos;ve reimplemented it to make it more robust so we don&apos;t need that jar, but for the output it is indeed required.&lt;/p&gt;</comment>
                            <comment id="14509034" author="githubbot" created="Thu, 23 Apr 2015 13:25:59 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28961417&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28961417&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Fair enough. Then the dependency should not be in test scope, but in the default scope, so users get this dependency into their fat jar as well when using the HBase output format. May be worth to define a few exclusions, though, to not get the complete tail of transitive HBase dependencies (I think that even includes JRuby and so on)&lt;/p&gt;</comment>
                            <comment id="14509134" author="githubbot" created="Thu, 23 Apr 2015 14:18:10 +0000"  >&lt;p&gt;Github user fpompermaier commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r28966088&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r28966088&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Could you do that?&lt;/p&gt;</comment>
                            <comment id="14513737" author="githubbot" created="Mon, 27 Apr 2015 08:50:48 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r29129684&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r29129684&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I do not have a HBase setup here. &lt;br/&gt;
    Could you try to exclude all dependencies of hbase-server and add them until it works? I hope the TableInputFormat and TableOutputFormat have not too many external dependencies.&lt;/p&gt;</comment>
                            <comment id="14513753" author="githubbot" created="Mon, 27 Apr 2015 09:02:18 +0000"  >&lt;p&gt;Github user fpompermaier commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#discussion_r29130488&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#discussion_r29130488&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-staging/flink-hbase/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -112,6 +112,12 @@ under the License.&lt;br/&gt;
     				&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     			&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
     		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +		&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Ok, I hope to be able to do it before this evening!&lt;/p&gt;</comment>
                            <comment id="14515048" author="githubbot" created="Mon, 27 Apr 2015 21:34:37 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14515050" author="githubbot" created="Mon, 27 Apr 2015 21:38:34 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/571#issuecomment-96828941&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/571#issuecomment-96828941&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This PR was split into PR #632 and PR #633 &lt;/p&gt;</comment>
                            <comment id="14515062" author="fhueske" created="Mon, 27 Apr 2015 21:45:40 +0000"  >&lt;p&gt;Fixed in&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;0.9 with de573cf5cef3bed6c489af85dba2cc61912db4c0&lt;/li&gt;
	&lt;li&gt;0.8.2 with ffc86f6686520b8ed4270ccd76ac304f64368c6e&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27sdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>