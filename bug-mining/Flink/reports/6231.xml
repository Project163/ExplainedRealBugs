<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:09:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-25885] ClusterEntrypointTest.testWorkingDirectoryIsDeletedIfApplicationCompletes  failed on azure</title>
                <link>https://issues.apache.org/jira/browse/FLINK-25885</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2022-01-31T05:00:07.3113870Z Jan 31 05:00:07 java.util.concurrent.CompletionException: org.apache.flink.runtime.rpc.akka.exceptions.AkkaRpcException: Discard message, because the rpc endpoint akka.tcp:&lt;span class=&quot;code-comment&quot;&gt;//flink@127.0.0.1:6123/user/rpc/resourcemanager_2 has not been started yet.
&lt;/span&gt;2022-01-31T05:00:07.3115008Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
2022-01-31T05:00:07.3115778Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
2022-01-31T05:00:07.3116527Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
2022-01-31T05:00:07.3117267Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
2022-01-31T05:00:07.3118011Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2022-01-31T05:00:07.3118770Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
2022-01-31T05:00:07.3119608Z Jan 31 05:00:07 	at org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.lambda$invokeRpc$1(AkkaInvocationHandler.java:251)
2022-01-31T05:00:07.3120425Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
2022-01-31T05:00:07.3121199Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
2022-01-31T05:00:07.3121957Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2022-01-31T05:00:07.3122716Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
2022-01-31T05:00:07.3123457Z Jan 31 05:00:07 	at org.apache.flink.util.concurrent.FutureUtils.doForward(FutureUtils.java:1387)
2022-01-31T05:00:07.3124241Z Jan 31 05:00:07 	at org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.lambda$&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;$1(ClassLoadingUtils.java:93)
2022-01-31T05:00:07.3125106Z Jan 31 05:00:07 	at org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68)
2022-01-31T05:00:07.3126063Z Jan 31 05:00:07 	at org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.lambda$guardCompletionWithContextClassLoader$2(ClassLoadingUtils.java:92)
2022-01-31T05:00:07.3127207Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
2022-01-31T05:00:07.3127982Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
2022-01-31T05:00:07.3128741Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2022-01-31T05:00:07.3129497Z Jan 31 05:00:07 	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
2022-01-31T05:00:07.3130385Z Jan 31 05:00:07 	at org.apache.flink.runtime.concurrent.akka.AkkaFutureUtils$1.onComplete(AkkaFutureUtils.java:45)
2022-01-31T05:00:07.3131092Z Jan 31 05:00:07 	at akka.dispatch.OnComplete.internal(Future.scala:299)
2022-01-31T05:00:07.3131695Z Jan 31 05:00:07 	at akka.dispatch.OnComplete.internal(Future.scala:297)
2022-01-31T05:00:07.3132310Z Jan 31 05:00:07 	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:224)
2022-01-31T05:00:07.3132943Z Jan 31 05:00:07 	at akka.dispatch.japi$CallbackBridge.apply(Future.scala:221)
2022-01-31T05:00:07.3133577Z Jan 31 05:00:07 	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:60)
2022-01-31T05:00:07.3134340Z Jan 31 05:00:07 	at org.apache.flink.runtime.concurrent.akka.AkkaFutureUtils$DirectExecutionContext.execute(AkkaFutureUtils.java:65)
2022-01-31T05:00:07.3135149Z Jan 31 05:00:07 	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:68)
2022-01-31T05:00:07.3135898Z Jan 31 05:00:07 	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:284)
2022-01-31T05:00:07.3136692Z Jan 31 05:00:07 	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:284)
2022-01-31T05:00:07.3137454Z Jan 31 05:00:07 	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:284)
2022-01-31T05:00:07.3138127Z Jan 31 05:00:07 	at akka.pattern.PromiseActorRef.$bang(AskSupport.scala:621)
2022-01-31T05:00:07.3138726Z Jan 31 05:00:07 	at akka.actor.ActorRef.tell(ActorRef.scala:131)
2022-01-31T05:00:07.3139391Z Jan 31 05:00:07 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.sendErrorIfSender(AkkaRpcActor.java:501)
2022-01-31T05:00:07.3140173Z Jan 31 05:00:07 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:173)
2022-01-31T05:00:07.3140882Z Jan 31 05:00:07 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24)
2022-01-31T05:00:07.3141535Z Jan 31 05:00:07 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20)
2022-01-31T05:00:07.3142177Z Jan 31 05:00:07 	at scala.PartialFunction.applyOrElse(PartialFunction.scala:123)
2022-01-31T05:00:07.3142822Z Jan 31 05:00:07 	at scala.PartialFunction.applyOrElse$(PartialFunction.scala:122)
2022-01-31T05:00:07.3143467Z Jan 31 05:00:07 	at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20)
2022-01-31T05:00:07.3144145Z Jan 31 05:00:07 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2022-01-31T05:00:07.3145019Z Jan 31 05:00:07 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)
2022-01-31T05:00:07.3145744Z Jan 31 05:00:07 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)
2022-01-31T05:00:07.3146421Z Jan 31 05:00:07 	at akka.actor.Actor.aroundReceive(Actor.scala:537)
2022-01-31T05:00:07.3147053Z Jan 31 05:00:07 	at akka.actor.Actor.aroundReceive$(Actor.scala:535)
2022-01-31T05:00:07.3147714Z Jan 31 05:00:07 	at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220)
2022-01-31T05:00:07.3148417Z Jan 31 05:00:07 	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580)
2022-01-31T05:00:07.3149072Z Jan 31 05:00:07 	at akka.actor.ActorCell.invoke(ActorCell.scala:548)
2022-01-31T05:00:07.3149725Z Jan 31 05:00:07 	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)
2022-01-31T05:00:07.3231566Z Jan 31 05:00:07 	at akka.dispatch.Mailbox.run(Mailbox.scala:231)
2022-01-31T05:00:07.3232417Z Jan 31 05:00:07 	at akka.dispatch.Mailbox.exec(Mailbox.scala:243)
2022-01-31T05:00:07.3233367Z Jan 31 05:00:07 	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
2022-01-31T05:00:07.3234208Z Jan 31 05:00:07 	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
2022-01-31T05:00:07.3234909Z Jan 31 05:00:07 	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
2022-01-31T05:00:07.3235609Z Jan 31 05:00:07 	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)
2022-01-31T05:00:07.3237023Z Jan 31 05:00:07 Caused by: org.apache.flink.runtime.rpc.akka.exceptions.AkkaRpcException: Discard message, because the rpc endpoint akka.tcp:&lt;span class=&quot;code-comment&quot;&gt;//flink@127.0.0.1:6123/user/rpc/resourcemanager_2 has not been started yet.
&lt;/span&gt;2022-01-31T05:00:07.3238316Z Jan 31 05:00:07 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:175)
2022-01-31T05:00:07.3238886Z Jan 31 05:00:07 	... 20 more
2022-01-31T05:00:07.3239220Z Jan 31 05:00:07 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=30491&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=12987&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=30491&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=12987&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13425703">FLINK-25885</key>
            <summary>ClusterEntrypointTest.testWorkingDirectoryIsDeletedIfApplicationCompletes  failed on azure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="gaoyunhaii">Yun Gao</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 31 Jan 2022 06:52:59 +0000</created>
                <updated>Thu, 3 Feb 2022 13:09:36 +0000</updated>
                            <resolved>Thu, 3 Feb 2022 13:09:36 +0000</resolved>
                                    <version>1.15.0</version>
                                    <fixVersion>1.15.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17484571" author="till.rohrmann" created="Mon, 31 Jan 2022 08:50:47 +0000"  >&lt;p&gt;I think the problem is that the &lt;tt&gt;ResourceManagerServiceImpl.deregisterApplication&lt;/tt&gt; does not properly wait for the &lt;tt&gt;ResourceManager&lt;/tt&gt; to be started. This has been introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-21667&quot; title=&quot;Standby RM might remove resources from Kubernetes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-21667&quot;&gt;&lt;del&gt;FLINK-21667&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17484598" author="till.rohrmann" created="Mon, 31 Jan 2022 10:24:28 +0000"  >&lt;p&gt;I think there are some deeper problems with the lifecycle of the &lt;tt&gt;ResourceManagerServiceImpl&lt;/tt&gt;. I&apos;d suggest to disable the error reporting for the &lt;tt&gt;ResourceManagerServiceImpl.deregisterApplication&lt;/tt&gt; in order to stabilize the test and to fix the true problem with &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-25893&quot; title=&quot;ResourceManagerServiceImpl&amp;#39;s lifecycle can lead to exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-25893&quot;&gt;&lt;del&gt;FLINK-25893&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17485151" author="JIRAUSER281719" created="Tue, 1 Feb 2022 09:55:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=30491&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=12987&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=30491&amp;amp;view=logs&amp;amp;j=4d4a0d10-fca2-5507-8eed-c07f0bdf4887&amp;amp;t=7b25afdf-cc6c-566f-5459-359dc2585798&amp;amp;l=12987&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17486460" author="till.rohrmann" created="Thu, 3 Feb 2022 13:09:36 +0000"  >&lt;p&gt;Fixed via 59d2d84d83696d4775b6ff3ec97f8274ff6e371f&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13362984">FLINK-21667</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13425746">FLINK-25893</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0z3s0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>