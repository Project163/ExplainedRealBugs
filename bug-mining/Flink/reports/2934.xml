<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:38:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-11892] Port conflict when running nightly end-to-end tests</title>
                <link>https://issues.apache.org/jira/browse/FLINK-11892</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When I do the end-to-end check according to `&lt;a href=&quot;https://github.com/apache/flink/tree/master/flink-end-to-end-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/tree/master/flink-end-to-end-tests&lt;/a&gt;`. I got the follows problem:&lt;/p&gt;

&lt;p&gt;1.&#160;Executed command&#65292; and the message of console as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
FLINK_DIR=/Users/jincheng/work/FlinkRelease/1.8/flink-1.8.0/flink-dist/target/flink-1.8.0-bin/flink-1.8.0
export FLINK_DIR

sh flink-end-to-end-tests/run-nightly-tests.sh
...
...
Starting taskexecutor daemon on host jinchengsunjcs-iMac.local.
Dispatcher REST endpoint is up.
Job (180a3cfc35d549417e5807520d7402f9) is running.
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job to process up to 200 records, current progress: 0 records ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. Log info:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2019-03-13 07:56:33,670 INFO&#160; akka.remote.RemoteActorRefProvider$RemotingTerminator &#160; &#160; &#160; &#160; - Remoting shut down.

2019-03-13 07:56:33,673 ERROR org.apache.flink.runtime.entrypoint.ClusterEntrypoint &#160; &#160; &#160; &#160; - Could not start cluster entrypoint StandaloneSessionClusterEntrypoint.

org.apache.flink.runtime.entrypoint.ClusterEntrypointException: Failed to initialize the cluster entrypoint StandaloneSessionClusterEntrypoint.

at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.startCluster(ClusterEntrypoint.java:190)

at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.runClusterEntrypoint(ClusterEntrypoint.java:535)

at org.apache.flink.runtime.entrypoint.StandaloneSessionClusterEntrypoint.main(StandaloneSessionClusterEntrypoint.java:65)

Caused by: java.net.BindException: Could not start actor system on any port in port range 6123

at org.apache.flink.runtime.clusterframework.BootstrapTools.startActorSystem(BootstrapTools.java:172)

at org.apache.flink.runtime.clusterframework.BootstrapTools.startActorSystem(BootstrapTools.java:112)

at org.apache.flink.runtime.clusterframework.BootstrapTools.startActorSystem(BootstrapTools.java:87)

at org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils.createRpcService(AkkaRpcServiceUtils.java:84)

at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.createRpcService(ClusterEntrypoint.java:296)

at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.initializeServices(ClusterEntrypoint.java:264)

at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.runCluster(ClusterEntrypoint.java:216)

at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.lambda$startCluster$0(ClusterEntrypoint.java:172)

at org.apache.flink.runtime.security.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:30)

at org.apache.flink.runtime.entrypoint.ClusterEntrypoint.startCluster(ClusterEntrypoint.java:171)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3. environment&lt;br/&gt;
MacOS: 10.14.3 &lt;br/&gt;
Java version &quot;1.8.0_151&quot;&lt;br/&gt;
jinchengsunjcs-iMac:~ jincheng$ echo $0&lt;br/&gt;
-bash&lt;/p&gt;</description>
                <environment></environment>
        <key id="13221257">FLINK-11892</key>
            <summary>Port conflict when running nightly end-to-end tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyu">Yu Li</assignee>
                                    <reporter username="sunjincheng121">sunjincheng</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 13 Mar 2019 00:27:56 +0000</created>
                <updated>Mon, 18 Mar 2019 14:48:48 +0000</updated>
                            <resolved>Wed, 13 Mar 2019 11:54:14 +0000</resolved>
                                    <version>1.8.0</version>
                    <version>1.9.0</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>Test Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16791183" author="sunjincheng121" created="Wed, 13 Mar 2019 01:33:12 +0000"  >&lt;p&gt;Just now I try to use `flink-end-to-end-tests/run-nightly-tests.sh` the test passed. &lt;br/&gt;
The reason is that the two commands use different shells on my machine:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jinchengsunjcs-iMac:~ jincheng$ sh
Sh-3.2$
Sh-3.2$ exit
Exit
jinchengsunjcs-iMac:~ jincheng$ /usr/bin/env bash
Bash-3.2$
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And the `run-nightly-tests.sh` has defined ` /usr/bin/env bash`. So, I think we should improve the README doc, tell the user not to use sh to execute.&lt;br/&gt;
What do you think?&lt;/p&gt;</comment>
                            <comment id="16791268" author="carp84" created="Wed, 13 Mar 2019 03:56:47 +0000"  >&lt;p&gt;+1, nice analysis on the root cause!&lt;/p&gt;

&lt;p&gt;I encountered the same issue on my macbook (10.14.3 also) and confirmed that directly run the &lt;tt&gt;run-nightly-tests.sh&lt;/tt&gt;&#160;script instead of using &lt;tt&gt;sh&lt;/tt&gt; to launch it could resolve the problem. Also checked and confirmed in my env &lt;tt&gt;/bin/sh&lt;/tt&gt; is not linked to &lt;tt&gt;/bin/bash&lt;/tt&gt; although many linux system will do.&lt;/p&gt;

&lt;p&gt;I think the current command documented in current README is correct, but adding a special note about don&apos;t explicitly use &lt;em&gt;&lt;b&gt;sh&lt;/b&gt;&lt;/em&gt; to run the script will definitely help.&lt;/p&gt;

&lt;p&gt;I&apos;ve also opened a JIRA (&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-11888&quot; title=&quot;Refine document of how to run end-to-end tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-11888&quot;&gt;&lt;del&gt;FLINK-11888&lt;/del&gt;&lt;/a&gt;) to refine the end-to-end test document, so do you mind me to take this JIRA and link it to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-11888&quot; title=&quot;Refine document of how to run end-to-end tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-11888&quot;&gt;&lt;del&gt;FLINK-11888&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunjincheng121&quot; class=&quot;user-hover&quot; rel=&quot;sunjincheng121&quot;&gt;sunjincheng121&lt;/a&gt;? Thanks.&lt;/p&gt;</comment>
                            <comment id="16791286" author="sunjincheng121" created="Wed, 13 Mar 2019 04:34:45 +0000"  >&lt;p&gt;Hi Thanks for your nice check &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carp84&quot; class=&quot;user-hover&quot; rel=&quot;carp84&quot;&gt;carp84&lt;/a&gt; !&lt;/p&gt;

&lt;p&gt;Of course, I am glad to hear that you want help to take this JIRA. and improve the README doc.&lt;/p&gt;

&lt;p&gt;I have had assigned the ticket to you! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16791601" author="sunjincheng121" created="Wed, 13 Mar 2019 11:41:57 +0000"  >&lt;p&gt;Fixed in Master: 884d26b2731bbd484006a598d360b28a4033443e&lt;br/&gt;
Fixed in release-1.8: 446eab513852d90f4066fefaeee5cb8ade7f0fc0&lt;/p&gt;</comment>
                            <comment id="16791626" author="carp84" created="Wed, 13 Mar 2019 12:02:50 +0000"  >&lt;p&gt;More details about the difference between &lt;tt&gt;/usr/bin/env bash&lt;/tt&gt; and &lt;tt&gt;/usr/bin/bash&lt;/tt&gt; please refer to &lt;a href=&quot;https://stackoverflow.com/questions/16365130/what-is-the-difference-between-usr-bin-env-bash-and-usr-bin-bash&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this link&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="13221118">FLINK-11888</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13221118">FLINK-11888</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00mw8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>