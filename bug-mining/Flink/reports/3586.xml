<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:42:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-15290] Need a way to turn off vectorized orc reader for SQL CLI</title>
                <link>https://issues.apache.org/jira/browse/FLINK-15290</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description></description>
                <environment></environment>
        <key id="13274924">FLINK-15290</key>
            <summary>Need a way to turn off vectorized orc reader for SQL CLI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lirui">Rui Li</assignee>
                                    <reporter username="lirui">Rui Li</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 17 Dec 2019 08:04:38 +0000</created>
                <updated>Thu, 12 Mar 2020 05:42:14 +0000</updated>
                            <resolved>Thu, 2 Jan 2020 04:40:49 +0000</resolved>
                                                    <fixVersion>1.10.0</fixVersion>
                                    <component>Connectors / Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16997990" author="ykt836" created="Tue, 17 Dec 2019 08:32:25 +0000"  >&lt;p&gt;We already have this in `HiveOptions`, the config name is&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;table.exec.hive.fallback-mapred-reader = true
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Could you check whether this can work?&lt;/p&gt;</comment>
                            <comment id="16998051" author="lirui" created="Tue, 17 Dec 2019 10:24:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ykt836&quot; class=&quot;user-hover&quot; rel=&quot;ykt836&quot;&gt;ykt836&lt;/a&gt; Yeah we have the configuration but currently it won&apos;t be passed to &lt;tt&gt;HiveTableInputFormat&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="16998200" author="lirui" created="Tue, 17 Dec 2019 13:08:39 +0000"  >&lt;p&gt;I set &lt;tt&gt;table.exec.hive.fallback-mapred-reader&lt;/tt&gt; in flink-conf.yaml. However, in &lt;tt&gt;AbstractUdfStreamOperator::open&lt;/tt&gt;, we open the UDF with &lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-streaming-java/src/main/java/org/apache/flink/streaming/api/operators/AbstractUdfStreamOperator.java#L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;an empty configuration&lt;/a&gt;. So what I put in flink-conf.yaml is not visible to HiveTableInputFormat. Replacing the empty configuration with &lt;tt&gt;GlobalConfiguration.loadConfiguration()&lt;/tt&gt; solves the problem.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ykt836&quot; class=&quot;user-hover&quot; rel=&quot;ykt836&quot;&gt;ykt836&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt; Do you think that&apos;s the right way to go?&lt;/p&gt;</comment>
                            <comment id="16999905" author="lzljs3620320" created="Thu, 19 Dec 2019 10:06:37 +0000"  >&lt;p&gt;I think yes, this is a temporary way.&lt;/p&gt;

&lt;p&gt;In the future, I think it is better to provide a way to get TableConfig.&lt;/p&gt;</comment>
                            <comment id="17005220" author="jark" created="Mon, 30 Dec 2019 09:25:08 +0000"  >&lt;p&gt;I&apos;m not sure about this. &lt;/p&gt;

&lt;p&gt;1) Does it work in distributed environment (e.g. YARN session)?&lt;br/&gt;
2) I&apos;m not sure whether it is intended to create a new instance of Configuration in &lt;tt&gt;AbstractUdfStreamOperator#open()&lt;/tt&gt;, cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;&lt;br/&gt;
3) Could you &lt;tt&gt;GlobalConfiguration.loadConfiguration()&lt;/tt&gt; in &lt;tt&gt;HiveTableInputFormat&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="17005221" author="jark" created="Mon, 30 Dec 2019 09:26:15 +0000"  >&lt;p&gt;I added &lt;tt&gt;DataStream&lt;/tt&gt; component, as the pull request changes code of DataStream part. &lt;/p&gt;</comment>
                            <comment id="17005227" author="lzljs3620320" created="Mon, 30 Dec 2019 09:39:11 +0000"  >&lt;p&gt;Yes &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt;, Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt;, we should modify &quot;HiveInputFormat&quot; to &quot;GlobalConfiguration.loadConfiguration&quot;.&lt;/p&gt;

&lt;p&gt;We should not modify &quot;AbstractUdfStreamOperator&quot;, it should be a big impact on most of users.&lt;/p&gt;</comment>
                            <comment id="17005232" author="lzljs3620320" created="Mon, 30 Dec 2019 09:57:05 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt;:&#160;&lt;/p&gt;

&lt;p&gt;&amp;gt;&#160;I&apos;m not sure whether it is intended to create a new instance of Configuration in&#160;&lt;tt&gt;AbstractUdfStreamOperator#open()&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I found the comments in &quot;AbstractUdfStreamOperator.getUserFunctionParameters&quot;:&lt;/p&gt;

&lt;p&gt;Since the streaming API does not implement any parametrization of functions via a&#160;configuration, the config returned here is actually empty.&lt;/p&gt;</comment>
                            <comment id="17005280" author="lirui" created="Mon, 30 Dec 2019 12:13:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt; Yes I&apos;ll update the PR to load the configurations in &lt;tt&gt;HiveTableInputFormat&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17006584" author="phoenixjiangnan" created="Thu, 2 Jan 2020 04:40:50 +0000"  >&lt;p&gt;master: f205d754ad513a8e16dd2b9d5fa4586149ac7013&lt;br/&gt;
1.10: 694ae9c9c943a8f8cc0aff5aa54ce7207eb3da21&lt;/p&gt;</comment>
                            <comment id="17008722" author="aljoscha" created="Mon, 6 Jan 2020 10:51:12 +0000"  >&lt;p&gt;I don&apos;t think &lt;tt&gt;GlobalConfiguration.loadConfiguration()&lt;/tt&gt; is the way to go here, as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt; mentioned, this could not work in some environments.&lt;/p&gt;

&lt;p&gt;In general &lt;tt&gt;GlobalConfiguration&lt;/tt&gt; is a &quot;hack&quot; that I think we should get rid of in the long-term because it needs to much global state to be correct, i.e. the config must be there and a certain environment variable needs to be set. If we can, we should always pass through options explicitly.&lt;/p&gt;</comment>
                            <comment id="17008735" author="lirui" created="Mon, 6 Jan 2020 11:17:39 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;, thanks for the inputs. The merged PR only loads global configurations on client side, assuming the env variable and conf file are always available on client side. I agree with you the solution seems a little hacky, but I don&apos;t know what&apos;s the recommended way to get configurations user puts in &lt;tt&gt;flink-conf.yaml&lt;/tt&gt; or &lt;tt&gt;sql-client-defaults.yaml&lt;/tt&gt;. Could you please elaborate on what you mean by &quot;pass through options explicitly&quot;?&lt;/p&gt;</comment>
                            <comment id="17009272" author="lzljs3620320" created="Tue, 7 Jan 2020 01:15:38 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;&#160;, actually we can not&#160;pass through options explicitly because of our current Catalog/TableFactory api, we have no chance to get options from configuration. In 1.11, we should solve this problem by passing TableConfig to Catalog/TableFactory.&lt;/p&gt;

&lt;p&gt;So as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;lirui&lt;/a&gt;&#160;said, we get option from the&#160;GlobalConfiguration.loadConfiguration() of client side. ï¿½What do you think about the&#160;GlobalConfiguration of client side? Should always work?&lt;/p&gt;</comment>
                            <comment id="17057605" author="tsreaper" created="Thu, 12 Mar 2020 05:04:15 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lzljs3620320&quot; class=&quot;user-hover&quot; rel=&quot;lzljs3620320&quot;&gt;lzljs3620320&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I also agree that hive source configs should go into table config, as HiveTableSource is a table source and will be created and optimized during optimization. How&apos;s the progress of moving these options into table config, is it planned to be done in 1.11?&lt;/p&gt;</comment>
                            <comment id="17057617" author="lzljs3620320" created="Thu, 12 Mar 2020 05:42:14 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=TsReaper&quot; class=&quot;user-hover&quot; rel=&quot;TsReaper&quot;&gt;TsReaper&lt;/a&gt;, it is done in&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-16179&quot; title=&quot;Use configuration from TableFactory in hive connector&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-16179&quot;&gt;&lt;del&gt;FLINK-16179&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13286366">FLINK-16179</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09qug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>