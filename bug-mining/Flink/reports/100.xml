<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:17:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1008] createProgramPlan() throws exception</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1008</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;After calling createProgramPlan() I get the following exception:&lt;br/&gt;
java.lang.RuntimeException: No data sinks have been created yet. A program needs at least one sink that consumes data. Examples are writing the data set or printing it.&lt;br/&gt;
	at eu.stratosphere.api.java.ExecutionEnvironment.createProgramPlan(ExecutionEnvironment.java:618)&lt;br/&gt;
	at eu.stratosphere.api.java.LocalEnvironment.execute(LocalEnvironment.java:51)&lt;br/&gt;
	at eu.stratosphere.api.java.ExecutionEnvironment.execute(ExecutionEnvironment.java:516)&lt;/p&gt;

&lt;p&gt;The plan execute and we also have data sinks, so the error is really confusing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12726062">FLINK-1008</key>
            <summary>createProgramPlan() throws exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bastiank">Bastian K&#246;cher</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Jul 2014 12:28:27 +0000</created>
                <updated>Thu, 28 Feb 2019 14:29:44 +0000</updated>
                            <resolved>Mon, 17 Nov 2014 13:22:03 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14054950" author="bastiank" created="Tue, 8 Jul 2014 13:56:47 +0000"  >&lt;p&gt;getExecutionPlan() also throws an exception, but prints still a plan.&lt;/p&gt;</comment>
                            <comment id="14054965" author="stephanewen" created="Tue, 8 Jul 2014 14:08:14 +0000"  >&lt;p&gt;Are you sure you added a sink? (print(), output(...), writeTo(...) )&lt;/p&gt;

&lt;p&gt;Can you paste the program code here?&lt;/p&gt;</comment>
                            <comment id="14055014" author="bastiank" created="Tue, 8 Jul 2014 15:04:17 +0000"  >&lt;p&gt;As usual, execute the class HAC &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14055047" author="stephanewen" created="Tue, 8 Jul 2014 15:33:25 +0000"  >&lt;p&gt;Okay, this is somewhat expected behavior.&lt;/p&gt;

&lt;p&gt;Whenever you trigger the plan creation / execution, it works on the part of the program so far. After that, all command create a &quot;new plan&quot;. It is supposed to allow you things like that:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DataSet&amp;lt;...&amp;gt; stage = env.doSomething();
stage.print();
env.execute();

DataSet&amp;lt;...&amp;gt; stage2 = stage.doSomethingMore();
stage2.writeTo(...);
env.execute();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you call &lt;tt&gt;createPlan()&lt;/tt&gt; you &quot;finish&quot; that part of the program. When you then call execute, the second part of the program is empty.&lt;/p&gt;

&lt;p&gt;It is debatable, tough, whether &lt;tt&gt;getExecutionPlan()&lt;/tt&gt; should finalize a current stage and start a new one.&lt;/p&gt;</comment>
                            <comment id="14059858" author="stephanewen" created="Sat, 12 Jul 2014 17:23:42 +0000"  >&lt;p&gt;Anyone has an opinion on this? Otherwise, I would go and change it such that &lt;tt&gt;getExecutionPlan()&lt;/tt&gt; does not trigger a new stage of execution.&lt;/p&gt;</comment>
                            <comment id="14060464" author="mholzemer" created="Mon, 14 Jul 2014 09:13:38 +0000"  >&lt;p&gt;Yes I think it is a good idea to do so. I see no reason why getExecutionPlan() should finalize the current stage.&lt;/p&gt;</comment>
                            <comment id="14198584" author="knub" created="Wed, 5 Nov 2014 16:26:20 +0000"  >&lt;p&gt;I just ran into this issue, and could provide a PR.&lt;br/&gt;
Please have a look at &lt;a href=&quot;https://github.com/knub/incubator-flink/commit/7359613e54d2d66e903b3f93a4a0c190aa73e2e3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;my commit&lt;/a&gt;.&lt;br/&gt;
Feedback is welcome, as this would be my first PR for Flink.&lt;/p&gt;</comment>
                            <comment id="14198864" author="fhueske" created="Wed, 5 Nov 2014 18:58:28 +0000"  >&lt;p&gt;Hi Stefan,&lt;/p&gt;

&lt;p&gt;thanks for contributing and welcome to the Flink community!&lt;/p&gt;

&lt;p&gt;I had a very brief look at your PR and didn&apos;t find any obvious problems with it.&lt;br/&gt;
In general, code review is one aspect of pull requests. So it is not really necessary to do a pre-check. However, you should make sure, that your code builds and does not break any tests by running ``mvn clean install`` locally or use a build server like Travis CI. Also rebasing your changes to the lasted master version is appreciated. The &lt;a href=&quot;http://flink.incubator.apache.org/coding_guidelines.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;coding guidelines&lt;/a&gt; list a few more points.&lt;/p&gt;

&lt;p&gt;Cheers, Fabian&lt;/p&gt;</comment>
                            <comment id="14198994" author="stephanewen" created="Wed, 5 Nov 2014 20:19:47 +0000"  >&lt;p&gt;The commit looks good to me.&lt;/p&gt;</comment>
                            <comment id="14199156" author="githubbot" created="Wed, 5 Nov 2014 21:42:37 +0000"  >&lt;p&gt;GitHub user knub opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/184&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/184&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1008&quot; title=&quot;createProgramPlan() throws exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1008&quot;&gt;&lt;del&gt;FLINK-1008&lt;/del&gt;&lt;/a&gt; Fix createProgramPlan() throws exception&lt;/p&gt;

&lt;p&gt;    Problem was, that ExecutionEnvironment#getExecutionPlan clears the data&lt;br/&gt;
    sinks, i.e. a following ExecutionEnvironment#execute will throw an error&lt;br/&gt;
    because there are no data sinks.&lt;/p&gt;

&lt;p&gt;    This introduces a new flag for ExecutionEnvironment#createProgramPlan to&lt;br/&gt;
    indicate, that the the sinks shall not be cleared.&lt;br/&gt;
    This does not break any existing code.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/knub/incubator-flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/knub/incubator-flink&lt;/a&gt; knub/flink-1008&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/184.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/184.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #184&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7359613e54d2d66e903b3f93a4a0c190aa73e2e3&lt;br/&gt;
Author: Stefan Bunk &amp;lt;stefan.bunk@googlemail.com&amp;gt;&lt;br/&gt;
Date:   2014-11-05T16:21:24Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1008&quot; title=&quot;createProgramPlan() throws exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1008&quot;&gt;&lt;del&gt;FLINK-1008&lt;/del&gt;&lt;/a&gt; Fix createProgramPlan() throws exception&lt;/p&gt;

&lt;p&gt;    Problem was, that ExecutionEnvironment#getExecutionPlan clears the data&lt;br/&gt;
    sinks, i.e. a following ExecutionEnvironment#execute will throw an error&lt;br/&gt;
    because there are no data sinks.&lt;/p&gt;

&lt;p&gt;    This introduces a new flag for ExecutionEnvironment#createProgramPlan to&lt;br/&gt;
    indicate, that the the sinks shall not be cleared.&lt;br/&gt;
    This does not break any existing code.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14199190" author="knub" created="Wed, 5 Nov 2014 21:58:04 +0000"  >&lt;p&gt;Fabian: I asked here first, because the second point in the coding guidelines says: &quot;We consider pull requests as requests to merge the referenced code as is into the current stable master branch &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; If you rather want comments on your code, post a link to your working branch.&quot;&lt;br/&gt;
So you say this is fine on GitHub as well?&lt;/p&gt;</comment>
                            <comment id="14199244" author="fhueske" created="Wed, 5 Nov 2014 22:26:16 +0000"  >&lt;p&gt;Good point &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
We might want to rephrase this section. &lt;br/&gt;
IMO, posting complete PRs is fine, however we should avoid to use PRs for lengthy architecture or design discussions. &lt;/p&gt;

&lt;p&gt;Thanks for the contribution!&lt;/p&gt;</comment>
                            <comment id="14202142" author="githubbot" created="Fri, 7 Nov 2014 15:22:01 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/184#issuecomment-62159097&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/184#issuecomment-62159097&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good to me!&lt;/p&gt;</comment>
                            <comment id="14202143" author="githubbot" created="Fri, 7 Nov 2014 15:22:24 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/184#issuecomment-62159158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/184#issuecomment-62159158&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thank you for the patch!&lt;/p&gt;

&lt;p&gt;    I&apos;ll try and merge this in the next batch...&lt;/p&gt;</comment>
                            <comment id="14214644" author="stephanewen" created="Mon, 17 Nov 2014 13:22:03 +0000"  >&lt;p&gt;Fixed in 42828f24596ec2432fbd506ce08ac18c23fd5350&lt;/p&gt;</comment>
                            <comment id="14214657" author="githubbot" created="Mon, 17 Nov 2014 13:45:07 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-flink/pull/184&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-flink/pull/184&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12654595" name="impro3-ss14-stratosphere.zip" size="2460424" author="bastiank" created="Tue, 8 Jul 2014 15:04:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xk5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>