<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:41:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8822] RotateLogFile may not work well when sed version is below 4.2</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8822</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;In bin/config.sh rotateLogFilesWithPrefix(),it use extended regular to process filename with &quot;sed -E&quot;,but when sed version is below 4.2,it turns out &quot;sed: invalid option &amp;#8211; &apos;E&apos;&quot;&lt;/p&gt;

&lt;p&gt;and RotateLogFile won&apos;t work well : There will be only one logfile no matter what is $MAX_LOG_FILE_NUMBER.&lt;/p&gt;


&lt;p&gt;so use sed -r may be more suitable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13141761">FLINK-8822</key>
            <summary>RotateLogFile may not work well when sed version is below 4.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aljoscha">Aljoscha Krettek</assignee>
                                    <reporter username="LiuXin">Xin Liu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 1 Mar 2018 10:58:08 +0000</created>
                <updated>Mon, 21 Oct 2019 07:32:22 +0000</updated>
                            <resolved>Mon, 21 Oct 2019 07:32:22 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.10.0</fixVersion>
                                    <component>Command Line Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16381835" author="githubbot" created="Thu, 1 Mar 2018 11:04:45 +0000"  >&lt;p&gt;GitHub user BigOneLiu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8822&quot; title=&quot;RotateLogFile may not work well when sed version is below 4.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8822&quot;&gt;&lt;del&gt;FLINK-8822&lt;/del&gt;&lt;/a&gt; RotateLogFile may not work well when sed version is belo&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;w 4.2&lt;/p&gt;

&lt;p&gt;    In bin/config.sh rotateLogFilesWithPrefix(),it use extended regular to process filename with &quot;sed -E&quot;,but when sed version is below 4.2,it turns out &quot;sed: invalid option &#8211; &apos;E&apos;&quot;&lt;/p&gt;

&lt;p&gt;    and RotateLogFile won&apos;t work well : There will be only one logfile no matter what is $MAX_LOG_FILE_NUMBER.&lt;/p&gt;

&lt;p&gt;    so use sed -r may be more suitable.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/BigOneLiu/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/BigOneLiu/flink&lt;/a&gt; master0228&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5609.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5609.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5609&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c8a008699bc7ae13310c1069665891d18e800c7c&lt;br/&gt;
Author: liuxin &amp;lt;liu.xin18@...&amp;gt;&lt;br/&gt;
Date:   2018-03-01T10:59:28Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8822&quot; title=&quot;RotateLogFile may not work well when sed version is below 4.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8822&quot;&gt;&lt;del&gt;FLINK-8822&lt;/del&gt;&lt;/a&gt; RotateLogFile may not work well when sed version is below 4.2&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16382631" author="githubbot" created="Thu, 1 Mar 2018 20:57:20 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Not sure about this one, after all `4.2` is already &lt;em&gt;9 years old&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;    According to &lt;a href=&quot;https://stackoverflow.com/questions/3139126/whats-the-difference-between-sed-e-and-sed-e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/3139126/whats-the-difference-between-sed-e-and-sed-e&lt;/a&gt; and &lt;a href=&quot;https://www.gnu.org/software/sed/manual/sed.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.gnu.org/software/sed/manual/sed.html&lt;/a&gt; it also looks like `-E` is more portable.&lt;/p&gt;</comment>
                            <comment id="16383090" author="githubbot" created="Fri, 2 Mar 2018 03:15:13 +0000"  >&lt;p&gt;Github user BigOneLiu commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @zentol thx for comment.&lt;br/&gt;
    I checked my system SUSE 11 SP4(which is a wildly used version),sed version is 4.1.5,and it do not support &apos;-E&apos;. I don&apos;t konw how many linux version use sed 4.1.5.&lt;/p&gt;

&lt;p&gt;    According to the source code,&apos;-E&apos; is exactly the same as &apos;-r&apos; and &apos;-E&apos; is Undocumented.&lt;br/&gt;
    So maybe &apos;-r&apos; is more compatible.&lt;br/&gt;
    If don&apos;t need to be changed,at least note in the doc that &quot;log may not work well in SUSE 11&quot;.&lt;/p&gt;
</comment>
                            <comment id="16392919" author="githubbot" created="Fri, 9 Mar 2018 14:12:48 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @zentol What do you think? Is this safe to merge?&lt;/p&gt;</comment>
                            <comment id="16392953" author="githubbot" created="Fri, 9 Mar 2018 15:04:24 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    ehh...probably. The PR has a point as `sed --help` (v4.2.2) does not list the `-E` option.&lt;/p&gt;

&lt;p&gt;    If we want to be super safe we could check that  `sed -r` is supported and use `-E` as a backup.&lt;/p&gt;</comment>
                            <comment id="16955827" author="aljoscha" created="Mon, 21 Oct 2019 07:32:22 +0000"  >&lt;p&gt;Fixed in 711f4ce258fd14d2718b2642ef4ee27803c5ca09&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qql3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>