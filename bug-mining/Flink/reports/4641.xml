<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:49:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-19237] LeaderChangeClusterComponentsTest.testReelectionOfJobMaster failed with &quot;NoResourceAvailableException: Could not allocate the required slot within slot request timeout&quot;</title>
                <link>https://issues.apache.org/jira/browse/FLINK-19237</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=6499&amp;amp;view=logs&amp;amp;j=6bfdaf55-0c08-5e3f-a2d2-2a0285fd41cf&amp;amp;t=fd9796c3-9ce8-5619-781c-42f873e126a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=6499&amp;amp;view=logs&amp;amp;j=6bfdaf55-0c08-5e3f-a2d2-2a0285fd41cf&amp;amp;t=fd9796c3-9ce8-5619-781c-42f873e126a6&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-09-14T21:11:02.8200203Z [ERROR] testReelectionOfJobMaster(org.apache.flink.runtime.leaderelection.LeaderChangeClusterComponentsTest)  Time elapsed: 300.14 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
2020-09-14T21:11:02.8201761Z java.lang.AssertionError: Job failed.
2020-09-14T21:11:02.8202749Z 	at org.apache.flink.runtime.jobmaster.utils.JobResultUtils.throwAssertionErrorOnFailedResult(JobResultUtils.java:54)
2020-09-14T21:11:02.8203794Z 	at org.apache.flink.runtime.jobmaster.utils.JobResultUtils.assertSuccess(JobResultUtils.java:30)
2020-09-14T21:11:02.8205177Z 	at org.apache.flink.runtime.leaderelection.LeaderChangeClusterComponentsTest.testReelectionOfJobMaster(LeaderChangeClusterComponentsTest.java:152)
2020-09-14T21:11:02.8206191Z 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2020-09-14T21:11:02.8206985Z 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
2020-09-14T21:11:02.8207930Z 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
2020-09-14T21:11:02.8208927Z 	at java.lang.reflect.Method.invoke(Method.java:498)
2020-09-14T21:11:02.8209753Z 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
2020-09-14T21:11:02.8210710Z 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
2020-09-14T21:11:02.8211608Z 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
2020-09-14T21:11:02.8214473Z 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
2020-09-14T21:11:02.8215398Z 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
2020-09-14T21:11:02.8216199Z 	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
2020-09-14T21:11:02.8216947Z 	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
2020-09-14T21:11:02.8217695Z 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
2020-09-14T21:11:02.8218635Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
2020-09-14T21:11:02.8219499Z 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
2020-09-14T21:11:02.8220313Z 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
2020-09-14T21:11:02.8221060Z 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
2020-09-14T21:11:02.8222171Z 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
2020-09-14T21:11:02.8222937Z 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
2020-09-14T21:11:02.8223688Z 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
2020-09-14T21:11:02.8225191Z 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
2020-09-14T21:11:02.8226086Z 	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
2020-09-14T21:11:02.8226761Z 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
2020-09-14T21:11:02.8227453Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
2020-09-14T21:11:02.8228392Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
2020-09-14T21:11:02.8229256Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
2020-09-14T21:11:02.8235798Z 	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
2020-09-14T21:11:02.8237650Z 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
2020-09-14T21:11:02.8239039Z 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
2020-09-14T21:11:02.8239894Z 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
2020-09-14T21:11:02.8240591Z 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
2020-09-14T21:11:02.8241325Z Caused by: org.apache.flink.runtime.JobException: Recovery is suppressed by NoRestartBackoffTimeStrategy
2020-09-14T21:11:02.8242225Z 	at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:116)
2020-09-14T21:11:02.8243358Z 	at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:78)
2020-09-14T21:11:02.8244425Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:215)
2020-09-14T21:11:02.8245291Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeHandleTaskFailure(DefaultScheduler.java:208)
2020-09-14T21:11:02.8246150Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.updateTaskExecutionStateInternal(DefaultScheduler.java:202)
2020-09-14T21:11:02.8247006Z 	at org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:523)
2020-09-14T21:11:02.8247960Z 	at org.apache.flink.runtime.scheduler.UpdateSchedulerNgOnInternalFailuresListener.notifyTaskFailure(UpdateSchedulerNgOnInternalFailuresListener.java:49)
2020-09-14T21:11:02.8249102Z 	at org.apache.flink.runtime.executiongraph.ExecutionGraph.notifySchedulerNgAboutInternalTaskFailure(ExecutionGraph.java:1722)
2020-09-14T21:11:02.8249971Z 	at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1283)
2020-09-14T21:11:02.8250675Z 	at org.apache.flink.runtime.executiongraph.Execution.processFail(Execution.java:1251)
2020-09-14T21:11:02.8251369Z 	at org.apache.flink.runtime.executiongraph.Execution.markFailed(Execution.java:1082)
2020-09-14T21:11:02.8252104Z 	at org.apache.flink.runtime.executiongraph.ExecutionVertex.markFailed(ExecutionVertex.java:748)
2020-09-14T21:11:02.8253060Z 	at org.apache.flink.runtime.scheduler.DefaultExecutionVertexOperations.markFailed(DefaultExecutionVertexOperations.java:41)
2020-09-14T21:11:02.8253956Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskDeploymentFailure(DefaultScheduler.java:458)
2020-09-14T21:11:02.8254967Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.lambda$assignResourceOrHandleError$6(DefaultScheduler.java:445)
2020-09-14T21:11:02.8393562Z 	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
2020-09-14T21:11:02.8394920Z 	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
2020-09-14T21:11:02.8396122Z 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2020-09-14T21:11:02.8397194Z 	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
2020-09-14T21:11:02.8398150Z 	at org.apache.flink.runtime.jobmaster.slotpool.SchedulerImpl.lambda$internalAllocateSlot$0(SchedulerImpl.java:169)
2020-09-14T21:11:02.8399234Z 	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
2020-09-14T21:11:02.8400048Z 	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
2020-09-14T21:11:02.8401048Z 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2020-09-14T21:11:02.8402025Z 	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
2020-09-14T21:11:02.8403171Z 	at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$SingleTaskSlot.release(SlotSharingManager.java:731)
2020-09-14T21:11:02.8404708Z 	at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.release(SlotSharingManager.java:537)
2020-09-14T21:11:02.8405751Z 	at org.apache.flink.runtime.jobmaster.slotpool.SlotSharingManager$MultiTaskSlot.lambda$&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;$0(SlotSharingManager.java:432)
2020-09-14T21:11:02.8406633Z 	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
2020-09-14T21:11:02.8407378Z 	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
2020-09-14T21:11:02.8408120Z 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2020-09-14T21:11:02.8408948Z 	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
2020-09-14T21:11:02.8409748Z 	at org.apache.flink.runtime.concurrent.FutureUtils.lambda$forwardTo$21(FutureUtils.java:1168)
2020-09-14T21:11:02.8410511Z 	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
2020-09-14T21:11:02.8411543Z 	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
2020-09-14T21:11:02.8412553Z 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
2020-09-14T21:11:02.8413340Z 	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
2020-09-14T21:11:02.8414204Z 	at org.apache.flink.runtime.concurrent.FutureUtils$Timeout.run(FutureUtils.java:1072)
2020-09-14T21:11:02.8415364Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:402)
2020-09-14T21:11:02.8416128Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:195)
2020-09-14T21:11:02.8417172Z 	at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:74)
2020-09-14T21:11:02.8417995Z 	at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:152)
2020-09-14T21:11:02.8418997Z 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)
2020-09-14T21:11:02.8419692Z 	at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)
2020-09-14T21:11:02.8420336Z 	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:123)
2020-09-14T21:11:02.8421055Z 	at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)
2020-09-14T21:11:02.8421655Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:170)
2020-09-14T21:11:02.8422336Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2020-09-14T21:11:02.8423049Z 	at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)
2020-09-14T21:11:02.8423681Z 	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:517)
2020-09-14T21:11:02.8424505Z 	at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)
2020-09-14T21:11:02.8425209Z 	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)
2020-09-14T21:11:02.8425760Z 	at akka.actor.ActorCell.invoke(ActorCell.scala:561)
2020-09-14T21:11:02.8426376Z 	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)
2020-09-14T21:11:02.8427252Z 	at akka.dispatch.Mailbox.run(Mailbox.scala:225)
2020-09-14T21:11:02.8427931Z 	at akka.dispatch.Mailbox.exec(Mailbox.scala:235)
2020-09-14T21:11:02.8428684Z 	at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
2020-09-14T21:11:02.8429375Z 	at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
2020-09-14T21:11:02.8430118Z 	at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
2020-09-14T21:11:02.8430853Z 	at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
2020-09-14T21:11:02.8431971Z Caused by: org.apache.flink.runtime.jobmanager.scheduler.NoResourceAvailableException: Could not allocate the required slot within slot request timeout. Please make sure that the cluster has enough resources.
2020-09-14T21:11:02.8433179Z 	at org.apache.flink.runtime.scheduler.DefaultScheduler.maybeWrapWithNoResourceAvailableException(DefaultScheduler.java:464)
2020-09-14T21:11:02.8434082Z 	... 45 more
2020-09-14T21:11:02.8434809Z Caused by: java.util.concurrent.CompletionException: java.util.concurrent.TimeoutException
2020-09-14T21:11:02.8435611Z 	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
2020-09-14T21:11:02.8436379Z 	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
2020-09-14T21:11:02.8437159Z 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
2020-09-14T21:11:02.8437976Z 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
2020-09-14T21:11:02.8438658Z 	... 25 more
2020-09-14T21:11:02.8439085Z Caused by: java.util.concurrent.TimeoutException
2020-09-14T21:11:02.8439476Z 	... 23 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13327576">FLINK-19237</key>
            <summary>LeaderChangeClusterComponentsTest.testReelectionOfJobMaster failed with &quot;NoResourceAvailableException: Could not allocate the required slot within slot request timeout&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rmetzger">Robert Metzger</assignee>
                                    <reporter username="dian.fu">Dian Fu</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 15 Sep 2020 03:19:47 +0000</created>
                <updated>Mon, 9 Nov 2020 09:11:12 +0000</updated>
                            <resolved>Mon, 9 Nov 2020 09:11:12 +0000</resolved>
                                    <version>1.11.2</version>
                    <version>1.12.0</version>
                                    <fixVersion>1.10.3</fixVersion>
                    <fixVersion>1.11.3</fixVersion>
                    <fixVersion>1.12.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17195842" author="dian.fu" created="Tue, 15 Sep 2020 03:22:36 +0000"  >&lt;p&gt;This issue and &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-19210&quot; title=&quot;TPC-DS end-to-end test (Blink planner) failed with &amp;quot;NoResourceAvailableException: Could not allocate the required slot within slot request timeout&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-19210&quot;&gt;&lt;del&gt;FLINK-19210&lt;/del&gt;&lt;/a&gt; seems caused by the same problem.&lt;/p&gt;</comment>
                            <comment id="17199828" author="mapohl" created="Tue, 22 Sep 2020 05:48:44 +0000"  >&lt;p&gt;The problem seems to be caused by &lt;a href=&quot;https://github.com/apache/flink/commit/65ed0393&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;65ed0393&lt;/a&gt; which is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-16866&quot; title=&quot;Make job submission non-blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-16866&quot;&gt;&lt;del&gt;FLINK-16866&lt;/del&gt;&lt;/a&gt;. We were able to reproduce it by running the test LeaderChangeClusterComponentsTest#testReelectionOfJobMaster multiple times until the failure happened (5825 and even less in other tries).&lt;br/&gt;
We failed to reproduce it on the 65ed0393&apos;s parent commit &lt;a href=&quot;https://github.com/apache/flink/commit/7da74dc2795abfb8806f14768a95327c8c204dc8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;7da74dc2&lt;/a&gt; after 20000 runs.&lt;/p&gt;

&lt;p&gt;The runtime of the test increases by a factor of 3 with the change introduce in 65ed0393.&lt;/p&gt;</comment>
                            <comment id="17203268" author="rmetzger" created="Mon, 28 Sep 2020 14:39:14 +0000"  >&lt;p&gt;Since I&apos;ve worked on &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-16866&quot; title=&quot;Make job submission non-blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-16866&quot;&gt;&lt;del&gt;FLINK-16866&lt;/del&gt;&lt;/a&gt;, I&apos;ll take a look at the issue.&lt;/p&gt;</comment>
                            <comment id="17206575" author="dian.fu" created="Sat, 3 Oct 2020 00:47:40 +0000"  >&lt;p&gt;Another instance: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7169&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7169&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17207870" author="rmetzger" created="Mon, 5 Oct 2020 07:36:55 +0000"  >&lt;p&gt;It seems that this test instability is reproducible on CI &lt;a href=&quot;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=8423&amp;amp;view=logs&amp;amp;j=6e58d712-c5cc-52fb-0895-6ff7bd56c46b&amp;amp;t=f30a8e80-b2cf-535c-9952-7f521a4ae374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/rmetzger/Flink/_build/results?buildId=8423&amp;amp;view=logs&amp;amp;j=6e58d712-c5cc-52fb-0895-6ff7bd56c46b&amp;amp;t=f30a8e80-b2cf-535c-9952-7f521a4ae374&lt;/a&gt; (for me it is quite difficult reproducing it locally. I needed 27238 (~50 minutes) locally).&lt;/p&gt;</comment>
                            <comment id="17208592" author="rmetzger" created="Tue, 6 Oct 2020 09:10:50 +0000"  >&lt;p&gt;In the normal case, it seems that:&lt;br/&gt;
a) the job gets submitted&lt;br/&gt;
b) operators get scheduled, but slot requests cannot be served yet (no RM connected),&lt;br/&gt;
c) RM registration starts, but doesn&apos;t finish&lt;br/&gt;
d) JM loses leadership, job gets suspended&lt;br/&gt;
e) JM regains leadership&lt;br/&gt;
f) job starts running, test succeeds.&lt;/p&gt;

&lt;p&gt;In the failure case:&lt;br/&gt;
1. Job gets submitted&lt;br/&gt;
2. Operators get scheduled, but slot requests cannot be served yet (no RM connected)&lt;br/&gt;
3. RM registration succeeds, slots get allocated and activated, operators switch to DEPLOYING&lt;br/&gt;
4. JM loses leadership, job gets suspended&lt;br/&gt;
5. JM regains leadership&lt;br/&gt;
6. TaskManager reports: slots get rejected by the job manager&lt;br/&gt;
7. TaskExecutors close JM connection: no more allocated slots&lt;br/&gt;
8. Slot allocation times out. &lt;/p&gt;</comment>
                            <comment id="17210663" author="rmetzger" created="Fri, 9 Oct 2020 06:56:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7307&amp;amp;view=logs&amp;amp;j=6bfdaf55-0c08-5e3f-a2d2-2a0285fd41cf&amp;amp;t=fd9796c3-9ce8-5619-781c-42f873e126a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7307&amp;amp;view=logs&amp;amp;j=6bfdaf55-0c08-5e3f-a2d2-2a0285fd41cf&amp;amp;t=fd9796c3-9ce8-5619-781c-42f873e126a6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17212331" author="xintongsong" created="Mon, 12 Oct 2020 12:28:59 +0000"  >&lt;p&gt;Another instance:&lt;br/&gt;
&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7429&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=7429&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17214946" author="rmetzger" created="Thu, 15 Oct 2020 19:32:02 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/flink/commit/ff026787b1e461eae7520a9a52eb33b210b78c2d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/ff026787b1e461eae7520a9a52eb33b210b78c2d&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17227440" author="till.rohrmann" created="Fri, 6 Nov 2020 14:40:04 +0000"  >&lt;p&gt;I think this issue also affects earlier Flink releases (e.g. 1.11.x). I think we should backport the fix.&lt;/p&gt;</comment>
                            <comment id="17227541" author="rmetzger" created="Fri, 6 Nov 2020 17:41:31 +0000"  >&lt;p&gt;Good catch! I&apos;ll backport the fix.&lt;/p&gt;</comment>
                            <comment id="17227821" author="till.rohrmann" created="Sat, 7 Nov 2020 15:11:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt; I will do it because I also have to add a test for &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-20033&quot; title=&quot;Job fails when stopping JobMaster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-20033&quot;&gt;&lt;del&gt;FLINK-20033&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17227834" author="till.rohrmann" created="Sat, 7 Nov 2020 16:49:53 +0000"  >&lt;p&gt;The backport PRs are&lt;/p&gt;

&lt;p&gt;1.11: &lt;a href=&quot;https://github.com/apache/flink/pull/13979&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/13979&lt;/a&gt;&lt;br/&gt;
1.10: &lt;a href=&quot;https://github.com/apache/flink/pull/13980&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/13980&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17228436" author="till.rohrmann" created="Mon, 9 Nov 2020 09:11:12 +0000"  >&lt;p&gt;Backports:&lt;/p&gt;

&lt;p&gt;1.11.3: d9be3188e49fe93e3bf56b3077aca3e53177807a&lt;br/&gt;
1.10.3: 260cf3b7b9f5bd6bf6a8755c698e119ae45fe9fd&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13294984">FLINK-16866</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13339202">FLINK-20033</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13327257">FLINK-19210</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ils0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>