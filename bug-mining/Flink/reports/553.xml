<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:20:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2448] registerCacheFile fails with MultipleProgramsTestbase</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2448</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When trying to register a file using a constant name an expection is thrown saying the file was already cached.&lt;/p&gt;

&lt;p&gt;This is probably because the same environment is reused, and the cacheFile entries are not cleared between runs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12850538">FLINK-2448</key>
            <summary>registerCacheFile fails with MultipleProgramsTestbase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sachingoel0101">Sachin Goel</assignee>
                                    <reporter username="chesnay">Chesnay Schepler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Jul 2015 08:23:46 +0000</created>
                <updated>Wed, 2 Oct 2019 17:48:39 +0000</updated>
                            <resolved>Wed, 2 Sep 2015 13:55:36 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14699009" author="sachingoel0101" created="Mon, 17 Aug 2015 04:35:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, could you check this again on the latest master?&lt;/p&gt;</comment>
                            <comment id="14699163" author="zentol" created="Mon, 17 Aug 2015 08:19:21 +0000"  >&lt;p&gt;this has got nothing to do with the Collection Environment, so I assume it does.&lt;/p&gt;</comment>
                            <comment id="14699176" author="sachingoel0101" created="Mon, 17 Aug 2015 08:27:49 +0000"  >&lt;p&gt;Could you share the failing code? I am using the &lt;tt&gt;MultipleProgramsTestBase&lt;/tt&gt; in the unit test for verifying the new Distributed Cache functionality and it doesn&apos;t cause any problems.&lt;/p&gt;</comment>
                            <comment id="14699204" author="zentol" created="Mon, 17 Aug 2015 08:44:09 +0000"  >&lt;p&gt;alright, I&apos;ll check again, will be back shortly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14699235" author="zentol" created="Mon, 17 Aug 2015 09:12:07 +0000"  >&lt;p&gt;hmm...i haven&apos;t rebased yet but can provide more details to reproduce. &lt;br/&gt;
when i run a single program in each Test method everything works fine. But when i run multiple programs in a single method, it fails. Not sure if this is the intended way to use it (probably not), but I&apos;m very curious as to why it doesn&apos;t work.&lt;/p&gt;</comment>
                            <comment id="14699254" author="sachingoel0101" created="Mon, 17 Aug 2015 09:26:28 +0000"  >&lt;p&gt;I&apos;m not sure what you mean by &quot;running multiple programs in a single method&quot;. Do you mean, for example, running several jobs in one test? In that case too, as long as the environment is re-created, it should not fail.&lt;/p&gt;</comment>
                            <comment id="14699275" author="zentol" created="Mon, 17 Aug 2015 09:41:06 +0000"  >&lt;p&gt;yep that&apos;s what i mean. the environment is retrieved using ExecutionEnvironment.getEnvironment() for both jobs.&lt;br/&gt;
essentially this is what runs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void MyTest() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
ExecutionEnvironment env = ExecutionEnvironment.getEnvironment();
env.registerCacheFile(X)
&amp;lt;doSomeStuff&amp;gt;
env.execute()


env = ExecutionEnvironment.getEnvironment();
env.registerCacheFile(X)
&amp;lt;doSomeStuff&amp;gt;
env.execute()
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14699295" author="sachingoel0101" created="Mon, 17 Aug 2015 09:55:37 +0000"  >&lt;p&gt;Aha. It makes sense. The &lt;tt&gt;TestEnvironment&lt;/tt&gt; context factory returns the same object always. The second &lt;tt&gt;getEnvironment&lt;/tt&gt; call doesn&apos;t actually do anything.&lt;/p&gt;</comment>
                            <comment id="14699318" author="githubbot" created="Mon, 17 Aug 2015 10:08:00 +0000"  >&lt;p&gt;GitHub user sachingoel0101 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2448&quot; title=&quot;registerCacheFile fails with MultipleProgramsTestbase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2448&quot;&gt;&lt;del&gt;FLINK-2448&lt;/del&gt;&lt;/a&gt;Clear cache file list in ExecutionEnvironment after program plan creation&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/sachingoel0101/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sachingoel0101/flink&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1031&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 199fa54cec1c6a9749fbbebf009267a997a7b275&lt;br/&gt;
Author: Sachin Goel &amp;lt;sachingoel0101@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-08-17T10:00:52Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2448&quot; title=&quot;registerCacheFile fails with MultipleProgramsTestbase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2448&quot;&gt;&lt;del&gt;FLINK-2448&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;Clear cache file list in ExecutionEnvironment after registering with Plan&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14699345" author="githubbot" created="Mon, 17 Aug 2015 10:27:31 +0000"  >&lt;p&gt;Github user zentol commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-131769530&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-131769530&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Does this work properly with collect() calls? as in, would the following plan still work?&lt;/p&gt;

&lt;p&gt;    `env = ..&lt;br/&gt;
    env.registerCacheFile()&lt;br/&gt;
    ...&lt;br/&gt;
    someSet.collect()&lt;br/&gt;
    &amp;lt;doSomethingThatUsesTheCacheFile&amp;gt;&lt;br/&gt;
    env.execute()&lt;br/&gt;
    `&lt;/p&gt;

&lt;p&gt;    if we wipe all cache entries in the collect() call, the files will not be registered in the execute(), right? The plans these methods create are separate i think.&lt;/p&gt;</comment>
                            <comment id="14699353" author="githubbot" created="Mon, 17 Aug 2015 10:36:18 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-131772983&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-131772983&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ah yes. You&apos;re right. Lemme see if I can write a workaround to this.&lt;/p&gt;</comment>
                            <comment id="14699373" author="githubbot" created="Mon, 17 Aug 2015 10:58:42 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-131781343&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-131781343&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Should there be a unit test to verify this functionality?&lt;/p&gt;</comment>
                            <comment id="14700983" author="githubbot" created="Tue, 18 Aug 2015 09:21:25 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132136444&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132136444&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I am not sure this is solving it the right way. I find it more intuitive if cache files stay registered. They are part of the environment and should be &quot;sticky&quot;, like configuration settings as well (they don&apos;t get lost after execution).&lt;/p&gt;

&lt;p&gt;    We could add a method to clear registered cache files. But if the problem is really only the MultiplProgramsTest base, then this should be fixed to return a new ExecutionEnvironment from a (the) TestEnvironmentFactory every time you call `getExecutionEnvironment()`.&lt;/p&gt;</comment>
                            <comment id="14701000" author="githubbot" created="Tue, 18 Aug 2015 09:28:25 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132140770&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132140770&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;m not sure if I can form an opinion on this. I personally haven&apos;t used them at all with Flink, only with Hadoop. A call to clear cache files certainly makes sense though. &lt;/p&gt;</comment>
                            <comment id="14703405" author="githubbot" created="Wed, 19 Aug 2015 17:26:27 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132704210&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132704210&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    A call to clear cache files does not hurt, but let&apos;s fix the MultipleProgramsTest base to produce fresh ExecutionEnvironments in its factory, rather than repeatedly handing out the same one. That is a good fix anyways.&lt;/p&gt;</comment>
                            <comment id="14704229" author="githubbot" created="Thu, 20 Aug 2015 03:17:13 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132871675&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132871675&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Was there a specific reason to not generate fresh environments in the first place? Or was it just to minimize object creations?&lt;br/&gt;
    Here&apos;s what I propose though: Since there is already a `clearSinks` argument to `createProgramPlan`, we can use that as an indicator that the cache file list has to be cleared too, since it indicates a new Execution.&lt;br/&gt;
    Further, instead of throwing an exception in case a `name` is re-registered, we check if the `filePath` is actually the same. If not, then we throw an exception, otherwise just silently ignore it.&lt;/p&gt;</comment>
                            <comment id="14704428" author="githubbot" created="Thu, 20 Aug 2015 07:29:23 +0000"  >&lt;p&gt;Github user zentol commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132917505&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132917505&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    using clearsinks would cause the above example with collect() to fail, since this clears sinks aswell. (the sinks are only not cleared when getExecutionPlan is called, it has nothing to do with a new execution).&lt;/p&gt;

&lt;p&gt;    just checking the filepath wouldn&apos;t work in my case, i distribute a folder that resides in the same location whose content varies.&lt;/p&gt;</comment>
                            <comment id="14704479" author="githubbot" created="Thu, 20 Aug 2015 08:12:03 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132927894&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132927894&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ah yes, you&apos;re right. We cannot use `clearSinks`.&lt;br/&gt;
    To answer the second part, the folder will still be added. It is only at runtime that all the directories and files inside a folder are recursively copied. So, just adding the folder once should work.&lt;/p&gt;</comment>
                            <comment id="14704506" author="githubbot" created="Thu, 20 Aug 2015 08:27:39 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132934917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132934917&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think the reason to not create a new environment every time was simply that it was easier to write that way and it never hurt before. You can run multiple programs on the same environment after all.&lt;/p&gt;

&lt;p&gt;    For tests, it is cleaner, though, to have a fresh one, as otherwise you may &quot;inherit&quot; configuration from a previous test (as is the case with the registered cache files).&lt;/p&gt;</comment>
                            <comment id="14704606" author="githubbot" created="Thu, 20 Aug 2015 09:48:40 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132958065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132958065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Okay. For now, I have modified all Test environments which were using a context factory, except for the `PreviewPlanEnvironment` which cannot be done as the test depends on the environment being shared.&lt;/p&gt;</comment>
                            <comment id="14704737" author="githubbot" created="Thu, 20 Aug 2015 12:08:06 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-132987393&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-132987393&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It turns out the `JavaProgramTestBase` accesses the shared environment&apos;s execution result. However, it is used nowhere. I have removed the unused code and modified all Test environment factories to always return a new Environment.&lt;/p&gt;</comment>
                            <comment id="14706523" author="githubbot" created="Fri, 21 Aug 2015 10:25:38 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-133365847&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-133365847&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    So, this is now removing some safeguard checks in the test to make this work. That does not seem quite right. Why not keep the environment and keep access to the latest execution result?&lt;/p&gt;</comment>
                            <comment id="14706531" author="githubbot" created="Fri, 21 Aug 2015 10:42:51 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-133370663&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-133370663&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    To access the last execution result, the environment needs to be shared. And since we&apos;re creating a new execution environment in the program, it wouldn&apos;t work.&lt;br/&gt;
    I&apos;m not sure if the assert for last execution result not being null is useful. If the program succeeded, shouldn&apos;t this be always &lt;b&gt;not null&lt;/b&gt;?&lt;/p&gt;</comment>
                            <comment id="14706536" author="githubbot" created="Fri, 21 Aug 2015 10:46:58 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-133371332&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-133371332&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, if you read the message of the checks you removes, it is precisely to figure that out: Whether a program actually triggered execution.&lt;/p&gt;

&lt;p&gt;    We&apos;ve build a kick-ass distributed system here. I am quite sure we can a reference to some field into another class, if we want...&lt;/p&gt;</comment>
                            <comment id="14706812" author="githubbot" created="Fri, 21 Aug 2015 14:43:57 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-133449024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-133449024&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Okay, I figured out a way to share the environments. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
    Let me know if this is a valid approach.&lt;br/&gt;
    Waiting for travis to pass.&lt;/p&gt;</comment>
                            <comment id="14708305" author="githubbot" created="Sun, 23 Aug 2015 05:41:36 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-133788218&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-133788218&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Travis passes. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
    I asked on the dev list about the two small changes in flink-gelly. @vasia &lt;/p&gt;</comment>
                            <comment id="14709380" author="githubbot" created="Mon, 24 Aug 2015 14:31:29 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-134227222&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-134227222&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I do not quite understand the idea behind this pull request. It adds a public `setAsShared()` method to the core `ExecutionEnvironment` which is only relevant for tests.&lt;/p&gt;

&lt;p&gt;    Can you not simply change the test base such that the TestContextFactory creates a new Environment every time and remembers that as the last environment? Do some tests assume shared environments?&lt;/p&gt;</comment>
                            <comment id="14709515" author="githubbot" created="Mon, 24 Aug 2015 16:05:02 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-134265716&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-134265716&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, that&apos;s perfectly doable. I actually did that initially. The only reason to add it to the `ExecutionEnvironment` was to remove that little bit of code duplication in `getLastJobExecutionResult`. &lt;br/&gt;
    I guess we should keep it restricted to test environments only. Apologies.&lt;/p&gt;</comment>
                            <comment id="14723326" author="githubbot" created="Mon, 31 Aug 2015 11:53:02 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-136349300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-136349300&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @StephanEwen, this should be mergeable now.&lt;br/&gt;
    I&apos;ve separated the Gelly change as a second commit.&lt;/p&gt;</comment>
                            <comment id="14725162" author="githubbot" created="Tue, 1 Sep 2015 10:40:23 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-136669559&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-136669559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think this looks good. Will merge this...&lt;/p&gt;</comment>
                            <comment id="14725643" author="githubbot" created="Tue, 1 Sep 2015 16:20:43 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031#issuecomment-136780181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031#issuecomment-136780181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Okay. Great. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14727372" author="githubbot" created="Wed, 2 Sep 2015 13:55:00 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1031&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14727374" author="stephanewen" created="Wed, 2 Sep 2015 13:55:36 +0000"  >&lt;p&gt;Fixed via 166b3705c9079efafe9217d98e7edaf54e6a84cf&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2i667:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>