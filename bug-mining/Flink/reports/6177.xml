<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:08:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-21752] NullPointerException on restore in PojoSerializer</title>
                <link>https://issues.apache.org/jira/browse/FLINK-21752</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;As originally reported in &lt;a href=&quot;http://apache-flink-user-mailing-list-archive.2336050.n4.nabble.com/Schema-Evolution-Cannot-restore-from-savepoint-after-deleting-field-from-POJO-td42162.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;thread&lt;/a&gt;, after removing a field from a class restore from savepoint fails with the following exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2021-03-10T20:51:30.406Z INFO  org.apache.flink.runtime.taskmanager.Task:960 &#8230; (6/8) (d630d5ff0d7ae4fbc428b151abebab52) switched from RUNNING to FAILED. java.lang.Exception: Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating StreamOperatorStateContext.
        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:195)
        at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:253)
        at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeState(StreamTask.java:901)
        at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:415)
        at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
Caused by: org.apache.flink.util.FlinkException: Could not restore keyed state backend &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; KeyedCoProcessOperator_c535ac415eeb524d67c88f4a481077d2_(6/8) from any of the 1 provided restore options.
        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)
        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:307)
        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:135)
        ... 6 common frames omitted
Caused by: org.apache.flink.runtime.state.BackendBuildingException: Failed when trying to restore heap backend
        at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:116)
        at org.apache.flink.runtime.state.memory.MemoryStateBackend.createKeyedStateBackend(MemoryStateBackend.java:347)
        at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:291)
        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:142)
        at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:121)
        ... 8 common frames omitted
Caused by: java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at org.apache.flink.api.java.typeutils.runtime.PojoSerializer.&amp;lt;init&amp;gt;(PojoSerializer.java:123)
        at org.apache.flink.api.java.typeutils.runtime.PojoSerializer.duplicate(PojoSerializer.java:186)
        at org.apache.flink.api.java.typeutils.runtime.PojoSerializer.duplicate(PojoSerializer.java:56)
        at org.apache.flink.api.common.typeutils.CompositeSerializer$PrecomputedParameters.precompute(CompositeSerializer.java:228)
        at org.apache.flink.api.common.typeutils.CompositeSerializer.&amp;lt;init&amp;gt;(CompositeSerializer.java:51)
        at org.apache.flink.runtime.state.ttl.TtlStateFactory$TtlSerializer.&amp;lt;init&amp;gt;(TtlStateFactory.java:250)
        at org.apache.flink.runtime.state.ttl.TtlStateFactory$TtlSerializerSnapshot.createOuterSerializerWithNestedSerializers(TtlStateFactory.java:359)
        at org.apache.flink.runtime.state.ttl.TtlStateFactory$TtlSerializerSnapshot.createOuterSerializerWithNestedSerializers(TtlStateFactory.java:330)
        at org.apache.flink.api.common.typeutils.CompositeTypeSerializerSnapshot.restoreSerializer(CompositeTypeSerializerSnapshot.java:194)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:546)
        at java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
        at java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:505)
        at org.apache.flink.api.common.typeutils.NestedSerializersSnapshotDelegate.snapshotsToRestoreSerializers(NestedSerializersSnapshotDelegate.java:225)
        at org.apache.flink.api.common.typeutils.NestedSerializersSnapshotDelegate.getRestoredNestedSerializers(NestedSerializersSnapshotDelegate.java:83)
        at org.apache.flink.api.common.typeutils.CompositeTypeSerializerSnapshot.restoreSerializer(CompositeTypeSerializerSnapshot.java:194)
        at org.apache.flink.runtime.state.StateSerializerProvider.previousSchemaSerializer(StateSerializerProvider.java:189)
        at org.apache.flink.runtime.state.StateSerializerProvider.currentSchemaSerializer(StateSerializerProvider.java:164)
        at org.apache.flink.runtime.state.RegisteredKeyValueStateBackendMetaInfo.getStateSerializer(RegisteredKeyValueStateBackendMetaInfo.java:136)
        at org.apache.flink.runtime.state.heap.StateTable.getStateSerializer(StateTable.java:315)
        at org.apache.flink.runtime.state.heap.CopyOnWriteStateTable.createStateMap(CopyOnWriteStateTable.java:54)
        at org.apache.flink.runtime.state.heap.CopyOnWriteStateTable.createStateMap(CopyOnWriteStateTable.java:36)
        at org.apache.flink.runtime.state.heap.StateTable.&amp;lt;init&amp;gt;(StateTable.java:98)
        at org.apache.flink.runtime.state.heap.CopyOnWriteStateTable.&amp;lt;init&amp;gt;(CopyOnWriteStateTable.java:49)
        at org.apache.flink.runtime.state.heap.AsyncSnapshotStrategySynchronicityBehavior.newStateTable(AsyncSnapshotStrategySynchronicityBehavior.java:41)
        at org.apache.flink.runtime.state.heap.HeapSnapshotStrategy.newStateTable(HeapSnapshotStrategy.java:243)
        at org.apache.flink.runtime.state.heap.HeapRestoreOperation.createOrCheckStateForMetaInfo(HeapRestoreOperation.java:185)
        at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:152)
        at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:114)
        ... 12 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13364698">FLINK-21752</key>
            <summary>NullPointerException on restore in PojoSerializer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dwysakowicz">Dawid Wysakowicz</assignee>
                                    <reporter username="roman">Roman Khachatryan</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 12 Mar 2021 17:19:18 +0000</created>
                <updated>Wed, 19 Mar 2025 07:22:51 +0000</updated>
                            <resolved>Fri, 4 Feb 2022 12:03:55 +0000</resolved>
                                    <version>1.13.5</version>
                    <version>1.14.3</version>
                    <version>1.15.0</version>
                                    <fixVersion>1.14.4</fixVersion>
                    <fixVersion>1.15.0</fixVersion>
                    <fixVersion>1.13.7</fixVersion>
                                    <component>API / Type Serialization System</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>12</watches>
                                                                                                                <comments>
                            <comment id="17327288" author="flink-jira-bot" created="Thu, 22 Apr 2021 10:48:10 +0000"  >&lt;p&gt;This major issue is unassigned and itself and all of its Sub-Tasks have not been updated for 30 days. So, it has been labeled &quot;stale-major&quot;. If this ticket is indeed &quot;major&quot;, please either assign yourself or give an update. Afterwards, please remove the label. In 7 days the issue will be deprioritized.&lt;/p&gt;</comment>
                            <comment id="17329128" author="asardaes" created="Thu, 22 Apr 2021 13:43:24 +0000"  >&lt;p&gt;Sigh, I don&apos;t think I can alter labels, but I do find this issue rather critical.&lt;/p&gt;</comment>
                            <comment id="17335875" author="flink-jira-bot" created="Thu, 29 Apr 2021 22:56:28 +0000"  >&lt;p&gt;This issue was labeled &quot;stale-major&quot; 7 ago and has not received any updates so it is being deprioritized. If this ticket is actually Major, please raise the priority and ask a committer to assign you the issue or revive the public discussion.&lt;/p&gt;</comment>
                            <comment id="17435086" author="flink-jira-bot" created="Wed, 27 Oct 2021 22:39:57 +0000"  >&lt;p&gt;I am the &lt;a href=&quot;https://github.com/apache/flink-jira-bot/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Flink Jira Bot&lt;/a&gt; and I help the community manage its development. I see this issues has been marked as Minor but is unassigned and neither itself nor its Sub-Tasks have been updated for 180 days. I have gone ahead and marked it &quot;stale-minor&quot;. If this ticket is still Minor, please either assign yourself or give an update. Afterwards, please remove the label or in 7 days the issue will be deprioritized.&lt;/p&gt;</comment>
                            <comment id="17439158" author="flink-jira-bot" created="Fri, 5 Nov 2021 10:39:17 +0000"  >&lt;p&gt;This issue was labeled &quot;stale-minor&quot; 7 days ago and has not received any updates so it is being deprioritized. If this ticket is actually Minor, please raise the priority and ask a committer to assign you the issue or revive the public discussion.&lt;/p&gt;</comment>
                            <comment id="17486052" author="asardaes" created="Wed, 2 Feb 2022 19:31:12 +0000"  >&lt;p&gt;Original thread in the new archive: &lt;a href=&quot;https://lists.apache.org/thread/05wg9ny9d5r0wox8y8kbc9cqy5j86z25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/05wg9ny9d5r0wox8y8kbc9cqy5j86z25&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17486291" author="bdine" created="Thu, 3 Feb 2022 08:41:58 +0000"  >&lt;p&gt;This is for sure pretty critical,&lt;br/&gt;
The &quot;workaround&quot; is to not remove the field but I am not sure if this is acceptable&lt;/p&gt;

&lt;p&gt;I could work on that, but someone need to point out to me where to start,&#160;&lt;/p&gt;

&lt;p&gt;Do I work on the PojoSerializer, to make this case not throwing an exception ?&lt;/p&gt;

&lt;p&gt;Or do I try to find the root cause, namely why the field serializer of the deleted field is still present ?&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17486319" author="fabian.paul" created="Thu, 3 Feb 2022 09:26:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdine&quot; class=&quot;user-hover&quot; rel=&quot;bdine&quot;&gt;bdine&lt;/a&gt; thanks for your interest. First I&apos;d like to clarify which Flink versions are affected by this since 1.9.3 is officially not supported anymore. Is this the only version where you see this problem?&lt;/p&gt;</comment>
                            <comment id="17486322" author="bdine" created="Thu, 3 Feb 2022 09:31:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpaul&quot; class=&quot;user-hover&quot; rel=&quot;fpaul&quot;&gt;fpaul&lt;/a&gt; Reproduced in Flink 1.13.5 &amp;amp; 1.14.3&lt;/p&gt;

&lt;p&gt;The job was originally developed in 1.11.x and has gone through several Flink version upgrade towards 1.14,&#160;&lt;/p&gt;

&lt;p&gt;I find this bug pretty weird, as I do not have it with all of deleted field,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17486336" author="fabian.paul" created="Thu, 3 Feb 2022 09:49:23 +0000"  >&lt;p&gt;Thanks for the fast reply. The community is currently a bit busy due to the upcoming feature freeze for 1.15 at the end of the next. I had a quick look and was wondering because it seems that there exists a test to verify the deletion behavior &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If you have time you can start to have a look.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/flink/blob/49537320e00bfd221bcdd3ab5d84ae9a8d00d7e7/flink-core/src/test/java/org/apache/flink/api/java/typeutils/runtime/PojoSerializerSnapshotTest.java#L140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/blob/49537320e00bfd221bcdd3ab5d84ae9a8d00d7e7/flink-core/src/test/java/org/apache/flink/api/java/typeutils/runtime/PojoSerializerSnapshotTest.java#L140&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17486354" author="bdine" created="Thu, 3 Feb 2022 10:17:34 +0000"  >&lt;p&gt;I might be wrong,&#160;&lt;br/&gt;
But in the test we have fields = new Field[] {null, NAME_FIELD.field, null} &amp;amp; fieldSerializer = new TypeSerializer[] { IntSerializer.INSTANCE, StringSerializer.INSTANCE, DoubleSerializer.INSTANCE }&lt;/p&gt;

&lt;p&gt;But when I follow the NPE stack trace,&#160;&lt;br/&gt;
Using PojoSerializer.duplicate() with those null fields &amp;amp; this fieldSerializer -&amp;gt; new PojoSerializer(this.clazz, duplicateFieldSerializers, this.fields, this.executionConfig);&lt;br/&gt;
In the called constructor we have :&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.numFields = fieldSerializers.length;
[..]
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; numFields; i++) {
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fields[i].setAccessible(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;So this exception make sense here : numFields will be equal to length of fieldSerializer = 3 and we will have this.fields&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &amp;amp; this.fields&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; = null -&amp;gt; throwing this NPE&lt;br/&gt;
Maybe I am missing something, I am not really familiar with state serializer workflow&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17486389" author="dawidwys" created="Thu, 3 Feb 2022 11:27:39 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gaoyunhaii&quot; class=&quot;user-hover&quot; rel=&quot;gaoyunhaii&quot;&gt;gaoyunhaii&lt;/a&gt; Do you think it is a blocker for 1.15? I think it is quite a serious issue in our serialization stack. It is quite easily reproducible if we e.g. change &lt;tt&gt;TypeSerializerUpgradeTestBase#assertSerializerIsValid&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; void assertSerializerIsValid(
            TypeSerializer&amp;lt;T&amp;gt; serializer, DataInputView dataInput, Matcher&amp;lt;T&amp;gt; testDataMatcher)
            &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

        DataInputView serializedData =
                readAndThenWriteData(dataInput, serializer, serializer, testDataMatcher);
        TypeSerializerSnapshot&amp;lt;T&amp;gt; snapshot = writeAndThenReadSerializerSnapshot(serializer);
        TypeSerializer&amp;lt;T&amp;gt; restoreSerializer = snapshot.restoreSerializer()*.duplicate()*;
        readAndThenWriteData(serializedData, restoreSerializer, restoreSerializer, testDataMatcher);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17486392" author="fabian.paul" created="Thu, 3 Feb 2022 11:30:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt; I tend to agree it should be a blocker.&lt;/p&gt;</comment>
                            <comment id="17486454" author="till.rohrmann" created="Thu, 3 Feb 2022 13:02:45 +0000"  >&lt;p&gt;Yes, I agree. This is quite bad given that we provide &lt;a href=&quot;https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/fault-tolerance/serialization/schema_evolution/#supported-data-types-for-schema-evolution&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;schema evolution for POJO types&lt;/a&gt;. Let&apos;s fix it in all currently supported releases.&lt;/p&gt;</comment>
                            <comment id="17487056" author="dawidwys" created="Fri, 4 Feb 2022 12:03:55 +0000"  >&lt;p&gt;Fixed in:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;master
	&lt;ul&gt;
		&lt;li&gt;cde85c5a9798d3600e911959cec6f78743dc15b0..860f0a292857ed6ee25dc2fd407ebf45f2c4cda5&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.14.4
	&lt;ul&gt;
		&lt;li&gt;150f768573cb526a2c67123da61f64b199d0ea7a..b9f7a4f02e969cf98d7b3acc549b27adad234079&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.13.7
	&lt;ul&gt;
		&lt;li&gt;3d2329e9744eb89e31669f2096c4bce7dde7898a..695372cd0a5bece795d1248f32e46ec9748a40e8&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17487112" author="bdine" created="Fri, 4 Feb 2022 14:54:54 +0000"  >&lt;p&gt;Thanks for quick fix guys&lt;/p&gt;</comment>
                            <comment id="17487113" author="dawidwys" created="Fri, 4 Feb 2022 14:56:47 +0000"  >&lt;p&gt;I am sorry to admit it&apos;s not been that quick &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; It took almost a year &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17487116" author="bdine" created="Fri, 4 Feb 2022 15:02:48 +0000"  >&lt;p&gt;This was pretty quick according to my first comment yesterday when I found the bug &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; but yea maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asardaes&quot; class=&quot;user-hover&quot; rel=&quot;asardaes&quot;&gt;asardaes&lt;/a&gt; has waited a little more &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17512372" author="bdine" created="Fri, 25 Mar 2022 13:13:41 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;After upgrading to 1.14.4, we are facing another issue when restoring the state with the deleted field :&#160;&lt;/p&gt;

&lt;p&gt;NPE has been corrected, but we have another exception :&#160;&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.IllegalStateException: field serializer snapshots should be present.&#160;&lt;/p&gt;

&lt;p&gt;when restoring the fields serializer of the POJO&lt;/p&gt;

&lt;p&gt;Full stack :&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
java.lang.Exception:&#160;Exception&#160;while&#160;creating&#160;StreamOperatorStateContext.&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:255)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:268)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.runtime.tasks.RegularOperatorChain.initializeStateAndOpenOperators(RegularOperatorChain.java:109)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.runtime.tasks.StreamTask.restoreGates(StreamTask.java:711)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.call(StreamTaskActionExecutor.java:55)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.runtime.tasks.StreamTask.restoreInternal(StreamTask.java:687)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:654)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:958)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:766)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.runtime.taskmanager.Task.run(Task.java:575)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.lang.Thread.run(Unknown&#160;Source)&lt;br/&gt;
Caused&#160;by:&#160;org.apache.flink.util.FlinkException:&#160;Could&#160;not&#160;restore&#160;keyed&#160;state&#160;backend&#160;for&#160;WindowOperator_d9f814bb951ceee0ef1734a68b047efa_(1/1)&#160;from&#160;any&#160;of&#160;the&#160;1&#160;provided&#160;restore&#160;options.&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:160)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:346)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:164)&lt;br/&gt;
&#160;&#160;&#160;&#160;...&#160;11&#160;more&lt;br/&gt;
Caused&#160;by:&#160;org.apache.flink.runtime.state.BackendBuildingException:&#160;Caught&#160;unexpected&#160;exception.&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder.build(RocksDBKeyedStateBackendBuilder.java:394)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.EmbeddedRocksDBStateBackend.createKeyedStateBackend(EmbeddedRocksDBStateBackend.java:462)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.EmbeddedRocksDBStateBackend.createKeyedStateBackend(EmbeddedRocksDBStateBackend.java:93)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:329)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:168)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)&lt;br/&gt;
&#160;&#160;&#160;&#160;...&#160;13&#160;more&lt;br/&gt;
Caused&#160;by:&#160;java.lang.IllegalStateException:&#160;field&#160;serializer&#160;snapshots&#160;should&#160;be&#160;present.&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.util.Preconditions.checkState(Preconditions.java:193)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.java.typeutils.runtime.PojoSerializerSnapshot.lambda$restoreSerializer$0(PojoSerializerSnapshot.java:144)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.util.LinkedOptionalMap.forEach(LinkedOptionalMap.java:159)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.java.typeutils.runtime.PojoSerializerSnapshot.restoreSerializer(PojoSerializerSnapshot.java:141)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.ReferencePipeline$3$1.accept(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.AbstractPipeline.copyInto(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.AbstractPipeline.evaluate(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.ReferencePipeline.toArray(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.common.typeutils.NestedSerializersSnapshotDelegate.snapshotsToRestoreSerializers(NestedSerializersSnapshotDelegate.java:221)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.common.typeutils.NestedSerializersSnapshotDelegate.getRestoredNestedSerializers(NestedSerializersSnapshotDelegate.java:80)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.common.typeutils.CompositeTypeSerializerSnapshot.restoreSerializer(CompositeTypeSerializerSnapshot.java:219)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.java.typeutils.runtime.PojoSerializerSnapshot.lambda$restoreSerializer$0(PojoSerializerSnapshot.java:148)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.util.LinkedOptionalMap.forEach(LinkedOptionalMap.java:159)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.java.typeutils.runtime.PojoSerializerSnapshot.restoreSerializer(PojoSerializerSnapshot.java:141)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.ReferencePipeline$3$1.accept(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.AbstractPipeline.copyInto(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.AbstractPipeline.evaluate(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;java.base/java.util.stream.ReferencePipeline.toArray(Unknown&#160;Source)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.common.typeutils.NestedSerializersSnapshotDelegate.snapshotsToRestoreSerializers(NestedSerializersSnapshotDelegate.java:221)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.common.typeutils.NestedSerializersSnapshotDelegate.getRestoredNestedSerializers(NestedSerializersSnapshotDelegate.java:80)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.api.common.typeutils.CompositeTypeSerializerSnapshot.restoreSerializer(CompositeTypeSerializerSnapshot.java:219)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.runtime.state.StateSerializerProvider.previousSchemaSerializer(StateSerializerProvider.java:186)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.runtime.state.StateSerializerProvider.currentSchemaSerializer(StateSerializerProvider.java:161)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.runtime.state.RegisteredKeyValueStateBackendMetaInfo.getStateSerializer(RegisteredKeyValueStateBackendMetaInfo.java:143)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.ttl.RocksDbTtlCompactFiltersManager.setAndRegisterCompactFilterIfStateTtl(RocksDbTtlCompactFiltersManager.java:73)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.RocksDBOperationUtils.createColumnFamilyDescriptor(RocksDBOperationUtils.java:157)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.RocksDBOperationUtils.createStateInfo(RocksDBOperationUtils.java:134)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.restore.RocksDBHandle.getOrRegisterStateColumnFamilyHandle(RocksDBHandle.java:163)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.applyRestoreResult(RocksDBFullRestoreOperation.java:122)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.restore.RocksDBFullRestoreOperation.restore(RocksDBFullRestoreOperation.java:102)&lt;br/&gt;
&#160;&#160;&#160;&#160;at&#160;org.apache.flink.contrib.streaming.state.RocksDBKeyedStateBackendBuilder.build(RocksDBKeyedStateBackendBuilder.java:314)&lt;br/&gt;
&#160;&#160;&#160;&#160;...&#160;18&#160;more&lt;/p&gt;</comment>
                            <comment id="17936722" author="JIRAUSER300786" created="Wed, 19 Mar 2025 07:22:51 +0000"  >&lt;p&gt;we also encounter the problem.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//&#20195;&#30721;&#21344;&#20301;&#31526;
&lt;/span&gt;org.apache.flink.runtime.JobException: Recovery is suppressed by FailureRateRestartBackoffTimeStrategy(FailureRateRestartBackoffTimeStrategy(failuresIntervalMS=300000,backoffTimeMS=10000,maxFailuresPerInterval=4)
&#160; &#160; at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.handleFailure(ExecutionFailureHandler.java:139)
&#160; &#160; at org.apache.flink.runtime.executiongraph.failover.flip1.ExecutionFailureHandler.getFailureHandlingResult(ExecutionFailureHandler.java:83)
&#160; &#160; at org.apache.flink.runtime.scheduler.DefaultScheduler.recordTaskFailure(DefaultScheduler.java:258)
&#160; &#160; at org.apache.flink.runtime.scheduler.DefaultScheduler.handleTaskFailure(DefaultScheduler.java:249)
&#160; &#160; at org.apache.flink.runtime.scheduler.DefaultScheduler.onTaskFailed(DefaultScheduler.java:242)
&#160; &#160; at org.apache.flink.runtime.scheduler.SchedulerBase.onTaskExecutionStateUpdate(SchedulerBase.java:748)
&#160; &#160; at org.apache.flink.runtime.scheduler.SchedulerBase.updateTaskExecutionState(SchedulerBase.java:725)
&#160; &#160; at org.apache.flink.runtime.scheduler.SchedulerNG.updateTaskExecutionState(SchedulerNG.java:80)
&#160; &#160; at org.apache.flink.runtime.jobmaster.JobMaster.updateTaskExecutionState(JobMaster.java:480)
&#160; &#160; at sun.reflect.GeneratedMethodAccessor531.invoke(Unknown Source)
&#160; &#160; at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.lang.reflect.Method.invoke(Method.java:498)
&#160; &#160; at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.lambda$handleRpcInvocation$1(AkkaRpcActor.java:309)
&#160; &#160; at org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:83)
&#160; &#160; at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcInvocation(AkkaRpcActor.java:307)
&#160; &#160; at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:222)
&#160; &#160; at org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:84)
&#160; &#160; at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:168)
&#160; &#160; at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24)
&#160; &#160; at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20)
&#160; &#160; at scala.PartialFunction.applyOrElse(PartialFunction.scala:127)
&#160; &#160; at scala.PartialFunction.applyOrElse$(PartialFunction.scala:126)
&#160; &#160; at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20)
&#160; &#160; at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:175)
&#160; &#160; at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:176)
&#160; &#160; at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:176)
&#160; &#160; at akka.actor.Actor.aroundReceive(Actor.scala:537)
&#160; &#160; at akka.actor.Actor.aroundReceive$(Actor.scala:535)
&#160; &#160; at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220)
&#160; &#160; at akka.actor.ActorCell.receiveMessage(ActorCell.scala:579)
&#160; &#160; at akka.actor.ActorCell.invoke(ActorCell.scala:547)
&#160; &#160; at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)
&#160; &#160; at akka.dispatch.Mailbox.run(Mailbox.scala:231)
&#160; &#160; at akka.dispatch.Mailbox.exec(Mailbox.scala:243)
&#160; &#160; at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
&#160; &#160; at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
&#160; &#160; at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
&#160; &#160; at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)
Caused by: java.lang.Exception: Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating StreamOperatorStateContext.
&#160; &#160; at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:256)
&#160; &#160; at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:256)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.RegularOperatorChain.initializeStateAndOpenOperators(RegularOperatorChain.java:106)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.restoreGates(StreamTask.java:734)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.call(StreamTaskActionExecutor.java:55)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.restoreInternal(StreamTask.java:709)
&#160; &#160; at org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:675)
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:952)
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:921)
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:745)
&#160; &#160; at org.apache.flink.runtime.taskmanager.Task.run(Task.java:562)
&#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
Caused by: org.apache.flink.util.FlinkException: Could not restore keyed state backend &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; WindowOperator_c27dcf7b54ef6bfd6cff02ca8870b681_(2/6) from any of the 1 provided restore options.
&#160; &#160; at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:160)
&#160; &#160; at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.keyedStatedBackend(StreamTaskStateInitializerImpl.java:353)
&#160; &#160; at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.streamOperatorStateContext(StreamTaskStateInitializerImpl.java:165)
&#160; &#160; ... 11 more
Caused by: org.apache.flink.runtime.state.BackendBuildingException: Failed when trying to restore heap backend
&#160; &#160; at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.restoreState(HeapKeyedStateBackendBuilder.java:172)
&#160; &#160; at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.build(HeapKeyedStateBackendBuilder.java:106)
&#160; &#160; at org.apache.flink.runtime.state.hashmap.HashMapStateBackend.createKeyedStateBackend(HashMapStateBackend.java:143)
&#160; &#160; at org.apache.flink.runtime.state.hashmap.HashMapStateBackend.createKeyedStateBackend(HashMapStateBackend.java:74)
&#160; &#160; at org.apache.flink.runtime.state.StateBackend.createKeyedStateBackend(StateBackend.java:149)
&#160; &#160; at org.apache.flink.streaming.api.operators.StreamTaskStateInitializerImpl.lambda$keyedStatedBackend$1(StreamTaskStateInitializerImpl.java:336)
&#160; &#160; at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.attemptCreateAndRestore(BackendRestorerProcedure.java:168)
&#160; &#160; at org.apache.flink.streaming.api.operators.BackendRestorerProcedure.createAndRestore(BackendRestorerProcedure.java:135)
&#160; &#160; ... 13 more
Caused by: java.lang.IllegalStateException: field serializer snapshots should be present.
&#160; &#160; at org.apache.flink.util.Preconditions.checkState(Preconditions.java:193)
&#160; &#160; at org.apache.flink.api.java.typeutils.runtime.PojoSerializerSnapshot.lambda$restoreSerializer$0(PojoSerializerSnapshot.java:144)
&#160; &#160; at org.apache.flink.util.LinkedOptionalMap.forEach(LinkedOptionalMap.java:159)
&#160; &#160; at org.apache.flink.api.java.typeutils.runtime.PojoSerializerSnapshot.restoreSerializer(PojoSerializerSnapshot.java:141)
&#160; &#160; at org.apache.flink.api.java.typeutils.runtime.PojoSerializerSnapshot.lambda$restoreSerializer$0(PojoSerializerSnapshot.java:148)
&#160; &#160; at org.apache.flink.util.LinkedOptionalMap.forEach(LinkedOptionalMap.java:159)
&#160; &#160; at org.apache.flink.api.java.typeutils.runtime.PojoSerializerSnapshot.restoreSerializer(PojoSerializerSnapshot.java:141)
&#160; &#160; at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
&#160; &#160; at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
&#160; &#160; at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
&#160; &#160; at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
&#160; &#160; at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:546)
&#160; &#160; at java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
&#160; &#160; at java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:505)
&#160; &#160; at org.apache.flink.api.common.typeutils.NestedSerializersSnapshotDelegate.snapshotsToRestoreSerializers(NestedSerializersSnapshotDelegate.java:201)
&#160; &#160; at org.apache.flink.api.common.typeutils.NestedSerializersSnapshotDelegate.getRestoredNestedSerializers(NestedSerializersSnapshotDelegate.java:78)
&#160; &#160; at org.apache.flink.api.common.typeutils.CompositeTypeSerializerSnapshot.restoreSerializer(CompositeTypeSerializerSnapshot.java:219)
&#160; &#160; at org.apache.flink.runtime.state.StateSerializerProvider.previousSchemaSerializer(StateSerializerProvider.java:186)
&#160; &#160; at org.apache.flink.runtime.state.StateSerializerProvider.currentSchemaSerializer(StateSerializerProvider.java:161)
&#160; &#160; at org.apache.flink.runtime.state.RegisteredKeyValueStateBackendMetaInfo.getStateSerializer(RegisteredKeyValueStateBackendMetaInfo.java:143)
&#160; &#160; at org.apache.flink.runtime.state.heap.StateTable.getStateSerializer(StateTable.java:321)
&#160; &#160; at org.apache.flink.runtime.state.heap.CopyOnWriteStateTable.createStateMap(CopyOnWriteStateTable.java:55)
&#160; &#160; at org.apache.flink.runtime.state.heap.CopyOnWriteStateTable.createStateMap(CopyOnWriteStateTable.java:37)
&#160; &#160; at org.apache.flink.runtime.state.heap.StateTable.&amp;lt;init&amp;gt;(StateTable.java:99)
&#160; &#160; at org.apache.flink.runtime.state.heap.CopyOnWriteStateTable.&amp;lt;init&amp;gt;(CopyOnWriteStateTable.java:50)
&#160; &#160; at org.apache.flink.runtime.state.heap.HeapMetaInfoRestoreOperation.createOrCheckStateForMetaInfo(HeapMetaInfoRestoreOperation.java:87)
&#160; &#160; at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:163)
&#160; &#160; at org.apache.flink.runtime.state.heap.HeapRestoreOperation.restore(HeapRestoreOperation.java:62)
&#160; &#160; at org.apache.flink.runtime.state.heap.HeapKeyedStateBackendBuilder.restoreState(HeapKeyedStateBackendBuilder.java:169)
&#160; &#160; ... 20 more
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0op48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>