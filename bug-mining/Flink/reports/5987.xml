<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:07:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-24733] Data loss in pulsar source when using shared mode</title>
                <link>https://issues.apache.org/jira/browse/FLINK-24733</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Description&#65306;&lt;br/&gt;
 Noticed that when using Flink-connector-pulsar with Shared mode (default mode), some messages are lost. &lt;br/&gt;
Details&#65306;&lt;br/&gt;
 When a topic partition does not receive message for more than 10s (pulsar.source.maxFetchTime), the next coming message will be dropped by source.&lt;br/&gt;
In stream applications, this situation which there is no data for more than 10s is very common. So this bug will cause data loss.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13409651">FLINK-24733</key>
            <summary>Data loss in pulsar source when using shared mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="syhily">Yufan Sheng</assignee>
                                    <reporter username="shengzhi">wang shengzhi</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 2 Nov 2021 11:16:33 +0000</created>
                <updated>Wed, 15 Dec 2021 01:44:17 +0000</updated>
                            <resolved>Thu, 11 Nov 2021 10:14:05 +0000</resolved>
                                    <version>1.14.0</version>
                                    <fixVersion>1.14.3</fixVersion>
                    <fixVersion>1.15.0</fixVersion>
                                    <component>Connectors / Pulsar</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17437320" author="martijnvisser" created="Tue, 2 Nov 2021 11:50:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syhily&quot; class=&quot;user-hover&quot; rel=&quot;syhily&quot;&gt;syhily&lt;/a&gt; What are your thoughts on this one?&lt;/p&gt;</comment>
                            <comment id="17437324" author="shengzhi" created="Tue, 2 Nov 2021 12:12:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syhily&quot; class=&quot;user-hover&quot; rel=&quot;syhily&quot;&gt;syhily&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=MartijnVisser&quot; class=&quot;user-hover&quot; rel=&quot;martijnvisser&quot;&gt;MartijnVisser&lt;/a&gt;&#160;I have fixed this bug, please check it out.&lt;/p&gt;</comment>
                            <comment id="17437403" author="syhily" created="Tue, 2 Nov 2021 14:47:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shengzhi&quot; class=&quot;user-hover&quot; rel=&quot;shengzhi&quot;&gt;shengzhi&lt;/a&gt; Tks for your fix. I&apos;m digging into the Pulsar client API for making sure this fix is OK.&lt;br/&gt;
I think you may need to add another fix for the ordered reader.&lt;/p&gt;</comment>
                            <comment id="17437460" author="syhily" created="Tue, 2 Nov 2021 16:27:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shengzhi&quot; class=&quot;user-hover&quot; rel=&quot;shengzhi&quot;&gt;shengzhi&lt;/a&gt; The fix didn&apos;t touch the core of data loss. We need more time to investigate why we meet data loss in low data rates.&lt;/p&gt;</comment>
                            <comment id="17437761" author="shengzhi" created="Wed, 3 Nov 2021 06:57:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syhily&quot; class=&quot;user-hover&quot; rel=&quot;syhily&quot;&gt;syhily&lt;/a&gt;&#160;I think that the wrong understand of &apos;CompletableFutureCancellationHandler&apos; leads to the data lost. Refer to what I said in the PR link. &lt;a href=&quot;https://github.com/apache/flink/pull/17643&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/17643&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17442204" author="arvid" created="Thu, 11 Nov 2021 10:14:05 +0000"  >&lt;p&gt;Merged into master as 384af4ac47bc8ef30bed78fdfcea677a7d257ac0, merged into 1.14 as 6a319e421b848f20ea67f54ee2eaa9e1c73d91c4.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13396914">FLINK-23944</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0wdi8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>