<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:18:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-1664] Forbid sorting on POJOs</title>
                <link>https://issues.apache.org/jira/browse/FLINK-1664</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Flink&apos;s groupSort, partitionSort, and outputSort operators allow to sort partitions or groups of a DataSet.&lt;/p&gt;

&lt;p&gt;If the sort is defined on a POJO field, the sort order is not well defined. Internally, the POJO is recursively decomposed into atomic fields (primitives or generic types) and sorted by sorting these atomic fields. Thereby, the order of these atomic fields is not well defined (I believe it is lexicographic order of the POJO&apos;s member names).&lt;/p&gt;

&lt;p&gt;IMO, the best approach is to forbid sorting on POJO types for now. Instead, it is always possible to select the nested fields of the POJO that should be used for sorting. Later we can relax this restriction.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780532">FLINK-1664</key>
            <summary>Forbid sorting on POJOs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fhueske">Fabian Hueske</assignee>
                                    <reporter username="fhueske">Fabian Hueske</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Mar 2015 17:06:40 +0000</created>
                <updated>Thu, 28 Feb 2019 14:01:39 +0000</updated>
                            <resolved>Fri, 3 Apr 2015 19:35:06 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.9</version>
                                    <fixVersion>0.9</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14355054" author="mxm" created="Tue, 10 Mar 2015 15:21:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14384904" author="githubbot" created="Fri, 27 Mar 2015 23:41:56 +0000"  >&lt;p&gt;GitHub user fhueske opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/541&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/541&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1664&quot; title=&quot;Forbid sorting on POJOs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1664&quot;&gt;&lt;del&gt;FLINK-1664&lt;/del&gt;&lt;/a&gt; Adds checks if selected sort key is sortable&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adds checks if a sort key can be actually sorted.&lt;/li&gt;
	&lt;li&gt;The POJO type is defined as non-sortable, because an order would depend on the undefined order of POJO fields.&lt;/li&gt;
	&lt;li&gt;Adds a few more tests for API sort functions&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/fhueske/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/fhueske/flink&lt;/a&gt; sortOnPojo&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/541.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/541.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #541&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e26d934eb1b2c14298900c53e8413487ce43a17a&lt;br/&gt;
Author: Fabian Hueske &amp;lt;fhueske@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-03-27T20:37:59Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1664&quot; title=&quot;Forbid sorting on POJOs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1664&quot;&gt;&lt;del&gt;FLINK-1664&lt;/del&gt;&lt;/a&gt; Adds check if a selected sort key is sortable&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14393170" author="githubbot" created="Thu, 2 Apr 2015 19:00:35 +0000"  >&lt;p&gt;Github user fhueske commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/541#issuecomment-89010189&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/541#issuecomment-89010189&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Will rebase and merge this in about 24h unless somebody raises a flag.&lt;/p&gt;</comment>
                            <comment id="14394070" author="githubbot" created="Fri, 3 Apr 2015 05:12:42 +0000"  >&lt;p&gt;Github user hsaputra commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/541#discussion_r27715729&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/541#discussion_r27715729&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-java/src/main/java/org/apache/flink/api/java/operators/DataSink.java &amp;#8212;&lt;br/&gt;
    @@ -208,6 +214,28 @@ public DataSink(DataSet&amp;lt;T&amp;gt; data, OutputFormat&amp;lt;T&amp;gt; format, TypeInformation&amp;lt;T&amp;gt; type&lt;br/&gt;
     		return this;&lt;br/&gt;
     	}&lt;/p&gt;

&lt;p&gt;    +	private void isValidSortKeyType(int field) {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    There are repeating yet similar code for isValidSortKeyType methods to check if sortable. Could the code be moved to utility class to be reused/ shared?&lt;/p&gt;</comment>
                            <comment id="14394233" author="githubbot" created="Fri, 3 Apr 2015 09:15:39 +0000"  >&lt;p&gt;Github user fhueske commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/541#discussion_r27721821&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/541#discussion_r27721821&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-java/src/main/java/org/apache/flink/api/java/operators/DataSink.java &amp;#8212;&lt;br/&gt;
    @@ -208,6 +214,28 @@ public DataSink(DataSet&amp;lt;T&amp;gt; data, OutputFormat&amp;lt;T&amp;gt; format, TypeInformation&amp;lt;T&amp;gt; type&lt;br/&gt;
     		return this;&lt;br/&gt;
     	}&lt;/p&gt;

&lt;p&gt;    +	private void isValidSortKeyType(int field) {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I agree, there is some duplicated code for key handling, not only for sort keys. &lt;br/&gt;
    I am planning to rework the expression key handling in the API to make it more consistent as of &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-1666&quot; title=&quot;Clean-up Field Expression Code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-1666&quot;&gt;&lt;del&gt;FLINK-1666&lt;/del&gt;&lt;/a&gt; soon.&lt;/p&gt;</comment>
                            <comment id="14394968" author="githubbot" created="Fri, 3 Apr 2015 19:33:28 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/541&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/541&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14394972" author="fhueske" created="Fri, 3 Apr 2015 19:35:06 +0000"  >&lt;p&gt;Fixed with f36eb54ee6d8cc130439def98559b6b0a70b6c7b&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26ix3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>