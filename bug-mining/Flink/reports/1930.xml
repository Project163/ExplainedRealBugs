<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:29:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-7357] HOP_START() HOP_END() does not work when using HAVING clause with GROUP BY HOP window</title>
                <link>https://issues.apache.org/jira/browse/FLINK-7357</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The following SQL does not compile:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;invalid_having_hop_start_sql&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT 
  c AS k, 
  COUNT(a) AS v, 
  HOP_START(rowtime, INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; MINUTE, INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; MINUTE) AS windowStart, 
  HOP_END(rowtime, INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; MINUTE, INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; MINUTE) AS windowEnd 
FROM 
  T1 
GROUP BY 
  HOP(rowtime, INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; MINUTE, INTERVAL &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; MINUTE), 
  c 
HAVING 
  SUM(b) &amp;gt; 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;While individually keeping HAVING clause or HOP_START field compiles and runs without issue.&lt;/p&gt;

&lt;p&gt;more details: &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/flink/compare/master...walterddr:having_does_not_work_with_hop_start_end&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/compare/master...walterddr:having_does_not_work_with_hop_start_end&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13092071">FLINK-7357</key>
            <summary>HOP_START() HOP_END() does not work when using HAVING clause with GROUP BY HOP window</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rongr">Rong Rong</assignee>
                                    <reporter username="rongr">Rong Rong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Aug 2017 04:37:52 +0000</created>
                <updated>Thu, 19 Sep 2019 19:18:02 +0000</updated>
                            <resolved>Mon, 12 Mar 2018 15:37:06 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.3.4</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>Table SQL / API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16120483" author="rongr" created="Wed, 9 Aug 2017 19:10:13 +0000"  >&lt;p&gt;Seems like the logical plan generated from Having inserts another `LogicalFilter` in between the outer project and inner project. Thus the `WindowStartEndPropertiesRule` did not get fired. &lt;/p&gt;

&lt;p&gt;Working on a fix now, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wheat9&quot; class=&quot;user-hover&quot; rel=&quot;wheat9&quot;&gt;wheat9&lt;/a&gt; can I assign to myself?&lt;/p&gt;</comment>
                            <comment id="16120511" author="wheat9" created="Wed, 9 Aug 2017 19:28:37 +0000"  >&lt;p&gt;I haven&apos;t started yet. Please go ahead.&lt;/p&gt;</comment>
                            <comment id="16121997" author="githubbot" created="Thu, 10 Aug 2017 17:59:10 +0000"  >&lt;p&gt;Github user walterddr closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4520&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4520&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16121999" author="githubbot" created="Thu, 10 Aug 2017 18:00:21 +0000"  >&lt;p&gt;GitHub user walterddr opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7357&quot; title=&quot;HOP_START() HOP_END() does not work when using HAVING clause with GROUP BY HOP window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7357&quot;&gt;&lt;del&gt;FLINK-7357&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Created extended rules for WindowStartEndPropertiesRule on Having clause&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/walterddr/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/walterddr/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7357&quot; title=&quot;HOP_START() HOP_END() does not work when using HAVING clause with GROUP BY HOP window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7357&quot;&gt;&lt;del&gt;FLINK-7357&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4521&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 12e6737e3612de94885cc8c16d341b7e2c607370&lt;br/&gt;
Author: Rong Rong &amp;lt;rongr@uber.com&amp;gt;&lt;br/&gt;
Date:   2017-08-10T17:46:25Z&lt;/p&gt;

&lt;p&gt;    make WindowStartEndPropertiesRule abstract and create extended rules for Having clause&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16141603" author="githubbot" created="Fri, 25 Aug 2017 13:22:31 +0000"  >&lt;p&gt;Github user twalthr commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521#discussion_r135256246&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521#discussion_r135256246&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-table/src/main/scala/org/apache/flink/table/plan/rules/FlinkRuleSets.scala &amp;#8212;&lt;br/&gt;
    @@ -147,7 +147,8 @@ object FlinkRuleSets {&lt;/p&gt;

&lt;p&gt;         // Transform window to LogicalWindowAggregate&lt;br/&gt;
         DataSetLogicalWindowAggregateRule.INSTANCE,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;WindowStartEndPropertiesRule.INSTANCE&lt;br/&gt;
    +    WindowStartEndPropertiesRule.INSTANCE,&lt;br/&gt;
    +    WindowStartEndPropertiesHavingRule.INSTANCE
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Please also add tests for the batch logical plan.&lt;/p&gt;</comment>
                            <comment id="16141604" author="githubbot" created="Fri, 25 Aug 2017 13:22:31 +0000"  >&lt;p&gt;Github user twalthr commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521#discussion_r135254243&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521#discussion_r135254243&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-table/src/test/scala/org/apache/flink/table/api/stream/sql/GroupWindowTest.scala &amp;#8212;&lt;br/&gt;
    @@ -143,4 +143,36 @@ class GroupWindowTest extends TableTestBase &lt;/p&gt;
{
     
         streamUtil.verifySql(sql, expected)
       }
&lt;p&gt;    +&lt;br/&gt;
    +  @Test&lt;br/&gt;
    +  def testExpressionOnWindowHavingFunction() = {&lt;br/&gt;
    +    val sql =&lt;br/&gt;
    +      &quot;SELECT &quot; +&lt;br/&gt;
    +        &quot;  COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, &quot; +&lt;br/&gt;
    +        &quot;  HOP_START(rowtime, INTERVAL &apos;15&apos; MINUTE, INTERVAL &apos;1&apos; MINUTE) &quot; +&lt;br/&gt;
    +        &quot;FROM MyTable &quot; +&lt;br/&gt;
    +        &quot;GROUP BY HOP(rowtime, INTERVAL &apos;15&apos; MINUTE, INTERVAL &apos;1&apos; MINUTE) &quot; +&lt;br/&gt;
    +        &quot;HAVING SUM(a) &amp;gt; 0&quot;&lt;br/&gt;
    +    val expected =&lt;br/&gt;
    +      unaryNode(&lt;br/&gt;
    +        &quot;DataStreamCalc&quot;,&lt;br/&gt;
    +        unaryNode(&lt;br/&gt;
    +          &quot;DataStreamGroupWindowAggregate&quot;,&lt;br/&gt;
    +          unaryNode(&lt;br/&gt;
    +            &quot;DataStreamCalc&quot;,&lt;br/&gt;
    +            streamTableNode(0),&lt;br/&gt;
    +            term(&quot;select&quot;, &quot;rowtime, a&quot;)&lt;br/&gt;
    +          ),&lt;br/&gt;
    +          term(&quot;window&quot;, SlidingGroupWindow(&apos;w$, &apos;rowtime, 60000.millis, 900000.millis)),&lt;br/&gt;
    +          term(&quot;select&quot;,&lt;br/&gt;
    +            &quot;COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; AS EXPR$0&quot;,&lt;br/&gt;
    +            &quot;SUM(a) AS $f1&quot;,&lt;br/&gt;
    +            &quot;start(&apos;w$) AS w$start&quot;,&lt;br/&gt;
    +            &quot;end(&apos;w$) AS w$end&quot;)&lt;br/&gt;
    +        ),&lt;br/&gt;
    +        term(&quot;select&quot;, &quot;EXPR$0&quot;, &quot;w$start&quot;)&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Isn&apos;t your condition `&amp;gt; 0` missing in your logical plan?&lt;/p&gt;</comment>
                            <comment id="16141605" author="githubbot" created="Fri, 25 Aug 2017 13:22:31 +0000"  >&lt;p&gt;Github user twalthr commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521#discussion_r135255639&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521#discussion_r135255639&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-table/src/test/scala/org/apache/flink/table/runtime/stream/sql/OverWindowITCase.scala &amp;#8212;&lt;br/&gt;
    @@ -836,6 +836,52 @@ class OverWindowITCase extends StreamingWithStateTestBase &lt;/p&gt;
{
         )
         assertEquals(expected.sorted, StreamITCase.testResults.sorted)
       }
&lt;p&gt;    +&lt;br/&gt;
    +  @Test&lt;br/&gt;
    +  def testHopStartEndWithHaving(): Unit = {&lt;br/&gt;
    +    val env = StreamExecutionEnvironment.getExecutionEnvironment&lt;br/&gt;
    +    val tEnv = TableEnvironment.getTableEnvironment(env)&lt;br/&gt;
    +    env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime)&lt;br/&gt;
    +    env.setStateBackend(getStateBackend)&lt;br/&gt;
    +    StreamITCase.clear&lt;br/&gt;
    +    env.setParallelism(1)&lt;br/&gt;
    +&lt;br/&gt;
    +    val sqlQueryHopStartEndWithHaving = &quot;SELECT \n&quot; +&lt;br/&gt;
    +      &quot;  c AS k, \n&quot; +&lt;br/&gt;
    +      &quot;  COUNT(a) AS v, \n&quot; +&lt;br/&gt;
    +      &quot;  HOP_START(rowtime, INTERVAL &apos;1&apos; MINUTE, INTERVAL &apos;1&apos; MINUTE) AS windowStart, \n&quot; +&lt;br/&gt;
    +      &quot;  HOP_END(rowtime, INTERVAL &apos;1&apos; MINUTE, INTERVAL &apos;1&apos; MINUTE) AS windowEnd \n&quot; +&lt;br/&gt;
    +      &quot;FROM \n&quot; +&lt;br/&gt;
    +      &quot;  T1 \n&quot; +&lt;br/&gt;
    +      &quot;GROUP BY \n&quot; +&lt;br/&gt;
    +      &quot;  HOP(rowtime, INTERVAL &apos;1&apos; MINUTE, INTERVAL &apos;1&apos; MINUTE), \n&quot; +&lt;br/&gt;
    +      &quot;  c \n&quot; +&lt;br/&gt;
    +      &quot;HAVING \n&quot; +&lt;br/&gt;
    +      &quot;  SUM(b) &amp;gt; 1 \n&quot;&lt;br/&gt;
    +&lt;br/&gt;
    +    val data = Seq(&lt;br/&gt;
    +      Left(14000005L, (1, 1L, &quot;Hi&quot;)),&lt;br/&gt;
    +      Left(14000000L, (2, 1L, &quot;Hello&quot;)),&lt;br/&gt;
    +      Left(14000002L, (3, 1L, &quot;Hello&quot;)),&lt;br/&gt;
    +      Right(14000010L)&lt;br/&gt;
    +    )&lt;br/&gt;
    +&lt;br/&gt;
    +    val t1 = env.addSource(new EventTimeSourceFunction&lt;span class=&quot;error&quot;&gt;&amp;#91;(Int, Long, String)&amp;#93;&lt;/span&gt;(data))&lt;br/&gt;
    +      .toTable(tEnv, &apos;a, &apos;b, &apos;c, &apos;rowtime.rowtime)&lt;br/&gt;
    +&lt;br/&gt;
    +    tEnv.registerTable(&quot;T1&quot;, t1)&lt;br/&gt;
    +&lt;br/&gt;
    +    val resultHopStartEndWithHaving = tEnv.sql(sqlQueryHopStartEndWithHaving).toAppendStream&lt;span class=&quot;error&quot;&gt;&amp;#91;Row&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +    resultHopStartEndWithHaving.addSink(new StreamITCase.StringSink&lt;span class=&quot;error&quot;&gt;&amp;#91;Row&amp;#93;&lt;/span&gt;)&lt;br/&gt;
    +&lt;br/&gt;
    +    env.execute()&lt;br/&gt;
    +&lt;br/&gt;
    +    val expected = List(&lt;br/&gt;
    +      &quot;Hello,2,1970-01-01 03:53:00.0,1970-01-01 03:54:00.0&quot;,&lt;br/&gt;
    +      &quot;Hi,1,1970-01-01 03:53:00.0,1970-01-01 03:54:00.0&quot;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This result is not correct. If the count is `1` and we filter for sums over `b` larger than `1`, we should not include this result.&lt;/p&gt;</comment>
                            <comment id="16141974" author="githubbot" created="Fri, 25 Aug 2017 18:13:01 +0000"  >&lt;p&gt;Github user walterddr commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521#discussion_r135321169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521#discussion_r135321169&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-libraries/flink-table/src/test/scala/org/apache/flink/table/api/stream/sql/GroupWindowTest.scala &amp;#8212;&lt;br/&gt;
    @@ -143,4 +143,36 @@ class GroupWindowTest extends TableTestBase &lt;/p&gt;
{
     
         streamUtil.verifySql(sql, expected)
       }
&lt;p&gt;    +&lt;br/&gt;
    +  @Test&lt;br/&gt;
    +  def testExpressionOnWindowHavingFunction() = {&lt;br/&gt;
    +    val sql =&lt;br/&gt;
    +      &quot;SELECT &quot; +&lt;br/&gt;
    +        &quot;  COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, &quot; +&lt;br/&gt;
    +        &quot;  HOP_START(rowtime, INTERVAL &apos;15&apos; MINUTE, INTERVAL &apos;1&apos; MINUTE) &quot; +&lt;br/&gt;
    +        &quot;FROM MyTable &quot; +&lt;br/&gt;
    +        &quot;GROUP BY HOP(rowtime, INTERVAL &apos;15&apos; MINUTE, INTERVAL &apos;1&apos; MINUTE) &quot; +&lt;br/&gt;
    +        &quot;HAVING SUM(a) &amp;gt; 0&quot;&lt;br/&gt;
    +    val expected =&lt;br/&gt;
    +      unaryNode(&lt;br/&gt;
    +        &quot;DataStreamCalc&quot;,&lt;br/&gt;
    +        unaryNode(&lt;br/&gt;
    +          &quot;DataStreamGroupWindowAggregate&quot;,&lt;br/&gt;
    +          unaryNode(&lt;br/&gt;
    +            &quot;DataStreamCalc&quot;,&lt;br/&gt;
    +            streamTableNode(0),&lt;br/&gt;
    +            term(&quot;select&quot;, &quot;rowtime, a&quot;)&lt;br/&gt;
    +          ),&lt;br/&gt;
    +          term(&quot;window&quot;, SlidingGroupWindow(&apos;w$, &apos;rowtime, 60000.millis, 900000.millis)),&lt;br/&gt;
    +          term(&quot;select&quot;,&lt;br/&gt;
    +            &quot;COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; AS EXPR$0&quot;,&lt;br/&gt;
    +            &quot;SUM(a) AS $f1&quot;,&lt;br/&gt;
    +            &quot;start(&apos;w$) AS w$start&quot;,&lt;br/&gt;
    +            &quot;end(&apos;w$) AS w$end&quot;)&lt;br/&gt;
    +        ),&lt;br/&gt;
    +        term(&quot;select&quot;, &quot;EXPR$0&quot;, &quot;w$start&quot;)&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Ahh. good catch. Bonehead, bonehead &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. will fix it&lt;/p&gt;</comment>
                            <comment id="16155848" author="githubbot" created="Wed, 6 Sep 2017 18:33:39 +0000"  >&lt;p&gt;Github user walterddr commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @twalthr looks like this should resolve the last filter issue. Please kindly take a look and see if this looks good to go in &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16171774" author="githubbot" created="Tue, 19 Sep 2017 14:14:05 +0000"  >&lt;p&gt;Github user fhueske commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the PR @walterddr. &lt;/p&gt;

&lt;p&gt;    We also need to replace group aux functions in the expressions of the filter predicate to support something like this:&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    HAVING &lt;br/&gt;
      SUM(a) &amp;gt; 0 AND&lt;br/&gt;
      QUARTER(HOP_START(ts, INTERVAL &apos;15&apos; MINUTE, INTERVAL &apos;1&apos; MINUTE)) = 1&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    But that&apos;s just a minor change. &lt;br/&gt;
    I&apos;ll fix that, extend the tests to cover the case, and do some refactorings before I merge this PR.&lt;/p&gt;

&lt;p&gt;    Cheers, Fabian&lt;/p&gt;</comment>
                            <comment id="16172890" author="githubbot" created="Wed, 20 Sep 2017 08:14:32 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/4521&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/4521&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16243907" author="aljoscha" created="Wed, 8 Nov 2017 13:18:40 +0000"  >&lt;p&gt;Reopen to fix release note.&lt;/p&gt;</comment>
                            <comment id="16243908" author="aljoscha" created="Wed, 8 Nov 2017 13:18:48 +0000"  >&lt;p&gt;Fixed for 1.3.3 with cc71dec108f28562bca5f99c53950a7be6d1ba54&lt;br/&gt;
Fixed for 1.4.0 with df5efe9cead172994abb2fd4858a27caacd9468c&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3icsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>