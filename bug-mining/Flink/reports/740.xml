<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:22:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2769] Web dashboard port not configurable on client side</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2769</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The new web dashboard port configuration only affects the server side, but not the client side.&lt;/p&gt;

&lt;p&gt;To reproduce set in &lt;tt&gt;flink-conf.yaml&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;jobmanager.web.port: 9091
jobmanager.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;-web-frontend: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ bin/start-cluster.sh
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can browse to &lt;tt&gt;&lt;a href=&quot;http://localhost:9091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9091&lt;/a&gt;&lt;/tt&gt;, but you won&apos;t see any data from the job manager. Requests to &lt;a href=&quot;http://localhost:9091/overview&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9091/overview&lt;/a&gt; etc. work as expected, but the client side JavaScript is running requests against &lt;tt&gt;&lt;a href=&quot;http://localhost:8081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8081&lt;/a&gt;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The problem is that &lt;tt&gt;flink-runtime-web/web-dashboard/app/scripts/index.coffee&lt;/tt&gt; hard codes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;.value &lt;span class=&quot;code-quote&quot;&gt;&apos;flinkConfig&apos;&lt;/span&gt;, {
  jobServer: &lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8081&apos;&lt;/span&gt;
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; which is picked up by all generated scripts.&lt;/p&gt;

&lt;p&gt;This needs to be configurable for both standalone mode but especially for recovery mode. This was a major pain point for me today, because I was working on the dashboard and thought that my changes were wrong.&lt;/p&gt;

&lt;p&gt;In general, we need to add more tests to the new dashboard, which should soon replace the old one imo.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12896503">FLINK-2769</key>
            <summary>Web dashboard port not configurable on client side</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uce">Ufuk Celebi</assignee>
                                    <reporter username="uce">Ufuk Celebi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Sep 2015 21:56:54 +0000</created>
                <updated>Fri, 12 Feb 2016 14:05:34 +0000</updated>
                            <resolved>Mon, 14 Dec 2015 16:37:42 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                    <fixVersion>1.0.0</fixVersion>
                                    <component>Runtime / Web Frontend</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14909245" author="githubbot" created="Sat, 26 Sep 2015 12:33:34 +0000"  >&lt;p&gt;GitHub user uce opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1185&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2769&quot; title=&quot;Web dashboard port not configurable on client side&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2769&quot;&gt;&lt;del&gt;FLINK-2769&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;dashboard&amp;#93;&lt;/span&gt; Remove hard coded job server URL&lt;/p&gt;

&lt;p&gt;    Removes the hard coded job server URL for the client scripts. This was preventing the web server port configuration to be picked up by the client.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/uce/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/uce/flink&lt;/a&gt; dashboard_port-2769&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1185.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1185.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1185&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 118850ae95de9830705ad6b284967c964ea60674&lt;br/&gt;
Author: Ufuk Celebi &amp;lt;uce@apache.org&amp;gt;&lt;br/&gt;
Date:   2015-09-26T12:12:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2769&quot; title=&quot;Web dashboard port not configurable on client side&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2769&quot;&gt;&lt;del&gt;FLINK-2769&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;dashboard&amp;#93;&lt;/span&gt; Remove hard coded job server URL&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14909253" author="githubbot" created="Sat, 26 Sep 2015 12:46:04 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1185#issuecomment-143433645&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1185#issuecomment-143433645&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Remember to assign the JIRA to yourself &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14921440" author="githubbot" created="Mon, 28 Sep 2015 09:18:35 +0000"  >&lt;p&gt;Github user aljoscha commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1185#issuecomment-143687678&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1185#issuecomment-143687678&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1&lt;br/&gt;
    I built it and ran it on a custom port, data seems to be displayed correctly &lt;/p&gt;</comment>
                            <comment id="14933158" author="githubbot" created="Mon, 28 Sep 2015 11:02:44 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1185#issuecomment-143713277&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1185#issuecomment-143713277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1, looks good.&lt;/p&gt;

&lt;p&gt;    I think the ports / URLs were in there, because originally we had two backend servers running (the old one and the new one) while gradually transitioning requests and adding more REST requests. For a time, the frontend connected to two different backends and did some tunneling/proxy magic to get around XSS restrictions...&lt;/p&gt;</comment>
                            <comment id="14934948" author="githubbot" created="Tue, 29 Sep 2015 10:04:55 +0000"  >&lt;p&gt;Github user StephanEwen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1185#issuecomment-144012726&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1185#issuecomment-144012726&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merging this...&lt;/p&gt;</comment>
                            <comment id="14935055" author="githubbot" created="Tue, 29 Sep 2015 12:08:56 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1185&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14935066" author="stephanewen" created="Tue, 29 Sep 2015 12:11:12 +0000"  >&lt;p&gt;Fixed via 3b8b4f0f8c0600dc851d676ce1bd7f5ab81cb64f&lt;/p&gt;</comment>
                            <comment id="15048751" author="uce" created="Wed, 9 Dec 2015 14:41:35 +0000"  >&lt;p&gt;This changed removed the address completely, but it should have been an empty string by default. Otherwise it is not possible to test the web frontend locally.&lt;/p&gt;</comment>
                            <comment id="15050897" author="githubbot" created="Thu, 10 Dec 2015 12:21:10 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1449#issuecomment-163594437&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1449#issuecomment-163594437&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks! It was 2769 and not 2796. Updated the PR.&lt;/p&gt;</comment>
                            <comment id="15051605" author="githubbot" created="Thu, 10 Dec 2015 20:33:58 +0000"  >&lt;p&gt;Github user rmetzger commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1449#discussion_r47281222&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1449#discussion_r47281222&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime-web/web-dashboard/app/scripts/modules/overview/overview.svc.coffee &amp;#8212;&lt;br/&gt;
    @@ -24,7 +24,7 @@ angular.module(&apos;flinkApp&apos;)&lt;br/&gt;
       @loadOverview = -&amp;gt;&lt;br/&gt;
         deferred = $q.defer()&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;$http.get(&quot;overview&quot;)&lt;br/&gt;
    +    $http.get(flinkConfig.jobServer + &quot;/overview&quot;)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    absolute url&apos;s (starting with &apos;/&apos;) will break the YARN proxy stuff.&lt;/p&gt;</comment>
                            <comment id="15051707" author="githubbot" created="Thu, 10 Dec 2015 21:48:49 +0000"  >&lt;p&gt;Github user uce commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1449#discussion_r47291227&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1449#discussion_r47291227&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-runtime-web/web-dashboard/app/scripts/modules/overview/overview.svc.coffee &amp;#8212;&lt;br/&gt;
    @@ -24,7 +24,7 @@ angular.module(&apos;flinkApp&apos;)&lt;br/&gt;
       @loadOverview = -&amp;gt;&lt;br/&gt;
         deferred = $q.defer()&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;$http.get(&quot;overview&quot;)&lt;br/&gt;
    +    $http.get(flinkConfig.jobServer + &quot;/overview&quot;)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Good catch. Was not on purpose &lt;/p&gt;</comment>
                            <comment id="15052359" author="githubbot" created="Fri, 11 Dec 2015 07:43:11 +0000"  >&lt;p&gt;Github user sachingoel0101 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1449#issuecomment-163866658&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1449#issuecomment-163866658&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Tested it out locally. Works well with `gulp watch` and custom web frontend port.&lt;br/&gt;
    A few things I noticed:&lt;br/&gt;
    1. Job Manager&apos;s log and stdout are not accessible with CORS, since they&apos;re served via `StaticFileServerHandler` which doesn&apos;t set CORS headers. This however shouldn&apos;t be an issue. We need to have a better logs service anyway, for both Job manager and task managers IMO.&lt;br/&gt;
    2. At some point, we will remove the `GET /jobs/&amp;lt;job-id&amp;gt;/yarn-cancel` method, which is only there due to a limitation of yarn. To this end, there needs to be an `OPTIONS` handlers for the `DELETE` request to send CORS response headers in the preflight phase. &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests&lt;/a&gt;. Not for the foreseeable future though. :-&apos;)&lt;/p&gt;
</comment>
                            <comment id="15052551" author="githubbot" created="Fri, 11 Dec 2015 09:54:12 +0000"  >&lt;p&gt;Github user uce commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1449#issuecomment-163893598&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1449#issuecomment-163893598&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the reviews Robert and Sachin!&lt;/p&gt;

&lt;p&gt;    I&apos;ve addressed Robert&apos;s comment. If there are no objections, I would like to merge this.&lt;/p&gt;</comment>
                            <comment id="15052853" author="githubbot" created="Fri, 11 Dec 2015 14:50:45 +0000"  >&lt;p&gt;Github user rmetzger commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1449#issuecomment-163953942&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1449#issuecomment-163953942&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think its good to merge, +1&lt;/p&gt;</comment>
                            <comment id="15056242" author="githubbot" created="Mon, 14 Dec 2015 16:36:36 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/1449&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/1449&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15056244" author="uce" created="Mon, 14 Dec 2015 16:37:42 +0000"  >&lt;p&gt;44eb58e0885decbad84ab0345b486965e5153019&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lkyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>