<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:31:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8249] Kinesis Producer didnt configure region</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8249</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;setting this configurations to FlinkKinesisProducer:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
properties.put(AWSConfigConstants.AWS_REGION, &lt;span class=&quot;code-quote&quot;&gt;&quot;eu-west-1&quot;&lt;/span&gt;);
properties.put(AWSConfigConstants.AWS_ACCESS_KEY_ID, &lt;span class=&quot;code-quote&quot;&gt;&quot;accessKey&quot;&lt;/span&gt;);
properties.put(AWSConfigConstants.AWS_SECRET_ACCESS_KEY, &lt;span class=&quot;code-quote&quot;&gt;&quot;secretKey&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is throwing this error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
17/12/13 10:50:11 ERROR LogInputStreamReader: [2017-12-13 10:50:11.290786] [0x000057ba][0x00007f31cbce5780] [error] [main.cc:266] Could not configure the region. It was not given in the config and we were unable to retrieve it from EC2 metadata.
17/12/13 10:50:12 ERROR KinesisProducer: Error in child process
org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.producer.IrrecoverableError: Child process exited with code 1
	at org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.producer.Daemon.fatalError(Daemon.java:525)
	at org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.producer.Daemon.fatalError(Daemon.java:497)
	at org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.producer.Daemon.startChildProcess(Daemon.java:475)
	at org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.producer.Daemon.access$100(Daemon.java:63)
	at org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.producer.Daemon$1.run(Daemon.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
17/12/13 10:50:15 ERROR LogInputStreamReader: [2017-12-13 10:50:15.700441] [0x000057c4][0x00007ffb152b5780] [error] [AWS Log: ERROR](CurlHttpClient)Curl returned error code 28
17/12/13 10:50:15 ERROR LogInputStreamReader: [2017-12-13 10:50:15.700521] [0x000057c4][0x00007ffb152b5780] [error] [AWS Log: ERROR](EC2MetadataClient)Http request to Ec2MetadataService failed.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;making some investigations the region is never setted and i think this is the reason:&lt;br/&gt;
in this commit: &lt;a href=&quot;https://github.com/apache/flink/commit/9ed5d9a180dcd871e33bf8982434e3afd90ed295#diff-f3c6c35f3b045df8408b310f8f8a6bc7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/commit/9ed5d9a180dcd871e33bf8982434e3afd90ed295#diff-f3c6c35f3b045df8408b310f8f8a6bc7&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-		KinesisProducerConfiguration producerConfig = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; KinesisProducerConfiguration();
-		producerConfig.setRegion(configProps.getProperty(ProducerConfigConstants.AWS_REGION));
+		&lt;span class=&quot;code-comment&quot;&gt;// check and pass the configuration properties
&lt;/span&gt;+		KinesisProducerConfiguration producerConfig = KinesisConfigUtil.validateProducerConfiguration(configProps);
 		producerConfig.setCredentialsProvider(AWSUtil.getCredentialsProvider(configProps));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;this line was removed&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
producerConfig.setRegion(configProps.getProperty(ProducerConfigConstants.AWS_REGION));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tzulitai&quot; class=&quot;user-hover&quot; rel=&quot;tzulitai&quot;&gt;tzulitai&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phoenixjiangnan&quot; class=&quot;user-hover&quot; rel=&quot;phoenixjiangnan&quot;&gt;phoenixjiangnan&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13124626">FLINK-8249</key>
            <summary>Kinesis Producer didnt configure region</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="eskabetxe">Jo&#227;o Boto</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Dec 2017 10:24:37 +0000</created>
                <updated>Mon, 18 Dec 2017 07:27:26 +0000</updated>
                            <resolved>Mon, 18 Dec 2017 07:27:26 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.1</fixVersion>
                    <fixVersion>1.5.0</fixVersion>
                                    <component>Connectors / Kinesis</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16289119" author="githubbot" created="Wed, 13 Dec 2017 11:19:06 +0000"  >&lt;p&gt;GitHub user eskabetxe opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5159&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8249&quot; title=&quot;Kinesis Producer didnt configure region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8249&quot;&gt;&lt;del&gt;FLINK-8249&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;KinesisConnector&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; aws region is never setted in KinesisProducer&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    solve the issue related, adding aws region to kinesis producer configuration&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This change added tests and can be verified as follows:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added test that validates that region is correctly setted&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (no)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (no)&lt;/li&gt;
	&lt;li&gt;The serializers: ( no)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (no)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (no)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? ( no)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/eskabetxe/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eskabetxe/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8249&quot; title=&quot;Kinesis Producer didnt configure region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8249&quot;&gt;&lt;del&gt;FLINK-8249&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5159.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5159.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5159&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 760d1a6bb75eb9519a4b93eb3cf34ad1605621da&lt;br/&gt;
Author: yew1eb &amp;lt;yew1eb@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-07T01:06:45Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Add type for numLateRecordsDropped metric in docs&lt;/p&gt;

&lt;p&gt;commit 07830e7897a42b5d12f0b33c42933c6ca78e70d3&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-07T11:16:04Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;rat&amp;#93;&lt;/span&gt; Add missing rat exclusions&lt;/p&gt;

&lt;p&gt;    Another set of RAT exclusions to prevent errors on Windows.&lt;/p&gt;

&lt;p&gt;commit aab36f934548a5697c5c461b2a79c7cf3fd0d756&lt;br/&gt;
Author: kkloudas &amp;lt;kkloudas@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-06T11:43:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7823&quot; title=&quot;Adjust queryable state configuration parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7823&quot;&gt;&lt;del&gt;FLINK-7823&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;QS&amp;#93;&lt;/span&gt; Update Queryable State configuration parameters.&lt;/p&gt;

&lt;p&gt;commit 819995454611be6a85e2933318d053b2c25a18f7&lt;br/&gt;
Author: kkloudas &amp;lt;kkloudas@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-06T16:21:45Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7822&quot; title=&quot;Add documentation for the new queryable state client.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7822&quot;&gt;&lt;del&gt;FLINK-7822&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;QS&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;doc&amp;#93;&lt;/span&gt; Update Queryable State docs.&lt;/p&gt;

&lt;p&gt;commit 564c9934fd3aaba462a7415788b3d55486146f9b&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-07T17:27:16Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; Use correct commit id in GenericWriteAheadSink.notifyCheckpoint&lt;/p&gt;

&lt;p&gt;commit 3cbf467ebdf639df4d7d4da78b7bc2929aa4b5d9&lt;br/&gt;
Author: Piotr Nowojski &amp;lt;piotr.nowojski@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-06T13:03:16Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;kafka&amp;#93;&lt;/span&gt; Extract TransactionalIdsGenerator class from FlinkKafkaProducer011&lt;/p&gt;

&lt;p&gt;    This is pure refactor without any functional changes.&lt;/p&gt;

&lt;p&gt;commit 460e27aeb5e246aff0f8137448441c315123608c&lt;br/&gt;
Author: Piotr Nowojski &amp;lt;piotr.nowojski@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-06T13:14:01Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7978&quot; title=&quot;Kafka011 exactly-once Producer sporadically fails to commit under high parallelism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7978&quot;&gt;&lt;del&gt;FLINK-7978&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;kafka&amp;#93;&lt;/span&gt; Ensure that transactional ids will never clash&lt;/p&gt;

&lt;p&gt;    Previously transactional ids to use and to abort could clash between&lt;br/&gt;
    subtasks. This could lead to a race condition between initialization&lt;br/&gt;
    and writting the data, where one subtask is still initializing/aborting&lt;br/&gt;
    some transactional id while different subtask is already trying to write&lt;br/&gt;
    the data using the same transactional id.&lt;/p&gt;

&lt;p&gt;commit b677c8d69b81fb3594798ba2761fdb7e2edea5db&lt;br/&gt;
Author: Fabian Hueske &amp;lt;fhueske@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-07T22:43:45Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Improve Supported Types section of Table API &amp;amp; SQL docs.&lt;/p&gt;

&lt;p&gt;commit dc1ca78a4e4cb339e9fbf0c90700f3204e091c53&lt;br/&gt;
Author: Fabian Hueske &amp;lt;fhueske@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-07T23:12:49Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Fix UDTF join description in SQL docs.&lt;/p&gt;

&lt;p&gt;commit 5af710080eb72d23d8d2f6a77d1825f3d8a009ae&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-07T10:40:15Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8004&quot; title=&quot;Sample code in Debugging &amp;amp; Monitoring Metrics documentation section is not valid java &quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8004&quot;&gt;&lt;del&gt;FLINK-8004&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;metrics&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Fix usage examples&lt;/p&gt;

&lt;p&gt;commit 49dc380697627189f6ac2e8bf5a084ac85c21ed5&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-07T14:36:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8010&quot; title=&quot;Bump remaining flink-shaded dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8010&quot;&gt;&lt;del&gt;FLINK-8010&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build&amp;#93;&lt;/span&gt; Bump remaining flink-shaded versions&lt;/p&gt;

&lt;p&gt;commit 17aae5af4a7973348067d5786cd4f16fc9da2639&lt;br/&gt;
Author: Tzu-Li (Gordon) Tai &amp;lt;tzulitai@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-07T11:35:33Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8001&quot; title=&quot;Mark Kafka Consumer as idle if it doesn&amp;#39;t have partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8001&quot;&gt;&lt;del&gt;FLINK-8001&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka&amp;#93;&lt;/span&gt; Prevent PeriodicWatermarkEmitter from violating IDLE status&lt;/p&gt;

&lt;p&gt;    Prior to this commit, a bug exists such that if a Kafka consumer subtask&lt;br/&gt;
    initially marks itself as idle because it didn&apos;t have any partitions to&lt;br/&gt;
    subscribe to, that idleness status will be violated when the&lt;br/&gt;
    PeriodicWatermarkEmitter is fired.&lt;/p&gt;

&lt;p&gt;    The problem is that the PeriodicWatermarkEmitter incorrecty yields a&lt;br/&gt;
    Long.MAX_VALUE watermark even when there are no partitions to subscribe&lt;br/&gt;
    to. This commit fixes this by additionally ensuring that the aggregated&lt;br/&gt;
    watermark in the PeriodicWatermarkEmitterr is an effective one (i.e., is&lt;br/&gt;
    really aggregated from some partition).&lt;/p&gt;

&lt;p&gt;commit f5a0b4bdfb623852cd5790223fd38732ff985de9&lt;br/&gt;
Author: zentol &amp;lt;chesnay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-07T15:58:53Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8009&quot; title=&quot;flink-dist pulls in flink-runtime&amp;#39;s transitive avro/jackson dependency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8009&quot;&gt;&lt;del&gt;FLINK-8009&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;runtime&amp;#93;&lt;/span&gt; Remove transitive dependency promotion&lt;/p&gt;

&lt;p&gt;    This closes #4972.&lt;/p&gt;

&lt;p&gt;commit a126bd3e7d9614749f61692fbb53c5b284f17091&lt;br/&gt;
Author: Xpray &amp;lt;leonxpray@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-03T07:19:42Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7971&quot; title=&quot;Fix potential NPE with inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7971&quot;&gt;&lt;del&gt;FLINK-7971&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Fix potential NPE in non-windowed aggregation.&lt;/p&gt;

&lt;p&gt;    This closes #4941.&lt;/p&gt;

&lt;p&gt;commit 8c60f97a43defc57bb1bfaabdd6081b329db53b8&lt;br/&gt;
Author: Rong Rong &amp;lt;rongr@uber.com&amp;gt;&lt;br/&gt;
Date:   2017-10-31T18:05:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7922&quot; title=&quot;leastRestrictive in FlinkTypeFactory does not resolve composite type correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7922&quot;&gt;&lt;del&gt;FLINK-7922&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Fix FlinkTypeFactory.leastRestrictive for composite types.&lt;/p&gt;

&lt;p&gt;    This closes #4929.&lt;/p&gt;

&lt;p&gt;commit 1b20f70dea3fddfaeaf00ceae44e4dc0fcb4f47b&lt;br/&gt;
Author: Xingcan Cui &amp;lt;xingcanc@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-07T17:17:57Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7996&quot; title=&quot;Add support for (left.time = right.time) predicates to window join.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7996&quot;&gt;&lt;del&gt;FLINK-7996&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Add support for (left.time = right.time) predicates to window join.&lt;/p&gt;

&lt;p&gt;    This closes #4977.&lt;/p&gt;

&lt;p&gt;commit 51657fc6deaf28115020db86d031d536b09bf384&lt;br/&gt;
Author: Fabian Hueske &amp;lt;fhueske@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-07T16:57:39Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8012&quot; title=&quot;Table with time attribute cannot be written to CsvTableSink&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8012&quot;&gt;&lt;del&gt;FLINK-8012&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Fix TableSink config for tables with time attributes.&lt;/p&gt;

&lt;p&gt;    This closes #4974.&lt;/p&gt;

&lt;p&gt;commit c7943291599260003304f003e89725352ae7d836&lt;br/&gt;
Author: Fabian Hueske &amp;lt;fhueske@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-11-06T20:22:35Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8002&quot; title=&quot;Incorrect join window boundaries for LESS_THAN and GREATER_THAN predicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8002&quot;&gt;&lt;del&gt;FLINK-8002&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;table&amp;#93;&lt;/span&gt; Fix join window boundary for LESS_THAN and GREATER_THAN predicates.&lt;/p&gt;

&lt;p&gt;    This closes #4962.&lt;/p&gt;

&lt;p&gt;commit 02a19a14fad1ef928038f4971bdcacf4d0642d88&lt;br/&gt;
Author: Dan Kelley &amp;lt;dan.kelley@accretivetg.com&amp;gt;&lt;br/&gt;
Date:   2017-11-08T01:27:44Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8017&quot; title=&quot;High availability cluster-id option incorrect in documentation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8017&quot;&gt;&lt;del&gt;FLINK-8017&lt;/del&gt;&lt;/a&gt; Fix High availability cluster-id key in documentation&lt;/p&gt;

&lt;p&gt;commit d302c652f1b52aac29ff6d09c817bd7f9e5e00e7&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-09T14:34:44Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; Fix formatting in windowing documentation&lt;/p&gt;

&lt;p&gt;commit 7df7fc457618d371b4c1f9623ac7fc2cab37cb1f&lt;br/&gt;
Author: Piotr Nowojski &amp;lt;piotr.nowojski@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-10-05T13:17:13Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build&amp;#93;&lt;/span&gt; Deduplicate maven-enforcer version&lt;/p&gt;

&lt;p&gt;commit 005a871771ce73bef9c78ee04a61817fa9a31e99&lt;br/&gt;
Author: Piotr Nowojski &amp;lt;piotr.nowojski@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-07T11:13:59Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7765&quot; title=&quot;Enable dependency convergence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7765&quot;&gt;FLINK-7765&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build&amp;#93;&lt;/span&gt; Enable dependency convergence by default&lt;/p&gt;

&lt;p&gt;    Disable it in most modules.&lt;/p&gt;

&lt;p&gt;commit 2117eb77bb9d34da4288b5dd4455ef06c583ce7c&lt;br/&gt;
Author: gyao &amp;lt;gary@data-artisans.com&amp;gt;&lt;br/&gt;
Date:   2017-11-08T10:46:45Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8005&quot; title=&quot;Snapshotting FlinkKafkaProducer011 fails due to ClassLoader issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8005&quot;&gt;&lt;del&gt;FLINK-8005&lt;/del&gt;&lt;/a&gt; Set user-code class loader as context loader before snapshot&lt;/p&gt;

&lt;p&gt;    During checkpointing, user code may dynamically load classes from the user code&lt;br/&gt;
    jar. This is a problem if the thread invoking the snapshot callbacks does not&lt;br/&gt;
    have the user code class loader set as its context class loader. This commit&lt;br/&gt;
    makes sure that the correct class loader is set.&lt;/p&gt;

&lt;p&gt;commit 896f13da1d35fcae46600eb54a055bbfd6f6e8fc&lt;br/&gt;
Author: Michael Fong &amp;lt;mcfong.open@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-08-14T12:57:06Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4500&quot; title=&quot;Cassandra sink can lose messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4500&quot;&gt;&lt;del&gt;FLINK-4500&lt;/del&gt;&lt;/a&gt; CassandraSinkBase implements CheckpointedFunction&lt;/p&gt;

&lt;p&gt;    This closes #4605.&lt;/p&gt;

&lt;p&gt;commit 5f992e8dec2b9349627385d4188a6975c619de9d&lt;br/&gt;
Author: Piotr Nowojski &amp;lt;piotr.nowojski@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-10T12:57:51Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build&amp;#93;&lt;/span&gt; Disable dependency convergence in flink-dist&lt;/p&gt;

&lt;p&gt;    Previously mvn javadoc:aggregate goal was failing&lt;/p&gt;

&lt;p&gt;commit da435f121821fd1107c41352a54ee804f10cf7e3&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-10T09:54:16Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-6163&quot; title=&quot;Document per-window state in ProcessWindowFunction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-6163&quot;&gt;&lt;del&gt;FLINK-6163&lt;/del&gt;&lt;/a&gt; Document per-window state in ProcessWindowFunction&lt;/p&gt;

&lt;p&gt;commit b3df579f0fd36f8b4a235a994caaaffe6f2b2a0d&lt;br/&gt;
Author: Piotr Nowojski &amp;lt;piotr.nowojski@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-10T14:15:11Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Change mailing list link in quickstart to flink-user&lt;/p&gt;

&lt;p&gt;    Previously it was pointing to flink-dev&lt;/p&gt;

&lt;p&gt;commit 6aeac3fb77c1053e344d08c0cc68e84a88623a43&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-10T15:28:46Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7702&quot; title=&quot;Javadocs are not being built&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7702&quot;&gt;&lt;del&gt;FLINK-7702&lt;/del&gt;&lt;/a&gt; Remove Javadoc aggregation for Scala code&lt;/p&gt;

&lt;p&gt;    genjavadoc generated some Java code that was making Javadoc fail.&lt;/p&gt;

&lt;p&gt;commit 431ae36f787adcaac2e1071753d2dc2af299f528&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-10T17:13:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-7702&quot; title=&quot;Javadocs are not being built&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-7702&quot;&gt;&lt;del&gt;FLINK-7702&lt;/del&gt;&lt;/a&gt; Add maven-bundle-plugin to root pom&lt;/p&gt;

&lt;p&gt;    Before, we had it in places that require it. This doesn&apos;t work when&lt;br/&gt;
    running mvn javadoc:aggregate because this will only run for the root&lt;br/&gt;
    pom and can then not find the &quot;bundle&quot; dependencies.&lt;/p&gt;

&lt;p&gt;commit e2b92f22c2686f8d842d371a17c36c5d28f9b247&lt;br/&gt;
Author: Stefan Richter &amp;lt;s.richter@data-artisans.com&amp;gt;&lt;br/&gt;
Date:   2017-11-13T10:50:07Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8040&quot; title=&quot;Test instability ResourceGuard#testCloseBlockIfAcquired&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8040&quot;&gt;&lt;del&gt;FLINK-8040&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;tests&amp;#93;&lt;/span&gt; Fix test instability in ResourceGuardTest&lt;br/&gt;
    (cherry picked from commit ad8ef6d)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16289134" author="githubbot" created="Wed, 13 Dec 2017 11:29:29 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5159&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the fix @eskabetxe.&lt;br/&gt;
    Can you squash commits fd9395f and 170372a, and rebase them onto latest `release-1.4` branch?&lt;/p&gt;</comment>
                            <comment id="16289156" author="githubbot" created="Wed, 13 Dec 2017 11:46:40 +0000"  >&lt;p&gt;GitHub user eskabetxe opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8249&quot; title=&quot;Kinesis Producer didnt configure region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8249&quot;&gt;&lt;del&gt;FLINK-8249&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;KinesisConnector&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; aws region is never setted in KinesisProducer&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;What is the purpose of the change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    solve the issue related, adding aws region to kinesis producer configuration&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Verifying this change&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    This change added tests and can be verified as follows:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added test that validates that region is correctly setted&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Does this pull request potentially affect one of the following parts:&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dependencies (does it add or upgrade a dependency): (no)&lt;/li&gt;
	&lt;li&gt;The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (no)&lt;/li&gt;
	&lt;li&gt;The serializers: ( no)&lt;/li&gt;
	&lt;li&gt;The runtime per-record code paths (performance sensitive): (no)&lt;/li&gt;
	&lt;li&gt;Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (no)&lt;/li&gt;
	&lt;li&gt;The S3 file system connector: (no)&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentation&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does this pull request introduce a new feature? ( no)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/eskabetxe/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eskabetxe/flink&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8249&quot; title=&quot;Kinesis Producer didnt configure region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8249&quot;&gt;&lt;del&gt;FLINK-8249&lt;/del&gt;&lt;/a&gt;_2&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5160&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8523d4bb283edf6974fc9b5ca58ed381459f1a11&lt;br/&gt;
Author: eskabetxe &amp;lt;boto@boto.pro&amp;gt;&lt;br/&gt;
Date:   2017-12-13T11:43:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8249&quot; title=&quot;Kinesis Producer didnt configure region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8249&quot;&gt;&lt;del&gt;FLINK-8249&lt;/del&gt;&lt;/a&gt;: setting region on kinesisProducerConfiguration and testig&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16289158" author="githubbot" created="Wed, 13 Dec 2017 11:47:21 +0000"  >&lt;p&gt;Github user eskabetxe commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5159&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @tzulitai done on &lt;a href=&quot;https://github.com/apache/flink/pull/5160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    this could be closed&lt;/p&gt;</comment>
                            <comment id="16289177" author="githubbot" created="Wed, 13 Dec 2017 12:10:45 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5159&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks. @eskabetxe can you manually close this? Only the issuer of the PR can close it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16289178" author="githubbot" created="Wed, 13 Dec 2017 12:12:07 +0000"  >&lt;p&gt;Github user tzulitai commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160#discussion_r156641501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160#discussion_r156641501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-connectors/flink-connector-kinesis/src/test/java/org/apache/flink/streaming/connectors/kinesis/util/KinesisConfigUtilTest.java &amp;#8212;&lt;br/&gt;
    @@ -131,6 +131,16 @@ public void testReplaceDeprecatedKeys() &lt;/p&gt;
{
     		assertEquals(&quot;2&quot;, replacedConfig.getProperty(KinesisConfigUtil.COLLECTION_MAX_COUNT));
     	}

&lt;p&gt;    +	@Test&lt;br/&gt;
    +	public void testCorrectlySetRegionInProducerConfiguration() {&lt;br/&gt;
    +		String region = &quot;us-east-1&quot;;&lt;br/&gt;
    +		Properties testConfig = new Properties();&lt;br/&gt;
    +		testConfig.setProperty(AWSConfigConstants.AWS_REGION, region);&lt;br/&gt;
    +		KinesisProducerConfiguration kpc = KinesisConfigUtil.getValidatedProducerConfiguration(testConfig);&lt;br/&gt;
    +&lt;br/&gt;
    +		assertEquals(&quot;region not expected&quot;, region, kpc.getRegion());&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I think the error message is a bit misleading.&lt;br/&gt;
    I think &quot;incorrect region&quot; will be enough here.&lt;/p&gt;</comment>
                            <comment id="16289181" author="githubbot" created="Wed, 13 Dec 2017 12:12:46 +0000"  >&lt;p&gt;Github user tzulitai commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160#discussion_r156641539&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160#discussion_r156641539&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-connectors/flink-connector-kinesis/src/test/java/org/apache/flink/streaming/connectors/kinesis/util/KinesisConfigUtilTest.java &amp;#8212;&lt;br/&gt;
    @@ -131,6 +131,16 @@ public void testReplaceDeprecatedKeys() &lt;/p&gt;
{
     		assertEquals(&quot;2&quot;, replacedConfig.getProperty(KinesisConfigUtil.COLLECTION_MAX_COUNT));
     	}

&lt;p&gt;    +	@Test&lt;br/&gt;
    +	public void testCorrectlySetRegionInProducerConfiguration() {&lt;br/&gt;
    +		String region = &quot;us-east-1&quot;;&lt;br/&gt;
    +		Properties testConfig = new Properties();&lt;br/&gt;
    +		testConfig.setProperty(AWSConfigConstants.AWS_REGION, region);&lt;br/&gt;
    +		KinesisProducerConfiguration kpc = KinesisConfigUtil.getValidatedProducerConfiguration(testConfig);&lt;br/&gt;
    +&lt;br/&gt;
    +		assertEquals(&quot;region not expected&quot;, region, kpc.getRegion());&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I think the error message is a bit misleading.&lt;br/&gt;
    I think &quot;incorrect region&quot; will be enough here.&lt;/p&gt;</comment>
                            <comment id="16289182" author="githubbot" created="Wed, 13 Dec 2017 12:13:06 +0000"  >&lt;p&gt;Github user eskabetxe closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5159&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16289185" author="githubbot" created="Wed, 13 Dec 2017 12:14:49 +0000"  >&lt;p&gt;Github user eskabetxe commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5159&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    done&lt;/p&gt;</comment>
                            <comment id="16289187" author="githubbot" created="Wed, 13 Dec 2017 12:15:22 +0000"  >&lt;p&gt;Github user eskabetxe commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160#discussion_r156642115&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160#discussion_r156642115&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-connectors/flink-connector-kinesis/src/test/java/org/apache/flink/streaming/connectors/kinesis/util/KinesisConfigUtilTest.java &amp;#8212;&lt;br/&gt;
    @@ -131,6 +131,16 @@ public void testReplaceDeprecatedKeys() &lt;/p&gt;
{
     		assertEquals(&quot;2&quot;, replacedConfig.getProperty(KinesisConfigUtil.COLLECTION_MAX_COUNT));
     	}

&lt;p&gt;    +	@Test&lt;br/&gt;
    +	public void testCorrectlySetRegionInProducerConfiguration() {&lt;br/&gt;
    +		String region = &quot;us-east-1&quot;;&lt;br/&gt;
    +		Properties testConfig = new Properties();&lt;br/&gt;
    +		testConfig.setProperty(AWSConfigConstants.AWS_REGION, region);&lt;br/&gt;
    +		KinesisProducerConfiguration kpc = KinesisConfigUtil.getValidatedProducerConfiguration(testConfig);&lt;br/&gt;
    +&lt;br/&gt;
    +		assertEquals(&quot;region not expected&quot;, region, kpc.getRegion());&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    done&lt;/p&gt;</comment>
                            <comment id="16290424" author="githubbot" created="Thu, 14 Dec 2017 06:56:29 +0000"  >&lt;p&gt;Github user tzulitai commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merging ..&lt;/p&gt;</comment>
                            <comment id="16293072" author="githubbot" created="Fri, 15 Dec 2017 19:29:46 +0000"  >&lt;p&gt;Github user StephanEwen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160#discussion_r157281403&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160#discussion_r157281403&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-connectors/flink-connector-kinesis/src/main/java/org/apache/flink/streaming/connectors/kinesis/util/KinesisConfigUtil.java &amp;#8212;&lt;br/&gt;
    @@ -191,6 +191,7 @@ public static KinesisProducerConfiguration getValidatedProducerConfiguration(Pro&lt;br/&gt;
     		}&lt;/p&gt;

&lt;p&gt;     		KinesisProducerConfiguration kpc = KinesisProducerConfiguration.fromProperties(config);&lt;br/&gt;
    +		kpc.setRegion(config.getProperty(AWSConfigConstants.AWS_REGION));&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Does this work if the region property is `null`?&lt;/p&gt;</comment>
                            <comment id="16293073" author="githubbot" created="Fri, 15 Dec 2017 19:30:34 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Minor comment: The commit should not have the &lt;span class=&quot;error&quot;&gt;&amp;#91;hotfix&amp;#93;&lt;/span&gt; tag&lt;/p&gt;</comment>
                            <comment id="16293087" author="githubbot" created="Fri, 15 Dec 2017 19:39:55 +0000"  >&lt;p&gt;Github user bowenli86 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @eskabetxe Thanks for fixing this&lt;/p&gt;

&lt;p&gt;    A further effort is &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8267&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLINK-8267&lt;/a&gt;   &lt;/p&gt;</comment>
                            <comment id="16294507" author="githubbot" created="Mon, 18 Dec 2017 04:18:36 +0000"  >&lt;p&gt;Github user tzulitai commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160#discussion_r157398835&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160#discussion_r157398835&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: flink-connectors/flink-connector-kinesis/src/main/java/org/apache/flink/streaming/connectors/kinesis/util/KinesisConfigUtil.java &amp;#8212;&lt;br/&gt;
    @@ -191,6 +191,7 @@ public static KinesisProducerConfiguration getValidatedProducerConfiguration(Pro&lt;br/&gt;
     		}&lt;/p&gt;

&lt;p&gt;     		KinesisProducerConfiguration kpc = KinesisProducerConfiguration.fromProperties(config);&lt;br/&gt;
    +		kpc.setRegion(config.getProperty(AWSConfigConstants.AWS_REGION));&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I don&apos;t think so, but it is already safeguarded with &lt;a href=&quot;https://github.com/apache/flink/pull/5160/files/72be9da2048d4e2cb6c855ce16c9652556e1f762#diff-16d72c003634fdee6e6efa5ece15c385R186&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160/files/72be9da2048d4e2cb6c855ce16c9652556e1f762#diff-16d72c003634fdee6e6efa5ece15c385R186&lt;/a&gt; that the region property is not null.&lt;/p&gt;

</comment>
                            <comment id="16294595" author="tzulitai" created="Mon, 18 Dec 2017 07:27:10 +0000"  >&lt;p&gt;Merged:&lt;/p&gt;

&lt;p&gt;1.5.0: 3397bd66abdc529a2d5940a09f9feee035fd0b90&lt;br/&gt;
1.4.1: dbbaa9a4a761a22e402f08745775ce357dddac06&lt;/p&gt;</comment>
                            <comment id="16294596" author="githubbot" created="Mon, 18 Dec 2017 07:27:11 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5160&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3nukv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>