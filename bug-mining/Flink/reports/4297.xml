<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:47:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-18223] AvroSerializer does not correctly instantiate GenericRecord</title>
                <link>https://issues.apache.org/jira/browse/FLINK-18223</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;tt&gt;AvroSerializer.createInstance()&lt;/tt&gt; simply calls&#160;&lt;tt&gt;InstantiationUtil.instantiate(type)&lt;/tt&gt; to create a new instance, also when type is GenericRecord.&lt;/p&gt;

&lt;p&gt;This fails with an exception, because a GenericRecord must be instantiated through &lt;tt&gt;GenericRecordBuilder&lt;/tt&gt; but&#160;&lt;tt&gt;InstantiationUtil&lt;/tt&gt; is not aware of it.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
The class &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericRecord&apos;&lt;/span&gt; is not instantiable: The &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;is not a proper class. It is either &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt;, an &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;, or a primitive type.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This can be proven with this test&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Test
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void shouldInstantiateGenericRecord() {
    org.apache.avro.Schema SCHEMA = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.avro.Schema.Parser().parse(&lt;span class=&quot;code-quote&quot;&gt;&quot;{\&quot;&lt;/span&gt;type\&lt;span class=&quot;code-quote&quot;&gt;&quot;:\&quot;&lt;/span&gt;record\&lt;span class=&quot;code-quote&quot;&gt;&quot;,\&quot;&lt;/span&gt;name\&lt;span class=&quot;code-quote&quot;&gt;&quot;:\&quot;&lt;/span&gt;Dummy\&lt;span class=&quot;code-quote&quot;&gt;&quot;,\&quot;&lt;/span&gt;namespace\&lt;span class=&quot;code-quote&quot;&gt;&quot;:\&quot;&lt;/span&gt;dummy\&lt;span class=&quot;code-quote&quot;&gt;&quot;,\&quot;&lt;/span&gt;fields\&lt;span class=&quot;code-quote&quot;&gt;&quot;:[{\&quot;&lt;/span&gt;name\&lt;span class=&quot;code-quote&quot;&gt;&quot;:\&quot;&lt;/span&gt;something\&lt;span class=&quot;code-quote&quot;&gt;&quot;,\&quot;&lt;/span&gt;type\&lt;span class=&quot;code-quote&quot;&gt;&quot;:{\&quot;&lt;/span&gt;type\&lt;span class=&quot;code-quote&quot;&gt;&quot;:\&quot;&lt;/span&gt;string\&lt;span class=&quot;code-quote&quot;&gt;&quot;,\&quot;&lt;/span&gt;avro.java.string\&lt;span class=&quot;code-quote&quot;&gt;&quot;:\&quot;&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;\&lt;span class=&quot;code-quote&quot;&gt;&quot;}}]}&quot;&lt;/span&gt;);
    AvroSerializer&amp;lt;GenericRecord&amp;gt; serializer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AvroSerializer&amp;lt;&amp;gt;(GenericRecord.class, SCHEMA);

    serializer.createInstance();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13310452">FLINK-18223</key>
            <summary>AvroSerializer does not correctly instantiate GenericRecord</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nicusX">Lorenzo Nicora</assignee>
                                    <reporter username="nicusX">Lorenzo Nicora</reporter>
                        <labels>
                            <label>AVRO</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 9 Jun 2020 18:33:16 +0000</created>
                <updated>Mon, 15 Jun 2020 10:19:34 +0000</updated>
                            <resolved>Mon, 15 Jun 2020 10:16:35 +0000</resolved>
                                    <version>1.10.1</version>
                                    <fixVersion>1.10.2</fixVersion>
                    <fixVersion>1.11.0</fixVersion>
                                    <component>Formats (JSON, Avro, Parquet, ORC, SequenceFile)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17130430" author="aljoscha" created="Wed, 10 Jun 2020 09:00:22 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nicusX&quot; class=&quot;user-hover&quot; rel=&quot;nicusX&quot;&gt;nicusX&lt;/a&gt;, could you maybe open a PR with a fix?&lt;/p&gt;</comment>
                            <comment id="17130570" author="nicusx" created="Wed, 10 Jun 2020 11:46:51 +0000"  >&lt;p&gt;This is what I&apos;m trying to do, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt;. I have the fix ready and tested.&lt;br/&gt;
But I cannot make the full Flink test suite (mvn clean verify) pass. It looks like it&apos;s randomly failing on completely unrelated modules, while the same tests are not failing if I run them in IntelliJ :-?&lt;/p&gt;</comment>
                            <comment id="17130686" author="twalthr" created="Wed, 10 Jun 2020 13:41:01 +0000"  >&lt;p&gt;in most of the cases randomly failing modules can be avoided by running a full `mvn clean install -Pfast` for the entire Flink codebase before&lt;/p&gt;</comment>
                            <comment id="17130894" author="nicusx" created="Wed, 10 Jun 2020 16:17:15 +0000"  >&lt;p&gt;I submitted a PR but the bot complains the ticket has not been assigned.&lt;br/&gt;
Not sure what&apos;s the process for a simple bugfix like this&lt;/p&gt;</comment>
                            <comment id="17132645" author="dawidwys" created="Wed, 10 Jun 2020 19:02:27 +0000"  >&lt;p&gt;Everything is fine. I assigned the ticket to you. It is just a warning to remind that a consensus on the JIRA issue should be reached first, before opening a PR.  But you did that.&lt;br/&gt;
Also the CI failure is unrelated to your change. There is a fix for the unstable test. I will rerun the CI for you.&lt;/p&gt;</comment>
                            <comment id="17135715" author="dawidwys" created="Mon, 15 Jun 2020 10:16:35 +0000"  >&lt;p&gt;Fixed in:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;master
	&lt;ul&gt;
		&lt;li&gt;f1e421197195c63bb570be76125de4db72dbefbf&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.11.0
	&lt;ul&gt;
		&lt;li&gt;b1834221961162c37b14e3185c1249535fbd32ec&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.10.2
	&lt;ul&gt;
		&lt;li&gt;2a381c926c649c9f282ee02331996ce6499a2b60&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fojs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>