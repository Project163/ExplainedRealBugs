<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:56:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-22260] Source schema in CREATE TABLE LIKE statements is not inferred correctly</title>
                <link>https://issues.apache.org/jira/browse/FLINK-22260</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When using a LIKE statement such as in the following (assume some_sink and some_source to be two tables with the same schema)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TEMPORARY TABLE b LIKE some_sink
INSERT INTO b SELECT * FROM some_source&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the source schema for the INSERT operation is not actually inferred correctly, causing the entire query to fail:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;org.apache.flink.table.api.ValidationException: Column types of query result and sink for registered table &apos;default.default.b&apos; do not match.&lt;br/&gt;
Cause: Different number of columns.&lt;/p&gt;

&lt;p&gt;Query schema: &lt;span class=&quot;error&quot;&gt;&amp;#91;name: STRING, ts: TIMESTAMP(3) *ROWTIME*&amp;#93;&lt;/span&gt;&lt;br/&gt;
Sink schema:&#160; []&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13372027">FLINK-22260</key>
            <summary>Source schema in CREATE TABLE LIKE statements is not inferred correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="airblader">Ingo B&#252;rk</assignee>
                                    <reporter username="airblader">Ingo B&#252;rk</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 13 Apr 2021 12:02:49 +0000</created>
                <updated>Fri, 28 May 2021 09:07:30 +0000</updated>
                            <resolved>Thu, 15 Apr 2021 08:17:01 +0000</resolved>
                                                    <fixVersion>1.13.0</fixVersion>
                                    <component>Table SQL / API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17320150" author="airblader" created="Tue, 13 Apr 2021 12:48:26 +0000"  >&lt;p&gt;I will look into this right away.&lt;/p&gt;</comment>
                            <comment id="17320159" author="jark" created="Tue, 13 Apr 2021 13:03:02 +0000"  >&lt;p&gt;&lt;tt&gt;LIKE&lt;/tt&gt; will not derive computed columns by default, so the query schema doesn&apos;t match physical columns if source has computed columns. &lt;br/&gt;
Could you check whether the name and ts columns are both computed column?&lt;/p&gt;</comment>
                            <comment id="17320164" author="airblader" created="Tue, 13 Apr 2021 13:05:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark&quot; class=&quot;user-hover&quot; rel=&quot;jark&quot;&gt;jark&lt;/a&gt;&#160;They are both physical columns.&lt;/p&gt;</comment>
                            <comment id="17320729" author="dawidwys" created="Wed, 14 Apr 2021 06:27:49 +0000"  >&lt;p&gt;Is this really a blocker for the release? Is it a regression? If we don&apos;t have a fix in workings I&apos;d be inclined to deprioritize it and potentially include in 1.13.1. WDYT?&lt;/p&gt;</comment>
                            <comment id="17320730" author="airblader" created="Wed, 14 Apr 2021 06:29:32 +0000"  >&lt;p&gt;Yes, this is a regression, we have an internal test that passed and failed when we updates to release-1.13. I am currently investigating this and working to fix it.&lt;/p&gt;</comment>
                            <comment id="17320731" author="dawidwys" created="Wed, 14 Apr 2021 06:31:13 +0000"  >&lt;p&gt;Ok, good to know. Let&apos;s keep it a blocker then. Could you move the ticket to &quot;IN PROGRESS&quot;?&lt;/p&gt;</comment>
                            <comment id="17320739" author="airblader" created="Wed, 14 Apr 2021 06:38:01 +0000"  >&lt;p&gt;Yes, sorry. I also found the root cause and will submit the PR shortly.&lt;/p&gt;</comment>
                            <comment id="17320743" author="dawidwys" created="Wed, 14 Apr 2021 06:41:04 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="17322001" author="twalthr" created="Thu, 15 Apr 2021 08:17:01 +0000"  >&lt;p&gt;Fixed in 1.13.0: 1e0da5e5756e4c39f260a1e18aad3460f7fc67d9&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0pxm0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>