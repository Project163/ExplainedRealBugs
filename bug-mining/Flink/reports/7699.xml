<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:21:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-36861] CREATE TABLE AS with METADATA columns doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/FLINK-36861</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;When creating a table with CTAS with a metadata column in the CREATE part, if the source query already declares that, then the CTAS fails that it cannot override the metadata column:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;CREATE TABLE payments (&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; payment_id STRING PRIMARY KEY NOT ENFORCED,&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; payment_time TIMESTAMP(3) METADATA FROM &apos;timestamp&apos;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;) DISTRIBUTED BY HASH(payment_id) INTO 4 BUCKETS&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;WITH (&apos;connector&apos; = &apos;kafka&apos;)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;AS SELECT payment_id, payment_time FROM source;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The error is:&lt;br/&gt;
&lt;tt&gt;A column named &apos;payment_time&apos; already exists in the source schema. Computed and metadata columns cannot overwrite regular columns.&lt;/tt&gt;&lt;br/&gt;
&#160;&lt;/p&gt;

&lt;p&gt;We should allow CTAS to write source columns to metadata columns (if metadata cols are not virtual). Only computed and virtual metadata columns should be read-only and not allowed in the query-to-sink.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13601188">FLINK-36861</key>
            <summary>CREATE TABLE AS with METADATA columns doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spena">Sergio Pe&#241;a</assignee>
                                    <reporter username="spena">Sergio Pe&#241;a</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 6 Dec 2024 20:24:14 +0000</created>
                <updated>Wed, 11 Dec 2024 09:16:20 +0000</updated>
                            <resolved>Wed, 11 Dec 2024 09:16:20 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17904735" author="dawidwys" created="Wed, 11 Dec 2024 09:16:20 +0000"  >&lt;p&gt;Fixed in master: 5ca9eef5250c257d466d98dd13a8d0dc14fe8ab4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sys0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>