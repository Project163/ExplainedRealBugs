<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:48:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-18429] Add default method for CheckpointListener.notifyCheckpointAborted(checkpointId)</title>
                <link>https://issues.apache.org/jira/browse/FLINK-18429</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The &lt;tt&gt;CheckpointListener&lt;/tt&gt; interface is implemented by many users. Adding a new method &lt;tt&gt;notifyCheckpointAborted(long)&lt;/tt&gt; to the interface without a default method breaks many user programs.&lt;/p&gt;

&lt;p&gt;We should turn this method into a default method:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Avoid breaking programs&lt;/li&gt;
	&lt;li&gt;It is in practice less relevant for programs to react to checkpoints being aborted then to being completed. The reason is that on completion you often want to commit side-effects, while on abortion you frequently do not do anything, but let the next successful checkpoint commit all changes up to then.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Original Confusion&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;There was confusion about this originally, going back to a comment by myself suggesting this should not be a default method, incorrectly thinking of it as an internal interface: &lt;a href=&quot;https://github.com/apache/flink/pull/8693#issuecomment-542834147&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/8693#issuecomment-542834147&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See also clarification email on the mailing list:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;About the &quot;notifyCheckpointAborted()&quot;:

When I wrote that comment, I was (apparently wrongly) assuming we were talking about an
internal interface here, because the &quot;abort&quot; signal was originally only intended to cancel the
async part of state backend checkpoints.

I just realized that this is exposed to users - and I am actually with Thomas on this one. The
&quot;CheckpointListener&quot; is a very public interface that many users implement. The fact that it is
tagged &quot;@PublicEvolving&quot; is somehow not aligned with reality. So adding the method here will
in reality break lots and lots of user programs.

I think also in practice it is much less relevant for user applications to react to aborted checkpoints.
Since the notifications there can not be relied upon (if there is a task failure concurrently) users
always have to follow the &quot;newer checkpoint subsumes older checkpoint&quot; contract, so the abort
method is probably rarely relevant.

This is something we should change, in my opinion.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13313279">FLINK-18429</key>
            <summary>Add default method for CheckpointListener.notifyCheckpointAborted(checkpointId)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="sewen">Stephan Ewen</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 24 Jun 2020 15:35:28 +0000</created>
                <updated>Sun, 28 Jun 2020 09:36:52 +0000</updated>
                            <resolved>Wed, 24 Jun 2020 18:47:44 +0000</resolved>
                                                    <fixVersion>1.11.0</fixVersion>
                                    <component>API / DataStream</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17144001" author="stephanewen" created="Wed, 24 Jun 2020 16:22:08 +0000"  >&lt;p&gt;With apologies to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yunta&quot; class=&quot;user-hover&quot; rel=&quot;yunta&quot;&gt;yunta&lt;/a&gt; for the confusion I caused here.&lt;/p&gt;</comment>
                            <comment id="17144195" author="stephanewen" created="Wed, 24 Jun 2020 18:47:44 +0000"  >&lt;p&gt;Fixed in&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;1.11.0 via a60a4a9c71a2648176ca46a25230920674130d01&lt;/li&gt;
	&lt;li&gt;1.12.0 (master) via 4776813cc335080dbe8684f51c3aa0f7f1d774d0&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17147282" author="yunta" created="Sun, 28 Jun 2020 09:36:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt; thanks for your kind notification and glad to see this reverted to not influence more users. If I could insist more on my original implementation for this interface, this hot fix could be avoided.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13313287">FLINK-18431</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 20 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0g5xc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>