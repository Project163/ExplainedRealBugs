<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:24:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-4271] There is no way to set parallelism of operators produced by CoGroupedStreams</title>
                <link>https://issues.apache.org/jira/browse/FLINK-4271</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Currently, CoGroupStreams package the map/keyBy/window operators with a human friendly interface, like: dataStreamA.cogroup(streamB).where(...).equalsTo().window().apply(), both the intermediate operators and final window operators can not be accessed by users, and we cannot set attributes of the operators, which make co-group hard to use in production environment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12993121">FLINK-4271</key>
            <summary>There is no way to set parallelism of operators produced by CoGroupedStreams</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jark">Jark Wu</assignee>
                                    <reporter username="Dragon.L">Wenlong Lyu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jul 2016 02:13:13 +0000</created>
                <updated>Tue, 30 Aug 2016 13:29:55 +0000</updated>
                            <resolved>Tue, 30 Aug 2016 13:29:43 +0000</resolved>
                                                    <fixVersion>1.2.0</fixVersion>
                                    <component>API / DataStream</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15397004" author="jark" created="Thu, 28 Jul 2016 06:15:02 +0000"  >&lt;p&gt;The CoGroupStream will construct the following graph. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;source -&amp;gt; MAP ---
                            |-&amp;gt;  WindowOp -&amp;gt; Sink
source -&amp;gt; MAP ---
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;By now , the MAP and WindowOp can not set parallelism.  We can keep the MAP has same parallelism as previous operator. And we can change &lt;tt&gt;CoGroupedStreams.apply&lt;/tt&gt; to return a  &lt;tt&gt;SingleOutputStreamOperator&lt;/tt&gt; instead of &lt;tt&gt;DataStream&lt;/tt&gt;, so that we can change WindowOp&apos;s parallelism.  The same thing should be done to &lt;tt&gt;JoinedStream&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15397140" author="dragon.l" created="Thu, 28 Jul 2016 07:00:01 +0000"  >&lt;p&gt;I think the solution can be better. Not only the parallelism but also other attributes of the operator such as uid, name, etc. should be configurable.&lt;br/&gt;
Maybe the &lt;em&gt;Where&lt;/em&gt; and &lt;em&gt;EqualsTo&lt;/em&gt; in the &lt;em&gt;CoGroupedStreams&lt;/em&gt; can provide some interface wrappering the same functions provided in the &lt;em&gt;SingleOutputStreamOperator&lt;/em&gt;, I am not sure yet~&lt;/p&gt;</comment>
                            <comment id="15397187" author="jark" created="Thu, 28 Jul 2016 07:38:25 +0000"  >&lt;p&gt;Yea, SingleOutputStreamOperator can set parallelism, uid, name and so on.  &lt;/p&gt;

&lt;p&gt;But Where and EqualsTo will not reflect to physical operators, it is just used to get the keys to co-group. So it has no attributes to set.&lt;/p&gt;</comment>
                            <comment id="15397229" author="githubbot" created="Thu, 28 Jul 2016 08:05:32 +0000"  >&lt;p&gt;GitHub user wuchong opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4271&quot; title=&quot;There is no way to set parallelism of operators produced by CoGroupedStreams&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4271&quot;&gt;&lt;del&gt;FLINK-4271&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;DataStreamAPI&amp;#93;&lt;/span&gt; Enable CoGroupedStreams and JoinedStreams to set parallellism&lt;/p&gt;

&lt;p&gt;    Thanks for contributing to Apache Flink. Before you open your pull request, please take the following check list into consideration.&lt;br/&gt;
    If your changes take all of the items into account, feel free to open your pull request. For more information and/or questions please refer to the &lt;span class=&quot;error&quot;&gt;&amp;#91;How To Contribute guide&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://flink.apache.org/how-to-contribute.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://flink.apache.org/how-to-contribute.html&lt;/a&gt;).&lt;br/&gt;
    In addition to going through the list, please provide a meaningful description of your changes.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; General&lt;/li&gt;
	&lt;li&gt;The pull request references the related JIRA issue (&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;FLINK-XXX&amp;#93;&lt;/span&gt; Jira title text&quot;)&lt;/li&gt;
	&lt;li&gt;The pull request addresses only one issue&lt;/li&gt;
	&lt;li&gt;Each commit in the PR has a meaningful commit message (including the JIRA id)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Documentation&lt;/li&gt;
	&lt;li&gt;Documentation has been added for new functionality&lt;/li&gt;
	&lt;li&gt;Old documentation affected by the pull request has been updated&lt;/li&gt;
	&lt;li&gt;JavaDoc for public methods has been added&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Tests &amp;amp; Build&lt;/li&gt;
	&lt;li&gt;Functionality added by the pull request is covered by tests&lt;/li&gt;
	&lt;li&gt;`mvn clean verify` has been executed successfully locally or a Travis build has passed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    The CoGroupStream will construct the following graph. &lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    source -&amp;gt; MAP &amp;#8212;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;-&amp;gt;  WindowOp -&amp;gt; Sink&lt;br/&gt;
    source -&amp;gt; MAP &amp;#8212;&lt;br/&gt;
    ```&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;    By now , the MAP and WindowOp can not set parallelism.  We can keep the MAP has same parallelism as previous operator (chaining). And we can change &lt;tt&gt;CoGroupedStreams.apply&lt;/tt&gt; to return a  &lt;tt&gt;SingleOutputStreamOperator&lt;/tt&gt; instead of &lt;tt&gt;DataStream&lt;/tt&gt;, so that we can set WindowOp&apos;s parallelism.  The same thing has be done to &lt;tt&gt;JoinedStream&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;    So that we can do the following things:&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    DataStream&amp;lt;T&amp;gt; result = one.coGroup(two)&lt;br/&gt;
         .where(new MyFirstKeySelector())&lt;br/&gt;
         .equalTo(new MyFirstKeySelector())&lt;br/&gt;
         .window(TumblingEventTimeWindows.of(Time.of(5, TimeUnit.SECONDS)))&lt;br/&gt;
         .apply(new MyCoGroupFunction());&lt;br/&gt;
         .setParallelism(10)&lt;br/&gt;
         .name(&quot;MyCoGroupWindow&quot;)&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/wuchong/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/wuchong/flink&lt;/a&gt; CoGroupStreams&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2305&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7b9594a175f33e62826a0cb51380f33dec5857b6&lt;br/&gt;
Author: Jark Wu &amp;lt;wuchong.wc@alibaba-inc.com&amp;gt;&lt;br/&gt;
Date:   2016-07-28T06:32:13Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4271&quot; title=&quot;There is no way to set parallelism of operators produced by CoGroupedStreams&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4271&quot;&gt;&lt;del&gt;FLINK-4271&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;DataStreamAPI&amp;#93;&lt;/span&gt; Enable CoGroupedStreams and JoinedStreams to set parallelism.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15397346" author="githubbot" created="Thu, 28 Jul 2016 09:59:24 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The CI failed because of japicmp, as we changed the public API. &lt;/p&gt;

&lt;p&gt;    Have no idea how to fix this... &lt;/p&gt;</comment>
                            <comment id="15404149" author="githubbot" created="Tue, 2 Aug 2016 15:08:32 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @wuchong The CI fails because this change breaks backwards compatibility. I understand though that this is a pretty critical change and may actually warrant to break the backwards compatibility.&lt;/p&gt;

&lt;p&gt;    Let me think what we can do there...&lt;/p&gt;</comment>
                            <comment id="15404193" author="githubbot" created="Tue, 2 Aug 2016 15:30:30 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @StephanEwen I think technically it doesn&apos;t break the API because `SingleOutputStreamOperator` is a subclass of `DataStream`, right? (It might break binary compatibility though, because the signature of the method changes) It might only be the checker that is to sensitive.&lt;/p&gt;</comment>
                            <comment id="15404228" author="githubbot" created="Tue, 2 Aug 2016 15:47:40 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think it breaks binary compatibility, not source compatibility.&lt;br/&gt;
    The specific return type is part of the method signature used by the JVM for linking.&lt;/p&gt;</comment>
                            <comment id="15405156" author="githubbot" created="Wed, 3 Aug 2016 01:41:27 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I agree with @aljoscha . Can we reduce the checker&apos;s sensitivity to pass this change ? How do we do when we need to break compatibility?&lt;/p&gt;</comment>
                            <comment id="15405623" author="githubbot" created="Wed, 3 Aug 2016 09:31:08 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    We should not change the checker sensitivity. It is very important that it checks for binary compatibility - that was the promise of Flink 1.0.&lt;/p&gt;

&lt;p&gt;    If we want to break compatibility, we can define an exception rule to the checker.&lt;/p&gt;

&lt;p&gt;    I think we should explore other options before. We can specify the parallelism between `window(...)` and `apply(...)` without breaking the compatibility. It would be a bit less nice, because it is different from how the other functions do it, but it allows us to maintain the promise of compatibility.&lt;/p&gt;

&lt;p&gt;    What do you think about that?&lt;/p&gt;</comment>
                            <comment id="15405657" author="githubbot" created="Wed, 3 Aug 2016 09:58:27 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think, specify parallelism between `window(...)` and `apply(...)` is not nice. We not just need `setParallelism` function but also `name`, `uid`, `slotSharingGroup` and many other functions in `SingleOutputStreamOperator`. If we copy these to `WithWindow`, it will be very duplicate.&lt;/p&gt;</comment>
                            <comment id="15405827" author="githubbot" created="Wed, 3 Aug 2016 12:18:42 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    True, this may warrant a case of breaking APIs.&lt;/p&gt;</comment>
                            <comment id="15407086" author="githubbot" created="Thu, 4 Aug 2016 03:37:15 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @aljoscha @tillrohrmann , what do you think about this?&lt;/p&gt;
</comment>
                            <comment id="15407910" author="githubbot" created="Thu, 4 Aug 2016 15:08:58 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    As I said, I think it would be very good to change the return type to `SingleOutputStreamOperator`. However, breaking binary compatibility should also not be taken lightly.&lt;/p&gt;</comment>
                            <comment id="15408008" author="githubbot" created="Thu, 4 Aug 2016 16:00:28 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;m not so sure about breaking compatibility. Let&apos;s keep in mind that users can work around this by casting the returned `DataStream` to a `SingleOutputStreamOperator`.&lt;/p&gt;</comment>
                            <comment id="15408106" author="githubbot" created="Thu, 4 Aug 2016 16:51:51 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @zentol I think that works only in theory. In practice, probably no user is going to realize that this trick is possible (even if we put it into the JavaDocs). It also seems pretty mean thing to force a user to do.&lt;/p&gt;

&lt;p&gt;    I am quite torn at the moment whether this is an incident to break the API - I am leaning towards yes.&lt;/p&gt;
</comment>
                            <comment id="15411852" author="githubbot" created="Mon, 8 Aug 2016 14:12:35 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I am at the point where I would suggest to actually break the API and apply a proper fix. Tough step, but the alternatives seem even worse.&lt;/p&gt;

&lt;p&gt;    I wrote a &lt;span class=&quot;error&quot;&gt;&amp;#91;discuss&amp;#93;&lt;/span&gt; mail to the dev list, let&apos;s see if someone objects, otherwise I would merge this in the next days (adding the japicmp exception rule).&lt;/p&gt;</comment>
                            <comment id="15413641" author="githubbot" created="Tue, 9 Aug 2016 14:46:27 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I just thought of a different trick: We could add a second variant of the `apply(..)` function (for example called `with(...)` as in the DataSet API) and have the proper return type there (calling apply() and cast).&lt;/p&gt;

&lt;p&gt;    We can then immediately deprecate the `with()` function to indicate that it is a temporary workaround and is to be replaced by `apply(...)` in Flink 2.0.&lt;/p&gt;</comment>
                            <comment id="15413649" author="githubbot" created="Tue, 9 Aug 2016 14:50:14 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Wouldn&apos;t this suffer from the same problem as the &quot;casting solution&quot;? People would use `apply` and then wonder why there is no `setParallelism`, not bothering to read the Javadoc to find out that there is also `with`.&lt;/p&gt;</comment>
                            <comment id="15413665" author="githubbot" created="Tue, 9 Aug 2016 14:56:48 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    We could &quot;deprecate&quot; the `apply()` method and redirect to `with(...)`. That would be easier to find than a comment about casting.&lt;/p&gt;</comment>
                            <comment id="15425006" author="githubbot" created="Wed, 17 Aug 2016 17:42:07 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I would like to come to an agreement with everyone how to proceed.&lt;/p&gt;

&lt;p&gt;    From the discussion on the mailing list, I see that quite some people are opposed to breaking the compatibility unless we name the next release 2.0. Since that has not been decided upon, we need a different fix.&lt;/p&gt;

&lt;p&gt;    How about we introduce (and immediately deprecate) the `with(...)` method. We should describe there that this is a temporary workaround. The `with(...) method only differs in the return type and calls `apply(...)`, casting the returned value.&lt;/p&gt;

&lt;p&gt;    Would everyone be okay with that?&lt;/p&gt;</comment>
                            <comment id="15425903" author="githubbot" created="Thu, 18 Aug 2016 04:59:57 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;m ok with the `with(...)` approach. In addition, we should create a JIRA under &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3957&quot; title=&quot;Breaking changes for Flink 2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3957&quot;&gt;&lt;del&gt;FLINK-3957&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    &quot;Breaking API changes for Flink 2.0&quot;, to keep track of deprecating  and changing the `apply` method return type.&lt;/p&gt;</comment>
                            <comment id="15426214" author="githubbot" created="Thu, 18 Aug 2016 10:13:26 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 for this approach.&lt;/p&gt;

&lt;p&gt;    On Thu, Aug 18, 2016 at 6:59 AM, Jark &amp;lt;notifications@github.com&amp;gt; wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; I&apos;m ok with the with(...) approach. In addition, we should create a JIRA&lt;br/&gt;
    &amp;gt; under &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-3957&quot; title=&quot;Breaking changes for Flink 2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-3957&quot;&gt;&lt;del&gt;FLINK-3957&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    &amp;gt; &quot;Breaking API changes for Flink 2.0&quot;, to keep track of deprecating and&lt;br/&gt;
    &amp;gt; changing the apply method return type.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; You are receiving this because you were mentioned.&lt;br/&gt;
    &amp;gt; Reply to this email directly, view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/flink/pull/2305#issuecomment-240624274&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305#issuecomment-240624274&lt;/a&gt;&amp;gt;, or mute&lt;br/&gt;
    &amp;gt; the thread&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/notifications/unsubscribe-auth/AFfXul4OQ2wEhcdMXC3_gqtZ-zqEIV6Kks5qg-bNgaJpZM4JW9go&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/notifications/unsubscribe-auth/AFfXul4OQ2wEhcdMXC3_gqtZ-zqEIV6Kks5qg-bNgaJpZM4JW9go&lt;/a&gt;&amp;gt;&lt;br/&gt;
    &amp;gt; .&lt;br/&gt;
    &amp;gt;&lt;/p&gt;
</comment>
                            <comment id="15428190" author="githubbot" created="Fri, 19 Aug 2016 13:32:32 +0000"  >&lt;p&gt;Github user rmetzger commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;m also okay with `with()`&lt;/p&gt;</comment>
                            <comment id="15428402" author="githubbot" created="Fri, 19 Aug 2016 16:31:16 +0000"  >&lt;p&gt;Github user greghogan commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Are there strong reasons to use `apply` for `DataStream` and `with` for `DataSet`? Could we deprecate the `apply` so that users having switched to `with` will not lose API compatibility with 2.0?&lt;/p&gt;</comment>
                            <comment id="15430385" author="githubbot" created="Mon, 22 Aug 2016 09:15:23 +0000"  >&lt;p&gt;Github user tillrohrmann commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    But then we would have to change it for all windowed operators.&lt;/p&gt;

&lt;p&gt;    Furthermore the advantage of `apply` is that it is consistent with the Scala API and Scala&apos;s `apply` function treatment where you don&apos;t have to specify the method name explicitly. &lt;/p&gt;</comment>
                            <comment id="15432906" author="githubbot" created="Tue, 23 Aug 2016 14:32:58 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It seems we are go for the `with(...)` approach.&lt;br/&gt;
    Pending decision is whether we want `with` to be the long-run solution, or stay with `apply`.&lt;/p&gt;

&lt;p&gt;    The reason why `DataStream` has `apply()` and `DataSet` has `with()` is that different people wrote the API functions and everyone has their favorite name and style that they stick to &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    I agree that consistency should be key in the future. The `DataStream` API has more traction right now, and should long-term subsume the DataSet API, so I have a slight bias to keep the DataStream style for now (many people will not even use the `with(...)` variant because they don&apos;t set individual parallelism).&lt;/p&gt;</comment>
                            <comment id="15434849" author="githubbot" created="Wed, 24 Aug 2016 12:37:58 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @wuchong Do you want to update this PR with the `with(...)` approach and file the JIRA for Flink 2.0 breaking changes?&lt;/p&gt;</comment>
                            <comment id="15434875" author="githubbot" created="Wed, 24 Aug 2016 12:50:47 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, I would like.  &lt;/p&gt;

&lt;p&gt;    &amp;gt; &#22312; 2016&#24180;8&#26376;24&#26085;&#65292;20:38&#65292;Stephan Ewen &amp;lt;notifications@github.com&amp;gt; &#20889;&#36947;&#65306;&lt;br/&gt;
    &amp;gt; &lt;br/&gt;
    &amp;gt; @wuchong Do you want to update this PR with the with(...) approach and file the JIRA for Flink 2.0 breaking changes?&lt;br/&gt;
    &amp;gt; &lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; You are receiving this because you were mentioned.&lt;br/&gt;
    &amp;gt; Reply to this email directly, view it on GitHub, or mute the thread.&lt;br/&gt;
    &amp;gt; &lt;/p&gt;
</comment>
                            <comment id="15438529" author="githubbot" created="Fri, 26 Aug 2016 06:21:23 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @StephanEwen @aljoscha , I have updated this PR with the `with(...)` approach , could you have a look at it?&lt;/p&gt;

&lt;p&gt;    And log &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4503&quot; title=&quot;Remove with method from CoGroupedStream and JoinedStream, and change apply method return type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4503&quot;&gt;&lt;del&gt;FLINK-4503&lt;/del&gt;&lt;/a&gt; JIRA for Flink 2.0 breaking changes.&lt;/p&gt;</comment>
                            <comment id="15438680" author="githubbot" created="Fri, 26 Aug 2016 08:56:01 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The methods look good. They need a `@PublicEvolving` annotation and I think we should mark them with `@Deprecated` and comment that they are a temporary workaround while the `apply()` method has the wrong return type.&lt;/p&gt;</comment>
                            <comment id="15438733" author="githubbot" created="Fri, 26 Aug 2016 09:52:17 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @StephanEwen , comments addressed.  &lt;/p&gt;

&lt;p&gt;    I&apos;m not sure whether the comments are correct. Let me know if I&apos;m wrong.&lt;/p&gt;</comment>
                            <comment id="15448012" author="githubbot" created="Tue, 30 Aug 2016 04:41:14 +0000"  >&lt;p&gt;Github user wuchong commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @aljoscha  @StephanEwen , this issue has been blocked for some days. It would be great, if you can  have a look  again ? &lt;/p&gt;</comment>
                            <comment id="15448334" author="githubbot" created="Tue, 30 Aug 2016 07:33:17 +0000"  >&lt;p&gt;Github user StephanEwen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good, thanks!&lt;/p&gt;

&lt;p&gt;    Merging this...&lt;/p&gt;</comment>
                            <comment id="15449014" author="githubbot" created="Tue, 30 Aug 2016 13:29:18 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2305&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15449017" author="stephanewen" created="Tue, 30 Aug 2016 13:29:45 +0000"  >&lt;p&gt;Fixed via 2a20229b56997ff1249a879acfb2bcca4323b0a1&lt;/p&gt;

&lt;p&gt;Thank you for the contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31lrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>