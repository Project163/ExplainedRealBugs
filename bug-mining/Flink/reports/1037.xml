<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:23:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-4092] Stringify map function&apos;s type conversion problem is breaking running provided example in documents</title>
                <link>https://issues.apache.org/jira/browse/FLINK-4092</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;This function definition:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-python&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;self&lt;/span&gt;, value):
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;isinstance&lt;/span&gt;(value, (&lt;span class=&quot;code-object&quot;&gt;tuple&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;list&lt;/span&gt;)):
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;(&quot;&lt;/span&gt; + b&lt;span class=&quot;code-quote&quot;&gt;&quot;, &quot;&lt;/span&gt;.join([&lt;span class=&quot;code-keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;code-object&quot;&gt;map&lt;/span&gt;(x) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;code-keyword&quot;&gt;in&lt;/span&gt; value]) + &lt;span class=&quot;code-quote&quot;&gt;&quot;)&quot;&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;:
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;str&lt;/span&gt;(value)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in &lt;tt&gt;/resources/python/flink/plan/DataSet.py&lt;/tt&gt; will raise an exception since implicit type conversion between &lt;tt&gt;String&lt;/tt&gt; to &lt;tt&gt;Bytes&lt;/tt&gt; is not possible. User will get following error if he tries to run the wordcount example from the documentation:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;File &quot;/tmp/flink-dist-cache-fb3d569b-c811-4065-acef-32267183aa15/f1b0eb6c0a099b22760f7300760e6e80/flink/flink/plan/Da
taSet.py&quot;, line 38, in map
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;(&quot;&lt;/span&gt; + b&lt;span class=&quot;code-quote&quot;&gt;&quot;, &quot;&lt;/span&gt;.join([self.map(x) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; x in value]) + &lt;span class=&quot;code-quote&quot;&gt;&quot;)&quot;&lt;/span&gt;
TypeError: sequence item 0: expected a bytes-like object, str found
        at org.apache.flink.python.api.streaming.data.PythonStreamer.streamBufferWithoutGroups(PythonStreamer.java:269)
        at org.apache.flink.python.api.functions.PythonMapPartition.mapPartition(PythonMapPartition.java:54)
        at org.apache.flink.runtime.operators.MapPartitionDriver.run(MapPartitionDriver.java:98)
        at org.apache.flink.runtime.operators.BatchTask.run(BatchTask.java:480)
        at org.apache.flink.runtime.operators.BatchTask.invoke(BatchTask.java:345)
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:559)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;To resolve this issue it&apos;s enough to change &lt;tt&gt;b&quot;, &quot;&lt;/tt&gt; to a normal string by removing Byte conversion notation. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12980636">FLINK-4092</key>
            <summary>Stringify map function&apos;s type conversion problem is breaking running provided example in documents</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="shahinism">Shahin Azad</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Sun, 19 Jun 2016 08:48:57 +0000</created>
                <updated>Wed, 22 Jun 2016 09:58:59 +0000</updated>
                            <resolved>Wed, 22 Jun 2016 09:58:59 +0000</resolved>
                                    <version>1.0.3</version>
                                                    <component>API / DataSet</component>
                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15338462" author="githubbot" created="Sun, 19 Jun 2016 10:09:06 +0000"  >&lt;p&gt;GitHub user shahinism opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2130&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4092&quot; title=&quot;Stringify map function&amp;#39;s type conversion problem is breaking running provided example in documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4092&quot;&gt;&lt;del&gt;FLINK-4092&lt;/del&gt;&lt;/a&gt; Python API Stringify map function&apos;s type conversion is breaking executing provided example in documents&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/shahinism/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/shahinism/flink&lt;/a&gt; bug/flink-4092-python-api&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2130.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2130.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2130&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f45362f0401afca716237f00bf9a166c7c861fc4&lt;br/&gt;
Author: Shahin &amp;lt;ishahinism@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-19T10:03:14Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-4092&quot; title=&quot;Stringify map function&amp;#39;s type conversion problem is breaking running provided example in documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-4092&quot;&gt;&lt;del&gt;FLINK-4092&lt;/del&gt;&lt;/a&gt; (Python API) Stringify map function&apos;s type conversion problem is breaking running provided example in documents&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15338463" author="githubbot" created="Sun, 19 Jun 2016 10:18:23 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2130&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1&lt;/p&gt;</comment>
                            <comment id="15344037" author="githubbot" created="Wed, 22 Jun 2016 09:56:41 +0000"  >&lt;p&gt;Github user zentol commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2130&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    merging&lt;/p&gt;
</comment>
                            <comment id="15344041" author="githubbot" created="Wed, 22 Jun 2016 09:58:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/2130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/2130&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15344042" author="zentol" created="Wed, 22 Jun 2016 09:58:59 +0000"  >&lt;p&gt;Fixed in e04239dd7397b67ce7d12ae70da8e37d4c351e4b&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zpdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>