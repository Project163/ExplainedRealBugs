<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:32:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-8600] BucketingSink errors out when used with Presto filesystem</title>
                <link>https://issues.apache.org/jira/browse/FLINK-8600</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;BucketingSink passes a non-qualified path when attempting to test the truncate behavior as you can see &lt;a href=&quot;https://github.com/apache/flink/blob/master/flink-connectors/flink-connector-filesystem/src/main/java/org/apache/flink/streaming/connectors/fs/bucketing/BucketingSink.java#L606&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Because of this&#160;&quot;Path is not absolute: uuid&quot; error is thrown when used with the &lt;a href=&quot;https://github.com/prestodb/presto/blob/master/presto-hive/src/main/java/com/facebook/presto/hive/s3/PrestoS3FileSystem.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PrestoS3FileSystem&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13136997">FLINK-8600</key>
            <summary>BucketingSink errors out when used with Presto filesystem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aljoscha">Aljoscha Krettek</assignee>
                                    <reporter username="narayaruna">Narayanan Arunachalam</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Feb 2018 23:29:57 +0000</created>
                <updated>Mon, 23 Apr 2018 14:47:35 +0000</updated>
                            <resolved>Mon, 23 Apr 2018 14:47:35 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.3</fixVersion>
                    <fixVersion>1.5.0</fixVersion>
                                    <component>FileSystems</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16364061" author="githubbot" created="Wed, 14 Feb 2018 13:52:12 +0000"  >&lt;p&gt;GitHub user aljoscha opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5486&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8600&quot; title=&quot;BucketingSink errors out when used with Presto filesystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8600&quot;&gt;&lt;del&gt;FLINK-8600&lt;/del&gt;&lt;/a&gt; Don&apos;t use flaky truncate() test in BucketingSink&lt;/p&gt;

&lt;p&gt;    R: @kl0u &lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aljoscha/flink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aljoscha/flink&lt;/a&gt; jira-8600-bucketing-sink-truncate&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5486.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5486.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5486&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4ca30f33f297d66ae5008226eb5d80936e68d887&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@...&amp;gt;&lt;br/&gt;
Date:   2018-02-14T13:48:22Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-8600&quot; title=&quot;BucketingSink errors out when used with Presto filesystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-8600&quot;&gt;&lt;del&gt;FLINK-8600&lt;/del&gt;&lt;/a&gt; Don&apos;t use flaky truncate() test in BucketingSink&lt;/p&gt;

&lt;p&gt;    The test was failing when using PrestoS3FileSystem because it doesn&apos;t&lt;br/&gt;
    use an absolute/qualified path. The test was questionable anyways&lt;br/&gt;
    because it tries writing to a random path that might not be writable by&lt;br/&gt;
    the user.&lt;/p&gt;

&lt;p&gt;    This replaces the check with an explicit configuration setting for&lt;br/&gt;
    enabling/disabling truncate() support.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16364062" author="githubbot" created="Wed, 14 Feb 2018 13:52:37 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5486&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    (I realised this doesn&apos;t add any tests or anything but `BucketingSink` is currently problematic with S3 anyways.)&lt;/p&gt;</comment>
                            <comment id="16369190" author="githubbot" created="Mon, 19 Feb 2018 14:44:00 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5486&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @kl0u Thanks for the review!&lt;/p&gt;

&lt;p&gt;    I changed the code to check `useTruncate` before calling. Regarding `fsConfig`, the settings in there are for `FileSystem` while the settings that are configured using a setter are for the behaviour of the `BucketingSink` itself. Does that make sense?&lt;/p&gt;</comment>
                            <comment id="16369195" author="githubbot" created="Mon, 19 Feb 2018 14:45:46 +0000"  >&lt;p&gt;Github user kl0u commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5486&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @aljoscha Yes it does. I did not get it in the first place but I think that this clarifies things! &lt;/p&gt;
</comment>
                            <comment id="16369353" author="githubbot" created="Mon, 19 Feb 2018 17:31:54 +0000"  >&lt;p&gt;Github user aljoscha commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5486&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @kl0u I changed my mind on this. &#128517; Now the only change is to allow circumventing the `truncate()` checks via the setting. The checks themselves are still in place. I&apos;m also not changing the call-sites to try and keep the change as localised as possible. WDYT?&lt;/p&gt;</comment>
                            <comment id="16369357" author="githubbot" created="Mon, 19 Feb 2018 17:36:30 +0000"  >&lt;p&gt;Github user kl0u commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5486&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 to merge.&lt;/p&gt;</comment>
                            <comment id="16369808" author="githubbot" created="Tue, 20 Feb 2018 08:33:56 +0000"  >&lt;p&gt;Github user aljoscha closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flink/pull/5486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/5486&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16369809" author="aljoscha" created="Tue, 20 Feb 2018 08:34:13 +0000"  >&lt;p&gt;Resolved on master via&lt;br/&gt;
9da315234d1583078a24d3d31a5dcc89a54c5dc6&lt;/p&gt;</comment>
                            <comment id="16448255" author="twalthr" created="Mon, 23 Apr 2018 14:47:27 +0000"  >&lt;p&gt;Fixed in 1.4.3: b4a886149cc5432fdb58c8785047399728846527&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3px8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>