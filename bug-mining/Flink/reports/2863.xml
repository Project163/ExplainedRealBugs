<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:38:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-11071] Dynamic proxy classes cannot be resolved when deserializing job graph</title>
                <link>https://issues.apache.org/jira/browse/FLINK-11071</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;It turns impossible to use Java dynamic proxy objects in the job definition (for example, as a MapFunction implementation).&lt;/p&gt;

&lt;p&gt;During deserialization of the job graph, the default implementation of&#160;&#160;ObjectInputStream.resolveProxyClass(..) is used, which is not using the custom class loader (to look into the submitted jar) and therefore throws&#160;ClassNotFoundException.&lt;/p&gt;

&lt;p&gt;Looks like in order to address this, InstantiationUtil.ClassLoaderObjectInputStream needs to provide custom implementation of resolveProxyClass(..) method as well (in addition to resolveClass(..)).&lt;/p&gt;

&lt;p&gt;In order to reproduce the issue, run the attached SocketWindowWordCount Flink app. It&apos;s a slight variation of the canonical [SocketWindowWordCount &lt;br/&gt;
 example|https://ci.apache.org/projects/flink/flink-docs-master/tutorials/local_setup.html]&#160;with a dynamic proxy implementation of the flat map transformation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13202356">FLINK-11071</key>
            <summary>Dynamic proxy classes cannot be resolved when deserializing job graph</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eaglewatcher">BoWang</assignee>
                                    <reporter username="ozhukov">Oleg Zhukov</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 4 Dec 2018 19:34:55 +0000</created>
                <updated>Thu, 28 Feb 2019 13:20:26 +0000</updated>
                            <resolved>Tue, 29 Jan 2019 13:07:16 +0000</resolved>
                                    <version>1.6.2</version>
                    <version>1.7.0</version>
                    <version>1.8.0</version>
                                    <fixVersion>1.6.4</fixVersion>
                    <fixVersion>1.7.2</fixVersion>
                    <fixVersion>1.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16714433" author="stephanewen" created="Mon, 10 Dec 2018 08:47:04 +0000"  >&lt;p&gt;Good diagnose. Could you contribute this as a fix?&lt;/p&gt;</comment>
                            <comment id="16727580" author="ozhukov" created="Sat, 22 Dec 2018 22:43:06 +0000"  >&lt;p&gt;Stephan, not immediately. The current workaround of using static (hand-written) proxies worked OK for us. If we keep bumping into this, we will probably contribute a fix. Thank you!&lt;/p&gt;</comment>
                            <comment id="16736888" author="eaglewatcher" created="Tue, 8 Jan 2019 08:58:21 +0000"  >&lt;p&gt;Hi, has this problem been fixed yet? If not, I would like to fix this.&lt;/p&gt;</comment>
                            <comment id="16738745" author="ozhukov" created="Wed, 9 Jan 2019 22:49:43 +0000"  >&lt;p&gt;BoWang, I don&apos;t think anyone looked into it, so you&apos;re welcome to fix it!&lt;/p&gt;

&lt;p&gt;I briefly looked through your pull request, it looks good in general. I have minor concern about backwards compatibility, which probably needs to be verified with Flink core engineers. See my comments at &lt;a href=&quot;https://github.com/apache/flink/pull/7436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flink/pull/7436&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="16754997" author="dawidwys" created="Tue, 29 Jan 2019 13:07:16 +0000"  >&lt;p&gt;Fixed in:&lt;br/&gt;
master: 7eec6cdde32c94c13495515ed7335fc42be17fb5 fa84869864b6e5faa4abec1c359f55c4fe4b4ab9&lt;br/&gt;
1.7.2: d241a419ee5be486f1b563ac8d19b48897b75bbe 885869edb1ba46051af89450370569d62965ca3a&lt;br/&gt;
1.6.4: 4321bd3dd59523129f5ba2500711b5694780720a bdc29b98f10f6a2757b0718cc7916a5b71546944&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12950593" name="SocketWindowWordCount.java" size="4624" author="ozhukov" created="Tue, 4 Dec 2018 19:34:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s015zs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>