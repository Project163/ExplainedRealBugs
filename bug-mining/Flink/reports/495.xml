<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:20:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-2464] BufferSpillerTest sometimes fails</title>
                <link>https://issues.apache.org/jira/browse/FLINK-2464</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The BufferSpillerTest failed with the following error:&lt;/p&gt;

&lt;p&gt;org.apache.flink.streaming.runtime.io.BufferSpillerTest&lt;br/&gt;
testSpillWhileReading(org.apache.flink.streaming.runtime.io.BufferSpillerTest)  Time elapsed: 3.28 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: wrong buffer contents expected:&amp;lt;0&amp;gt; but was:&amp;lt;58&amp;gt;&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
	at org.junit.Assert.failNotEquals(Assert.java:743)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:118)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:555)&lt;br/&gt;
	at org.apache.flink.streaming.runtime.io.BufferSpillerTest.validateBuffer(BufferSpillerTest.java:290)&lt;br/&gt;
	at org.apache.flink.streaming.runtime.io.BufferSpillerTest.access$200(BufferSpillerTest.java:42)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12850984">FLINK-2464</key>
            <summary>BufferSpillerTest sometimes fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="sewen">Stephan Ewen</assignee>
                                    <reporter username="gyfora">Gyula Fora</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Aug 2015 19:39:02 +0000</created>
                <updated>Wed, 2 Oct 2019 17:44:43 +0000</updated>
                            <resolved>Thu, 6 Aug 2015 12:24:48 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14651206" author="stephanewen" created="Sun, 2 Aug 2015 22:02:44 +0000"  >&lt;p&gt;I have seen a similar failure as well. It seems very strange, because that check means that for a buffer, the first 57 bytes are as expected and the 58th is unexpected. And the length is correct as well. I have no idea how that could happen...&lt;/p&gt;</comment>
                            <comment id="14651546" author="stephanewen" created="Mon, 3 Aug 2015 07:25:14 +0000"  >&lt;p&gt;Just ran the &lt;tt&gt;BufferSpillerTest&lt;/tt&gt; for 10h in a loop. No failure occurring. Hard to reproduce on a setup other than Travis...&lt;/p&gt;</comment>
                            <comment id="14651584" author="gyfora" created="Mon, 3 Aug 2015 08:22:43 +0000"  >&lt;p&gt;Alright, let&apos;s not worry about it then. Maybe at one point we will get some more insight from the travis logs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14652119" author="stephanewen" created="Mon, 3 Aug 2015 17:02:46 +0000"  >&lt;p&gt;Can you paste the build on which that happened? I have the suspicion that there may be an issue with Java 6.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;BarrierBufferMassiveRandomTest&lt;/tt&gt; sometimes crash the JVM on Java 6 builds, which almost looks like the I/O code causes a segfault, or a similar critical issue. Since we are not using any unsafe stuff in that code, it may be a Java issue.&lt;/p&gt;

&lt;p&gt;If the barrier buffer I/O is affected by that, it may also explain the failures of the &lt;tt&gt;BufferSpillerTest&lt;/tt&gt; and the &lt;tt&gt;StreamCheckpointingITCase&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14652852" author="sachingoel0101" created="Tue, 4 Aug 2015 00:32:19 +0000"  >&lt;p&gt;I observed a failure on this case. &lt;br/&gt;
&lt;a href=&quot;https://travis-ci.org/sachingoel0101/flink/jobs/73983646&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/sachingoel0101/flink/jobs/73983646&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;It&amp;#39;s one of my branches to fix flink-2472.&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14653236" author="gyfora" created="Tue, 4 Aug 2015 08:00:07 +0000"  >&lt;p&gt;Here is also one:&lt;br/&gt;
&lt;a href=&quot;https://travis-ci.org/apache/flink/jobs/73797711&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/flink/jobs/73797711&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14658631" author="stephanewen" created="Wed, 5 Aug 2015 18:20:42 +0000"  >&lt;p&gt;Fixed via 3e73496c59c6e468be265afd931370efa6ba2d8a&lt;/p&gt;</comment>
                            <comment id="14659907" author="mbalassi" created="Thu, 6 Aug 2015 12:14:44 +0000"  >&lt;p&gt;Thanks for the fix, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt;. Unfortunately I still see tests of the `flink-streaming-core` module fail due to a killed JVM post your commit. &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;I can also suspect that this is coming from either the `BarrierBufferTest` or the `BufferSpillerTest`, becuase after disabling them `flink-streaming-core` did not once fail on java 6 in 20 builds triggered on travis. &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; (Builds that still failed were due to the failures of the `StreamCheckpointingITCase` or the `PartitionedStateCheckpointingITCase` in `flink-tests`.) &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://travis-ci.org/mbalassi/flink/jobs/74391653&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/mbalassi/flink/jobs/74391653&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; See build #1 through #10 here &lt;a href=&quot;https://travis-ci.org/mbalassi-travis-0/flink/builds&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/mbalassi-travis-0/flink/builds&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14659922" author="stephanewen" created="Thu, 6 Aug 2015 12:24:19 +0000"  >&lt;p&gt;The &quot;kill&quot; is actually the &lt;tt&gt;BarrierBufferMassiveRandomTest&lt;/tt&gt;. You can find this by checking which tests are printed to start, but not printed to stop.&lt;/p&gt;

&lt;p&gt;There is already &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2466&quot; title=&quot;Travis build failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2466&quot;&gt;&lt;del&gt;FLINK-2466&lt;/del&gt;&lt;/a&gt; for this issue, so I would close this as duplicate (also, it refers to the wrong test).&lt;/p&gt;</comment>
                            <comment id="14659924" author="stephanewen" created="Thu, 6 Aug 2015 12:24:48 +0000"  >&lt;p&gt;Problem is tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-2466&quot; title=&quot;Travis build failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-2466&quot;&gt;&lt;del&gt;FLINK-2466&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2i8wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>