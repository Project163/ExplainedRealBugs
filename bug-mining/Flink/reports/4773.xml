<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:50:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-19842] PyFlinkStreamUserDefinedTableFunctionTests.test_table_function_with_sql_query is unstable</title>
                <link>https://issues.apache.org/jira/browse/FLINK-19842</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=8401&amp;amp;view=logs&amp;amp;j=9cada3cb-c1d3-5621-16da-0f718fb86602&amp;amp;t=8d78fe4f-d658-5c70-12f8-4921589024c3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=8401&amp;amp;view=logs&amp;amp;j=9cada3cb-c1d3-5621-16da-0f718fb86602&amp;amp;t=8d78fe4f-d658-5c70-12f8-4921589024c3&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
=================================== FAILURES ===================================
_ PyFlinkStreamUserDefinedTableFunctionTests.test_table_function_with_sql_query _

self = &amp;lt;pyflink.table.tests.test_udtf.PyFlinkStreamUserDefinedTableFunctionTests testMethod=test_table_function_with_sql_query&amp;gt;

    def test_table_function_with_sql_query(self):
        self._register_table_sink(
            [&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;],
            [DataTypes.BIGINT(), DataTypes.BIGINT(), DataTypes.BIGINT()])
    
        self.t_env.create_temporary_system_function(
            &lt;span class=&quot;code-quote&quot;&gt;&quot;multi_emit&quot;&lt;/span&gt;, udtf(MultiEmit(), result_types=[DataTypes.BIGINT(), DataTypes.BIGINT()]))
    
        t = self.t_env.from_elements([(1, 1, 3), (2, 1, 6), (3, 2, 9)], [&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;])
        self.t_env.register_table(&lt;span class=&quot;code-quote&quot;&gt;&quot;MyTable&quot;&lt;/span&gt;, t)
        t = self.t_env.sql_query(
            &lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT a, x, y FROM MyTable LEFT JOIN LATERAL TABLE(multi_emit(a, b)) as T(x, y)&quot;&lt;/span&gt;
            &lt;span class=&quot;code-quote&quot;&gt;&quot; ON TRUE&quot;&lt;/span&gt;)
        actual = self._get_output(t)
&amp;gt;       self.assert_equals(actual, [&lt;span class=&quot;code-quote&quot;&gt;&quot;1,1,0&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;2,2,0&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3,3,0&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3,3,1&quot;&lt;/span&gt;])

pyflink/table/tests/test_udtf.py:61: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

cls = &amp;lt;class &lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink.table.tests.test_udtf.PyFlinkStreamUserDefinedTableFunctionTests&apos;&lt;/span&gt;&amp;gt;
actual = JavaObject id=o37759, expected = [&lt;span class=&quot;code-quote&quot;&gt;&apos;1,1,0&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;2,2,0&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;3,3,0&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;3,3,1&apos;&lt;/span&gt;]

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13337486">FLINK-19842</key>
            <summary>PyFlinkStreamUserDefinedTableFunctionTests.test_table_function_with_sql_query is unstable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hxbks2ks">Huang Xingbo</assignee>
                                    <reporter username="rmetzger">Robert Metzger</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Tue, 27 Oct 2020 18:03:32 +0000</created>
                <updated>Wed, 11 Nov 2020 02:05:25 +0000</updated>
                            <resolved>Wed, 11 Nov 2020 02:05:25 +0000</resolved>
                                    <version>1.12.0</version>
                                    <fixVersion>1.12.0</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17221879" author="nicholasjiang" created="Wed, 28 Oct 2020 01:05:34 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dianfu&quot; class=&quot;user-hover&quot; rel=&quot;dianfu&quot;&gt;dianfu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hxbks2ks&quot; class=&quot;user-hover&quot; rel=&quot;hxbks2ks&quot;&gt;hxbks2ks&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17221896" author="hxbks2ks" created="Wed, 28 Oct 2020 01:55:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmetzger&quot; class=&quot;user-hover&quot; rel=&quot;rmetzger&quot;&gt;rmetzger&lt;/a&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nicholasjiang&quot; class=&quot;user-hover&quot; rel=&quot;nicholasjiang&quot;&gt;nicholasjiang&lt;/a&gt; Thanks a lot. I will take a look.&lt;/p&gt;</comment>
                            <comment id="17227888" author="dian.fu" created="Sun, 8 Nov 2020 01:46:38 +0000"  >&lt;p&gt;Seems another instance: &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=9279&amp;amp;view=logs&amp;amp;j=9cada3cb-c1d3-5621-16da-0f718fb86602&amp;amp;t=8d78fe4f-d658-5c70-12f8-4921589024c3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=9279&amp;amp;view=logs&amp;amp;j=9cada3cb-c1d3-5621-16da-0f718fb86602&amp;amp;t=8d78fe4f-d658-5c70-12f8-4921589024c3&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-11-07T23:17:06.7806808Z self = &amp;lt;pyflink.table.tests.test_udtf.PyFlinkBlinkStreamUserDefinedFunctionTests testMethod=test_table_function&amp;gt;
2020-11-07T23:17:06.7807102Z 
2020-11-07T23:17:06.7807304Z     def test_table_function(self):
2020-11-07T23:17:06.7807580Z         self._register_table_sink(
2020-11-07T23:17:06.7807959Z             [&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;],
2020-11-07T23:17:06.7808316Z             [DataTypes.BIGINT(), DataTypes.BIGINT(), DataTypes.BIGINT()])
2020-11-07T23:17:06.7808665Z     
2020-11-07T23:17:06.7808944Z         multi_emit = udtf(MultiEmit(), result_types=[DataTypes.BIGINT(), DataTypes.BIGINT()])
2020-11-07T23:17:06.7809335Z         multi_num = udf(MultiNum(), result_type=DataTypes.BIGINT())
2020-11-07T23:17:06.7809595Z     
2020-11-07T23:17:06.7810056Z         t = self.t_env.from_elements([(1, 1, 3), (2, 1, 6), (3, 2, 9)], [&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;])
2020-11-07T23:17:06.7810613Z         t = t.join_lateral(multi_emit(t.a, multi_num(t.b)).alias(&lt;span class=&quot;code-quote&quot;&gt;&apos;x&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;y&apos;&lt;/span&gt;))
2020-11-07T23:17:06.7811170Z         t = t.left_outer_join_lateral(condition_multi_emit(t.x, t.y).alias(&lt;span class=&quot;code-quote&quot;&gt;&apos;m&apos;&lt;/span&gt;)) \
2020-11-07T23:17:06.7811479Z             .select(&lt;span class=&quot;code-quote&quot;&gt;&quot;x, y, m&quot;&lt;/span&gt;)
2020-11-07T23:17:06.7812029Z         t = t.left_outer_join_lateral(identity(t.m).alias(&lt;span class=&quot;code-quote&quot;&gt;&apos;n&apos;&lt;/span&gt;)) \
2020-11-07T23:17:06.7812326Z             .select(&lt;span class=&quot;code-quote&quot;&gt;&quot;x, y, n&quot;&lt;/span&gt;)
2020-11-07T23:17:06.7812560Z         actual = self._get_output(t)
2020-11-07T23:17:06.7812820Z         self.assert_equals(actual,
2020-11-07T23:17:06.7813237Z                            [&lt;span class=&quot;code-quote&quot;&gt;&quot;1,0,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;1,1,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;2,0,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;2,1,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3,0,0&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3,0,1&quot;&lt;/span&gt;,
2020-11-07T23:17:06.7813628Z &amp;gt;                           &lt;span class=&quot;code-quote&quot;&gt;&quot;3,0,2&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3,1,1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3,1,2&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3,2,2&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3,3,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17229654" author="dian.fu" created="Wed, 11 Nov 2020 02:05:25 +0000"  >&lt;p&gt;Fixed in master(1.12.0) via 0ab238919dbceb0180df74482c88f3c3dcbfed52&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13339645">FLINK-20066</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0k1ww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>