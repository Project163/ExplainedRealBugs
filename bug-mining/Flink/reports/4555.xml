<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:49:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-19005] Document JDBC drivers as source of Metaspace leaks</title>
                <link>https://issues.apache.org/jira/browse/FLINK-19005</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Hi !&lt;/p&gt;

&lt;p&gt;Im running a 1.11.1 flink cluster, where I execute batch jobs made with DataSet API.&lt;/p&gt;

&lt;p&gt;I submit these jobs every day to calculate daily data.&lt;/p&gt;

&lt;p&gt;In every execution, cluster&apos;s used metaspace increase by 7MB and its never released.&lt;/p&gt;

&lt;p&gt;This ends up with an OutOfMemoryError caused by Metaspace every 15 days and i need to restart the cluster to clean the metaspace&lt;/p&gt;

&lt;p&gt;taskmanager.memory.jvm-metaspace.size is set to 512mb&lt;/p&gt;

&lt;p&gt;Any idea of what could be causing this metaspace grow and why is it not released ?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;================================================&lt;br/&gt;
=== Summary ======================================&lt;br/&gt;
================================================&lt;/p&gt;

&lt;p&gt;Case 1, reported by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gestevez&quot; class=&quot;user-hover&quot; rel=&quot;gestevez&quot;&gt;gestevez&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Flink 1.11.1&lt;/li&gt;
	&lt;li&gt;Java 11&lt;/li&gt;
	&lt;li&gt;Maximum Metaspace size set to 512mb&lt;/li&gt;
	&lt;li&gt;Custom Batch job, submitted daily&lt;/li&gt;
	&lt;li&gt;Requires restart every 15 days after an OOM&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;Case 2, reported by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Echo+Lee&quot; class=&quot;user-hover&quot; rel=&quot;Echo Lee&quot;&gt;Echo Lee&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Flink 1.11.0&lt;/li&gt;
	&lt;li&gt;Java 11&lt;/li&gt;
	&lt;li&gt;G1GC&lt;/li&gt;
	&lt;li&gt;WordCount Batch job, submitted every second / every 5 minutes&lt;/li&gt;
	&lt;li&gt;eventually fails TaskExecutor with OOM&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Case 3, reported by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DaDaShen&quot; class=&quot;user-hover&quot; rel=&quot;DaDaShen&quot;&gt;DaDaShen&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Flink 1.11.0&lt;/li&gt;
	&lt;li&gt;Java 11&lt;/li&gt;
	&lt;li&gt;WordCount Batch job, submitted every 5 seconds&lt;/li&gt;
	&lt;li&gt;growing Metaspace, eventually OOM&lt;br/&gt;
&#160;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13323727">FLINK-19005</key>
            <summary>Document JDBC drivers as source of Metaspace leaks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chesnay">Chesnay Schepler</assignee>
                                    <reporter username="gestevez">Guillermo S&#225;nchez</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 20 Aug 2020 12:24:03 +0000</created>
                <updated>Thu, 17 Sep 2020 10:28:02 +0000</updated>
                            <resolved>Thu, 17 Sep 2020 09:08:50 +0000</resolved>
                                    <version>1.11.1</version>
                                    <fixVersion>1.12.0</fixVersion>
                                    <component>Client / Job Submission</component>
                    <component>Runtime / Configuration</component>
                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="17181205" author="mapohl" created="Thu, 20 Aug 2020 13:53:50 +0000"  >&lt;p&gt;Hi Guillermo,&lt;/p&gt;

&lt;p&gt;this looks like a Metaspace leak. The memory used for the Metaspace pool is quite high comparing it to other use cases (e.g. in this &lt;a href=&quot;http://apache-flink-user-mailing-list-archive.2336050.n4.nabble.com/MaxMetaspace-default-may-be-to-low-td33049.html#a33072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;mailing list thread&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;One proposal is to create a heap dump to check whether there are classes that are not cleaned up. This could be either ab indication of Metaspace memory leak in the user code or Flink. Would it be possible to analyse the heap dump yourself or provide it for an assisted analysis? In the latter case, I would propose moving the discussion into &lt;a href=&quot;https://flink.apache.org/community.html#mailing-lists&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;User Mailing List&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Best,&lt;br/&gt;
Matthias&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="17181207" author="mapohl" created="Thu, 20 Aug 2020 13:56:54 +0000"  >&lt;p&gt;I close this issue. Feel free to move the discussion into the User Mailing List if you need further assistance.&lt;/p&gt;</comment>
                            <comment id="17181704" author="dadashen" created="Fri, 21 Aug 2020 08:12:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt; Hi Matthias,&lt;br/&gt;
I  meet the same problem as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gestevez&quot; class=&quot;user-hover&quot; rel=&quot;gestevez&quot;&gt;gestevez&lt;/a&gt; does. To figure out Metaspace leak is not caused by my code, I specifically submit the word count job. And for every times, the Metaspace grows up and never release. No matter how large the Metaspace I configured, the Metaspace OOM will always  occur. &lt;/p&gt;</comment>
                            <comment id="17181709" author="zentol" created="Fri, 21 Aug 2020 08:20:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DaDaShen&quot; class=&quot;user-hover&quot; rel=&quot;DaDaShen&quot;&gt;DaDaShen&lt;/a&gt; Are you also using 1.11.0? Are you submitting the batch WordCount?&lt;/p&gt;</comment>
                            <comment id="17181718" author="dadashen" created="Fri, 21 Aug 2020 08:31:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; Yes, I use flink 1.11.0 with it&apos;s batch word count on jdk11 environment.&lt;/p&gt;</comment>
                            <comment id="17181719" author="zentol" created="Fri, 21 Aug 2020 08:33:50 +0000"  >&lt;p&gt;Re-opening this issue while I try to reproduce the metaspace issue.&lt;/p&gt;</comment>
                            <comment id="17181737" author="echo lee" created="Fri, 21 Aug 2020 09:10:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160;I also encountered this problem, which I raised in the comment of issue &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-16408&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;FLINK-16408&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17181739" author="zentol" created="Fri, 21 Aug 2020 09:11:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DaDaShen&quot; class=&quot;user-hover&quot; rel=&quot;DaDaShen&quot;&gt;DaDaShen&lt;/a&gt; Does this happen on a local cluster? After how many jobs does it happen for you?&lt;/p&gt;</comment>
                            <comment id="17181741" author="dadashen" created="Fri, 21 Aug 2020 09:21:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; I didn&apos;t do this on a local cluster. I use a script to submit job for every 5 seconds on standalone cluster, so I don&apos;t know how many times execution will trigger the OOM.  it&apos;s a long time to occur by default Metaspace configuration. But you can observe the usage of metatspace, you&apos;ll find that the space never release and grows up continuously.&lt;/p&gt;</comment>
                            <comment id="17181754" author="gestevez" created="Fri, 21 Aug 2020 09:35:49 +0000"  >&lt;p&gt;Its the same problem that I have&lt;/p&gt;</comment>
                            <comment id="17181810" author="gestevez" created="Fri, 21 Aug 2020 11:00:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mapohl&quot; class=&quot;user-hover&quot; rel=&quot;mapohl&quot;&gt;mapohl&lt;/a&gt;, I have attached heap dump files &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13010216/13010216_heap_dump_after_1_execution.zip&quot; title=&quot;heap_dump_after_1_execution.zip attached to FLINK-19005&quot;&gt;heap_dump_after_1_execution.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; and &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13010207/13010207_heap_dump_after_10_executions.zip&quot; title=&quot;heap_dump_after_10_executions.zip attached to FLINK-19005&quot;&gt;heap_dump_after_10_executions.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, in case you can analyze it.&lt;/p&gt;</comment>
                            <comment id="17181848" author="mapohl" created="Fri, 21 Aug 2020 12:20:59 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gestevez&quot; class=&quot;user-hover&quot; rel=&quot;gestevez&quot;&gt;gestevez&lt;/a&gt;, thanks for getting back to us. It looks like &lt;tt&gt;heap_dump_after_1_executions.zip&lt;/tt&gt; contains the &lt;tt&gt;heap_dump_after_10_execution.zip&lt;/tt&gt;. May you update the &lt;tt&gt;heap_dump_after_1_executions.zip&lt;/tt&gt; attachment?&lt;/p&gt;</comment>
                            <comment id="17181864" author="gestevez" created="Fri, 21 Aug 2020 12:49:21 +0000"  >&lt;p&gt;I have uploaded&#160;heap_dump_after_1_executions.zip fixed&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="17181871" author="mapohl" created="Fri, 21 Aug 2020 13:07:41 +0000"  >&lt;p&gt;Thanks for the update.&lt;br/&gt;
A quick diff shows already that there is a growing number of classes generated through reflection:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;# analysis on the &lt;span class=&quot;code-quote-red&quot;&gt;&quot;after 1 execution&quot;&lt;/span&gt; heap dump
&lt;/span&gt;FLINK-19005 grep -o &lt;span class=&quot;code-quote-red&quot;&gt;&quot;class .*&amp;lt;/a&amp;gt;&quot;&lt;/span&gt; after_1/out.html | sed -e &lt;span class=&quot;code-quote-red&quot;&gt;&apos;s~class ~~g&apos;&lt;/span&gt; -e &lt;span class=&quot;code-quote-red&quot;&gt;&apos;s~&amp;lt;/a&amp;gt;~~g&apos;&lt;/span&gt; | cut -d&lt;span class=&quot;code-quote-red&quot;&gt;&apos;$&apos;&lt;/span&gt; -f1 | sed &lt;span class=&quot;code-quote-red&quot;&gt;&apos;s/[0-9]*$//g&apos;&lt;/span&gt;| sort | uniq -c | sort -rn | head
 287 jdk.internal.reflect.GeneratedSerializationConstructorAccessor
 150 jdk.internal.reflect.GeneratedMethodAccessor
 136 oracle.jdbc.driver.Redirector
  41 org.apache.flink.shaded.guava18.com.google.common.cache.LocalCache
  37 akka.remote.WireFormats
  37 akka.remote.EndpointManager
  35 org.apache.flink.shaded.curator.org.apache.curator.shaded.com.google.common.cache.LocalCache
  35 akka.remote.RemoteSettings
  33 org.apache.flink.shaded.hadoop2.com.google.common.cache.LocalCache
  31 akka.remote.serialization.MiscMessageSerializer
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;# analysis on the &lt;span class=&quot;code-quote-red&quot;&gt;&quot;after 10 executions&quot;&lt;/span&gt; heap dump
&lt;/span&gt;FLINK-19005 grep -o &lt;span class=&quot;code-quote-red&quot;&gt;&quot;class .*&amp;lt;/a&amp;gt;&quot;&lt;/span&gt; after_10/out.html | sed -e &lt;span class=&quot;code-quote-red&quot;&gt;&apos;s~class ~~g&apos;&lt;/span&gt; -e &lt;span class=&quot;code-quote-red&quot;&gt;&apos;s~&amp;lt;/a&amp;gt;~~g&apos;&lt;/span&gt; | cut -d&lt;span class=&quot;code-quote-red&quot;&gt;&apos;$&apos;&lt;/span&gt; -f1 | sed &lt;span class=&quot;code-quote-red&quot;&gt;&apos;s/[0-9]*$//g&apos;&lt;/span&gt;| sort | uniq -c | sort -rn | head
 575 jdk.internal.reflect.GeneratedSerializationConstructorAccessor
 223 jdk.internal.reflect.GeneratedMethodAccessor
 136 oracle.jdbc.driver.Redirector
  49 com.sun.proxy.
  41 org.apache.flink.shaded.guava18.com.google.common.cache.LocalCache
  37 akka.remote.WireFormats
  37 akka.remote.EndpointManager
  36 jdk.internal.reflect.GeneratedConstructorAccessor
  35 org.apache.flink.shaded.curator.org.apache.curator.shaded.com.google.common.cache.LocalCache
  35 akka.remote.RemoteSettings
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17182968" author="echo lee" created="Mon, 24 Aug 2020 06:11:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160;Is there any new progress on this issue?&#160;&lt;/p&gt;</comment>
                            <comment id="17183182" author="zentol" created="Mon, 24 Aug 2020 11:58:15 +0000"  >&lt;p&gt;I&apos;ve added a summary to the Jira description.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Echo+Lee&quot; class=&quot;user-hover&quot; rel=&quot;Echo Lee&quot;&gt;Echo Lee&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DaDaShen&quot; class=&quot;user-hover&quot; rel=&quot;DaDaShen&quot;&gt;DaDaShen&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gestevez&quot; class=&quot;user-hover&quot; rel=&quot;gestevez&quot;&gt;gestevez&lt;/a&gt; Could you tell us exactly which Java 11 version you are using? (output of &lt;tt&gt;java -version&lt;/tt&gt;)&lt;/p&gt;

&lt;p&gt;So far I was not really able to reproduce the issue. I&apos;m submitting the Batch Wordcount example in a loop, such that the next one is submitted once the previous one finishes. I do see the Metaspace going up, but once it gets close to the Metaspace size maximum the GC kicks in. My current run has been going for about an hour and ran roughly 1500 jobs, and I can see several dips in the metaspace usage.&lt;/p&gt;

&lt;p&gt;In one instance I did get a TaskExecutor crash of sorts, but increasing the Metaspace by as little as 2mb fixed this issue. I do not consider this a successful reproduction, as I&apos;ve conducted the tests initially with a very low max size of 40mb, and it is somewhat expected that things may fail when it is configured to such a low value.&lt;/p&gt;</comment>
                            <comment id="17183217" author="zentol" created="Mon, 24 Aug 2020 12:37:20 +0000"  >&lt;p&gt;Small update, the TaskExecutor crashed while things ran in the background after around 2200 jobs. Trying to figure out what exactly happened, the logs don&apos;t contain an exception, but maybe it happened in some component hat logs it on DEBUG level.&lt;/p&gt;</comment>
                            <comment id="17183623" author="zentol" created="Mon, 24 Aug 2020 22:23:19 +0000"  >&lt;p&gt;My conclusion is that Flink is not leaking anything, and the errors are due to unfortunate timings or some JDK issue.&lt;/p&gt;

&lt;p&gt;I was able to reproduce the issue when submitting jobs in directly after another / with 5 seconds in between, but after increasing the backoff to 1 minute the OOM no longer occurred. The GC states also showed that the Metaspace usage did not continuously increase; the GC created distinct dips that frequently managed to match or even undercut prior dips.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-16408?focusedCommentId=17180577&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17180577&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Stephans comment&lt;/a&gt; appears to apply here, at the very least for all the mentioned cases where Wordcounts are frequently run.&lt;/p&gt;

&lt;p&gt;As for the original issue by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gestevez&quot; class=&quot;user-hover&quot; rel=&quot;gestevez&quot;&gt;gestevez&lt;/a&gt;, this looks like a clear case of classloaders being leaked. There are (at least) a bunch of &lt;tt&gt;oracle.jdbc.driver.BlockSource.ThreadedCachingBlockSource.BlockReleaser&lt;/tt&gt; threads hanging around preventing the garbage collection.&lt;br/&gt;
So technically, this is a thread leak inherent to this library or caused by improper usage.&lt;/p&gt;</comment>
                            <comment id="17183887" author="echo lee" created="Tue, 25 Aug 2020 09:32:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160;Wordcount.jar is not easy to reproduce this issue, but our own application is easy to reproduce. I attached the heap dump. Please help to analyze the reason. Thank you!&lt;/p&gt;

&lt;p&gt;The execution environment is as follows:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Flink 1.11.0&lt;/li&gt;
	&lt;li&gt;openjdk 11.0.2 (2019-01-15)&lt;/li&gt;
	&lt;li&gt;G1GC&lt;/li&gt;
	&lt;li&gt;Max Metaspace Size 90m&lt;/li&gt;
	&lt;li&gt;Metaspace Size 80m&lt;/li&gt;
	&lt;li&gt;Batch job, submitted every 15 second&lt;/li&gt;
	&lt;li&gt;eventually fails TaskExecutor with OOM&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The heap dump consists of two files, where first.bin Indicates the heap dump of a job, fourth.bin Indicates the heap dump that executes the job four times.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13010453/13010453_heap_dump_echo_lee.tar.xz&quot; title=&quot;heap_dump_echo_lee.tar.xz attached to FLINK-19005&quot;&gt;heap_dump_echo_lee.tar.xz&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17183894" author="zentol" created="Tue, 25 Aug 2020 09:43:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Echo+Lee&quot; class=&quot;user-hover&quot; rel=&quot;Echo Lee&quot;&gt;Echo Lee&lt;/a&gt; similar problem, user classloader is being leaked. Are you using JMX in any way? I see various classes from within the user classloader being referenced from the outside by a &lt;tt&gt;StandardMBeanIntrospector&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17183904" author="echo lee" created="Tue, 25 Aug 2020 10:07:20 +0000"  >&lt;p&gt;Yes, I turned on JMX in order to monitor the changes of Metaspace through JavaVisual.&lt;/p&gt;</comment>
                            <comment id="17183906" author="zentol" created="Tue, 25 Aug 2020 10:09:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Echo+Lee&quot; class=&quot;user-hover&quot; rel=&quot;Echo Lee&quot;&gt;Echo Lee&lt;/a&gt; The JMX thingie is probably fine since it uses a &lt;tt&gt;WeakHashMap&lt;/tt&gt;, but there is the &lt;tt&gt;java.sql.DriverManager&lt;/tt&gt; leaking classes. This is relatively well known issue for JDBC.&lt;/p&gt;</comment>
                            <comment id="17183928" author="dadashen" created="Tue, 25 Aug 2020 10:53:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; I&apos;m willing to know how you can draw a conclusion that the class leaking is caused by java.sql.DriverManager from the dump files. I&apos;m still no thinking to locate the key problem. &lt;br/&gt;
BTW, I tried several times to using wordcount job to reproduce metaspace OOM. But this time flink was running well and no metaspace OOM occurred, so It was my mistake.&lt;/p&gt;</comment>
                            <comment id="17183942" author="zentol" created="Tue, 25 Aug 2020 11:21:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DaDaShen&quot; class=&quot;user-hover&quot; rel=&quot;DaDaShen&quot;&gt;DaDaShen&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;load heapdump in ecliplse MAT&lt;/li&gt;
	&lt;li&gt;create histogram&lt;/li&gt;
	&lt;li&gt;group classes by classloader&lt;/li&gt;
	&lt;li&gt;among others we can see several ChildFirstClassLoader objects
	&lt;ul&gt;
		&lt;li&gt;these are the user classloaders&lt;/li&gt;
		&lt;li&gt;because they are still around, something is leaking it&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;select one of these entries, and merge the shortest paths to GC roots&lt;/li&gt;
	&lt;li&gt;there is now one entry for the system classloader&lt;/li&gt;
	&lt;li&gt;drilling down into it we find the &lt;tt&gt;java.sql.DriverManager&lt;/tt&gt;
	&lt;ul&gt;
		&lt;li&gt;the contained registeredDrivers array contains multiple drivers for druid, postgresql and calcite&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;select any of these drivers, use Java Basics -&amp;gt; Class Loader explorer&lt;/li&gt;
	&lt;li&gt;you are now shown a ChildFirstClassLoader&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This means that the driver originates from the user classloader, but is referenced from the system classloader. If the reference in the latter is not removed (due to improper cleanup), then the user classloader cannot be garbage collected.&lt;/p&gt;</comment>
                            <comment id="17186221" author="dadashen" created="Fri, 28 Aug 2020 02:47:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; &lt;br/&gt;
Thanks for your detailed instruction. &lt;br/&gt;
But I still think there&apos;s maybe something wrong in Flink. I find that the JdbcInputFormat &amp;amp; JdbcOutputFormat is key reason cause the Metaspace OOM, because the java.sql.DriverManager doesn&apos;t release the reference of the Driver. The DriverManager is loaded by java.internal.ClassLoader but the driver is loaded by ChildFisrtClassLoader, which means the ChildFirstClassLoader can&apos;t be garbage collected according analyzation of dump file.  &lt;br/&gt;
The following code is used by me to reproduce the issue and  I use org.postgresql.Driver as jdbc Driver.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
	EnvironmentSettings envSettings = EnvironmentSettings.newInstance()
			.useBlinkPlanner() !origin-jdbc-inputformat.png! 
			.inBatchMode()
			.build();
	TableEnvironment tEnv = TableEnvironment.create(envSettings);

	tEnv.executeSql(
			&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE TABLE &quot;&lt;/span&gt; + INPUT_TABLE + &lt;span class=&quot;code-quote&quot;&gt;&quot;(&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;id BIGINT,&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;timestamp6_col TIMESTAMP(6),&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;timestamp9_col TIMESTAMP(6),&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;time_col TIME,&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;real_col FLOAT,&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;decimal_col DECIMAL(10, 4)&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;) WITH (&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.type&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;jdbc&apos;&lt;/span&gt;,&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.url&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + DB_URL + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;,&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.table&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + INPUT_TABLE + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;,&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.USERNAME&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + USERNAME + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;,&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;  &lt;span class=&quot;code-quote&quot;&gt;&apos;connector.PASSWORD&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + PASSWORD + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;&quot;&lt;/span&gt; +
					&lt;span class=&quot;code-quote&quot;&gt;&quot;)&quot;&lt;/span&gt;
	);

	TableResult tableResult = tEnv.executeSql(&lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT timestamp6_col, decimal_col FROM &quot;&lt;/span&gt; + INPUT_TABLE);
	tableResult.collect();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And below diagram shows the Metaspace usage constantly growing up, and finally TaskManager will be offline.&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13010647/13010647_origin-jdbc-inputformat.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;Additional, I try to fix this issue by appending the following code to the function closeInputFormat() which can finally trigger garbage collect in Metaspace.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;{
	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Enumeration&amp;lt;Driver&amp;gt; drivers = DriverManager.getDrivers();
	&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (drivers.hasMoreElements()) {
		DriverManager.deregisterDriver(drivers.nextElement());
	}
} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (SQLException se) {
	LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Inputformat couldn&apos;t be closed - &quot;&lt;/span&gt; + se.getMessage());
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following diagram shows the usage of Metaspace will be decreased.&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13010648/13010648_modified-jdbc-inputformat.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;br/&gt;
So, do you think it&apos;s a flink problem, and should we create a new issue to fix.&lt;/p&gt;</comment>
                            <comment id="17186325" author="zentol" created="Fri, 28 Aug 2020 07:20:49 +0000"  >&lt;p&gt;Well of course that works; you clean &lt;em&gt;all drivers,&lt;/em&gt; then things can get GC&apos;d.&lt;/p&gt;

&lt;p&gt;However, you also mess with any other Task from the same job running in that JVM that requires JDBC at the same time, because all of a sudden you are de-registering drivers, and there is unfortunately no guarantee that they will be re-registered when the class is reloaded (because JDBC is a mess).&lt;/p&gt;

&lt;p&gt;Additionally, you are also de-registering all drivers that were loaded by the SystemClassLoader, which presumably should be left alone.&lt;/p&gt;</comment>
                            <comment id="17186353" author="dadashen" created="Fri, 28 Aug 2020 07:54:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt; &lt;br/&gt;
Looks like it&apos;s hard to solve the problem.&lt;br/&gt;
Do we any plan or good idea to fix this? Or is there  any other place to discuss the problem?&lt;/p&gt;</comment>
                            <comment id="17186384" author="till.rohrmann" created="Fri, 28 Aug 2020 08:36:13 +0000"  >&lt;p&gt;One thing you can do is to use Flink&apos;s per job mode deployment. That way you will create a new cluster for every job and terminate the cluster once the job is done. That way, you won&apos;t run into the problem of accumulating class loader leaks.&lt;/p&gt;

&lt;p&gt;If the JDBC classes are strictly loaded by the user code class loader, then &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17554&quot; title=&quot;Add release hooks for user code class loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17554&quot;&gt;&lt;del&gt;FLINK-17554&lt;/del&gt;&lt;/a&gt; might help by allowing to register shut down hooks for every user code class loader.&lt;/p&gt;</comment>
                            <comment id="17186389" author="zentol" created="Fri, 28 Aug 2020 08:41:28 +0000"  >&lt;p&gt;I don&apos;t think anyone has a plan to solve it. I can offer a potential workaround though:&lt;/p&gt;

&lt;p&gt;What you could try is putting the jdbc drivers into /lib instead of bundling them in the user-jar, and adding them to the list of &lt;a href=&quot;#classloader-parent-first-patterns-additional].&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;parent-first loaded classes&lt;/a&gt;That should ensure that the driver is only created once, outside the user-classloader.&lt;/p&gt;</comment>
                            <comment id="17186472" author="eskabetxe" created="Fri, 28 Aug 2020 11:08:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; that can be applied to a standalone cluster? (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DaDaShen&quot; class=&quot;user-hover&quot; rel=&quot;DaDaShen&quot;&gt;DaDaShen&lt;/a&gt;&#160; and&#160; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gestevez&quot; class=&quot;user-hover&quot; rel=&quot;gestevez&quot;&gt;gestevez&lt;/a&gt;&#160; are using standalone cluster)&lt;/p&gt;

&lt;p&gt;&#160;It seems that Flink is not clearing the JDBC references, if we only use TableEnvironment or InputFormat we only provide the jdbc library, all iteration with the library is done by Flink, and the cleaning up must be done by Flink as we dont have access to it.&lt;/p&gt;

&lt;p&gt;I will help &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gestevez&quot; class=&quot;user-hover&quot; rel=&quot;gestevez&quot;&gt;gestevez&lt;/a&gt;&#160; to prove the &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;&#160; option of add it to /lib instead of bundling them in the user-jar..&lt;/p&gt;</comment>
                            <comment id="17187492" author="till.rohrmann" created="Mon, 31 Aug 2020 06:47:40 +0000"  >&lt;p&gt;The per-job mode does also work in standalone mode via using &lt;tt&gt;standalone-job.sh&lt;/tt&gt;. But it won&apos;t stop the started &lt;tt&gt;TaskManagers&lt;/tt&gt;. Hence it is easier to use it when running on Yarn or K8s.&lt;/p&gt;

&lt;p&gt;At the moment I think Chesnay&apos;s suggestion to put the dependency into &lt;tt&gt;/lib&lt;/tt&gt; is the best option to work around the problem. Once we have &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17554&quot; title=&quot;Add release hooks for user code class loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17554&quot;&gt;&lt;del&gt;FLINK-17554&lt;/del&gt;&lt;/a&gt;, we might also solve this problem in a more convenient way.&lt;/p&gt;</comment>
                            <comment id="17188456" author="gestevez" created="Tue, 1 Sep 2020 13:29:17 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt;, &lt;br/&gt;
I tried your solution, changed oracle library dependency on my jobs pom.xml to provided, and now it consumes much less metaspace and creates less classes on every execution, and finally, used metaspace drops some hours after executions finished.&lt;/p&gt;

&lt;p&gt;I have uploaded &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13010840/13010840_heapdump-after_metaspace_dropped.hprof&quot; title=&quot;heapdump-after_metaspace_dropped.hprof attached to FLINK-19005&quot;&gt;heapdump-after_metaspace_dropped.hprof&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; file, generated after metaspace had dropped, after 6 executions of my batch job.&lt;br/&gt;
Could you examine it to check if there is still any memory leak or it is completely solved?&lt;/p&gt;</comment>
                            <comment id="17196111" author="zentol" created="Tue, 15 Sep 2020 12:37:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gestevez&quot; class=&quot;user-hover&quot; rel=&quot;gestevez&quot;&gt;gestevez&lt;/a&gt;From what I can tell the dump looks OK to me. The ChildFirstClassLoaders are still around, but hold way less references, and will likely be gc&apos;d at a later point. In one of the loaders there are some lingering threads, but given that these are not present in other loaders I&apos;d assume that they will shutdown at a later point.&lt;/p&gt;

&lt;p&gt;I will add a note to the classloading-debugging documentation about JDBC.&lt;/p&gt;</comment>
                            <comment id="17196116" author="gestevez" created="Tue, 15 Sep 2020 12:50:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chesnay&quot; class=&quot;user-hover&quot; rel=&quot;chesnay&quot;&gt;chesnay&lt;/a&gt;, the problem seems to be fixed.&lt;br/&gt;
Used metaspace goes down as it should, some time after job executions finish.&lt;/p&gt;</comment>
                            <comment id="17197537" author="zentol" created="Thu, 17 Sep 2020 09:08:50 +0000"  >&lt;p&gt;master: 1baabe9db87662db498a58d2685664f832f9bf15&lt;/p&gt;</comment>
                            <comment id="17197555" author="stephanewen" created="Thu, 17 Sep 2020 09:26:12 +0000"  >&lt;p&gt;Is there a way to provide a &quot;classloader cleanup hook&quot; (from &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-17554&quot; title=&quot;Add release hooks for user code class loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-17554&quot;&gt;&lt;del&gt;FLINK-17554&lt;/del&gt;&lt;/a&gt;) to clear the JDBC registry?&lt;/p&gt;</comment>
                            <comment id="17197569" author="zentol" created="Thu, 17 Sep 2020 09:44:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sewen&quot; class=&quot;user-hover&quot; rel=&quot;sewen&quot;&gt;sewen&lt;/a&gt; Maybe; we can clear the registry as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DaDaShen&quot; class=&quot;user-hover&quot; rel=&quot;DaDaShen&quot;&gt;DaDaShen&lt;/a&gt; outlined (retrieve all drivers from the DriverManager, then unregister them), but I have &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-19005?focusedCommentId=17186325&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17186325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;concerns&lt;/a&gt; about it.&lt;/p&gt;</comment>
                            <comment id="17197594" author="stephanewen" created="Thu, 17 Sep 2020 10:21:13 +0000"  >&lt;p&gt;Right, cleaning everything would be too much. But would cleaning a specific driver class (the one registered in that specific connector) not be possible?&lt;/p&gt;</comment>
                            <comment id="17197596" author="zentol" created="Thu, 17 Sep 2020 10:26:12 +0000"  >&lt;p&gt;The &lt;tt&gt;DriverManager&lt;/tt&gt; works on instances, not classes, and from a quick glance I did not see a way to figure out which specific &lt;tt&gt;Driver&lt;/tt&gt; instance was registered by the connector.&lt;/p&gt;</comment>
                            <comment id="17197601" author="zentol" created="Thu, 17 Sep 2020 10:28:02 +0000"  >&lt;p&gt;hmm...maybe we could iterate over all drivers, and compare the classloader it was loaded by with the user code classloader.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13289309">FLINK-16408</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13010207" name="heap_dump_after_10_executions.zip" size="24563028" author="gestevez" created="Fri, 21 Aug 2020 10:52:01 +0000"/>
                            <attachment id="13010216" name="heap_dump_after_1_execution.zip" size="20932888" author="gestevez" created="Fri, 21 Aug 2020 12:44:33 +0000"/>
                            <attachment id="13010453" name="heap_dump_echo_lee.tar.xz" size="49882912" author="Echo Lee" created="Tue, 25 Aug 2020 09:26:58 +0000"/>
                            <attachment id="13010840" name="heapdump-after_metaspace_dropped.hprof" size="55878636" author="gestevez" created="Tue, 1 Sep 2020 13:17:42 +0000"/>
                            <attachment id="13010648" name="modified-jdbc-inputformat.png" size="27587" author="DaDaShen" created="Fri, 28 Aug 2020 02:45:55 +0000"/>
                            <attachment id="13010647" name="origin-jdbc-inputformat.png" size="23007" author="DaDaShen" created="Fri, 28 Aug 2020 02:35:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hy28:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>