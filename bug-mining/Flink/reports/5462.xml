<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:57:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-22815] Disable unaligned checkpoints for broadcast partitioning</title>
                <link>https://issues.apache.org/jira/browse/FLINK-22815</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Broadcast partitioning can not work with unaligned checkpointing. There&lt;br/&gt;
are no guarantees that records are consumed at the same rate in all&lt;br/&gt;
channels. This can result in some tasks applying state changes&lt;br/&gt;
corresponding to a certain broadcasted event while others don&apos;t. In turn&lt;br/&gt;
upon restore, it may lead to an inconsistent state.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13381314">FLINK-22815</key>
            <summary>Disable unaligned checkpoints for broadcast partitioning</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dwysakowicz">Dawid Wysakowicz</assignee>
                                    <reporter username="dwysakowicz">Dawid Wysakowicz</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 31 May 2021 15:41:43 +0000</created>
                <updated>Thu, 23 Sep 2021 17:24:16 +0000</updated>
                            <resolved>Fri, 18 Jun 2021 08:08:59 +0000</resolved>
                                    <version>1.13.1</version>
                    <version>1.12.4</version>
                                    <fixVersion>1.11.4</fixVersion>
                    <fixVersion>1.14.0</fixVersion>
                    <fixVersion>1.12.5</fixVersion>
                    <fixVersion>1.13.2</fixVersion>
                                    <component>Runtime / Checkpointing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17354879" author="till.rohrmann" created="Tue, 1 Jun 2021 06:58:30 +0000"  >&lt;p&gt;We shipped UC with Flink &lt;tt&gt;1.11.0&lt;/tt&gt;, right &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dwysakowicz&quot; class=&quot;user-hover&quot; rel=&quot;dwysakowicz&quot;&gt;dwysakowicz&lt;/a&gt;? Given that this problem will potentially lead to silent data corruption on a recovery, I would be in favor to also fix this problem in Flink &lt;tt&gt;1.11&lt;/tt&gt; and doing a &quot;last&quot; 1.11 release.&lt;/p&gt;</comment>
                            <comment id="17354880" author="dawidwys" created="Tue, 1 Jun 2021 06:59:35 +0000"  >&lt;p&gt;Sure, sounds good to me&lt;/p&gt;</comment>
                            <comment id="17356254" author="dawidwys" created="Thu, 3 Jun 2021 07:39:35 +0000"  >&lt;p&gt;Fixed in:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;master
	&lt;ul&gt;
		&lt;li&gt;e9677357b161df4c06cdb9d5aa0e96e086809035 83471dd624af412b1b4e81cf9c50b6103c9fc5ab&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.13.2
	&lt;ul&gt;
		&lt;li&gt;c4227cc2237373592cbfe4357a9a9223c516ae66 fec1ccea059d53ad70a3f905a20815d069c665a6&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.12.5
	&lt;ul&gt;
		&lt;li&gt;bdf43992f6761bd994055b3c4fb2f462257cbf5f..1575e532ca0bea25814fb5dbbffed8d78701d633&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;1.11.4
	&lt;ul&gt;
		&lt;li&gt;8f75828107ee076f115ec61119220ecb8de636ca..92b41c5cf01570aab24810cfe148927c10a2bf6f&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17356258" author="pnowojski" created="Thu, 3 Jun 2021 07:41:35 +0000"  >&lt;p&gt;One more thing. Will recovery from an UC taken in 1.13.1 with broadcast partitioning work when upgrading to 1.13.2+? I mean will the recovery of in-flight data stored in broadcast exchange work despite that new UC for that exchanges will be aligned?&lt;/p&gt;</comment>
                            <comment id="17356279" author="dawidwys" created="Thu, 3 Jun 2021 08:17:30 +0000"  >&lt;p&gt;I will double check it, but I think it should be fine.&lt;/p&gt;</comment>
                            <comment id="17365304" author="dawidwys" created="Fri, 18 Jun 2021 08:07:25 +0000"  >&lt;p&gt;Reopen to add release notes.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13378788">FLINK-22686</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0riug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Unaligned checkpoints were disabled for BROADCAST exchanges.&lt;br/&gt;
&lt;br/&gt;
Broadcast partitioning can not work with unaligned checkpointing. There are no guarantees that records are consumed at the same rate in all&lt;br/&gt;
channels. This can result in some tasks applying state changes corresponding to a certain broadcasted event while others don&amp;#39;t. In turn&lt;br/&gt;
upon restore, it may lead to an inconsistent state.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>