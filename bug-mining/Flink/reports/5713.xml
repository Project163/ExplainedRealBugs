<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:59:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-23724] Network buffer leak when ResultPartition is released (failover)</title>
                <link>https://issues.apache.org/jira/browse/FLINK-23724</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;The BufferBuilders in&#160;BufferWritingResultPartition are not properly released when ResultPartition is released.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13394645">FLINK-23724</key>
            <summary>Network buffer leak when ResultPartition is released (failover)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevin.cyj">Yingjie Cao</assignee>
                                    <reporter username="kevin.cyj">Yingjie Cao</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 11 Aug 2021 11:57:26 +0000</created>
                <updated>Thu, 14 Nov 2024 04:51:34 +0000</updated>
                            <resolved>Fri, 20 Aug 2021 08:53:53 +0000</resolved>
                                    <version>1.14.0</version>
                    <version>1.13.2</version>
                                    <fixVersion>1.14.0</fixVersion>
                    <fixVersion>1.13.3</fixVersion>
                                    <component>Runtime / Network</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="17397807" author="kevin.cyj" created="Thu, 12 Aug 2021 04:12:10 +0000"  >&lt;p&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akalashnikov&quot; class=&quot;user-hover&quot; rel=&quot;akalashnikov&quot;&gt;akalashnikov&lt;/a&gt;, do you have time to take a look? If not, I can prepare a patch.&lt;/p&gt;

&lt;p&gt;(I am guessing you are busy with FLIP-183)&lt;/p&gt;</comment>
                            <comment id="17397853" author="pnowojski" created="Thu, 12 Aug 2021 06:37:46 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevin.cyj&quot; class=&quot;user-hover&quot; rel=&quot;kevin.cyj&quot;&gt;kevin.cyj&lt;/a&gt;, that would be great.&lt;/p&gt;</comment>
                            <comment id="17401550" author="ym" created="Thu, 19 Aug 2021 08:56:32 +0000"  >&lt;p&gt;&lt;b&gt;IMPORTANT&lt;/b&gt;&#160;for reference (based on offline discussion) with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevin.cyj&quot; class=&quot;user-hover&quot; rel=&quot;kevin.cyj&quot;&gt;kevin.cyj&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Why pulling&#160;&lt;tt&gt;closeBufferPool&lt;/tt&gt;&#160;into the&#160;&lt;tt&gt;fail&lt;/tt&gt;&#160;method and why not directly calling BufferWritingResultPartition#close() method in task cancelation (same reason why not put bufferbuilder#close in the BufferWritingResultPartition#releaseInternal method).&lt;/p&gt;

&lt;p&gt;Because of potential race condition:&lt;/p&gt;

&lt;p&gt;Task calculation thread and task thread may access&#160;&lt;tt&gt;bufferbuilder&lt;/tt&gt;&#160;at the same time. In the current solution, bufferbuilder release is done in the task#doRun#finally only (task thread only).&lt;/p&gt;</comment>
                            <comment id="17401993" author="ym" created="Fri, 20 Aug 2021 03:14:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevin.cyj&quot; class=&quot;user-hover&quot; rel=&quot;kevin.cyj&quot;&gt;kevin.cyj&lt;/a&gt;, would you please also backport this to&#160;1.13 as well, since it is marked as affecting 1.13 as well.?&lt;/p&gt;</comment>
                            <comment id="17402109" author="ym" created="Fri, 20 Aug 2021 08:53:37 +0000"  >&lt;p&gt;merged commit&#160;&lt;a href=&quot;https://github.com/apache/flink/commit/08f98b748a203097064028e0ea066939d63b18f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;08f98b7&lt;/tt&gt;&lt;/a&gt;&#160;into&#160;apache:master&#160;&lt;/p&gt;

&lt;p&gt;merged commit&#160;&lt;a href=&quot;https://github.com/apache/flink/commit/a7093f188dab148ed3df6588fc640f93c48683a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;a7093f1&lt;/tt&gt;&lt;/a&gt;&#160;into&#160;apache:release-1.13&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13571400">FLINK-34636</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13373865">FLINK-22376</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0tsyg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>