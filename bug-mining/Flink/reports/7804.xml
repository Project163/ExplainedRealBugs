<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:22:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-37616] PyFlink incorrectly unpickles Row fields within a Row</title>
                <link>https://issues.apache.org/jira/browse/FLINK-37616</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;If you call &lt;tt&gt;TableEnvironment.from_elements&lt;/tt&gt; where one of the fields in the row contains a &lt;tt&gt;Row&lt;/tt&gt; Type, for example where one of the values you pass in is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[
  &#160; Row(&lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink1A&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink2A&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink3A&quot;&lt;/span&gt;),
  &#160; Row(&lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink1B&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink2B&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink3B&quot;&lt;/span&gt;),
  &#160; Row(&lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink1C&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink2C&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pyflink3C&quot;&lt;/span&gt;),
],&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where the schema for the field is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
DataTypes.ARRAY(
&#160; &#160; DataTypes.ROW(
&#160; &#160; &#160; &#160; [
&#160; &#160; &#160; &#160; &#160; &#160; DataTypes.FIELD(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, DataTypes.STRING()),
&#160; &#160; &#160; &#160; &#160; &#160; DataTypes.FIELD(&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, DataTypes.STRING()),
&#160; &#160; &#160; &#160; &#160; &#160; DataTypes.FIELD(&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;, DataTypes.STRING()),
&#160; &#160; &#160; &#160; ]
&#160; &#160; )
),&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you call &lt;tt&gt;execute().collect()&lt;/tt&gt; on the table, the array is returned as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[
    &amp;lt;Row([&lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink1a&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink2a&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink3a&apos;&lt;/span&gt;])&amp;gt;,
    &amp;lt;Row([&lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink1b&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink2b&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink3b&apos;&lt;/span&gt;])&amp;gt;,
    &amp;lt;Row([&lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink1c&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink2c&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;pyflink3c&apos;&lt;/span&gt;])&amp;gt;
]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead of each &lt;tt&gt;Row&lt;/tt&gt; having 3 values, the collected row only has 1 value, which is now a list of the actual values in the row. The input and output rows are no longer equal (as their internal _values collection are no longer equal, one being a list of strings and the other being a list of a list of strings). The len() of the source Row is correctly returned as 3, but the collected row incorrectly reports a len() of 1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13614205">FLINK-37616</key>
            <summary>PyFlink incorrectly unpickles Row fields within a Row</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="autophagian">Mika Naylor</assignee>
                                    <reporter username="autophagian">Mika Naylor</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 4 Apr 2025 12:30:56 +0000</created>
                <updated>Tue, 8 Apr 2025 07:59:40 +0000</updated>
                            <resolved>Tue, 8 Apr 2025 07:59:40 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                    <component>API / Python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17941810" author="sergey nuyanzin" created="Tue, 8 Apr 2025 07:59:33 +0000"  >&lt;p&gt;Merged as &lt;a href=&quot;https://github.com/apache/flink/commit/ec810badf19dc6eeef46230dfcb690c88bf211cd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ec810badf19dc6eeef46230dfcb690c88bf211cd&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Python</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v6kg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>