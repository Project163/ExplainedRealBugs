<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:07:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-23049] UnalignedCheckpointCompatibilityITCase hangs on azure</title>
                <link>https://issues.apache.org/jira/browse/FLINK-23049</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=19175&amp;amp;view=logs&amp;amp;j=219e462f-e75e-506c-3671-5017d866ccf6&amp;amp;t=4c5dc768-5c82-5ab0-660d-086cb90b76a0&amp;amp;l=6390&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=19175&amp;amp;view=logs&amp;amp;j=219e462f-e75e-506c-3671-5017d866ccf6&amp;amp;t=4c5dc768-5c82-5ab0-660d-086cb90b76a0&amp;amp;l=6390&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; #1 prio=5 os_prio=0 tid=0x00007f521000b800 nid=0x3735 waiting on condition [0x00007f5217938000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
	at org.apache.flink.test.checkpointing.UnalignedCheckpointCompatibilityITCase.waitForChild(UnalignedCheckpointCompatibilityITCase.java:188)
	at org.apache.flink.test.checkpointing.UnalignedCheckpointCompatibilityITCase.runAndTakeExternalCheckpoint(UnalignedCheckpointCompatibilityITCase.java:166)
	at org.apache.flink.test.checkpointing.UnalignedCheckpointCompatibilityITCase.test(UnalignedCheckpointCompatibilityITCase.java:133)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.apache.flink.util.TestNameProvider$1.evaluate(TestNameProvider.java:45)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13384760">FLINK-23049</key>
            <summary>UnalignedCheckpointCompatibilityITCase hangs on azure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="akalashnikov">Anton Kalashnikov</assignee>
                                    <reporter username="xtsong">Xintong Song</reporter>
                        <labels>
                            <label>pull-request-available</label>
                            <label>test-stability</label>
                    </labels>
                <created>Mon, 21 Jun 2021 02:53:02 +0000</created>
                <updated>Tue, 5 Oct 2021 14:16:05 +0000</updated>
                            <resolved>Tue, 5 Oct 2021 14:16:05 +0000</resolved>
                                    <version>1.14.0</version>
                    <version>1.13.2</version>
                                    <fixVersion>1.15.0</fixVersion>
                                    <component>Runtime / Checkpointing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17405817" author="akalashnikov" created="Fri, 27 Aug 2021 13:07:28 +0000"  >&lt;p&gt;Unfortunately, there is no full log left so it is not possible to check for the possible exceptions. But maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roman_khachatryan&quot; class=&quot;user-hover&quot; rel=&quot;roman_khachatryan&quot;&gt;roman_khachatryan&lt;/a&gt;, do you have any idea why&#160;`waitForChild(checkpointDir, (dir, name) -&amp;gt; name.equals(&quot;_metadata&quot;))` inside of `UnalignedCheckpointCompatibilityITCase#runAndTakeExternalCheckpoint` can stuck forever? Also, as I can see this fail happened only once a couple of months ago, so maybe we already made the fix for this problem?&lt;/p&gt;</comment>
                            <comment id="17405838" author="roman_khachatryan" created="Fri, 27 Aug 2021 13:44:36 +0000"  >&lt;p&gt;That function can stuck apparently when no checkpoint is produced.&lt;/p&gt;

&lt;p&gt;From the log, I see that the source task was not stopped and was waiting for the cancellation.&lt;/p&gt;

&lt;p&gt;Cancellation was expected from stop-with-savepoint (UnalignedCheckpointCompatibilityITCase.runAndTakeExternalCheckpoint).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;So probably something happened while stopping job with savepoint; it was modified and had some bug fixes recently, so probably it&apos;s not relevant anymore.&lt;/p&gt;</comment>
                            <comment id="17405839" author="pnowojski" created="Fri, 27 Aug 2021 13:44:36 +0000"  >&lt;p&gt;Isn&apos;t this related some somehow to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-23647&quot; title=&quot;UnalignedCheckpointStressITCase crashed on azure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-23647&quot;&gt;&lt;del&gt;FLINK-23647&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17405842" author="roman_khachatryan" created="Fri, 27 Aug 2021 13:47:38 +0000"  >&lt;p&gt;It seems unrelated to &lt;a href=&quot;https://issues.apache.org/jira/browse/FLINK-23647&quot; title=&quot;UnalignedCheckpointStressITCase crashed on azure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLINK-23647&quot;&gt;&lt;del&gt;FLINK-23647&lt;/del&gt;&lt;/a&gt;: there, an error occurs when a checkpoint is aborted (not hanging up).&#160;&lt;/p&gt;</comment>
                            <comment id="17405846" author="pnowojski" created="Fri, 27 Aug 2021 13:56:22 +0000"  >&lt;p&gt;As the test has changed and the issue waiting for _metadata file was almost definitely a test code issue, let&apos;s close it as cannot reproduce. If it happens again we can investigate once more.&lt;/p&gt;

&lt;p&gt;Thanks for taking a look into this one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akalashnikov&quot; class=&quot;user-hover&quot; rel=&quot;akalashnikov&quot;&gt;akalashnikov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17418078" author="dawidwys" created="Tue, 21 Sep 2021 12:04:10 +0000"  >&lt;p&gt;happened on 1.13, should we reopen &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnowojski&quot; class=&quot;user-hover&quot; rel=&quot;pnowojski&quot;&gt;pnowojski&lt;/a&gt;? &lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=24337&amp;amp;view=logs&amp;amp;j=21408240-6569-5a01-c099-3adfe83ce651&amp;amp;t=b2761bb8-3852-5a0d-bc43-6a1d327b63cb&amp;amp;l=14152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=24337&amp;amp;view=logs&amp;amp;j=21408240-6569-5a01-c099-3adfe83ce651&amp;amp;t=b2761bb8-3852-5a0d-bc43-6a1d327b63cb&amp;amp;l=14152&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17424491" author="dawidwys" created="Tue, 5 Oct 2021 14:16:05 +0000"  >&lt;p&gt;Fixed in 1.15 in e7d1bfbbb0bbf57007cbd0028fba3db065e249e9&lt;/p&gt;

&lt;p&gt;For older versions we plan to see how often it happens, so far it is not too prominent.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0s41k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>