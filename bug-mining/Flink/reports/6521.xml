<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 21:11:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-28357] Watermark issue when recovering Finished sources</title>
                <link>https://issues.apache.org/jira/browse/FLINK-28357</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;Copied mostly from email trail on the flink user mailing list:&lt;/p&gt;

&lt;p&gt;I done a lot of experimentation and I&#8217;m convinced there is a problem with Flink handling Finished sources and recovery.&#160;&lt;/p&gt;

&lt;p&gt;The program consists of:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Two sources:
	&lt;ul&gt;
		&lt;li&gt;One &#8220;Long Running Source&#8221; &#8211; stays alive and emits a watermark of DateTime.now() every 10 seconds.
		&lt;ul&gt;
			&lt;li&gt;Prints the console a message saying the watermark has been emitted.&lt;/li&gt;
			&lt;li&gt;&lt;b&gt;Throws an exception every 5 or 10 iterations to force a recovery.&lt;/b&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;One &#8220;Short Lived Source&#8221; &#8211; emits a Long.MAX_VALUE watermark, prints a message to the console and returns.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;The &#8220;Short Live Source&#8221; feeds into a map() and then it joins with the &#8220;Long Running Source&#8221; with a KeyedCoProcessFunction. Moves to &#8220;FINISHED&#8221; state by Flink.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The problem here is that the &#8220;Join&#8221; receives no Long.MAX_VALUE watermark from the map() in some situations after a recovery. The dashboard goes from showing this:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://attachment.outlook.live.net/owa/MSA%3Ajas_sl%40hotmail.com/service.svc/s/GetAttachmentThumbnail?id=AQMkADAwATEyMTk3LTZiMDQtODBkMi0wMAItMDAKAEYAAAOeUdiydD9QS6CQDK1Dg0olBwACkmHn2W1HRKQHhbPYmGe%2BAASF%2B488AAAAApJh59ltR0SkB4Wz2JhnvgAFXJ9puQAAAAESABAAyemY6ar4b0GAFLHn3hpyCw%3D%3D&amp;amp;thumbnailType=2&amp;amp;isc=1&amp;amp;token=eyJhbGciOiJSUzI1NiIsImtpZCI6IkZBRDY1NDI2MkM2QUYyOTYxQUExRThDQUI3OEZGMUIyNzBFNzA3RTkiLCJ0eXAiOiJKV1QiLCJ4NXQiOiItdFpVSml4cThwWWFvZWpLdDRfeHNuRG5CLWsifQ.eyJvcmlnaW4iOiJodHRwczovL291dGxvb2subGl2ZS5jb20iLCJ1YyI6IjMwMDU4MTIzODAzMzRlMmZhNzE5ZGUxOTNjNjA4NjQ3IiwidmVyIjoiRXhjaGFuZ2UuQ2FsbGJhY2suVjEiLCJhcHBjdHhzZW5kZXIiOiJPd2FEb3dubG9hZEA4NGRmOWU3Zi1lOWY2LTQwYWYtYjQzNS1hYWFhYWFhYWFhYWEiLCJpc3NyaW5nIjoiV1ciLCJhcHBjdHgiOiJ7XCJtc2V4Y2hwcm90XCI6XCJvd2FcIixcInB1aWRcIjpcIjMxODQwOTE5NTk0NjE5NFwiLFwic2NvcGVcIjpcIk93YURvd25sb2FkXCIsXCJvaWRcIjpcIjAwMDEyMTk3LTZiMDQtODBkMi0wMDAwLTAwMDAwMDAwMDAwMFwiLFwicHJpbWFyeXNpZFwiOlwiUy0xLTI4MjctNzQxMzUtMTc5NTQ1NzIzNFwifSIsIm5iZiI6MTY1NjY4ODI3OCwiZXhwIjoxNjU2Njg4ODc4LCJpc3MiOiIwMDAwMDAwMi0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDBAODRkZjllN2YtZTlmNi00MGFmLWI0MzUtYWFhYWFhYWFhYWFhIiwiYXVkIjoiMDAwMDAwMDItMDAwMC0wZmYxLWNlMDAtMDAwMDAwMDAwMDAwL2F0dGFjaG1lbnQub3V0bG9vay5saXZlLm5ldEA4NGRmOWU3Zi1lOWY2LTQwYWYtYjQzNS1hYWFhYWFhYWFhYWEiLCJoYXBwIjoib3dhIn0.KI4I55ycdP1duIwxyYZstLCtnNOwEkyTxfEwK_5a35-ZLMrKd8zHCB5Elw-9-A9UHIxFGSYOlwnHXRvDT0xa6FqFIlO8cnebBRLKv9DhxHwfZqdKWIeF2EcUqwH0ejeA3RvD3-dR95iHPTf52-tuKi27nclPUUEJgbfRWQY3wHMDAFLLaLvKM6AV5S1IhGjBmy3MF_1oulTXbqRZx0ar3L8YQiHEGnfKGjFO2zSxQcTZXAp_rch4HIrVv9GSEcQnD7nBhWPBuuzuvXOvJiUzg0u_e9CUuf1-OcQwhUV3cf7cvme8JadfliY6ywkOne1OZsclQeDFc8EnGZke3l2V_Q&amp;amp;X-OWA-CANARY=Es9QgEoDXEyksG3kZxXeMGC1LvlzW9oYJ-lyWNl-xblWQjmqz5FH_a2-eHuR6Zr51XNjigQpQDs.&amp;amp;owa=outlook.live.com&amp;amp;scriptVer=20220617005.11&amp;amp;animation=true&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;To the below after a recovery (with the currentInput1/2Watermark metrics showing input 2 having not received a watermark from the map, saying &#8211;Long.MAX_VALUE):&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13046161/13046161_image-2022-07-01-16-18-14-768.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The program is currently set to checkpoint every 5 seconds. By experimenting with 70 seconds, it seems that if only one checkpoint has been taken with the &#8220;Short Lived Source&#8221; in a FINISHED state since the last recovery then everything works fine and the restarted &#8220;Short Lived Source&#8221; emits its watermark and I see the &#8220;ShortedLivedEmptySource emitting Long.MAX_VALUE watermark&#8221; message on the console meaning the run() definitely executed. However, I found that if 2 or more checkpoints are taken since the last recovery with the source in a FINISHED state then the console message does not appear and the watermark is not emitted.&lt;/p&gt;

&lt;p&gt;To repeat &#8211; the Join does not get a Long.MAX_VALUE watermark from my source or Flink if I see two or more checkpoints logged in between recoveries. If zero or checkpoints are made, everything is fine &#8211; the join gets the watermark and I see my console message. You can play with the checkpointing frequency as per the code comments:&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; // Useful checkpoint interval options:&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; //&#160;&#160;&#160; 5 - see the problem after the first recovery&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; //&#160;&#160; 70 - useful to see bad behaviour kick in after a recovery or two&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; //&#160; 120 - won&apos;t see the problem as we don&apos;t have 2 checkpoints within a single recovery session&lt;/p&gt;

&lt;p&gt;If I merge the Triggering/Completed checkpoint messages in the log with my console output I see something like this clearly showing the &#8220;Short Lived Source&#8221; run() method is not executed after 2 checkpoints with the operators marked as FINISHED:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;2022-06-29T11:52:31.268Z:&#160;&lt;b&gt;ShortLivedEmptySource&lt;/b&gt;&#160;emitting Long.MAX_VALUE watermark.&lt;/p&gt;

&lt;p&gt;2022-06-29T11:52:31.293Z: LongRunningSource emitting initial watermark=1656503551268&lt;/p&gt;

&lt;p&gt;2022-06-29T11:52:41.302Z: LongRunningSource emitting loop watermark=1656503561302&lt;/p&gt;

&lt;p&gt;2022-06-29T11:52:51.302Z: LongRunningSource emitting loop watermark=1656503571302&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:01.303Z: LongRunningSource emitting loop watermark=1656503581303&lt;/p&gt;

&lt;p&gt;2022-06-29 11:53:02.772 INFO&#160; &lt;span class=&quot;error&quot;&gt;&amp;#91;Checkpoint Timer&amp;#93;&lt;/span&gt; o.a.f.r.c.CheckpointCoordinator&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Triggering checkpoint 1 (type=CheckpointType{name=&apos;Checkpoint&apos;, sharingFilesStrategy=FORWARD_BACKWARD})&lt;/p&gt;

&lt;p&gt;2022-06-29 11:53:02.870 INFO&#160; &lt;span class=&quot;error&quot;&gt;&amp;#91;jobmanager-io-thread-10&amp;#93;&lt;/span&gt; o.a.f.r.c.CheckpointCoordinator&#160;&#160;&#160; Completed checkpoint 1 for job 877656d7752bc1304c2cb92790e6aefb&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:11.303Z: LongRunningSource emitting loop watermark=1656503591303&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:21.304Z: LongRunningSource emitting loop watermark=1656503601304&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:21.304Z: ------------------ Recovery ------------------&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:22.405Z: LongRunningSource emitting initial watermark=1656503602405&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:22.408Z:&#160;&lt;b&gt;ShortLivedEmptySource&lt;/b&gt;&#160;emitting Long.MAX_VALUE watermark.&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:32.406Z: LongRunningSource emitting loop watermark=1656503612406&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:42.406Z: LongRunningSource emitting loop watermark=1656503622406&lt;/p&gt;

&lt;p&gt;2022-06-29 11:53:51.048 INFO&#160; &lt;span class=&quot;error&quot;&gt;&amp;#91;Checkpoint Timer&amp;#93;&lt;/span&gt; o.a.f.r.c.CheckpointCoordinator&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Triggering checkpoint 2 (type=CheckpointType{name=&apos;Checkpoint&apos;, sharingFilesStrategy=FORWARD_BACKWARD})&lt;/p&gt;

&lt;p&gt;2022-06-29 11:53:51.067 INFO&#160; &lt;span class=&quot;error&quot;&gt;&amp;#91;jobmanager-io-thread-4&amp;#93;&lt;/span&gt; o.a.f.r.c.CheckpointCoordinator&#160;&#160;&#160;&#160; Completed checkpoint 2 for job 877656d7752bc1304c2cb92790e6aefb&lt;/p&gt;

&lt;p&gt;2022-06-29T11:53:52.407Z: LongRunningSource emitting loop watermark=1656503632407&lt;/p&gt;

&lt;p&gt;2022-06-29T11:54:02.407Z: LongRunningSource emitting loop watermark=1656503642407&lt;/p&gt;

&lt;p&gt;2022-06-29T11:54:12.408Z: LongRunningSource emitting loop watermark=1656503652408&lt;/p&gt;

&lt;p&gt;2022-06-29T11:54:22.408Z: LongRunningSource emitting loop watermark=1656503662408&lt;/p&gt;

&lt;p&gt;2022-06-29T11:54:32.409Z: LongRunningSource emitting loop watermark=1656503672409&lt;/p&gt;

&lt;p&gt;2022-06-29T11:54:42.409Z: LongRunningSource emitting loop watermark=1656503682409&lt;/p&gt;

&lt;p&gt;2022-06-29T11:54:52.410Z: LongRunningSource emitting loop watermark=1656503692410&lt;/p&gt;

&lt;p&gt;2022-06-29 11:55:01.048 INFO&#160; &lt;span class=&quot;error&quot;&gt;&amp;#91;Checkpoint Timer&amp;#93;&lt;/span&gt; o.a.f.r.c.CheckpointCoordinator&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Triggering checkpoint 3 (type=CheckpointType{name=&apos;Checkpoint&apos;, sharingFilesStrategy=FORWARD_BACKWARD})&lt;/p&gt;

&lt;p&gt;2022-06-29 11:55:01.057 INFO&#160; &lt;span class=&quot;error&quot;&gt;&amp;#91;jobmanager-io-thread-10&amp;#93;&lt;/span&gt; o.a.f.r.c.CheckpointCoordinator&#160;&#160;&#160; Completed checkpoint 3 for job 877656d7752bc1304c2cb92790e6aefb&lt;/p&gt;

&lt;p&gt;2022-06-29T11:55:02.410Z: LongRunningSource emitting loop watermark=1656503702410&lt;/p&gt;

&lt;p&gt;2022-06-29T11:55:02.411Z: ------------------ Recovery ------------------&lt;/p&gt;

&lt;p&gt;2022-06-29T11:55:03.445Z: LongRunningSource emitting initial watermark=1656503703444&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; NO &#8220;ShortLivedEmptySource&#8221; message after recovery&lt;/p&gt;

&lt;p&gt;2022-06-29T11:55:13.446Z: LongRunningSource emitting loop watermark=1656503713445&lt;/p&gt;

&lt;p&gt;2022-06-29T11:55:23.446Z: LongRunningSource emitting loop watermark=1656503723446&lt;/p&gt;

&lt;p&gt;2022-06-29T11:55:33.446Z: LongRunningSource emitting loop watermark=1656503733446&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have also attached a longer example with shows everything working fine after 5 recoveries, and then breaking after the 6&lt;sup&gt;th&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;I am guessing here it has something to do with the checkpointing and recovery of a FINISHED source.&lt;/p&gt;

&lt;p&gt;Finally, here are some ways that allows the code to work:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Change the code so the &#8220;Short Lived Source&#8221; doesn&#8217;t return from run() and stays RUNNING (uncomment the Thread.sleep)&lt;/li&gt;
	&lt;li&gt;As I mentioned before, if I remove the map() operator the problem in the join also goes away. (I don&#8217;t see the console output but the join is happy)&lt;/li&gt;
	&lt;li&gt;Use a long enough checkpoint interval (e.g. 120 seconds) so we don&#8217;t have two checkpoints with FINISHED state per recovery.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The fact these changes prevent the issue means I really think there&#8217;s some bug or inconsistency here &#8211; if somebody could explain I would really appreciate it.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;This can be reproduced in an IDE with the attached sample program.&lt;/p&gt;</environment>
        <key id="13469687">FLINK-28357</key>
            <summary>Watermark issue when recovering Finished sources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pnowojski">Piotr Nowojski</assignee>
                                    <reporter username="Sandys-Lumsdaine">James</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 1 Jul 2022 15:21:14 +0000</created>
                <updated>Sat, 9 Jul 2022 15:34:45 +0000</updated>
                            <resolved>Thu, 7 Jul 2022 12:31:33 +0000</resolved>
                                    <version>1.15.0</version>
                                    <fixVersion>1.16.0</fixVersion>
                    <fixVersion>1.15.2</fixVersion>
                    <fixVersion>1.14.6</fixVersion>
                                    <component>Runtime / Checkpointing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17562234" author="pnowojski" created="Mon, 4 Jul 2022 16:38:00 +0000"  >&lt;p&gt;Thanks for the bug report. Indeed there was a bug where max watermark was being swallowed by this non chained map.&lt;/p&gt;

&lt;p&gt;The problem was that &lt;tt&gt;FinishedOnRestoreInput#FinishedOnRestoreInput&lt;/tt&gt; was being constructed with wrong number of inputs, because of some accidental &lt;tt&gt;null&lt;/tt&gt; passed from the &lt;tt&gt;StreamGraphGenerator&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Just note that even with the bug fix (please see my PR), you will still not see the printed message from the short lived source:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;System.out.println(String.format(&quot;%s: ShortLivedEmptySource emitting Long.MAX_VALUE watermark.&quot;, DateTime.now()));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;as after recovery this source is never started, so the code never reaches the run method. And that&apos;s fine, MAX_WATERMARK is emitted by the framework.&lt;/p&gt;
</comment>
                            <comment id="17562404" author="JIRAUSER292109" created="Tue, 5 Jul 2022 07:09:41 +0000"  >&lt;p&gt;Great - thanks for the feedback. Understood about the source not starting again after being marked as Finished and the framework emitting a MAX_WATERMARK - this is the behaviour I was expecting.&lt;/p&gt;</comment>
                            <comment id="17562405" author="JIRAUSER292109" created="Tue, 5 Jul 2022 07:11:03 +0000"  >&lt;p&gt;Also - you say &quot;non-chained map&quot; but &lt;ins&gt;I believe this problem also occured with operator chaining&lt;/ins&gt;. I disabled operator chaining in my test program to make it clearer what was going on.&lt;/p&gt;</comment>
                            <comment id="17562485" author="pnowojski" created="Tue, 5 Jul 2022 08:44:41 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Also - you say &quot;non-chained map&quot; but I believe this problem also occurred with operator chaining. I disabled operator chaining in my test program to make it clearer what was going on.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Are you sure? I can not reproduce this problem with or without my fix when chaining is enabled. There might be another issue lurking somewhere around, but I can not reproduce it at the moment. If you could confirm that there was no problem with enabled chaining, or if you could provide some reproduction steps (ideally modify &lt;a href=&quot;https://github.com/apache/flink/pull/20158/commits/2db367614bb16c6af714cb8c0cfefbb4ace272f3#diff-24e86c59d8547cbd9a95f798d3e0c300daa99dae9fba5be017ed4b2143bd5787&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the ITCase that I&apos;m adding in my PR&lt;/a&gt;. This ITCase would livelock/never finish if the watermarks stagnate after recovery), that would be great. Just note what I wrote before, that verifying this issue based on messages printed from the sources won&apos;t work. &lt;/p&gt;</comment>
                            <comment id="17563760" author="pnowojski" created="Thu, 7 Jul 2022 12:31:33 +0000"  >&lt;p&gt;I&apos;ve merged the non-chained tasks fix. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sandys-Lumsdaine&quot; class=&quot;user-hover&quot; rel=&quot;Sandys-Lumsdaine&quot;&gt;Sandys-Lumsdaine&lt;/a&gt; if you think there is still another bug present, please feel free to re-open the ticket.&lt;/p&gt;

&lt;p&gt;merged commit 574ffa4 into apache:master&lt;br/&gt;
merged commit fa4b327 into apache:release-1.14&lt;br/&gt;
merged commit 5c1d412 into apache:release-1.15&lt;/p&gt;</comment>
                            <comment id="17564346" author="JIRAUSER292109" created="Fri, 8 Jul 2022 16:08:25 +0000"  >&lt;p&gt;Hello - sorry been busy and just got round to rechecking my test program.&#160;&lt;/p&gt;

&lt;p&gt;If I comment out the line &quot;env.disableOperatorChaining();&quot; to allow operator chaining the issue also occurs. The screenshot of the dashboard after a recovery and the watermark not working properly is shown below:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13046462/13046462_image-2022-07-08-17-06-01-256.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;As you can see input2 for the join is saying Long.MIN_VALUE meaning the framework didn&apos;t trasnmit the watermark on behalf of my finished source (I didn&apos;t see the console message as you describe because it is finished).&lt;/p&gt;

&lt;p&gt;If you&apos;re having trouble reproducing on 1.15.0 before your fix, try changing the checkpointing frequency to 5 * 1000 instead of 70 as per my comments. For me that cause the issue immediately after the first recovery.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;BTW, I can&apos;t re-open this issue as you describe - not sure if I have perms etc.&lt;/p&gt;</comment>
                            <comment id="17564584" author="JIRAUSER292109" created="Sat, 9 Jul 2022 14:26:48 +0000"  >&lt;p&gt;Maybe my example above is actually the same scenario as before.... if you&apos;re happy the chaining above isn&apos;t relevant for this bug I&apos;m happy too.&lt;/p&gt;</comment>
                            <comment id="17564588" author="pnowojski" created="Sat, 9 Jul 2022 15:34:45 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sandys-Lumsdaine&quot; class=&quot;user-hover&quot; rel=&quot;Sandys-Lumsdaine&quot;&gt;Sandys-Lumsdaine&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Maybe my example above is actually the same scenario as before....&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, it looks like that. On the screen shot above for whatever a reason the &lt;tt&gt;Empty Stream Map&lt;/tt&gt; is not chained with the &lt;tt&gt;Short Running Source&lt;/tt&gt;. I&apos;m not sure why, maybe you have slot sharing disabled, or maybe there is a keyed exchange before the &lt;tt&gt;Empty Stream Map&lt;/tt&gt; (note that in my ITCase I&apos;ve removed keyed exchanges). You can see that for example &lt;tt&gt;Join&lt;/tt&gt; and &lt;tt&gt;Sink: Join Sink&lt;/tt&gt; operators are chained together in one single task. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13046159" name="WatermarkDemoMain.java" size="7346" author="Sandys-Lumsdaine" created="Fri, 1 Jul 2022 15:21:03 +0000"/>
                            <attachment id="13046161" name="image-2022-07-01-16-18-14-768.png" size="31135" author="Sandys-Lumsdaine" created="Fri, 1 Jul 2022 15:18:13 +0000"/>
                            <attachment id="13046462" name="image-2022-07-08-17-06-01-256.png" size="52216" author="Sandys-Lumsdaine" created="Fri, 8 Jul 2022 16:06:01 +0000"/>
                            <attachment id="13046160" name="longExample.txt" size="10436" author="Sandys-Lumsdaine" created="Fri, 1 Jul 2022 15:21:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16jhs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>