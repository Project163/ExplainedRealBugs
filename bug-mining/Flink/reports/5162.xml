<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 20:54:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLINK-21879] ActiveResourceManagerTest.testWorkerRegistrationTimeoutNotCountingAllocationTime fails on AZP</title>
                <link>https://issues.apache.org/jira/browse/FLINK-21879</link>
                <project id="12315522" key="FLINK">Flink</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15047&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=6760&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15047&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=6760&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] testWorkerRegistrationTimeoutNotCountingAllocationTime(org.apache.flink.runtime.resourcemanager.active.ActiveResourceManagerTest)  Time elapsed: 0.388 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: 

Expected: an instance of org.apache.flink.runtime.registration.RegistrationResponse$Success
     but: &amp;lt;Rejected TaskExecutor registration at the ResourceManger because: The ResourceManager does not recognize &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; TaskExecutor.&amp;gt; is a org.apache.flink.runtime.taskexecutor.TaskExecutorRegistrationRejection
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.junit.Assert.assertThat(Assert.java:956)
	at org.junit.Assert.assertThat(Assert.java:923)
	at org.apache.flink.runtime.resourcemanager.active.ActiveResourceManagerTest$13.lambda$&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;$2(ActiveResourceManagerTest.java:789)
	at org.apache.flink.runtime.resourcemanager.active.ActiveResourceManagerTest$Context.runTest(ActiveResourceManagerTest.java:857)
	at org.apache.flink.runtime.resourcemanager.active.ActiveResourceManagerTest$13.&amp;lt;init&amp;gt;(ActiveResourceManagerTest.java:770)
	at org.apache.flink.runtime.resourcemanager.active.ActiveResourceManagerTest.testWorkerRegistrationTimeoutNotCountingAllocationTime(ActiveResourceManagerTest.java:753)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.apache.flink.util.TestNameProvider$1.evaluate(TestNameProvider.java:45)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13366371">FLINK-21879</key>
            <summary>ActiveResourceManagerTest.testWorkerRegistrationTimeoutNotCountingAllocationTime fails on AZP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="trohrmann">Till Rohrmann</assignee>
                                    <reporter username="fpaul">Fabian Paul</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 19 Mar 2021 14:29:23 +0000</created>
                <updated>Sat, 28 Aug 2021 11:14:40 +0000</updated>
                            <resolved>Fri, 16 Apr 2021 08:38:33 +0000</resolved>
                                    <version>1.13.0</version>
                                    <fixVersion>1.13.0</fixVersion>
                                    <component>Runtime / Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17304955" author="dawidwys" created="Fri, 19 Mar 2021 15:00:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15036&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=6752&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15036&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=6752&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17305758" author="roman_khachatryan" created="Sun, 21 Mar 2021 19:59:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15060&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15060&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17305890" author="maguowei" created="Mon, 22 Mar 2021 05:12:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15137&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&amp;amp;l=8252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15137&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&amp;amp;l=8252&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17306430" author="till.rohrmann" created="Mon, 22 Mar 2021 17:19:27 +0000"  >&lt;p&gt;I think the problem could be caused by completing the &lt;tt&gt;requestResourceFuture&lt;/tt&gt; not in the main thread as required by &lt;tt&gt;ResourceManagerDriver#requestResource&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17307060" author="till.rohrmann" created="Tue, 23 Mar 2021 13:26:01 +0000"  >&lt;p&gt;Fixed via d80fa036efbd8de03d04535d636355be2c357c81&lt;/p&gt;</comment>
                            <comment id="17311141" author="kevin.cyj" created="Tue, 30 Mar 2021 05:21:04 +0000"  >&lt;p&gt;The test seems still fails:&#160;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15744&amp;amp;view=logs&amp;amp;j=a57e0635-3fad-5b08-57c7-a4142d7d6fa9&amp;amp;t=5360d54c-8d94-5d85-304e-a89267eb785a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15744&amp;amp;view=logs&amp;amp;j=a57e0635-3fad-5b08-57c7-a4142d7d6fa9&amp;amp;t=5360d54c-8d94-5d85-304e-a89267eb785a&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17311216" author="dawidwys" created="Tue, 30 Mar 2021 07:24:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15710&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=6772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15710&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=6772&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17311548" author="dawidwys" created="Tue, 30 Mar 2021 14:20:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15774&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=6687&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15774&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=6687&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17312691" author="pnowojski" created="Wed, 31 Mar 2021 20:19:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15915&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=15915&amp;amp;view=logs&amp;amp;j=0da23115-68bb-5dcd-192c-bd4c8adebde1&amp;amp;t=05b74a19-4ee4-5036-c46f-ada307df6cf0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17313417" author="till.rohrmann" created="Thu, 1 Apr 2021 20:01:33 +0000"  >&lt;p&gt;The problem seems to be that AZP is not very fast. Test relies on the fact that a `TaskExecutor` registers within 50ms. However, in the logs on can see that there are gaps of 250ms which causes the test to fail.&lt;/p&gt;</comment>
                            <comment id="17315422" author="till.rohrmann" created="Tue, 6 Apr 2021 10:20:43 +0000"  >&lt;p&gt;Further hardened via&lt;/p&gt;

&lt;p&gt;master: 97f3330021a768cf796241618cc34652b024ffcd&lt;/p&gt;</comment>
                            <comment id="17316117" author="dawidwys" created="Wed, 7 Apr 2021 08:32:14 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=trohrmann&quot; class=&quot;user-hover&quot; rel=&quot;trohrmann&quot;&gt;trohrmann&lt;/a&gt; just letting you know that I created the 1.13 branch accidentally when creating the rc0. It is not a proper 1.13 branch yet. There is no need to merge it there yet. We will announce the actual cut off in the ML. &lt;/p&gt;</comment>
                            <comment id="17319912" author="maguowei" created="Tue, 13 Apr 2021 05:54:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=16357&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=5875&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dev.azure.com/apache-flink/apache-flink/_build/results?buildId=16357&amp;amp;view=logs&amp;amp;j=34f41360-6c0d-54d3-11a1-0292a2def1d9&amp;amp;t=2d56e022-1ace-542f-bf1a-b37dd63243f2&amp;amp;l=5875&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="17322723" author="till.rohrmann" created="Fri, 16 Apr 2021 08:38:33 +0000"  >&lt;p&gt;Hopefully finally fixed via ebfdf2a5ba744c6fca2dc793878ffecc6be34c15&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ozfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>